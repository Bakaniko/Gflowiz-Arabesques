!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=84)}([function(t,e,n){"use strict";n.d(e,"b",function(){return s}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return u}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return h}),n.d(e,"h",function(){return f}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return g}),n.d(e,"l",function(){return m}),n.d(e,"m",function(){return v}),n.d(e,"n",function(){return y}),n.d(e,"o",function(){return _}),n.d(e,"p",function(){return b}),n.d(e,"q",function(){return x}),n.d(e,"r",function(){return w}),n.d(e,"s",function(){return C}),n.d(e,"t",function(){return M}),n.d(e,"u",function(){return I}),n.d(e,"v",function(){return O}),n.d(e,"w",function(){return T}),n.d(e,"x",function(){return N}),n.d(e,"y",function(){return k}),n.d(e,"z",function(){return P}),n.d(e,"A",function(){return A}),n.d(e,"B",function(){return L}),n.d(e,"C",function(){return D}),n.d(e,"D",function(){return R}),n.d(e,"E",function(){return j}),n.d(e,"F",function(){return F}),n.d(e,"H",function(){return z}),n.d(e,"I",function(){return B}),n.d(e,"J",function(){return G}),n.d(e,"G",function(){return q}),n.d(e,"a",function(){return H});var i=n(11),r=n(75),o=n(34);function s(t){for(var e=d(),n=0,i=t.length;n<i;++n)w(e,t[n]);return e}function a(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function l(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function u(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function c(t,e){return f(t,e[0],e[1])}function h(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function f(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function p(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],a=e[0],l=e[1],u=o.a.UNKNOWN;return a<n?u|=o.a.LEFT:a>r&&(u|=o.a.RIGHT),l<i?u|=o.a.BELOW:l>s&&(u|=o.a.ABOVE),u===o.a.UNKNOWN&&(u=o.a.INTERSECTING),u}function d(){return[1/0,1/0,-1/0,-1/0]}function g(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function m(t){return g(1/0,1/0,-1/0,-1/0,t)}function v(t,e){var n=t[0],i=t[1];return g(n,i,n,i,e)}function y(t,e){return E(m(e),t)}function _(t,e,n,i,r){return C(m(r),t,e,n,i)}function b(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function x(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function w(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function E(t,e){for(var n=0,i=e.length;n<i;++n)w(t,e[n]);return t}function C(t,e,n,i,r){for(;n<i;n+=r)S(t,e[n],e[n+1]);return t}function S(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function M(t,e,n){var i;return(i=e.call(n,O(t)))?i:(i=e.call(n,T(t)))?i:(i=e.call(n,R(t)))?i:(i=e.call(n,D(t)))||!1}function I(t){var e=0;return z(t)||(e=j(t)*A(t)),e}function O(t){return[t[0],t[1]]}function T(t){return[t[2],t[1]]}function N(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function k(t,e){var n;return e===r.a.BOTTOM_LEFT?n=O(t):e===r.a.BOTTOM_RIGHT?n=T(t):e===r.a.TOP_LEFT?n=D(t):e===r.a.TOP_RIGHT?n=R(t):Object(i.a)(!1,13),n}function P(t,e,n,i,r){var o=e*i[0]/2,s=e*i[1]/2,a=Math.cos(n),l=Math.sin(n),u=o*a,c=o*l,h=s*a,f=s*l,p=t[0],d=t[1],m=p-u+f,v=p-u-f,y=p+u-f,_=p+u+f,b=d-c-h,x=d-c+h,w=d+c+h,E=d+c-h;return g(Math.min(m,v,y,_),Math.min(b,x,w,E),Math.max(m,v,y,_),Math.max(b,x,w,E),r)}function A(t){return t[3]-t[1]}function L(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return F(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):m(i),i}function D(t){return[t[0],t[3]]}function R(t){return[t[2],t[3]]}function j(t){return t[2]-t[0]}function F(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function z(t){return t[2]<t[0]||t[3]<t[1]}function B(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function G(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function q(t,e,n){var i=!1,r=p(t,e),s=p(t,n);if(r===o.a.INTERSECTING||s===o.a.INTERSECTING)i=!0;else{var a,l,u=t[0],c=t[1],h=t[2],f=t[3],d=e[0],g=e[1],m=n[0],v=n[1],y=(v-g)/(m-d);s&o.a.ABOVE&&!(r&o.a.ABOVE)&&(i=(a=m-(v-f)/y)>=u&&a<=h),i||!(s&o.a.RIGHT)||r&o.a.RIGHT||(i=(l=v-(m-h)*y)>=c&&l<=f),i||!(s&o.a.BELOW)||r&o.a.BELOW||(i=(a=m-(v-c)/y)>=u&&a<=h),i||!(s&o.a.LEFT)||r&o.a.LEFT||(i=(l=v-(m-u)*y)>=c&&l<=f)}return i}function H(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),function(t,e,n){return g(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}},function(t,e,n){"use strict";n.d(e,"a",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c}),n.d(e,"e",function(){return h}),n.d(e,"d",function(){return f});var i=n(10);function r(t,e,n,i){for(var r,o=0,s=t.length;o<s;++o)if((r=t[o]).listener===e&&r.bindTo===n)return i&&(r.deleteIndex=o),r}function o(t,e){var n=s(t);return n?n[e]:void 0}function s(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function a(t,e){var n=o(t,e);if(n){for(var r=0,a=n.length;r<a;++r)t.removeEventListener(e,n[r].boundListener),Object(i.b)(n[r]);n.length=0;var l=s(t);l&&(delete l[e],0===Object.keys(l).length&&function(t){delete t.ol_lm}(t))}}function l(t,e,n,i,o){var a=s(t,!0),l=a[e];l||(l=a[e]=[]);var u=r(l,n,i,!1);return u?o||(u.callOnce=!1):(u={bindTo:i,callOnce:!!o,listener:n,target:t,type:e},t.addEventListener(e,function(t){var e=function(e){var n=t.listener,i=t.bindTo||t.target;return t.callOnce&&h(t),n.call(i,e)};return t.boundListener=e,e}(u)),l.push(u)),u}function u(t,e,n,i){return l(t,e,n,i,!0)}function c(t,e,n,i){var s=o(t,e);if(s){var a=r(s,n,i,!0);a&&h(a)}}function h(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=o(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&a(t.target,t.type)}Object(i.b)(t)}}function f(t){var e=s(t);if(e)for(var n in e)a(t,n)}},function(t,e,n){"use strict";function i(){return function(){throw new Error("Unimplemented abstract method.")}()}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}n.d(e,"b",function(){return i}),n.d(e,"d",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return a});var o=0;function s(t){return t.ol_uid||(t.ol_uid=String(++o))}var a="5.3.2"},function(t,e,n){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,n){"use strict";n.d(e,"c",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return h}),n.d(e,"f",function(){return f}),n.d(e,"g",function(){return p}),n.d(e,"i",function(){return d}),n.d(e,"k",function(){return g}),n.d(e,"l",function(){return m}),n.d(e,"m",function(){return v}),n.d(e,"j",function(){return y}),n.d(e,"h",function(){return _}),n.d(e,"o",function(){return b}),n.d(e,"a",function(){return C}),n.d(e,"p",function(){return O}),n.d(e,"q",function(){return T}),n.d(e,"s",function(){return N}),n.d(e,"r",function(){return k}),n.d(e,"n",function(){return P});var i=n(27),r=n(14),o=n(10),s=n(96),a=n(8),l="10px sans-serif",u=[0,0,0,1],c="round",h=[],f=0,p="round",d=10,g=[0,0,0,1],m="center",v="middle",y=[0,0,0,0],_=1,b=new s.a,x={},w=null,E={},C=function(){var t,e,n=60,r=x,s="32px ",a=["monospace","serif"],l=a.length,u="wmytzilWMYTZIL@#/&?$%10";function c(t){for(var n=S(),i=100;i<=700;i+=300){for(var r=i+" ",o=!0,c=0;c<l;++c){var h=a[c];if(n.font=r+s+h,e=n.measureText(u).width,t!=h){n.font=r+s+t+","+h;var f=n.measureText(u).width;o=o&&f!=e}}if(o)return!0}return!1}function h(){var e=!0;for(var i in r)r[i]<n&&(c(i)?(r[i]=n,Object(o.b)(E),w=null,b.clear()):(++r[i],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=Object(i.f)(e);if(o)for(var s=0,a=o.length;s<a;++s){var l=o[s];l in r||(r[l]=n,c(l)||(r[l]=0,void 0===t&&(t=setInterval(h,32))))}}}();function S(){return w||(w=Object(r.a)(1,1)),w}var M,I,O=(I=E,function(t){var e=I[t];return null==e&&(M||((M=document.createElement("span")).textContent="M",M.style.margin=M.style.padding="0 !important",M.style.position="absolute !important",M.style.left="-99999px !important"),M.style.font=t,document.body.appendChild(M),e=I[t]=M.offsetHeight,document.body.removeChild(M)),e});function T(t,e){var n=S();return t!=n.font&&(n.font=t),n.measureText(e).width}function N(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}var k=Object(a.c)();function P(t,e,n,i,r,o,s,a,l,u,c){var h;1!=n&&(h=t.globalAlpha,t.globalAlpha=h*n),e&&t.setTransform.apply(t,e),t.drawImage(i,r,o,s,a,l,u,s*c,a*c),h&&(t.globalAlpha=h),e&&t.setTransform.apply(t,k)}},function(t,e,n){"use strict";e.a={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"f",function(){return s}),n.d(e,"e",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return h});n(11);function i(t,e,n){return Math.min(Math.max(t,e),n)}var r="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function o(t,e,n,i,r,o){var a=r-n,l=o-i;if(0!==a||0!==l){var u=((t-n)*a+(e-i)*l)/(a*a+l*l);u>1?(n=r,i=o):u>0&&(n+=a*u,i+=l*u)}return s(t,e,n,i)}function s(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function a(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var s=Math.abs(t[o][n]);s>r&&(r=s,i=o)}if(0===r)return null;var a=t[i];t[i]=t[n],t[n]=a;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],c=n;c<e+1;c++)n==c?t[l][c]=0:t[l][c]+=u*t[n][c]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*h[f]}return h}function l(t){return 180*t/Math.PI}function u(t){return t*Math.PI/180}function c(t,e){var n=t%e;return n*e<0?n+e:n}function h(t,e,n){return t+n*(e-t)}},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"e",function(){return s}),n.d(e,"g",function(){return u}),n.d(e,"a",function(){return c}),n.d(e,"f",function(){return h}),n.d(e,"h",function(){return f}),n.d(e,"b",function(){return p}),n.d(e,"d",function(){return d});var i=n(11),r=new Array(6);function o(){return[1,0,0,1,0,0]}function s(t){return l(t,1,0,0,1,0,0)}function a(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=e[0],u=e[1],c=e[2],h=e[3],f=e[4],p=e[5];return t[0]=n*l+r*u,t[1]=i*l+o*u,t[2]=n*c+r*h,t[3]=i*c+o*h,t[4]=n*f+r*p+s,t[5]=i*f+o*p+a,t}function l(t,e,n,i,r,o,s){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function c(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function h(t,e,n){return a(t,l(r,e,0,0,n,0,0))}function f(t,e,n){return a(t,l(r,1,0,0,1,e,n))}function p(t,e,n,i,r,o,s,a){var l=Math.sin(o),u=Math.cos(o);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=s*i*u-a*i*l+e,t[5]=s*r*l+a*r*u+n,t}function d(t){var e,n=(e=t)[0]*e[3]-e[1]*e[2];Object(i.a)(0!==n,32);var r=t[0],o=t[1],s=t[2],a=t[3],l=t[4],u=t[5];return t[0]=a/n,t[1]=-o/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*u-a*l)/n,t[5]=-(r*u-o*l)/n,t}},function(t,e,n){"use strict";var i=n(89),r=n(0),o=n(6),s=n(68),a=n(24),l=6378137,u=Math.PI*l,c=[-u,-u,u,u],h=[-180,-85,180,85],f=function(t){function e(e){t.call(this,{code:e,units:a.b.METERS,extent:c,global:!0,worldExtent:h,getPointResolution:function(t,e){return t/Object(o.b)(e[1]/l)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),p=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("urn:ogc:def:crs:EPSG:6.18:3:3857"),new f("urn:ogc:def:crs:EPSG::3857"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];function d(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=u,a=0;a<i;a+=r){o[a]=s*t[a]/180;var c=l*Math.log(Math.tan(Math.PI*(t[a+1]+90)/360));c>s?c=s:c<-s&&(c=-s),o[a+1]=c}return o}function g(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=0;s<i;s+=r)o[s]=180*t[s]/u,o[s+1]=360*Math.atan(Math.exp(t[s+1]/l))/Math.PI-90;return o}var m=[-180,-90,180,90],v=6378137*Math.PI/180,y=function(t){function e(e,n){t.call(this,{code:e,units:a.b.DEGREES,extent:m,axisOrientation:n,global:!0,metersPerUnit:v,worldExtent:m})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),_=[new y("CRS:84"),new y("EPSG:4326","neu"),new y("urn:ogc:def:crs:EPSG::4326","neu"),new y("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new y("urn:ogc:def:crs:OGC:1.3:CRS84"),new y("urn:ogc:def:crs:OGC:2:84"),new y("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new y("urn:x-ogc:def:crs:EPSG:4326","neu")],b={};var x,w,E,C=n(60);function S(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function M(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function I(t){!function(t,e){b[t]=e}(t.getCode(),t),Object(C.a)(t,t,S)}function O(t){return"string"==typeof t?b[t]||null:t||null}function T(t,e,n,r){var o,s=(t=O(t)).getPointResolutionFunc();if(s)o=s(e,n);else if(t.getUnits()==a.b.DEGREES&&!r||r==a.b.DEGREES)o=e;else{var l=D(t,O("EPSG:4326")),u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=l(u,u,2),o=(Object(i.a)(u.slice(0,2),u.slice(2,4))+Object(i.a)(u.slice(4,6),u.slice(6,8)))/2;var c=r?a.a[r]:t.getMetersPerUnit();void 0!==c&&(o/=c)}return o}function N(t){!function(t){t.forEach(I)}(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Object(C.a)(e,t,S)})})}function k(t,e){return t?"string"==typeof t?O(t):t:O(e)}function P(t){return function(e,n,i){for(var r=e.length,o=void 0!==i?i:2,s=void 0!==n?n:new Array(r),a=0;a<r;a+=o){var l=t([e[a],e[a+1]]);s[a]=l[0],s[a+1]=l[1];for(var u=o-1;u>=2;--u)s[a+u]=e[a+u]}return s}}function A(t,e,n,i){var r=O(t),o=O(e);Object(C.a)(r,o,P(n)),Object(C.a)(o,r,P(i))}function L(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:D(t,e)===S&&n}function D(t,e){var n=t.getCode(),i=e.getCode(),r=Object(C.c)(n,i);return r||(r=M),r}function R(t,e){return D(O(t),O(e))}function j(t,e,n){return R(e,n)(t,void 0,t.length)}function F(t,e,n){var i=R(e,n);return Object(r.a)(t,i)}n.d(e,"d",function(){return I}),n.d(e,"g",function(){return O}),n.d(e,"h",function(){return T}),n.d(e,"c",function(){return N}),n.d(e,"e",function(){return k}),n.d(e,"b",function(){return A}),n.d(e,"f",function(){return L}),n.d(e,"i",function(){return R}),n.d(e,"j",function(){return j}),n.d(e,"k",function(){return F}),n.d(e,"a",function(){return a.a}),N(p),N(_),x=p,w=d,E=g,_.forEach(function(t){x.forEach(function(e){Object(C.a)(t,e,w),Object(C.a)(e,t,E)})})},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return s});var i="function"==typeof Object.assign?Object.assign:function(t,e){var n=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1,o=arguments.length;r<o;++r){var s=n[r];if(null!=s)for(var a in s)s.hasOwnProperty(a)&&(i[a]=s[a])}return i};function r(t){for(var e in t)delete t[e]}function o(t){var e=[];for(var n in t)e.push(t[n]);return e}function s(t){var e;for(e in t)return!1;return!e}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(95);function r(t,e){if(!t)throw new i.a(e)}},function(t,e,n){"use strict";function i(t,e,n){for(var i,o,s=n||r,a=0,l=t.length,u=!1;a<l;)(o=+s(t[i=a+(l-a>>1)],e))<0?a=i+1:(l=i,u=!o);return u?a:~a}function r(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function s(t,e,n){var i,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function a(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function l(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function u(t,e){var n=t.indexOf(e),i=n>-1;return i&&t.splice(n,1),i}function c(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function h(t,e){var n,i=t.length,r=Array(t.length);for(n=0;n<i;n++)r[n]={index:n,value:t[n]};for(r.sort(function(t,n){return e(t.value,n.value)||t.index-n.index}),n=0;n<t.length;n++)t[n]=r[n].value}function f(t,e,n){var i=e||r;return t.every(function(e,r){if(0===r)return!0;var o=i(t[r-1],e);return!(o>0||n&&0===o)})}n.d(e,"a",function(){return i}),n.d(e,"g",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"f",function(){return s}),n.d(e,"i",function(){return a}),n.d(e,"c",function(){return l}),n.d(e,"h",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"j",function(){return h}),n.d(e,"e",function(){return f})},function(t,e,n){"use strict";e.a={ANIMATING:0,INTERACTING:1}},function(t,e,n){"use strict";function i(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function r(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}function o(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}function s(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function a(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){for(;t.lastChild;)t.removeChild(t.lastChild)}n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"f",function(){return s}),n.d(e,"e",function(){return a}),n.d(e,"d",function(){return l})},function(t,e,n){"use strict";n.d(e,"b",function(){return h});var i=n(2),r=n(62),o=n(80),s=n(30),a=n(10),l=function(t){function e(e,n,i){t.call(this,e),this.key=n,this.oldValue=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),u=function(t){function e(e){t.call(this),Object(i.c)(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(a.a)({},this.values_)},e.prototype.notify=function(t,e){var n;n=h(t),this.dispatchEvent(new l(n,t,e)),n=r.a.PROPERTYCHANGE,this.dispatchEvent(new l(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(o.a),c={};function h(t){return c.hasOwnProperty(t)?c[t]:c[t]="change:"+t}e.a=u},function(t,e,n){"use strict";function i(){return!0}function r(){return!1}function o(){}n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return o})},function(t,e,n){"use strict";var i=n(5);e.a={SINGLECLICK:"singleclick",CLICK:i.a.CLICK,DBLCLICK:i.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"g",function(){return o}),n.d(e,"i",function(){return s}),n.d(e,"d",function(){return a}),n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u}),n.d(e,"h",function(){return c}),n.d(e,"f",function(){return h}),n.d(e,"e",function(){return f});var i="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",r=-1!==i.indexOf("firefox"),o=-1!==i.indexOf("safari")&&-1==i.indexOf("chrom"),s=-1!==i.indexOf("webkit")&&-1==i.indexOf("edge"),a=-1!==i.indexOf("macintosh"),l=window.devicePixelRatio||1,u=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),c=(navigator,"ontouchstart"in window),h="PointerEvent"in window,f=!!navigator.msPointerEnabled},function(t,e,n){"use strict";(function(t,i){n.d(e,"j",function(){return c}),n.d(e,"a",function(){return h}),n.d(e,"d",function(){return y}),n.d(e,"g",function(){return S}),n.d(e,"f",function(){return M}),n.d(e,"h",function(){return I}),n.d(e,"i",function(){return O}),n.d(e,"c",function(){return T}),n.d(e,"e",function(){return N}),n.d(e,"k",function(){return L}),n.d(e,"b",function(){return F});var r=n(46),o=n(33),s=n(65),a=(n(49),n(20));n(137);function l(){"timeLapse"===document.getElementById("selectedFilter").value?t("#filterLayerBody>div").append(t("<div>").attr("class","col-md-4").append('<label for="selectedTimeFilter">Type Time</label>').append(t("<select>").attr("class","custom-select").attr("id","selectedTimeFilter").append(t("<option>",{text:"Date",value:"DateTime"})).append(t("<option>",{text:"Hours",value:"HoursTime"})).append(t("<option>",{text:"TimeStamp",value:"TimeStamp"})))):t("#selectedTimeFilter").parent().remove()}function u(e,n){null!==document.getElementById("selectedFilter")&&t("#selectedFilter").parent().remove(),"node"===e?(null!==document.getElementById("selectedTimeFilter")&&t("#selectedTimeFilter").parent().remove(),t("#filterLayerBody>div").append(t("<div>").attr("class","col-md-4").append('<label for="selectedFilter">Type <a role="button" class="badge badge-pill badge-secondary"  tabindex="0" data-trigger="focus" data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content="- Categorial => qualitative selector <br /> -Remove => qualitative removal <br /> - One Category => quick selector of one category <br />  - Numeral => quantitative selector <br /> Temporal => Select time area (must precise a time format)" title="Select the type of filter:"><img class="small-icon" src="assets/svg/si-glyph-info.svg"/></append></label>').append(t("<select>").attr("class","custom-select").attr("id","selectedFilter").append(t("<option selected>")).append(t("<option>",{text:"Numeral",value:"numeral"})).append(t("<option>",{text:"Categories",value:"categorial"})).append(t("<option>",{text:"Remove",value:"remove"})).append(t("<option>",{text:"One Category",value:"temporal"})))),document.getElementById("selectedFilter").addEventListener("change",function(){l()}),t('[data-toggle="popover"]').popover({trigger:"focus"})):"link"===e&&(null!==document.getElementById("selectedTimeFilter")&&t("#selectedTimeFilter").parent().remove(),t("#filterLayerBody>div").append(t("<div>").attr("class","col-md-4").append('<label for="selectedFilter">Type <button  class="badge badge-pill badge-secondary"  data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content="- Categorial => qualitative selector  <br />- Remove => qualitative removal <br /> - One Category => quick selector of one category <br />  - Numeral => quantitative selector <br /> Temporal => Select time area (must precise a time format)" title="Select the type of filter:"><img class="small-icon" src="assets/svg/si-glyph-info.svg"/></button></label>').append(t("<select>").attr("class","custom-select").attr("id","selectedFilter").append(t("<option selected>")).append(t("<option>",{text:"Categorial",value:"categorial"})).append(t("<option>",{text:"Numeral",value:"numeral"})).append(t("<option>",{text:"Remove",value:"remove"})).append(t("<option>",{text:"One Category",value:"temporal"})).append(t("<option>",{text:"Temporal",value:"timeLapse"})))),document.getElementById("selectedFilter").addEventListener("change",function(){l()}),t('[data-toggle="popover"]').popover())}function c(){t("#filterLayerBody>div").remove()}function h(){var e=document.getElementById("filteredLayer").value,n=document.getElementById("valueTofilter").value,i=document.getElementById("selectedFilter").value;if("link"===e&&(!function(t,e,n,i){"numeral"===n&&v(t,e,i);"categorial"===n&&m(t,e,i);"remove"===n&&p(t,e,i);"temporal"===n&&d(t,e,i);"timeLapse"===n&&g(t,e,i,document.getElementById("selectedTimeFilter").value)}(e,n,i,data),console.log(i)),"numeral"===i)return function(e,n){var i=n.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterDiv").append(t("<div>").attr("class","row align-items-center m-3 border-top border-secondary filter-bar").append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("for","filterNum"+i).attr("class","h5")).append(t("<div>").attr("class","col-sm-11 p-0").attr("id","filterNum"+i)).append(t("<div>").attr("class","col-sm-1 p-0").append(t("<button>").attr("type","button").attr("class","close center-block").attr("id","buttonFilter"+i).attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>'))).append(t("<div>").attr("class","col-sm-6").append(t("<div>").attr("class","row").append('<div class="col-md-3">Min:</div>').append('<div class="col-md-9"><input class="form-control" id="numMinFilter'+i+'"  step=0.01 type="number" value="15"></div>'))).append(t("<div>").attr("class","col-sm-6").append(t("<div>").attr("class","row").append('<div class="col-md-3">Max:</div>').append('<div class="col-md-9"><input class="form-control" id="numMaxFilter'+i+'" step=0.01 type="number" value="15"></div>')))),document.getElementById("buttonFilter"+i).addEventListener("click",function(){_(n,e)}),k(e,n,Object(o.i)(n,e))}(e,n),console.log("fffffffffffffff"),void c();if("categorial"===i)return x(e,n),void c();if("remove"===i)return C(e,n),void c();if("temporal"===i){w(e,n);var r=n.split(" ").join("").replace(/[^\w\s]/gi,"");return B(e,n,"temporal","temporalfilter"+r),void c()}return"timeLapse"===i?(function(e,n){document.getElementById("selectedTimeFilter").value;var i=n.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterDiv").append(t("<div>").attr("class","row align-items-center border-top border-secondary filter-bar").append(t("<div>").attr("class","col-sm-11 p-0").attr("id","filterTime"+i).append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("for","filterTime"+i).attr("class","h5"))).append(t("<div>").attr("class","col-sm-1 p-0").append(t("<button>").attr("type","button").attr("class","close center-block").attr("id","buttonTimeFilter"+i).attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>')))),document.getElementById("buttonTimeFilter"+i).addEventListener("click",function(){b(n,e)}),f(e,n,[25,50])}(e,n),void c()):void 0}function f(e,n,r){for(var o=data.filter.link[n].timeLapse.order,s=o.map(function(t){return data.filter.link[n].timeLapse.index[t].length}),a=[],l=0;l<o.length;l++)a.push({date:o[l],value:s[l]});var u=n.split(" ").join("").replace(/[^\w\s]/gi,""),c=i.select("#filterTime"+u).append("svg"),h=10,f=15,p=5,d=15,g=parseInt(t("#filterTime"+u).width()-d-f),m=parseInt(100-h-p);c.attr("width",parseInt(t("#filterTime"+u).width())).attr("height",150),a=a.map(t=>(t.value=+t.value,t));var v=i.scaleBand().domain(a.map(function(t){return t.date})).rangeRound([0,g]).padding(.1),y=i.scaleLinear().rangeRound([m,0]),_=c.append("g").attr("transform","translate("+d+","+h+")");y=y.domain([0,i.max(a,function(t){return t.value})]),_.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+m+")").call(i.axisBottom(v)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)"),_.selectAll(".bar").data(a).enter().append("rect").attr("fill","grey").attr("class","bar").attr("x",function(t){return v(t.date)}).attr("y",function(t){return y(t.value)}).attr("width",v.bandwidth()).attr("height",function(t){return m-y(t.value)});var b=i.brushX().extent([[0,0],[g,m]]).on("end",function(){if("end"===i.event.sourceEvent.type||null===typeof i.event.sourceEvent)return;console.log(i.event.sourceEvent);var t=i.event.selection||v.range(),r=a.filter(function(e){var n=v(e.date),i=n+v.bandwidth();return t[0]-v.bandwidth()/2<=n&&t[1]+v.bandwidth()/2>=i});0!==r.length&&(i.select("#filterTime"+u).select(".brush").call(b.move,[v(r[0].date),v(r[r.length-1].date)+v.bandwidth()]),console.log(r));!function(t,e,n,i){var r=!0;if(0!==global_data.filter[t].length)for(var o=0;o<global_data.filter[t].length;o++)if(global_data.filter[t][o].variable===e&&global_data.filter[t][o].filter===n){r=!1,global_data.filter[t][o].values=i;break}r&&global_data.filter[t].push({variable:e,values:i,filter:n,format:data.filter[t][e].timeLapse.format});z()}(e,n,"timeLapse",r.map(function(t){return t.date}))});_.append("g").attr("class","brush").call(b);console.log(r);try{i.select("#filterTime"+u).select(".brush").call(b.move,[v(r[0]),v(r[1])+v.bandwidth()])}catch(t){console.error(t)}}function p(t,e,n){void 0===n.filter[t][e]?n.filter[t][e]={remove:{}}:n.filter[t][e].remove={};for(var i=[],r=n.filter[t][e].remove,o=n.links.length,s=0;s<o;s++){var a=n.links[s][e].toString();i.includes(a)?r[a].push(s):(i.push(a),r[a]=[],r[a].push(s))}}function d(t,e,n){void 0===n.filter[t][e]?n.filter[t][e]={temporal:{}}:n.filter[t][e].temporal={};var i=n.links.length,r=[];n.filter[t][e].temporal.data={};for(var o=n.filter[t][e].temporal.data,s=0;s<i;s++){var a=n.links[s][e].toString();r.includes(a)?o[a].push(s):(r.push(a),o[a]=[],o[a].push(s))}n.filter[t][e].temporal.index=Object.keys(o)}function g(t,e,n,i){var r=i;void 0===n.filter[t][e]?n.filter[t][e]={timeLapse:{}}:n.filter[t][e].timeLapse={};var o=[...new Set(n.links.map(function(t){return t[e]}))];n.filter[t][e].timeLapse.order=function(t,e){if("HoursTime"===e)return t.sort(function(t,e){return new Date("1970/01/01 "+t)-new Date("1970/01/01 "+e)});if("TimeStamp"===e)return t.sort(function(t,e){return Number(t)-Number(e)});if("DateTime"===e)return t.sort(function(t,e){return new Date(t.toString())-new Date(e.toString())})}(o,r),n.filter[t][e].timeLapse.index={},n.filter[t][e].timeLapse.format=r;for(var s=[],a=n.filter[t][e].timeLapse.index,l=n.links.length,u=0;u<l;u++){var c=n.links[u][e].toString();s.includes(c)?a[c].push(u):(s.push(c),a[c]=[],a[c].push(u))}}function m(t,e,n){void 0===n.filter[t][e]?n.filter[t][e]={categorial:{}}:n.filter[t][e].categorial={};for(var i=[],r=n.filter[t][e].categorial,o=n.links.length,s=0;s<o;s++){var a=n.links[s][e].toString();i.includes(a)?r[a].push(s):(i.push(a),r[a]=[],r[a].push(s))}}function v(t,e,n){void 0===n.filter[t][e]?n.filter[t][e]={numeral:{index:[],minima:[]}}:n.filter[t][e].numeral={index:[],minima:[]};for(var i=0;i<150;i++)n.filter[t][e].numeral.index.push([]);var r=n.links.map(function(t){return Number(t[e])}),o=(Math.max(...r)-Math.min(...r))/150,s=Math.min(...r);n.filter[t][e].numeral.minima=[s,Math.max(...r)];for(var a=n.filter[t][e].numeral,l=n.links.length,u=0;u<l;u++){var c=Number(n.links[u][e]);for(i=0;i<150;i++)if(c<=s+(i+1)*o&&c>=s+i*o){a.index[i].push(u);break}}}function y(t,e,n,i){"numeral"===n.filter&&v(t,e,i),"categorial"===n.filter&&m(t,e,i),"remove"===n.filter&&p(t,e,i),"temporal"===n.filter&&d(t,e,i),"timeLapse"===n.filter&&g(t,e,i,n.format)}function _(e,n){var i=e.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterNum"+i).parent().remove();for(var r=0;r<global_data.filter[n].length;r++)if(global_data.filter[n][r].variable===e)return global_data.filter[n].splice(r,1),void z()}function b(e,n){var i=e.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterTime"+i).parent().remove();for(var r=0;r<global_data.filter[n].length;r++)if(global_data.filter[n][r].variable===e)return global_data.filter[n].splice(r,1),void z()}function x(e,n){var i=n.split(" ").join("").replace(/[^\w\s]/gi,"");if(t("#filterDiv").append(t("<div>").attr("class","row align-items-center m-3 border-top border-secondary filter-bar").append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("for","filterCat").attr("class","h5")).append(t("<div>").attr("class","col-sm-11 align-items-center p-0").attr("id","filterCat").append(t("<select multiple>").attr("class","selectpicker").attr("id","filter"+i))).append(t("<div>").attr("class","col-sm-1 center-block p-0").append(t("<button>").attr("type","button").attr("id","removeCatFilterButton"+i).attr("class","close center-block").attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>')))),document.getElementById("removeCatFilterButton"+i).addEventListener("click",function(){!function(e,n){var i=e.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filter"+i).parent().parent().parent().remove(),console.log(t("#filter"+i).parent());for(var r=0;r<global_data.filter[n].length;r++)if(global_data.filter[n][r].variable===e)return global_data.filter[n].splice(r,1),void z()}(n,e)}),document.getElementById("filter"+i).addEventListener("change",function(){G(e,n,"categorial","#filter"+i)}),"node"===e)var r=[...new Set(Object.keys(data.hashedStructureData).map(function(t){return data.hashedStructureData[t].properties[n]}))];else if("link"===e)r=[...new Set(data.links.map(function(t){return t[n]}))];for(var o=0;o<r.length;o++)t("#filter"+i).append(t("<option>",{text:String(r[o])}).attr("value",r[o]));t("#filter"+i).selectpicker()}function w(e,n){if("link"===e)var i=data.filter[e][n].temporal.index.length;else i=[...new Set(Object.keys(data.hashedStructureData).map(function(t){return data.hashedStructureData[t].properties[n]}))].length;var r=n.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterDiv").append(t("<div>").attr("class","row align-items-center m-3 border-top border-secondary filter-bar").append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("class","h5")).append(t("<div>").attr("class","col-md-11 align-items-center p-0").attr("id","temporalfilterCat").append(t("<div>").attr("class","col-md-12").append(t("<input>").attr("class","selectpicker").attr("min","0").attr("max",i-1).attr("step",1).attr("id","temporalfilter"+r).attr("type","range"))).append(t("<label>",{text:"PUT VALUE HERE"}).attr("class","h6").attr("id","h6_remove"+r))).append(t("<div>").attr("class","col-sm-1 center-block p-0").append(t("<button>").attr("type","button").attr("id","temporalCatFilterButton"+r).attr("class","close center-block").attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>')))),E(n,"h6_remove"+r,"temporalfilter"+r,e),document.getElementById("temporalCatFilterButton"+r).addEventListener("click",function(){!function(e,n){var i=e.split(" ").join("").replace(/[^\w\s]/gi,"");t("#temporalfilter"+i).parent().parent().parent().remove();for(var r=0;r<global_data.filter[n].length;r++)if(global_data.filter[n][r].variable===e)return global_data.filter[n].splice(r,1),void z()}(n,e)}),document.getElementById("temporalfilter"+r).addEventListener("change",function(){B(e,n,"temporal","temporalfilter"+r)}),document.getElementById("temporalfilter"+r).addEventListener("change",function(){E(n,"h6_remove"+r,"temporalfilter"+r,e)})}function E(t,e,n,i){document.getElementById(e).innerHTML="link"===i?data.filter[i][t].temporal.index[Number(document.getElementById(n).value)]:[...new Set(Object.keys(data.hashedStructureData).map(function(e){return data.hashedStructureData[e].properties[t]}))][Number(document.getElementById(n).value)]}function C(e,n){var i=n.split(" ").join("").replace(/[^\w\s]/gi,"");if(t("#filterDiv").append(t("<div>").attr("class","row align-items-center m-3 border-top border-secondary filter-bar").append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("for","filter"+i).attr("class","h5")).append(t("<div>").attr("class","col-sm-11 align-items-center p-0").attr("id","removefilterCat").append(t("<select multiple>").attr("class","selectpicker").attr("id","removefilter"+i))).append(t("<div>").attr("class","col-sm-1 center-block p-0").append(t("<button>").attr("type","button").attr("id","removeRemoveCatFilterButton"+i).attr("class","close center-block").attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>')))),document.getElementById("removeRemoveCatFilterButton"+i).addEventListener("click",function(){!function(e,n){var i=e.split(" ").join("").replace(/[^\w\s]/gi,"");t("#removefilter"+i).parent().parent().parent().remove();for(var r=0;r<global_data.filter[n].length;r++)if(global_data.filter[n][r].variable===e)return global_data.filter[n].splice(r,1),void z()}(n,e)}),document.getElementById("removefilter"+i).addEventListener("change",function(){G(e,n,"remove","#removefilter"+i)}),"node"===e)var r=[...new Set(Object.keys(data.hashedStructureData).map(function(t){return data.hashedStructureData[t].properties[n]}))];else if("link"===e)r=[...new Set(data.links.map(function(t){return t[n]}))];for(var o=0;o<r.length;o++)t("#removefilter"+i).append(t("<option>",{text:String(r[o])}).attr("value",r[o]));t("#removefilter"+i).selectpicker()}function S(e,n,i){var r=n.split(" ").join("").replace(/[^\w\s]/gi,"");x(e,n),t("#filter"+r).selectpicker("val",i)}function M(e,n,i){var r=n.split(" ").join("").replace(/[^\w\s]/gi,"");C(e,n),t("#removefilter"+r).selectpicker("val",i)}function I(e,n,i){var r=n.split(" ").join("").replace(/[^\w\s]/gi,"");w(e,n),console.log(data.filter[e][n].temporal.index.indexOf(i)),t("#temporalfilter"+r).prop("value",data.filter[e][n].temporal.index.indexOf(i)),E(n,"h6_remove"+r,"temporalfilter"+r,e),B(e,n,"temporal","temporalfilter"+r)}function O(e,n,i){var r=n.split(" ").join("").replace(/[^\w\s]/gi,"");r=n.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterDiv").append(t("<div>").attr("class","row align-items-center m-3").append(t("<div>").attr("class","col-sm-11 p-0").attr("id","filterTime"+r).append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("for","filterTime"+r).attr("class","h5"))).append(t("<div>").attr("class","col-sm-1 p-0").append(t("<button>").attr("type","button").attr("class","close center-block").attr("id","buttonTimeFilter"+r).attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>')))),document.getElementById("buttonTimeFilter"+r).addEventListener("click",function(){b(n,e)}),f(e,n,[i[0],i[i.length-1]])}function T(){t("#filterLayerBody").append(t("<div>").attr("class","row").append(t("<div>").attr("class","col-md-4").append('<label for="filteredLayer">Layer <button  class="badge badge-pill badge-secondary"  data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content="Choose the layer to filter"><img class="small-icon" src="assets/svg/si-glyph-info.svg"/></button></label>').append(t("<select>").attr("class","custom-select").attr("id","filteredLayer").append(t("<option selected>",{text:"Choose ..."})).append(t("<option>",{text:"Link",value:"link"})).append(t("<option>",{text:"Node",value:"node"}))))),t('[data-toggle="popover"]').popover(),document.getElementById("filteredLayer").addEventListener("change",function(){!function(){var e=document.getElementById("filteredLayer"),n=e.options[e.selectedIndex].value,i=Object(r.d)(n);null!==document.getElementById("valueTofilter")&&t("#valueTofilter").parent().remove();null!==document.getElementById("selectedFilter")&&t("#selectedFilter").parent().remove();i&&t("#filterLayerBody>div").append(t("<div>").attr("class","col-md-4").append('<label for="valueTofilter">Variable <button  class="badge badge-pill badge-secondary"  data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content="Choose the variable to filter"><img class="small-icon" src="assets/svg/si-glyph-info.svg"/></button></label>').append(t("<select>").attr("class","custom-select").attr("id","valueTofilter").append("<option selected>Choose...</option>")));t('[data-toggle="popover"]').popover();for(var o=0;o<i.length;o++)t("#valueTofilter").append(t("<option>",{text:i[o]}).attr("value",i[o]));document.getElementById("valueTofilter").addEventListener("change",function(){u(n,data)})}()})}function N(e,n,i){var r=n.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterDiv").append(t("<div>").attr("class","row align-items-center m-3 border-top border-secondary filter-bar").append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("for","filterNum"+r).attr("class","h5")).append(t("<div>").attr("class","col-sm-11 p-0").attr("id","filterNum"+r)).append(t("<div>").attr("class","col-sm-1 p-0").append(t("<button>").attr("type","button").attr("class","close center-block").attr("id","buttonFilter"+r).attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>'))).append(t("<div>").attr("class","col-sm-6").append(t("<div>").attr("class","row").append('<div class="col-md-3">Min:</div>').append('<div class="col-md-9"><input class="form-control" id="numMinFilter'+r+'" step=0.01 type="number" value="15"></div>'))).append(t("<div>").attr("class","col-sm-6").append(t("<div>").attr("class","row").append('<div class="col-md-3">Max:</div>').append('<div class="col-md-9"><input class="form-control" id="numMaxFilter'+r+'" step=0.01 type="number" value="15"></div>')))),document.getElementById("buttonFilter"+r).addEventListener("click",function(){_(n,e)}),k(e,n,i)}function k(e,n,r){if("node"===e)var o=Object.keys(data.hashedStructureData).map(function(t){return data.hashedStructureData[t].properties[n]});else if("link"===e)o=data.links.map(function(t){return t[n]});var s=n.split(" ").join("").replace(/[^\w\s]/gi,""),a=(i.format(",.0f"),i.select("#filterNum"+s).append("svg")),l=10,u=15,c=5,h=15,f=t("#filterNum"+s).width()-h-u,p=100-l-c-5;a.attr("width",t("#filterNum"+s).width()).attr("height",130).attr("onchange","alert()");var d=a.append("g").attr("transform","translate("+h+","+l+")"),g=i.scaleLinear().domain([Math.min(...o),Math.max(...o)+1e-4]).rangeRound([0,f]);console.log(r),document.getElementById("numMaxFilter"+s).value=Number(r[1]).toFixed(2),document.getElementById("numMinFilter"+s).value=Number(r[0]).toFixed(2);var m=i.histogram().domain(g.domain()).thresholds(40)(o),v=i.scaleLinear().domain([0,i.max(m,function(t){return t.length})]).range([p,0]);i.scaleBand().domain(i.range(-1,m.length)).range([0,f]),i.axisBottom(g),i.axisLeft(v);d.selectAll(".bar").data(m).enter().append("g").attr("class","bar").attr("transform",function(t){return"translate("+g(t.x0)+","+Math.round(v(t.length))+")"}).append("rect").attr("x",1).attr("width",function(t){return g(t.x1)-g(t.x0)-1}).attr("height",function(t){return p-v(t.length)}),d.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+p+")").call(i.axisBottom(g)).selectAll("text").attr("transform","rotate(45)");var y=i.brushX().extent([[0,0],[f,p]]).on("end",function(){if(null!==i.event.sourceEvent){var t=i.event.selection||g.range(),r=t.map(g.invert,g);document.getElementById("numMaxFilter"+s).value=Math.round(r[1]),document.getElementById("numMinFilter"+s).value=Math.round(r[0]),q(e,n,"numeral",t.map(g.invert,g))}}),_=d.append("g").attr("class","brush").call(y).call(y.move,g.range());_.call(y.move,[g(r[0]),g(r[1])]),document.getElementById("numMaxFilter"+s).addEventListener("change",function(){_.call(y.move,[g(document.getElementById("numMinFilter"+s).value),g(document.getElementById("numMaxFilter"+s).value)]),q(e,n,"numeral",[document.getElementById("numMinFilter"+s).value,document.getElementById("numMaxFilter"+s).value])}),document.getElementById("numMinFilter"+s).addEventListener("change",function(){_.call(y.move,[g(document.getElementById("numMinFilter"+s).value),g(document.getElementById("numMaxFilter"+s).value)]),q(e,n,"numeral",[document.getElementById("numMinFilter"+s).value,document.getElementById("numMaxFilter"+s).value])})}function P(t){if(0===global_data.filter.node.length)return!0;for(var e=0;e<global_data.filter.node.length;e++)if("remove"===global_data.filter.node[e].filter&&!window[global_data.filter.node[e].filter](t.properties[global_data.filter.node[e].variable],global_data.filter.node[e].values))return console.log("AAYAYAYUAUYAUAU"),!0;return!1}function A(t){if(0===global_data.filter.node.length)return!0;for(var e=0;e<global_data.filter.node.length;e++)if(!window[global_data.filter.node[e].filter](t.properties[global_data.filter.node[e].variable],global_data.filter.node[e].values))return!1;return!0}function L(t,e){var n=Array.from(Array(e.links.length).keys());if(0===t.length)return Array.from(Array(e.links.length).keys());n=new Set(n);for(var i=t.length,r=0;r<i;r++)if("remove"!==t[r].filter){var o=new Set(D(t[r],e,"link"));n=new Set([...n].filter(t=>o.has(t)))}else{o=new Set(D(t[r],e,"link"));n=new Set([...n].filter(t=>!o.has(t)))}return[...n]}function D(t,e,n){return"numeral"===t.filter?function(t,e,n){var i=[];console.log(e.filter[n]);t.values.length;for(var r=(e.filter[n][t.variable][t.filter].minima[1]-e.filter[n][t.variable][t.filter].minima[0])/150,o=e.filter[n][t.variable][t.filter].minima[0],s=0;s<150;s++)t.values[0]<=o+r*s&&t.values[1]>=o+r*(s+1)?i=i.concat(e.filter[n][t.variable][t.filter].index[s]):t.values[0]>=o+r*s&&t.values[0]<=o+r*(s+1)?i=i.concat(j(e.filter[n][t.variable][t.filter].index[s],e.links,t.values[0],t.variable)):t.values[1]>=o+r*s&&t.values[1]<=o+r*(s+1)&&(i=i.concat(R(e.filter[n][t.variable][t.filter].index[s],e.links,t.values[1],t.variable)));return[...new Set([...i])]}(t,e,n):"temporal"===t.filter?function(t,e,n){return e.filter[n][t.variable][t.filter].data[t.values]}(t,e,n):"timeLapse"===t.filter?function(t,e,n){for(var i=e.filter[n][t.variable][t.filter].index[t.values[0]],r=1;r<t.values.length;r++)i=[...new Set([...i,...e.filter[n][t.variable][t.filter].index[t.values[r]]])];return i}(t,e,n):function(t,e,n){for(var i=e.filter[n][t.variable][t.filter][t.values[0]],r=1;r<t.values.length;r++)var i=[...new Set([...i,...e.filter[n][t.variable][t.filter][t.values[r]]])];return i}(t,e,n)}function R(t,e,n,i){for(var r=[],o=0;o<t.length;o++)Number(e[t[o]][i])<=n&&r.push(t[o]);return r}function j(t,e,n,i){for(var r=[],o=0;o<t.length;o++)Number(e[t[o]][i])>=n&&r.push(t[o]);return r}function F(t){for(var e={},n=[],i=Object.keys(t),r=i.length,o=0;o<r;o++)A(t[i[o]])&&(e[i[o]]=t[i[o]]),P(t[i[o]])&&global_data.filter.node.length>0&&(console.log("AUYAYAYAYAY"),n.push(i[o]));return[e,n]}function z(){var t=Object(s.c)(global_data.layers.features),e=t.length;if(console.log(t),0!==e)var n=L(global_data.filter.link,data),i=F(data.hashedStructureData);for(var r=0;r<e;r++){var o=global_data.layers.features[t[r]].getZIndex();"link"===t[r]?(console.log("bonjour"),map.removeLayer(global_data.layers.features[t[r]]),global_data.layers.features[t[r]]=Object(a.j)(map,data.links,data.hashedStructureData,global_data.style,global_data.ids.linkID[0],global_data.ids.linkID[1],n,i),global_data.layers.features[t[r]].setZIndex(o)):"node"===t[r]&&(map.removeLayer(global_data.layers.features[t[r]]),global_data.layers.features[t[r]]=Object(a.f)(map,data.links,data.hashedStructureData,global_data.style,n,i),global_data.layers.features[t[r]].setZIndex(o))}null!==global_data.legend.node.legend&&Object(a.e)()}function B(t,e,n,i){if("link"===t)var r=data.filter[t][e].temporal.index[Number(document.getElementById(i).value)];else r=[...new Set(Object.keys(data.hashedStructureData).map(function(t){return data.hashedStructureData[t].properties[e]}))][Number(document.getElementById(i).value)];var o=-1;if(0!==global_data.filter[t].length)for(var s=0;s<global_data.filter[t].length;s++)if(global_data.filter[t][s].variable===e&&global_data.filter[t][s].filter===n){o=s,global_data.filter[t][s].values=r;break}-1===o&&global_data.filter[t].push({variable:e,values:r,filter:n}),z()}function G(e,n,i,r){var o=Array.from(t(r).find(":selected")).map(function(e){return t(e).text()}),s=-1;if(0!==global_data.filter[e].length)for(var a=0;a<global_data.filter[e].length;a++)if(global_data.filter[e][a].variable===n&&global_data.filter[e][a].filter===i){s=a,global_data.filter[e][a].values=o;break}-1===s&&global_data.filter[e].push({variable:n,values:o,filter:i}),z()}function q(t,e,n,i){var r=-1;if(0!==global_data.filter[t].length)for(var o=0;o<global_data.filter[t].length;o++)if(global_data.filter[t][o].variable===e&&global_data.filter[t][o].filter===n){r=o,global_data.filter[t][o].values=i;break}-1===r&&global_data.filter[t].push({variable:e,values:i,filter:n}),z()}window.temporal=function(t,e){return e.includes(t)},window.remove=function(t,e){return!e.includes(t)},window.categorial=function(t,e){return e.includes(t)},window.numeral=function(t,e){return Number(t)>=Number(e[0])&&Number(t)<=e[1]}}).call(this,n(51),n(94))},function(t,e,n){"use strict";(function(t,i,r){n.d(e,"a",function(){return E}),n.d(e,"h",function(){return C}),n.d(e,"i",function(){return S}),n.d(e,"e",function(){return I}),n.d(e,"j",function(){return P}),n.d(e,"k",function(){return A}),n.d(e,"g",function(){return L}),n.d(e,"f",function(){return D}),n.d(e,"c",function(){return j}),n.d(e,"d",function(){return F}),n.d(e,"b",function(){return z});var o=n(46),s=n(73),a=n(19),l=n(85),u=n(33),c=n(49),h=n(77),f=(n(132),n(66)),p=n(25),d=n(26),g=n(61),m=n(43),v=n(121),y=n(87),_=n(147),b=n(88),x=n(146),w=n(107);n(108);function E(t,e,n){var r=document.getElementById("layers"+n).value,s=document.getElementById("opacityLayer"+n).value,a=i("#strokeColorpicker"+n).spectrum("get").toHexString(),l=i("#fillColorpicker"+n).spectrum("get").toHexString();Object.keys(e.base).includes(Object.keys(ListUrl))?t.removeLayer(e.base[r].layer):Object(o.b)(r),e.base[r]={};var u=j(t,ListUrl[r],r,s,a,l);e.base[r].layer=u,e.base[r].style={stroke:a,fill:l,opacity:s},e.base[r].added=!1}function C(t,e,n,r){var o=document.getElementById("opacityLayer"+n).value,a=i("#strokeColorpicker"+n).spectrum("get").toHexString(),l=i("#fillColorpicker"+n).spectrum("get").toHexString();e.base[r].layer.setStyle(Object(s.b)(o,a,l)),e.base[r].style={stroke:a,fill:l,opacity:o}}function S(t,e,n,i){var o=i[t].size.cat;return"Pow"===o?r["scale"+o]().exponent(2).domain([1,i[t].size.max]).range([0,i[t].size.ratio])(e+1)*Math.PI*n:"Sqrt"===o?r["scale"+o]().domain([1,i[t].size.max/Math.PI]).range([0,i[t].size.ratio])(e/Math.PI+1)*n:r["scale"+o]().domain([0,i[t].size.max]).range([0,i[t].size.ratio])(e)*n}function M(t,e,n,i){var o=i[t].size.cat;return"Log"===o?r["scale"+o]().domain([1,i[t].size.max]).range([0,i[t].size.ratio])(e+1)*n:"Pow"===o?r["scale"+o]().exponent(2).domain([1,i[t].size.max]).range([0,i[t].size.ratio])(e)*n:r["scale"+o]().domain([0,i[t].size.max]).range([0,i[t].size.ratio])(e)*n}function I(){var e,n=R("node"),i=R("link"),r=null,o=global_data.style;if(map.removeControl(global_data.legend.link.legend),map.removeControl(global_data.legend.link.color),map.removeControl(global_data.legend.node.legend),map.removeControl(global_data.legend.node.color),map.removeControl(global_data.legend.node.opa),map.removeControl(global_data.legend.link.opa),"fixed"!==global_data.style.link.size.var){var a=new h.a({title:"Size Link",style:k,target:r,margin:0});e=a,null===r&&e.setProperties({collapsible:!0}),map.addControl(a);var l=[1,2,4];for(var u in l)a.addRow(),a.addRow({title:O(o.link.size.max/l[u]),properties:{pop:global_data.style.link.size.max/l[u]},typeGeom:"LineString"});a.addRow(),r=a.element,global_data.legend.link.legend=a}if("fixed"!==global_data.style.link.color.var){var c=new h.a({title:"Color Link",target:r,margin:0});map.addControl(c),T(c,o.link.color.cat,"link",o,i.color),r=c.element,global_data.legend.link.color=c}if("fixed"!==global_data.style.link.opa.var){var f=new h.a({title:"Opa Link",target:r,margin:0});map.addControl(f),N(f,o.link.opa.cat,"link",o),r=f.element,global_data.legend.link.opa=f}if("fixed"!==global_data.style.node.size.var){var p=new h.a({title:"Size Node",style:s.a,target:r,margin:0});map.addControl(p);l=[1,2,4];for(var u in l)p.addRow(),p.addRow({title:O(o.node.size.max/l[u]),properties:{pop:global_data.style.node.size.max/l[u]},typeGeom:"Point"});p.addRow(),r=p.element,global_data.legend.node.legend=p}if("fixed"!==global_data.style.node.color.var){var d=new h.a({title:"Color Node",target:r,margin:0});map.addControl(d),T(d,o.node.color.cat,"node",o,n.color),r=d.element,global_data.legend.node.color=d}if("fixed"!==global_data.style.node.opa.var){var g=new h.a({title:"Opa Link",target:r,margin:0});map.addControl(g),N(g,o.node.opa.cat,"node",o),r=g.element,global_data.legend.node.opa=g}t.leg=a}function O(t){return t<=10&&t>=-10?Number(t).toFixed(2):t>=1e4?Number(t).toExponential(2):Math.round(t).toString()}function T(t,e,n,i,r){if(console.log(r),"number"===e)for(var o=Object(u.e)(n),s=(i[n].color.max-i[n].color.min)/7,a=0;a<7;a++)0===a?t.addRow({title:O(i[n].color.max),typeGeom:"Polygon",style:new p.b({fill:new d.a({color:r(i[n].color.max)})})}):3===a?i[n].color.min<0?t.addRow({title:"0",typeGeom:"Polygon",style:new p.b({fill:new d.a({color:r(0)})})}):t.addRow({title:O(o[a][0]),typeGeom:"Polygon",style:new p.b({fill:new d.a({color:r(i[n].color.max-a*s)})})}):6===a?t.addRow({title:O(i[n].color.min),typeGeom:"Polygon",style:new p.b({fill:new d.a({color:r(i[n].color.min)})})}):t.addRow({typeGeom:"Polygon",style:new p.b({fill:new d.a({color:r(i[n].color.max-a*s)})})});else if("categorical"===e){o=Object(u.d)(n);for(var a in o)t.addRow({title:a,typeGeom:"Polygon",style:[new p.b({fill:new d.a({color:[255,255,255,1]})}),new p.b({fill:new d.a({color:o[a]})})]})}}function N(t,e,n,i){var r=Object(u.f)(n),o=0;for(var s in r)0===o?t.addRow({title:O(i[n].opa.vmax),typeGeom:"Polygon",style:new p.b({fill:new d.a({color:r[s][1]})})}):3===o?t.addRow({title:O(r[s][0]),typeGeom:"Polygon",style:new p.b({fill:new d.a({color:r[s][1]})})}):6===o?t.addRow({title:O(0),typeGeom:"Polygon",style:new p.b({fill:new d.a({color:r[s][1]})})}):t.addRow({typeGeom:"Polygon",style:new p.b({fill:new d.a({color:r[s][1]})})}),o+=1}function k(t){return[new p.b({stroke:new g.a({color:[255,128,0,1],width:M("link",t.get("pop"),global_data.style.ratioBounds,global_data.style)/map.getView().getResolution(),opacity:1})})]}function P(t,e,n,i,r,a,u,h){Object.keys(global_data.layers.features).includes("link")?t.removeLayer(global_data.layers.features.link):Object(o.a)("link");var p=performance.now(),d=h[1],g=Object.keys(h[0]),v=A(e,u,r,a),_=performance.now();console.log("Call to doSomething took "+(_-p)+" milliseconds.");for(var x,w=Object.keys(v),E=[],C=0;C<w.length;C++)for(var I=Object.keys(v[w[C]]),O=0;O<I.length;O++){var T={ori:null,dest:null,layer:"link"};T.opa={name:i.link.opa.var,value:null},T.size={name:i.link.size.var,value:null},T.color={name:i.link.color.var,value:null};var N=v[w[C]][I[O]];T.ori=w[C],T.dest=I[O];var k=n[w[C]].properties.centroid,P=n[I[O]].properties.centroid,L=0,D=0;if("fixed"===i.node.size.var?(L=Number(i.node.size.ratio)*i.ratioBounds,D=Number(i.node.size.ratio)*i.ratioBounds):null!==i.node.size.var&&(L=g.includes(w[C])?S("node",Number(n[w[C]].properties[i.node.size.var]),i.ratioBounds,i):5*i.ratioBounds,D=g.includes(I[O])?S("node",Number(n[I[O]].properties[i.node.size.var]),i.ratioBounds,i):5*i.ratioBounds),"fixed"!==i.link.size.var)var R=M("link",j=Object(c.d)(N.map(function(t){return Number(e[t][i.link.size.var])})),i.ratioBounds,i);else{R=Number(i.link.size.ratio)*i.ratioBounds;var j=Number(i.link.size.ratio)*i.ratioBounds}if("fixed"!==i.link.color.var)var F=Object(c.d)(N.map(function(t){return Number(e[t][i.link.color.var])}));else F=Number(i.link.size.ratio)*i.ratioBounds;var z=-1;if("fixed"!==i.link.opa.var)z=Object(c.d)(N.map(function(t){return Number(e[t][i.link.opa.var])}));T[global_data.ids.vol]=Object(c.d)(N.map(function(t){return Number(e[t][global_data.ids.vol])})),x=Object(l.a)(i,k,P,L,D,R);var B=new f.a(new m.a([x]));T.size.value=j,T.opa.value=z,T.color.value=F,B.setProperties(T),!g.includes(w[C])&&!g.includes(I[O])||d.includes(I[O])||d.includes(w[C])||E.push(B)}_=performance.now();console.log("end generateLinkLayer"+(_-p)+" milliseconds.");var G=new b.a({features:E});_=performance.now();console.log("create source"+(_-p)+" milliseconds.");var q=new y.a({name:"Link",source:G,style:s.c,renderMode:"image"});_=performance.now();console.log("addMap "+(_-p)+" milliseconds."),t.addLayer(q);_=performance.now();return console.log("end"+(_-p)+" milliseconds."),q.changed(),q}function A(t,e,n,i){var r={};e.map(function(t){});for(var o=0;o<e.length;o++){var s=t[e[o]];void 0===r[s[n]]?(r[s[n]]={},void 0===r[s[n]][s[i]]?r[s[n]][s[i]]=[e[o]]:r[s[n]][s[i]].push(e[o])):void 0===r[s[n]][s[i]]?r[s[n]][s[i]]=[e[o]]:r[s[n]][s[i]].push(e[o])}return r}function L(t,e){var n=new _.a({name:"OSM",source:new x.a});return e.OSM={layer:n},t.addLayer(n),Object(o.c)("OSM"),n}function D(t,e,n,i,r,l){var u=R("node");Object.keys(global_data.layers.features).includes("node")?t.removeLayer(global_data.layers.features.node):Object(o.a)("node");Object(a.b)(n);for(var c=[],h=Object.keys(l[0]),p=function(t,e,n,i,r){var o=e.map(function(e){if(r.includes(t[e][n])||r.includes(t[e][i]))return[t[e][n],t[e][i]]});return[...new Set(o.flat().filter(function(t){return t}))]}(e,r,global_data.ids.linkID[0],global_data.ids.linkID[1],h),d=(Object.keys(n),0);d<p.length;d++)if(h.includes(p[d])){var g=n[p[d]].properties.centroid;if("fixed"!==i.node.size.var)var m=S("node",Number(n[p[d]].properties[i.node.size.var]),i.ratioBounds,i);else m=Number(i.node.size.ratio)*i.ratioBounds;(_=new f.a(new v.a(g,m))).setProperties(n[p[d]].properties),_.setStyle(Object(s.d)(_,u)),c.push(_)}else{var _;g=n[p[d]].properties.centroid,m=5*i.ratioBounds;(_=new f.a(new v.a(g,m))).setProperties(n[p[d]].properties),_.setProperties({layer:"node"}),_.setStyle(Object(s.e)(_)),c.push(_)}console.log(m);var x=new b.a({features:c}),w=new y.a({name:"Node",source:x,renderMode:"image"});return t.addLayer(w),w}function R(t){var e={color:null,size:null,opa:null};return"number"===global_data.style[t].color.cat&&"fixed"!==global_data.style[t].color.var&&(global_data.style[t].color.min<0?e.color=r.scaleDiverging(r["interpolate"+global_data.style[t].color.palette]).domain([global_data.style[t].color.min,0,global_data.style[t].color.max]):e.color=r.scaleSequential(r["interpolate"+global_data.style[t].color.palette]).domain([global_data.style[t].color.min,global_data.style[t].color.max])),"fixed"!==global_data.style[t].opa.var&&(e.opa=r["scale"+global_data.style[t].opa.cat]().domain([0,Number(global_data.style[t].opa.vmax)]).range([Number(global_data.style[t].opa.min),Number(global_data.style[t].opa.max)])),console.log(e),e}function j(t,e,n,i,r,o){var a=new y.a({name:n,source:new b.a({url:e,format:new w.a({})})});return a.setOpacity(i),a.setStyle(Object(s.b)(i,r,o)),t.addLayer(a),a}function F(t,e,n){var i=new y.a({name:n,source:new b.a({url:e,format:new w.a({})})});return t.addLayer(i),i}function z(t,e,n,i,r,o){var s=new b.a({features:new w.a({featureProjection:global_data.projection.name}).readFeatures(e)}),a=new y.a({name:n,source:s});return t.addLayer(a),a}t.ListUrl={graticules_20:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_graticules_20.geojson",countries:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_admin_0_countries.geojson",urban_area:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_urban_areas.geojson",bounding_box:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_wgs84_bounding_box.geojson",river:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_rivers_lake_centerlines_scale_rank.geojson",land:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_land.geojson",lakes:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_lakes.geojson",graticules_5:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_graticules_5.geojson",airports:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_airports.geojson",disputed_borders:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_admin_0_boundary_lines_disputed_areas.geojson",disputed_area:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_admin_0_disputed_areas.geojson"}}).call(this,n(93),n(51),n(94))},function(t,e,n){"use strict";var i=n(15),r=n(31),o="active",s=n(6);n.d(e,"b",function(){return l}),n.d(e,"c",function(){return u}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return h}),n.d(e,"f",function(){return f}),n.d(e,"g",function(){return p});var a=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(o)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(o,t)},e.prototype.setMap=function(t){this.map_=t},e}(i.a);function l(t,e,n){var i=t.getCenter();if(i){var o=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);n?t.animate({duration:n,easing:r.d,center:o}):t.setCenter(o)}}function u(t,e,n,i){e=t.constrainRotation(e,0),c(t,e,n,i)}function c(t,e,n,i){if(void 0!==e){var o=t.getRotation(),s=t.getCenter();void 0!==o&&s&&i>0?t.animate({rotation:e,anchor:n,duration:i,easing:r.b}):t.rotate(e,n)}}function h(t,e,n,i,r){e=t.constrainResolution(e,0,r),p(t,e,n,i)}function f(t,e,n,i){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var a=t.getResolutions();o=Object(s.a)(o,t.getMinResolution()||a[a.length-1],t.getMaxResolution()||a[0])}if(n&&void 0!==o&&o!==r){var l=t.getCenter(),u=t.calculateCenterZoom(o,n);u=t.constrainCenter(u),n=[(o*l[0]-r*u[0])/(o-r),(o*l[1]-r*u[1])/(o-r)]}p(t,o,n,i)}function p(t,e,n,i){if(e){var o=t.getResolution(),s=t.getCenter();if(void 0!==o&&s&&e!==o&&i)t.animate({resolution:e,anchor:n,duration:i,easing:r.b});else{if(n){var a=t.calculateCenterZoom(e,n);t.setCenter(a)}t.setResolution(e)}}}e.a=a},function(t,e,n){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"c",function(){return a}),n.d(e,"b",function(){return l}),n.d(e,"d",function(){return u}),n.d(e,"f",function(){return c}),n.d(e,"g",function(){return h}),n.d(e,"h",function(){return f}),n.d(e,"e",function(){return p});n(17);var i=n(11),r=n(16),o=n(18),s=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},a=function(t){return t.target.getTargetElement()===document.activeElement},l=r.b,u=function(t){var e=t.originalEvent;return 0==e.button&&!(o.i&&o.d&&e.ctrlKey)},c=(r.a,function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey}),h=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},f=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},p=function(t){var e=t.pointerEvent;return Object(i.a)(void 0!==e,56),"mouse"==e.pointerType}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},r={};r[i.DEGREES]=2*Math.PI*6370997/360,r[i.FEET]=.3048,r[i.METERS]=1,r[i.USFEET]=1200/3937,e.b=i},function(t,e,n){"use strict";n.d(e,"c",function(){return l}),n.d(e,"a",function(){return c});var i=n(11),r=(n(3),n(106)),o=n(26),s=n(61),a=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=h,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};function l(t){var e;if("function"==typeof t)e=t;else{var n;if(Array.isArray(t))n=t;else Object(i.a)("function"==typeof t.getZIndex,41),n=[t];e=function(){return n}}return e}a.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new a({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},a.prototype.getRenderer=function(){return this.renderer_},a.prototype.setRenderer=function(t){this.renderer_=t},a.prototype.getGeometry=function(){return this.geometry_},a.prototype.getGeometryFunction=function(){return this.geometryFunction_},a.prototype.getFill=function(){return this.fill_},a.prototype.setFill=function(t){this.fill_=t},a.prototype.getImage=function(){return this.image_},a.prototype.setImage=function(t){this.image_=t},a.prototype.getStroke=function(){return this.stroke_},a.prototype.setStroke=function(t){this.stroke_=t},a.prototype.getText=function(){return this.text_},a.prototype.setText=function(t){this.text_=t},a.prototype.getZIndex=function(){return this.zIndex_},a.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=h,this.geometry_=t},a.prototype.setZIndex=function(t){this.zIndex_=t};var u=null;function c(t,e){if(!u){var n=new o.a({color:"rgba(255,255,255,0.4)"}),i=new s.a({color:"#3399CC",width:1.25});u=[new a({image:new r.a({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return u}function h(t){return t.getGeometry()}e.b=a},function(t,e,n){"use strict";var i=n(2),r=n(32),o=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};o.prototype.clone=function(){var t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0})},o.prototype.getColor=function(){return this.color_},o.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},o.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+Object(r.b)(t):this.checksum_=Object(i.c)(this.color_):this.checksum_="f-"}return this.checksum_},e.a=o},function(t,e,n){"use strict";n.d(e,"c",function(){return o}),n.d(e,"d",function(){return s}),n.d(e,"e",function(){return a}),n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u}),n.d(e,"f",function(){return c});var i,r,o="ol-hidden",s="ol-selectable",a="ol-unselectable",l="ol-control",u="ol-collapsed",c=(r={},function(t){if(i||(i=document.createElement("div").style),!(t in r)){i.font=t;var e=i.fontFamily;if(i.font="",!e)return null;r[t]=e.split(/,\s?/)}return r[t]})},function(t,e,n){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},function(t,e,n){"use strict";n.d(e,"b",function(){return r});var i=function(t){this.propagationStopped,this.type=t,this.target=null};function r(t){t.stopPropagation()}i.prototype.preventDefault=function(){this.propagationStopped=!0},i.prototype.stopPropagation=function(){this.propagationStopped=!0},e.a=i},function(t,e,n){"use strict";function i(t){return Math.pow(t,3)}function r(t){return 1-i(1-t)}function o(t){return 3*t*t-2*t*t*t}function s(t){return t}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return s})},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return h}),n.d(e,"c",function(){return p});var i=n(11),r=n(6),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=/^([a-z]*)$/i;function a(t){return"string"==typeof t?t:p(t)}var l,u,c=(l={},u=0,function(t){var e;if(l.hasOwnProperty(t))e=l[t];else{if(u>=1024){var n=0;for(var r in l)0==(3&n++)&&(delete l[r],--u)}e=function(t){var e,n,r,a,l;if(s.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),o.exec(t)){var u,c=t.length-1;u=c<=4?1:2;var h=4===c||8===c;e=parseInt(t.substr(1+0*u,u),16),n=parseInt(t.substr(1+1*u,u),16),r=parseInt(t.substr(1+2*u,u),16),a=h?parseInt(t.substr(1+3*u,u),16):255,1==u&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,h&&(a=(a<<4)+a)),l=[e,n,r,a/255]}else 0==t.indexOf("rgba(")?f(l=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((l=t.slice(4,-1).split(",").map(Number)).push(1),f(l)):Object(i.a)(!1,14);return l}(t),l[t]=e,++u}return e});function h(t){return Array.isArray(t)?t:c(t)}function f(t){return t[0]=Object(r.a)(t[0]+.5|0,0,255),t[1]=Object(r.a)(t[1]+.5|0,0,255),t[2]=Object(r.a)(t[2]+.5|0,0,255),t[3]=Object(r.a)(t[3],0,1),t}function p(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}},function(t,e,n){"use strict";(function(t,i){n.d(e,"k",function(){return f}),n.d(e,"e",function(){return p}),n.d(e,"f",function(){return d}),n.d(e,"d",function(){return g}),n.d(e,"j",function(){return v}),n.d(e,"a",function(){return b}),n.d(e,"h",function(){return x}),n.d(e,"g",function(){return w}),n.d(e,"i",function(){return E}),n.d(e,"c",function(){return P}),n.d(e,"l",function(){return j}),n.d(e,"b",function(){return F});var r=n(46),o=n(20),s=n(19),a=(n(108),n(113),{Category10:t.schemeCategory10,Accent:t.schemeAccent,Dark2:t.schemeDark2,Paired:t.schemePaired,Pastel1:t.schemePastel1,Pastel2:t.schemePastel2,Set1:t.schemeSet1,Set2:t.schemeSet2,Set3:t.schemeSet3});const l={BrBG:t.schemeBrBG,PRGn:t.schemePRGn,PiYG:t.schemePiYG,PuOr:t.schemePuOr,RdBu:t.schemeRdBu,RdGy:t.schemeRdGy,RdYlBu:t.schemeRdYlBu,RdYlGn:t.schemeRdYlGn,Spectral:t.schemeSpectral},u={Blues:t.schemeBlues,Greens:t.schemeGreens,Greys:t.schemeGreys,Oranges:t.schemeOranges,Purples:t.schemePurples,Reds:t.schemeReds},c={BuGn:t.schemeBuGn,BuPu:t.schemeBuPu,GnBu:t.schemeGnBu,OrRd:t.schemeOrRd,PuBuGn:t.schemePuBuGn,PuBu:t.schemePuBu,PuRd:t.schemePuRd,RdPu:t.schemeRdPu,YlGnBu:t.schemeYlGnBu,YlGn:t.schemeYlGn,YlOrBr:t.schemeYlOrBr,YlOrRd:t.schemeYlOrRd},h={Viridis:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Inferno:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Magma:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Plasma:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Warm:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Cool:[[],[],[],[],[],[],[],[],[],[],[],[],[]],CubehelixDefault:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Rainbow:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Sinebow:[[],[],[],[],[],[],[],[],[],[],[],[],[]]};function f(t,e,n,r,s){i("#strokeColorpickerChange").spectrum({color:s.stroke}),i("#fillColorpickerChange").spectrum({color:s.fill}),document.getElementById("opacityLayer"+n).value=s.opacity,i("#addNewLayerButtonChange").replaceWith(i("#addNewLayerButtonChange").clone()),document.getElementById("addNewLayerButtonChange").addEventListener("click",function(){Object(o.h)(t,global_data.layers,"Change",r)})}function p(e,n){for(var i=[],r=global_data.style[e].color.min,o=global_data.style[e].color.max,s=0;s<7;s++){var a=(r+(o-r)/7*(7-s)-r)/(o-r);i.push([Number(o/(s+1)).toString(),t.color(t["interpolate"+global_data.style[e].color.palette](a)).rgb().toString()])}return i}function d(e){for(var n=[],i=global_data.style[e].opa.min,r=global_data.style[e].opa.vmax,o=global_data.style[e].opa.max,s=t.color("grey"),a=0;a<7;a++)s.opacity=o-a*(o-i)/7,n.push([Number(r/(a+1)),s.rgb().toString()]);return n}function g(e){for(var n={},i=global_data.style[e].categorialOrderedColors,r=!1,o=Object.keys(global_data.style[e].categorialOrderedColors),s=0;s<o.length;s++)typeof t.color("grey").rgb()!=typeof i[o[s]]?n[o[s]]=i[o[s]]:r=!0;return r&&(n.Others=t.color("grey").rgb().toString()),n}function m(t){console.log("style"),t.link.geometry.type=document.getElementById("arrowtype").value,"CurveArrow"===document.getElementById("arrowtype").value||"CurveOneArrow"===document.getElementById("arrowtype").value?(console.log(document.getElementById("baseCurveArrow")),t.link.geometry.place.base=Number(document.getElementById("baseCurveArrow").value),t.link.geometry.place.height=Number(document.getElementById("heightCurveArrow").value)):"StraightArrow"===document.getElementById("arrowtype").value&&(t.link.geometry.place.base=null,t.link.geometry.place.height=null),"oriented"===document.getElementById("arrowData").value&&"TriangleArrow"!==document.getElementById("arrowtype").value&&"CurveOneArrow"!==document.getElementById("arrowtype").value?(t.link.geometry.oriented=document.getElementById("arrowData").value,t.link.geometry.head.width=Number(document.getElementById("widthArrow").value),t.link.geometry.head.height=Number(document.getElementById("heightArrow").value)):(t.link.geometry.oriented=document.getElementById("arrowData").value,t.link.geometry.head.width=null,t.link.geometry.head.height=null)}function v(t,e){"link"===e&&m(t);var n=document.getElementById("semioSelectorSizeAdd"+e).value,r=document.getElementById("ratioMinMaxSizeAdd"+e).value,o=document.getElementById("semioSelectorColorAdd"+e).value,s=e.toLowerCase();if("node"===s){var a=document.getElementById("semioSelectorTextAdd"+e).value;t[s].text=a}else m(t);var l=document.getElementById("semioSelectorOpaAdd"+e).value;t[s].opa.var=l,"fixed"===l?t[s].opa.vmax=Number(document.getElementById("ratioMaxOpaAdd"+e).value):(t[s].opa.vmax=y(l,s)[1],t[s].opa.min=document.getElementById("ratioMinOpaAdd"+e).value,t[s].opa.max=document.getElementById("ratioMaxOpaAdd"+e).value,t[s].opa.cat=document.getElementById("typeOpaAdd"+e).value);var u=[0,0],c=[0,0];if("fixed"!==n){u=_(n,s);var h=document.getElementById("typeSizeAdd"+e).value}if("fixed"===o)t[s].color.palette=i("#semioColorpickerAdd"+e).spectrum("get").toHexString();else{var f=document.getElementById("typeColorAdd"+e).value;t[s].color.palette=i("#colorPickerAdd"+e).find(".selected").attr("value"),t[s].color.cat=f,c=[0,0],"number"===f&&(c=y(o,s)),"categorical"===f&&window[s+"OrderedCategory"](o,t[s])}t[s].color.var=o,t[s].color.max=c[1],t[s].color.min=c[0],t[s].size.var=n,t[s].size.cat=h,t[s].size.ratio=r,t[s].size.max=u[1],t[s].size.min=u[0],b(s)}function y(t,e){if(console.log(t),console.log("AYAYAY"),"node"===e)var n=Object.keys(data.hashedStructureData).map(function(e){return Number(data.hashedStructureData[e].properties[t])});else if("link"===e){console.log("AYAYAY");var i=Object(o.k)(data.links,[...Array(data.links.length).keys()],global_data.ids.linkID[0],global_data.ids.linkID[1]),r=Object.keys(i).map(function(e){return Object.keys(i[e]).map(function(n){if("sum"===global_data.files.aggr)return i[e][n].reduce(function(e,n){return e+Number(data.links[n][t])},0);Math.max(...i[e][n].map(function(e){return Number(data.links[e][t])}))})});console.log(r);n=r.flat()}return[Math.min(...n),Math.max(...n)]}function _(t,e){if(console.log("AYAYAY"),"node"===e)var n=Object.keys(data.hashedStructureData).map(function(e){return Number(data.hashedStructureData[e].properties[t])});else if("link"===e){var i=Object(o.k)(data.links,[...Array(data.links.length).keys()],global_data.ids.linkID[0],global_data.ids.linkID[1]);n=Object.keys(i).map(function(e){return Object.keys(i[e]).map(function(n){if("sum"===global_data.files.aggr)return i[e][n].reduce(function(e,n){return e+Number(data.links[n][t])},0);Math.max(...i[e][n].map(function(e){return Number(data.links[e][t])}))})}).flat()}return[Math.min(...n),Math.max(...n)]}function b(t){var e=0,n=0,r=Object(s.k)(global_data.filter.link,data),a=Object(s.b)(data.hashedStructureData),l=performance.now();void 0!==global_data.layers.features.node&&(n=global_data.layers.features.node.getZIndex()),void 0!==global_data.layers.features.link&&(e=global_data.layers.features.link.getZIndex()),"node"===t?(void 0!==global_data.layers.features.link&&(map.removeLayer(global_data.layers.features.link),global_data.layers.features.link=Object(o.j)(map,data.links,data.hashedStructureData,global_data.style,global_data.ids.linkID[0],global_data.ids.linkID[1],r,a),global_data.layers.features.link.setZIndex(e)),map.removeLayer(global_data.layers.features.node),global_data.layers.features.node=Object(o.f)(map,data.links,data.hashedStructureData,global_data.style,r,a),global_data.layers.features.node.setZIndex(n)):"link"===t&&(map.removeLayer(global_data.layers.features.link),global_data.layers.features.link=Object(o.j)(map,data.links,data.hashedStructureData,global_data.style,global_data.ids.linkID[0],global_data.ids.linkID[1],r,a),global_data.layers.features.link.setZIndex(e));var u=performance.now();console.log("Call to doSomething took "+(u-l)+" milliseconds.");var c=0;i("#accordionLayerControl").find("li").each(function(){var t=i(this).attr("value");void 0!==global_data.layers.base[t]&&global_data.layers.base[t].layer.setZIndex(-c),void 0!==global_data.layers.features[t]&&global_data.layers.features[t].setZIndex(-c),c+=1}),Object(o.e)()}function x(e,n){console.log(n),n.categorialOrderedColors={};let i={};Object.keys(data.hashedStructureData).map(function(t){return data.hashedStructureData[t].properties[e]}).forEach(t=>i[t]=1+(i[t]||0));for(var r=Object.keys(i).sort(function(t,e){return i[t]-i[e]}),o=a[n.color.palette].length,s=0;s<r.length;s++)n.categorialOrderedColors[r[s]]=s<o?a[n.color.palette][s]:t.color("grey").rgb()}function w(e,n){n.categorialOrderedColors={};let i={};data.links.map(function(t){return t[e]}).forEach(t=>i[t]=1+(i[t]||0));for(var r=Object.keys(i).sort(function(t,e){return i[t]-i[e]}),o=a[n.color.palette].length,s=0;s<r.length;s++)n.categorialOrderedColors[r[s]]=s<o?a[n.color.palette][s]:t.color("grey").rgb()}function E(t,e){if("node"===e)var n=Object.keys(data.hashedStructureData).map(function(e){return Number(data.hashedStructureData[e].properties[t])});else if("link"===e)n=data.links.map(function(e){return Number(e[t])});return[Math.min(...n),Math.max(...n)]}function C(t,e,n,r){i("#"+n).append(i("<div>").attr("class","col-md-3").append('<label class="text-muted h5" for="semioSelectorColor"'+e+">Variable</label>").append(i("<select>").attr("class","custom-select").attr("id","semioSelectorColor"+e).append("<option selected disable>Choose...</option>").append('<option value="fixed">fixed</option>')));for(var o=0;o<r.length;o++)i("#semioSelectorColor"+e).append(i("<option>",{text:r[o]}).attr("value",r[o]));document.getElementById("semioSelectorColor"+e).addEventListener("change",function(){N(n,e)})}function S(t,e,n,r){i("#"+n).append(i("<div>").attr("class","col-md-12").append('<label class="text-muted h5">Variable</label>').append(i("<select>").attr("class","custom-select").attr("id","semioSelectorText"+e).append("<option selected disable>Choose...</option>")));for(var o=0;o<r.length;o++)i("#semioSelectorText"+e).append(i("<option>",{text:r[o]}).attr("value",r[o]))}function M(t,e,n,r){i("#"+n).append(i("<div>").attr("class","col-md-2").append('<label class="text-muted h5">Variable</label>').append(i("<select>").attr("class","custom-select").attr("id","semioSelectorSize"+e).append("<option selected disable>Choose...</option>").append('<option value="fixed">fixed</option>')));for(var o=0;o<r.length;o++)i("#semioSelectorSize"+e).append(i("<option>",{text:r[o]}).attr("value",r[o]));console.log(t),document.getElementById("semioSelectorSize"+e).addEventListener("change",function(){T(n,e,t)})}function I(t,e,n,r){i("#"+n).append(i("<div>").attr("class","col-md-3").append('<label class="text-muted h5">Variable</label>').append(i("<select>").attr("class","custom-select").attr("id","semioSelectorOpa"+e).append('<option selected value="fixed">fixed</option>')));for(var o=0;o<r.length;o++)i("#semioSelectorOpa"+e).append(i("<option>",{text:r[o]}).attr("value",r[o]));document.getElementById("semioSelectorOpa"+e).addEventListener("change",function(){O(n,e)}),O(n,e)}function O(t,e){if(null!==document.getElementById("semioSelectorOpa"+e)&&(i("#semioOpaMinRatio"+e).remove(),i("#semioOpaMaxRatio"+e).remove(),i("#semioOpaRatioCat"+e).remove()),"fixed"!==document.getElementById("semioSelectorOpa"+e).value)return i("#"+t).append(i("<div>").attr("id","semioOpaRatioCat"+e).attr("class","col-md-3").append('<label class="text-muted h5">Scale</label>').append(i("<select>").attr("class","custom-select").attr("id","typeOpa"+e).append(i("<option>",{text:"Linear",value:"Linear"})).append(i("<option>",{text:"Square",value:"Pow"})).append(i("<option>",{text:"SquareRoot",value:"Sqrt"})).append(i("<option>",{text:"Logarithmic",value:"Log"})))),i("#"+t).append(i("<div>").attr("id","semioOpaMinRatio"+e).attr("class","col-md-3").append('<label class="text-muted h5">Min</label>').append(i("<input>").attr("class","form-control").attr("id","ratioMinOpa"+e).attr("min",0).attr("step",.05).attr("max",1).attr("type","number").attr("value",.25))),void i("#"+t).append(i("<div>").attr("id","semioOpaMaxRatio"+e).attr("class","col-md-3").append('<label class="text-muted h5">Max</label>').append(i("<input>").attr("class","form-control").attr("id","ratioMaxOpa"+e).attr("min",0).attr("step",.05).attr("max",1).attr("type","number").attr("value",.85)));i("#"+t).append(i("<div>").attr("id","semioOpaMaxRatio"+e).attr("class","col-md-3").append('<label class="text-muted h5">Value</label>').append(i("<input>").attr("class","form-control").attr("id","ratioMaxOpa"+e).attr("min",0).attr("step",.05).attr("max",1).attr("type","number").attr("value",.85)))}function T(t,e,n){if(null!==document.getElementById("semioSelectorSize"+e)&&(i("#semioSizeRatio"+e).remove(),i("#semioSizeRatioCat"+e).remove()),console.log(n),"fixed"!==document.getElementById("semioSelectorSize"+e).value){"Link"===n?i("#"+t).append(i("<div>").attr("id","semioSizeRatioCat"+e).attr("class","col-md-4").append('<label class="text-muted h5">Scale</label>').append(i("<select>").attr("class","custom-select").attr("id","typeSize"+e).append(i("<option>",{text:"Linear",value:"Linear"})).append(i("<option>",{text:"Square",value:"Pow"})).append(i("<option>",{text:"SquareRoot",value:"Sqrt"})).append(i("<option>",{text:"Logarithmic",value:"Log"})))):i("#"+t).append(i("<div>").attr("id","semioSizeRatioCat"+e).attr("class","col-md-4").append('<label class="text-muted h5">Scale</label>').append(i("<select>").attr("class","custom-select").attr("id","typeSize"+e).append(i("<option>",{text:"Square",value:"Pow"})).append(i("<option>",{text:"SquareRoot",value:"Sqrt"})).append(i("<option>",{text:"Logarithmic",value:"Log"}))));return i("#"+t).append(i("<div>").attr("id","semioSizeRatio"+e).attr("class","col-md-4").append('<label class="text-muted h5">Ratio  <button  class="badge badge-pill badge-secondary"  data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content="It is the percentage of the arrow width." ><img class="small-icon" src="assets/svg/si-glyph-info.svg"/></button></label>').append(i("<input>").attr("class","form-control").attr("id","ratioMinMaxSize"+e).attr("type","number").attr("value",100))),void i('[data-toggle="popover"]').popover()}i("#"+t).append(i("<div>").attr("id","semioSizeRatio"+e).attr("class","col-md-4").append('<label class="text-muted h5">Width</label>').append(i("<input>").attr("class","form-control").attr("id","ratioMinMaxSize"+e).attr("type","number").attr("value",10)))}function N(t,e){null!==i("#typeColor"+e)&&(i("#typeColor"+e).remove(),i("#labelTypeColor"+e).remove(),i("#colorPicker"+e).remove()),"fixed"!==document.getElementById("semioSelectorColor"+e).value&&(i("#"+t+">div").append('<label class="text-muted h5 mt-2" for="typeColor'+e+'" id="labelTypeColor'+e+'">Type</label>').append(i("<select>").attr("class","custom-select").attr("id","typeColor"+e).append(i("<option>",{text:"qualitative",value:"categorical"})).append(i("<option>",{text:"quantitative",value:"number"}))),document.getElementById("typeColor"+e).addEventListener("change",function(){k(e,t)})),k(e,t)}function k(e,n){if("fixed"===document.getElementById("semioSelectorColor"+e).value)return i("#colorPicker"+e).remove(),void function(t,e){var n="colorPicker"+t;i("#"+e).append(i("<div>").attr("id",n).attr("class","col-md-8").append('<label class="text-muted h5" for="semioColorpicker'+t+'">Choose color</label>').append(i("<input>").attr("id","semioColorpicker"+t))),i("#semioColorpicker"+t).spectrum({color:"aliceblue"})}(e,n);null!==document.getElementById("semioSelectorColor"+e).value&&i("#colorPicker"+e).remove();var r=document.getElementById("typeColor"+e).value;null!==document.getElementById("colorPicker"+e)&&i("#colorPicker"+e).remove(),"categorical"===r?function(e,n){var r=Object.keys(a)[0],o="colorPicker"+e;i("#"+n).append(i("<div>").attr("id",o).attr("class","col-md-7 align-self-end").append('<label class="text-muted h5">Palette</label>').append(i("<div>").attr("class","row")));for(var s=Object.keys(a),l=0;l<s.length;l++){i("#"+o+">div").append(i("<div>").attr("id",s[l]+e).attr("value",s[l])),r===s[l]?(i("#"+s[l]+e).attr("class","ramps selected"),!1,r=s[l]):i("#"+s[l]+e).attr("class","ramps");for(var u='<svg width="15" height="120">',c=0;c<8;c++)u+='<rect fill="'+t.rgb(a[s[l]][c])+'" width="15" height="15" y="'+15*c+'"></rect>';u+="</svg>",i("#"+s[l]+e).append(u).click(function(){L(i(this),e)})}}(e,n):"number"===r&&function(t,e){Object.keys(l)[0];i("#"+e).append(i("<div>").attr("id","colorPicker"+t).attr("class","col-md-9").append(i("<table>").attr("class","table-borderless").append(i("<tbody>").append(i("<tr>").append(i("<td>").append('<label class="text-muted h5" for="diverging'+t+'">Diverging</label>')).append(i("<td>").append('<label class="text-muted h5" for="diverging'+t+'">Extra Palettes</label>'))).append(i("<tr>").append(i("<td>").attr("id","diverging"+t)).append(i("<td>").attr("class","ml-1").attr("id","diverColor"+t))).append(i("<tr>").append(i("<td>").append('<label class="text-muted h4">Sequential</label>'))).append(i("<tr>").append(i("<td>").append('<label class="text-muted h5" for="multi'+t+'">Multi Hue</label>')).append(i("<td>").append('<label class="text-muted h5" for="single'+t+'">Single Hue</label>'))).append(i("<tr>").append(i("<td>").attr("id","multi"+t)).append(i("<td>").attr("class","ml-1").attr("id","single"+t)))))),D(u,8,"single"+t,t),D(c,8,"multi"+t,t),D(l,8,"diverging"+t,t),D(h,8,"diverColor"+t,t)}(e,n)}function P(){for(var e=[0,1.5,3,4.5,5.5,7,8.5,10],n=Object.keys(h),i=0;i<e.length;i++)for(var r=0;r<n.length;r++)h[n[r]][8].push(t["interpolate"+n[r]](.1*e[i]))}function A(t,e){!function(t){i("#"+t).find(":selected").prop("selected",!1)}(e),t.prop("selected",!0)}function L(t,e){if(!t.hasClass("selected")){!function(t){i("#colorPicker"+t).find("div.selected").removeClass("selected").attr("ramps")}(e),t.attr("class","ramps selected");t.attr("value")}}function D(t,e,n,r){for(var o=Object.keys(t),s=0;s<o.length;s++){if(i("#"+n).append(i("<div>").attr("id",o[s]+r).attr("value",o[s])),a===o[s]){i("#"+o[s]+r).attr("class","ramps selected");var a=o[s]}else i("#"+o[s]+r).attr("class","ramps");i("#"+o[s]+r).append(R(t[o[s]][8],e)).click(function(){L(i(this),r)})}}function R(e,n){for(var i='<svg width="15" height="'+15*n+'">',r=0;r<n;r++)i+='<rect fill="'+t.rgb(e[r])+'" width="15" height="15" y="'+15*r+'"></rect>';return i+="</svg>"}function j(t){console.log(t),null!==document.getElementById("semioColorAdd"+t)&&i("#semioColorAdd"+t).children().remove(),null!==document.getElementById("semioSizeAdd"+t)&&i("#semioSizeAdd"+t).children().remove(),null!==document.getElementById("semioTextAdd"+t)&&i("#semioTextAdd"+t).children().remove(),null!==document.getElementById("semioOpaAdd"+t)&&i("#semioOpaAdd"+t).children().remove();var e=Object(r.d)(t.toLowerCase());console.log(t),console.log(e),C(0,"Add"+t,"semioColorAdd"+t,e),M(t,"Add"+t,"semioSizeAdd"+t,e),"Node"===t&&S(0,"Add"+t,"semioTextAdd"+t,e),I(name,"Add"+t,"semioOpaAdd"+t,e)}function F(t,e){null!==document.getElementById("semioColorChange")&&i("#semioColorChange").children().remove(),null!==document.getElementById("semioSizeChange")&&i("#semioSizeChange").children().remove(),null!==document.getElementById("semioTextChange")&&i("#semioTextChange").children().remove(),null!==document.getElementById("semioOpaChange")&&i("#semioOpaChange").children().remove();var n=Object(r.d)(t);C(0,"Change","semioColorChange",n),M(t,"Change","semioSizeChange",n),S(0,"Change","semioTextChange",n),I(0,"Change","semioOpaChange",n),function(t,e){A(i("#semioSelectorTextChange").children('[value="'+e.text+'"]'),"semioSelectorTextChange"),A(i("#semioSelectorSizeChange").children('[value="'+e.size.var+'"]'),"semioSelectorColorChange"),A(i("#semioSelectorOpaChange").children('[value="'+e.opa.var+'"]'),"semioSelectorOpaChange"),A(i("#semioSelectorColorChange").children('[value="'+e.color.var+'"]'),"semioSelectorColorChange"),N("semioColorChange","Change"),A(i("#typeColorChange").children('[value="'+e.color.cat+'"]'),"typeColorChange"),k("Change","semioColorChange"),"fixed"!==e.color.var?L(i("#colorPickerChange").find('[value="'+e.color.palette+'"]'),"Change"):i("#semioColorpickerChange").spectrum({color:e.color.palette});T("semioSizeChange","Change",t.charAt(0).toUpperCase()+t.slice(1)),"fixed"!==e.size.var?(A(i("#typeSizeChange").children('[value="'+e.size.cat+'"]'),"typeSizeChange"),i("#ratioMinMaxSizeChange").attr("value",e.size.ratio)):i("#ratioMinMaxSizeChange").attr("value",e.size.ratio);O("semioOpaChange","Change"),"fixed"!==e.opa.var?(A(i("#typeOpaChange").children('[value="'+e.opa.cat+'"]'),"typeOpaChange"),i("#ratioMaxOpaChange").attr("value",e.opa.max),i("#ratioMinOpaChange").attr("value",e.opa.min)):(A(i("#typeOpaChange").children('[value="'+e.opa.cat+'"]'),"typeOpaChange"),i("#ratioMaxOpaChange").attr("value",e.opa.vmax))}(t,e[t]),i("#changeStyleButton").replaceWith(i("#changeStyleButton").clone()),document.getElementById("changeStyleButton").addEventListener("click",function(){!function(t,e,n){var r=document.getElementById("semioSelectorSizeChange").value,o=document.getElementById("semioSelectorColorChange").value,s=document.getElementById("ratioMinMaxSizeChange").value,a=document.getElementById("semioSelectorTextChange").value,l=document.getElementById("semioSelectorOpaChange").value;e[t].opa.var=l,"fixed"===l?e[t].opa.vmax=document.getElementById("ratioMaxOpaChange").value:(e[t].opa.vmax=y(l,t)[1],e[t].opa.min=document.getElementById("ratioMinOpaChange").value,e[t].opa.max=document.getElementById("ratioMaxOpaChange").value,e[t].opa.cat=document.getElementById("typeOpaChange").value);var u=[0,0],c=[0,0];if("fixed"!==r){u=_(r,t);var h=document.getElementById("typeSizeChange").value}if("fixed"===o)e[t].color.palette=i("#semioColorpickerChange").spectrum("get").toHexString();else{var f=document.getElementById("typeColorChange").value;e[t].color.cat=f,e[t].color.palette=i("#colorPickerChange").find(".selected").attr("value"),"number"===f?c=y(o,t):"categorical"===f&&window[t+"OrderedCategory"](o,e[t])}e[t].color.var=o,e[t].color.max=c[1],e[t].color.min=c[0],e[t].text=a,e[t].size.var=r,e[t].size.cat=h,e[t].size.ratio=s,e[t].size.max=u[1],e[t].size.min=u[0],b(t)}(t,e,global_data.layers.features)})}window.linkOrderedCategory=w,window.nodeOrderedCategory=x}).call(this,n(94),n(51))},function(t,e,n){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,n){"use strict";n.d(e,"b",function(){return h});var i=n(2),r=n(0),o=n(97),s=n(22),a=n(41),l=n(10),u=function(t){function e(){t.call(this),this.layout=s.a.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return Object(r.o)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(i.b)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(l.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=c(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(i.b)()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=c(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=s.a.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=s.a.XY:3==t?e=s.a.XYZ:4==t&&(e=s.a.XYZM);return e}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Object(a.a)(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var o=n;o||(o=Object(r.x)(this.getExtent()));var s=this.getFlatCoordinates();if(s){var l=this.getStride();Object(a.b)(s,0,s.length,l,t,i,o,s),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Object(a.d)(n,0,n.length,i,t,e,n),this.changed()}},e}(o.a);function c(t){var e;return t==s.a.XY?e=2:t==s.a.XYZ||t==s.a.XYM?e=3:t==s.a.XYZM&&(e=4),e}function h(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return Object(a.c)(i,0,i.length,r,e,n)}return null}e.a=u},function(t,e,n){"use strict";e.a={ADD:"add",REMOVE:"remove"}},function(t,e,n){!function(t){"use strict";function e(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.bbox,r=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");i&&S(i),r&&M(r);var o={type:"Feature"};return r&&(o.id=r),i&&(o.bbox=i),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r,s=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(s&&S(s),t){case"Point":r=i(e).geometry;break;case"LineString":r=a(e).geometry;break;case"Polygon":r=o(e).geometry;break;case"MultiPoint":r=h(e).geometry;break;case"MultiLineString":r=c(e).geometry;break;case"MultiPolygon":r=f(e).geometry;break;default:throw new Error(t+" is invalid")}return s&&(r.bbox=s),r}function i(t,n,i){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!E(t[0])||!E(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,i)}function r(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return u(t.map(function(t){return i(t,e)}),n)}function o(t,n,i){if(!t)throw new Error("coordinates is required");for(var r=0;r<t.length;r++){var o=t[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++){if(0===r&&0===s&&!E(o[0][0])||!E(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,i)}function s(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return u(t.map(function(t){return o(t,e)}),n)}function a(t,n,i){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!E(t[0][1])||!E(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,i)}function l(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return u(t.map(function(t){return a(t,e)}),n)}function u(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&S(n),i&&M(i);var r={type:"FeatureCollection"};return i&&(r.id=i),n&&(r.bbox=n),r.features=t,r}function c(t,n,i){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,i)}function h(t,n,i){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,i)}function f(t,n,i){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,i)}function p(t,n,i){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,i)}function d(t,e){if(null==t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function g(t,e){if(null==t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=wo[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function m(t,e){if(null==t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=wo[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function v(t,e){return _(m(t,e))}function y(t){if(null==t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function _(t){if(null==t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function b(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180}function x(t,e,n){if(null==t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return g(m(t,e),n||"kilometers")}function w(t,e,n){if(null==t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var i=Co[e||"meters"];if(!i)throw new Error("invalid original units");var r=Co[n||"kilometers"];if(!r)throw new Error("invalid final units");return t/i*r}function E(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function C(t){return!!t&&t.constructor===Object}function S(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach(function(t){if(!E(t))throw new Error("bbox must only contain numbers")})}function M(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function I(t,e,n){if(null!==t)for(var i,r,o,s,a,l,u,c,h=0,f=0,p=t.type,d="FeatureCollection"===p,g="Feature"===p,m=d?t.features.length:1,v=0;v<m;v++){a=(c=!!(u=d?t.features[v].geometry:g?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var y=0;y<a;y++){var _=0,b=0;if(null!==(s=c?u.geometries[y]:u)){l=s.coordinates;var x=s.type;switch(h=!n||"Polygon"!==x&&"MultiPolygon"!==x?0:1,x){case null:break;case"Point":e(l,f,v,_,b),f++,_++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++)e(l[i],f,v,_,b),f++,"MultiPoint"===x&&_++;"LineString"===x&&_++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(r=0;r<l[i].length-h;r++)e(l[i][r],f,v,_,b),f++;"MultiLineString"===x&&_++,"Polygon"===x&&b++}"Polygon"===x&&_++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for("MultiPolygon"===x&&(b=0),r=0;r<l[i].length;r++){for(o=0;o<l[i][r].length-h;o++)e(l[i][r][o],f,v,_,b),f++;b++}_++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)I(s.geometries[i],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function O(t,e,n,i){var r=n;return I(t,function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)},i),r}function T(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function N(t,e,n){var i=n;return T(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i}function k(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function P(t,e,n){var i=n;return k(t,function(t,r){i=0===r&&void 0===n?t:e(i,t,r)}),i}function A(t){var e=[];return I(t,function(t){e.push(t)}),e}function L(t,e){var n,i,r,o,s,a,l,u,c,h,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,g=p?t.features.length:1;for(n=0;n<g;n++){for(a=p?t.features[n].geometry:d?t.geometry:t,u=p?t.features[n].properties:d?t.properties:{},c=p?t.features[n].bbox:d?t.bbox:void 0,h=p?t.features[n].id:d?t.id:void 0,s=(l=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,r=0;r<s;r++)if(null!==(o=l?a.geometries[r]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,f,u,c,h);break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)e(o.geometries[i],f,u,c,h);break;default:throw new Error("Unknown Geometry Type")}else e(null,f,u,c,h);f++}}function D(t,e,n){var i=n;return L(t,function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)}),i}function R(t,n){L(t,function(t,i,r,o,s){var a,l=null===t?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,r,{bbox:o,id:s}),i,0)}switch(l){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}t.coordinates.forEach(function(t,o){n(e({type:a,coordinates:t},r),i,o)})})}function j(t,e,n){var i=n;return R(t,function(t,r,o){i=0===r&&0===o&&void 0===n?t:e(i,t,r,o)}),i}function F(t,e){R(t,function(t,n,i){var r=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&O(t,function(o,s,l,u,c,h){var f=a([o,s],t.properties);return e(f,n,i,h,r),r++,s})}})}function z(t,e,n){var i=n,r=!1;return F(t,function(t,o,s,a,l){i=!1===r&&void 0===n?t:e(i,t,o,s,a,l),r=!0}),i}function B(t,e){if(!t)throw new Error("geojson is required");R(t,function(t,n,i){if(null!==t.geometry){var r=t.geometry.type,o=t.geometry.coordinates;switch(r){case"LineString":e(t,n,i,0,0);break;case"Polygon":for(var s=0;s<o.length;s++)e(a(o[s],t.properties),n,i,s)}}})}function G(t,e,n){var i=n;return B(t,function(t,r,o,s){i=0===r&&void 0===n?t:e(i,t,r,o,s)}),i}function q(t){var e=[1/0,1/0,-1/0,-1/0];return I(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function H(t){if(!t)throw new Error("obj is required");var e=W(t);if(e.length>1&&E(e[0])&&E(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function W(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return U(e),e;throw new Error("No valid coordinates")}function U(t){if(t.length>1&&E(t[0])&&E(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return U(t[0]);throw new Error("coordinates must only contain numbers")}function Y(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function V(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function X(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}}function K(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function $(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function Z(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function J(t,e,n){n=n||{};for(var i=Object.keys(Oo),r=0;r<i.length;r++){var o=i[r],s=n[o];s=null!=s?s:Oo[o],To[o]=s}To.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var a=function(t){var e=[],n=0;return t.rows,t.cols,t.cells.forEach(function(i,r){i.forEach(function(i,o){if(void 0!==i&&!function(t){return 5===t.cval||10===t.cval}(i)&&!tt(i)){var s=function(t,e,n){var i,r,o,s=t.length,a=[],l=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],u=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],h=(t[e][n],t[e][n]),f=h.cval,p=nt(h,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][f]);a.push([n+p[0],e+p[1]]),p=nt(h,o=c[f]),a.push([n+p[0],e+p[1]]),et(h);for(var d=n+l[f],g=e+u[f],m=f;d>=0&&g>=0&&g<s&&(d!=n||g!=e)&&void 0!==(h=t[g][d]);){if(0===(f=h.cval)||15===f)return{path:a,info:"mergeable"};o=c[f],i=l[f],r=u[f],5!==f&&10!==f||(5===f?h.flipped?-1===u[m]?(o="left",i=-1,r=0):(o="right",i=1,r=0):-1===l[m]&&(o="bottom",i=0,r=-1):10===f&&(h.flipped?-1===l[m]?(o="top",i=0,r=1):(o="bottom",i=0,r=-1):1===u[m]&&(o="left",i=-1,r=0))),p=nt(h,o),a.push([d+p[0],g+p[1]]),et(h),d+=i,g+=r,m=f}return{path:a,info:"closed"}}(t.cells,r,o),a=!1;if("mergeable"===s.info)for(var l=s.path[s.path.length-1][0],u=s.path[s.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-l)<=1e-7&&Math.abs(e[c][0][1]-u)<=1e-7){for(var h=s.path.length-2;h>=0;--h)e[c].unshift(s.path[h]);a=!0;break}a||(e[n++]=s.path)}})}),e}(function(t,e){for(var n=t.length-1,i=t[0].length-1,r={rows:n,cols:i,cells:[]},o=0;o<n;++o){r.cells[o]=[];for(var s=0;s<i;++s){var a=0,l=t[o+1][s],u=t[o+1][s+1],c=t[o][s+1],h=t[o][s];if(!(isNaN(l)||isNaN(u)||isNaN(c)||isNaN(h))){a|=l>=e?8:0,a|=u>=e?4:0,a|=c>=e?2:0;var f,p,d,g,m=!1;if(5==(a|=h>=e?1:0)||10===a){var v=(l+u+c+h)/4;5===a&&v<e?(a=10,m=!0):10===a&&v<e&&(a=5,m=!0)}0!==a&&15!==a&&(f=p=d=g=.5,1===a?(d=1-Q(e,l,h),p=1-Q(e,c,h)):2===a?(p=Q(e,h,c),g=1-Q(e,u,c)):3===a?(d=1-Q(e,l,h),g=1-Q(e,u,c)):4===a?(f=Q(e,l,u),g=Q(e,c,u)):5===a?(f=Q(e,l,u),g=Q(e,c,u),p=1-Q(e,c,h),d=1-Q(e,l,h)):6===a?(p=Q(e,h,c),f=Q(e,l,u)):7===a?(d=1-Q(e,l,h),f=Q(e,l,u)):8===a?(d=Q(e,h,l),f=1-Q(e,u,l)):9===a?(p=1-Q(e,c,h),f=1-Q(e,u,l)):10===a?(f=1-Q(e,u,l),g=1-Q(e,u,c),p=Q(e,h,c),d=Q(e,h,l)):11===a?(f=1-Q(e,u,l),g=1-Q(e,u,c)):12===a?(d=Q(e,h,l),g=Q(e,c,u)):13===a?(p=1-Q(e,c,h),g=Q(e,c,u)):14===a?(d=Q(e,h,l),p=Q(e,h,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),r.cells[o][s]={cval:a,flipped:m,top:f,right:g,bottom:p,left:d})}}}return r}(t,e));return"function"==typeof To.successCallback&&To.successCallback(a),a}function Q(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function it(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function rt(t,e){if(!(this instanceof rt))return new rt(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function ot(t,e){st(t,0,t.children.length,e,t)}function st(t,e,n,i,r){r||(r=dt(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],at(r,t.leaf?i(o):o);return r}function at(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function lt(t,e){return t.minX-e.minX}function ut(t,e){return t.minY-e.minY}function ct(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ht(t){return t.maxX-t.minX+(t.maxY-t.minY)}function ft(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function pt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function dt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function gt(t,e,n,i,r){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=i||(o=e+Math.ceil((n-e)/i/2)*i,No(t,o,e,n,r),s.push(e,o,o,n))}function mt(t,e){return t(e={exports:{}},e.exports),e.exports}function vt(t,e){if(!(this instanceof vt))return new vt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function yt(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var i,r=function(t){for(var e=t[0],n=t[0],i=t[0],r=t[0],o=0;o<t.length;o++){var s=t[o];s[0]<e[0]&&(e=s),s[0]>i[0]&&(i=s),s[1]<n[1]&&(n=s),s[1]>r[1]&&(r=s)}var a=[e,n,i,r],l=a.slice();for(o=0;o<t.length;o++)Ho(t[o],a)||l.push(t[o]);var u=zo(l),c=[];for(o=0;o<u.length;o++)c.push(l[u[o]]);return c}(t),o=ko(16,["[0]","[1]","[0]","[1]"]).load(t),s=[],a=0;a<r.length;a++){var l=r[a];o.remove(l),i=Et(l,i),s.push(i)}var u=ko(16);for(a=0;a<s.length;a++)u.insert(wt(s[a]));for(var c=e*e,h=n*n;s.length;){var f=s.shift(),p=f.p,d=f.next.p,g=Ct(p,d);if(!(g<h)){var m=g/c;(l=function(t,e,n,i,r,o,s){for(var a=new Go(null,_t),l=t.data;l;){for(var u=0;u<l.children.length;u++){var c=l.children[u],h=l.leaf?St(c,n,i):function(t,e,n){if(bt(t,n)||bt(e,n))return 0;var i=Mt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===i)return 0;var r=Mt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===r)return 0;var o=Mt(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=Mt(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(i,r,o,s)}(n,i,c);h>o||a.push({node:c,dist:h})}for(;a.length&&!a.peek().node.children;){var f=a.pop(),p=f.node,d=St(p,e,n),g=St(p,i,r);if(f.dist<d&&f.dist<g&&xt(n,p,s)&&xt(i,p,s))return p}(l=a.pop())&&(l=l.node)}return null}(o,f.prev.p,p,d,f.next.next.p,m,u))&&Math.min(Ct(l,p),Ct(l,d))<=m&&(s.push(f),s.push(Et(l,f)),o.remove(l),u.remove(f),u.insert(wt(f)),u.insert(wt(f.next)))}}f=i;var v=[];do{v.push(f.p),f=f.next}while(f!==i);return v.push(f.p),v}function _t(t,e){return t.dist-e.dist}function bt(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function xt(t,e,n){for(var i=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),s=Math.max(t[1],e[1]),a=n.search({minX:i,minY:r,maxX:o,maxY:s}),l=0;l<a.length;l++)if(function(t,e,n,i){return t!==i&&e!==n&&Wo(t,e,n)>0!=Wo(t,e,i)>0&&Wo(n,i,t)>0!=Wo(n,i,e)>0}(a[l].p,a[l].next.p,t,e))return!1;return!0}function wt(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function Et(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function Ct(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function St(t,e,n){var i=e[0],r=e[1],o=n[0]-i,s=n[1]-r;if(0!==o||0!==s){var a=((t[0]-i)*o+(t[1]-r)*s)/(o*o+s*s);a>1?(i=n[0],r=n[1]):a>0&&(i+=o*a,r+=s*a)}return o=t[0]-i,s=t[1]-r,o*o+s*s}function Mt(t,e,n,i,r,o,s,a){var l,u,c,h,f=n-t,p=i-e,d=s-r,g=a-o,m=t-r,v=e-o,y=f*f+p*p,_=f*d+p*g,b=d*d+g*g,x=f*m+p*v,w=d*m+g*v,E=y*b-_*_,C=E,S=E;0===E?(u=0,C=1,h=w,S=b):(h=y*w-_*x,(u=_*w-b*x)<0?(u=0,h=w,S=b):u>C&&(u=C,h=w+_,S=b)),h<0?(h=0,-x<0?u=0:-x>y?u=C:(u=-x,C=y)):h>S&&(h=S,-x+_<0?u=0:-x+_>y?u=C:(u=-x+_,C=y));var M=(1-(c=0===h?0:h/S))*r+c*s-((1-(l=0===u?0:u/C))*t+l*n),I=(1-c)*o+c*a-((1-l)*e+l*i);return M*M+I*I}function It(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.concavity||1/0,i=[];if(I(t,function(t){i.push([t[0],t[1]])}),!i.length)return null;var r=Uo(i,n);return r.length>3?o([r]):null}function Ot(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var r=H(t),o=W(e),s=e.geometry?e.geometry.type:e.type,a=e.bbox;if(a&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(r,a))return!1;"Polygon"===s&&(o=[o]);for(var l=0,u=!1;l<o.length&&!u;l++)if(Tt(r,o[l][0],i)){for(var c=!1,h=1;h<o[l].length&&!c;)Tt(r,o[l][h],!i)&&(c=!0),h++;c||(u=!0)}return u}function Tt(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var s=e[r][0],a=e[r][1],l=e[o][0],u=e[o][1];if(t[1]*(s-l)+a*(l-t[0])+u*(t[0]-s)==0&&(s-t[0])*(l-t[0])<=0&&(a-t[1])*(u-t[1])<=0)return!n;a>t[1]!=u>t[1]&&t[0]<(l-s)*(t[1]-a)/(u-a)+s&&(i=!i)}return i}function Nt(t,e){var n=[];return L(e,function(e){k(t,function(t){Ot(t,e)&&n.push(t)})}),u(n)}function kt(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return u(function(t){if(t.length<3)return[];t.sort(At);for(var e,n,i,r,o,s,a=t.length-1,l=t[a].x,u=t[0].x,c=t[a].y,h=c;a--;)t[a].y<c&&(c=t[a].y),t[a].y>h&&(h=t[a].y);var f,p=u-l,d=h-c,g=p>d?p:d,m=.5*(u+l),v=.5*(h+c),y=[new Pt({x:m-20*g,y:v-g,__sentinel:!0},{x:m,y:v+20*g,__sentinel:!0},{x:m+20*g,y:v-g,__sentinel:!0})],_=[],b=[];for(a=t.length;a--;){for(b.length=0,f=y.length;f--;)(p=t[a].x-y[f].x)>0&&p*p>y[f].r?(_.push(y[f]),y.splice(f,1)):(d=t[a].y-y[f].y,p*p+d*d>y[f].r||(b.push(y[f].a,y[f].b,y[f].b,y[f].c,y[f].c,y[f].a),y.splice(f,1)));for(Lt(b),f=b.length;f;)n=b[--f],e=b[--f],i=t[a],r=n.x-e.x,o=n.y-e.y,s=2*(r*(i.y-n.y)-o*(i.x-n.x)),Math.abs(s)>1e-12&&y.push(new Pt(e,n,i))}for(Array.prototype.push.apply(_,y),a=_.length;a--;)(_[a].a.__sentinel||_[a].b.__sentinel||_[a].c.__sentinel)&&_.splice(a,1);return _}(t.features.map(function(t){var i={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?i.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,i.z=t.geometry.coordinates[2]),i})).map(function(t){var e=[t.a.x,t.a.y],i=[t.b.x,t.b.y],r=[t.c.x,t.c.y],s={};return n?(e.push(t.a.z),i.push(t.b.z),r.push(t.c.z)):s={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,i,r,e]],s)}))}function Pt(t,e,n){this.a=t,this.b=e,this.c=n;var i,r,o=e.x-t.x,s=e.y-t.y,a=n.x-t.x,l=n.y-t.y,u=o*(t.x+e.x)+s*(t.y+e.y),c=a*(t.x+n.x)+l*(t.y+n.y),h=2*(o*(n.y-e.y)-s*(n.x-e.x));this.x=(l*u-s*c)/h,this.y=(o*c-a*u)/h,i=this.x-t.x,r=this.y-t.y,this.r=i*i+r*r}function At(t,e){return e.x-t.x}function Lt(t){var e,n,i,r,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],i=s;i;)if(o=t[--i],r=t[--i],e===r&&n===o||e===o&&n===r){t.splice(s,2),t.splice(i,2),s-=2;continue t}}function Dt(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.units,r=H(t),o=H(e),s=b(o[1]-r[1]),a=b(o[0]-r[0]),l=b(r[1]),u=b(o[1]),c=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(l)*Math.cos(u);return g(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),i)}function Rt(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return jt(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}}),e.features=t.features.map(function(t){return jt(t)}),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Ft(t);default:throw new Error("unknown GeoJSON type")}}function jt(t){var e={type:"Feature"};return Object.keys(t).forEach(function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}}),e.properties=function t(e){var n={};return e?(Object.keys(e).forEach(function(i){var r=e[i];"object"==typeof r?null===r?n[i]=null:r.length?n[i]=r.map(function(t){return t}):n[i]=t(r):n[i]=r}),n):n}(t.properties),e.geometry=Ft(t.geometry),e}function Ft(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map(function(t){return Ft(t)}),e):(e.coordinates=function t(e){return"object"!=typeof e[0]?e.slice():e.map(function(e){return t(e)})}(t.coordinates),e)}function zt(t,e){function n(t,e){e.length&&e.pop();for(var n=l[t<0?~t:t],i=0,r=n.length;i<r;++i)e.push(a(n[i],i));t<0&&Ko(e,r)}function i(t){return a(t)}function r(t){for(var e=[],i=0,r=t.length;i<r;++i)n(t[i],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=r(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(o)}var a=Xo(t.transform),l=t.arcs;return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=i(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(i);break;case"LineString":n=r(e.arcs);break;case"MultiLineString":n=e.arcs.map(r);break;case"Polygon":n=s(e.arcs);break;case"MultiPolygon":n=e.arcs.map(s);break;default:return null}return{type:o,coordinates:n}}(e)}function Bt(t,e,n){for(var i,r=e+(n---e>>1);e<r;++e,--n)i=t[e],t[e]=t[n],t[n]=i}function Gt(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(qt)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?qt:Ht)(t)}function qt(t){var e,n=Ht(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Ht(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Ht)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Wt(t){var e,n=t[0],i=t[1];return i<n&&(e=n,n=i,i=e),n+31*i}function Ut(t,e){var n,i=t[0],r=t[1],o=e[0],s=e[1];return r<i&&(n=i,i=r,r=n),s<o&&(n=o,o=s,s=n),i===o&&r===s}function Yt(t){return t[0].toString()+","+t[1].toString()}function Vt(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Z(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Rt(t));var i=function(t){var e={};R(t,function(t){e[t.geometry.type]=!0});var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!i)throw new Error("geojson must be homogenous");switch(i){case"LineString":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Z(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Rt(t));var i=[],r=G(t,function(t,e){var n=function(t,e){var n,i=t.geometry.coordinates,r=e.geometry.coordinates,o=Yt(i[0]),s=Yt(i[i.length-1]),l=Yt(r[0]),u=Yt(r[r.length-1]);if(o===u)n=r.concat(i.slice(1));else if(l===s)n=i.concat(r.slice(1));else if(o===l)n=i.slice(1).reverse().concat(r);else{if(s!==u)return null;n=i.concat(r.reverse().slice(1))}return a(n)}(t,e);return n||(i.push(t),e)});return r&&i.push(r),i.length?1===i.length?i[0]:c(i.map(function(t){return t.coordinates})):null}(t,e);case"Polygon":return function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==Z(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Rt(t));var i=[];R(t,function(t){i.push(t.geometry)});var r=os({geoms:p(i).geometry});return Zo(r,r.objects.geoms.geometries)}(t,e);default:throw new Error(i+" is not supported")}}function Xt(t,n){var i="object"==typeof n?n.mutate:n;if(!t)throw new Error("geojson is required");var r=Z(t),o=[];switch(r){case"LineString":o=Kt(t);break;case"MultiLineString":case"Polygon":W(t).forEach(function(t){o.push(Kt(t))});break;case"MultiPolygon":W(t).forEach(function(t){var e=[];t.forEach(function(t){e.push(Kt(t))}),o.push(e)});break;case"Point":return t;case"MultiPoint":var s={};W(t).forEach(function(t){var e=t.join("-");s.hasOwnProperty(e)||(o.push(t),s[e]=!0)});break;default:throw new Error(r+" geometry not supported")}return t.coordinates?!0===i?(t.coordinates=o,t):{type:r,coordinates:o}:!0===i?(t.geometry.coordinates=o,t):e({type:r,coordinates:o},t.properties,t.bbox,t.id)}function Kt(t){var e=W(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,i,r,o=[],s=e.length-1;o.push(e[0]);for(var a=1;a<s;a++)n=e[a-1],i=e[a],function(t,e,n){var i=n[0],r=n[1],o=t[0],s=t[1],a=e[0],l=e[1],u=a-o,c=l-s;return(i-o)*c-(r-s)*u==0&&(Math.abs(u)>=Math.abs(c)?u>0?o<=i&&i<=a:a<=i&&i<=o:c>0?s<=r&&r<=l:l<=r&&r<=s)}(n,r=e[a+1],i)||o.push(i);return o.push(r),o}function $t(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function Zt(t,e,n){var i=e.x,r=e.y,o=n.x-i,s=n.y-r;if(0!==o||0!==s){var a=((t.x-i)*o+(t.y-r)*s)/(o*o+s*s);a>1?(i=n.x,r=n.y):a>0&&(i+=o*a,r+=s*a)}return o=t.x-i,s=t.y-r,o*o+s*s}function Jt(t,e,n){if(t.length<=2)return t;var i=void 0!==e?e*e:1;return t=function(t,e){var n=t.length-1,i=[t[0]];return function t(e,n,i,r,o){for(var s,a=r,l=n+1;l<i;l++){var u=Zt(e[l],e[n],e[i]);u>a&&(s=l,a=u)}a>r&&(s-n>1&&t(e,n,s,r,o),o.push(e[s]),i-s>1&&t(e,s,i,r,o))}(t,0,n,e,i),i.push(t[n]),i}(t=n?t:function(t,e){for(var n,i=t[0],r=[i],o=1,s=t.length;o<s;o++)$t(n=t[o],i)>e&&(r.push(n),i=n);return i!==n&&r.push(n),r}(t,i),i)}function Qt(t,e,n){return Jt(t.map(function(t){return{x:t[0],y:t[1],z:t[2]}}),e,n).map(function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]})}function te(t,e,n){return t.map(function(t){var i=t.map(function(t){return{x:t[0],y:t[1]}});if(i.length<4)throw new Error("invalid polygon");for(var r=Jt(i,e,n).map(function(t){return[t.x,t.y]});!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(r);)r=Jt(i,e-=.01*e,n).map(function(t){return[t.x,t.y]});return r[r.length-1][0]===r[0][0]&&r[r.length-1][1]===r[0][1]||r.push(r[0]),r})}function ee(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.resolution||1e4,i=e.sharpness||.85;if(!t)throw new Error("line is required");if(!E(n))throw new Error("resolution must be an number");if(!E(i))throw new Error("sharpness must be an number");for(var r=[],o=new ss({points:K(t).coordinates.map(function(t){return{x:t[0],y:t[1]}}),duration:n,sharpness:i}),s=0;s<o.duration;s+=10){var l=o.pos(s);Math.floor(s/100)%2==0&&r.push([l.x,l.y])}return a(r,t.properties)}function ne(t){S(t);var e=Number(t[0]),n=Number(t[1]),i=Number(t[2]),r=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[e,n];return o([[s,[i,n],[i,r],[e,r],s]])}function ie(t){return ne(q(t))}function re(t){var e=t[0],n=t[1],i=t[2],r=t[3];if(Dt(t.slice(0,2),[i,n])>=Dt(t.slice(0,2),[e,r])){var o=(n+r)/2;return[e,o-(i-e)/2,i,o+(i-e)/2]}var s=(e+i)/2;return[s-(r-n)/2,n,s+(r-n)/2,r]}function oe(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var o=r.units,s=r.properties,a=H(t),l=b(a[0]),u=b(a[1]),c=b(n),h=m(e,o),f=Math.asin(Math.sin(u)*Math.cos(h)+Math.cos(u)*Math.sin(h)*Math.cos(c));return i([_(l+Math.atan2(Math.sin(c)*Math.sin(h)*Math.cos(u),Math.cos(h)-Math.sin(u)*Math.sin(f))),_(f)],s)}function se(t,e,n){var i=(n=n||{}).steps||64,r=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be a number");i=i||64,r=r||t.properties||{};for(var s=[],a=0;a<i;a++)s.push(oe(t,e,-360*a/i,n).geometry.coordinates);return s.push(s[0]),o([s],r)}function ae(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!0===n.final)return function(t,e){var n=ae(e,t);return n=(n+180)%360}(t,e);var i=H(t),r=H(e),o=b(i[0]),s=b(r[0]),a=b(i[1]),l=b(r[1]),u=Math.sin(s-o)*Math.cos(l),c=Math.cos(a)*Math.sin(l)-Math.sin(a)*Math.cos(l)*Math.cos(s-o);return _(Math.atan2(u,c))}function le(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var r=q(t);return i([(r[0]+r[2])/2,(r[1]+r[3])/2],n)}function ue(t,e){var n=0,r=0,o=0;return I(t,function(t){n+=t[0],r+=t[1],o++},!0),i([n/o,r/o],e)}function ce(t){var e=[];return"FeatureCollection"===t.type?k(t,function(t){I(t,function(n){e.push(i(n,t.properties))})}):I(t,function(n){e.push(i(n,t.properties))}),u(e)}function he(t,e,n){n=n||2;var i,r,o,s,a,l,u,c=e&&e.length,h=c?e[0]*n:t.length,f=fe(t,0,h,n,!0),p=[];if(!f)return p;if(c&&(f=function(t,e,n,i){var r,o,s,a,l,u=[];for(r=0,o=e.length;r<o;r++)s=e[r]*i,a=r<o-1?e[r+1]*i:t.length,(l=fe(t,s,a,i,!1))===l.next&&(l.steiner=!0),u.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(l));for(u.sort(de),r=0;r<u.length;r++)!function(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>s){if(s=a,a===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===s)return n.prev;var l,u=n,c=n.x,h=n.y,f=1/0;for(i=n.next;i!==u;)r>=i.x&&i.x>=c&&r!==i.x&&me(o<h?r:s,o,c,h,o<h?s:r,o,i.x,i.y)&&((l=Math.abs(o-i.y)/(r-i.x))<f||l===f&&i.x>n.x)&&be(i,t)&&(n=i,f=l),i=i.next;return n}(t,e)){var n=xe(e,t);pe(n,n.next)}}(u[r],n),n=pe(n,n.next);return n}(t,e,f,n)),t.length>80*n){i=o=t[0],r=s=t[1];for(var d=n;d<h;d+=n)a=t[d],l=t[d+1],a<i&&(i=a),l<r&&(r=l),a>o&&(o=a),l>s&&(s=l);u=0!==(u=Math.max(o-i,s-r))?1/u:0}return function t(e,n,i,r,o,s,a){if(e){!a&&s&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=ge(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,s,a,l,u=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(l=u;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,u*=2}while(s>1)}(r)}(e,r,o,s);for(var l,u,c=e;e.prev!==e.next;)if(l=e.prev,u=e.next,s?function(t,e,n,i){var r=t.prev,o=t,s=t.next;if(ve(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,l=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,u=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,c=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,h=ge(a,l,e,n,i),f=ge(u,c,e,n,i),p=t.nextZ;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&me(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&ve(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&me(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&ve(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}(e,r,o,s):function(t){var e=t.prev,n=t,i=t.next;if(ve(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(me(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&ve(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}(e))n.push(l.i/i),n.push(e.i/i),n.push(u.i/i),Ee(e),e=u.next,c=u.next;else if((e=u)===c){a?1===a?t(e=function(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!ye(r,o)&&_e(r,i,i.next,o)&&be(r,o)&&be(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),Ee(i),Ee(i.next),i=t=o),i=i.next}while(i!==t);return i}(e,n,i),n,i,r,o,s,2):2===a&&function(e,n,i,r,o,s){var a=e;do{for(var l=a.next.next;l!==a.prev;){if(a.i!==l.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&_e(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&be(t,e)&&be(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)}(a,l)){var u=xe(a,l);return a=pe(a,a.next),u=pe(u,u.next),t(a,n,i,r,o,s),void t(u,n,i,r,o,s)}l=l.next}a=a.next}while(a!==e)}(e,n,i,r,o,s):t(pe(e),n,i,r,o,s,1);break}}}(f,p,n,i,r,u),p}function fe(t,e,n,i,r){var o,s;if(r===Se(t,e,n,i)>0)for(o=e;o<n;o+=i)s=we(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=we(o,t[o],t[o+1],s);return s&&ye(s,s.next)&&(Ee(s),s=s.next),s}function pe(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!ye(i,i.next)&&0!==ve(i.prev,i,i.next))i=i.next;else{if(Ee(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function de(t,e){return t.x-e.x}function ge(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function me(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function ve(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function ye(t,e){return t.x===e.x&&t.y===e.y}function _e(t,e,n,i){return!!(ye(t,e)&&ye(n,i)||ye(t,i)&&ye(n,e))||ve(t,e,n)>0!=ve(t,e,i)>0&&ve(n,i,t)>0!=ve(n,i,e)>0}function be(t,e){return ve(t.prev,t,t.next)<0?ve(t,e,t.next)>=0&&ve(t,t.prev,e)>=0:ve(t,e,t.prev)<0||ve(t,t.next,e)<0}function xe(t,e){var n=new Ce(t.i,t.x,t.y),i=new Ce(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function we(t,e,n,i){var r=new Ce(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function Ee(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ce(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Se(t,e,n,i){for(var r=0,o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}function Me(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}(t),n=as(e.vertices,e.holes,2),i=[],r=[];n.forEach(function(t,i){var o=n[i];r.push([e.vertices[2*o],e.vertices[2*o+1]])});for(var s=0;s<r.length;s+=3){var a=r.slice(s,s+3);a.push(r[s]),i.push(o([a]))}return i}function Ie(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,i=1/0;return k(e,function(e,r){var o=Dt(t,e);o<i&&((n=Rt(e)).properties.featureIndex=r,n.properties.distanceToPoint=o,i=o)}),n}function Oe(t,e,n,i,r){!function t(e,n,i,r,o){for(;r>i;){if(r-i>600){var s=r-i+1,a=n-i+1,l=Math.log(s),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(s-u)/s)*(a-s/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-a*u/s+c)),Math.min(r,Math.floor(n+(s-a)*u/s+c)),o)}var h=e[n],f=i,p=r;for(Te(e,i,n),o(e[r],h)>0&&Te(e,i,r);f<p;){for(Te(e,f,p),f++,p--;o(e[f],h)<0;)f++;for(;o(e[p],h)>0;)p--}0===o(e[i],h)?Te(e,i,p):Te(e,++p,r),p<=n&&(i=p+1),n<=p&&(r=p-1)}}(t,e,n||0,i||t.length-1,r||function(t,e){return t<e?-1:t>e?1:0})}function Te(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function Ne(t,e){if(!(this instanceof Ne))return new Ne(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function ke(t,e){Pe(t,0,t.children.length,e,t)}function Pe(t,e,n,i,r){r||(r=Be(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],Ae(r,t.leaf?i(o):o);return r}function Ae(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Le(t,e){return t.minX-e.minX}function De(t,e){return t.minY-e.minY}function Re(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function je(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Fe(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function ze(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Be(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Ge(t,e,n,i,r){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=i||(Oe(t,o=e+Math.ceil((n-e)/i/2)*i,e,n,r),s.push(e,o,o,n))}function qe(t){var e=Ne(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=He(e)).bbox=e}else t.bbox=t.bbox?t.bbox:We(t);return Ne.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach(function(t){var n=He(t);n.bbox=t,e.push(n)}):k(t,function(t){t.bbox=t.bbox?t.bbox:We(t),e.push(t)}),Ne.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=He(e)).bbox=e}return Ne.prototype.remove.call(this,t)},e.clear=function(){return Ne.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:Ne.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return Ne.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:Ne.prototype.all.call(this)}},e.toJSON=function(){return Ne.prototype.toJSON.call(this)},e.fromJSON=function(t){return Ne.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return{minX:(e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:We(t))[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function He(t){var e=[t[0],t[1]],n=[t[0],t[3]],i=[t[2],t[3]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],i,n,e]]}}}function We(t){var e=[1/0,1/0,-1/0,-1/0];return I(t,function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])}),e}function Ue(t){if(!t)throw new Error("geojson is required");var e=[];return R(t,function(t){!function(t,e){var n=[],i=t.geometry;switch(i.type){case"Polygon":n=W(i);break;case"LineString":n=[W(i)]}n.forEach(function(n){var i=function(t,e){var n=[];return t.reduce(function(t,i){var r=a([t,i],e);return r.bbox=function(t,e){var n=t[0],i=t[1],r=e[0],o=e[1];return[n<r?n:r,i<o?i:o,n>r?n:r,i>o?i:o]}(t,i),n.push(r),i}),n}(n,t.properties);i.forEach(function(t){t.id=e.length,e.push(t)})})}(t,e)}),u(e)}function Ye(t,n){var i={},r=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=Ve(t,n);return o&&r.push(o),u(r)}var s=qe();return s.load(Ue(n)),k(Ue(t),function(t){k(s.search(t),function(e){var n=Ve(t,e);if(n){var o=W(n).join(",");i[o]||(i[o]=!0,r.push(n))}})}),u(r)}function Ve(t,e){var n=W(t),r=W(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],s=n[0][1],a=n[1][0],l=n[1][1],u=r[0][0],c=r[0][1],h=r[1][0],f=r[1][1],p=(f-c)*(a-o)-(h-u)*(l-s),d=(h-u)*(s-c)-(f-c)*(o-u),g=(a-o)*(s-c)-(l-s)*(o-u);if(0===p)return null;var m=d/p,v=g/p;return m>=0&&m<=1&&v>=0&&v<=1?i([o+m*(a-o),s+m*(l-s)]):null}function Xe(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=t.geometry?t.geometry.type:t.type;if("LineString"!==r&&"MultiLineString"!==r)throw new Error("lines must be LineString or MultiLineString");var o=i([1/0,1/0],{dist:1/0}),s=0;return R(t,function(t){for(var r=W(t),l=0;l<r.length-1;l++){var u=i(r[l]);u.properties.dist=Dt(e,u,n);var c=i(r[l+1]);c.properties.dist=Dt(e,c,n);var h=Dt(u,c,n),f=Math.max(u.properties.dist,c.properties.dist),p=ae(u,c),d=oe(e,f,p+90,n),g=oe(e,f,p-90,n),m=Ye(a([d.geometry.coordinates,g.geometry.coordinates]),a([u.geometry.coordinates,c.geometry.coordinates])),v=null;m.features.length>0&&((v=m.features[0]).properties.dist=Dt(e,v,n),v.properties.location=s+Dt(u,v,n)),u.properties.dist<o.properties.dist&&((o=u).properties.index=l,o.properties.location=s),c.properties.dist<o.properties.dist&&((o=c).properties.index=l+1,o.properties.location=s+h),v&&v.properties.dist<o.properties.dist&&((o=v).properties.index=l),s+=h}}),o}function Ke(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i,r=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(i=r?$e(H(e),H(t)):$e(H(t),H(e)))>180?-(360-i):i}function $e(t,e){var n=b(t[1]),i=b(e[1]),r=b(e[0]-t[0]);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);var o=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(_(Math.atan2(r,o))+360)%360}function Ze(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var r=H(t),o=H(e);return o[0]+=o[0]-r[0]>180?-360:r[0]-o[0]>180?360:0,x(function(t,e,n){var i=n=void 0===n?xo:Number(n),r=t[1]*Math.PI/180,o=e[1]*Math.PI/180,s=o-r,a=Math.abs(e[0]-t[0])*Math.PI/180;a>Math.PI&&(a-=2*Math.PI);var l=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),u=Math.abs(l)>1e-11?s/l:Math.cos(r);return Math.sqrt(s*s+u*u*a*a)*i}(r,o),"meters",i)}function Je(t,e){return tn(t,"mercator",e)}function Qe(t,e){return tn(t,"wgs84",e)}function tn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&E(t[0])?t="mercator"===e?en(t):nn(t):(!0!==i&&(t=Rt(t)),I(t,function(t){var n="mercator"===e?en(t):nn(t);t[0]=n[0],t[1]=n[1]})),t}function en(t){var e=Math.PI/180,n=20037508.342789244,i=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return i[0]>n&&(i[0]=n),i[0]<-n&&(i[0]=-n),i[1]>n&&(i[1]=n),i[1]<-n&&(i[1]=-n),i}function nn(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function rn(t,n,r){if(!C(r=r||{}))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=i(t):"Point"===t.type?t=e(t):V(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=a(n):"LineString"===n.type?n=e(n):V(n,"LineString","line");var o=1/0,s=t.geometry.coordinates;return F(n,function(t){var e=t.geometry.coordinates[0],n=t.geometry.coordinates[1],a=function(t,e,n,r){var o=r.mercator,s=!0!==o?Dt(e,t,r):on(e,t,r),a=y(!0!==o?ae(e,t):Ke(e,t)),l=y(!0!==o?ae(e,n):Ke(e,n)),u=Math.abs(a-l);if(u>90)return s;var c=(l+180)%360,h=y(!0!==o?ae(n,t):Ke(n,t)),f=Math.abs(h-c);return f>180&&(f=Math.abs(f-360)),f>90?!0!==o?Dt(t,n,r):on(t,n,r):!0!==o?s*Math.sin(b(u)):function(t,e,n,r){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var s=i(n),a=Je([t[0]+o,t[1]]),l=Je([e[0]+o,e[1]]),u=Je([n[0]+o,n[1]]),c=Qe(function(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1],a=n[0],l=n[1],u=o-i,c=s-r,h=((a-i)*u+(l-r)*c)/(u*u+c*c);return[i+h*u,r+h*c]}(a,l,u));return 0!==o&&(c[0]-=o),Ze(s,c,r)}(e,n,t,r)}(s,e,n,r);o>a&&(o=a)}),o}function on(t,e,n){var i=n.units,r=0;Math.abs(t[0])>=180&&(r=t[0]>0?-180:180),Math.abs(e[0])>=180&&(r=e[0]>0?-180:180);var o=Je([t[0]+r,t[1]]),s=Je([e[0]+r,e[1]]),a=function(t){return t*t},l=a(o[0]-s[0])+a(o[1]-s[1]);return x(Math.sqrt(l),"meters",i)}function sn(t){for(var n=function(t){return"FeatureCollection"!==t.type?"Feature"!==t.type?u([e(t)]):u([t]):t}(t),r=le(n),o=!1,s=0;!o&&s<n.features.length;){var a,l=n.features[s].geometry,c=!1;if("Point"===l.type)r.geometry.coordinates[0]===l.coordinates[0]&&r.geometry.coordinates[1]===l.coordinates[1]&&(o=!0);else if("MultiPoint"===l.type){var h=!1;for(a=0;!h&&a<l.coordinates.length;)r.geometry.coordinates[0]===l.coordinates[a][0]&&r.geometry.coordinates[1]===l.coordinates[a][1]&&(o=!0,h=!0),a++}else if("LineString"===l.type)for(a=0;!c&&a<l.coordinates.length-1;)an(r.geometry.coordinates[0],r.geometry.coordinates[1],l.coordinates[a][0],l.coordinates[a][1],l.coordinates[a+1][0],l.coordinates[a+1][1])&&(c=!0,o=!0),a++;else if("MultiLineString"===l.type)for(var f=0;f<l.coordinates.length;){c=!1,a=0;for(var p=l.coordinates[f];!c&&a<p.length-1;)an(r.geometry.coordinates[0],r.geometry.coordinates[1],p[a][0],p[a][1],p[a+1][0],p[a+1][1])&&(c=!0,o=!0),a++;f++}else"Polygon"!==l.type&&"MultiPolygon"!==l.type||Ot(r,l)&&(o=!0);s++}if(o)return r;var d=u([]);for(s=0;s<n.features.length;s++)d.features=d.features.concat(ce(n.features[s]).features);return i(Ie(r,d).geometry.coordinates)}function an(t,e,n,i,r,o){return Math.sqrt((r-n)*(r-n)+(o-i)*(o-i))===Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))+Math.sqrt((r-t)*(r-t)+(o-e)*(o-e))}function ln(t){return D(t,function(t,e){return t+function t(e){var n,i=0;switch(e.type){case"Polygon":return un(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)i+=un(e.coordinates[n]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)i+=t(e.geometries[n]);return i}}(e)},0)}function un(t){var e=0;if(t&&t.length>0){e+=Math.abs(cn(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(cn(t[n]))}return e}function cn(t){var e,n,i,r,o,s,a=0,l=t.length;if(l>2){for(s=0;s<l;s++)s===l-2?(i=l-2,r=l-1,o=0):s===l-1?(i=l-1,r=0,o=1):(i=s,r=s+1,o=s+2),e=t[i],n=t[r],a+=(hn(t[o][0])-hn(e[0]))*Math.sin(hn(n[1]));a=a*cs*cs/2}return a}function hn(t){return t*Math.PI/180}function fn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return z(t,function(t,n){var i=n.geometry.coordinates;return t+Dt(i[0],i[1],e)},0)}function pn(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var r,o=[];if("Feature"===t.type)r=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");r=t.coordinates}for(var s,l,u,c=0,h=0;h<r.length&&!(e>=c&&h===r.length-1);h++){if(c>e&&0===o.length){if(!(s=e-c))return o.push(r[h]),a(o);l=ae(r[h],r[h-1])-180,u=oe(r[h],s,l,i),o.push(u.geometry.coordinates)}if(c>=n)return(s=n-c)?(l=ae(r[h],r[h-1])-180,u=oe(r[h],s,l,i),o.push(u.geometry.coordinates),a(o)):(o.push(r[h]),a(o));if(c>=e&&o.push(r[h]),h===r.length-1)return a(o);c+=Dt(r[h],r[h+1],i)}return a(r[r.length-1])}function dn(t,e,n){var i=(n=n||{}).ignoreEndVertices;if(!C(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var r=H(t),o=W(e),s=0;s<o.length-1;s++){var a=!1;if(i&&(0===s&&(a="start"),s===o.length-2&&(a="end"),0===s&&s+1===o.length-1&&(a="both")),function(t,e,n,i){var r=n[0],o=n[1],s=t[0],a=t[1],l=e[0],u=e[1],c=n[0]-s,h=n[1]-a,f=l-s,p=u-a;return c*p-h*f==0&&(i?"start"===i?Math.abs(f)>=Math.abs(p)?f>0?s<r&&r<=l:l<=r&&r<s:p>0?a<o&&o<=u:u<=o&&o<a:"end"===i?Math.abs(f)>=Math.abs(p)?f>0?s<=r&&r<l:l<r&&r<=s:p>0?a<=o&&o<u:u<o&&o<=a:"both"===i?Math.abs(f)>=Math.abs(p)?f>0?s<r&&r<l:l<r&&r<s:p>0?a<o&&o<u:u<o&&o<a:void 0:Math.abs(f)>=Math.abs(p)?f>0?s<=r&&r<=l:l<=r&&r<=s:p>0?a<=o&&o<=u:u<=o&&o<=a)}(o[s],o[s+1],r,a))return!0}return!1}function gn(t,e){var n=Z(t),i=Z(e),r=K(t),o=K(e);switch(n){case"Point":switch(i){case"MultiPoint":return function(t,e){var n,i=!1;for(n=0;n<e.coordinates.length;n++)if(vn(e.coordinates[n],t.coordinates)){i=!0;break}return i}(r,o);case"LineString":return dn(r,o,{ignoreEndVertices:!0});case"Polygon":return Ot(r,o,{ignoreBoundary:!0});default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var i=!1,r=0;r<e.coordinates.length;r++)vn(t.coordinates[n],e.coordinates[r])&&(i=!0);if(!i)return!1}return!0}(r,o);case"LineString":return function(t,e){for(var n=!1,i=0;i<t.coordinates.length;i++){if(!dn(t.coordinates[i],e))return!1;n||(n=dn(t.coordinates[i],e,{ignoreEndVertices:!0}))}return n}(r,o);case"Polygon":return function(t,e){for(var n=!0,i=0;i<t.coordinates.length;i++){var r=Ot(t.coordinates[1],e);if(!r){n=!1;break}r=Ot(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&r}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!dn(t.coordinates[n],e))return!1;return!0}(r,o);case"Polygon":return function(t,e){var n=q(e),i=q(t);if(!mn(n,i))return!1;for(var r=!1,o=0;o<t.coordinates.length-1;o++){if(!Ot(t.coordinates[o],e))return!1;if(r||(r=Ot(t.coordinates[o],e,{ignoreBoundary:!0})),!r){var s=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[o],t.coordinates[o+1]);r=Ot(s,e,{ignoreBoundary:!0})}}return r}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Polygon":return function(t,e){var n=q(t);if(!mn(q(e),n))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!Ot(t.coordinates[0][i],e))return!1;return!0}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function mn(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function vn(t,e){return t[0]===e[0]&&t[1]===e[1]}function yn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r=n.mask,o=n.properties,s=[];if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf(Z(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],l=t[1],c=t[2],h=t[3],f=e/Dt([a,l],[c,l],n)*(c-a),p=e/Dt([a,l],[a,h],n)*(h-l),d=c-a,g=h-l,m=Math.floor(d/f),v=(g-Math.floor(g/p)*p)/2,y=a+(d-m*f)/2;y<=c;){for(var _=l+v;_<=h;){var b=i([y,_],o);r?gn(b,r)&&s.push(b):s.push(b),_+=p}y+=f}return u(s)}function _n(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.precision,i=e.coordinates,r=e.mutate;if(n=null==n||isNaN(n)?6:n,i=null==i||isNaN(i)?3:i,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof i)throw new Error("<coordinates> must be a number");!1!==r&&void 0!==r||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return I(t,function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var i=0;i<t.length;i++)t[i]=Math.round(t[i]*e)/e}(t,o,i)}),t}function bn(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!bn(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function xn(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function wn(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!wn(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function En(t,e){var n=[],i=qe();return R(e,function(e){if(n.forEach(function(t,e){t.id=e}),n.length){var r=i.search(e);if(r.features.length){var o=Sn(e,r);n=n.filter(function(t){return t.id!==o.id}),i.remove(o),k(Cn(o,e),function(t){n.push(t),i.insert(t)})}}else(n=Cn(t,e).features).forEach(function(t){t.bbox||(t.bbox=re(q(t)))}),i.load(u(n))}),u(n)}function Cn(t,e){var n=[],i=W(t)[0],r=W(t)[t.geometry.coordinates.length-1];if(Mn(i,H(e))||Mn(r,H(e)))return u([t]);var o=qe(),s=Ue(t);o.load(s);var l=o.search(e);if(!l.features.length)return u([t]);var c=Sn(e,l),h=P(s,function(t,i,r){var o=W(i)[1],s=H(e);return r===c.id?(t.push(s),n.push(a(t)),Mn(s,o)?[s]:[s,o]):(t.push(o),t)},[i]);return h.length>1&&n.push(a(h)),u(n)}function Sn(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,i=1/0;return k(e,function(e){var r=Xe(e,t).properties.dist;r<i&&(n=e,i=r)}),n}function Mn(t,e){return t[0]===e[0]&&t[1]===e[1]}function In(t,e,n,i,r){if(!C(r=r||{}))throw new Error("options is invalid");var o=r.steps,s=r.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(null==n)throw new Error("bearing1 is required");if(null==i)throw new Error("bearing2 is required");if("object"!=typeof r)throw new Error("options must be an object");o=o||64;var l=On(n),u=On(i),c=t.properties;if(l===u)return a(se(t,e,r).geometry.coordinates[0],c);for(var h=l,f=l<u?u:u+360,p=h,d=[],g=0;p<f;)d.push(oe(t,e,p,s).geometry.coordinates),p=h+360*++g/o;return p>f&&d.push(oe(t,e,f,s).geometry.coordinates),a(d,c)}function On(t){var e=t%360;return e<0&&(e+=360),e}function Tn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=Z(t),r=W(t);if(n=n||t.properties||{},!r.length)throw new Error("polygon must contain coordinates");switch(i){case"Polygon":return Nn(r,n);case"MultiPolygon":var o=[];return r.forEach(function(t){o.push(Nn(t,n))}),u(o);default:throw new Error("geom "+i+" not supported")}}function Nn(t,e){return t.length>1?c(t,e):a(t[0],e)}function kn(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=e.autoComplete,r=e.orderCoords;if(!t)throw new Error("lines is required");switch(i=void 0===i||i,r=void 0===r||r,Z(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach(function(t){o.push(W(Pn(t,{},i,r)))}),f(o,n)}return Pn(t,n,i,r)}function Pn(t,e,n,i){e=e||t.properties||{};var r=W(t),s=Z(t);if(!r.length)throw new Error("line must contain coordinates");switch(s){case"LineString":return n&&(r=An(r)),o([r],e);case"MultiLineString":var l=[],u=0;return r.forEach(function(t){if(n&&(t=An(t)),i){var e=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return Math.abs(e-i)*Math.abs(n-r)}(q(a(t)));e>u?(l.unshift(t),u=e):l.push(t)}else l.push(t)}),o(l,e);default:throw new Error("geometry type "+s+" is not supported")}}function An(t){var e=t[0],n=e[0],i=e[1],r=t[t.length-1],o=r[0],s=r[1];return n===o&&i===s||t.push(e),t}function Ln(t,e,n){var i,r,o,s,a,l=t.length,u=Rn(t[0],e),c=[];for(n||(n=[]),i=1;i<l;i++){for(r=t[i-1],s=a=Rn(o=t[i],e);;){if(!(u|s)){c.push(r),s!==a?(c.push(o),i<l-1&&(n.push(c),c=[])):i===l-1&&c.push(o);break}if(u&s)break;u?u=Rn(r=Dn(r,o,u,e),e):s=Rn(o=Dn(r,o,s,e),e)}u=a}return c.length&&n.push(c),n}function Dn(t,e,n,i){return 8&n?[t[0]+(e[0]-t[0])*(i[3]-t[1])/(e[1]-t[1]),i[3]]:4&n?[t[0]+(e[0]-t[0])*(i[1]-t[1])/(e[1]-t[1]),i[1]]:2&n?[i[2],t[1]+(e[1]-t[1])*(i[2]-t[0])/(e[0]-t[0])]:1&n?[i[0],t[1]+(e[1]-t[1])*(i[0]-t[0])/(e[0]-t[0])]:null}function Rn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function jn(t,e){for(var n=[],i=0;i<t.length;i++){var r=bs.polygon(t[i],e);r.length>0&&(r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]||r.push(r[0]),r.length>=4&&n.push(r))}return n}function Fn(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function zn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?(n.strict,t===e):function(t,e,n){var i,r;if(Bn(t)||Bn(e))return!1;if(t.prototype!==e.prototype)return!1;if(Fn(t))return!!Fn(e)&&(t=xs.call(t),e=xs.call(e),zn(t,e,n));if(Gn(t)){if(!Gn(e))return!1;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}try{var o=Object.keys(t),s=Object.keys(e)}catch(t){return!1}if(o.length!==s.length)return!1;for(o.sort(),s.sort(),i=o.length-1;i>=0;i--)if(o[i]!==s[i])return!1;for(i=o.length-1;i>=0;i--)if(r=o[i],!zn(t[r],e[r],n))return!1;return typeof t==typeof e}(t,e,n))}function Bn(t){return null==t}function Gn(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}function qn(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i,r=n.tolerance||0,o=[],s=qe();return s.load(Ue(t)),F(e,function(t){var e=!1;k(s.search(t),function(n){if(!1===e){var o=W(t).sort(),s=W(n).sort();zn(o,s)?(e=!0,i=i?Hn(i,t):t):(0===r?dn(o[0],n)&&dn(o[1],n):Xe(n,o[0]).properties.dist<=r&&Xe(n,o[1]).properties.dist<=r)?(e=!0,i=i?Hn(i,t):t):(0===r?dn(s[0],t)&&dn(s[1],t):Xe(t,s[0]).properties.dist<=r&&Xe(t,s[1]).properties.dist<=r)&&(i=i?Hn(i,n):n)}}),!1===e&&i&&(o.push(i),i=void 0)}),i&&o.push(i),u(o)}function Hn(t,e){var n=W(e),i=W(t),r=i[0],o=i[i.length-1],s=t.geometry.coordinates;return zn(n[0],r)?s.unshift(n[1]):zn(n[0],o)?s.push(n[1]):zn(n[1],r)?s.unshift(n[0]):zn(n[1],o)&&s.push(n[0]),t}function Wn(t){var e=t%360;return e<0&&(e+=360),e}function Un(t,e,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var o=r.units,s=r.properties;if(!t)throw new Error("origin is required");if(null==e)throw new Error("distance is required");if(null==n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var a=x(e,o,"meters"),l=H(t),u=function(t,e,n,i){i=void 0===i?xo:Number(i);var r=e/i,o=t[0]*Math.PI/180,s=b(t[1]),a=b(n),l=r*Math.cos(a),u=s+l;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);var c=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),h=Math.abs(c)>1e-11?l/c:Math.cos(s),f=r*Math.sin(a)/h;return[(180*(o+f)/Math.PI+540)%360-180,180*u/Math.PI]}(l,a,n);return u[0]+=u[0]-l[0]>180?-360:l[0]-u[0]>180?360:0,i(u,s)}function Yn(t,e,n,i,r,o){for(var s=0;s<t.length;s++){var a=t[s],l=t[s+1];s===t.length-1&&(l=t[0]),i=Vn(a,l,e),n<=0&&i>0?function(t,e,n){return Vn(t,e,n)<0}(e,a,r)||(r=a):n>0&&i<=0&&(function(t,e,n){return Vn(t,e,n)>0}(e,a,o)||(o=a)),n=i}return[r,o]}function Vn(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function Xn(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,i,r=W(t),o=0,s=1;s<r.length;)n=i||r[0],o+=((i=r[s])[0]-n[0])*(i[1]+n[1]),s++;return o>0}function Kn(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return L(t,function(t){Kn(t,e)}),t;case"LineString":return $n(W(t),e),t;case"Polygon":return Zn(W(t),e),t;case"MultiLineString":return W(t).forEach(function(t){$n(t,e)}),t;case"MultiPolygon":return W(t).forEach(function(t){Zn(t,e)}),t;case"Point":case"MultiPoint":return t}}function $n(t,e){Xn(t)===e&&t.reverse()}function Zn(t,e){Xn(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)Xn(t[n])===e&&t[n].reverse()}function Jn(t,e,n,i){i=i||{};for(var r=Object.keys(ws),o=0;o<r.length;o++){var s=r[o],a=i[s];a=null!=a?a:ws[s],Es[s]=a}Es.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var l,u=function(t,e,n){for(var i=t.length-1,r=t[0].length-1,o={rows:i,cols:r,cells:[]},s=e+Math.abs(n),a=0;a<i;++a){o.cells[a]=[];for(var l=0;l<r;++l){var u=0,c=t[a+1][l],h=t[a+1][l+1],f=t[a][l+1],p=t[a][l];if(!(isNaN(c)||isNaN(h)||isNaN(f)||isNaN(p))){u|=c<e?0:c>s?128:64,u|=h<e?0:h>s?32:16,u|=f<e?0:f>s?8:4;var d=+(u|=p<e?0:p>s?2:1),g=0;if(17===u||18===u||33===u||34===u||38===u||68===u||72===u||98===u||102===u||132===u||136===u||137===u||152===u||153===u){var m=(c+h+f+p)/4;g=m>s?2:m<e?0:1,34===u?1===g?u=35:0===g&&(u=136):136===u?1===g?(u=35,g=4):0===g&&(u=34):17===u?1===g?(u=155,g=4):0===g&&(u=153):68===u?1===g?(u=103,g=4):0===g&&(u=102):153===u?1===g&&(u=155):102===u?1===g&&(u=103):152===u?g<2&&(u=156,g=1):137===u?g<2&&(u=139,g=1):98===u?g<2&&(u=99,g=1):38===u?g<2&&(u=39,g=1):18===u?g>0?(u=156,g=4):u=152:33===u?g>0?(u=139,g=4):u=137:72===u?g>0?(u=99,g=4):u=98:132===u&&(g>0?(u=39,g=4):u=38)}if(0!=u&&170!=u){var v,y,_,b,x,w,E,C;v=y=_=b=x=w=E=C=.5;var S=[];1===u?(_=1-Qn(e,f,p),C=1-Qn(e,c,p),S.push(ua[u])):169===u?(_=Qn(s,p,f),C=Qn(s,p,c),S.push(ua[u])):4===u?(w=1-Qn(e,h,f),b=Qn(e,p,f),S.push(aa[u])):166===u?(w=Qn(s,f,h),b=1-Qn(s,f,p),S.push(aa[u])):16===u?(x=Qn(e,f,h),y=Qn(e,c,h),S.push(sa[u])):154===u?(x=1-Qn(s,h,f),y=1-Qn(s,h,c),S.push(sa[u])):64===u?(E=Qn(e,p,c),v=1-Qn(e,h,c),S.push(ha[u])):106===u?(E=1-Qn(s,c,p),v=Qn(s,c,h),S.push(ha[u])):168===u?(b=Qn(s,p,f),_=Qn(e,p,f),C=Qn(e,p,c),E=Qn(s,p,c),S.push(la[u]),S.push(ua[u])):2===u?(b=1-Qn(e,f,p),_=1-Qn(s,f,p),C=1-Qn(s,c,p),E=1-Qn(e,c,p),S.push(la[u]),S.push(ua[u])):162===u?(x=Qn(s,f,h),w=Qn(e,f,h),b=1-Qn(e,f,p),_=1-Qn(s,f,p),S.push(la[u]),S.push(ua[u])):8===u?(x=1-Qn(e,h,f),w=1-Qn(s,h,f),b=Qn(s,p,f),_=Qn(e,p,f),S.push(sa[u]),S.push(aa[u])):138===u?(x=1-Qn(e,h,f),w=1-Qn(s,h,f),v=1-Qn(s,h,c),y=1-Qn(e,h,c),S.push(sa[u]),S.push(aa[u])):32===u?(x=Qn(s,f,h),w=Qn(e,f,h),v=Qn(e,c,h),y=Qn(s,c,h),S.push(sa[u]),S.push(aa[u])):42===u?(C=1-Qn(s,c,p),E=1-Qn(e,c,p),v=Qn(e,c,h),y=Qn(s,c,h),S.push(ca[u]),S.push(ha[u])):128===u&&(C=Qn(e,p,c),E=Qn(s,p,c),v=1-Qn(s,h,c),y=1-Qn(e,h,c),S.push(ca[u]),S.push(ha[u])),5===u?(w=1-Qn(e,h,f),C=1-Qn(e,c,p),S.push(aa[u])):165===u?(w=Qn(s,f,h),C=Qn(s,p,c),S.push(aa[u])):20===u?(b=Qn(e,p,f),y=Qn(e,c,h),S.push(la[u])):150===u?(b=1-Qn(s,f,p),y=1-Qn(s,h,c),S.push(la[u])):80===u?(x=Qn(e,f,h),E=Qn(e,p,c),S.push(sa[u])):90===u?(x=1-Qn(s,h,f),E=1-Qn(s,c,p),S.push(sa[u])):65===u?(_=1-Qn(e,f,p),v=1-Qn(e,h,c),S.push(ua[u])):105===u?(_=Qn(s,p,f),v=Qn(s,c,h),S.push(ua[u])):160===u?(x=Qn(s,f,h),w=Qn(e,f,h),C=Qn(e,p,c),E=Qn(s,p,c),S.push(sa[u]),S.push(aa[u])):10===u?(x=1-Qn(e,h,f),w=1-Qn(s,h,f),C=1-Qn(s,c,p),E=1-Qn(e,c,p),S.push(sa[u]),S.push(aa[u])):130===u?(b=1-Qn(e,f,p),_=1-Qn(s,f,p),v=1-Qn(s,h,c),y=1-Qn(e,h,c),S.push(la[u]),S.push(ua[u])):40===u?(b=Qn(s,p,f),_=Qn(e,p,f),v=Qn(e,c,h),y=Qn(s,c,h),S.push(la[u]),S.push(ua[u])):101===u?(w=Qn(s,f,h),v=Qn(s,c,h),S.push(aa[u])):69===u?(w=1-Qn(e,h,f),v=1-Qn(e,h,c),S.push(aa[u])):149===u?(C=Qn(s,p,c),y=1-Qn(s,h,c),S.push(ca[u])):21===u?(C=1-Qn(e,c,p),y=Qn(e,c,h),S.push(ca[u])):86===u?(b=1-Qn(s,f,p),E=1-Qn(s,c,p),S.push(la[u])):84===u?(b=Qn(e,p,f),E=Qn(e,p,c),S.push(la[u])):89===u?(x=1-Qn(s,h,f),_=Qn(s,p,f),S.push(ua[u])):81===u?(x=Qn(e,f,h),_=1-Qn(e,f,p),S.push(ua[u])):96===u?(x=Qn(s,f,h),w=Qn(e,f,h),E=Qn(e,p,c),v=Qn(s,c,h),S.push(sa[u]),S.push(aa[u])):74===u?(x=1-Qn(e,h,f),w=1-Qn(s,h,f),E=1-Qn(s,c,p),v=1-Qn(e,h,c),S.push(sa[u]),S.push(aa[u])):24===u?(x=1-Qn(s,h,f),b=Qn(s,p,f),_=Qn(e,p,f),y=Qn(e,c,h),S.push(sa[u]),S.push(ua[u])):146===u?(x=Qn(e,f,h),b=1-Qn(e,f,p),_=1-Qn(s,f,p),y=1-Qn(s,h,c),S.push(sa[u]),S.push(ua[u])):6===u?(w=1-Qn(e,h,f),b=1-Qn(s,f,p),C=1-Qn(s,c,p),E=1-Qn(e,c,p),S.push(aa[u]),S.push(la[u])):164===u?(w=Qn(s,f,h),b=Qn(e,p,f),C=Qn(e,p,c),E=Qn(s,p,c),S.push(aa[u]),S.push(la[u])):129===u?(_=1-Qn(e,f,p),C=Qn(s,p,c),v=1-Qn(s,h,c),y=1-Qn(e,h,c),S.push(ua[u]),S.push(ca[u])):41===u?(_=Qn(s,p,f),C=1-Qn(e,c,p),v=Qn(e,c,h),y=Qn(s,c,h),S.push(ua[u]),S.push(ca[u])):66===u?(b=1-Qn(e,f,p),_=1-Qn(s,f,p),E=1-Qn(s,c,p),v=1-Qn(e,h,c),S.push(la[u]),S.push(ua[u])):104===u?(b=Qn(s,p,f),_=Qn(e,p,f),E=Qn(e,p,c),v=Qn(s,c,h),S.push(ua[u]),S.push(fa[u])):144===u?(x=Qn(e,f,h),C=Qn(e,p,c),E=Qn(s,p,c),y=1-Qn(s,h,c),S.push(sa[u]),S.push(ha[u])):26===u?(x=1-Qn(s,h,f),C=1-Qn(s,c,p),E=1-Qn(e,c,p),y=Qn(e,c,h),S.push(sa[u]),S.push(ha[u])):36===u?(w=Qn(s,f,h),b=Qn(e,p,f),v=Qn(e,c,h),y=Qn(s,c,h),S.push(aa[u]),S.push(la[u])):134===u?(w=1-Qn(e,h,f),b=1-Qn(s,f,p),v=1-Qn(s,h,c),y=1-Qn(e,h,c),S.push(aa[u]),S.push(la[u])):9===u?(x=1-Qn(e,h,f),w=1-Qn(s,h,f),_=Qn(s,p,f),C=1-Qn(e,c,p),S.push(sa[u]),S.push(aa[u])):161===u?(x=Qn(s,f,h),w=Qn(e,f,h),_=1-Qn(e,f,p),C=Qn(s,p,c),S.push(sa[u]),S.push(aa[u])):37===u?(w=Qn(s,f,h),C=1-Qn(e,c,p),v=Qn(e,c,h),y=Qn(s,c,h),S.push(aa[u]),S.push(ca[u])):133===u?(w=1-Qn(e,h,f),C=Qn(s,p,c),v=1-Qn(s,h,c),y=1-Qn(e,h,c),S.push(aa[u]),S.push(ca[u])):148===u?(b=Qn(e,p,f),C=Qn(e,p,c),E=Qn(s,p,c),y=1-Qn(s,h,c),S.push(la[u]),S.push(ha[u])):22===u?(b=1-Qn(s,f,p),C=1-Qn(s,c,p),E=1-Qn(e,c,p),y=Qn(e,c,h),S.push(la[u]),S.push(ha[u])):82===u?(x=Qn(e,f,h),b=1-Qn(e,f,p),_=1-Qn(s,f,p),E=1-Qn(s,c,p),S.push(sa[u]),S.push(ua[u])):88===u?(x=1-Qn(s,h,f),b=Qn(s,p,f),_=Qn(e,p,f),E=Qn(e,p,c),S.push(sa[u]),S.push(ua[u])):73===u?(x=1-Qn(e,h,f),w=1-Qn(s,h,f),_=Qn(s,p,f),v=1-Qn(e,h,c),S.push(sa[u]),S.push(aa[u])):97===u?(x=Qn(s,f,h),w=Qn(e,f,h),_=1-Qn(e,f,p),v=Qn(s,c,h),S.push(sa[u]),S.push(aa[u])):145===u?(x=Qn(e,f,h),_=1-Qn(e,f,p),C=Qn(s,p,c),y=1-Qn(s,h,c),S.push(sa[u]),S.push(ca[u])):25===u?(x=1-Qn(s,h,f),_=Qn(s,p,f),C=1-Qn(e,c,p),y=Qn(e,c,h),S.push(sa[u]),S.push(ca[u])):70===u?(w=1-Qn(e,h,f),b=1-Qn(s,f,p),E=1-Qn(s,c,p),v=1-Qn(e,h,c),S.push(aa[u]),S.push(la[u])):100===u?(w=Qn(s,f,h),b=Qn(e,p,f),E=Qn(e,p,c),v=Qn(s,c,h),S.push(aa[u]),S.push(la[u])):34===u?(0===g?(x=1-Qn(e,h,f),w=1-Qn(s,h,f),b=Qn(s,p,f),_=Qn(e,p,f),C=Qn(e,p,c),E=Qn(s,p,c),v=1-Qn(s,h,c),y=1-Qn(e,h,c)):(x=Qn(s,f,h),w=Qn(e,f,h),b=1-Qn(e,f,p),_=1-Qn(s,f,p),C=1-Qn(s,c,p),E=1-Qn(e,c,p),v=Qn(e,c,h),y=Qn(s,c,h)),S.push(sa[u]),S.push(aa[u]),S.push(ca[u]),S.push(ha[u])):35===u?(4===g?(x=1-Qn(e,h,f),w=1-Qn(s,h,f),b=Qn(s,p,f),_=Qn(e,p,f),C=Qn(e,p,c),E=Qn(s,p,c),v=1-Qn(s,h,c),y=1-Qn(e,h,c)):(x=Qn(s,f,h),w=Qn(e,f,h),b=1-Qn(e,f,p),_=1-Qn(s,f,p),C=1-Qn(s,c,p),E=1-Qn(e,c,p),v=Qn(e,c,h),y=Qn(s,c,h)),S.push(sa[u]),S.push(aa[u]),S.push(ua[u]),S.push(ha[u])):136===u?(0===g?(x=Qn(s,f,h),w=Qn(e,f,h),b=1-Qn(e,f,p),_=1-Qn(s,f,p),C=1-Qn(s,c,p),E=1-Qn(e,c,p),v=Qn(e,c,h),y=Qn(s,c,h)):(x=1-Qn(e,h,f),w=1-Qn(s,h,f),b=Qn(s,p,f),_=Qn(e,p,f),C=Qn(e,p,c),E=Qn(s,p,c),v=1-Qn(s,h,c),y=1-Qn(e,h,c)),S.push(sa[u]),S.push(aa[u]),S.push(ca[u]),S.push(ha[u])):153===u?(0===g?(x=Qn(e,f,h),_=1-Qn(e,f,p),C=1-Qn(e,c,p),y=Qn(e,c,h)):(x=1-Qn(s,h,f),_=Qn(s,p,f),C=Qn(s,p,c),y=1-Qn(s,h,c)),S.push(sa[u]),S.push(ua[u])):102===u?(0===g?(w=1-Qn(e,h,f),b=Qn(e,p,f),E=Qn(e,p,c),v=1-Qn(e,h,c)):(w=Qn(s,f,h),b=1-Qn(s,f,p),E=1-Qn(s,c,p),v=Qn(s,c,h)),S.push(aa[u]),S.push(ha[u])):155===u?(4===g?(x=Qn(e,f,h),_=1-Qn(e,f,p),C=1-Qn(e,c,p),y=Qn(e,c,h)):(x=1-Qn(s,h,f),_=Qn(s,p,f),C=Qn(s,p,c),y=1-Qn(s,h,c)),S.push(sa[u]),S.push(ca[u])):103===u?(4===g?(w=1-Qn(e,h,f),b=Qn(e,p,f),E=Qn(e,p,c),v=1-Qn(e,h,c)):(w=Qn(s,f,h),b=1-Qn(s,f,p),E=1-Qn(s,c,p),v=Qn(s,c,h)),S.push(aa[u]),S.push(la[u])):152===u?(0===g?(x=Qn(e,f,h),b=1-Qn(e,f,p),_=1-Qn(s,f,p),C=1-Qn(s,c,p),E=1-Qn(e,c,p),y=Qn(e,c,h)):(x=1-Qn(s,h,f),b=Qn(s,p,f),_=Qn(e,p,f),C=Qn(e,p,c),E=Qn(s,p,c),y=1-Qn(s,h,c)),S.push(sa[u]),S.push(la[u]),S.push(ua[u])):156===u?(4===g?(x=Qn(e,f,h),b=1-Qn(e,f,p),_=1-Qn(s,f,p),C=1-Qn(s,c,p),E=1-Qn(e,c,p),y=Qn(e,c,h)):(x=1-Qn(s,h,f),b=Qn(s,p,f),_=Qn(e,p,f),C=Qn(e,p,c),E=Qn(s,p,c),y=1-Qn(s,h,c)),S.push(sa[u]),S.push(ua[u]),S.push(ha[u])):137===u?(0===g?(x=Qn(s,f,h),w=Qn(e,f,h),_=1-Qn(e,f,p),C=1-Qn(e,c,p),v=Qn(e,c,h),y=Qn(s,c,h)):(x=1-Qn(e,h,f),w=1-Qn(s,h,f),_=Qn(s,p,f),C=Qn(s,p,c),v=1-Qn(s,h,c),y=1-Qn(e,h,c)),S.push(sa[u]),S.push(aa[u]),S.push(ua[u])):139===u?(4===g?(x=Qn(s,f,h),w=Qn(e,f,h),_=1-Qn(e,f,p),C=1-Qn(e,c,p),v=Qn(e,c,h),y=Qn(s,c,h)):(x=1-Qn(e,h,f),w=1-Qn(s,h,f),_=Qn(s,p,f),C=Qn(s,p,c),v=1-Qn(s,h,c),y=1-Qn(e,h,c)),S.push(sa[u]),S.push(aa[u]),S.push(ca[u])):98===u?(0===g?(x=1-Qn(e,h,f),w=1-Qn(s,h,f),b=Qn(s,p,f),_=Qn(e,p,f),E=Qn(e,p,c),v=1-Qn(e,h,c)):(x=Qn(s,f,h),w=Qn(e,f,h),b=1-Qn(e,f,p),_=1-Qn(s,f,p),E=1-Qn(s,c,p),v=Qn(s,c,h)),S.push(sa[u]),S.push(aa[u]),S.push(ha[u])):99===u?(4===g?(x=1-Qn(e,h,f),w=1-Qn(s,h,f),b=Qn(s,p,f),_=Qn(e,p,f),E=Qn(e,p,c),v=1-Qn(e,h,c)):(x=Qn(s,f,h),w=Qn(e,f,h),b=1-Qn(e,f,p),_=1-Qn(s,f,p),E=1-Qn(s,c,p),v=Qn(s,c,h)),S.push(sa[u]),S.push(aa[u]),S.push(ua[u])):38===u?(0===g?(w=1-Qn(e,h,f),b=Qn(e,p,f),C=Qn(e,p,c),E=Qn(s,p,c),v=1-Qn(s,h,c),y=1-Qn(e,h,c)):(w=Qn(s,f,h),b=1-Qn(s,f,p),C=1-Qn(s,c,p),E=1-Qn(e,c,p),v=Qn(e,c,h),y=Qn(s,c,h)),S.push(aa[u]),S.push(ca[u]),S.push(ha[u])):39===u?(4===g?(w=1-Qn(e,h,f),b=Qn(e,p,f),C=Qn(e,p,c),E=Qn(s,p,c),v=1-Qn(s,h,c),y=1-Qn(e,h,c)):(w=Qn(s,f,h),b=1-Qn(s,f,p),C=1-Qn(s,c,p),E=1-Qn(e,c,p),v=Qn(e,c,h),y=Qn(s,c,h)),S.push(aa[u]),S.push(la[u]),S.push(ha[u])):85===u&&(x=1,w=0,b=1,_=0,C=0,E=1,v=0,y=1),(v<0||v>1||y<0||y>1||x<0||x>1||b<0||b>1||C<0||C>1||E<0||E>1)&&console.log("MarchingSquaresJS-isoBands: "+u+" "+d+" "+c+","+h+","+f+","+p+" "+g+" "+v+" "+y+" "+x+" "+w+" "+b+" "+_+" "+C+" "+E),o.cells[a][l]={cval:u,cval_real:d,flipped:g,topleft:v,topright:y,righttop:x,rightbottom:w,bottomright:b,bottomleft:_,leftbottom:C,lefttop:E,edges:S}}}}}return o}(t,e,n);return Es.polygons?(Es.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),l=function(t){var e=[],n=0;return t.cells.forEach(function(t,i){t.forEach(function(t,r){if(void 0!==t){var o=da[t.cval](t);"object"==typeof o&&ti(o)?"object"==typeof o[0]&&ti(o[0])?"object"==typeof o[0][0]&&ti(o[0][0])?o.forEach(function(t){t.forEach(function(t){t[0]+=r,t[1]+=i}),e[n++]=t}):(o.forEach(function(t){t[0]+=r,t[1]+=i}),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),e}(u)):(Es.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),l=function(t){for(var e=[],n=t.rows,i=t.cols,r=[],o=0;o<n;o++)for(var s=0;s<i;s++)if(void 0!==t.cells[o][s]&&t.cells[o][s].edges.length>0){var a=t.cells[o][s],l=function(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&Ss?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return n&Ms?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return n&Ms?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return n&Is?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&Ss?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return n&Ms?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return n&Ms?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return n&Is?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return n&Ms?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return n&Is?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return n&Is?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&Cs?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return n&Ms?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return n&Is?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return n&Is?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&Cs?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return n&Ms?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&Cs?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return n&Is?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&Cs?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&Cs?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&Ss?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&Cs?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&Ss?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(a),u=null,c=s,h=o;null!==l&&r.push([l.p[0]+c,l.p[1]+h]);do{if(null===(u=function(t,e,n,i){var r,o,s,a,l,u=t.cval;switch(e){case-1:switch(i){case 0:r=aa[u],s=js[u],a=Fs[u],l=zs[u];break;default:r=sa[u],s=Ls[u],a=Ds[u],l=Rs[u]}break;case 1:switch(i){case 0:r=ca[u],s=Ks[u],a=$s[u],l=Zs[u];break;default:r=ha[u],s=Ys[u],a=Vs[u],l=Xs[u]}break;default:switch(n){case-1:switch(i){case 0:r=fa[u],s=Os[u],a=Ts[u],l=Ns[u];break;default:r=pa[u],s=ks[u],a=Ps[u],l=As[u]}break;case 1:switch(i){case 0:r=ua[u],s=Bs[u],a=Gs[u],l=qs[u];break;default:r=la[u],s=Hs[u],a=Ws[u],l=Us[u]}}}if(o=t.edges.indexOf(r),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),u=t.cval_real,r){case 0:u&Ss?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:u&Ms?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:u&Ms?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:u&Is?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:u&Ss?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:u&Ms?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:u&Ms?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:u&Is?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:u&Ms?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:u&Is?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:u&Is?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:u&Cs?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:u&Ms?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:u&Is?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:u&Is?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:u&Cs?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:u&Ms?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:u&Cs?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:u&Is?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:u&Cs?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:u&Cs?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:u&Ss?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:u&Cs?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:u&Ss?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==s&&void 0!==a&&void 0!==l||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+s+" "+a+" "+l)),{p:[e,n],x:s,y:a,o:l}}(t.cells[h][c],l.x,l.y,l.o)))break;if(r.push([u.p[0]+c,u.p[1]+h]),c+=u.x,h+=u.y,l=u,h<0||h>=n||c<0||c>=i||void 0===t.cells[h][c]){c-=u.x,h-=u.y;var f=function(t,e,n,i,r,o){for(var s=t.cells[n][e],a=s.cval_real,l=e+i,u=n+r,c=[],h=!1;!h;){if(void 0===t.cells[u]||void 0===t.cells[u][l])if(u-=r,l-=i,s=t.cells[u][l],a=s.cval_real,-1===r)if(0===o)if(a&Is)c.push([l,u]),i=-1,r=0,o=0;else{if(!(a&Ms)){c.push([l+s.bottomright,u]),i=0,r=1,o=1,h=!0;break}c.push([l+1,u]),i=1,r=0,o=0}else{if(!(a&Is)){if(a&Ms){c.push([l+s.bottomright,u]),i=0,r=1,o=1,h=!0;break}c.push([l+s.bottomleft,u]),i=0,r=1,o=0,h=!0;break}c.push([l,u]),i=-1,r=0,o=0}else if(1===r)if(0===o){if(!(a&Ss)){if(a&Cs){c.push([l+s.topleft,u+1]),i=0,r=-1,o=0,h=!0;break}c.push([l+s.topright,u+1]),i=0,r=-1,o=1,h=!0;break}c.push([l+1,u+1]),i=1,r=0,o=1}else c.push([l+1,u+1]),i=1,r=0,o=1;else if(-1===i)if(0===o){if(!(a&Cs)){if(a&Is){c.push([l,u+s.leftbottom]),i=1,r=0,o=0,h=!0;break}c.push([l,u+s.lefttop]),i=1,r=0,o=1,h=!0;break}c.push([l,u+1]),i=0,r=1,o=0}else{if(!(a&Cs)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([l,u+1]),i=0,r=1,o=0}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(a&Ms)){c.push([l+1,u+s.rightbottom]),i=-1,r=0,o=0,h=!0;break}c.push([l+1,u]),i=0,r=-1,o=1}else{if(!(a&Ms)){if(a&Ss){c.push([l+1,u+s.righttop]),i=-1,r=0,o=1;break}c.push([l+1,u+s.rightbottom]),i=-1,r=0,o=0,h=!0;break}c.push([l+1,u]),i=0,r=-1,o=1}}else if(s=t.cells[u][l],a=s.cval_real,-1===i)if(0===o)if(void 0!==t.cells[u-1]&&void 0!==t.cells[u-1][l])i=0,r=-1,o=1;else{if(!(a&Is)){c.push([l+s.bottomright,u]),i=0,r=1,o=1,h=!0;break}c.push([l,u])}else{if(!(a&Cs)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+l+","+u);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===i){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[u+1]&&void 0!==t.cells[u+1][l])i=0,r=1,o=0;else{if(!(a&Ss)){c.push([l+s.topleft,u+1]),i=0,r=-1,o=0,h=!0;break}c.push([l+1,u+1]),i=1,r=0,o=1}}else if(-1===r){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[u][l+1])i=1,r=0,o=1;else{if(!(a&Ms)){c.push([l+1,u+s.righttop]),i=-1,r=0,o=1,h=!0;break}c.push([l+1,u]),i=0,r=-1,o=1}}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[u][l-1])i=-1,r=0,o=0;else{if(!(a&Cs)){c.push([l,u+s.leftbottom]),i=1,r=0,o=0,h=!0;break}c.push([l,u+1]),i=0,r=1,o=0}}if(u+=r,(l+=i)===e&&u===n)break}return{path:c,i:l,j:u,x:i,y:r,o:o}}(t,c,h,u.x,u.y,u.o);if(null===f)break;f.path.forEach(function(t){r.push(t)}),c=f.i,h=f.j,l=f}}while(void 0!==t.cells[h][c]&&t.cells[h][c].edges.length>0);e.push(r),r=[],t.cells[o][s].edges.length>0&&s--}return e}(u)),"function"==typeof Es.successCallback&&Es.successCallback(l),l}function Qn(t,e,n){return(t-e)/(n-e)}function ti(t){return t.constructor.toString().indexOf("Array")>-1}function ei(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.pivot,r=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e?t:(i||(i=ue(t)),!1!==r&&void 0!==r||(t=Rt(t)),I(t,function(t){var n=Ke(i,t)+e,r=Ze(i,t),o=W(Un(i,r,n));t[0]=o[0],t[1]=o[1]}),t)}function ni(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.origin,r=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(i)||"object"==typeof i;return!0!==r&&(t=Rt(t)),"FeatureCollection"!==t.type||o?ii(t,e,i):(k(t,function(n,r){t.features[r]=ii(n,e,i)}),t)}function ii(t,e,n){var r="Point"===Z(t);return n=function(t,e){if(null!=e||(e="centroid"),Array.isArray(e)||"object"==typeof e)return H(e);var n=t.bbox?t.bbox:q(t),r=n[0],o=n[1],s=n[2],a=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return i([r,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return i([s,o]);case"nw":case"northwest":case"westnorth":case"topleft":return i([r,a]);case"ne":case"northeast":case"eastnorth":case"topright":return i([s,a]);case"center":return le(t);case void 0:case null:case"centroid":return ue(t);default:throw new Error("invalid origin")}}(t,n),1===e||r?t:(I(t,function(t){var i=Ze(n,t),r=Ke(n,t),o=W(Un(n,i*e,r));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)}),t)}function ri(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function oi(t,e){return t[0]*e[1]-e[0]*t[1]}function si(t,e,n){var i=[],r=v(e,n),o=W(t),s=[];return o.forEach(function(t,e){if(e!==o.length-1){var n=function(t,e,n){var i=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),r=t[0]+n*(e[1]-t[1])/i,o=e[0]+n*(e[1]-t[1])/i,s=t[1]+n*(t[0]-e[0])/i,a=e[1]+n*(t[0]-e[0])/i;return[[r,s],[o,a]]}(t,o[e+1],r);if(i.push(n),e>0){var a=i[e-1],l=function(t,e){return!function(t,e){return 0===oi(ri(t),ri(e))}(t,e)&&function(t,e){var n=t[0],i=ri(t),r=e[0],o=ri(e),s=oi(i,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(oi(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(r,n),o)/s,i))}(t,e)}(n,a);!1!==l&&(a[1]=l,n[0]=l),s.push(a[0]),e===o.length-2&&(s.push(n[0]),s.push(n[1]))}2===o.length&&(s.push(n[0]),s.push(n[1]))}}),a(s,t.properties)}function ai(t,e,n){var i=e[0]-t[0],r=e[1]-t[1],o=n[0]-e[0],s=n[1]-e[1];return Math.sign(i*s-o*r)}function li(t,e){return e.geometry.coordinates[0].every(function(e){return Ot(i(e),t)})}function ui(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var i=n[0]-t[0],r=n[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];return i*s-r*o==0&&(Math.abs(o)>=Math.abs(s)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function ci(t,e){return Ye(e,Tn(t)).features.length>0}function hi(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function fi(t,e){return t[0]===e[0]&&t[1]===e[1]}function pi(t,e){for(var n=!1,i=!1,r=t.coordinates.length,o=0;o<r&&!n&&!i;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),mi(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?n=!0:i=!0}o++}return n&&i}function di(t,e){return Ye(t,Tn(e)).features.length>0}function gi(t,e){for(var n=!1,r=!1,o=t.coordinates[0].length,s=0;s<o&&n&&r;)Ot(i(t.coordinates[0][s]),e)?n=!0:r=!0,s++;return r&&r}function mi(t,e,n,i){var r=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==r*a-o*s&&(i?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function vi(t){return t.coordinates.map(function(e){return{type:t.type.replace("Multi",""),coordinates:e}})}function yi(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function _i(t,e){return wa(t,e,{strict:!0})}function bi(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=Z(t);if(n!==Z(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new Ca({precision:6}).compare(t,e))return!1;var i=0;switch(n){case"MultiPoint":var r=A(t),o=A(e);r.forEach(function(t){o.forEach(function(e){t[0]===e[0]&&t[1]===e[1]&&i++})});break;case"LineString":case"MultiLineString":F(t,function(t){F(e,function(e){qn(t,e).features.length&&i++})});break;case"Polygon":case"MultiPolygon":F(t,function(t){F(e,function(e){Ye(t,e).features.length&&i++})})}return i>0}function xi(t,e,n){n=n||[];for(var i=0;i<t;i++)n[i]=e;return n}function wi(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function Ei(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function Ci(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var i=0,r=t[n];i<r.length;i++){var o=new Si(n,i,r[i]);this.grid[n][i]=o,this.nodes.push(o)}}this.init()}function Si(t,e,n){this.x=t,this.y=e,this.weight=n}function Mi(t){this.content=[],this.scoreFunction=t}function Ii(t){return t[0]}function Oi(t){return t[1]}function Ti(){this._=null}function Ni(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ki(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Pi(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Ai(t){for(;t.L;)t=t.L;return t}function Li(t,e,n,i){var r=[null,null],o=Ga.push(r)-1;return r.left=t,r.right=e,n&&Ri(r,t,e,n),i&&Ri(r,e,t,i),za[t.index].halfedges.push(o),za[e.index].halfedges.push(o),r}function Di(t,e,n){var i=[e,n];return i.left=t,i}function Ri(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function ji(t,e,n,i,r){var o,s=t[0],a=t[1],l=s[0],u=s[1],c=0,h=1,f=a[0]-l,p=a[1]-u;if(o=e-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-u,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[l+c*f,u+c*p]),h<1&&(t[1]=[l+h*f,u+h*p]),!0)}}}}}function Fi(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,l=t[0],u=t.left,c=t.right,h=u[0],f=u[1],p=c[0],d=c[1],g=(h+p)/2,m=(f+d)/2;if(d===f){if(g<e||g>=i)return;if(h>p){if(l){if(l[1]>=r)return}else l=[g,n];o=[g,r]}else{if(l){if(l[1]<n)return}else l=[g,r];o=[g,n]}}else if(a=m-(s=(h-p)/(d-f))*g,s<-1||s>1)if(h>p){if(l){if(l[1]>=r)return}else l=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(l){if(l[1]<n)return}else l=[(r-a)/s,r];o=[(n-a)/s,n]}else if(f<d){if(l){if(l[0]>=i)return}else l=[e,s*e+a];o=[i,s*i+a]}else{if(l){if(l[0]<e)return}else l=[i,s*i+a];o=[e,s*e+a]}return t[0]=l,t[1]=o,!0}function zi(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Bi(t,e){return e[+(e.left!==t.site)]}function Gi(t,e){return e[+(e.left===t.site)]}function qi(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r[0],a=r[1],l=i[0]-s,u=i[1]-a,c=o[0]-s,h=o[1]-a,f=2*(l*h-u*c);if(!(f>=-Ua)){var p=l*l+u*u,d=c*c+h*h,g=(h*p-u*d)/f,m=(l*d-c*p)/f,v=qa.pop()||new function(){Ni(this),this.x=this.y=this.arc=this.site=this.cy=null};v.arc=t,v.site=r,v.x=g+s,v.y=(v.cy=m+a)+Math.sqrt(g*g+m*m),t.circle=v;for(var y=null,_=Ba._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}Ba.insert(y,v),y||(ja=v)}}}}function Hi(t){var e=t.circle;e&&(e.P||(ja=e.N),Ba.remove(e),qa.push(e),Ni(e),t.circle=null)}function Wi(t){var e=Ha.pop()||new function(){Ni(this),this.edge=this.site=this.circle=null};return e.site=t,e}function Ui(t){Hi(t),Fa.remove(t),Ha.push(t),Ni(t)}function Yi(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];Ui(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Wa&&Math.abs(i-l.circle.cy)<Wa;)o=l.P,a.unshift(l),Ui(l),l=o;a.unshift(l),Hi(l);for(var u=s;u.circle&&Math.abs(n-u.circle.x)<Wa&&Math.abs(i-u.circle.cy)<Wa;)s=u.N,a.push(u),Ui(u),u=s;a.push(u),Hi(u);var c,h=a.length;for(c=1;c<h;++c)u=a[c],l=a[c-1],Ri(u.edge,l.site,u.site,r);l=a[0],(u=a[h-1]).edge=Li(l.site,u.site,null,r),qi(l),qi(u)}function Vi(t){for(var e,n,i,r,o=t[0],s=t[1],a=Fa._;a;)if((i=Xi(a,s)-o)>Wa)a=a.L;else{if(!((r=o-function(t,e){var n=t.N;if(n)return Xi(n,e);var i=t.site;return i[1]===e?i[0]:1/0}(a,s))>Wa)){i>-Wa?(e=a.P,n=a):r>-Wa?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){za[t.index]={site:t,halfedges:[]}}(t);var l=Wi(t);if(Fa.insert(e,l),e||n){if(e===n)return Hi(e),n=Wi(e.site),Fa.insert(l,n),l.edge=n.edge=Li(e.site,l.site),qi(e),void qi(n);if(n){Hi(e),Hi(n);var u=e.site,c=u[0],h=u[1],f=t[0]-c,p=t[1]-h,d=n.site,g=d[0]-c,m=d[1]-h,v=2*(f*m-p*g),y=f*f+p*p,_=g*g+m*m,b=[(m*y-p*_)/v+c,(f*_-g*y)/v+h];Ri(n.edge,u,d,b),l.edge=Li(u,t,null,b),n.edge=Li(t,d,null,b),qi(e),qi(n)}else l.edge=Li(e.site,l.site)}}function Xi(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],l=n[1],u=l-e;if(!u)return a;var c=a-i,h=1/o-1/u,f=c/u;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+i:(i+a)/2}function Ki(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function $i(t,e){return e[1]-t[1]||e[0]-t[0]}function Zi(t,e){var n,i,r,o=t.sort($i).pop();for(Ga=[],za=new Array(t.length),Fa=new Ti,Ba=new Ti;;)if(r=ja,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Vi(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Yi(r.arc)}if(function(){for(var t,e,n,i,r=0,o=za.length;r<o;++r)if((t=za[r])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=zi(t,Ga[e[n]]);for(s.sort(function(t,e){return a[e]-a[t]}),n=0;n<i;++n)a[n]=e[s[n]];for(n=0;n<i;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],l=+e[1][0],u=+e[1][1];!function(t,e,n,i){for(var r,o=Ga.length;o--;)Fi(r=Ga[o],t,e,n,i)&&ji(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Wa||Math.abs(r[0][1]-r[1][1])>Wa)||delete Ga[o]}(s,a,l,u),function(t,e,n,i){var r,o,s,a,l,u,c,h,f,p,d,g,m=za.length,v=!0;for(r=0;r<m;++r)if(o=za[r]){for(s=o.site,a=(l=o.halfedges).length;a--;)Ga[l[a]]||l.splice(a,1);for(a=0,u=l.length;a<u;)d=(p=Gi(o,Ga[l[a]]))[0],g=p[1],h=(c=Bi(o,Ga[l[++a%u]]))[0],f=c[1],(Math.abs(d-h)>Wa||Math.abs(g-f)>Wa)&&(l.splice(a,0,Ga.push(Di(s,p,Math.abs(d-t)<Wa&&i-g>Wa?[t,Math.abs(h-t)<Wa?f:i]:Math.abs(g-i)<Wa&&n-d>Wa?[Math.abs(f-i)<Wa?h:n,i]:Math.abs(d-n)<Wa&&g-e>Wa?[n,Math.abs(h-n)<Wa?f:e]:Math.abs(g-e)<Wa&&d-t>Wa?[Math.abs(f-e)<Wa?h:t,e]:null))-1),++u);u&&(v=!1)}if(v){var y,_,b,x=1/0;for(r=0,v=null;r<m;++r)(o=za[r])&&(b=(y=(s=o.site)[0]-t)*y+(_=s[1]-e)*_)<x&&(x=b,v=o);if(v){var w=[t,e],E=[t,i],C=[n,i],S=[n,e];v.halfedges.push(Ga.push(Di(s=v.site,w,E))-1,Ga.push(Di(s,E,C))-1,Ga.push(Di(s,C,S))-1,Ga.push(Di(s,S,w))-1)}}for(r=0;r<m;++r)(o=za[r])&&(o.halfedges.length||delete za[r])}(s,a,l,u)}this.edges=Ga,this.cells=za,Fa=Ba=Ga=za=null}function Ji(t){return(t=t.slice()).push(t[0]),o([t])}function Qi(t,e,n,i){var r=(i=i||{}).steps||64,s=i.units||"kilometers",a=i.angle||0,l=i.pivot||t,u=i.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!C(i))throw new Error("options must be an object");if(!E(r))throw new Error("steps must be a number");if(!E(a))throw new Error("angle must be a number");var c=H(t);if("degrees"===s)var h=b(a);else e=Un(t,e,90,{units:s}),n=Un(t,n,0,{units:s}),e=H(e)[0]-c[0],n=H(n)[1]-c[1];for(var f=[],p=0;p<r;p+=1){var d=-360*p/r,g=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(tr(d),2)),m=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(tr(d),2));if(d<-90&&d>=-270&&(g=-g),d<-180&&d>=-360&&(m=-m),"degrees"===s){var v=g*Math.cos(h)+m*Math.sin(h),y=m*Math.cos(h)-g*Math.sin(h);g=v,m=y}f.push([g+c[0],m+c[1]])}return f.push(f[0]),"degrees"===s?o([f],u):ei(o([f],u),a,{pivot:l})}function tr(t){var e=t*Math.PI/180;return Math.tan(e)}function er(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=e.weight;if(!t)throw new Error("geojson is required");var o=0,s=0,a=0;return L(t,function(t,e,n){var i=n[r];if(!E(i=null==i?1:i))throw new Error("weight value must be a number for feature index "+e);(i=Number(i))>0&&I(t,function(t){o+=t[0]*i,s+=t[1]*i,a+=i})}),i([o/a,s/a],n)}function nr(t,e,n,r){var o=n.properties.tolerance||.001,s=0,a=0,l=0,u=0;if(k(n,function(e){var n=e.properties.weight,i=null==n?1:n;if(!E(i=Number(i)))throw new Error("weight value must be a number");if(i>0){u+=1;var r=i*Dt(e,t);0===r&&(r=1);var o=i/r;s+=e.geometry.coordinates[0]*o,a+=e.geometry.coordinates[1]*o,l+=o}}),u<1)throw new Error("no features to measure");var c=s/l,h=a/l;return 1===u||0===r||Math.abs(c-e[0])<o&&Math.abs(h-e[1])<o?i([c,h],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([c,h]),nr([c,h],t,n,r-1))}function ir(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function rr(t){if(C(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*lr(),180*lr()]}function or(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox;null!=t||(t=1);for(var r=[],o=0;o<t;o++)r.push(i(rr(n)));return u(r)}function sr(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.num_vertices,r=e.max_radial_length;null!=t||(t=1),E(i)||(i=10),E(r)||(r=10);for(var s=[],a=0;a<t;a++){var l=[],c=Array.apply(null,new Array(i+1)).map(Math.random);c.forEach(function(t,e,n){n[e]=e>0?t+n[e-1]:t}),c.forEach(function(t){t=2*t*Math.PI/c[c.length-1];var e=Math.random();l.push([e*r*Math.sin(t),e*r*Math.cos(t)])}),l[l.length-1]=l[0],l=l.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(rr(n))),s.push(o([l]))}return u(s)}function ar(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.num_vertices,r=e.max_length,o=e.max_rotation;null!=t||(t=1),(!E(i)||i<2)&&(i=10),E(r)||(r=1e-4),E(o)||(o=Math.PI/8);for(var s=[],l=0;l<t;l++){for(var c=[rr(n)],h=0;h<i-1;h++){var f=(0===h?2*Math.random()*Math.PI:Math.tan((c[h][1]-c[h-1][1])/(c[h][0]-c[h-1][0])))+(Math.random()-.5)*o*2,p=Math.random()*r;c.push([c[h][0]+p*Math.cos(f),c[h][1]+p*Math.sin(f)])}s.push(a(c))}return u(s)}function lr(){return Math.random()-.5}function ur(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return k(t,function(t){pr(t.properties,e)&&n.push(t)}),u(n)}function cr(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var i=fr(t,e),r=Object.keys(i),o=0;o<r.length;o++){for(var s=r[o],a=i[s],l=[],c=0;c<a.length;c++)l.push(t.features[a[c]]);n(u(l),s,o)}}function hr(t,e,n,i){var r=i;return cr(t,e,function(t,e,o){r=0===o&&void 0===i?t:n(r,t,e,o)}),r}function fr(t,e){var n={};return k(t,function(t,i){var r=t.properties||{};if(r.hasOwnProperty(e)){var o=r[e];n.hasOwnProperty(o)?n[o].push(i):n[o]=[i]}}),n}function pr(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(!pr(t,e[i]))return!1;return!0}return dr(t,e)}function dr(t,e){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];if(t[r]!==e[r])return!1}return!0}function gr(t,e){if(!e)return{};if(!e.length)return{};for(var n={},i=0;i<e.length;i++){var r=e[i];t.hasOwnProperty(r)&&(n[r]=t[r])}return n}function mr(){}function vr(t){this.message=t||""}function yr(t){this.message=t||""}function _r(){}function br(t){return null===t?fu:t.color}function xr(t){return null===t?null:t.parent}function wr(t,e){null!==t&&(t.color=e)}function Er(t){return null===t?null:t.left}function Cr(t){return null===t?null:t.right}function Sr(){this.root_=null,this.size_=0}function Mr(){}function Ir(){this.array_=[],arguments[0]instanceof Zl&&this.addAll(arguments[0])}function Or(){}function Tr(t){this.message=t||""}function Nr(){this.array_=[]}function kr(t){switch(t.type){case"Polygon":return ln(t)>1?t:null;case"MultiPolygon":var e=[];if(R(t,function(t){ln(t)>1&&e.push(t.geometry.coordinates)}),e.length)return{type:"MultiPolygon",coordinates:e}}}function Pr(){this.reset()}function Ar(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}function Lr(t){return t>1?yp:t<-1?-yp:Math.asin(t)}function Dr(){}function Rr(t,e){t&&Ap.hasOwnProperty(t.type)&&Ap[t.type](t,e)}function jr(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Fr(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)jr(t[n],e,1);e.polygonEnd()}function zr(t){return[Sp(t[1],t[0]),Lr(t[2])]}function Br(t){var e=t[0],n=t[1],i=Mp(n);return[i*Mp(e),i*Tp(e),Tp(n)]}function Gr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function qr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Hr(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Wr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ur(t){var e=Np(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Yr(t,e){return[t>vp?t-bp:t<-vp?t+bp:t,e]}function Vr(t,e,n){return(t%=bp)?e||n?Dp(Kr(t),$r(e,n)):Kr(t):e||n?$r(e,n):Yr}function Xr(t){return function(e,n){return[(e+=t)>vp?e-bp:e<-vp?e+bp:e,n]}}function Kr(t){var e=Xr(t);return e.invert=Xr(-t),e}function $r(t,e){function n(t,e){var n=Mp(e),a=Mp(t)*n,l=Tp(t)*n,u=Tp(e),c=u*i+a*r;return[Sp(l*o-c*s,a*i-u*r),Lr(c*o+l*s)]}var i=Mp(t),r=Tp(t),o=Mp(e),s=Tp(e);return n.invert=function(t,e){var n=Mp(e),a=Mp(t)*n,l=Tp(t)*n,u=Tp(e),c=u*o-l*s;return[Sp(l*o+u*s,a*i+c*r),Lr(c*i-a*r)]},n}function Zr(t,e){(e=Br(e))[0]-=t,Ur(e);var n=function(t){return t>1?0:t<-1?vp:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+bp-mp)%bp}function Jr(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Qr(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function to(t){return t.length>1}function eo(t,e){return((t=t.x)[0]<0?t[1]-yp-mp:yp-t[1])-((e=e.x)[0]<0?e[1]-yp-mp:yp-e[1])}function no(t){return function(e){var n=new io;for(var i in t)n[i]=t[i];return n.stream=e,n}}function io(){}function ro(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Lp(n,t.stream(Zp));var s=Zp.result(),a=Math.min(i/(s[1][0]-s[0][0]),r/(s[1][1]-s[0][1])),l=+e[0][0]+(i-a*(s[1][0]+s[0][0]))/2,u=+e[0][1]+(r-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([l,u])}function oo(t){return function(t){function e(t){return[(t=u(t[0]*wp,t[1]*wp))[0]*g+s,a-t[1]*g]}function n(t,e){return[(t=o(t,e))[0]*g+s,a-t[1]*g]}function i(){u=Dp(l=Vr(b,x,w),o);var t=o(y,_);return s=m-t[0]*g,a=v+t[1]*g,r()}function r(){return p=d=null,e}var o,s,a,l,u,c,h,f,p,d,g=150,m=480,v=250,y=0,_=0,b=0,x=0,w=0,E=null,C=Qp,S=null,M=Yp,I=.5,O=id(n,I);return e.stream=function(t){return p&&d===t?p:p=rd(C(l,O(M(d=t))))},e.clipAngle=function(t){return arguments.length?(C=+t?td(E=t*wp,6*wp):(E=null,Qp),r()):E*xp},e.clipExtent=function(t){return arguments.length?(M=null==t?(S=c=h=f=null,Yp):function(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,a,u){var c=0,h=0;if(null==r||(c=s(r,a))!==(h=s(o,a))||l(r,o)<0^a>0)do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+a+4)%4)!==h);else u.point(o[0],o[1])}function s(i,r){return Ep(i[0]-t)<mp?r>0?0:3:Ep(i[0]-n)<mp?r>0?2:1:Ep(i[1]-e)<mp?r>0?1:0:r>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t,e){r(t,e)&&x.point(t,e)}function u(o,s){var a=r(o,s);if(h&&f.push([o,s]),_)p=o,d=s,g=a,_=!1,a&&(x.lineStart(),x.point(o,s));else if(a&&y)x.point(o,s);else{var l=[m=Math.max(Wp,Math.min(Hp,m)),v=Math.max(Wp,Math.min(Hp,v))],u=[o=Math.max(Wp,Math.min(Hp,o)),s=Math.max(Wp,Math.min(Hp,s))];Fp(l,u,t,e,n,i)?(y||(x.lineStart(),x.point(l[0],l[1])),x.point(u[0],u[1]),a||x.lineEnd(),b=!1):a&&(x.lineStart(),x.point(o,s),b=!1)}m=o,v=s,y=a}var c,h,f,p,d,g,m,v,y,_,b,x=s,w=jp(),E={point:l,lineStart:function(){E.point=u,h&&h.push(f=[]),_=!0,y=!1,m=v=NaN},lineEnd:function(){c&&(u(p,d),g&&y&&w.rejoin(),c.push(w.result())),E.point=l,y&&x.lineEnd()},polygonStart:function(){x=w,c=[],h=[],b=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=h.length;n<r;++n)for(var o,s,a=h[n],l=1,u=a.length,c=a[0],f=c[0],p=c[1];l<u;++l)o=f,s=p,f=(c=a[l])[0],p=c[1],s<=i?p>i&&(f-o)*(i-s)>(p-s)*(t-o)&&++e:p<=i&&(f-o)*(i-s)<(p-s)*(t-o)&&--e;return e}(),n=b&&e,r=(c=qp(c)).length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),r&&Bp(c,a,e,o,s),s.polygonEnd()),x=s,c=h=f=null}};return E}}(S=+t[0][0],c=+t[0][1],h=+t[1][0],f=+t[1][1]),r()):null==S?null:[[S,c],[h,f]]},e.scale=function(t){return arguments.length?(g=+t,i()):g},e.translate=function(t){return arguments.length?(m=+t[0],v=+t[1],i()):[m,v]},e.center=function(t){return arguments.length?(y=t[0]%360*wp,_=t[1]%360*wp,i()):[y*xp,_*xp]},e.rotate=function(t){return arguments.length?(b=t[0]%360*wp,x=t[1]%360*wp,w=t.length>2?t[2]%360*wp:0,i()):[b*xp,x*xp,w*xp]},e.precision=function(t){return arguments.length?(O=id(n,I=t*t),r()):Np(I)},e.fitExtent=function(t,n){return ro(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return ro(t,[[0,0],e],n)}(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=u.invert((t[0]-s)/g,(a-t[1])/g))&&[t[0]*xp,t[1]*xp]},i()}}(function(){return t})()}function so(t,e){return[t,Op(kp((yp+e)/2))]}function ao(t,e){return[Op(kp((yp+e)/2)),-t]}function lo(t,n,i,r){var o=t.properties||{},s="Feature"===t.type?t.geometry:t;if("GeometryCollection"===s.type){var a=[];return L(t,function(t){var e=lo(t,n,i,r);e&&a.push(e)}),u(a)}var l,c=q(t),h=c[1]>50&&c[3]>50;l=h?{type:s.type,coordinates:uo(s.coordinates,ho(s))}:Je(s);var f,p=(new ec).read(l),d=g(m(n,i),"meters"),v=Yh.bufferOp(p,d);if(!function t(e){return Array.isArray(e[0])?t(e[0]):isNaN(e[0])}((v=(new nc).write(v)).coordinates))return(f=h?{type:v.type,coordinates:co(v.coordinates,ho(s))}:Qe(v)).geometry?f:e(f,o)}function uo(t,e){return"object"!=typeof t[0]?e(t):t.map(function(t){return uo(t,e)})}function co(t,e){return"object"!=typeof t[0]?e.invert(t):t.map(function(t){return co(t,e)})}function ho(t){var e=le(t).geometry.coordinates.reverse(),n=e.map(function(t){return-t});return od().center(e).rotate(n).scale(xo)}function fo(){for(var t=new ec,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=pp.union(e,t.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:e=(new nc).write(e),properties:arguments[0].properties}}function po(t,n){var i=K(t),r=K(n);if(Xt(_n(r,{precision:4})).coordinates[0].length<4)return null;if(Xt(_n(i,{precision:4})).coordinates[0].length<4)return null;var o=new ec,s=o.read(_n(i)),a=o.read(_n(r)),l=rp.intersection(s,a);return l.isEmpty()?null:e((new nc).write(l))}function go(t,e){return function(t,e,n){var i,r;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach(function(e,n){var o=function(t,e){return t-e}(e,t);o>=0&&(void 0===r||o<r)&&(r=o,i=n)}),i}(t,e)}function mo(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.properties||{},r=n.triangles,s=n.mask;if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(s&&-1===["Polygon","MultiPolygon"].indexOf(Z(s)))throw new Error("options.mask must be a (Multi)Polygon");var a=t[0],l=t[1],c=t[2],h=t[3],f=(l+h)/2,p=(a+c)/2,d=2*e/Dt([a,f],[c,f],n)*(c-a),g=2*e/Dt([p,l],[p,h],n)*(h-l),m=d/2,v=2*m,y=Math.sqrt(3)/2*g,_=c-a,b=h-l,x=.75*v,w=y,S=(_-v)/(v-m/2),M=Math.floor(S),I=(M*x-m/2-_)/2-m/2+x/2,O=Math.floor((b-y)/y),T=(b-O*y)/2,N=O*y-b>y/2;N&&(T-=y/4);for(var k=[],P=[],A=0;A<6;A++){var L=2*Math.PI/6*A;k.push(Math.cos(L)),P.push(Math.sin(L))}for(var D=[],R=0;R<=M;R++)for(var j=0;j<=O;j++){var F=R%2==1;if(!(0===j&&F||0===j&&N)){var z=R*x+a-I,B=j*w+l+T;if(F&&(B-=y/2),!0===r)(function(t,e,n,i,r,s){for(var a=[],l=0;l<6;l++){var u=[];u.push(t),u.push([t[0]+e*r[l],t[1]+n*s[l]]),u.push([t[0]+e*r[(l+1)%6],t[1]+n*s[(l+1)%6]]),u.push(t),a.push(o([u],i))}return a})([z,B],d/2,g/2,i,k,P).forEach(function(t){s?po(s,t)&&D.push(t):D.push(t)});else{var G=function(t,e,n,i,r,s){for(var a=[],l=0;l<6;l++){var u=t[0]+e*r[l],c=t[1]+n*s[l];a.push([u,c])}return a.push(a[0].slice()),o([a],i)}([z,B],d/2,g/2,i,k,P);s?po(s,G)&&D.push(G):D.push(G)}}}return u(D)}function vo(t){if(t.features.length<=1)return t;var e=function(t){var e=ko(),n=[];return R(t,function(t,e){var i=q(t);n.push({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],geojson:t,index:e})}),e.load(n),e}(t),n=[],i={};return R(t,function(t,r){if(i[r])return!0;for(e.remove({index:r},yo),i[r]=!0;;){var o=q(t),s=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(s.length>0){var a=s.map(function(t){return i[t.index]=!0,e.remove({index:t.index},yo),t.geojson});a.push(t),t=fo.apply(this,a)}if(0===s.length)break}n.push(t)}),u(n)}function yo(t,e){return t.index===e.index}function _o(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.properties,r=n.mask,s=[];if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf(Z(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],l=t[1],c=t[2],h=t[3],f=e/Dt([a,l],[c,l],n)*(c-a),p=e/Dt([a,l],[a,h],n)*(h-l),d=c-a,g=h-l,m=Math.floor(d/f),v=Math.floor(g/p),y=(g-v*p)/2,_=a+(d-m*f)/2,b=0;b<m;b++){for(var x=l+y,w=0;w<v;w++){var S=o([[[_,x],[_,x+p],[_+f,x+p],[_+f,x],[_,x]]],i);r?po(r,S)&&s.push(S):s.push(S),x+=p}_+=f}return u(s)}function bo(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.properties,r=n.mask,s=[];if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf(Z(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=e/Dt([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),l=e/Dt([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),c=0,h=t[0];h<=t[2];){for(var f=0,p=t[1];p<=t[3];){var d=null,g=null;c%2==0&&f%2==0?(d=o([[[h,p],[h,p+l],[h+a,p],[h,p]]],i),g=o([[[h,p+l],[h+a,p+l],[h+a,p],[h,p+l]]],i)):c%2==0&&f%2==1?(d=o([[[h,p],[h+a,p+l],[h+a,p],[h,p]]],i),g=o([[[h,p],[h,p+l],[h+a,p+l],[h,p]]],i)):f%2==0&&c%2==1?(d=o([[[h,p],[h,p+l],[h+a,p+l],[h,p]]],i),g=o([[[h,p],[h+a,p+l],[h+a,p],[h,p]]],i)):f%2==1&&c%2==1&&(d=o([[[h,p],[h,p+l],[h+a,p],[h,p]]],i),g=o([[[h,p+l],[h+a,p+l],[h+a,p],[h,p+l]]],i)),r?(po(r,d)&&s.push(d),po(r,g)&&s.push(g)):(s.push(d),s.push(g)),p+=l,f++}c++,h+=a}return u(s)}var xo=6371008.8,wo={meters:xo,metres:xo,millimeters:1e3*xo,millimetres:1e3*xo,centimeters:100*xo,centimetres:100*xo,kilometers:xo/1e3,kilometres:xo/1e3,miles:xo/1609.344,nauticalmiles:xo/1852,inches:39.37*xo,yards:xo/1.0936,feet:3.28084*xo,radians:1,degrees:xo/111325},Eo={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/xo,degrees:1/111325},Co={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:3.86e-7,yards:1.195990046,feet:10.763910417,inches:1550.003100006},So=Object.freeze({earthRadius:xo,factors:wo,unitsFactors:Eo,areaFactors:Co,feature:e,geometry:n,point:i,points:r,polygon:o,polygons:s,lineString:a,lineStrings:l,featureCollection:u,multiLineString:c,multiPoint:h,multiPolygon:f,geometryCollection:p,round:d,radiansToLength:g,lengthToRadians:m,lengthToDegrees:v,bearingToAzimuth:y,radiansToDegrees:_,degreesToRadians:b,convertLength:x,convertArea:w,isNumber:E,isObject:C,validateBBox:S,validateId:M,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Mo=Object.freeze({coordEach:I,coordReduce:O,propEach:T,propReduce:N,featureEach:k,featureReduce:P,coordAll:A,geomEach:L,geomReduce:D,flattenEach:R,flattenReduce:j,segmentEach:F,segmentReduce:z,lineEach:B,lineReduce:G}),Io=Object.freeze({getCoord:H,getCoords:W,containsNumber:U,geojsonType:Y,featureOf:V,collectionOf:X,getGeom:K,getGeomType:$,getType:Z}),Oo={successCallback:null,verbose:!1},To={},No=function t(e,n,i,r,o){for(i=i||0,r=r||e.length-1,o=o||function(t,e){return t<e?-1:t>e?1:0};r>i;){if(r-i>600){var s=r-i+1,a=n-i+1,l=Math.log(s),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(s-u)/s)*(a-s/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-a*u/s+c)),Math.min(r,Math.floor(n+(s-a)*u/s+c)),o)}var h=e[n],f=i,p=r;for(it(e,i,n),o(e[r],h)>0&&it(e,i,r);f<p;){for(it(e,f,p),f++,p--;o(e[f],h)<0;)f++;for(;o(e[p],h)>0;)p--}0===o(e[i],h)?it(e,i,p):it(e,++p,r),p<=n&&(i=p+1),n<=p&&(r=p-1)}},ko=rt;rt.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!pt(t,e))return n;for(var r,o,s,a,l=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],pt(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):ft(t,a)?this._all(s,n):l.push(s));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!pt(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],s=e.leaf?n(o):o,pt(t,s)){if(e.leaf||ft(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=dt([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,o,s=this.data,a=this.toBBox(t),l=[],u=[];s||l.length;){if(s||(s=l.pop(),i=l[l.length-1],n=u.pop(),o=!0),s.leaf&&-1!==(r=function(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}(t,s.children,e)))return s.children.splice(r,1),l.push(s),this._condense(l),this;o||s.leaf||!ft(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(l.push(s),u.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:lt,compareMinY:ut,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,s=this._maxEntries;if(o<=s)return ot(r=dt(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(r=dt([])).leaf=!1,r.height=i;var a,l,u,c,h=Math.ceil(o/s),f=h*Math.ceil(Math.sqrt(s));for(gt(t,e,n,f,this.compareMinX),a=e;a<=n;a+=f)for(gt(t,a,u=Math.min(a+f-1,n),h,this.compareMinY),l=a;l<=u;l+=h)c=Math.min(l+h-1,u),r.children.push(this._build(t,l,c,i-1));return ot(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,l,u,c,h;i.push(e),!e.leaf&&i.length-1!==n;){for(c=h=1/0,r=0,o=e.children.length;r<o;r++)l=ct(s=e.children[r]),(u=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-l)<h?(h=u,c=l<c?l:c,a=s):u===h&&l<c&&(c=l,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),at(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),s=dt(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,ot(n,this.toBBox),ot(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=dt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ot(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,a,l,u,c;for(l=u=1/0,i=e;i<=n-e;i++)s=function(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}(r=st(t,0,i,this.toBBox),o=st(t,i,n,this.toBBox)),a=ct(r)+ct(o),s<l?(l=s,c=i,u=a<u?a:u):s===l&&a<u&&(u=a,c=i);return c},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:lt,r=t.leaf?this.compareMinY:ut;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,a=st(t,0,e,s),l=st(t,n-e,n,s),u=ht(a)+ht(l);for(r=e;r<n-e;r++)o=t.children[r],at(a,t.leaf?s(o):o),u+=ht(a);for(r=n-e-1;r>=e;r--)o=t.children[r],at(l,t.leaf?s(o):o),u+=ht(l);return u},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)at(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():ot(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var Po=function(t,e,n){var i=t*e,r=Ao*t,o=r-(r-t),s=t-o,a=Ao*e,l=a-(a-e),u=e-l,c=s*u-(i-o*l-s*l-o*u);return n?(n[0]=c,n[1]=i,n):[c,i]},Ao=+(Math.pow(2,27)+1),Lo=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);return r?[r,n]:[n]}(t[0],e[0]);var r,o,s=n+i,a=new Array(s),l=0,u=0,c=0,h=Math.abs,f=t[u],p=h(f),d=e[c],g=h(d);p<g?(o=f,(u+=1)<n&&(p=h(f=t[u]))):(o=d,(c+=1)<i&&(g=h(d=e[c]))),u<n&&p<g||c>=i?(r=f,(u+=1)<n&&(p=h(f=t[u]))):(r=d,(c+=1)<i&&(g=h(d=e[c])));for(var m,v,y=r+o,_=y-r,b=o-_,x=b,w=y;u<n&&c<i;)p<g?(r=f,(u+=1)<n&&(p=h(f=t[u]))):(r=d,(c+=1)<i&&(g=h(d=e[c]))),(b=(o=x)-(_=(y=r+o)-r))&&(a[l++]=b),x=w-((m=w+y)-(v=m-w))+(y-v),w=m;for(;u<n;)(b=(o=x)-(_=(y=(r=f)+o)-r))&&(a[l++]=b),x=w-((m=w+y)-(v=m-w))+(y-v),w=m,(u+=1)<n&&(f=t[u]);for(;c<i;)(b=(o=x)-(_=(y=(r=d)+o)-r))&&(a[l++]=b),x=w-((m=w+y)-(v=m-w))+(y-v),w=m,(c+=1)<i&&(d=e[c]);return x&&(a[l++]=x),w&&(a[l++]=w),l||(a[l++]=0),a.length=l,a},Do=function(t,e,n){var i=t+e,r=i-t,o=e-r,s=t-(i-r);return n?(n[0]=s+o,n[1]=i,n):[s+o,i]},Ro=function(t,e){var n=t.length;if(1===n){var i=Po(t[0],e);return i[0]?i:[i[1]]}var r=new Array(2*n),o=[.1,.1],s=[.1,.1],a=0;Po(t[0],e,o),o[0]&&(r[a++]=o[0]);for(var l=1;l<n;++l){Po(t[l],e,s);var u=o[1];Do(u,s[0],o),o[0]&&(r[a++]=o[0]);var c=s[1],h=o[1],f=c+h,p=h-(f-c);o[1]=f,p&&(r[a++]=p)}return o[1]&&(r[a++]=o[1]),0===a&&(r[a++]=0),r.length=a,r},jo=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);return r?[r,n]:[n]}(t[0],-e[0]);var r,o,s=n+i,a=new Array(s),l=0,u=0,c=0,h=Math.abs,f=t[u],p=h(f),d=-e[c],g=h(d);p<g?(o=f,(u+=1)<n&&(p=h(f=t[u]))):(o=d,(c+=1)<i&&(g=h(d=-e[c]))),u<n&&p<g||c>=i?(r=f,(u+=1)<n&&(p=h(f=t[u]))):(r=d,(c+=1)<i&&(g=h(d=-e[c])));for(var m,v,y=r+o,_=y-r,b=o-_,x=b,w=y;u<n&&c<i;)p<g?(r=f,(u+=1)<n&&(p=h(f=t[u]))):(r=d,(c+=1)<i&&(g=h(d=-e[c]))),(b=(o=x)-(_=(y=r+o)-r))&&(a[l++]=b),x=w-((m=w+y)-(v=m-w))+(y-v),w=m;for(;u<n;)(b=(o=x)-(_=(y=(r=f)+o)-r))&&(a[l++]=b),x=w-((m=w+y)-(v=m-w))+(y-v),w=m,(u+=1)<n&&(f=t[u]);for(;c<i;)(b=(o=x)-(_=(y=(r=d)+o)-r))&&(a[l++]=b),x=w-((m=w+y)-(v=m-w))+(y-v),w=m,(c+=1)<i&&(d=-e[c]);return x&&(a[l++]=x),w&&(a[l++]=w),l||(a[l++]=0),a.length=l,a},Fo=mt(function(t){function e(t,e){for(var n=new Array(t.length-1),i=1;i<t.length;++i)for(var r=n[i-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(r[s++]=t[i][o]);return n}function n(t){return 1&t?"-":""}function i(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",i(t.slice(0,e)),",",i(t.slice(e)),")"].join("")}function r(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var o=[],s=0;s<t.length;++s)o.push(["scale(",i(r(e(t,s))),",",n(s),t[0][s],")"].join(""));return o}function o(t){for(var n=[],o=[],s=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var i=0;i<t;++i)e[n][i]=["m",i,"[",t-n-1,"]"].join("")}return e}(t),a=[],l=0;l<t;++l)0==(1&l)?n.push.apply(n,r(e(s,l))):o.push.apply(o,r(e(s,l))),a.push("m"+l);var u=i(n),c=i(o),h="orientation"+t+"Exact",f=["function ",h,"(",a.join(),"){var p=",u,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",h].join("");return new Function("sum","prod","scale","sub",f)(Lo,Po,Ro,jo)}var s=o(3),a=o(4),l=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var i,r=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),a=r-o;if(r>0){if(o<=0)return a;i=r+o}else{if(!(r<0))return a;if(o>=0)return a;i=-(r+o)}var l=3.3306690738754716e-16*i;return a>=l||a<=-l?a:s(t,e,n)},function(t,e,n,i){var r=t[0]-i[0],o=e[0]-i[0],s=n[0]-i[0],l=t[1]-i[1],u=e[1]-i[1],c=n[1]-i[1],h=t[2]-i[2],f=e[2]-i[2],p=n[2]-i[2],d=o*c,g=s*u,m=s*l,v=r*c,y=r*u,_=o*l,b=h*(d-g)+f*(m-v)+p*(y-_),x=7.771561172376103e-16*((Math.abs(d)+Math.abs(g))*Math.abs(h)+(Math.abs(m)+Math.abs(v))*Math.abs(f)+(Math.abs(y)+Math.abs(_))*Math.abs(p));return b>x||-b>x?b:a(t,e,n,i)}];!function(){for(;l.length<=5;)l.push(o(l.length));for(var e=[],n=["slow"],i=0;i<=5;++i)e.push("a"+i),n.push("o"+i);var r=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(i=2;i<=5;++i)r.push("case ",i,":return o",i,"(",e.slice(0,i).join(),");");r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(r.join(""));var s=Function.apply(void 0,n);for(t.exports=s.apply(void 0,[function(t){var e=l[t.length];return e||(e=l[t.length]=o(t.length)),e.apply(void 0,t)}].concat(l)),i=0;i<=5;++i)t.exports[i]=l[i]}()}),zo=function(t){var e=t.length;if(e<3){for(var n=new Array(e),i=0;i<e;++i)n[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var r=new Array(e);for(i=0;i<e;++i)r[i]=i;r.sort(function(e,n){var i=t[e][0]-t[n][0];return i||t[e][1]-t[n][1]});var o=[r[0],r[1]],s=[r[0],r[1]];for(i=2;i<e;++i){for(var a=r[i],l=t[a],u=o.length;u>1&&Bo(t[o[u-2]],t[o[u-1]],l)<=0;)u-=1,o.pop();for(o.push(a),u=s.length;u>1&&Bo(t[s[u-2]],t[s[u-1]],l)>=0;)u-=1,s.pop();s.push(a)}n=new Array(s.length+o.length-2);for(var c=0,h=(i=0,o.length);i<h;++i)n[c++]=o[i];for(var f=s.length-2;f>0;--f)n[c++]=s[f];return n},Bo=Fo[3],Go=vt,qo=vt;vt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,i=e[t];t>0;){var r=t-1>>1,o=e[r];if(n(i,o)>=0)break;e[t]=o,t=r}e[t]=i},_down:function(t){for(var e=this.data,n=this.compare,i=this.length>>1,r=e[t];t<i;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,r)>=0)break;e[t]=a,t=o}e[t]=r}},Go.default=qo;var Ho=function(t,e){for(var n=t[0],i=t[1],r=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],l=e[o][1],u=e[s][0],c=e[s][1];l>i!=c>i&&n<(u-a)*(i-l)/(c-l)+a&&(r=!r)}return r},Wo=Fo[3],Uo=yt,Yo=yt;Uo.default=Yo;var Vo=function(t){return t},Xo=function(t){if(null==t)return Vo;var e,n,i=t.scale[0],r=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0);var l=2,u=t.length,c=new Array(u);for(c[0]=(e+=t[0])*i+o,c[1]=(n+=t[1])*r+s;l<u;)c[l]=t[l],++l;return c}},Ko=function(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n},$o=function(t,e){function n(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){i[t<0?~t:t]=1}),s.push(r)}}var i={},r={},o={},s=[],a=-1;return e.forEach(function(n,i){var r,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++a],e[a]=n,e[i]=r)}),e.forEach(function(e){var n,i,s=function(e){var n,i=t.arcs[e<0?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=i[i.length-1],e<0?[n,r]:[r,n]}(e),a=s[0],l=s[1];if(n=o[a])if(delete o[n.end],n.push(e),n.end=l,i=r[l]){delete r[i.start];var u=i===n?n:n.concat(i);r[u.start=n.start]=o[u.end=i.end]=u}else r[n.start]=o[n.end]=n;else if(n=r[l])if(delete r[n.start],n.unshift(e),n.start=a,i=o[a]){delete o[i.end];var c=i===n?n:i.concat(n);r[c.start=i.start]=o[c.end=n.end]=c}else r[n.start]=o[n.end]=n;else r[(n=[e]).start=a]=o[n.end=l]=n}),n(o,r),n(r,o),e.forEach(function(t){i[t<0?~t:t]||s.push([t])}),s},Zo=function(t){return zt(t,function(t,e){function n(t){t.forEach(function(e){e.forEach(function(e){(r[e=e<0?~e:e]||(r[e]=[])).push(t)})}),o.push(t)}function i(e){return function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return Math.abs(o)}(zt(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var r={},o=[],s=[];return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}}),o.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,s.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),o.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:s.map(function(e){var n,o=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){r[t<0?~t:t].length<2&&o.push(t)})})}),o=$o(t,o),(n=o.length)>1)for(var s,a,l=1,u=i(o[0]);l<n;++l)(s=i(o[l]))>u&&(a=o[0],o[0]=o[l],o[l]=a,u=s);return o})}}.apply(this,arguments))},Jo=function(t,e,n,i,r,o){3===arguments.length&&(i=o=Array,r=null);for(var s=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new o(t),l=t-1,u=0;u<t;++u)s[u]=r;return{set:function(i,o){for(var u=e(i)&l,c=s[u],h=0;c!=r;){if(n(c,i))return a[u]=o;if(++h>=t)throw new Error("full hashmap");c=s[u=u+1&l]}return s[u]=i,a[u]=o,o},maybeSet:function(i,o){for(var u=e(i)&l,c=s[u],h=0;c!=r;){if(n(c,i))return a[u];if(++h>=t)throw new Error("full hashmap");c=s[u=u+1&l]}return s[u]=i,a[u]=o,o},get:function(i,o){for(var u=e(i)&l,c=s[u],h=0;c!=r;){if(n(c,i))return a[u];if(++h>=t)break;c=s[u=u+1&l]}return o},keys:function(){for(var t=[],e=0,n=s.length;e<n;++e){var i=s[e];i!=r&&t.push(i)}return t}}},Qo=function(t,e){return t[0]===e[0]&&t[1]===e[1]},ts=new ArrayBuffer(16),es=new Float64Array(ts),ns=new Uint32Array(ts),is=function(t){es[0]=t[0],es[1]=t[1];var e=ns[0]^ns[1];return 2147483647&(e=e<<5^e>>7^ns[2]^ns[3])},rs=function(t){var e,n,i,r=function(t){function e(t,e,n,i){if(f[n]!==t){f[n]=t;var r=p[n];if(r>=0){var o=d[n];r===e&&o===i||r===i&&o===e||(++m,g[n]=1)}else p[n]=e,d[n]=i}}function n(t){return is(l[t])}function i(t,e){return Qo(l[t],l[e])}var r,o,s,a,l=t.coordinates,u=t.lines,c=t.rings,h=function(){for(var t=Jo(1.4*l.length,n,i,Int32Array,-1,Int32Array),e=new Int32Array(l.length),r=0,o=l.length;r<o;++r)e[r]=t.maybeSet(r,r);return e}(),f=new Int32Array(l.length),p=new Int32Array(l.length),d=new Int32Array(l.length),g=new Int8Array(l.length),m=0;for(r=0,o=l.length;r<o;++r)f[r]=p[r]=d[r]=-1;for(r=0,o=u.length;r<o;++r){var v=u[r],y=v[0],_=v[1];for(s=h[y],a=h[++y],++m,g[s]=1;++y<=_;)e(r,s,s=a,a=h[y]);++m,g[a]=1}for(r=0,o=l.length;r<o;++r)f[r]=-1;for(r=0,o=c.length;r<o;++r){var b=c[r],x=b[0]+1,w=b[1];for(e(r,h[w-1],s=h[x-1],a=h[x]);++x<=w;)e(r,s,s=a,a=h[x])}f=p=d=null;var E,C=function(t,e,n,i,r){3===arguments.length&&(i=Array,r=null);for(var o=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)o[a]=r;return{add:function(i){for(var a=e(i)&s,l=o[a],u=0;l!=r;){if(n(l,i))return!0;if(++u>=t)throw new Error("full hashset");l=o[a=a+1&s]}return o[a]=i,!0},has:function(i){for(var a=e(i)&s,l=o[a],u=0;l!=r;){if(n(l,i))return!0;if(++u>=t)break;l=o[a=a+1&s]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var i=o[e];i!=r&&t.push(i)}return t}}}(1.4*m,is,Qo);for(r=0,o=l.length;r<o;++r)g[E=h[r]]&&C.add(l[E]);return C}(t),o=t.coordinates,s=t.lines,a=t.rings;for(n=0,i=s.length;n<i;++n)for(var l=s[n],u=l[0],c=l[1];++u<c;)r.has(o[u])&&(e={0:u,1:l[1]},l[1]=u,l=l.next=e);for(n=0,i=a.length;n<i;++n)for(var h=a[n],f=h[0],p=f,d=h[1],g=r.has(o[f]);++p<d;)r.has(o[p])&&(g?(e={0:p,1:h[1]},h[1]=p,h=h.next=e):(function(t,e,n,i){Bt(t,e,n),Bt(t,e,e+i),Bt(t,e+i,n)}(o,f,d,d-p),o[d]=o[f],g=!0,p=f));return t},os=function(t,e){function n(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function i(t){var e=[];do{var n=u.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function r(t){return t.map(i)}var o=function(t){function e(t){null!=t&&u.hasOwnProperty(t.type)&&u[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>a&&(a=e),n<s&&(s=n),n>l&&(l=n)}function i(t){t.forEach(n)}function r(t){t.forEach(i)}var o=1/0,s=1/0,a=-1/0,l=-1/0,u={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){i(t.arcs)},MultiLineString:function(t){t.arcs.forEach(i)},Polygon:function(t){t.arcs.forEach(i)},MultiPolygon:function(t){t.arcs.forEach(r)}};for(var c in t)e(t[c]);return a>=o&&l>=s?[o,s,a,l]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=Gt(t[e]);return n}(t)),s=e>0&&o&&function(t,e,n){function i(t){return[Math.round((t[0]-u)*p),Math.round((t[1]-c)*d)]}function r(t,e){for(var n,i,r,o,s,a=-1,l=0,h=t.length,f=new Array(h);++a<h;)n=t[a],o=Math.round((n[0]-u)*p),s=Math.round((n[1]-c)*d),o===i&&s===r||(f[l++]=[i=o,r=s]);for(f.length=l;l<e;)l=f.push([f[0][0],f[0][1]]);return f}function o(t){return r(t,2)}function s(t){return r(t,4)}function a(t){return t.map(s)}function l(t){null!=t&&g.hasOwnProperty(t.type)&&g[t.type](t)}var u=e[0],c=e[1],h=e[2],f=e[3],p=h-u?(n-1)/(h-u):1,d=f-c?(n-1)/(f-c):1,g={GeometryCollection:function(t){t.geometries.forEach(l)},Point:function(t){t.coordinates=i(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(i)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=a(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(a)}};for(var m in t)l(t[m]);return{scale:[1/p,1/d],translate:[u,c]}}(t,o,e),a=function(t){function e(t){var e,n,i,r,o,s,a,l;if(i=p.get(e=u[t[0]]))for(a=0,l=i.length;a<l;++a)if(function(t,e){var n=t[0],i=e[0],r=t[1],o=e[1];if(n-r!=i-o)return!1;for(;n<=r;++n,++i)if(!Qo(u[n],u[i]))return!1;return!0}(r=i[a],t))return t[0]=r[0],void(t[1]=r[1]);if(o=p.get(n=u[t[1]]))for(a=0,l=o.length;a<l;++a)if(function(t,e){var n=t[0],i=e[0],r=t[1],o=e[1];if(n-r!=i-o)return!1;for(;n<=r;++n,--o)if(!Qo(u[n],u[o]))return!1;return!0}(s=o[a],t))return t[1]=s[0],void(t[0]=s[1]);i?i.push(t):p.set(e,[t]),o?o.push(t):p.set(n,[t]),d.push(t)}function n(t,e){var n=t[0],i=e[0],o=t[1]-n;if(o!==e[1]-i)return!1;for(var s=r(t),a=r(e),l=0;l<o;++l)if(!Qo(u[n+(l+s)%o],u[i+(l+a)%o]))return!1;return!0}function i(t,e){var n=t[0],i=e[0],o=t[1],s=e[1],a=o-n;if(a!==s-i)return!1;for(var l=r(t),c=a-r(e),h=0;h<a;++h)if(!Qo(u[n+(h+l)%a],u[s-(h+c)%a]))return!1;return!0}function r(t){for(var e=t[0],n=t[1],i=e,r=i,o=u[i];++i<n;){var s=u[i];(s[0]<o[0]||s[0]===o[0]&&s[1]<o[1])&&(r=i,o=s)}return r-e}var o,s,a,l,u=t.coordinates,c=t.lines,h=t.rings,f=c.length+h.length;for(delete t.lines,delete t.rings,a=0,l=c.length;a<l;++a)for(o=c[a];o=o.next;)++f;for(a=0,l=h.length;a<l;++a)for(s=h[a];s=s.next;)++f;var p=Jo(2*f*1.4,is,Qo),d=t.arcs=[];for(a=0,l=c.length;a<l;++a){o=c[a];do{e(o)}while(o=o.next)}for(a=0,l=h.length;a<l;++a)if((s=h[a]).next)do{e(s)}while(s=s.next);else!function(t){var e,o,s,a,l;if(o=p.get(e=u[t[0]]))for(a=0,l=o.length;a<l;++a){if(n(s=o[a],t))return t[0]=s[0],void(t[1]=s[1]);if(i(s,t))return t[0]=s[1],void(t[1]=s[0])}if(o=p.get(e=u[t[0]+r(t)]))for(a=0,l=o.length;a<l;++a){if(n(s=o[a],t))return t[0]=s[0],void(t[1]=s[1]);if(i(s,t))return t[0]=s[1],void(t[1]=s[0])}o?o.push(t):p.set(e,[t]),d.push(t)}(s);return t}(rs(function(t){function e(t){t&&u.hasOwnProperty(t.type)&&u[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)l[++o]=t[e];var i={0:o-n+1,1:o};return s.push(i),i}function i(t){for(var e=0,n=t.length;e<n;++e)l[++o]=t[e];var i={0:o-n+1,1:o};return a.push(i),i}function r(t){return t.map(i)}var o=-1,s=[],a=[],l=[],u={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(i)},MultiPolygon:function(t){t.arcs=t.arcs.map(r)}};for(var c in t)e(t[c]);return{type:"Topology",coordinates:l,lines:s,rings:a,objects:t}}(t))),l=a.coordinates,u=Jo(1.4*a.arcs.length,Wt,Ut);t=a.objects,a.bbox=o,a.arcs=a.arcs.map(function(t,e){return u.set(t,e),l.slice(t[0],t[1]+1)}),delete a.coordinates,l=null;var c={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=i(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(i)},Polygon:function(t){t.arcs=t.arcs.map(i)},MultiPolygon:function(t){t.arcs=t.arcs.map(r)}};for(var h in t)n(t[h]);return s&&(a.transform=s,a.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var i,r,o=t[e],s=0,a=1,l=o.length,u=o[0],c=u[0],h=u[1];++s<l;)i=(u=o[s])[0],r=u[1],i===c&&r===h||(o[a++]=[i-c,r-h],c=i,h=r);1===a&&(o[a++]=[0,0]),o.length=a}return t}(a.arcs)),a},ss=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],i=this.points[e+1];this.centers.push({x:(n.x+i.x)/2,y:(n.y+i.y)/2,z:(n.z+i.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],i=this.centers[e+1];var r=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};ss.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var i=0;i<this.duration;i+=10){var r=this.pos(i);Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)+(r.z-n.z)*(r.z-n.z))>t&&(e.push(i),n=r)}return e},ss.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},ss.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*n);return function(t,e,n,i,r){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:r.x*o[0]+i.x*o[1]+n.x*o[2]+e.x*o[3],y:r.y*o[0]+i.y*o[1]+n.y*o[2]+e.y*o[3],z:r.z*o[0]+i.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])};var as=he,ls=he;he.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,s=Math.abs(Se(t,0,o,n));if(r)for(var a=0,l=e.length;a<l;a++){var u=e[a]*n,c=a<l-1?e[a+1]*n:t.length;s-=Math.abs(Se(t,u,c,n))}var h=0;for(a=0;a<i.length;a+=3){var f=i[a]*n,p=i[a+1]*n,d=i[a+2]*n;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},he.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n},as.default=ls,Ne.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!ze(t,e))return n;for(var r,o,s,a,l=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],ze(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):Fe(t,a)?this._all(s,n):l.push(s));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!ze(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],s=e.leaf?n(o):o,ze(t,s)){if(e.leaf||Fe(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Be([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,o,s=this.data,a=this.toBBox(t),l=[],u=[];s||l.length;){if(s||(s=l.pop(),i=l[l.length-1],n=u.pop(),o=!0),s.leaf&&-1!==(r=function(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}(t,s.children,e)))return s.children.splice(r,1),l.push(s),this._condense(l),this;o||s.leaf||!Fe(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(l.push(s),u.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:Le,compareMinY:De,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,s=this._maxEntries;if(o<=s)return ke(r=Be(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(r=Be([])).leaf=!1,r.height=i;var a,l,u,c,h=Math.ceil(o/s),f=h*Math.ceil(Math.sqrt(s));for(Ge(t,e,n,f,this.compareMinX),a=e;a<=n;a+=f)for(Ge(t,a,u=Math.min(a+f-1,n),h,this.compareMinY),l=a;l<=u;l+=h)c=Math.min(l+h-1,u),r.children.push(this._build(t,l,c,i-1));return ke(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,l,u,c,h;i.push(e),!e.leaf&&i.length-1!==n;){for(c=h=1/0,r=0,o=e.children.length;r<o;r++)l=Re(s=e.children[r]),(u=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-l)<h?(h=u,c=l<c?l:c,a=s):u===h&&l<c&&(c=l,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),Ae(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),s=Be(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,ke(n,this.toBBox),ke(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=Be([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ke(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,a,l,u,c;for(l=u=1/0,i=e;i<=n-e;i++)s=function(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}(r=Pe(t,0,i,this.toBBox),o=Pe(t,i,n,this.toBBox)),a=Re(r)+Re(o),s<l?(l=s,c=i,u=a<u?a:u):s===l&&a<u&&(u=a,c=i);return c},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:Le,r=t.leaf?this.compareMinY:De;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,a=Pe(t,0,e,s),l=Pe(t,n-e,n,s),u=je(a)+je(l);for(r=e;r<n-e;r++)o=t.children[r],Ae(a,t.leaf?s(o):o),u+=je(a);for(r=n-e-1;r>=e;r--)o=t.children[r],Ae(l,t.leaf?s(o):o),u+=je(l);return u},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)Ae(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():ke(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var us=Object.freeze({toMercator:Je,toWgs84:Qe}),cs=6378137,hs=function(t){function e(){for(var t=[],e=0;e<d.features.length;e++)-1==d.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,i=0;i<d.features.length;i++)t[e]!=i&&Ot(d.features[t[e]].geometry.coordinates[0][0],d.features[i],{ignoreBoundary:!0})&&ln(d.features[i])<1/0&&(n=i);d.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<d.features.length;t++)if(-1==d.features[t].properties.parent){var e=d.features[t].properties.winding;d.features[t].properties.netWinding=e,i(t,e)}}function i(t,e){for(var n=0;n<d.features.length;n++)if(d.features[n].properties.parent==t){var r=e+d.features[n].properties.winding;d.features[n].properties.netWinding=r,i(n,r)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var r=t.geometry.coordinates.length,s=[],a=0;a<r;a++){var l=t.geometry.coordinates[a];wn(l[0],l[l.length-1])||l.push(l[0]),s.push.apply(s,l.slice(0,l.length-1))}if(!function(t){for(var e={},n=1,i=0,r=t.length;i<r;++i){if(e.hasOwnProperty(t[i])){n=0;break}e[t[i]]=1}return n}(s))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var c=s.length,h=function(t,e,n){function i(t,n,i,r){var l,u,c=o[t][n],h=o[t][n+1],f=o[i][r],p=o[i][r+1],d=function(t,e,n,i){if(bn(t,n)||bn(t,i)||bn(e,n)||bn(i,n))return null;var r=t[0],o=t[1],s=e[0],a=e[1],l=n[0],u=n[1],c=i[0],h=i[1],f=(r-s)*(u-h)-(o-a)*(l-c);return 0===f?null:[((r*a-o*s)*(l-c)-(r-s)*(l*h-u*c))/f,((r*a-o*s)*(u-h)-(o-a)*(l*h-u*c))/f]}(c,h,f,p);if(null!==d&&(l=h[0]!==c[0]?(d[0]-c[0])/(h[0]-c[0]):(d[1]-c[1])/(h[1]-c[1]),u=p[0]!==f[0]?(d[0]-f[0])/(p[0]-f[0]):(d[1]-f[1])/(p[1]-f[1]),!(l>=1||l<=0||u>=1||u<=0))){var g=d,m=!a[g];m&&(a[g]=!0),e?s.push(e(d,t,n,c,h,l,i,r,f,p,u,m)):s.push(d)}}function r(t,e){var n,i,r,s,a=o[t][e],l=o[t][e+1];return a[0]<l[0]?(n=a[0],i=l[0]):(n=l[0],i=a[0]),a[1]<l[1]?(r=a[1],s=l[1]):(r=l[1],s=a[1]),{minX:n,minY:r,maxX:i,maxY:s,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var o=t.geometry.coordinates,s=[],a={};if(n){for(var l=[],u=0;u<o.length;u++)for(var c=0;c<o[u].length-1;c++)l.push(r(u,c));var h=ko();h.load(l)}for(var f=0;f<o.length;f++)for(var p=0;p<o[f].length-1;p++)if(n)h.search(r(f,p)).forEach(function(t){var e=t.ring,n=t.edge;i(f,p,e,n)});else for(var d=0;d<o.length;d++)for(var g=0;g<o[d].length-1;g++)i(f,p,d,g);return e||(s={type:"Feature",geometry:{type:"MultiPoint",coordinates:s}}),s}(t,function(t,e,n,i,r,o,s,a,l,u,c,h){return[t,e,n,i,r,o,s,a,l,u,c,h]}),f=h.length;if(0==f){var p=[];for(a=0;a<r;a++)p.push(o([t.geometry.coordinates[a]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(xn([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var i=1;else i=-1;return i}(t.geometry.coordinates[a])}));var d=u(p);return e(),n(),d}var g=[],m=[];for(a=0;a<r;a++){g.push([]);for(var v=0;v<t.geometry.coordinates[a].length-1;v++)g[a].push([new fs(t.geometry.coordinates[a][(v+1).modulo(t.geometry.coordinates[a].length-1)],1,[a,v],[a,(v+1).modulo(t.geometry.coordinates[a].length-1)],void 0)]),m.push(new ps(t.geometry.coordinates[a][v],[a,(v-1).modulo(t.geometry.coordinates[a].length-1)],[a,v],void 0,void 0,!1,!0))}for(a=0;a<f;a++)g[h[a][1]][h[a][2]].push(new fs(h[a][0],h[a][5],[h[a][1],h[a][2]],[h[a][6],h[a][7]],void 0)),h[a][11]&&m.push(new ps(h[a][0],[h[a][1],h[a][2]],[h[a][6],h[a][7]],void 0,void 0,!0,!0));var y=m.length;for(a=0;a<g.length;a++)for(v=0;v<g[a].length;v++)g[a][v].sort(function(t,e){return t.param<e.param?-1:1});var _=[];for(a=0;a<y;a++)_.push({minX:m[a].coord[0],minY:m[a].coord[1],maxX:m[a].coord[0],maxY:m[a].coord[1],index:a});var b=ko();for(b.load(_),a=0;a<g.length;a++)for(v=0;v<g[a].length;v++)for(var x=0;x<g[a][v].length;x++){E=x==g[a][v].length-1?g[a][(v+1).modulo(t.geometry.coordinates[a].length-1)][0].coord:g[a][v][x+1].coord;var w=b.search({minX:E[0],minY:E[1],maxX:E[0],maxY:E[1]})[0];g[a][v][x].nxtIsectAlongEdgeIn=w.index}for(a=0;a<g.length;a++)for(v=0;v<g[a].length;v++)for(x=0;x<g[a][v].length;x++){var E=g[a][v][x].coord,C=(w=b.search({minX:E[0],minY:E[1],maxX:E[0],maxY:E[1]})[0]).index;C<c?m[C].nxtIsectAlongRingAndEdge2=g[a][v][x].nxtIsectAlongEdgeIn:wn(m[C].ringAndEdge1,g[a][v][x].ringAndEdgeIn)?m[C].nxtIsectAlongRingAndEdge1=g[a][v][x].nxtIsectAlongEdgeIn:m[C].nxtIsectAlongRingAndEdge2=g[a][v][x].nxtIsectAlongEdgeIn}var S=[];for(a=0,v=0;v<r;v++){var M=a;for(x=0;x<t.geometry.coordinates[v].length-1;x++)m[a].coord[0]<m[M].coord[0]&&(M=a),a++;var I=m[M].nxtIsectAlongRingAndEdge2;for(x=0;x<m.length;x++)if(m[x].nxtIsectAlongRingAndEdge1==M||m[x].nxtIsectAlongRingAndEdge2==M){var O=x;break}var T=xn([m[O].coord,m[M].coord,m[I].coord],!0)?1:-1;S.push({isect:M,parent:-1,winding:T})}for(S.sort(function(t,e){return m[t.isect].coord>m[e.isect].coord?-1:1}),p=[];S.length>0;){var N=S.pop(),k=N.isect,P=N.parent,A=N.winding,L=p.length,D=[m[k].coord],R=k;if(m[k].ringAndEdge1Walkable)var j=m[k].ringAndEdge1,F=m[k].nxtIsectAlongRingAndEdge1;else j=m[k].ringAndEdge2,F=m[k].nxtIsectAlongRingAndEdge2;for(;!wn(m[k].coord,m[F].coord);){D.push(m[F].coord);var z=void 0;for(a=0;a<S.length;a++)if(S[a].isect==F){z=a;break}if(null!=z&&S.splice(z,1),wn(j,m[F].ringAndEdge1)){if(j=m[F].ringAndEdge2,m[F].ringAndEdge2Walkable=!1,m[F].ringAndEdge1Walkable){var B={isect:F};xn([m[R].coord,m[F].coord,m[m[F].nxtIsectAlongRingAndEdge2].coord],1==A)?(B.parent=P,B.winding=-A):(B.parent=L,B.winding=A),S.push(B)}R=F,F=m[F].nxtIsectAlongRingAndEdge2}else j=m[F].ringAndEdge1,m[F].ringAndEdge1Walkable=!1,m[F].ringAndEdge2Walkable&&(B={isect:F},xn([m[R].coord,m[F].coord,m[m[F].nxtIsectAlongRingAndEdge1].coord],1==A)?(B.parent=P,B.winding=-A):(B.parent=L,B.winding=A),S.push(B)),R=F,F=m[F].nxtIsectAlongRingAndEdge1}D.push(m[F].coord),p.push(o([D],{index:L,parent:P,winding:A,netWinding:void 0}))}return d=u(p),e(),n(),d},fs=function(t,e,n,i,r){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=i,this.nxtIsectAlongEdgeIn=r},ps=function(t,e,n,i,r,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=i,this.nxtIsectAlongRingAndEdge2=r,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};Number.prototype.modulo=function(t){return(this%t+t)%t};var ds=Math.PI/180,gs=180/Math.PI,ms=function(t,e){this.lon=t,this.lat=e,this.x=ds*t,this.y=ds*e};ms.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},ms.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new ms(e,t)};var vs=function(){this.coords=[],this.length=0};vs.prototype.move_to=function(t){this.length++,this.coords.push(t)};var ys=function(t){this.properties=t||{},this.geometries=[]};ys.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},ys.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},i=0;i<this.geometries.length;i++){if(0===this.geometries[i].coords.length)return"LINESTRING(empty)";this.geometries[i].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var _s=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new ms(t.x,t.y),this.end=new ms(e.x,e.y),this.properties=n||{};var i=this.start.x-this.end.x,r=this.start.y-this.end.y,o=Math.pow(Math.sin(r/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(i/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};_s.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),i=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),r=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=gs*Math.atan2(o,Math.sqrt(Math.pow(i,2)+Math.pow(r,2)));return[gs*Math.atan2(r,i),s]},_s.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var i=1/(t-1),r=0;r<t;++r){var o=i*r,s=this.interpolate(o);n.push(s)}for(var a=!1,l=0,u=e&&e.offset?e.offset:10,c=180-u,h=-180+u,f=360-u,p=1;p<n.length;++p){var d=n[p-1][0],g=n[p][0],m=Math.abs(g-d);m>f&&(g>c&&d<h||d>c&&g<h)?a=!0:m>l&&(l=m)}var v=[];if(a&&l<u){var y=[];v.push(y);for(var _=0;_<n.length;++_){var b=parseFloat(n[_][0]);if(_>0&&Math.abs(b-n[_-1][0])>f){var x=parseFloat(n[_-1][0]),w=parseFloat(n[_-1][1]),E=parseFloat(n[_][0]),C=parseFloat(n[_][1]);if(x>-180&&x<h&&180===E&&_+1<n.length&&n[_-1][0]>-180&&n[_-1][0]<h){y.push([-180,n[_][1]]),_++,y.push([n[_][0],n[_][1]]);continue}if(x>c&&x<180&&-180===E&&_+1<n.length&&n[_-1][0]>c&&n[_-1][0]<180){y.push([180,n[_][1]]),_++,y.push([n[_][0],n[_][1]]);continue}if(x<h&&E>c){var S=x;x=E,E=S;var M=w;w=C,C=M}if(x>c&&E<h&&(E+=360),x<=180&&E>=180&&x<E){var I=(180-x)/(E-x),O=I*C+(1-I)*w;y.push([n[_-1][0]>c?180:-180,O]),(y=[]).push([n[_-1][0]>c?-180:180,O]),v.push(y)}else y=[],v.push(y);y.push([b,n[_][1]])}else y.push([n[_][0],n[_][1]])}}else{var T=[];v.push(T);for(var N=0;N<n.length;++N)T.push([n[N][0],n[N][1]])}for(var k=new ys(this.properties),P=0;P<v.length;++P){var A=new vs;k.geometries.push(A);for(var L=v[P],D=0;D<L.length;++D)A.move_to(L[D])}return k};var bs=Ln;Ln.polyline=Ln,Ln.polygon=function(t,e){var n,i,r,o,s,a,l;for(i=1;i<=8;i*=2){for(n=[],o=!(Rn(r=t[t.length-1],e)&i),s=0;s<t.length;s++)(l=!(Rn(a=t[s],e)&i))!==o&&n.push(Dn(r,a,i,e)),l&&n.push(a),r=a,o=l;if(!(t=n).length)break}return n};var xs=Array.prototype.slice,ws={successCallback:null,verbose:!1,polygons:!1},Es={},Cs=64,Ss=16,Ms=4,Is=1,Os=[],Ts=[],Ns=[],ks=[],Ps=[],As=[],Ls=[],Ds=[],Rs=[],js=[],Fs=[],zs=[],Bs=[],Gs=[],qs=[],Hs=[],Ws=[],Us=[],Ys=[],Vs=[],Xs=[],Ks=[],$s=[],Zs=[];Ls[85]=js[85]=-1,Ds[85]=Fs[85]=0,Rs[85]=zs[85]=1,Ys[85]=Ks[85]=1,Vs[85]=$s[85]=0,Xs[85]=Zs[85]=1,Os[85]=ks[85]=0,Ts[85]=Ps[85]=-1,Ns[85]=qs[85]=0,Hs[85]=Bs[85]=0,Ws[85]=Gs[85]=1,As[85]=Us[85]=1,Ks[1]=Ks[169]=0,$s[1]=$s[169]=-1,Zs[1]=Zs[169]=0,Bs[1]=Bs[169]=-1,Gs[1]=Gs[169]=0,qs[1]=qs[169]=0,js[4]=js[166]=0,Fs[4]=Fs[166]=-1,zs[4]=zs[166]=1,Hs[4]=Hs[166]=1,Ws[4]=Ws[166]=0,Us[4]=Us[166]=0,Ls[16]=Ls[154]=0,Ds[16]=Ds[154]=1,Rs[16]=Rs[154]=1,ks[16]=ks[154]=1,Ps[16]=Ps[154]=0,As[16]=As[154]=1,Ys[64]=Ys[106]=0,Vs[64]=Vs[106]=1,Xs[64]=Xs[106]=0,Os[64]=Os[106]=-1,Ts[64]=Ts[106]=0,Ns[64]=Ns[106]=1,Ys[2]=Ys[168]=0,Vs[2]=Vs[168]=-1,Xs[2]=Xs[168]=1,Ks[2]=Ks[168]=0,$s[2]=$s[168]=-1,Zs[2]=Zs[168]=0,Bs[2]=Bs[168]=-1,Gs[2]=Gs[168]=0,qs[2]=qs[168]=0,Hs[2]=Hs[168]=-1,Ws[2]=Ws[168]=0,Us[2]=Us[168]=1,Ls[8]=Ls[162]=0,Ds[8]=Ds[162]=-1,Rs[8]=Rs[162]=0,js[8]=js[162]=0,Fs[8]=Fs[162]=-1,zs[8]=zs[162]=1,Bs[8]=Bs[162]=1,Gs[8]=Gs[162]=0,qs[8]=qs[162]=1,Hs[8]=Hs[162]=1,Ws[8]=Ws[162]=0,Us[8]=Us[162]=0,Ls[32]=Ls[138]=0,Ds[32]=Ds[138]=1,Rs[32]=Rs[138]=1,js[32]=js[138]=0,Fs[32]=Fs[138]=1,zs[32]=zs[138]=0,Os[32]=Os[138]=1,Ts[32]=Ts[138]=0,Ns[32]=Ns[138]=0,ks[32]=ks[138]=1,Ps[32]=Ps[138]=0,As[32]=As[138]=1,Ks[128]=Ks[42]=0,$s[128]=$s[42]=1,Zs[128]=Zs[42]=1,Ys[128]=Ys[42]=0,Vs[128]=Vs[42]=1,Xs[128]=Xs[42]=0,Os[128]=Os[42]=-1,Ts[128]=Ts[42]=0,Ns[128]=Ns[42]=1,ks[128]=ks[42]=-1,Ps[128]=Ps[42]=0,As[128]=As[42]=0,js[5]=js[165]=-1,Fs[5]=Fs[165]=0,zs[5]=zs[165]=0,Ks[5]=Ks[165]=1,$s[5]=$s[165]=0,Zs[5]=Zs[165]=0,Hs[20]=Hs[150]=0,Ws[20]=Ws[150]=1,Us[20]=Us[150]=1,ks[20]=ks[150]=0,Ps[20]=Ps[150]=-1,As[20]=As[150]=1,Ls[80]=Ls[90]=-1,Ds[80]=Ds[90]=0,Rs[80]=Rs[90]=1,Ys[80]=Ys[90]=1,Vs[80]=Vs[90]=0,Xs[80]=Xs[90]=1,Bs[65]=Bs[105]=0,Gs[65]=Gs[105]=1,qs[65]=qs[105]=0,Os[65]=Os[105]=0,Ts[65]=Ts[105]=-1,Ns[65]=Ns[105]=0,Ls[160]=Ls[10]=-1,Ds[160]=Ds[10]=0,Rs[160]=Rs[10]=1,js[160]=js[10]=-1,Fs[160]=Fs[10]=0,zs[160]=zs[10]=0,Ks[160]=Ks[10]=1,$s[160]=$s[10]=0,Zs[160]=Zs[10]=0,Ys[160]=Ys[10]=1,Vs[160]=Vs[10]=0,Xs[160]=Xs[10]=1,Hs[130]=Hs[40]=0,Ws[130]=Ws[40]=1,Us[130]=Us[40]=1,Bs[130]=Bs[40]=0,Gs[130]=Gs[40]=1,qs[130]=qs[40]=0,Os[130]=Os[40]=0,Ts[130]=Ts[40]=-1,Ns[130]=Ns[40]=0,ks[130]=ks[40]=0,Ps[130]=Ps[40]=-1,As[130]=As[40]=1,js[37]=js[133]=0,Fs[37]=Fs[133]=1,zs[37]=zs[133]=1,Ks[37]=Ks[133]=0,$s[37]=$s[133]=1,Zs[37]=Zs[133]=0,Os[37]=Os[133]=-1,Ts[37]=Ts[133]=0,Ns[37]=Ns[133]=0,ks[37]=ks[133]=1,Ps[37]=Ps[133]=0,As[37]=As[133]=0,Hs[148]=Hs[22]=-1,Ws[148]=Ws[22]=0,Us[148]=Us[22]=0,Ks[148]=Ks[22]=0,$s[148]=$s[22]=-1,Zs[148]=Zs[22]=1,Ys[148]=Ys[22]=0,Vs[148]=Vs[22]=1,Xs[148]=Xs[22]=1,ks[148]=ks[22]=-1,Ps[148]=Ps[22]=0,As[148]=As[22]=1,Ls[82]=Ls[88]=0,Ds[82]=Ds[88]=-1,Rs[82]=Rs[88]=1,Hs[82]=Hs[88]=1,Ws[82]=Ws[88]=0,Us[82]=Us[88]=1,Bs[82]=Bs[88]=-1,Gs[82]=Gs[88]=0,qs[82]=qs[88]=1,Ys[82]=Ys[88]=0,Vs[82]=Vs[88]=-1,Xs[82]=Xs[88]=0,Ls[73]=Ls[97]=0,Ds[73]=Ds[97]=1,Rs[73]=Rs[97]=0,js[73]=js[97]=0,Fs[73]=Fs[97]=-1,zs[73]=zs[97]=0,Bs[73]=Bs[97]=1,Gs[73]=Gs[97]=0,qs[73]=qs[97]=0,Os[73]=Os[97]=1,Ts[73]=Ts[97]=0,Ns[73]=Ns[97]=1,Ls[145]=Ls[25]=0,Ds[145]=Ds[25]=-1,Rs[145]=Rs[25]=0,Bs[145]=Bs[25]=1,Gs[145]=Gs[25]=0,qs[145]=qs[25]=1,Ks[145]=Ks[25]=0,$s[145]=$s[25]=1,Zs[145]=Zs[25]=1,ks[145]=ks[25]=-1,Ps[145]=Ps[25]=0,As[145]=As[25]=0,js[70]=js[100]=0,Fs[70]=Fs[100]=1,zs[70]=zs[100]=0,Hs[70]=Hs[100]=-1,Ws[70]=Ws[100]=0,Us[70]=Us[100]=1,Ys[70]=Ys[100]=0,Vs[70]=Vs[100]=-1,Xs[70]=Xs[100]=1,Os[70]=Os[100]=1,Ts[70]=Ts[100]=0,Ns[70]=Ns[100]=0,js[101]=js[69]=0,Fs[101]=Fs[69]=1,zs[101]=zs[69]=0,Os[101]=Os[69]=1,Ts[101]=Ts[69]=0,Ns[101]=Ns[69]=0,Ks[149]=Ks[21]=0,$s[149]=$s[21]=1,Zs[149]=Zs[21]=1,ks[149]=ks[21]=-1,Ps[149]=Ps[21]=0,As[149]=As[21]=0,Hs[86]=Hs[84]=-1,Ws[86]=Ws[84]=0,Us[86]=Us[84]=1,Ys[86]=Ys[84]=0,Vs[86]=Vs[84]=-1,Xs[86]=Xs[84]=1,Ls[89]=Ls[81]=0,Ds[89]=Ds[81]=-1,Rs[89]=Rs[81]=0,Bs[89]=Bs[81]=1,Gs[89]=Gs[81]=0,qs[89]=qs[81]=1,Ls[96]=Ls[74]=0,Ds[96]=Ds[74]=1,Rs[96]=Rs[74]=0,js[96]=js[74]=-1,Fs[96]=Fs[74]=0,zs[96]=zs[74]=1,Ys[96]=Ys[74]=1,Vs[96]=Vs[74]=0,Xs[96]=Xs[74]=0,Os[96]=Os[74]=1,Ts[96]=Ts[74]=0,Ns[96]=Ns[74]=1,Ls[24]=Ls[146]=0,Ds[24]=Ds[146]=-1,Rs[24]=Rs[146]=1,Hs[24]=Hs[146]=1,Ws[24]=Ws[146]=0,Us[24]=Us[146]=1,Bs[24]=Bs[146]=0,Gs[24]=Gs[146]=1,qs[24]=qs[146]=1,ks[24]=ks[146]=0,Ps[24]=Ps[146]=-1,As[24]=As[146]=0,js[6]=js[164]=-1,Fs[6]=Fs[164]=0,zs[6]=zs[164]=1,Hs[6]=Hs[164]=-1,Ws[6]=Ws[164]=0,Us[6]=Us[164]=0,Ks[6]=Ks[164]=0,$s[6]=$s[164]=-1,Zs[6]=Zs[164]=1,Ys[6]=Ys[164]=1,Vs[6]=Vs[164]=0,Xs[6]=Xs[164]=0,Bs[129]=Bs[41]=0,Gs[129]=Gs[41]=1,qs[129]=qs[41]=1,Ks[129]=Ks[41]=0,$s[129]=$s[41]=1,Zs[129]=Zs[41]=0,Os[129]=Os[41]=-1,Ts[129]=Ts[41]=0,Ns[129]=Ns[41]=0,ks[129]=ks[41]=0,Ps[129]=Ps[41]=-1,As[129]=As[41]=0,Hs[66]=Hs[104]=0,Ws[66]=Ws[104]=1,Us[66]=Us[104]=0,Bs[66]=Bs[104]=-1,Gs[66]=Gs[104]=0,qs[66]=qs[104]=1,Ys[66]=Ys[104]=0,Vs[66]=Vs[104]=-1,Xs[66]=Xs[104]=0,Os[66]=Os[104]=0,Ts[66]=Ts[104]=-1,Ns[66]=Ns[104]=1,Ls[144]=Ls[26]=-1,Ds[144]=Ds[26]=0,Rs[144]=Rs[26]=0,Ks[144]=Ks[26]=1,$s[144]=$s[26]=0,Zs[144]=Zs[26]=1,Ys[144]=Ys[26]=0,Vs[144]=Vs[26]=1,Xs[144]=Xs[26]=1,ks[144]=ks[26]=-1,Ps[144]=Ps[26]=0,As[144]=As[26]=1,js[36]=js[134]=0,Fs[36]=Fs[134]=1,zs[36]=zs[134]=1,Hs[36]=Hs[134]=0,Ws[36]=Ws[134]=1,Us[36]=Us[134]=0,Os[36]=Os[134]=0,Ts[36]=Ts[134]=-1,Ns[36]=Ns[134]=1,ks[36]=ks[134]=1,Ps[36]=Ps[134]=0,As[36]=As[134]=0,Ls[9]=Ls[161]=-1,Ds[9]=Ds[161]=0,Rs[9]=Rs[161]=0,js[9]=js[161]=0,Fs[9]=Fs[161]=-1,zs[9]=zs[161]=0,Bs[9]=Bs[161]=1,Gs[9]=Gs[161]=0,qs[9]=qs[161]=0,Ks[9]=Ks[161]=1,$s[9]=$s[161]=0,Zs[9]=Zs[161]=1,Ls[136]=0,Ds[136]=1,Rs[136]=1,js[136]=0,Fs[136]=1,zs[136]=0,Hs[136]=-1,Ws[136]=0,Us[136]=1,Bs[136]=-1,Gs[136]=0,qs[136]=0,Ks[136]=0,$s[136]=-1,Zs[136]=0,Ys[136]=0,Vs[136]=-1,Xs[136]=1,Os[136]=1,Ts[136]=0,Ns[136]=0,ks[136]=1,Ps[136]=0,As[136]=1,Ls[34]=0,Ds[34]=-1,Rs[34]=0,js[34]=0,Fs[34]=-1,zs[34]=1,Hs[34]=1,Ws[34]=0,Us[34]=0,Bs[34]=1,Gs[34]=0,qs[34]=1,Ks[34]=0,$s[34]=1,Zs[34]=1,Ys[34]=0,Vs[34]=1,Xs[34]=0,Os[34]=-1,Ts[34]=0,Ns[34]=1,ks[34]=-1,Ps[34]=0,As[34]=0,Ls[35]=0,Ds[35]=1,Rs[35]=1,js[35]=0,Fs[35]=-1,zs[35]=1,Hs[35]=1,Ws[35]=0,Us[35]=0,Bs[35]=-1,Gs[35]=0,qs[35]=0,Ks[35]=0,$s[35]=-1,Zs[35]=0,Ys[35]=0,Vs[35]=1,Xs[35]=0,Os[35]=-1,Ts[35]=0,Ns[35]=1,ks[35]=1,Ps[35]=0,As[35]=1,Ls[153]=0,Ds[153]=1,Rs[153]=1,Bs[153]=-1,Gs[153]=0,qs[153]=0,Ks[153]=0,$s[153]=-1,Zs[153]=0,ks[153]=1,Ps[153]=0,As[153]=1,js[102]=0,Fs[102]=-1,zs[102]=1,Hs[102]=1,Ws[102]=0,Us[102]=0,Ys[102]=0,Vs[102]=1,Xs[102]=0,Os[102]=-1,Ts[102]=0,Ns[102]=1,Ls[155]=0,Ds[155]=-1,Rs[155]=0,Bs[155]=1,Gs[155]=0,qs[155]=1,Ks[155]=0,$s[155]=1,Zs[155]=1,ks[155]=-1,Ps[155]=0,As[155]=0,js[103]=0,Fs[103]=1,zs[103]=0,Hs[103]=-1,Ws[103]=0,Us[103]=1,Ys[103]=0,Vs[103]=-1,Xs[103]=1,Os[103]=1,Ts[103]=0,Ns[103]=0,Ls[152]=0,Ds[152]=1,Rs[152]=1,Hs[152]=-1,Ws[152]=0,Us[152]=1,Bs[152]=-1,Gs[152]=0,qs[152]=0,Ks[152]=0,$s[152]=-1,Zs[152]=0,Ys[152]=0,Vs[152]=-1,Xs[152]=1,ks[152]=1,Ps[152]=0,As[152]=1,Ls[156]=0,Ds[156]=-1,Rs[156]=1,Hs[156]=1,Ws[156]=0,Us[156]=1,Bs[156]=-1,Gs[156]=0,qs[156]=0,Ks[156]=0,$s[156]=-1,Zs[156]=0,Ys[156]=0,Vs[156]=1,Xs[156]=1,ks[156]=-1,Ps[156]=0,As[156]=1,Ls[137]=0,Ds[137]=1,Rs[137]=1,js[137]=0,Fs[137]=1,zs[137]=0,Bs[137]=-1,Gs[137]=0,qs[137]=0,Ks[137]=0,$s[137]=-1,Zs[137]=0,Os[137]=1,Ts[137]=0,Ns[137]=0,ks[137]=1,Ps[137]=0,As[137]=1,Ls[139]=0,Ds[139]=1,Rs[139]=1,js[139]=0,Fs[139]=-1,zs[139]=0,Bs[139]=1,Gs[139]=0,qs[139]=0,Ks[139]=0,$s[139]=1,Zs[139]=0,Os[139]=-1,Ts[139]=0,Ns[139]=0,ks[139]=1,Ps[139]=0,As[139]=1,Ls[98]=0,Ds[98]=-1,Rs[98]=0,js[98]=0,Fs[98]=-1,zs[98]=1,Hs[98]=1,Ws[98]=0,Us[98]=0,Bs[98]=1,Gs[98]=0,qs[98]=1,Ys[98]=0,Vs[98]=1,Xs[98]=0,Os[98]=-1,Ts[98]=0,Ns[98]=1,Ls[99]=0,Ds[99]=1,Rs[99]=0,js[99]=0,Fs[99]=-1,zs[99]=1,Hs[99]=1,Ws[99]=0,Us[99]=0,Bs[99]=-1,Gs[99]=0,qs[99]=1,Ys[99]=0,Vs[99]=-1,Xs[99]=0,Os[99]=1,Ts[99]=0,Ns[99]=1,js[38]=0,Fs[38]=-1,zs[38]=1,Hs[38]=1,Ws[38]=0,Us[38]=0,Ks[38]=0,$s[38]=1,Zs[38]=1,Ys[38]=0,Vs[38]=1,Xs[38]=0,Os[38]=-1,Ts[38]=0,Ns[38]=1,ks[38]=-1,Ps[38]=0,As[38]=0,js[39]=0,Fs[39]=1,zs[39]=1,Hs[39]=-1,Ws[39]=0,Us[39]=0,Ks[39]=0,$s[39]=-1,Zs[39]=1,Ys[39]=0,Vs[39]=1,Xs[39]=0,Os[39]=-1,Ts[39]=0,Ns[39]=1,ks[39]=1,Ps[39]=0,As[39]=0;var Js=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Qs=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},ta=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},ea=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},na=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},ia=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},ra=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},oa=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},sa=[],aa=[],la=[],ua=[],ca=[],ha=[],fa=[],pa=[];ua[1]=ca[1]=18,ua[169]=ca[169]=18,la[4]=aa[4]=12,la[166]=aa[166]=12,sa[16]=pa[16]=4,sa[154]=pa[154]=4,ha[64]=fa[64]=22,ha[106]=fa[106]=22,la[2]=ha[2]=17,ua[2]=ca[2]=18,la[168]=ha[168]=17,ua[168]=ca[168]=18,sa[8]=ua[8]=9,aa[8]=la[8]=12,sa[162]=ua[162]=9,aa[162]=la[162]=12,sa[32]=pa[32]=4,aa[32]=fa[32]=1,sa[138]=pa[138]=4,aa[138]=fa[138]=1,ca[128]=pa[128]=21,ha[128]=fa[128]=22,ca[42]=pa[42]=21,ha[42]=fa[42]=22,aa[5]=ca[5]=14,aa[165]=ca[165]=14,la[20]=pa[20]=6,la[150]=pa[150]=6,sa[80]=ha[80]=11,sa[90]=ha[90]=11,ua[65]=fa[65]=3,ua[105]=fa[105]=3,sa[160]=ha[160]=11,aa[160]=ca[160]=14,sa[10]=ha[10]=11,aa[10]=ca[10]=14,la[130]=pa[130]=6,ua[130]=fa[130]=3,la[40]=pa[40]=6,ua[40]=fa[40]=3,aa[101]=fa[101]=1,aa[69]=fa[69]=1,ca[149]=pa[149]=21,ca[21]=pa[21]=21,la[86]=ha[86]=17,la[84]=ha[84]=17,sa[89]=ua[89]=9,sa[81]=ua[81]=9,sa[96]=fa[96]=0,aa[96]=ha[96]=15,sa[74]=fa[74]=0,aa[74]=ha[74]=15,sa[24]=la[24]=8,ua[24]=pa[24]=7,sa[146]=la[146]=8,ua[146]=pa[146]=7,aa[6]=ha[6]=15,la[6]=ca[6]=16,aa[164]=ha[164]=15,la[164]=ca[164]=16,ua[129]=pa[129]=7,ca[129]=fa[129]=20,ua[41]=pa[41]=7,ca[41]=fa[41]=20,la[66]=fa[66]=2,ua[66]=ha[66]=19,la[104]=fa[104]=2,ua[104]=ha[104]=19,sa[144]=ca[144]=10,ha[144]=pa[144]=23,sa[26]=ca[26]=10,ha[26]=pa[26]=23,aa[36]=pa[36]=5,la[36]=fa[36]=2,aa[134]=pa[134]=5,la[134]=fa[134]=2,sa[9]=ca[9]=10,aa[9]=ua[9]=13,sa[161]=ca[161]=10,aa[161]=ua[161]=13,aa[37]=pa[37]=5,ca[37]=fa[37]=20,aa[133]=pa[133]=5,ca[133]=fa[133]=20,la[148]=ca[148]=16,ha[148]=pa[148]=23,la[22]=ca[22]=16,ha[22]=pa[22]=23,sa[82]=la[82]=8,ua[82]=ha[82]=19,sa[88]=la[88]=8,ua[88]=ha[88]=19,sa[73]=fa[73]=0,aa[73]=ua[73]=13,sa[97]=fa[97]=0,aa[97]=ua[97]=13,sa[145]=ua[145]=9,ca[145]=pa[145]=21,sa[25]=ua[25]=9,ca[25]=pa[25]=21,aa[70]=fa[70]=1,la[70]=ha[70]=17,aa[100]=fa[100]=1,la[100]=ha[100]=17,sa[34]=ua[34]=9,aa[34]=la[34]=12,ca[34]=pa[34]=21,ha[34]=fa[34]=22,sa[136]=pa[136]=4,aa[136]=fa[136]=1,la[136]=ha[136]=17,ua[136]=ca[136]=18,sa[35]=pa[35]=4,aa[35]=la[35]=12,ua[35]=ca[35]=18,ha[35]=fa[35]=22,sa[153]=pa[153]=4,ua[153]=ca[153]=18,aa[102]=la[102]=12,ha[102]=fa[102]=22,sa[155]=ua[155]=9,ca[155]=pa[155]=23,aa[103]=fa[103]=1,la[103]=ha[103]=17,sa[152]=pa[152]=4,la[152]=ha[152]=17,ua[152]=ca[152]=18,sa[156]=la[156]=8,ua[156]=ca[156]=18,ha[156]=pa[156]=23,sa[137]=pa[137]=4,aa[137]=fa[137]=1,ua[137]=ca[137]=18,sa[139]=pa[139]=4,aa[139]=ua[139]=13,ca[139]=fa[139]=20,sa[98]=ua[98]=9,aa[98]=la[98]=12,ha[98]=fa[98]=22,sa[99]=fa[99]=0,aa[99]=la[99]=12,ua[99]=ha[99]=19,aa[38]=la[38]=12,ca[38]=pa[38]=21,ha[38]=fa[38]=22,aa[39]=pa[39]=5,la[39]=ca[39]=16,ha[39]=fa[39]=22;var da=[];da[1]=da[169]=Js,da[4]=da[166]=Qs,da[16]=da[154]=ta,da[64]=da[106]=ea,da[168]=da[2]=na,da[162]=da[8]=ia,da[138]=da[32]=ra,da[42]=da[128]=oa,da[5]=da[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},da[20]=da[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},da[80]=da[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},da[65]=da[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},da[160]=da[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},da[130]=da[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},da[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},da[101]=da[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},da[149]=da[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},da[86]=da[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},da[89]=da[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},da[96]=da[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},da[24]=da[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},da[6]=da[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},da[129]=da[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},da[66]=da[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},da[144]=da[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},da[36]=da[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},da[9]=da[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},da[37]=da[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},da[148]=da[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},da[82]=da[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},da[73]=da[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},da[145]=da[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},da[70]=da[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},da[34]=function(t){return[oa(t),ia(t)]},da[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},da[136]=function(t){return[ra(t),na(t)]},da[153]=function(t){return[ta(t),Js(t)]},da[102]=function(t){return[Qs(t),ea(t)]},da[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},da[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},da[152]=function(t){return[ta(t),na(t)]},da[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},da[137]=function(t){return[ra(t),Js(t)]},da[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},da[98]=function(t){return[ia(t),ea(t)]},da[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},da[38]=function(t){return[Qs(t),oa(t)]},da[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var ga=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};ga.buildId=function(t){return t.join(",")},ga.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter(function(e){return e.from.id!==t.from.id})},ga.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter(function(e){return e.to.id!==t.to.id})},ga.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},ga.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(e,n){var i=e.to,r=n.to;if(i.coordinates[0]-t.coordinates[0]>=0&&r.coordinates[0]-t.coordinates[0]<0)return 1;if(i.coordinates[0]-t.coordinates[0]<0&&r.coordinates[0]-t.coordinates[0]>=0)return-1;if(i.coordinates[0]-t.coordinates[0]==0&&r.coordinates[0]-t.coordinates[0]==0)return i.coordinates[1]-t.coordinates[1]>=0||r.coordinates[1]-t.coordinates[1]>=0?i.coordinates[1]-r.coordinates[1]:r.coordinates[1]-i.coordinates[1];var o=ai(t.coordinates,i.coordinates,r.coordinates);return o<0?1:o>0?-1:Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2)-(Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2))}),this.outerEdgesSorted=!0)},ga.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},ga.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},ga.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var ma=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};ma.prototype.getSymetric=function(){return this.symetric||(this.symetric=new ma(this.to,this.from),this.symetric.symetric=this),this.symetric},ma.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},ma.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},ma.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},ma.prototype.toLineString=function(){return a([this.from.coordinates,this.to.coordinates])},ma.prototype.compareTo=function(t){return ai(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var va=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},ya={length:{configurable:!0}};va.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},va.prototype.get=function(t){return this.edges[t]},ya.length.get=function(){return this.edges.length},va.prototype.forEach=function(t){this.edges.forEach(t)},va.prototype.map=function(t){return this.edges.map(t)},va.prototype.some=function(t){return this.edges.some(t)},va.prototype.isValid=function(){return!0},va.prototype.isHole=function(){var t=this,e=this.edges.reduce(function(e,n,i){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=i),e},0),n=(0===e?this.length:e)-1,i=(e+1)%this.length,r=ai(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[i].from.coordinates);return 0===r?this.edges[n].from.coordinates[0]>this.edges[i].from.coordinates[0]:r>0},va.prototype.toMultiPoint=function(){return h(this.edges.map(function(t){return t.from.coordinates}))},va.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map(function(t){return t.from.coordinates});return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},va.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=ie(this.toPolygon())},va.findEdgeRingContaining=function(t,e){var n,r,o=t.getEnvelope();return e.forEach(function(e){var s=e.getEnvelope();if(r&&(n=r.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map(function(t){return t[0]}),i=t.geometry.coordinates.map(function(t){return t[1]}),r=e.geometry.coordinates.map(function(t){return t[0]}),o=e.geometry.coordinates.map(function(t){return t[1]});return Math.max(null,n)===Math.max(null,r)&&Math.max(null,i)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,r)&&Math.min(null,i)===Math.min(null,o)}(s,o)&&li(s,o)){var a=t.map(function(t){return t.from.coordinates}).find(function(t){return!e.some(function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)})});a&&e.inside(i(a))&&(r&&!li(n,s)||(r=e))}}),r},va.prototype.inside=function(t){return Ot(t,this.toPolygon())},Object.defineProperties(va.prototype,ya);var _a=function(){this.edges=[],this.nodes={}};_a.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new _a;return R(t,function(t){V(t,"LineString","Graph::fromGeoJson"),O(t,function(t,n){if(t){var i=e.getNode(t),r=e.getNode(n);e.addEdge(i,r)}return n})}),e},_a.prototype.getNode=function(t){var e=ga.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new ga(t)),n},_a.prototype.addEdge=function(t,e){var n=new ma(t,e),i=n.getSymetric();this.edges.push(n),this.edges.push(i)},_a.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map(function(e){return t.nodes[e]}).forEach(function(e){return t._removeIfDangle(e)})},_a.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map(function(t){return t.to});this.removeNode(t),n.forEach(function(t){return e._removeIfDangle(t)})}},_a.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))})},_a.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach(function(t){return e._computeNextCWEdges(e.nodes[t])}):t.getOuterEdges().forEach(function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e})},_a.prototype._computeNextCCWEdges=function(t,e){for(var n,i,r=t.getOuterEdges(),o=r.length-1;o>=0;--o){var s=r[o],a=s.symetric,l=void 0,u=void 0;s.label===e&&(l=s),a.label===e&&(u=a),l&&u&&(u&&(i=u),l&&(i&&(i.next=l,i=void 0),n||(n=l)))}i&&(i.next=n)},_a.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach(function(n){if(!(n.label>=0)){t.push(n);var i=n;do{i.label=e,i=i.next}while(!n.isEqual(i));e++}}),t},_a.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach(function(t){t.label=void 0}),this._findLabeledEdgeRings().forEach(function(e){t._findIntersectionNodes(e).forEach(function(n){t._computeNextCCWEdges(n,e.label)})});var e=[];return this.edges.forEach(function(n){n.ring||e.push(t._findEdgeRing(n))}),e},_a.prototype._findIntersectionNodes=function(t){var e=[],n=t,i=function(){var i=0;n.from.getOuterEdges().forEach(function(e){e.label===t.label&&++i}),i>1&&e.push(n.from),n=n.next};do{i()}while(!t.isEqual(n));return e},_a.prototype._findEdgeRing=function(t){var e=t,n=new va;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},_a.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach(function(t){return e.removeEdge(t)}),t.innerEdges.forEach(function(t){return e.removeEdge(t)}),delete this.nodes[t.id]},_a.prototype.removeEdge=function(t){this.edges=this.edges.filter(function(e){return!e.isEqual(t)}),t.deleteEdge()};var ba=mt(function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n}),xa=(ba.shim,mt(function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=r?n:i).supported=n,e.unsupported=i})),wa=(xa.supported,xa.unsupported,mt(function(t){function e(t){return null==t}function n(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}var i=Array.prototype.slice,r=t.exports=function(t,o,s){return s||(s={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?s.strict?t===o:t==o:function(t,o,s){var a,l;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(xa(t))return!!xa(o)&&(t=i.call(t),o=i.call(o),r(t,o,s));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==o[a])return!1;return!0}try{var u=ba(t),c=ba(o)}catch(t){return!1}if(u.length!=c.length)return!1;for(u.sort(),c.sort(),a=u.length-1;a>=0;a--)if(u[a]!=c[a])return!1;for(a=u.length-1;a>=0;a--)if(l=u[a],!r(t[l],o[l],s))return!1;return typeof t==typeof o}(t,o,s))}})),Ea=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:_i};Ea.prototype.compare=function(t,e){if(t.type!==e.type||!yi(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,i=vi(t),r=vi(e);return i.every(function(t){return this.some(function(e){return n.compare(t,e)})},r)}}return!1},Ea.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},Ea.prototype.compareLine=function(t,e,n,i){if(!yi(t,e))return!1;var r=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!i||this.compareCoord(r[0],o[0])||(o=this.fixStartIndex(o,r))){var s=this.compareCoord(r[n],o[n]);return this.direction||s?this.comparePath(r,o):!!this.compareCoord(r[n],o[o.length-(1+n)])&&this.comparePath(r.slice().reverse(),o)}},Ea.prototype.fixStartIndex=function(t,e){for(var n,i=-1,r=0;r<t.length;r++)if(this.compareCoord(t[r],e[0])){i=r;break}return i>=0&&(n=[].concat(t.slice(i,t.length),t.slice(1,i+1))),n},Ea.prototype.comparePath=function(t,e){var n=this;return t.every(function(t,e){return n.compareCoord(t,this[e])},e)},Ea.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),i=e.coordinates.slice(1,e.coordinates.length),r=this;return n.every(function(t){return this.some(function(e){return r.compareLine(t,e,1,!0)})},i)}return!1},Ea.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},Ea.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},Ea.prototype.removePseudo=function(t){return t};var Ca=Ea,Sa=mt(function(t){function e(t,e,n,i){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,i)}e.prototype.run=function(t,e,n,i){this._init(t,e,n,i);for(var r=0;r<this._datasetLength;r++)if(1!==this._visited[r]){this._visited[r]=1;var o=this._regionQuery(r);if(o.length<this.minPts)this.noise.push(r);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(r,s),this._expandCluster(s,o)}}return this.clusters},e.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(1!==this._visited[i]){this._visited[i]=1;var r=this._regionQuery(i);r.length>=this.minPts&&(e=this._mergeArrays(e,r))}1!==this._assigned[i]&&this._addToCluster(i,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,i=0;i<n;i++){var r=e[i];t.indexOf(r)<0&&t.push(r)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Ma=mt(function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,i=0;i<this.k;i++)this.centroids[i]=this.randomCentroid();for(var r=!0;r;){r=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(c),a=0,l=0;l<c;l++)s[l]=0;for(var u=0;u<n;u++){var c=this.dataset[u].length;if(o===this.assignments[u]){for(l=0;l<c;l++)s[l]+=this.dataset[u][l];a++}}if(a>0){for(l=0;l<c;l++)s[l]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),r=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,i=0;i<n;i++)(t=this.argmin(this.dataset[i],this.centroids,this.distance))!=this.assignments[i]&&(this.assignments[i]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var i,r=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(i=n(t,e[a]))<r&&(r=i,o=a);return o},e.prototype.distance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;){var r=t[i]-e[i];n+=r*r}return Math.sqrt(n)},t.exports&&(t.exports=e)}),Ia=mt(function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,i=n;i--;){var r=this._priorities[i];"desc"===this._sorting?e>r&&(n=i):e<r&&(n=i)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var i=0;i<t.length;i++)this.insert(t[i],e[i])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)}),Oa=mt(function(t){function e(t,e,n,i){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,i)}if(t.exports)var n=Ia;e.prototype.run=function(t,e,i,r){this._init(t,e,i,r);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var l=new n(null,null,"asc"),u=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,u,l),this._expandCluster(a,l))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var i=this._orderedList[e],r=this._reachability[i];t.push([i,r])}return t},e.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},e.prototype._updateQueue=function(t,e,n){var i=this;this._coreDistance=this._distanceToCore(t),e.forEach(function(e){if(void 0===i._processed[e]){var r=i.distance(i.dataset[t],i.dataset[e]),o=Math.max(i._coreDistance,r);void 0===i._reachability[e]?(i._reachability[e]=o,n.insert(e,o)):o<i._reachability[e]&&(i._reachability[e]=o,n.remove(e),n.insert(e,o))}})},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),i=0,r=n.length;i<r;i++){var o=n[i];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],i=0,r=this.dataset.length;i<r;i++)this.distance(this.dataset[t],this.dataset[i])<e&&n.push(i);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},t.exports&&(t.exports=e)}),Ta=mt(function(t){t.exports&&(t.exports={DBSCAN:Sa,KMEANS:Ma,OPTICS:Oa,PriorityQueue:Ia})}),Na=(Ta.DBSCAN,Ta.KMEANS,Ta.OPTICS,Ta.PriorityQueue,function(t,e,n){for(var i=t.length,r=0,o=0;o<i;o++){var s=(t[o]||0)-(e[o]||0);r+=s*s}return n?Math.sqrt(r):r}),ka=Na,Pa=function(t,e,n){var i=Math.abs(t-e);return n?i:i*i},Aa=Na,La=function(t,e,n,i){var r=[],o=[],s=[],a=[],l=!1,u=i||1e4,c=t.length,h=t[0].length,f=h>0,p=[];if(n)r="kmrand"==n?function(t,e){for(var n={},i=[],r=e<<2,o=t.length,s=t[0].length>0;i.length<e&&r-- >0;){var a=t[Math.floor(Math.random()*o)],l=s?a.join("_"):""+a;n[l]||(n[l]=!0,i.push(a))}if(i.length<e)throw new Error("Error initializating clusters");return i}(t,e):"kmpp"==n?function(t,e){var n=t[0].length?ka:Pa,i=[],r=t.length,o=t[0].length>0,s=t[Math.floor(Math.random()*r)];for(o&&s.join("_"),i.push(s);i.length<e;){for(var a=[],l=i.length,u=0,c=[],h=0;h<r;h++){for(var f=1/0,p=0;p<l;p++){var d=n(t[h],i[p]);d<=f&&(f=d)}a[h]=f}for(var g=0;g<r;g++)u+=a[g];for(var m=0;m<r;m++)c[m]={i:m,v:t[m],pr:a[m]/u,cs:0};c.sort(function(t,e){return t.pr-e.pr}),c[0].cs=c[0].pr;for(var v=1;v<r;v++)c[v].cs=c[v-1].cs+c[v].pr;for(var y=Math.random(),_=0;_<r-1&&c[_++].cs<y;);i.push(c[_-1].v)}return i}(t,e):n;else for(var d={};r.length<e;){var g=Math.floor(Math.random()*c);d[g]||(d[g]=!0,r.push(t[g]))}do{xi(e,0,p);for(var m=0;m<c;m++){for(var v=1/0,y=0,_=0;_<e;_++)(a=f?Aa(t[m],r[_]):Math.abs(t[m]-r[_]))<=v&&(v=a,y=_);s[m]=y,p[y]++}for(var b=[],x=(o=[],0);x<e;x++)b[x]=f?xi(h,0,b[x]):0,o[x]=r[x];if(f){for(var w=0;w<e;w++)r[w]=[];for(var E=0;E<c;E++)for(var C=b[s[E]],S=t[E],M=0;M<h;M++)C[M]+=S[M];l=!0;for(var I=0;I<e;I++){for(var O=r[I],T=b[I],N=o[I],k=p[I],P=0;P<h;P++)O[P]=T[P]/k||0;if(l)for(var A=0;A<h;A++)if(N[A]!=O[A]){l=!1;break}}}else{for(var L=0;L<c;L++)b[s[L]]+=t[L];for(var D=0;D<e;D++)r[D]=b[D]/p[D]||0;l=!0;for(var R=0;R<e;R++)if(o[R]!=r[R]){l=!1;break}}l=l||--u<=0}while(!l);return{it:1e4-u,k:e,idxs:s,centroids:r}},Da={search:function(t,e,n,i){t.cleanDirty();var r=(i=i||{}).heuristic||Da.heuristics.manhattan,o=i.closest||!1,s=new Mi(function(t){return t.f}),a=e;for(e.h=r(e,n),s.push(e);s.size()>0;){var l=s.pop();if(l===n)return Ei(l);l.closed=!0;for(var u=t.neighbors(l),c=0,h=u.length;c<h;++c){var f=u[c];if(!f.closed&&!f.isWall()){var p=l.g+f.getCost(l),d=f.visited;(!d||p<f.g)&&(f.visited=!0,f.parent=l,f.h=f.h||r(f,n),f.g=p,f.f=f.g+f.h,t.markDirty(f),o&&(f.h<a.h||f.h===a.h&&f.g<a.g)&&(a=f),d?s.rescoreElement(f):s.push(f))}}}return o?Ei(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return 1*(i+r)+(n-2)*Math.min(i,r)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};Ci.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Da.cleanNode(this.nodes[t])},Ci.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Da.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Ci.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Ci.prototype.neighbors=function(t){var e=[],n=t.x,i=t.y,r=this.grid;return r[n-1]&&r[n-1][i]&&e.push(r[n-1][i]),r[n+1]&&r[n+1][i]&&e.push(r[n+1][i]),r[n]&&r[n][i-1]&&e.push(r[n][i-1]),r[n]&&r[n][i+1]&&e.push(r[n][i+1]),this.diagonal&&(r[n-1]&&r[n-1][i-1]&&e.push(r[n-1][i-1]),r[n+1]&&r[n+1][i-1]&&e.push(r[n+1][i-1]),r[n-1]&&r[n-1][i+1]&&e.push(r[n-1][i+1]),r[n+1]&&r[n+1][i+1]&&e.push(r[n+1][i+1])),e},Ci.prototype.toString=function(){for(var t,e,n,i,r=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],n=0,i=(e=o[s]).length;n<i;n++)t.push(e[n].weight);r.push(t.join(" "))}return r.join("\n")},Si.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Si.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Si.prototype.isWall=function(){return 0===this.weight},Mi.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,i=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[n]=e,this.content[t]=i,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],i=this.scoreFunction(n);;){var r,o=t+1<<1,s=o-1,a=null;if(s<e){var l=this.content[s];(r=this.scoreFunction(l))<i&&(a=s)}if(o<e){var u=this.content[o];this.scoreFunction(u)<(null===a?i:r)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}};var Ra=function(t){return function(){return t}};Ti.prototype={constructor:Ti,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Ai(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ki(this,n),n=(t=n).U),n.C=!1,i.C=!0,Pi(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(Pi(this,n),n=(t=n).U),n.C=!1,i.C=!0,ki(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?Ai(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,ki(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Pi(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ki(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,Pi(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ki(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,Pi(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var ja,Fa,za,Ba,Ga,qa=[],Ha=[],Wa=1e-6,Ua=1e-12;Zi.prototype={constructor:Zi,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return Bi(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){if(o=(r=n.halfedges).length)for(var r,o,s,a=n.site,l=-1,u=e[r[o-1]],c=u.left===a?u.right:u.left;++l<o;)s=c,c=(u=e[r[l]]).left===a?u.right:u.left,s&&c&&i<s.index&&i<c.index&&Ki(a,s,c)<0&&t.push([a.data,s.data,c.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var i,r,o=this,s=o._found||0,a=o.cells.length;!(r=o.cells[s]);)if(++s>=a)return null;var l=t-r.site[0],u=e-r.site[1],c=l*l+u*u;do{r=o.cells[i=s],s=null,r.halfedges.forEach(function(n){var i=o.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var l=t-a[0],u=e-a[1],h=l*l+u*u;h<c&&(c=h,s=a.index)}})}while(null!==s);return o._found=i,null==n||c<=n*n?r.site:null}};var Ya=Object.freeze({randomPosition:rr,randomPoint:or,randomPolygon:sr,randomLineString:ar}),Va=Object.freeze({getCluster:ur,clusterEach:cr,clusterReduce:hr,createBins:fr,applyFilter:pr,propertiesContainsFilter:dr,filterProperties:gr});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(n+i,0):Math.min(i,n);var r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(r=r<0?Math.max(n+arguments[2],0):Math.min(r,n);i<r;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Xa=function(){};Xa.prototype.interfaces_=function(){return[]},Xa.prototype.getClass=function(){return Xa},Xa.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var Ka=function(){},$a=function(){},Za={MAX_VALUE:{configurable:!0}};$a.isNaN=function(t){return Number.isNaN(t)},$a.doubleToLongBits=function(t){return t},$a.longBitsToDouble=function(t){return t},$a.isInfinite=function(t){return!Number.isFinite(t)},Za.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties($a,Za);var Ja=function(){},Qa=function(){},tl=function(){},el=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},nl={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};el.prototype.setOrdinate=function(t,e){switch(t){case el.X:this.x=e;break;case el.Y:this.y=e;break;case el.Z:this.z=e;break;default:throw new Ka("Invalid ordinate index: "+t)}},el.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!Xa.equalsWithTolerance(this.x,e.x,n)&&!!Xa.equalsWithTolerance(this.y,e.y,n)}},el.prototype.getOrdinate=function(t){switch(t){case el.X:return this.x;case el.Y:return this.y;case el.Z:return this.z}throw new Ka("Invalid ordinate index: "+t)},el.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||$a.isNaN(this.z))&&$a.isNaN(t.z)},el.prototype.equals=function(t){return t instanceof el&&this.equals2D(t)},el.prototype.equalInZ=function(t,e){return Xa.equalsWithTolerance(this.z,t.z,e)},el.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},el.prototype.clone=function(){},el.prototype.copy=function(){return new el(this)},el.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},el.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},el.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},el.prototype.hashCode=function(){var t=17;return t=37*(t=37*t+el.hashCode(this.x))+el.hashCode(this.y)},el.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},el.prototype.interfaces_=function(){return[Ja,Qa,mr]},el.prototype.getClass=function(){return el},el.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=$a.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},nl.DimensionalComparator.get=function(){return il},nl.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},nl.NULL_ORDINATE.get=function(){return $a.NaN},nl.X.get=function(){return 0},nl.Y.get=function(){return 1},nl.Z.get=function(){return 2},Object.defineProperties(el,nl);var il=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new Ka("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};il.prototype.compare=function(t,e){var n=t,i=e,r=il.compare(n.x,i.x);if(0!==r)return r;var o=il.compare(n.y,i.y);return 0!==o?o:this._dimensionsToTest<=2?0:il.compare(n.z,i.z)},il.prototype.interfaces_=function(){return[tl]},il.prototype.getClass=function(){return il},il.compare=function(t,e){return t<e?-1:t>e?1:$a.isNaN(t)?$a.isNaN(e)?0:-1:$a.isNaN(e)?1:0};var rl=function(){};rl.prototype.create=function(){},rl.prototype.interfaces_=function(){return[]},rl.prototype.getClass=function(){return rl};var ol=function(){},sl={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};ol.prototype.interfaces_=function(){return[]},ol.prototype.getClass=function(){return ol},ol.toLocationSymbol=function(t){switch(t){case ol.EXTERIOR:return"e";case ol.BOUNDARY:return"b";case ol.INTERIOR:return"i";case ol.NONE:return"-"}throw new Ka("Unknown location value: "+t)},sl.INTERIOR.get=function(){return 0},sl.BOUNDARY.get=function(){return 1},sl.EXTERIOR.get=function(){return 2},sl.NONE.get=function(){return-1},Object.defineProperties(ol,sl);var al=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},ll=function(){},ul={LOG_10:{configurable:!0}};ll.prototype.interfaces_=function(){return[]},ll.prototype.getClass=function(){return ll},ll.log10=function(t){var e=Math.log(t);return $a.isInfinite(e)?e:$a.isNaN(e)?e:e/ll.LOG_10},ll.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},ll.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:i>o?o:i}},ll.wrap=function(t,e){return t<0?e- -t%e:t%e},ll.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t;return e>i&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],l=r;return o>l&&(l=o),s>l&&(l=s),a>l&&(l=a),l}},ll.average=function(t,e){return(t+e)/2},ul.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(ll,ul);var cl=function(t){this.str=t};cl.prototype.append=function(t){this.str+=t},cl.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},cl.prototype.toString=function(t){return this.str};var hl=function(t){this.value=t};hl.prototype.intValue=function(){return this.value},hl.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},hl.isNaN=function(t){return Number.isNaN(t)};var fl=function(){};fl.isWhitespace=function(t){return t<=32&&t>=0||127===t},fl.toUpperCase=function(t){return t.toUpperCase()};var pl=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var i=arguments[0];t.call(this,t.parse(i))}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r,o)}},dl={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};pl.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},pl.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),i=pl.magnitude(n._hi),r=pl.TEN.pow(i);(n=n.divide(r)).gt(pl.TEN)?(n=n.divide(pl.TEN),i+=1):n.lt(pl.ONE)&&(n=n.multiply(pl.TEN),i-=1);for(var o=i+1,s=new cl,a=pl.MAX_PRINT_DIGITS-1,l=0;l<=a;l++){t&&l===o&&s.append(".");var u=Math.trunc(n._hi);if(u<0)break;var c=!1,h=0;u>9?(c=!0,h="9"):h="0"+u,s.append(h),n=n.subtract(pl.valueOf(u)).multiply(pl.TEN),c&&n.selfAdd(pl.TEN);var f=!0,p=pl.magnitude(n._hi);if(p<0&&Math.abs(p)>=a-l&&(f=!1),!f)break}return e[0]=i,s.toString()},pl.prototype.sqr=function(){return this.multiply(this)},pl.prototype.doubleValue=function(){return this._hi+this._lo},pl.prototype.subtract=function(){if(arguments[0]instanceof pl){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},pl.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},pl.prototype.isZero=function(){return 0===this._hi&&0===this._lo},pl.prototype.selfSubtract=function(){if(arguments[0]instanceof pl){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},pl.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},pl.prototype.min=function(t){return this.le(t)?this:t},pl.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof pl){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,l=null,u=null,c=null,h=null;return l=this._hi/n,h=(r=(u=pl.SPLIT*l)-(r=u-l))*(s=(h=pl.SPLIT*n)-(s=h-n))-(c=l*n)+r*(a=n-s)+(o=l-r)*s+o*a,u=(this._hi-c-h+this._lo-l*i)/n,h=l+u,this._hi=h,this._lo=l-h+u,this}},pl.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},pl.prototype.divide=function(){if(arguments[0]instanceof pl){var t=arguments[0],e=null,n=null,i=null,r=null,o=null,s=null,a=null,l=null;return n=(o=this._hi/t._hi)-(e=(s=pl.SPLIT*o)-(e=s-o)),l=e*(i=(l=pl.SPLIT*t._hi)-(i=l-t._hi))-(a=o*t._hi)+e*(r=t._hi-i)+n*i+n*r,s=(this._hi-a-l+this._lo-o*t._lo)/t._hi,new pl(l=o+s,o-l+s)}if("number"==typeof arguments[0]){var u=arguments[0];return $a.isNaN(u)?pl.createNaN():pl.copy(this).selfDivide(u,0)}},pl.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},pl.prototype.pow=function(t){if(0===t)return pl.valueOf(1);var e=new pl(this),n=pl.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},pl.prototype.ceil=function(){if(this.isNaN())return pl.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new pl(t,e)},pl.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},pl.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},pl.prototype.setValue=function(){if(arguments[0]instanceof pl){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},pl.prototype.max=function(t){return this.ge(t)?this:t},pl.prototype.sqrt=function(){if(this.isZero())return pl.valueOf(0);if(this.isNegative())return pl.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=pl.valueOf(e),i=this.subtract(n.sqr())._hi*(.5*t);return n.add(i)},pl.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof pl){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,s=null,a=null;return r=this._hi+e,s=r-this._hi,o=r-s,o=e-s+(this._hi-o),a=o+this._lo,i=a+(r-(n=r+a)),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var l=arguments[0],u=arguments[1],c=null,h=null,f=null,p=null,d=null,g=null,m=null;p=this._hi+l,h=this._lo+u,d=p-(g=p-this._hi),f=h-(m=h-this._lo);var v=(c=p+(g=(d=l-g+(this._hi-d))+h))+(g=(f=u-m+(this._lo-f))+(g+(p-c))),y=g+(c-v);return this._hi=v,this._lo=y,this}},pl.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof pl){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,l=null,u=null;r=(l=pl.SPLIT*this._hi)-this._hi,u=pl.SPLIT*n,r=l-r,o=this._hi-r,s=u-n;var c=(l=this._hi*n)+(u=r*(s=u-s)-l+r*(a=n-s)+o*s+o*a+(this._hi*i+this._lo*n)),h=u+(r=l-c);return this._hi=c,this._lo=h,this}},pl.prototype.selfSqr=function(){return this.selfMultiply(this)},pl.prototype.floor=function(){if(this.isNaN())return pl.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new pl(t,e)},pl.prototype.negate=function(){return this.isNaN()?this:new pl(-this._hi,-this._lo)},pl.prototype.clone=function(){},pl.prototype.multiply=function(){if(arguments[0]instanceof pl){var t=arguments[0];return t.isNaN()?pl.createNaN():pl.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return $a.isNaN(e)?pl.createNaN():pl.copy(this).selfMultiply(e,0)}},pl.prototype.isNaN=function(){return $a.isNaN(this._hi)},pl.prototype.intValue=function(){return Math.trunc(this._hi)},pl.prototype.toString=function(){var t=pl.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},pl.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;if("."===n.charAt(0))r="0"+n;else if(i<0)r="0."+pl.stringOfChar("0",-i)+n;else if(-1===n.indexOf(".")){var o=i-n.length;r=n+pl.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+r:r},pl.prototype.reciprocal=function(){var t=null,e=null,n=null,i=null,r=null,o=null,s=null,a=null;e=(r=1/this._hi)-(t=(o=pl.SPLIT*r)-(t=o-r)),n=(a=pl.SPLIT*this._hi)-this._hi;var l=r+(o=(1-(s=r*this._hi)-(a=t*(n=a-n)-s+t*(i=this._hi-n)+e*n+e*i)-r*this._lo)/this._hi);return new pl(l,r-l+o)},pl.prototype.toSciNotation=function(){if(this.isZero())return pl.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=pl.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var r="";n.length>1&&(r=n.substring(1));var o=n.charAt(0)+"."+r;return this.isNegative()?"-"+o+i:o+i},pl.prototype.abs=function(){return this.isNaN()?pl.NaN:this.isNegative()?this.negate():new pl(this)},pl.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},pl.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},pl.prototype.add=function(){if(arguments[0]instanceof pl){var t=arguments[0];return pl.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return pl.copy(this).selfAdd(e)}},pl.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof pl){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._hi=n,this._lo=i}},pl.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},pl.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},pl.prototype.trunc=function(){return this.isNaN()?pl.NaN:this.isPositive()?this.floor():this.ceil()},pl.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},pl.prototype.interfaces_=function(){return[mr,Ja,Qa]},pl.prototype.getClass=function(){return pl},pl.sqr=function(t){return pl.valueOf(t).selfMultiply(t)},pl.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return pl.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new pl(e)}},pl.sqrt=function(t){return pl.valueOf(t).sqrt()},pl.parse=function(t){for(var e=0,n=t.length;fl.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(i=!0))}for(var o=new pl,s=0,a=0,l=0;!(e>=n);){var u=t.charAt(e);if(e++,fl.isDigit(u)){var c=u-"0";o.selfMultiply(pl.TEN),o.selfAdd(c),s++}else{if("."!==u){if("e"===u||"E"===u){var h=t.substring(e);try{l=hl.parseInt(h)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+h+" in string "+t):e}break}throw new Error("Unexpected character '"+u+"' at position "+e+" in string "+t)}a=s}}var f=o,p=s-a-l;if(0===p)f=o;else if(p>0){var d=pl.TEN.pow(p);f=o.divide(d)}else if(p<0){var g=pl.TEN.pow(-p);f=o.multiply(g)}return i?f.negate():f},pl.createNaN=function(){return new pl($a.NaN,$a.NaN)},pl.copy=function(t){return new pl(t)},pl.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},pl.stringOfChar=function(t,e){for(var n=new cl,i=0;i<e;i++)n.append(t);return n.toString()},dl.PI.get=function(){return new pl(3.141592653589793,1.2246467991473532e-16)},dl.TWO_PI.get=function(){return new pl(6.283185307179586,2.4492935982947064e-16)},dl.PI_2.get=function(){return new pl(1.5707963267948966,6.123233995736766e-17)},dl.E.get=function(){return new pl(2.718281828459045,1.4456468917292502e-16)},dl.NaN.get=function(){return new pl($a.NaN,$a.NaN)},dl.EPS.get=function(){return 1.23259516440783e-32},dl.SPLIT.get=function(){return 134217729},dl.MAX_PRINT_DIGITS.get=function(){return 32},dl.TEN.get=function(){return pl.valueOf(10)},dl.ONE.get=function(){return pl.valueOf(1)},dl.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},dl.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(pl,dl);var gl=function(){},ml={DP_SAFE_EPSILON:{configurable:!0}};gl.prototype.interfaces_=function(){return[]},gl.prototype.getClass=function(){return gl},gl.orientationIndex=function(t,e,n){var i=gl.orientationIndexFilter(t,e,n);if(i<=1)return i;var r=pl.valueOf(e.x).selfAdd(-t.x),o=pl.valueOf(e.y).selfAdd(-t.y),s=pl.valueOf(n.x).selfAdd(-e.x),a=pl.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},gl.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},gl.intersection=function(t,e,n,i){var r=pl.valueOf(i.y).selfSubtract(n.y).selfMultiply(pl.valueOf(e.x).selfSubtract(t.x)),o=pl.valueOf(i.x).selfSubtract(n.x).selfMultiply(pl.valueOf(e.y).selfSubtract(t.y)),s=r.subtract(o),a=pl.valueOf(i.x).selfSubtract(n.x).selfMultiply(pl.valueOf(t.y).selfSubtract(n.y)),l=pl.valueOf(i.y).selfSubtract(n.y).selfMultiply(pl.valueOf(t.x).selfSubtract(n.x)),u=a.subtract(l).selfDivide(s).doubleValue(),c=pl.valueOf(t.x).selfAdd(pl.valueOf(e.x).selfSubtract(t.x).selfMultiply(u)).doubleValue(),h=pl.valueOf(e.x).selfSubtract(t.x).selfMultiply(pl.valueOf(t.y).selfSubtract(n.y)),f=pl.valueOf(e.y).selfSubtract(t.y).selfMultiply(pl.valueOf(t.x).selfSubtract(n.x)),p=h.subtract(f).selfDivide(s).doubleValue(),d=pl.valueOf(n.y).selfAdd(pl.valueOf(i.y).selfSubtract(n.y).selfMultiply(p)).doubleValue();return new el(c,d)},gl.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=r-o;if(r>0){if(o<=0)return gl.signum(s);i=r+o}else{if(!(r<0))return gl.signum(s);if(o>=0)return gl.signum(s);i=-r-o}var a=gl.DP_SAFE_EPSILON*i;return s>=a||-s>=a?gl.signum(s):2},gl.signum=function(t){return t>0?1:t<0?-1:0},ml.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(gl,ml);var vl=function(){},yl={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};yl.X.get=function(){return 0},yl.Y.get=function(){return 1},yl.Z.get=function(){return 2},yl.M.get=function(){return 3},vl.prototype.setOrdinate=function(t,e,n){},vl.prototype.size=function(){},vl.prototype.getOrdinate=function(t,e){},vl.prototype.getCoordinate=function(){},vl.prototype.getCoordinateCopy=function(t){},vl.prototype.getDimension=function(){},vl.prototype.getX=function(t){},vl.prototype.clone=function(){},vl.prototype.expandEnvelope=function(t){},vl.prototype.copy=function(){},vl.prototype.getY=function(t){},vl.prototype.toCoordinateArray=function(){},vl.prototype.interfaces_=function(){return[Qa]},vl.prototype.getClass=function(){return vl},Object.defineProperties(vl,yl);var _l=function(){},bl=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(_l),xl=function(){};xl.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;s<e+r;s++)n[i+o]=t[s],o++},xl.getProperty=function(t){return{"line.separator":"\n"}[t]};var wl=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],o=arguments[1];this.x=r.y*o.w-o.y*r.w,this.y=o.x*r.w-r.x*o.w,this.w=r.x*o.y-o.x*r.y}else if(arguments[0]instanceof el&&arguments[1]instanceof el){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2];this.x=l,this.y=u,this.w=c}else if(4===arguments.length){var h=arguments[0],f=arguments[1],p=arguments[2],d=arguments[3],g=h.y-f.y,m=f.x-h.x,v=h.x*f.y-f.x*h.y,y=p.y-d.y,_=d.x-p.x,b=p.x*d.y-d.x*p.y;this.x=m*b-_*v,this.y=y*v-g*b,this.w=g*_-y*m}};wl.prototype.getY=function(){var t=this.y/this.w;if($a.isNaN(t)||$a.isInfinite(t))throw new bl;return t},wl.prototype.getX=function(){var t=this.x/this.w;if($a.isNaN(t)||$a.isInfinite(t))throw new bl;return t},wl.prototype.getCoordinate=function(){var t=new el;return t.x=this.getX(),t.y=this.getY(),t},wl.prototype.interfaces_=function(){return[]},wl.prototype.getClass=function(){return wl},wl.intersection=function(t,e,n,i){var r=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-i.y,l=i.x-n.x,u=n.x*i.y-i.x*n.y,c=r*l-a*o,h=(o*u-l*s)/c,f=(a*s-r*u)/c;if($a.isNaN(h)||$a.isInfinite(h)||$a.isNaN(f)||$a.isInfinite(f))throw new bl;return new el(h,f)};var El=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof el){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],l=arguments[3];this.init(o,s,a,l)}},Cl={serialVersionUID:{configurable:!0}};El.prototype.getArea=function(){return this.getWidth()*this.getHeight()},El.prototype.equals=function(t){if(!(t instanceof El))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},El.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new El;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,i=this._maxx<t._maxx?this._maxx:t._maxx,r=this._maxy<t._maxy?this._maxy:t._maxy;return new El(e,i,n,r)},El.prototype.isNull=function(){return this._maxx<this._minx},El.prototype.getMaxX=function(){return this._maxx},El.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof el){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof El){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&i>=this._miny&&i<=this._maxy}},El.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof El){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof el){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||i>this._maxy||i<this._miny)}},El.prototype.getMinY=function(){return this._miny},El.prototype.getMinX=function(){return this._minx},El.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof el){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof El){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=i,this._maxy=i):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}},El.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},El.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},El.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},El.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},El.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},El.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},El.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},El.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},El.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},El.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof El){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof el){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},El.prototype.centre=function(){return this.isNull()?null:new el((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},El.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof el){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof El){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];r<o?(this._minx=r,this._maxx=o):(this._minx=o,this._maxx=r),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},El.prototype.getMaxY=function(){return this._maxy},El.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},El.prototype.hashCode=function(){var t=17;return t=37*(t=37*(t=37*(t=37*t+el.hashCode(this._minx))+el.hashCode(this._maxx))+el.hashCode(this._miny))+el.hashCode(this._maxy)},El.prototype.interfaces_=function(){return[Ja,mr]},El.prototype.getClass=function(){return El},El.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),l=Math.max(o.x,s.x),u=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(u>l||c<a||(a=Math.min(o.y,s.y),l=Math.max(o.y,s.y),u=Math.min(i.y,r.y),c=Math.max(i.y,r.y),u>l||c<a))}},Cl.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(El,Cl);var Sl={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Ml=function(t){this.geometryFactory=t||new Ku};Ml.prototype.read=function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var r=Sl.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=Sl.emptyTypeStr.exec(t))[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],Ol[n]&&(e=Ol[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Ml.prototype.write=function(t){return this.extractGeometry(t)},Ml.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Il[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Il[e].apply(this,[t])+")"};var Il={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Il.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Il.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(Il.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(Il.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Il.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Il.linestring.apply(this,[t._shell])+")");for(var n=0,i=t._holes.length;n<i;++n)e.push("("+Il.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Il.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Ol={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Sl.spaces);return this.geometryFactory.createPoint(new el(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Sl.trimParens,"$1"),i.push(Ol.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Sl.spaces),i.push(new el(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Sl.spaces),i.push(new el(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Sl.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Sl.trimParens,"$1"),i.push(Ol.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(Sl.parenComma),s=[],a=0,l=o.length;a<l;++a)e=o[a].replace(Sl.trimParens,"$1"),n=Ol.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n._points),0===a?r=i:s.push(i);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Sl.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Sl.trimParens,"$1"),i.push(Ol.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}},Tl=function(t){this.parser=new Ml(t)};Tl.prototype.write=function(t){return this.parser.write(t)},Tl.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Nl=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),kl=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Nl),Pl=function(){};Pl.prototype.interfaces_=function(){return[]},Pl.prototype.getClass=function(){return Pl},Pl.shouldNeverReachHere=function(){if(0===arguments.length)Pl.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new kl("Should never reach here"+(null!==t?": "+t:""))}},Pl.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],Pl.isTrue(t,null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new kl:new kl(e)},Pl.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],Pl.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],!e.equals(t)))throw new kl("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var Al=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new el,this._intPt[1]=new el,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Ll={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Al.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},Al.prototype.getTopologySummary=function(){var t=new cl;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Al.prototype.computeIntersection=function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)},Al.prototype.getIntersectionNum=function(){return this._result},Al.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Al.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Al.prototype.setPrecisionModel=function(t){this._precisionModel=t},Al.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},Al.prototype.getIntersection=function(t){return this._intPt[t]},Al.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Al.prototype.hasIntersection=function(){return this._result!==Al.NO_INTERSECTION},Al.prototype.getEdgeDistance=function(t,e){return Al.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},Al.prototype.isCollinear=function(){return this._result===Al.COLLINEAR_INTERSECTION},Al.prototype.toString=function(){return Tl.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Tl.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Al.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},Al.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},Al.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},Al.prototype.interfaces_=function(){return[]},Al.prototype.getClass=function(){return Al},Al.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=i>r?s:a)||t.equals(e)||(o=Math.max(s,a))}return Pl.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},Al.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return Pl.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Ll.DONT_INTERSECT.get=function(){return 0},Ll.DO_INTERSECT.get=function(){return 1},Ll.COLLINEAR.get=function(){return 2},Ll.NO_INTERSECTION.get=function(){return 0},Ll.POINT_INTERSECTION.get=function(){return 1},Ll.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Al,Ll);var Dl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new El(this._inputLines[0][0],this._inputLines[0][1]),n=new El(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2];if(this._isProper=!1,El.intersects(n,i,e)&&0===Fl.orientationIndex(n,i,e)&&0===Fl.orientationIndex(i,n,e))return this._isProper=!0,(e.equals(n)||e.equals(i))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.safeHCoordinateIntersection=function(t,n,i,r){var o=null;try{o=wl.intersection(t,n,i,r)}catch(s){if(!(s instanceof bl))throw s;o=e.nearestEndpoint(t,n,i,r)}return o},e.prototype.intersection=function(t,n,i,r){var o=this.intersectionWithNormalization(t,n,i,r);return this.isInSegmentEnvelopes(o)||(o=new el(e.nearestEndpoint(t,n,i,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},e.prototype.checkDD=function(t,e,n,i,r){var o=gl.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(o);xl.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&xl.out.println("Distance = "+r.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,i){var r=new el(t),o=new el(e),s=new el(n),a=new el(i),l=new el;this.normalizeToEnvCentre(r,o,s,a,l);var u=this.safeHCoordinateIntersection(r,o,s,a);return u.x+=l.x,u.y+=l.y,u},e.prototype.computeCollinearIntersection=function(e,n,i,r){var o=El.intersects(e,n,i),s=El.intersects(e,n,r),a=El.intersects(i,r,e),l=El.intersects(i,r,n);return o&&s?(this._intPt[0]=i,this._intPt[1]=r,t.COLLINEAR_INTERSECTION):a&&l?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||s||l?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&l?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||o||l?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&l?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,l=t.y>e.y?t.y:e.y,u=n.x<i.x?n.x:i.x,c=n.y<i.y?n.y:i.y,h=n.x>i.x?n.x:i.x,f=n.y>i.y?n.y:i.y,p=((o>u?o:u)+(a<h?a:h))/2,d=((s>c?s:c)+(l<f?l:f))/2;r.x=p,r.y=d,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.computeIntersect=function(e,n,i,r){if(this._isProper=!1,!El.intersects(e,n,i,r))return t.NO_INTERSECTION;var o=Fl.orientationIndex(e,n,i),s=Fl.orientationIndex(e,n,r);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=Fl.orientationIndex(i,r,e),l=Fl.orientationIndex(i,r,n);return a>0&&l>0||a<0&&l<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===l?this.computeCollinearIntersection(e,n,i,r):(0===o||0===s||0===a||0===l?(this._isProper=!1,e.equals2D(i)||e.equals2D(r)?this._intPt[0]=e:n.equals2D(i)||n.equals2D(r)?this._intPt[0]=n:0===o?this._intPt[0]=new el(i):0===s?this._intPt[0]=new el(r):0===a?this._intPt[0]=new el(e):0===l&&(this._intPt[0]=new el(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,i,r)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,i){var r=t,o=Fl.distancePointLine(t,n,i),s=Fl.distancePointLine(e,n,i);return s<o&&(o=s,r=e),(s=Fl.distancePointLine(n,t,e))<o&&(o=s,r=n),(s=Fl.distancePointLine(i,t,e))<o&&(o=s,r=i),r},e}(Al),Rl=function(){};Rl.prototype.interfaces_=function(){return[]},Rl.prototype.getClass=function(){return Rl},Rl.orientationIndex=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return Rl.signOfDet2x2(i,r,o,s)},Rl.signOfDet2x2=function(t,e,n,i){var r=null,o=null,s=null;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(e>0?i>0?e<=i||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):e<=-i?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):i>0?-e<=i?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),t>0){if(!(n>0))return r;if(!(t<=n))return r}else{if(n>0)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if(s=Math.floor(n/t),n-=s*t,(i-=s*e)<0)return-r;if(i>e)return r;if(t>n+n){if(e<i+i)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if(s=Math.floor(t/n),t-=s*n,(e-=s*i)<0)return r;if(e>i)return-r;if(n>t+t){if(i<e+e)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}};var jl=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};jl.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,l=Rl.signOfDet2x2(r,o,s,a);if(0===l)return this._isPointOnSegment=!0,null;a<o&&(l=-l),l>0&&this._crossingCount++}},jl.prototype.isPointInPolygon=function(){return this.getLocation()!==ol.EXTERIOR},jl.prototype.getLocation=function(){return this._isPointOnSegment?ol.BOUNDARY:this._crossingCount%2==1?ol.INTERIOR:ol.EXTERIOR},jl.prototype.isOnSegment=function(){return this._isPointOnSegment},jl.prototype.interfaces_=function(){return[]},jl.prototype.getClass=function(){return jl},jl.locatePointInRing=function(){if(arguments[0]instanceof el&&al(arguments[1],vl)){for(var t=arguments[0],e=arguments[1],n=new jl(t),i=new el,r=new el,o=1;o<e.size();o++)if(e.getCoordinate(o,i),e.getCoordinate(o-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof el&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],l=new jl(s),u=1;u<a.length;u++){var c=a[u],h=a[u-1];if(l.countSegment(c,h),l.isOnSegment())return l.getLocation()}return l.getLocation()}};var Fl=function(){},zl={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Fl.prototype.interfaces_=function(){return[]},Fl.prototype.getClass=function(){return Fl},Fl.orientationIndex=function(t,e,n){return gl.orientationIndex(t,e,n)},Fl.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y;e+=r*(t[i-1].y-o)}return e/2}if(al(arguments[0],vl)){var s=arguments[0],a=s.size();if(a<3)return 0;var l=new el,u=new el,c=new el;s.getCoordinate(0,u),s.getCoordinate(1,c);var h=u.x;c.x-=h;for(var f=0,p=1;p<a-1;p++)l.y=u.y,u.x=c.x,u.y=c.y,s.getCoordinate(p+1,c),c.x-=h,f+=u.x*(l.y-c.y);return f/2}},Fl.distanceLineLine=function(t,e,n,i){if(t.equals(e))return Fl.distancePointLine(t,n,i);if(n.equals(i))return Fl.distancePointLine(i,t,e);var r=!1;if(El.intersects(t,e,n,i)){var o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===o)r=!0;else{var s=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,l=s/o;(l<0||l>1||a<0||a>1)&&(r=!0)}}else r=!0;return r?ll.min(Fl.distancePointLine(t,n,i),Fl.distancePointLine(e,n,i),Fl.distancePointLine(n,t,e),Fl.distancePointLine(i,t,e)):0},Fl.isPointInRing=function(t,e){return Fl.locatePointInRing(t,e)!==ol.EXTERIOR},Fl.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new el;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;s<e;s++){t.getCoordinate(s,i);var a=i.x,l=i.y,u=a-r,c=l-o;n+=Math.sqrt(u*u+c*c),r=a,o=l}return n},Fl.isCCW=function(t){var e=t.length-1;if(e<3)throw new Ka("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,r=1;r<=e;r++){var o=t[r];o.y>n.y&&(n=o,i=r)}var s=i;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==i);var a=i;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==i);var l=t[s],u=t[a];if(l.equals2D(n)||u.equals2D(n)||l.equals2D(u))return!1;var c=Fl.computeOrientation(l,n,u);return 0===c?l.x>u.x:c>0},Fl.locatePointInRing=function(t,e){return jl.locatePointInRing(t,e)},Fl.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},Fl.computeOrientation=function(t,e,n){return Fl.orientationIndex(t,e,n)},Fl.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new Ka("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var r=Fl.distancePointLine(t,e[i],e[i+1]);r<n&&(n=r)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var l=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),u=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/l;if(u<=0)return o.distance(s);if(u>=1)return o.distance(a);var c=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/l;return Math.abs(c)*Math.sqrt(l)}},Fl.isOnLine=function(t,e){for(var n=new Dl,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},zl.CLOCKWISE.get=function(){return-1},zl.RIGHT.get=function(){return Fl.CLOCKWISE},zl.COUNTERCLOCKWISE.get=function(){return 1},zl.LEFT.get=function(){return Fl.COUNTERCLOCKWISE},zl.COLLINEAR.get=function(){return 0},zl.STRAIGHT.get=function(){return Fl.COLLINEAR},Object.defineProperties(Fl,zl);var Bl=function(){};Bl.prototype.filter=function(t){},Bl.prototype.interfaces_=function(){return[]},Bl.prototype.getClass=function(){return Bl};var Gl=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},ql={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Gl.prototype.isGeometryCollection=function(){return this.getSortIndex()===Gl.SORTINDEX_GEOMETRYCOLLECTION},Gl.prototype.getFactory=function(){return this._factory},Gl.prototype.getGeometryN=function(t){return this},Gl.prototype.getArea=function(){return 0},Gl.prototype.isRectangle=function(){return!1},Gl.prototype.equals=function(){if(arguments[0]instanceof Gl){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof Gl))return!1;var n=e;return this.equalsExact(n)}},Gl.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},Gl.prototype.geometryChanged=function(){this.apply(Gl.geometryChangedFilter)},Gl.prototype.geometryChangedAction=function(){this._envelope=null},Gl.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},Gl.prototype.getLength=function(){return 0},Gl.prototype.getNumGeometries=function(){return 1},Gl.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,i)}},Gl.prototype.getUserData=function(){return this._userData},Gl.prototype.getSRID=function(){return this._SRID},Gl.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Gl.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===Gl.SORTINDEX_GEOMETRYCOLLECTION)throw new Ka("This method does not support GeometryCollection arguments")},Gl.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},Gl.prototype.norm=function(){var t=this.copy();return t.normalize(),t},Gl.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Gl.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new El(this._envelope)},Gl.prototype.setSRID=function(t){this._SRID=t},Gl.prototype.setUserData=function(t){this._userData=t},Gl.prototype.compare=function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},Gl.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Gl.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Gl.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Gl.SORTINDEX_MULTIPOINT||this.getSortIndex()===Gl.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Gl.SORTINDEX_MULTIPOLYGON},Gl.prototype.interfaces_=function(){return[Qa,Ja,mr]},Gl.prototype.getClass=function(){return Gl},Gl.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},Gl.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},ql.serialVersionUID.get=function(){return 0x799ea46522854c00},ql.SORTINDEX_POINT.get=function(){return 0},ql.SORTINDEX_MULTIPOINT.get=function(){return 1},ql.SORTINDEX_LINESTRING.get=function(){return 2},ql.SORTINDEX_LINEARRING.get=function(){return 3},ql.SORTINDEX_MULTILINESTRING.get=function(){return 4},ql.SORTINDEX_POLYGON.get=function(){return 5},ql.SORTINDEX_MULTIPOLYGON.get=function(){return 6},ql.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},ql.geometryChangedFilter.get=function(){return Hl},Object.defineProperties(Gl,ql);var Hl=function(){};Hl.interfaces_=function(){return[Bl]},Hl.filter=function(t){t.geometryChangedAction()};var Wl=function(){};Wl.prototype.filter=function(t){},Wl.prototype.interfaces_=function(){return[]},Wl.prototype.getClass=function(){return Wl};var Ul=function(){},Yl={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};Ul.prototype.isInBoundary=function(t){},Ul.prototype.interfaces_=function(){return[]},Ul.prototype.getClass=function(){return Ul},Yl.Mod2BoundaryNodeRule.get=function(){return Vl},Yl.EndPointBoundaryNodeRule.get=function(){return Xl},Yl.MultiValentEndPointBoundaryNodeRule.get=function(){return Kl},Yl.MonoValentEndPointBoundaryNodeRule.get=function(){return $l},Yl.MOD2_BOUNDARY_RULE.get=function(){return new Vl},Yl.ENDPOINT_BOUNDARY_RULE.get=function(){return new Xl},Yl.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Kl},Yl.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new $l},Yl.OGC_SFS_BOUNDARY_RULE.get=function(){return Ul.MOD2_BOUNDARY_RULE},Object.defineProperties(Ul,Yl);var Vl=function(){};Vl.prototype.isInBoundary=function(t){return t%2==1},Vl.prototype.interfaces_=function(){return[Ul]},Vl.prototype.getClass=function(){return Vl};var Xl=function(){};Xl.prototype.isInBoundary=function(t){return t>0},Xl.prototype.interfaces_=function(){return[Ul]},Xl.prototype.getClass=function(){return Xl};var Kl=function(){};Kl.prototype.isInBoundary=function(t){return t>1},Kl.prototype.interfaces_=function(){return[Ul]},Kl.prototype.getClass=function(){return Kl};var $l=function(){};$l.prototype.isInBoundary=function(t){return 1===t},$l.prototype.interfaces_=function(){return[Ul]},$l.prototype.getClass=function(){return $l};var Zl=function(){};Zl.prototype.add=function(){},Zl.prototype.addAll=function(){},Zl.prototype.isEmpty=function(){},Zl.prototype.iterator=function(){},Zl.prototype.size=function(){},Zl.prototype.toArray=function(){},Zl.prototype.remove=function(){};var Jl=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),Ql=function(){};Ql.prototype.hasNext=function(){},Ql.prototype.next=function(){},Ql.prototype.remove=function(){};var tu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(Zl);(vr.prototype=new Error).name="NoSuchElementException";var eu=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Zl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,Zl]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new nu(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new Jl;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(tu),nu=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new vr;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(Ql),iu=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.ensureCapacity(n.length),this.add(n,i)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=!1,r=e.iterator();r.hasNext();)this.add(r.next(),n),i=!0;return i}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],i=arguments[1];return this.add(n,i,!0),!0}if(arguments[0]instanceof el&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(r))return null;t.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],l=arguments[1];if(arguments[2])for(var u=0;u<a.length;u++)this.add(a[u],l);else for(var c=a.length-1;c>=0;c--)this.add(a[c],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof el){var h=arguments[0],f=arguments[1];if(!arguments[2]){var p=this.size();if(p>0){if(h>0&&this.get(h-1).equals2D(f))return null;if(h<p&&this.get(h).equals2D(f))return null}}t.prototype.add.call(this,h,f)}}else if(4===arguments.length){var d=arguments[0],g=arguments[1],m=arguments[2],v=arguments[3],y=1;m>v&&(y=-1);for(var _=m;_!==v;_+=y)this.add(d[_],g);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new el(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(eu),ru=function(){},ou={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};ou.ForwardComparator.get=function(){return su},ou.BidirectionalComparator.get=function(){return au},ou.coordArrayType.get=function(){return new Array(0).fill(null)},ru.prototype.interfaces_=function(){return[]},ru.prototype.getClass=function(){return ru},ru.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},ru.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(ru.indexOf(i,e)<0)return i}return null},ru.scroll=function(t,e){var n=ru.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);xl.arraycopy(t,n,i,0,t.length-n),xl.arraycopy(t,0,i,t.length-n,n),xl.arraycopy(i,0,t,0,t.length)},ru.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++)if(0!==o.compare(i[s],r[s]))return!1;return!0}},ru.intersection=function(t,e){for(var n=new iu,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},ru.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},ru.removeRepeatedPoints=function(t){return ru.hasRepeatedPoints(t)?new iu(t,!1).toCoordinateArray():t},ru.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},ru.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,o=0;o<t.length;o++)null!==t[o]&&(i[r++]=t[o]);return i},ru.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new el(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],l=0;l<a;l++)o[s+l]=new el(i[r+l])},ru.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},ru.envelope=function(t){for(var e=new El,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},ru.toCoordinateArray=function(t){return t.toArray(ru.coordArrayType)},ru.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},ru.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},ru.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},ru.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},ru.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},ru.extract=function(t,e,n){e=ll.clamp(e,0,t.length);var i=(n=ll.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=e;s<=n;s++)r[o++]=t[s];return r},Object.defineProperties(ru,ou);var su=function(){};su.prototype.compare=function(t,e){return ru.compare(t,e)},su.prototype.interfaces_=function(){return[tl]},su.prototype.getClass=function(){return su};var au=function(){};au.prototype.compare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=ru.compare(n,i);return ru.isEqualReversed(n,i)?0:r},au.prototype.OLDcompare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=ru.increasingDirection(n),o=ru.increasingDirection(i),s=r>0?0:n.length-1,a=o>0?0:n.length-1,l=0;l<n.length;l++){var u=n[s].compareTo(i[a]);if(0!==u)return u;s+=r,a+=o}return 0},au.prototype.interfaces_=function(){return[tl]},au.prototype.getClass=function(){return au};var lu=function(){};lu.prototype.get=function(){},lu.prototype.put=function(){},lu.prototype.size=function(){},lu.prototype.values=function(){},lu.prototype.entrySet=function(){};var uu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(lu);(yr.prototype=new Error).name="OperationNotSupported",(_r.prototype=new Zl).contains=function(){};var cu=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Zl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new hu(this)},e}(_r),hu=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new vr;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new yr},e}(Ql),fu=0;(Sr.prototype=new uu).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Sr.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:fu,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:n,color:fu,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},Sr.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(xr(t)===Er(xr(xr(t)))){var e=Cr(xr(xr(t)));1===br(e)?(wr(xr(t),fu),wr(e,fu),wr(xr(xr(t)),1),t=xr(xr(t))):(t===Cr(xr(t))&&(t=xr(t),this.rotateLeft(t)),wr(xr(t),fu),wr(xr(xr(t)),1),this.rotateRight(xr(xr(t))))}else{var n=Er(xr(xr(t)));1===br(n)?(wr(xr(t),fu),wr(n,fu),wr(xr(xr(t)),1),t=xr(xr(t))):(t===Er(xr(t))&&(t=xr(t),this.rotateRight(t)),wr(xr(t),fu),wr(xr(xr(t)),1),this.rotateLeft(xr(xr(t))))}this.root_.color=fu},Sr.prototype.values=function(){var t=new eu,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Sr.successor(e));)t.add(e.value);return t},Sr.prototype.entrySet=function(){var t=new cu,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Sr.successor(e));)t.add(e);return t},Sr.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Sr.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Sr.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Sr.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,i=t;null!==n&&i===n.right;)i=n,n=n.parent;return n},Sr.prototype.size=function(){return this.size_};var pu=function(){};pu.prototype.interfaces_=function(){return[]},pu.prototype.getClass=function(){return pu},Mr.prototype=new _r,(Ir.prototype=new Mr).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Ir.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Ir.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Ir.prototype.remove=function(t){throw new yr},Ir.prototype.size=function(){return this.array_.length},Ir.prototype.isEmpty=function(){return 0===this.array_.length},Ir.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Ir.prototype.iterator=function(){return new du(this)};var du=function(t){this.treeSet_=t,this.position_=0};du.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new vr;return this.treeSet_.array_[this.position_++]},du.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},du.prototype.remove=function(){throw new yr};var gu=function(){};gu.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)i=function(t,e){return t.compareTo(e)},r.sort(i);else if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])}else if(4===arguments.length)for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])},gu.asList=function(t){for(var e=new eu,n=0,i=t.length;n<i;n++)e.add(t[n]);return e};var mu=function(){},vu={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};vu.P.get=function(){return 0},vu.L.get=function(){return 1},vu.A.get=function(){return 2},vu.FALSE.get=function(){return-1},vu.TRUE.get=function(){return-2},vu.DONTCARE.get=function(){return-3},vu.SYM_FALSE.get=function(){return"F"},vu.SYM_TRUE.get=function(){return"T"},vu.SYM_DONTCARE.get=function(){return"*"},vu.SYM_P.get=function(){return"0"},vu.SYM_L.get=function(){return"1"},vu.SYM_A.get=function(){return"2"},mu.prototype.interfaces_=function(){return[]},mu.prototype.getClass=function(){return mu},mu.toDimensionSymbol=function(t){switch(t){case mu.FALSE:return mu.SYM_FALSE;case mu.TRUE:return mu.SYM_TRUE;case mu.DONTCARE:return mu.SYM_DONTCARE;case mu.P:return mu.SYM_P;case mu.L:return mu.SYM_L;case mu.A:return mu.SYM_A}throw new Ka("Unknown dimension value: "+t)},mu.toDimensionValue=function(t){switch(fl.toUpperCase(t)){case mu.SYM_FALSE:return mu.FALSE;case mu.SYM_TRUE:return mu.TRUE;case mu.SYM_DONTCARE:return mu.DONTCARE;case mu.SYM_P:return mu.P;case mu.SYM_L:return mu.L;case mu.SYM_A:return mu.A}throw new Ka("Unknown dimension symbol: "+t)},Object.defineProperties(mu,vu);var yu=function(){};yu.prototype.filter=function(t){},yu.prototype.interfaces_=function(){return[]},yu.prototype.getClass=function(){return yu};var _u=function(){};_u.prototype.filter=function(t,e){},_u.prototype.isDone=function(){},_u.prototype.isGeometryChanged=function(){},_u.prototype.interfaces_=function(){return[]},_u.prototype.getClass=function(){return _u};var bu=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new Ka("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new El,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._geometries.length!==i._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(i._geometries[r],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();gu.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=mu.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=mu.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Ir(gu.asList(this._geometries)),n=new Ir(gu.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o=i,s=this.getNumGeometries(),a=o.getNumGeometries(),l=0;l<s&&l<a;){var u=this.getGeometryN(l),c=o.getGeometryN(l),h=u.compareToSameClass(c,r);if(0!==h)return h;l++}return l<s?1:l<a?-1:0}},e.prototype.apply=function(){if(al(arguments[0],Wl))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(al(arguments[0],_u)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(al(arguments[0],yu)){var r=arguments[0];r.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(r)}else if(al(arguments[0],Bl)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Pl.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(Gl),xu=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gl.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?mu.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new wu(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[pu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(bu),wu=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=Ul.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=i}};wu.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},wu.prototype.getBoundary=function(){return this._geom instanceof Iu?this.boundaryLineString(this._geom):this._geom instanceof xu?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},wu.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},wu.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},wu.prototype.computeBoundaryCoordinates=function(t){var e=new eu;this._endpointMap=new Sr;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return ru.toCoordinateArray(e)},wu.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new Eu,this._endpointMap.put(t,e)),e.count++},wu.prototype.interfaces_=function(){return[]},wu.prototype.getClass=function(){return wu},wu.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new wu(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new wu(e,n).getBoundary()}};var Eu=function(){this.count=null};Eu.prototype.interfaces_=function(){return[]},Eu.prototype.getClass=function(){return Eu};var Cu=function(){},Su={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Cu.prototype.interfaces_=function(){return[]},Cu.prototype.getClass=function(){return Cu},Cu.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return String(n)},Cu.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o="",s=new function(){}(new function(){}(Cu.getStackTrace(i))),a=0;a<r;a++)try{o+=s.readLine()+Cu.NEWLINE}catch(t){if(!(t instanceof Or))throw t;Pl.shouldNeverReachHere()}return o}},Cu.split=function(t,e){for(var n=e.length,i=new eu,r=""+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);i.add(s),o=(r=r.substring(o+n)).indexOf(e)}r.length>0&&i.add(r);for(var a=new Array(i.size()).fill(null),l=0;l<a.length;l++)a[l]=i.get(l);return a},Cu.toString=function(){if(1===arguments.length){var t=arguments[0];return Cu.SIMPLE_ORDINATE_FORMAT.format(t)}},Cu.spaces=function(t){return Cu.chars(" ",t)},Su.NEWLINE.get=function(){return xl.getProperty("line.separator")},Su.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Cu,Su);var Mu=function(){};Mu.prototype.interfaces_=function(){return[]},Mu.prototype.getClass=function(){return Mu},Mu.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},Mu.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,vl.X)===t.getOrdinate(e-1,vl.X)&&t.getOrdinate(0,vl.Y)===t.getOrdinate(e-1,vl.Y)},Mu.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var s=t.getOrdinate(r,o),a=e.getOrdinate(r,o);if(!(t.getOrdinate(r,o)===e.getOrdinate(r,o)||$a.isNaN(s)&&$a.isNaN(a)))return!1}return!0},Mu.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(Mu.copy(e,0,i,0,r),r>0)for(var o=r;o<n;o++)Mu.copy(e,r-1,i,o,1);return i},Mu.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)Mu.swap(t,i,e-i)},Mu.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},Mu.copy=function(t,e,n,i,r){for(var o=0;o<r;o++)Mu.copyCoord(t,e+o,n,i+o)},Mu.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new cl;i.append("(");for(var r=0;r<e;r++){r>0&&i.append(" ");for(var o=0;o<n;o++)o>0&&i.append(","),i.append(Cu.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},Mu.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Mu.createClosedRing(t,e,4):e.getOrdinate(0,vl.X)===e.getOrdinate(n-1,vl.X)&&e.getOrdinate(0,vl.Y)===e.getOrdinate(n-1,vl.Y)?e:Mu.createClosedRing(t,e,n+1)},Mu.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();Mu.copy(e,0,i,0,r);for(var o=r;o<n;o++)Mu.copy(e,0,i,o,1);return i};var Iu=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new El:this._points.expandEnvelope(new El)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._points.size()!==i._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),i._points.getCoordinate(r),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Mu.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?mu.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return Fl.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Mu.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var i=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}},e.prototype.apply=function(){if(al(arguments[0],Wl))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(al(arguments[0],_u)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else al(arguments[0],yu)?arguments[0].filter(this):al(arguments[0],Bl)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new wu(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new Ka("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[pu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(Gl),Ou=function(){};Ou.prototype.interfaces_=function(){return[]},Ou.prototype.getClass=function(){return Ou};var Tu=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new El;var t=new El;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return mu.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(al(arguments[0],Wl)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(al(arguments[0],_u)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else al(arguments[0],yu)?arguments[0].filter(this):al(arguments[0],Bl)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),Pl.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Ou]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(Gl),Nu=function(){};Nu.prototype.interfaces_=function(){return[]},Nu.prototype.getClass=function(){return Nu};var ku=function(t){function e(e,n,i){if(t.call(this,i),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new Ka("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new Ka("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(Fl.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(Fl.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var l=t.getX(a),u=t.getY(a);if(l!==o==(u!==s))return!1;o=l,s=u}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e,r=this._shell,o=i._shell;if(!r.equalsExact(o,n))return!1;if(this._holes.length!==i._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(i._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);gu.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);xl.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=ru.minCoordinate(e.getCoordinates());ru.scroll(i,r),xl.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],Fl.isCCW(e.getCoordinates())===n&&ru.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[0],r=arguments[1],o=i,s=this._shell,a=o._shell,l=s.compareToSameClass(a,r);if(0!==l)return l;for(var u=this.getNumInteriorRing(),c=o.getNumInteriorRing(),h=0;h<u&&h<c;){var f=this.getInteriorRingN(h),p=o.getInteriorRingN(h),d=f.compareToSameClass(p,r);if(0!==d)return d;h++}return h<u?1:h<c?-1:0}},e.prototype.apply=function(t){if(al(t,Wl)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(al(t,_u)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(al(t,yu))t.filter(this);else if(al(t,Bl)){t.filter(this),this._shell.apply(t);for(var i=0;i<this._holes.length;i++)this._holes[i].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),i=0;i<n.length;i++)n[i]=this._holes[i].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Nu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(Gl),Pu=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gl.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return mu.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Ou]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(bu),Au=function(t){function e(e,n){e instanceof el&&n instanceof Ku&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gl.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return mu.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Mu.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new Ka("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new Ka("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Iu),Lu=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return Gl.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new eu,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Nu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(bu),Du=function(t){this._factory=t||null,this._isUserDataCopied=!1},Ru={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Du.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Du.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},Du.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof bu?this.editGeometryCollection(t,e):t instanceof ku?this.editPolygon(t,e):t instanceof Tu?e.edit(t,this._factory):t instanceof Iu?e.edit(t,this._factory):(Pl.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Du.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),i=new eu,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===Pu?this._factory.createMultiPoint(i.toArray([])):n.getClass()===xu?this._factory.createMultiLineString(i.toArray([])):n.getClass()===Lu?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},Du.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this._factory.createPolygon();for(var r=new eu,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this._factory.createPolygon(i,r.toArray([]))},Du.prototype.interfaces_=function(){return[]},Du.prototype.getClass=function(){return Du},Du.GeometryEditorOperation=function(){},Ru.NoOpGeometryOperation.get=function(){return ju},Ru.CoordinateOperation.get=function(){return Fu},Ru.CoordinateSequenceOperation.get=function(){return zu},Object.defineProperties(Du,Ru);var ju=function(){};ju.prototype.edit=function(t,e){return t},ju.prototype.interfaces_=function(){return[Du.GeometryEditorOperation]},ju.prototype.getClass=function(){return ju};var Fu=function(){};Fu.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof Au?e.createLinearRing(n):t instanceof Iu?e.createLineString(n):t instanceof Tu?n.length>0?e.createPoint(n[0]):e.createPoint():t},Fu.prototype.interfaces_=function(){return[Du.GeometryEditorOperation]},Fu.prototype.getClass=function(){return Fu};var zu=function(){};zu.prototype.edit=function(t,e){return t instanceof Au?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Iu?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Tu?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},zu.prototype.interfaces_=function(){return[Du.GeometryEditorOperation]},zu.prototype.getClass=function(){return zu};var Bu=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new el}else if(al(arguments[0],vl)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)this._coordinates[i]=n.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this._coordinates=r,this._dimension=o,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var l=0;l<s;l++)this._coordinates[l]=new el}},Gu={serialVersionUID:{configurable:!0}};Bu.prototype.setOrdinate=function(t,e,n){switch(e){case vl.X:this._coordinates[t].x=n;break;case vl.Y:this._coordinates[t].y=n;break;case vl.Z:this._coordinates[t].z=n;break;default:throw new Ka("invalid ordinateIndex")}},Bu.prototype.size=function(){return this._coordinates.length},Bu.prototype.getOrdinate=function(t,e){switch(e){case vl.X:return this._coordinates[t].x;case vl.Y:return this._coordinates[t].y;case vl.Z:return this._coordinates[t].z}return $a.NaN},Bu.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},Bu.prototype.getCoordinateCopy=function(t){return new el(this._coordinates[t])},Bu.prototype.getDimension=function(){return this._dimension},Bu.prototype.getX=function(t){return this._coordinates[t].x},Bu.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Bu(t,this._dimension)},Bu.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Bu.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Bu(t,this._dimension)},Bu.prototype.toString=function(){if(this._coordinates.length>0){var t=new cl(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Bu.prototype.getY=function(t){return this._coordinates[t].y},Bu.prototype.toCoordinateArray=function(){return this._coordinates},Bu.prototype.interfaces_=function(){return[vl,mr]},Bu.prototype.getClass=function(){return Bu},Gu.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Bu,Gu);var qu=function(){},Hu={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};qu.prototype.readResolve=function(){return qu.instance()},qu.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Bu(t)}if(al(arguments[0],vl)){var e=arguments[0];return new Bu(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new Bu(n):new Bu(n,i)}},qu.prototype.interfaces_=function(){return[rl,mr]},qu.prototype.getClass=function(){return qu},qu.instance=function(){return qu.instanceObject},Hu.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Hu.instanceObject.get=function(){return new qu},Object.defineProperties(qu,Hu);var Wu=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new eu,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new cu;return this.map_.entries().forEach(function(e){return t.add(e)}),t},e.prototype.size=function(){return this.map_.size()},e}(lu),Uu=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Vu){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}},Yu={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Uu.prototype.equals=function(t){if(!(t instanceof Uu))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},Uu.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new hl(n).compareTo(new hl(i))},Uu.prototype.getScale=function(){return this._scale},Uu.prototype.isFloating=function(){return this._modelType===Uu.FLOATING||this._modelType===Uu.FLOATING_SINGLE},Uu.prototype.getType=function(){return this._modelType},Uu.prototype.toString=function(){var t="UNKNOWN";return this._modelType===Uu.FLOATING?t="Floating":this._modelType===Uu.FLOATING_SINGLE?t="Floating-Single":this._modelType===Uu.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},Uu.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return $a.isNaN(t)?t:this._modelType===Uu.FLOATING_SINGLE?t:this._modelType===Uu.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof el){var e=arguments[0];if(this._modelType===Uu.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},Uu.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===Uu.FLOATING?t=16:this._modelType===Uu.FLOATING_SINGLE?t=6:this._modelType===Uu.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},Uu.prototype.setScale=function(t){this._scale=Math.abs(t)},Uu.prototype.interfaces_=function(){return[mr,Ja]},Uu.prototype.getClass=function(){return Uu},Uu.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Yu.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Yu.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Uu,Yu);var Vu=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Xu={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Vu.prototype.readResolve=function(){return Vu.nameToTypeMap.get(this._name)},Vu.prototype.toString=function(){return this._name},Vu.prototype.interfaces_=function(){return[mr]},Vu.prototype.getClass=function(){return Vu},Xu.serialVersionUID.get=function(){return-552860263173159e4},Xu.nameToTypeMap.get=function(){return new Wu},Object.defineProperties(Vu,Xu),Uu.Type=Vu,Uu.FIXED=new Vu("FIXED"),Uu.FLOATING=new Vu("FLOATING"),Uu.FLOATING_SINGLE=new Vu("FLOATING SINGLE");var Ku=function t(){this._precisionModel=new Uu,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?al(arguments[0],rl)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Uu&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},$u={serialVersionUID:{configurable:!0}};Ku.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new el(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new el(t.getMinX(),t.getMinY()),new el(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new el(t.getMinX(),t.getMinY()),new el(t.getMinX(),t.getMaxY()),new el(t.getMaxX(),t.getMaxY()),new el(t.getMaxX(),t.getMinY()),new el(t.getMinX(),t.getMinY())]),null)},Ku.prototype.createLineString=function(t){return t?t instanceof Array?new Iu(this.getCoordinateSequenceFactory().create(t),this):al(t,vl)?new Iu(t,this):void 0:new Iu(this.getCoordinateSequenceFactory().create([]),this)},Ku.prototype.createMultiLineString=function(){if(0===arguments.length)return new xu(null,this);if(1===arguments.length){var t=arguments[0];return new xu(t,this)}},Ku.prototype.buildGeometry=function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(Ku.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof ku)return this.createMultiPolygon(Ku.toPolygonArray(t));if(a instanceof Iu)return this.createMultiLineString(Ku.toLineStringArray(t));if(a instanceof Tu)return this.createMultiPoint(Ku.toPointArray(t));Pl.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},Ku.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},Ku.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof el){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(al(arguments[0],vl)){var e=arguments[0];return new Tu(e,this)}}},Ku.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Ku.prototype.createPolygon=function(){if(0===arguments.length)return new ku(null,null,this);if(1===arguments.length){if(al(arguments[0],vl)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Au){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return new ku(i,r,this)}},Ku.prototype.getSRID=function(){return this._SRID},Ku.prototype.createGeometryCollection=function(){if(0===arguments.length)return new bu(null,this);if(1===arguments.length){var t=arguments[0];return new bu(t,this)}},Ku.prototype.createGeometry=function(t){return new Du(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},Ku.prototype.getPrecisionModel=function(){return this._precisionModel},Ku.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(al(arguments[0],vl)){var e=arguments[0];return new Au(e,this)}}},Ku.prototype.createMultiPolygon=function(){if(0===arguments.length)return new Lu(null,this);if(1===arguments.length){var t=arguments[0];return new Lu(t,this)}},Ku.prototype.createMultiPoint=function(){if(0===arguments.length)return new Pu(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Pu(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(al(arguments[0],vl)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),r=0;r<n.size();r++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Mu.copy(n,r,o,0,1),i[r]=this.createPoint(o)}return this.createMultiPoint(i)}}},Ku.prototype.interfaces_=function(){return[mr]},Ku.prototype.getClass=function(){return Ku},Ku.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.getDefaultCoordinateSequenceFactory=function(){return qu.instance()},Ku.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Ku.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},$u.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Ku,$u);var Zu=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Ju=function(t){this.geometryFactory=t||new Ku};Ju.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!Qu[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==Zu.indexOf(n)?Qu[n].apply(this,[e.coordinates]):"GeometryCollection"===n?Qu[n].apply(this,[e.geometries]):Qu[n].apply(this,[e])},Ju.prototype.write=function(t){var e=t.getGeometryType();if(!tc[e])throw new Error("Geometry is not supported");return tc[e].apply(this,[t])};var Qu={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!Qu[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=Qu.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new el(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new el(t[0],t[1]),new el(t[2],t[1]),new el(t[2],t[3]),new el(t[0],t[3]),new el(t[0],t[1])])},Point:function(t){var e=new el(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Qu.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=Qu.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(Qu.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=Qu.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=t[r],s=Qu.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(Qu.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},tc={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:tc.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=tc.Point.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(tc.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=tc.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=tc.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=t._holes[i],o=tc.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=tc.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(tc[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}},ec=function(t){this.geometryFactory=t||new Ku,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Ju(this.geometryFactory)};ec.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===Uu.FIXED&&this.reducePrecision(e),e},ec.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var nc=function(){this.parser=new Ju(this.geometryFactory)};nc.prototype.write=function(t){return this.parser.write(t)};var ic=function(){},rc={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};ic.prototype.interfaces_=function(){return[]},ic.prototype.getClass=function(){return ic},ic.opposite=function(t){return t===ic.LEFT?ic.RIGHT:t===ic.RIGHT?ic.LEFT:t},rc.ON.get=function(){return 0},rc.LEFT.get=function(){return 1},rc.RIGHT.get=function(){return 2},Object.defineProperties(ic,rc),(Tr.prototype=new Error).name="EmptyStackException",(Nr.prototype=new tu).add=function(t){return this.array_.push(t),!0},Nr.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Nr.prototype.push=function(t){return this.array_.push(t),t},Nr.prototype.pop=function(t){if(0===this.array_.length)throw new Tr;return this.array_.pop()},Nr.prototype.peek=function(){if(0===this.array_.length)throw new Tr;return this.array_[this.array_.length-1]},Nr.prototype.empty=function(){return 0===this.array_.length},Nr.prototype.isEmpty=function(){return this.empty()},Nr.prototype.search=function(t){return this.array_.indexOf(t)},Nr.prototype.size=function(){return this.array_.length},Nr.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var oc=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};oc.prototype.getCoordinate=function(){return this._minCoord},oc.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},oc.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();Pl.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=Fl.computeOrientation(this._minCoord,n,e),r=!1;e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===Fl.COUNTERCLOCKWISE?r=!0:e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===Fl.CLOCKWISE&&(r=!0),r&&(this._minIndex=this._minIndex-1)},oc.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=ic.LEFT;return n[e].y<n[e+1].y&&(i=ic.RIGHT),i},oc.prototype.getEdge=function(){return this._orientedDe},oc.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},oc.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},oc.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}Pl.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===ic.LEFT&&(this._orientedDe=this._minDe.getSym())},oc.prototype.interfaces_=function(){return[]},oc.prototype.getClass=function(){return oc};var sc=function(t){function e(n,i){t.call(this,e.msgWithCoord(n,i)),this.pt=i?new el(i):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Nl),ac=function(){this.array_=[]};ac.prototype.addLast=function(t){this.array_.push(t)},ac.prototype.removeFirst=function(){return this.array_.shift()},ac.prototype.isEmpty=function(){return 0===this.array_.length};var lc=function(){this._finder=null,this._dirEdgeList=new eu,this._nodes=new eu,this._rightMostCoord=null,this._env=null,this._finder=new oc};lc.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},lc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},lc.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new sc("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var o=r.next();o.setVisited(!0),this.copySymDepths(o)}},lc.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(ic.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},lc.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},lc.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(ic.RIGHT)>=1&&e.getDepth(ic.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},lc.prototype.computeDepths=function(t){var e=new cu,n=new ac,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},lc.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},lc.prototype.getEnvelope=function(){if(null===this._env){for(var t=new El,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env},lc.prototype.addReachable=function(t){var e=new Nr;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},lc.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(ic.LEFT,t.getDepth(ic.RIGHT)),e.setDepth(ic.RIGHT,t.getDepth(ic.LEFT))},lc.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}},lc.prototype.getNodes=function(){return this._nodes},lc.prototype.getDirectedEdges=function(){return this._dirEdgeList},lc.prototype.interfaces_=function(){return[Ja]},lc.prototype.getClass=function(){return lc};var uc=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[ic.ON]=n}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[ic.ON]=o,this.location[ic.LEFT]=s,this.location[ic.RIGHT]=a}};uc.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},uc.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==ol.NONE)return!1;return!0},uc.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===ol.NONE&&(this.location[e]=t)},uc.prototype.isLine=function(){return 1===this.location.length},uc.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[ic.ON]=this.location[ic.ON],e[ic.LEFT]=ol.NONE,e[ic.RIGHT]=ol.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===ol.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},uc.prototype.getLocations=function(){return this.location},uc.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[ic.LEFT];this.location[ic.LEFT]=this.location[ic.RIGHT],this.location[ic.RIGHT]=t},uc.prototype.toString=function(){var t=new cl;return this.location.length>1&&t.append(ol.toLocationSymbol(this.location[ic.LEFT])),t.append(ol.toLocationSymbol(this.location[ic.ON])),this.location.length>1&&t.append(ol.toLocationSymbol(this.location[ic.RIGHT])),t.toString()},uc.prototype.setLocations=function(t,e,n){this.location[ic.ON]=t,this.location[ic.LEFT]=e,this.location[ic.RIGHT]=n},uc.prototype.get=function(t){return t<this.location.length?this.location[t]:ol.NONE},uc.prototype.isArea=function(){return this.location.length>1},uc.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===ol.NONE)return!0;return!1},uc.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(ic.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},uc.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(ol.NONE)},uc.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},uc.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},uc.prototype.interfaces_=function(){return[]},uc.prototype.getClass=function(){return uc};var cc=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new uc(e),this.elt[1]=new uc(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new uc(n.elt[0]),this.elt[1]=new uc(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new uc(ol.NONE),this.elt[1]=new uc(ol.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new uc(o,s,a),this.elt[1]=new uc(o,s,a)}else if(4===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new uc(ol.NONE,ol.NONE,ol.NONE),this.elt[1]=new uc(ol.NONE,ol.NONE,ol.NONE),this.elt[l].setLocations(u,c,h)}};cc.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},cc.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},cc.prototype.isNull=function(t){return this.elt[t].isNull()},cc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},cc.prototype.isLine=function(t){return this.elt[t].isLine()},cc.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new uc(t.elt[e]):this.elt[e].merge(t.elt[e])},cc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},cc.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(ic.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},cc.prototype.toString=function(){var t=new cl;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},cc.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},cc.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},cc.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(ic.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}},cc.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},cc.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},cc.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new uc(this.elt[t].location[0]))},cc.prototype.interfaces_=function(){return[]},cc.prototype.getClass=function(){return cc},cc.toLineLabel=function(t){for(var e=new cc(ol.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var hc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new eu,this._pts=new eu,this._label=new cc(ol.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new eu,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};hc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Fl.isCCW(this._ring.getCoordinates())},hc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},hc.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new sc("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new sc("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var i=e.getLabel();Pl.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},hc.prototype.getLinearRing=function(){return this._ring},hc.prototype.getCoordinate=function(t){return this._pts.get(t)},hc.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},hc.prototype.addPoints=function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this._pts.add(i[o])}else{var s=i.length-2;n&&(s=i.length-1);for(var a=s;a>=0;a--)this._pts.add(i[a])}},hc.prototype.isHole=function(){return this._isHole},hc.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},hc.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Fl.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},hc.prototype.addHole=function(t){this._holes.add(t)},hc.prototype.isShell=function(){return null===this._shell},hc.prototype.getLabel=function(){return this._label},hc.prototype.getEdges=function(){return this._edges},hc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},hc.prototype.getShell=function(){return this._shell},hc.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e.getLocation(n,ic.RIGHT);if(i===ol.NONE)return null;if(this._label.getLocation(n)===ol.NONE)return this._label.setLocation(n,i),null}},hc.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},hc.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},hc.prototype.interfaces_=function(){return[]},hc.prototype.getClass=function(){return hc};var fc=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hc),pc=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new eu,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new fc(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(hc),dc=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};dc.prototype.setVisited=function(t){this._isVisited=t},dc.prototype.setInResult=function(t){this._isInResult=t},dc.prototype.isCovered=function(){return this._isCovered},dc.prototype.isCoveredSet=function(){return this._isCoveredSet},dc.prototype.setLabel=function(t){this._label=t},dc.prototype.getLabel=function(){return this._label},dc.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},dc.prototype.updateIM=function(t){Pl.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},dc.prototype.isInResult=function(){return this._isInResult},dc.prototype.isVisited=function(){return this._isVisited},dc.prototype.interfaces_=function(){return[]},dc.prototype.getClass=function(){return dc};var gc=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new cc(0,ol.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=ol.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==ol.BOUNDARY&&(n=i)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new cc(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof cc)for(var n=arguments[0],i=0;i<2;i++){var r=this.computeMergedLocation(n,i);this._label.getLocation(i)===ol.NONE&&this._label.setLocation(i,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=ol.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case ol.BOUNDARY:n=ol.INTERIOR;break;case ol.INTERIOR:default:n=ol.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(dc),mc=function(){this.nodeMap=new Sr,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};mc.prototype.find=function(t){return this.nodeMap.get(t)},mc.prototype.addNode=function(){if(arguments[0]instanceof el){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof gc){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}},mc.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},mc.prototype.iterator=function(){return this.nodeMap.values().iterator()},mc.prototype.values=function(){return this.nodeMap.values()},mc.prototype.getBoundaryNodes=function(t){for(var e=new eu,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===ol.BOUNDARY&&e.add(i)}return e},mc.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},mc.prototype.interfaces_=function(){return[]},mc.prototype.getClass=function(){return mc};var vc=function(){},yc={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};vc.prototype.interfaces_=function(){return[]},vc.prototype.getClass=function(){return vc},vc.isNorthern=function(t){return t===vc.NE||t===vc.NW},vc.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},vc.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},vc.isInHalfPlane=function(t,e){return e===vc.SE?t===vc.SE||t===vc.SW:t===e||t===e+1},vc.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Ka("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?vc.NE:vc.SE:e>=0?vc.NW:vc.SW}if(arguments[0]instanceof el&&arguments[1]instanceof el){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new Ka("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?vc.NE:vc.SE:i.y>=n.y?vc.NW:vc.SW}},yc.NE.get=function(){return 0},yc.NW.get=function(){return 1},yc.SW.get=function(){return 2},yc.SE.get=function(){return 3},Object.defineProperties(vc,yc);var _c=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];this._edge=e,this.init(n,i),this._label=null}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=r,this.init(o,s),this._label=a}};_c.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Fl.computeOrientation(t._p0,t._p1,this._p1)},_c.prototype.getDy=function(){return this._dy},_c.prototype.getCoordinate=function(){return this._p0},_c.prototype.setNode=function(t){this._node=t},_c.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},_c.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},_c.prototype.getDirectedCoordinate=function(){return this._p1},_c.prototype.getDx=function(){return this._dx},_c.prototype.getLabel=function(){return this._label},_c.prototype.getEdge=function(){return this._edge},_c.prototype.getQuadrant=function(){return this._quadrant},_c.prototype.getNode=function(){return this._node},_c.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},_c.prototype.computeLabel=function(t){},_c.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=vc.quadrant(this._dx,this._dy),Pl.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},_c.prototype.interfaces_=function(){return[Ja]},_c.prototype.getClass=function(){return _c};var bc=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var i=e.getNumPoints()-1;this.init(e.getCoordinate(i),e.getCoordinate(i-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new cc(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new sc("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,ic.LEFT)===ol.INTERIOR&&this._label.getLocation(e,ic.RIGHT)===ol.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[ic.LEFT]+"/"+this._depth[ic.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,ol.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,ol.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===ic.LEFT&&(i=-1);var r=ic.opposite(t),o=e+n*i;this.setDepth(t,e),this.setDepth(r,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===ol.EXTERIOR&&e===ol.INTERIOR?1:t===ol.INTERIOR&&e===ol.EXTERIOR?-1:0},e}(_c),xc=function(){};xc.prototype.createNode=function(t){return new gc(t,null)},xc.prototype.interfaces_=function(){return[]},xc.prototype.getClass=function(){return xc};var wc=function(){if(this._edges=new eu,this._nodes=null,this._edgeEndList=new eu,0===arguments.length)this._nodes=new mc(new xc);else if(1===arguments.length){var t=arguments[0];this._nodes=new mc(t)}};wc.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},wc.prototype.find=function(t){return this._nodes.find(t)},wc.prototype.addNode=function(){if(arguments[0]instanceof gc){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof el){var e=arguments[0];return this._nodes.addNode(e)}},wc.prototype.getNodeIterator=function(){return this._nodes.iterator()},wc.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},wc.prototype.debugPrintln=function(t){xl.out.println(t)},wc.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===ol.BOUNDARY},wc.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},wc.prototype.matchInSameDirection=function(t,e,n,i){return!!t.equals(n)&&Fl.computeOrientation(t,e,i)===Fl.COLLINEAR&&vc.quadrant(t,e)===vc.quadrant(n,i)},wc.prototype.getEdgeEnds=function(){return this._edgeEndList},wc.prototype.debugPrint=function(t){xl.out.print(t)},wc.prototype.getEdgeIterator=function(){return this._edges.iterator()},wc.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},wc.prototype.insertEdge=function(t){this._edges.add(t)},wc.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},wc.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var i=new bc(n,!0),r=new bc(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},wc.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},wc.prototype.getNodes=function(){return this._nodes.values()},wc.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},wc.prototype.interfaces_=function(){return[]},wc.prototype.getClass=function(){return wc},wc.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var Ec=function(){this._geometryFactory=null,this._shellList=new eu;var t=arguments[0];this._geometryFactory=t};Ec.prototype.sortShellsAndHoles=function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},Ec.prototype.computePolygons=function(t){for(var e=new eu,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e},Ec.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new sc("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},Ec.prototype.buildMinimalEdgeRings=function(t,e,n){for(var i=new eu,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else i.add(o)}return i},Ec.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},Ec.prototype.buildMaximalEdgeRings=function(t){for(var e=new eu,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new pc(i,this._geometryFactory);e.add(r),r.setInResult()}}return e},Ec.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},Ec.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Ec.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var l=a.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(i)&&Fl.isPointInRing(r,u.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(o=l)}return o},Ec.prototype.findShell=function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return Pl.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},Ec.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];wc.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new eu,o=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},Ec.prototype.interfaces_=function(){return[]},Ec.prototype.getClass=function(){return Ec};var Cc=function(){};Cc.prototype.getBounds=function(){},Cc.prototype.interfaces_=function(){return[]},Cc.prototype.getClass=function(){return Cc};var Sc=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Sc.prototype.getItem=function(){return this._item},Sc.prototype.getBounds=function(){return this._bounds},Sc.prototype.interfaces_=function(){return[Cc,mr]},Sc.prototype.getClass=function(){return Sc};var Mc=function(){this._size=null,this._items=null,this._size=0,this._items=new eu,this._items.add(null)};Mc.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Mc.prototype.size=function(){return this._size},Mc.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Mc.prototype.clear=function(){this._size=0,this._items.clear()},Mc.prototype.isEmpty=function(){return 0===this._size},Mc.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Mc.prototype.interfaces_=function(){return[]},Mc.prototype.getClass=function(){return Mc};var Ic=function(){};Ic.prototype.visitItem=function(t){},Ic.prototype.interfaces_=function(){return[]},Ic.prototype.getClass=function(){return Ic};var Oc=function(){};Oc.prototype.insert=function(t,e){},Oc.prototype.remove=function(t,e){},Oc.prototype.query=function(){},Oc.prototype.interfaces_=function(){return[]},Oc.prototype.getClass=function(){return Oc};var Tc=function(){if(this._childBoundables=new eu,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Nc={serialVersionUID:{configurable:!0}};Tc.prototype.getLevel=function(){return this._level},Tc.prototype.size=function(){return this._childBoundables.size()},Tc.prototype.getChildBoundables=function(){return this._childBoundables},Tc.prototype.addChildBoundable=function(t){Pl.isTrue(null===this._bounds),this._childBoundables.add(t)},Tc.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Tc.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Tc.prototype.interfaces_=function(){return[Cc,mr]},Tc.prototype.getClass=function(){return Tc},Nc.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Tc,Nc);var kc=function(){};kc.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},kc.min=function(t){return kc.sort(t),t.get(0)},kc.sort=function(t,e){var n=t.toArray();e?gu.sort(n,e):gu.sort(n);for(var i=t.iterator(),r=0,o=n.length;r<o;r++)i.next(),i.set(n[r])},kc.singletonList=function(t){var e=new eu;return e.add(t),e};var Pc=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};Pc.prototype.expandToQueue=function(t,e){var n=Pc.isComposite(this._boundable1),i=Pc.isComposite(this._boundable2);if(n&&i)return Pc.area(this._boundable1)>Pc.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new Ka("neither boundable is composite")},Pc.prototype.isLeaves=function(){return!(Pc.isComposite(this._boundable1)||Pc.isComposite(this._boundable2))},Pc.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},Pc.prototype.expand=function(t,e,n,i){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next(),s=new Pc(o,e,this._itemDistance);s.getDistance()<i&&n.add(s)}},Pc.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},Pc.prototype.getDistance=function(){return this._distance},Pc.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Pc.prototype.interfaces_=function(){return[Ja]},Pc.prototype.getClass=function(){return Pc},Pc.area=function(t){return t.getBounds().getArea()},Pc.isComposite=function(t){return t instanceof Tc};var Ac=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new eu,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];Pl.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},Lc={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Ac.prototype.getNodeCapacity=function(){return this._nodeCapacity},Ac.prototype.lastNode=function(t){return t.get(t.size()-1)},Ac.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Tc?t+=this.size(n):n instanceof Sc&&(t+=1)}return t}},Ac.prototype.removeItem=function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof Sc&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},Ac.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new eu:t}if(1===arguments.length){for(var e=arguments[0],n=new eu,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof Tc){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof Sc?n.add(r.getItem()):Pl.shouldNeverReachHere()}return n.size()<=0?null:n}},Ac.prototype.insert=function(t,e){Pl.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Sc(t,e))},Ac.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new eu;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(Pl.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Tc?this.boundablesAtLevel(n,s,r):(Pl.isTrue(s instanceof Sc),-1===n&&r.add(s))}return null}},Ac.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new eu;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,i)}else if(3===arguments.length)if(al(arguments[2],Ic)&&arguments[0]instanceof Object&&arguments[1]instanceof Tc)for(var r=arguments[0],o=arguments[1],s=arguments[2],a=o.getChildBoundables(),l=0;l<a.size();l++){var u=a.get(l);this.getIntersectsOp().intersects(u.getBounds(),r)&&(u instanceof Tc?this.query(r,u,s):u instanceof Sc?s.visitItem(u.getItem()):Pl.shouldNeverReachHere())}else if(al(arguments[2],tu)&&arguments[0]instanceof Object&&arguments[1]instanceof Tc)for(var c=arguments[0],h=arguments[1],f=arguments[2],p=h.getChildBoundables(),d=0;d<p.size();d++){var g=p.get(d);this.getIntersectsOp().intersects(g.getBounds(),c)&&(g instanceof Tc?this.query(c,g,f):g instanceof Sc?f.add(g.getItem()):Pl.shouldNeverReachHere())}},Ac.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Ac.prototype.getRoot=function(){return this.build(),this._root},Ac.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var l=a.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof Tc&&(o=this.remove(n,l,r))){s=l;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}},Ac.prototype.createHigherLevels=function(t,e){Pl.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},Ac.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Tc){var i=this.depth(n);i>t&&(t=i)}}return t+1}},Ac.prototype.createParentBoundables=function(t,e){Pl.isTrue(!t.isEmpty());var n=new eu;n.add(this.createNode(e));var i=new eu(t);kc.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},Ac.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Ac.prototype.interfaces_=function(){return[mr]},Ac.prototype.getClass=function(){return Ac},Ac.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Lc.IntersectsOp.get=function(){return Dc},Lc.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Lc.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Ac,Lc);var Dc=function(){},Rc=function(){};Rc.prototype.distance=function(t,e){},Rc.prototype.interfaces_=function(){return[]},Rc.prototype.getClass=function(){return Rc};var jc=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){Pl.isTrue(t.length>0);for(var n=new eu,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},e.prototype.createNode=function(t){return new Fc(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new eu;for(var s=0;r.hasNext()&&s<n;){var a=r.next();i[o].add(a),s++}}return i},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];t.prototype.query.call(this,n,i)}else if(3===arguments.length)if(al(arguments[2],Ic)&&arguments[0]instanceof Object&&arguments[1]instanceof Tc){var r=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,r,o,s)}else if(al(arguments[2],tu)&&arguments[0]instanceof Object&&arguments[1]instanceof Tc){var a=arguments[0],l=arguments[1],u=arguments[2];t.prototype.query.call(this,a,l,u)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){Pl.isTrue(!t.isEmpty());var i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new eu(t);kc.sort(r,e.xComparator);var o=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(al(arguments[0],Rc)){var t=arguments[0],n=new Pc(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof Pc){var i=arguments[0];return this.nearestNeighbour(i,$a.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&al(arguments[1],Rc)){var r=arguments[0],o=arguments[1],s=new Pc(this.getRoot(),r.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof Pc&&"number"==typeof arguments[1]){var a=arguments[0],l=arguments[1],u=null,c=new Mc;for(c.add(a);!c.isEmpty()&&l>0;){var h=c.poll(),f=h.getDistance();if(f>=l)break;h.isLeaves()?(l=f,u=h):h.expandToQueue(c,l)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var p=arguments[0],d=arguments[1],g=arguments[2],m=new Sc(p,d),v=new Pc(this.getRoot(),m,g);return this.nearestNeighbour(v)[0]}},e.prototype.interfaces_=function(){return[Oc,mr]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return Fc},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[tl]},compare:function(n,i){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(i.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[tl]},compare:function(n,i){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(i.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(Ac),Fc=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new El(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Tc),zc=function(){};zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc},zc.relativeSign=function(t,e){return t<e?-1:t>e?1:0},zc.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=zc.relativeSign(e.x,n.x),r=zc.relativeSign(e.y,n.y);switch(t){case 0:return zc.compareValue(i,r);case 1:return zc.compareValue(r,i);case 2:return zc.compareValue(r,-i);case 3:return zc.compareValue(-i,r);case 4:return zc.compareValue(-i,-r);case 5:return zc.compareValue(-r,-i);case 6:return zc.compareValue(-r,i);case 7:return zc.compareValue(i,-r)}return Pl.shouldNeverReachHere("invalid octant value"),0},zc.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Bc=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new el(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))};Bc.prototype.getCoordinate=function(){return this.coord},Bc.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Bc.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:zc.compare(this._segmentOctant,this.coord,e.coord)},Bc.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Bc.prototype.isInterior=function(){return this._isInterior},Bc.prototype.interfaces_=function(){return[Ja]},Bc.prototype.getClass=function(){return Bc};var Gc=function(){this._nodeMap=new Sr,this._edge=null;var t=arguments[0];this._edge=t};Gc.prototype.getSplitCoordinates=function(){var t=new iu;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},Gc.prototype.addCollapsedNodes=function(){var t=new eu;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},Gc.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Gc.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(new hl(e+1))}},Gc.prototype.addEdgeCoordinates=function(t,e,n){var i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);n.add(new el(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));r&&n.add(new el(e.coord))},Gc.prototype.iterator=function(){return this._nodeMap.values().iterator()},Gc.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Gc.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},Gc.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new hl(e[0])),i=r}},Gc.prototype.getEdge=function(){return this._edge},Gc.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},Gc.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new el(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return r&&(o[s]=new el(e.coord)),new Uc(o,this._edge.getData())},Gc.prototype.add=function(t,e){var n=new Bc(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(Pl.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)},Gc.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Nl("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new Nl("bad split edge end point at "+r)},Gc.prototype.interfaces_=function(){return[]},Gc.prototype.getClass=function(){return Gc};var qc=function(){};qc.prototype.interfaces_=function(){return[]},qc.prototype.getClass=function(){return qc},qc.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Ka("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof el&&arguments[1]instanceof el){var r=arguments[0],o=arguments[1],s=o.x-r.x,a=o.y-r.y;if(0===s&&0===a)throw new Ka("Cannot compute the octant for two identical points "+r);return qc.octant(s,a)}};var Hc=function(){};Hc.prototype.getCoordinates=function(){},Hc.prototype.size=function(){},Hc.prototype.getCoordinate=function(t){},Hc.prototype.isClosed=function(){},Hc.prototype.setData=function(t){},Hc.prototype.getData=function(){},Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc};var Wc=function(){};Wc.prototype.addIntersection=function(t,e){},Wc.prototype.interfaces_=function(){return[Hc]},Wc.prototype.getClass=function(){return Wc};var Uc=function(){this._nodeList=new Gc(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};Uc.prototype.getCoordinates=function(){return this._pts},Uc.prototype.size=function(){return this._pts.length},Uc.prototype.getCoordinate=function(t){return this._pts[t]},Uc.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Uc.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},Uc.prototype.setData=function(t){this._data=t},Uc.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:qc.octant(t,e)},Uc.prototype.getData=function(){return this._data},Uc.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[3],o=new el(n.getIntersection(r));this.addIntersection(o,i)}},Uc.prototype.toString=function(){return Tl.toLineString(new Bu(this._pts))},Uc.prototype.getNodeList=function(){return this._nodeList},Uc.prototype.addIntersectionNode=function(t,e){var n=e,i=n+1;if(i<this._pts.length){var r=this._pts[i];t.equals2D(r)&&(n=i)}return this._nodeList.add(t,n)},Uc.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},Uc.prototype.interfaces_=function(){return[Wc]},Uc.prototype.getClass=function(){return Uc},Uc.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new eu;return Uc.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(i)};var Yc=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new el,this.p1=new el;else if(1===arguments.length){var t=arguments[0];this.p0=new el(t.p0),this.p1=new el(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];this.p0=new el(e,n),this.p1=new el(i,r)}},Vc={serialVersionUID:{configurable:!0}};Yc.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Yc.prototype.orientationIndex=function(){if(arguments[0]instanceof Yc){var t=arguments[0],e=Fl.orientationIndex(this.p0,this.p1,t.p0),n=Fl.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof el){var i=arguments[0];return Fl.orientationIndex(this.p0,this.p1,i)}},Yc.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Yc.prototype.isVertical=function(){return this.p0.x===this.p1.x},Yc.prototype.equals=function(t){if(!(t instanceof Yc))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Yc.prototype.intersection=function(t){var e=new Dl;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Yc.prototype.project=function(){if(arguments[0]instanceof el){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new el(t);var e=this.projectionFactor(t),n=new el;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Yc){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(r>=1&&o>=1)return null;if(r<=0&&o<=0)return null;var s=this.project(i.p0);r<0&&(s=this.p0),r>1&&(s=this.p1);var a=this.project(i.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new Yc(s,a)}},Yc.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Yc.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Yc.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Yc.prototype.distancePerpendicular=function(t){return Fl.distancePointLinePerpendicular(t,this.p0,this.p1)},Yc.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Yc.prototype.midPoint=function(){return Yc.midPoint(this.p0,this.p1)},Yc.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?$a.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},Yc.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=$a.MAX_VALUE,r=null,o=this.closestPoint(t.p0);i=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(r=s.distance(t.p1))<i&&(i=r,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=a);var l=t.closestPoint(this.p1);return(r=l.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=l),n},Yc.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Yc.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Yc.prototype.getLength=function(){return this.p0.distance(this.p1)},Yc.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},Yc.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Yc.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Yc.prototype.lineIntersection=function(t){try{return wl.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof bl))throw t}return null},Yc.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Yc.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,l=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*r/s,l=e*o/s}return new el(n-l,i+a)},Yc.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},Yc.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||$a.isNaN(e))&&(e=1),e},Yc.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Yc.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Yc.prototype.distance=function(){if(arguments[0]instanceof Yc){var t=arguments[0];return Fl.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof el){var e=arguments[0];return Fl.distancePointLine(e,this.p0,this.p1)}},Yc.prototype.pointAlong=function(t){var e=new el;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Yc.prototype.hashCode=function(){var t=$a.doubleToLongBits(this.p0.x);t^=31*$a.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=$a.doubleToLongBits(this.p1.x);return n^=31*$a.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},Yc.prototype.interfaces_=function(){return[Ja,mr]},Yc.prototype.getClass=function(){return Yc},Yc.midPoint=function(t,e){return new el((t.x+e.x)/2,(t.y+e.y)/2)},Vc.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Yc,Vc);var Xc=function(){this.tempEnv1=new El,this.tempEnv2=new El,this._overlapSeg1=new Yc,this._overlapSeg2=new Yc};Xc.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Xc.prototype.interfaces_=function(){return[]},Xc.prototype.getClass=function(){return Xc};var Kc=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i};Kc.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Kc.prototype.computeSelect=function(t,e,n,i){var r=this._pts[e],o=this._pts[n];if(i.tempEnv1.init(r,o),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,i),s<n&&this.computeSelect(t,s,n,i)},Kc.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},Kc.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Kc.prototype.setId=function(t){this._id=t},Kc.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Kc.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new El(t,e)}return this._env},Kc.prototype.getEndIndex=function(){return this._end},Kc.prototype.getStartIndex=function(){return this._start},Kc.prototype.getContext=function(){return this._context},Kc.prototype.getId=function(){return this._id},Kc.prototype.computeOverlapsInternal=function(t,e,n,i,r,o){var s=this._pts[t],a=this._pts[e],l=n._pts[i],u=n._pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(l,u),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((i+r)/2);t<c&&(i<h&&this.computeOverlapsInternal(t,c,n,i,h,o),h<r&&this.computeOverlapsInternal(t,c,n,h,r,o)),c<e&&(i<h&&this.computeOverlapsInternal(c,e,n,i,h,o),h<r&&this.computeOverlapsInternal(c,e,n,h,r,o))},Kc.prototype.interfaces_=function(){return[]},Kc.prototype.getClass=function(){return Kc};var $c=function(){};$c.prototype.interfaces_=function(){return[]},$c.prototype.getClass=function(){return $c},$c.getChainStartIndices=function(t){var e=0,n=new eu;n.add(new hl(e));do{var i=$c.findChainEnd(t,e);n.add(new hl(i)),e=i}while(e<t.length-1);return $c.toIntArray(n)},$c.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=vc.quadrant(t[n],t[n+1]),r=e+1;r<t.length&&(t[r-1].equals2D(t[r])||vc.quadrant(t[r-1],t[r])===i);)r++;return r-1},$c.getChains=function(){if(1===arguments.length){var t=arguments[0];return $c.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new eu,r=$c.getChainStartIndices(e),o=0;o<r.length-1;o++){var s=new Kc(e,r[o],r[o+1],n);i.add(s)}return i}},$c.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Zc=function(){};Zc.prototype.computeNodes=function(t){},Zc.prototype.getNodedSubstrings=function(){},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var Jc=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};Jc.prototype.setSegmentIntersector=function(t){this._segInt=t},Jc.prototype.interfaces_=function(){return[Zc]},Jc.prototype.getClass=function(){return Jc};var Qc=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new eu,this._index=new jc,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return Uc.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=$c.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new th(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return th},Object.defineProperties(e,n),e}(Jc),th=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3],o=e.getContext(),s=i.getContext();this._si.processIntersections(o,n,s,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xc),eh=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},nh={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};eh.prototype.getEndCapStyle=function(){return this._endCapStyle},eh.prototype.isSingleSided=function(){return this._isSingleSided},eh.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=eh.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=eh.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==eh.JOIN_ROUND&&(this._quadrantSegments=eh.DEFAULT_QUADRANT_SEGMENTS)},eh.prototype.getJoinStyle=function(){return this._joinStyle},eh.prototype.setJoinStyle=function(t){this._joinStyle=t},eh.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},eh.prototype.getSimplifyFactor=function(){return this._simplifyFactor},eh.prototype.getQuadrantSegments=function(){return this._quadrantSegments},eh.prototype.setEndCapStyle=function(t){this._endCapStyle=t},eh.prototype.getMitreLimit=function(){return this._mitreLimit},eh.prototype.setMitreLimit=function(t){this._mitreLimit=t},eh.prototype.setSingleSided=function(t){this._isSingleSided=t},eh.prototype.interfaces_=function(){return[]},eh.prototype.getClass=function(){return eh},eh.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},nh.CAP_ROUND.get=function(){return 1},nh.CAP_FLAT.get=function(){return 2},nh.CAP_SQUARE.get=function(){return 3},nh.JOIN_ROUND.get=function(){return 1},nh.JOIN_MITRE.get=function(){return 2},nh.JOIN_BEVEL.get=function(){return 3},nh.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},nh.DEFAULT_MITRE_LIMIT.get=function(){return 5},nh.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(eh,nh);var ih=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Fl.COUNTERCLOCKWISE,this._inputLine=t||null},rh={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};ih.prototype.isDeletable=function(t,e,n,i){var r=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(r,o,s)&&!!this.isShallow(r,o,s,i)&&this.isShallowSampled(r,o,t,n,i)},ih.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),i=!1;n<this._inputLine.length;){var r=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=ih.DELETE,r=!0,i=!0),t=r?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},ih.prototype.isShallowConcavity=function(t,e,n,i){return Fl.computeOrientation(t,e,n)===this._angleOrientation&&Fl.distancePointLine(e,t,n)<i},ih.prototype.isShallowSampled=function(t,e,n,i,r){var o=Math.trunc((i-n)/ih.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<i;s+=o)if(!this.isShallow(t,e,this._inputLine[s],r))return!1;return!0},ih.prototype.isConcave=function(t,e,n){var i=Fl.computeOrientation(t,e,n)===this._angleOrientation;return i},ih.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Fl.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},ih.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===ih.DELETE;)e++;return e},ih.prototype.isShallow=function(t,e,n,i){return Fl.distancePointLine(e,t,n)<i},ih.prototype.collapseLine=function(){for(var t=new iu,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==ih.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},ih.prototype.interfaces_=function(){return[]},ih.prototype.getClass=function(){return ih},ih.simplify=function(t,e){return new ih(t).simplify(e)},rh.INIT.get=function(){return 0},rh.DELETE.get=function(){return 1},rh.KEEP.get=function(){return 1},rh.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(ih,rh);var oh=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new eu},sh={COORDINATE_ARRAY_TYPE:{configurable:!0}};oh.prototype.getCoordinates=function(){return this._ptList.toArray(oh.COORDINATE_ARRAY_TYPE)},oh.prototype.setPrecisionModel=function(t){this._precisionModel=t},oh.prototype.addPt=function(t){var e=new el(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},oh.prototype.revere=function(){},oh.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])},oh.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},oh.prototype.toString=function(){return(new Ku).createLineString(this.getCoordinates()).toString()},oh.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new el(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},oh.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},oh.prototype.interfaces_=function(){return[]},oh.prototype.getClass=function(){return oh},sh.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(oh,sh);var ah=function(){},lh={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};ah.prototype.interfaces_=function(){return[]},ah.prototype.getClass=function(){return ah},ah.toDegrees=function(t){return 180*t/Math.PI},ah.normalize=function(t){for(;t>Math.PI;)t-=ah.PI_TIMES_2;for(;t<=-Math.PI;)t+=ah.PI_TIMES_2;return t},ah.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},ah.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0},ah.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0},ah.interiorAngle=function(t,e,n){var i=ah.angle(e,t),r=ah.angle(e,n);return Math.abs(r-i)},ah.normalizePositive=function(t){if(t<0){for(;t<0;)t+=ah.PI_TIMES_2;t>=ah.PI_TIMES_2&&(t=0)}else{for(;t>=ah.PI_TIMES_2;)t-=ah.PI_TIMES_2;t<0&&(t=0)}return t},ah.angleBetween=function(t,e,n){var i=ah.angle(e,t),r=ah.angle(e,n);return ah.diff(i,r)},ah.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},ah.toRadians=function(t){return t*Math.PI/180},ah.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?ah.COUNTERCLOCKWISE:n<0?ah.CLOCKWISE:ah.NONE},ah.angleBetweenOriented=function(t,e,n){var i=ah.angle(e,t),r=ah.angle(e,n)-i;return r<=-Math.PI?r+ah.PI_TIMES_2:r>Math.PI?r-ah.PI_TIMES_2:r},lh.PI_TIMES_2.get=function(){return 2*Math.PI},lh.PI_OVER_2.get=function(){return Math.PI/2},lh.PI_OVER_4.get=function(){return Math.PI/4},lh.COUNTERCLOCKWISE.get=function(){return Fl.COUNTERCLOCKWISE},lh.CLOCKWISE.get=function(){return Fl.CLOCKWISE},lh.NONE.get=function(){return Fl.COLLINEAR},Object.defineProperties(ah,lh);var uh=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Yc,this._seg1=new Yc,this._offset0=new Yc,this._offset1=new Yc,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new Dl,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===eh.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)},ch={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};uh.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=Fl.computeOrientation(this._s0,this._s1,this._s2),i=n===Fl.CLOCKWISE&&this._side===ic.LEFT||n===Fl.COUNTERCLOCKWISE&&this._side===ic.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},uh.prototype.addLineEndCap=function(t,e){var n=new Yc(t,e),i=new Yc;this.computeOffsetSegment(n,ic.LEFT,this._distance,i);var r=new Yc;this.computeOffsetSegment(n,ic.RIGHT,this._distance,r);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case eh.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,Fl.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case eh.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case eh.CAP_SQUARE:var l=new el;l.x=Math.abs(this._distance)*Math.cos(a),l.y=Math.abs(this._distance)*Math.sin(a);var u=new el(i.p1.x+l.x,i.p1.y+l.y),c=new el(r.p1.x+l.x,r.p1.y+l.y);this._segList.addPt(u),this._segList.addPt(c)}},uh.prototype.getCoordinates=function(){return this._segList.getCoordinates()},uh.prototype.addMitreJoin=function(t,e,n,i){var r=!0,o=null;try{o=wl.intersection(e.p0,e.p1,n.p0,n.p1),(i<=0?1:o.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof bl))throw t;o=new el(0,0),r=!1}r?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())},uh.prototype.addFilletCorner=function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),l=n.x-t.x,u=n.y-t.y,c=Math.atan2(u,l);i===Fl.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,c,i,r),this._segList.addPt(n)},uh.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*uh.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===eh.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===eh.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},uh.prototype.createSquare=function(t){this._segList.addPt(new el(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new el(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new el(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new el(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},uh.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},uh.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},uh.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},uh.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},uh.prototype.addLimitedMitreJoin=function(t,e,n,i){var r=this._seg0.p1,o=ah.angle(r,this._seg0.p0),s=ah.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,a=ah.normalize(o+s),l=ah.normalize(a+Math.PI),u=i*n,c=n-u*Math.abs(Math.sin(s)),h=r.x+u*Math.cos(l),f=r.y+u*Math.sin(l),p=new el(h,f),d=new Yc(r,p),g=d.pointAlongOffset(1,c),m=d.pointAlongOffset(1,-c);this._side===ic.LEFT?(this._segList.addPt(g),this._segList.addPt(m)):(this._segList.addPt(m),this._segList.addPt(g))},uh.prototype.computeOffsetSegment=function(t,e,n,i){var r=e===ic.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),l=r*n*o/a,u=r*n*s/a;i.p0.x=t.p0.x-u,i.p0.y=t.p0.y+l,i.p1.x=t.p1.x-u,i.p1.y=t.p1.y+l},uh.prototype.addFilletArc=function(t,e,n,i,r){var o=i===Fl.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var l=s/a,u=0,c=new el;u<s;){var h=e+o*u;c.x=t.x+r*Math.cos(h),c.y=t.y+r*Math.sin(h),this._segList.addPt(c),u+=l}},uh.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*uh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new el((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var i=new el((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},uh.prototype.createCircle=function(t){var e=new el(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},uh.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},uh.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new oh,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*uh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},uh.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===eh.JOIN_BEVEL||this._bufParams.getJoinStyle()===eh.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Fl.CLOCKWISE,this._distance))},uh.prototype.closeRing=function(){this._segList.closeRing()},uh.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},uh.prototype.interfaces_=function(){return[]},uh.prototype.getClass=function(){return uh},ch.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},ch.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},ch.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},ch.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(uh,ch);var hh=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};hh.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&ru.reverse(o),o},hh.prototype.computeSingleSidedBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=ih.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],ic.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(t,!1);var a=ih.simplify(t,i),l=a.length-1;n.initSideSegments(a[0],a[1],ic.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(a[u],!0)}n.addLastSegment(),n.closeRing()},hh.prototype.computeRingBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);e===ic.RIGHT&&(i=-i);var r=ih.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(r[s],a)}n.closeRing()},hh.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),i=ih.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],ic.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=ih.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],ic.LEFT);for(var l=a-2;l>=0;l--)e.addNextSegment(s[l],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},hh.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case eh.CAP_ROUND:e.createCircle(t);break;case eh.CAP_SQUARE:e.createSquare(t)}},hh.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},hh.prototype.getBufferParameters=function(){return this._bufParams},hh.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},hh.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return hh.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},hh.prototype.computeOffsetCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=ih.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],ic.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{var a=ih.simplify(t,i),l=a.length-1;n.initSideSegments(a[0],a[1],ic.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(a[u],!0)}n.addLastSegment()},hh.prototype.getSegGen=function(t){return new uh(this._precisionModel,this._bufParams,t)},hh.prototype.interfaces_=function(){return[]},hh.prototype.getClass=function(){return hh},hh.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new el(t[n]);return e};var fh=function(){this._subgraphs=null,this._seg=new Yc,this._cga=new Fl;var t=arguments[0];this._subgraphs=t},ph={DepthSegment:{configurable:!0}};fh.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new eu,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(al(arguments[2],tu)&&arguments[0]instanceof el&&arguments[1]instanceof bc){for(var o=arguments[0],s=arguments[1],a=arguments[2],l=s.getEdge().getCoordinates(),u=0;u<l.length-1;u++)if(this._seg.p0=l[u],this._seg.p1=l[u+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||Fl.computeOrientation(this._seg.p0,this._seg.p1,o)===Fl.RIGHT)){var c=s.getDepth(ic.LEFT);this._seg.p0.equals(l[u])||(c=s.getDepth(ic.RIGHT));var h=new dh(this._seg,c);a.add(h)}}else if(al(arguments[2],tu)&&arguments[0]instanceof el&&al(arguments[1],tu))for(var f=arguments[0],p=arguments[1],d=arguments[2],g=p.iterator();g.hasNext();){var m=g.next();m.isForward()&&this.findStabbedSegments(f,m,d)}},fh.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:kc.min(e)._leftDepth},fh.prototype.interfaces_=function(){return[]},fh.prototype.getClass=function(){return fh},ph.DepthSegment.get=function(){return dh},Object.defineProperties(fh,ph);var dh=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new Yc(t),this._leftDepth=e};dh.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n?n:0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},dh.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},dh.prototype.toString=function(){return this._upwardSeg.toString()},dh.prototype.interfaces_=function(){return[Ja]},dh.prototype.getClass=function(){return dh};var gh=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};gh.prototype.area=function(){return gh.area(this.p0,this.p1,this.p2)},gh.prototype.signedArea=function(){return gh.signedArea(this.p0,this.p1,this.p2)},gh.prototype.interpolateZ=function(t){if(null===t)throw new Ka("Supplied point is null.");return gh.interpolateZ(t,this.p0,this.p1,this.p2)},gh.prototype.longestSideLength=function(){return gh.longestSideLength(this.p0,this.p1,this.p2)},gh.prototype.isAcute=function(){return gh.isAcute(this.p0,this.p1,this.p2)},gh.prototype.circumcentre=function(){return gh.circumcentre(this.p0,this.p1,this.p2)},gh.prototype.area3D=function(){return gh.area3D(this.p0,this.p1,this.p2)},gh.prototype.centroid=function(){return gh.centroid(this.p0,this.p1,this.p2)},gh.prototype.inCentre=function(){return gh.inCentre(this.p0,this.p1,this.p2)},gh.prototype.interfaces_=function(){return[]},gh.prototype.getClass=function(){return gh},gh.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},gh.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},gh.det=function(t,e,n,i){return t*i-e*n},gh.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,l=n.y-o,u=i.y-o,c=s*u-a*l,h=t.x-r,f=t.y-o,p=(u*h-a*f)/c,d=(-l*h+s*f)/c;return e.z+p*(n.z-e.z)+d*(i.z-e.z)},gh.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),s=i;return r>s&&(s=r),o>s&&(s=o),s},gh.isAcute=function(t,e,n){return!!ah.isAcute(t,e,n)&&!!ah.isAcute(e,n,t)&&!!ah.isAcute(n,t,e)},gh.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,s=t.y-r,a=e.x-i,l=e.y-r,u=2*gh.det(o,s,a,l),c=gh.det(s,o*o+s*s,l,a*a+l*l),h=gh.det(o,o*o+s*s,a,a*a+l*l);return new el(i-c/u,r+h/u)},gh.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new wl(t.x+n/2,t.y+i/2,1),o=new wl(t.x-i+n/2,t.y+n+i/2,1);return new wl(r,o)},gh.angleBisector=function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new el(t.x+r*o,t.y+r*s)},gh.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,l=n.z-t.z,u=r*l-o*a,c=o*s-i*l,h=i*a-r*s,f=u*u+c*c+h*h,p=Math.sqrt(f)/2;return p},gh.centroid=function(t,e,n){var i=(t.x+e.x+n.x)/3,r=(t.y+e.y+n.y)/3;return new el(i,r)},gh.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),s=i+r+o,a=(i*t.x+r*e.x+o*n.x)/s,l=(i*t.y+r*e.y+o*n.y)/s;return new el(a,l)};var mh=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new eu;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};mh.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,ol.EXTERIOR,ol.INTERIOR)},mh.prototype.addPolygon=function(t){var e=this._distance,n=ic.LEFT;this._distance<0&&(e=-this._distance,n=ic.RIGHT);var i=t.getExteriorRing(),r=ru.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,ol.EXTERIOR,ol.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=ru.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,ic.opposite(n),ol.INTERIOR,ol.EXTERIOR)}},mh.prototype.isTriangleErodedCompletely=function(t,e){var n=new gh(t[0],t[1],t[2]),i=n.inCentre();return Fl.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},mh.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=ru.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,ol.EXTERIOR,ol.INTERIOR)},mh.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var i=new Uc(t,new cc(0,ol.BOUNDARY,e,n));this._curveList.add(i)},mh.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},mh.prototype.addPolygonRing=function(t,e,n,i,r){if(0===e&&t.length<Au.MINIMUM_VALID_SIZE)return null;var o=i,s=r;t.length>=Au.MINIMUM_VALID_SIZE&&Fl.isCCW(t)&&(o=r,s=i,n=ic.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},mh.prototype.add=function(t){if(t.isEmpty())return null;t instanceof ku?this.addPolygon(t):t instanceof Iu?this.addLineString(t):t instanceof Tu?this.addPoint(t):t instanceof Pu?this.addCollection(t):t instanceof xu?this.addCollection(t):t instanceof Lu?this.addCollection(t):t instanceof bu&&this.addCollection(t)},mh.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},mh.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},mh.prototype.interfaces_=function(){return[]},mh.prototype.getClass=function(){return mh};var vh=function(){};vh.prototype.locate=function(t){},vh.prototype.interfaces_=function(){return[]},vh.prototype.getClass=function(){return vh};var yh=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};yh.prototype.next=function(){if(this._atStart)return this._atStart=!1,yh.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new vr;var t=this._parent.getGeometryN(this._index++);return t instanceof bu?(this._subcollectionIterator=new yh(t),this._subcollectionIterator.next()):t},yh.prototype.remove=function(){throw new Error(this.getClass().getName())},yh.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},yh.prototype.interfaces_=function(){return[Ql]},yh.prototype.getClass=function(){return yh},yh.isAtomic=function(t){return!(t instanceof bu)};var _h=function(){this._geom=null;var t=arguments[0];this._geom=t};_h.prototype.locate=function(t){return _h.locate(t,this._geom)},_h.prototype.interfaces_=function(){return[vh]},_h.prototype.getClass=function(){return _h},_h.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Fl.isPointInRing(t,e.getCoordinates())},_h.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!_h.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(_h.isPointInRing(t,r))return!1}return!0},_h.containsPoint=function(t,e){if(e instanceof ku)return _h.containsPointInPolygon(t,e);if(e instanceof bu)for(var n=new yh(e);n.hasNext();){var i=n.next();if(i!==e&&_h.containsPoint(t,i))return!0}return!1},_h.locate=function(t,e){return e.isEmpty()?ol.EXTERIOR:_h.containsPoint(t,e)?ol.INTERIOR:ol.EXTERIOR};var bh=function(){this._edgeMap=new Sr,this._edgeList=null,this._ptInAreaLocation=[ol.NONE,ol.NONE]};bh.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},bh.prototype.propagateSideLabels=function(t){for(var e=ol.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,ic.LEFT)!==ol.NONE&&(e=i.getLocation(t,ic.LEFT))}if(e===ol.NONE)return null;for(var r=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,ic.ON)===ol.NONE&&a.setLocation(t,ic.ON,r),a.isArea(t)){var l=a.getLocation(t,ic.LEFT),u=a.getLocation(t,ic.RIGHT);if(u!==ol.NONE){if(u!==r)throw new sc("side location conflict",s.getCoordinate());l===ol.NONE&&Pl.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),r=l}else Pl.isTrue(a.getLocation(t,ic.LEFT)===ol.NONE,"found single null side"),a.setLocation(t,ic.RIGHT,r),a.setLocation(t,ic.LEFT,r)}}},bh.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},bh.prototype.print=function(t){xl.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},bh.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},bh.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,ic.LEFT);Pl.isTrue(i!==ol.NONE,"Found unlabelled area edge");for(var r=i,o=this.iterator();o.hasNext();){var s=o.next().getLabel();Pl.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,ic.LEFT),l=s.getLocation(t,ic.RIGHT);if(a===l)return!1;if(l!==r)return!1;r=a}return!0},bh.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},bh.prototype.iterator=function(){return this.getEdges().iterator()},bh.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new eu(this._edgeMap.values())),this._edgeList},bh.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===ol.NONE&&(this._ptInAreaLocation[t]=_h.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},bh.prototype.toString=function(){var t=new cl;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},bh.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},bh.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===ol.BOUNDARY&&(e[r]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),l=0;l<2;l++)if(a.isAnyNull(l)){var u=ol.NONE;if(e[l])u=ol.EXTERIOR;else{var c=s.getCoordinate();u=this.getLocation(l,c,t)}a.setAllLocationsIfNull(l,u)}},bh.prototype.getDegree=function(){return this._edgeMap.size()},bh.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},bh.prototype.interfaces_=function(){return[]},bh.prototype.getClass=function(){return bh};var xh=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new sc("no outgoing dirEdge found",this.getCoordinate());Pl.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return vc.isNorthern(r)&&vc.isNorthern(o)?n:vc.isNorthern(r)||vc.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(Pl.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},e.prototype.print=function(t){xl.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new eu;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(ic.LEFT),i=t.getDepth(ic.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new sc("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],s=arguments[1],a=arguments[2],l=o;l<s;l++){var u=this._edgeList.get(l);u.setEdgeDepths(ic.RIGHT,a),a=u.getDepth(ic.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(Pl.isTrue(null!==e,"found null for first outgoing dirEdge"),Pl.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===n&&i++;return i}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=ol.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=ol.INTERIOR;break}if(i.isInResult()){t=ol.EXTERIOR;break}}}if(t===ol.NONE)return null;for(var r=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(r===ol.INTERIOR):(s.isInResult()&&(r=ol.EXTERIOR),a.isInResult()&&(r=ol.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new cc(ol.NONE);for(var n=this.iterator();n.hasNext();)for(var i=n.next().getEdge().getLabel(),r=0;r<2;r++){var o=i.getLocation(r);o!==ol.INTERIOR&&o!==ol.BOUNDARY||this._label.setLocation(r,ol.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(bh),wh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new gc(t,new xh)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(xc),Eh=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};Eh.prototype.compareTo=function(t){var e=t;return Eh.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},Eh.prototype.interfaces_=function(){return[Ja]},Eh.prototype.getClass=function(){return Eh},Eh.orientation=function(t){return 1===ru.increasingDirection(t)},Eh.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,l=e?0:t.length-1,u=i?0:n.length-1;;){var c=t[l].compareTo(n[u]);if(0!==c)return c;var h=(l+=r)===s,f=(u+=o)===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}};var Ch=function(){this._edges=new eu,this._ocaMap=new Sr};Ch.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},Ch.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Ch.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Ch.prototype.iterator=function(){return this._edges.iterator()},Ch.prototype.getEdges=function(){return this._edges},Ch.prototype.get=function(t){return this._edges.get(t)},Ch.prototype.findEqualEdge=function(t){var e=new Eh(t.getCoordinates());return this._ocaMap.get(e)},Ch.prototype.add=function(t){this._edges.add(t);var e=new Eh(t.getCoordinates());this._ocaMap.put(e,t)},Ch.prototype.interfaces_=function(){return[]},Ch.prototype.getClass=function(){return Ch};var Sh=function(){};Sh.prototype.processIntersections=function(t,e,n,i){},Sh.prototype.isDone=function(){},Sh.prototype.interfaces_=function(){return[]},Sh.prototype.getClass=function(){return Sh};var Mh=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Mh.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Mh.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},Mh.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Mh.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Mh.prototype.getLineIntersector=function(){return this._li},Mh.prototype.hasProperIntersection=function(){return this._hasProper},Mh.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Mh.prototype.hasIntersection=function(){return this._hasIntersection},Mh.prototype.isDone=function(){return!1},Mh.prototype.hasInteriorIntersection=function(){return this._hasInterior},Mh.prototype.interfaces_=function(){return[Sh]},Mh.prototype.getClass=function(){return Mh},Mh.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Ih=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new el(t),this.segmentIndex=e,this.dist=n};Ih.prototype.getSegmentIndex=function(){return this.segmentIndex},Ih.prototype.getCoordinate=function(){return this.coord},Ih.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Ih.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Ih.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Ih.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Ih.prototype.getDistance=function(){return this.dist},Ih.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Ih.prototype.interfaces_=function(){return[Ja]},Ih.prototype.getClass=function(){return Ih};var Oh=function(){this._nodeMap=new Sr,this.edge=null;var t=arguments[0];this.edge=t};Oh.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Oh.prototype.iterator=function(){return this._nodeMap.values().iterator()},Oh.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Oh.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Oh.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new el(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new Ah(o,new cc(this.edge._label))},Oh.prototype.add=function(t,e,n){var i=new Ih(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)},Oh.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh};var Th=function(){};Th.prototype.getChainStartIndices=function(t){var e=0,n=new eu;n.add(new hl(e));do{var i=this.findChainEnd(t,e);n.add(new hl(i)),e=i}while(e<t.length-1);return Th.toIntArray(n)},Th.prototype.findChainEnd=function(t,e){for(var n=vc.quadrant(t[e],t[e+1]),i=e+1;i<t.length&&vc.quadrant(t[i-1],t[i])===n;)i++;return i-1},Th.prototype.interfaces_=function(){return[]},Th.prototype.getClass=function(){return Th},Th.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Nh=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new El,this.env2=new El;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Th;this.startIndex=e.getChainStartIndices(this.pts)};Nh.prototype.getCoordinates=function(){return this.pts},Nh.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Nh.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Nh.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],l=arguments[4],u=arguments[5],c=this.pts[r],h=this.pts[o],f=s.pts[a],p=s.pts[l];if(o-r==1&&l-a==1)return u.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(c,h),this.env2.init(f,p),!this.env1.intersects(this.env2))return null;var d=Math.trunc((r+o)/2),g=Math.trunc((a+l)/2);r<d&&(a<g&&this.computeIntersectsForChain(r,d,s,a,g,u),g<l&&this.computeIntersectsForChain(r,d,s,g,l,u)),d<o&&(a<g&&this.computeIntersectsForChain(d,o,s,a,g,u),g<l&&this.computeIntersectsForChain(d,o,s,g,l,u))}},Nh.prototype.getStartIndexes=function(){return this.startIndex},Nh.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},Nh.prototype.interfaces_=function(){return[]},Nh.prototype.getClass=function(){return Nh};var kh=function t(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},Ph={NULL_VALUE:{configurable:!0}};kh.prototype.getDepth=function(t,e){return this._depth[t][e]},kh.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},kh.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==kh.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===kh.NULL_VALUE}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._depth[i][r]===kh.NULL_VALUE}},kh.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}},kh.prototype.getDelta=function(t){return this._depth[t][ic.RIGHT]-this._depth[t][ic.LEFT]},kh.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?ol.EXTERIOR:ol.INTERIOR},kh.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},kh.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var i=t.getLocation(e,n);i!==ol.EXTERIOR&&i!==ol.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=kh.depthAtLocation(i):this._depth[e][n]+=kh.depthAtLocation(i))}else if(3===arguments.length){var r=arguments[0],o=arguments[1];arguments[2]===ol.INTERIOR&&this._depth[r][o]++}},kh.prototype.interfaces_=function(){return[]},kh.prototype.getClass=function(){return kh},kh.depthAtLocation=function(t){return t===ol.EXTERIOR?0:t===ol.INTERIOR?1:kh.NULL_VALUE},Ph.NULL_VALUE.get=function(){return-1},Object.defineProperties(kh,Ph);var Ah=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Oh(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new kh,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.pts=i,this._label=r}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,cc.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var i=!0,r=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(i=!1),this.pts[s].equals2D(n.pts[--o])||(r=!1),!i&&!r)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Nh(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new El;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,i){var r=new el(t.getIntersection(i)),o=e,s=t.getEdgeDistance(n,i),a=o+1;if(a<this.pts.length){var l=this.pts[a];r.equals2D(l)&&(o=a,s=0)}this.eiList.add(r,o,s)},e.prototype.toString=function(){var t=new cl;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,ic.ON),e.getLocation(1,ic.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,ic.LEFT),e.getLocation(1,ic.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,ic.RIGHT),e.getLocation(1,ic.RIGHT),2))},e}(dc),Lh=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Ch,this._bufParams=t||null};Lh.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},Lh.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new cc(t.getLabel())).flip(),n.merge(i);var r=Lh.depthDelta(i),o=e.getDepthDelta()+r;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(Lh.depthDelta(t.getLabel()))},Lh.prototype.buildSubgraphs=function(t,e){for(var n=new eu,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new fh(n).getDepth(o);r.computeDepth(s),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},Lh.prototype.createSubgraphs=function(t){for(var e=new eu,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new lc;r.create(i),e.add(r)}}return kc.sort(e,kc.reverseOrder()),e},Lh.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Lh.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new Qc,n=new Dl;return n.setPrecisionModel(t),e.setSegmentIntersector(new Mh(n)),e},Lh.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new hh(n,this._bufParams),r=new mh(t,e,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new wc(new wh),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new Ec(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},Lh.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=r.getData(),a=new Ah(r.getCoordinates(),new cc(s));this.insertUniqueEdge(a)}}},Lh.prototype.setNoder=function(t){this._workingNoder=t},Lh.prototype.interfaces_=function(){return[]},Lh.prototype.getClass=function(){return Lh},Lh.depthDelta=function(t){var e=t.getLocation(0,ic.LEFT),n=t.getLocation(0,ic.RIGHT);return e===ol.INTERIOR&&n===ol.EXTERIOR?1:e===ol.EXTERIOR&&n===ol.INTERIOR?-1:0},Lh.convertSegStrings=function(t){for(var e=new Ku,n=new eu;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)};var Dh=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=i,this._offsetX=r,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};Dh.prototype.rescale=function(){if(al(arguments[0],Zl))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&xl.out.println(n)}},Dh.prototype.scale=function(){if(al(arguments[0],Zl)){for(var t=arguments[0],e=new eu,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Uc(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),s=0;s<r.length;s++)o[s]=new el(Math.round((r[s].x-this._offsetX)*this._scaleFactor),Math.round((r[s].y-this._offsetY)*this._scaleFactor),r[s].z);return ru.removeRepeatedPoints(o)}},Dh.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Dh.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Dh.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Dh.prototype.interfaces_=function(){return[Zc]},Dh.prototype.getClass=function(){return Dh};var Rh=function(){this._li=new Dl,this._segStrings=null;var t=arguments[0];this._segStrings=t},jh={fact:{configurable:!0}};Rh.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),o=1;o<r.length-1;o++)if(r[o].equals(n))throw new Nl("found endpt/interior pt intersection at index "+o+" :pt "+n)},Rh.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),l=0;l<s.length-1;l++)for(var u=0;u<a.length-1;u++)this.checkInteriorIntersections(r,l,o,u);else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],p=arguments[3];if(c===f&&h===p)return null;var d=c.getCoordinates()[h],g=c.getCoordinates()[h+1],m=f.getCoordinates()[p],v=f.getCoordinates()[p+1];if(this._li.computeIntersection(d,g,m,v),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,g)||this.hasInteriorIntersection(this._li,m,v)))throw new Nl("found non-noded intersection at "+d+"-"+g+" and "+m+"-"+v)}},Rh.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Rh.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])},Rh.prototype.hasInteriorIntersection=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},Rh.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Nl("found non-noded collapse at "+Rh.fact.createLineString([t,e,n]))},Rh.prototype.interfaces_=function(){return[]},Rh.prototype.getClass=function(){return Rh},jh.fact.get=function(){return new Ku},Object.defineProperties(Rh,jh);var Fh=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new Ka("Scale factor must be non-zero");1!==e&&(this._pt=new el(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new el,this._p1Scaled=new el),this.initCorners(this._pt)},zh={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Fh.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>i||this._maxy<r||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return Pl.isTrue(!(s&&a),"Found bad envelope test"),a},Fh.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new el(this._maxx,this._maxy),this._corner[1]=new el(this._minx,this._maxy),this._corner[2]=new el(this._minx,this._miny),this._corner[3]=new el(this._maxx,this._miny)},Fh.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Fh.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Fh.prototype.getCoordinate=function(){return this._originalPt},Fh.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Fh.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=Fh.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new El(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Fh.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Fh.prototype.intersectsToleranceSquare=function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&i||t.equals(this._pt)||e.equals(this._pt)))))},Fh.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh},zh.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Fh,zh);var Bh=function(){this.tempEnv1=new El,this.selectedSegment=new Yc};Bh.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh};var Gh=function(){this._index=null;var t=arguments[0];this._index=t},qh={HotPixelSnapAction:{configurable:!0}};Gh.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),o=new Hh(e,n,i);return this._index.query(r,{interfaces_:function(){return[Ic]},visitItem:function(t){t.select(r,o)}}),o.isNodeAdded()}},Gh.prototype.interfaces_=function(){return[]},Gh.prototype.getClass=function(){return Gh},qh.HotPixelSnapAction.get=function(){return Hh},Object.defineProperties(Gh,qh);var Hh=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],i=e.getContext();if(null!==this._parentEdge&&i===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(i,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Bh),Wh=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new eu};Wh.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}},Wh.prototype.isDone=function(){return!1},Wh.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Wh.prototype.interfaces_=function(){return[Sh]},Wh.prototype.getClass=function(){return Wh};var Uh=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Dl,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};Uh.prototype.checkCorrectness=function(t){var e=Uc.getNodedSubstrings(t),n=new Rh(e);try{n.checkValid()}catch(t){if(!(t instanceof _l))throw t;t.printStackTrace()}},Uh.prototype.getNodedSubstrings=function(){return Uc.getNodedSubstrings(this._nodedSegStrings)},Uh.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},Uh.prototype.findInteriorIntersections=function(t,e){var n=new Wh(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},Uh.prototype.computeVertexSnaps=function(){if(al(arguments[0],Zl))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof Uc)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var o=new Fh(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,r)&&n.addIntersection(i[r],r)}},Uh.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new Qc,this._pointSnapper=new Gh(this._noder.getIndex()),this.snapRound(t,this._li)},Uh.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new Fh(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}},Uh.prototype.interfaces_=function(){return[Zc]},Uh.prototype.getClass=function(){return Uh};var Yh=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new eh,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},Vh={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Yh.prototype.bufferFixedPrecision=function(t){var e=new Dh(new Uh(new Uu(1)),t.getScale()),n=new Lh(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},Yh.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Yh.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof sc))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],i=Yh.precisionScaleFactor(this._argGeom,this._distance,n),r=new Uu(i);this.bufferFixedPrecision(r)}},Yh.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===Uu.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Yh.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Yh.prototype.bufferOriginalPrecision=function(){try{var t=new Lh(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Nl))throw t;this._saveException=t}},Yh.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Yh.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Yh.prototype.interfaces_=function(){return[]},Yh.prototype.getClass=function(){return Yh},Yh.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Yh(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Gl&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1],r=arguments[2],o=new Yh(n);return o.setQuadrantSegments(r),o.getResultGeometry(i)}if(arguments[2]instanceof eh&&arguments[0]instanceof Gl&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],l=arguments[2];return new Yh(s,l).getResultGeometry(a)}}else if(4===arguments.length){var u=arguments[0],c=arguments[1],h=arguments[2],f=arguments[3],p=new Yh(u);return p.setQuadrantSegments(h),p.setEndCapStyle(f),p.getResultGeometry(c)}},Yh.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=ll.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)},Vh.CAP_ROUND.get=function(){return eh.CAP_ROUND},Vh.CAP_BUTT.get=function(){return eh.CAP_FLAT},Vh.CAP_FLAT.get=function(){return eh.CAP_FLAT},Vh.CAP_SQUARE.get=function(){return eh.CAP_SQUARE},Vh.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Yh,Vh);var Xh=function(){this._pt=[new el,new el],this._distance=$a.NaN,this._isNull=!0};Xh.prototype.getCoordinates=function(){return this._pt},Xh.prototype.getCoordinate=function(t){return this._pt[t]},Xh.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},Xh.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},Xh.prototype.getDistance=function(){return this._distance},Xh.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},Xh.prototype.interfaces_=function(){return[]},Xh.prototype.getClass=function(){return Xh};var Kh=function(){};Kh.prototype.interfaces_=function(){return[]},Kh.prototype.getClass=function(){return Kh},Kh.computeDistance=function(){if(arguments[2]instanceof Xh&&arguments[0]instanceof Iu&&arguments[1]instanceof el)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=t.getCoordinates(),r=new Yc,o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Xh&&arguments[0]instanceof ku&&arguments[1]instanceof el){var a=arguments[0],l=arguments[1],u=arguments[2];Kh.computeDistance(a.getExteriorRing(),l,u);for(var c=0;c<a.getNumInteriorRing();c++)Kh.computeDistance(a.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof Xh&&arguments[0]instanceof Gl&&arguments[1]instanceof el){var h=arguments[0],f=arguments[1],p=arguments[2];if(h instanceof Iu)Kh.computeDistance(h,f,p);else if(h instanceof ku)Kh.computeDistance(h,f,p);else if(h instanceof bu)for(var d=h,g=0;g<d.getNumGeometries();g++){var m=d.getGeometryN(g);Kh.computeDistance(m,f,p)}else p.setMinimum(h.getCoordinate(),f)}else if(arguments[2]instanceof Xh&&arguments[0]instanceof Yc&&arguments[1]instanceof el){var v=arguments[0],y=arguments[1],_=arguments[2],b=v.closestPoint(y);_.setMinimum(b,y)}};var $h=function(t){this._maxPtDist=new Xh,this._inputGeom=t||null},Zh={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};$h.prototype.computeMaxMidpointDistance=function(t){var e=new Qh(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},$h.prototype.computeMaxVertexDistance=function(t){var e=new Jh(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},$h.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},$h.prototype.getDistancePoints=function(){return this._maxPtDist},$h.prototype.interfaces_=function(){return[]},$h.prototype.getClass=function(){return $h},Zh.MaxPointDistanceFilter.get=function(){return Jh},Zh.MaxMidpointDistanceFilter.get=function(){return Qh},Object.defineProperties($h,Zh);var Jh=function(t){this._maxPtDist=new Xh,this._minPtDist=new Xh,this._geom=t||null};Jh.prototype.filter=function(t){this._minPtDist.initialize(),Kh.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Jh.prototype.getMaxPointDistance=function(){return this._maxPtDist},Jh.prototype.interfaces_=function(){return[Wl]},Jh.prototype.getClass=function(){return Jh};var Qh=function(t){this._maxPtDist=new Xh,this._minPtDist=new Xh,this._geom=t||null};Qh.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=new el((n.x+i.x)/2,(n.y+i.y)/2);this._minPtDist.initialize(),Kh.computeDistance(this._geom,r,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Qh.prototype.isDone=function(){return!1},Qh.prototype.isGeometryChanged=function(){return!1},Qh.prototype.getMaxPointDistance=function(){return this._maxPtDist},Qh.prototype.interfaces_=function(){return[_u]},Qh.prototype.getClass=function(){return Qh};var tf=function(t){this._comps=t||null};tf.prototype.filter=function(t){t instanceof ku&&this._comps.add(t)},tf.prototype.interfaces_=function(){return[yu]},tf.prototype.getClass=function(){return tf},tf.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return tf.getPolygons(t,new eu)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof ku?n.add(e):e instanceof bu&&e.apply(new tf(n)),n}};var ef=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};ef.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Au){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Iu&&this._lines.add(t)},ef.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},ef.prototype.interfaces_=function(){return[Bl]},ef.prototype.getClass=function(){return ef},ef.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(ef.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(ef.getLines(e,n))}},ef.getLines=function(){if(1===arguments.length){var t=arguments[0];return ef.getLines(t,!1)}if(2===arguments.length){if(al(arguments[0],Zl)&&al(arguments[1],Zl)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var r=i.next();ef.getLines(r,n)}return n}if(arguments[0]instanceof Gl&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new eu;return o.apply(new ef(a,s)),a}if(arguments[0]instanceof Gl&&al(arguments[1],Zl)){var l=arguments[0],u=arguments[1];return l instanceof Iu?u.add(l):l.apply(new ef(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&al(arguments[0],Zl)&&al(arguments[1],Zl)){for(var c=arguments[0],h=arguments[1],f=arguments[2],p=c.iterator();p.hasNext();){var d=p.next();ef.getLines(d,h,f)}return h}if("boolean"==typeof arguments[2]&&arguments[0]instanceof Gl&&al(arguments[1],Zl)){var g=arguments[0],m=arguments[1],v=arguments[2];return g.apply(new ef(m,v)),m}}};var nf=function(){if(this._boundaryRule=Ul.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new Ka("Rule must be non-null");this._boundaryRule=t}};nf.prototype.locateInternal=function(){if(arguments[0]instanceof el&&arguments[1]instanceof ku){var t=arguments[0],e=arguments[1];if(e.isEmpty())return ol.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===ol.EXTERIOR)return ol.EXTERIOR;if(i===ol.BOUNDARY)return ol.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),s=this.locateInPolygonRing(t,o);if(s===ol.INTERIOR)return ol.EXTERIOR;if(s===ol.BOUNDARY)return ol.BOUNDARY}return ol.INTERIOR}if(arguments[0]instanceof el&&arguments[1]instanceof Iu){var a=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(a))return ol.EXTERIOR;var u=l.getCoordinates();return l.isClosed()||!a.equals(u[0])&&!a.equals(u[u.length-1])?Fl.isOnLine(a,u)?ol.INTERIOR:ol.EXTERIOR:ol.BOUNDARY}if(arguments[0]instanceof el&&arguments[1]instanceof Tu){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?ol.INTERIOR:ol.EXTERIOR}},nf.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Fl.locatePointInRing(t,e.getCoordinates()):ol.EXTERIOR},nf.prototype.intersects=function(t,e){return this.locate(t,e)!==ol.EXTERIOR},nf.prototype.updateLocationInfo=function(t){t===ol.INTERIOR&&(this._isIn=!0),t===ol.BOUNDARY&&this._numBoundaries++},nf.prototype.computeLocation=function(t,e){if(e instanceof Tu&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Iu)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof ku)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof xu)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof Lu)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof bu)for(var l=new yh(e);l.hasNext();){var u=l.next();u!==e&&this.computeLocation(t,u)}},nf.prototype.locate=function(t,e){return e.isEmpty()?ol.EXTERIOR:e instanceof Iu?this.locateInternal(t,e):e instanceof ku?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?ol.BOUNDARY:this._numBoundaries>0||this._isIn?ol.INTERIOR:ol.EXTERIOR)},nf.prototype.interfaces_=function(){return[]},nf.prototype.getClass=function(){return nf};var rf=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._component=i,this._segIndex=r,this._pt=o}},of={INSIDE_AREA:{configurable:!0}};rf.prototype.isInsideArea=function(){return this._segIndex===rf.INSIDE_AREA},rf.prototype.getCoordinate=function(){return this._pt},rf.prototype.getGeometryComponent=function(){return this._component},rf.prototype.getSegmentIndex=function(){return this._segIndex},rf.prototype.interfaces_=function(){return[]},rf.prototype.getClass=function(){return rf},of.INSIDE_AREA.get=function(){return-1},Object.defineProperties(rf,of);var sf=function(t){this._pts=t||null};sf.prototype.filter=function(t){t instanceof Tu&&this._pts.add(t)},sf.prototype.interfaces_=function(){return[yu]},sf.prototype.getClass=function(){return sf},sf.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Tu?kc.singletonList(t):sf.getPoints(t,new eu)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Tu?n.add(e):e instanceof bu&&e.apply(new sf(n)),n}};var af=function(){this._locations=null;var t=arguments[0];this._locations=t};af.prototype.filter=function(t){(t instanceof Tu||t instanceof Iu||t instanceof ku)&&this._locations.add(new rf(t,0,t.getCoordinate()))},af.prototype.interfaces_=function(){return[yu]},af.prototype.getClass=function(){return af},af.getLocations=function(t){var e=new eu;return t.apply(new af(e)),e};var lf=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new nf,this._minDistanceLocation=null,this._minDistance=$a.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=i,this._terminateDistance=r}};lf.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=tf.getPolygons(this._geom[e]);if(r.size()>0){var o=af.getLocations(this._geom[i]);if(this.computeContainmentDistance(o,r,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&al(arguments[0],tu)&&al(arguments[1],tu)){for(var s=arguments[0],a=arguments[1],l=arguments[2],u=0;u<s.size();u++)for(var c=s.get(u),h=0;h<a.size();h++)if(this.computeContainmentDistance(c,a.get(h),l),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof rf&&arguments[1]instanceof ku){var f=arguments[0],p=arguments[1],d=arguments[2],g=f.getCoordinate();if(ol.EXTERIOR!==this._ptLocator.locate(g,p))return this._minDistance=0,d[0]=f,d[1]=new rf(p,g),null}},lf.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},lf.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=ef.getLines(this._geom[0]),n=ef.getLines(this._geom[1]),i=sf.getPoints(this._geom[0]),r=sf.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},lf.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},lf.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},lf.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},lf.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Iu&&arguments[1]instanceof Tu){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){var s=Fl.distancePointLine(r,i[o],i[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new Yc(i[o],i[o+1]).closestPoint(r);n[0]=new rf(t,o,a),n[1]=new rf(e,0,r)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Iu&&arguments[1]instanceof Iu){var l=arguments[0],u=arguments[1],c=arguments[2];if(l.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this._minDistance)return null;for(var h=l.getCoordinates(),f=u.getCoordinates(),p=0;p<h.length-1;p++)for(var d=0;d<f.length-1;d++){var g=Fl.distanceLineLine(h[p],h[p+1],f[d],f[d+1]);if(g<this._minDistance){this._minDistance=g;var m=new Yc(h[p],h[p+1]),v=new Yc(f[d],f[d+1]),y=m.closestPoints(v);c[0]=new rf(l,p,y[0]),c[1]=new rf(u,d,y[1])}if(this._minDistance<=this._terminateDistance)return null}}},lf.prototype.computeMinDistancePoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new rf(r,0,r.getCoordinate()),n[1]=new rf(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},lf.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new Ka("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},lf.prototype.computeMinDistanceLines=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},lf.prototype.interfaces_=function(){return[]},lf.prototype.getClass=function(){return lf},lf.distance=function(t,e){return new lf(t,e).distance()},lf.isWithinDistance=function(t,e,n){return new lf(t,e,n).distance()<=n},lf.nearestPoints=function(t,e){return new lf(t,e).nearestPoints()};var uf=function(){this._pt=[new el,new el],this._distance=$a.NaN,this._isNull=!0};uf.prototype.getCoordinates=function(){return this._pt},uf.prototype.getCoordinate=function(t){return this._pt[t]},uf.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},uf.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},uf.prototype.toString=function(){return Tl.toLineString(this._pt[0],this._pt[1])},uf.prototype.getDistance=function(){return this._distance},uf.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},uf.prototype.interfaces_=function(){return[]},uf.prototype.getClass=function(){return uf};var cf=function(){};cf.prototype.interfaces_=function(){return[]},cf.prototype.getClass=function(){return cf},cf.computeDistance=function(){if(arguments[2]instanceof uf&&arguments[0]instanceof Iu&&arguments[1]instanceof el)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=new Yc,r=t.getCoordinates(),o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var s=i.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof uf&&arguments[0]instanceof ku&&arguments[1]instanceof el){var a=arguments[0],l=arguments[1],u=arguments[2];cf.computeDistance(a.getExteriorRing(),l,u);for(var c=0;c<a.getNumInteriorRing();c++)cf.computeDistance(a.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof uf&&arguments[0]instanceof Gl&&arguments[1]instanceof el){var h=arguments[0],f=arguments[1],p=arguments[2];if(h instanceof Iu)cf.computeDistance(h,f,p);else if(h instanceof ku)cf.computeDistance(h,f,p);else if(h instanceof bu)for(var d=h,g=0;g<d.getNumGeometries();g++){var m=d.getGeometryN(g);cf.computeDistance(m,f,p)}else p.setMinimum(h.getCoordinate(),f)}else if(arguments[2]instanceof uf&&arguments[0]instanceof Yc&&arguments[1]instanceof el){var v=arguments[0],y=arguments[1],_=arguments[2],b=v.closestPoint(y);_.setMinimum(b,y)}};var hf=function(){this._g0=null,this._g1=null,this._ptDist=new uf,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},ff={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};hf.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},hf.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Ka("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},hf.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},hf.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},hf.prototype.computeOrientedDistance=function(t,e,n){var i=new pf(e);if(t.apply(i),n.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var r=new df(e,this._densifyFrac);t.apply(r),n.setMaximum(r.getMaxPointDistance())}},hf.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},hf.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new hf(t,e).distance()}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new hf(n,i);return o.setDensifyFraction(r),o.distance()}},ff.MaxPointDistanceFilter.get=function(){return pf},ff.MaxDensifiedByFractionDistanceFilter.get=function(){return df},Object.defineProperties(hf,ff);var pf=function(){this._maxPtDist=new uf,this._minPtDist=new uf,this._euclideanDist=new cf,this._geom=null;var t=arguments[0];this._geom=t};pf.prototype.filter=function(t){this._minPtDist.initialize(),cf.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},pf.prototype.getMaxPointDistance=function(){return this._maxPtDist},pf.prototype.interfaces_=function(){return[Wl]},pf.prototype.getClass=function(){return pf};var df=function(){this._maxPtDist=new uf,this._minPtDist=new uf,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};df.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=(i.x-n.x)/this._numSubSegs,o=(i.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*r,l=n.y+s*o,u=new el(a,l);this._minPtDist.initialize(),cf.computeDistance(this._geom,u,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},df.prototype.isDone=function(){return!1},df.prototype.isGeometryChanged=function(){return!1},df.prototype.getMaxPointDistance=function(){return this._maxPtDist},df.prototype.interfaces_=function(){return[_u]},df.prototype.getClass=function(){return df};var gf=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},mf={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};gf.prototype.checkMaximumDistance=function(t,e,n){var i=new hf(e,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var r=i.getCoordinates();this._errorLocation=r[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Tl.toLineString(r[0],r[1])+")"}},gf.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=gf.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),gf.VERBOSE&&xl.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},gf.prototype.checkNegativeValid=function(){if(!(this._input instanceof ku||this._input instanceof Lu||this._input instanceof bu))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},gf.prototype.getErrorIndicator=function(){return this._errorIndicator},gf.prototype.checkMinimumDistance=function(t,e,n){var i=new lf(t,e,n);if(this._minDistanceFound=i.distance(),this._minDistanceFound<n){this._isValid=!1;var r=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Tl.toLineString(r[0],r[1])+" )"}},gf.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},gf.prototype.getErrorLocation=function(){return this._errorLocation},gf.prototype.getPolygonLines=function(t){for(var e=new eu,n=new ef(e),i=tf.getPolygons(t).iterator();i.hasNext();)i.next().apply(n);return t.getFactory().buildGeometry(e)},gf.prototype.getErrorMessage=function(){return this._errMsg},gf.prototype.interfaces_=function(){return[]},gf.prototype.getClass=function(){return gf},mf.VERBOSE.get=function(){return!1},mf.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(gf,mf);var vf=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},yf={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};vf.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},vf.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*vf.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new El(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new El(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},vf.prototype.checkDistance=function(){var t=new gf(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},vf.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},vf.prototype.checkPolygonal=function(){this._result instanceof ku||this._result instanceof Lu||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},vf.prototype.getErrorIndicator=function(){return this._errorIndicator},vf.prototype.getErrorLocation=function(){return this._errorLocation},vf.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2?null:this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},vf.prototype.report=function(t){if(!vf.VERBOSE)return null;xl.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},vf.prototype.getErrorMessage=function(){return this._errorMsg},vf.prototype.interfaces_=function(){return[]},vf.prototype.getClass=function(){return vf},vf.isValidMsg=function(t,e,n){var i=new vf(t,e,n);return i.isValid()?null:i.getErrorMessage()},vf.isValid=function(t,e,n){return!!new vf(t,e,n).isValid()},yf.VERBOSE.get=function(){return!1},yf.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(vf,yf);var _f=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};_f.prototype.getCoordinates=function(){return this._pts},_f.prototype.size=function(){return this._pts.length},_f.prototype.getCoordinate=function(t){return this._pts[t]},_f.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},_f.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:qc.octant(this.getCoordinate(t),this.getCoordinate(t+1))},_f.prototype.setData=function(t){this._data=t},_f.prototype.getData=function(){return this._data},_f.prototype.toString=function(){return Tl.toLineString(new Bu(this._pts))},_f.prototype.interfaces_=function(){return[Hc]},_f.prototype.getClass=function(){return _f};var bf=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new eu,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};bf.prototype.getInteriorIntersection=function(){return this._interiorIntersection},bf.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},bf.prototype.getIntersectionSegments=function(){return this._intSegments},bf.prototype.count=function(){return this._intersectionCount},bf.prototype.getIntersections=function(){return this._intersections},bf.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},bf.prototype.setKeepIntersections=function(t){this._keepIntersections=t},bf.prototype.processIntersections=function(t,e,n,i){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,i))return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},bf.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},bf.prototype.hasIntersection=function(){return null!==this._interiorIntersection},bf.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},bf.prototype.interfaces_=function(){return[Sh]},bf.prototype.getClass=function(){return bf},bf.createAllIntersectionsFinder=function(t){var e=new bf(t);return e.setFindAllIntersections(!0),e},bf.createAnyIntersectionFinder=function(t){return new bf(t)},bf.createIntersectionCounter=function(t){var e=new bf(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var xf=function(){this._li=new Dl,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};xf.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},xf.prototype.getIntersections=function(){return this._segInt.getIntersections()},xf.prototype.isValid=function(){return this.execute(),this._isValid},xf.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},xf.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new bf(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new Qc;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},xf.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new sc(this.getErrorMessage(),this._segInt.getInteriorIntersection())},xf.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Tl.toLineString(t[0],t[1])+" and "+Tl.toLineString(t[2],t[3])},xf.prototype.interfaces_=function(){return[]},xf.prototype.getClass=function(){return xf},xf.computeIntersections=function(t){var e=new xf(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var wf=function t(){this._nv=null;var e=arguments[0];this._nv=new xf(t.toSegmentStrings(e))};wf.prototype.checkValid=function(){this._nv.checkValid()},wf.prototype.interfaces_=function(){return[]},wf.prototype.getClass=function(){return wf},wf.toSegmentStrings=function(t){for(var e=new eu,n=t.iterator();n.hasNext();){var i=n.next();e.add(new _f(i.getCoordinates(),i))}return e},wf.checkValid=function(t){new wf(t).checkValid()};var Ef=function(t){this._mapOp=t};Ef.prototype.map=function(t){for(var e=new eu,n=0;n<t.getNumGeometries();n++){var i=this._mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(Ku.toGeometryArray(e))},Ef.prototype.interfaces_=function(){return[]},Ef.prototype.getClass=function(){return Ef},Ef.map=function(t,e){return new Ef(e).map(t)};var Cf=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new eu,this._resultLineList=new eu;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Cf.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Cf.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Cf.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Cf.prototype.collectLineEdge=function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!rp.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},Cf.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this._op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},Cf.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Cf.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(i),n.setInResult(!0)}},Cf.prototype.collectBoundaryTouchEdge=function(t,e,n){var i=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(Pl.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(rp.isResultOfOp(i,e)&&e===rp.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Cf.prototype.interfaces_=function(){return[]},Cf.prototype.getClass=function(){return Cf};var Sf=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new eu;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Sf.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Sf.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==rp.INTERSECTION)){var i=n.getLabel();rp.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},Sf.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf};var Mf=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Mf.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},Mf.prototype.transformPolygon=function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof Au&&!i.isEmpty()||(n=!1);for(var r=new eu,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof Au||(n=!1),r.add(s))}if(n)return this._factory.createPolygon(i,r.toArray([]));var a=new eu;return null!==i&&a.add(i),a.addAll(r),this._factory.buildGeometry(a)},Mf.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},Mf.prototype.getInputGeometry=function(){return this._inputGeom},Mf.prototype.transformMultiLineString=function(t,e){for(var n=new eu,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Mf.prototype.transformCoordinates=function(t,e){return this.copy(t)},Mf.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},Mf.prototype.transformMultiPoint=function(t,e){for(var n=new eu,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Mf.prototype.transformMultiPolygon=function(t,e){for(var n=new eu,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},Mf.prototype.copy=function(t){return t.copy()},Mf.prototype.transformGeometryCollection=function(t,e){for(var n=new eu,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Ku.toGeometryArray(n)):this._factory.buildGeometry(n)},Mf.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Tu)return this.transformPoint(t,null);if(t instanceof Pu)return this.transformMultiPoint(t,null);if(t instanceof Au)return this.transformLinearRing(t,null);if(t instanceof Iu)return this.transformLineString(t,null);if(t instanceof xu)return this.transformMultiLineString(t,null);if(t instanceof ku)return this.transformPolygon(t,null);if(t instanceof Lu)return this.transformMultiPolygon(t,null);if(t instanceof bu)return this.transformGeometryCollection(t,null);throw new Ka("Unknown Geometry subtype: "+t.getClass().getName())},Mf.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},Mf.prototype.interfaces_=function(){return[]},Mf.prototype.getClass=function(){return Mf};var If=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Yc,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Iu&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var i=arguments[0],r=arguments[1];this._srcPts=i,this._isClosed=t.isClosed(i),this._snapTolerance=r}};If.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new el(o)),0===i&&this._isClosed&&t.set(t.size()-1,new el(o)))}},If.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},If.prototype.snapTo=function(t){var e=new iu(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},If.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new el(r),!1)}},If.prototype.findSegmentIndexToSnap=function(t,e){for(var n=$a.MAX_VALUE,i=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,i=r)}return i},If.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If},If.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Of=function(t){this._srcGeom=t||null},Tf={SNAP_PRECISION_FACTOR:{configurable:!0}};Of.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Nf(e,n).transform(this._srcGeom)},Of.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),i=new Nf(t,n,!0).transform(this._srcGeom),r=i;return e&&al(r,Nu)&&(r=i.buffer(0)),r},Of.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Of.prototype.extractTargetCoordinates=function(t){for(var e=new Ir,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},Of.prototype.computeMinimumSegmentLength=function(t){for(var e=$a.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of},Of.snap=function(t,e,n){var i=new Array(2).fill(null),r=new Of(t);i[0]=r.snapTo(e,n);var o=new Of(e);return i[1]=o.snapTo(i[0],n),i},Of.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Of.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===Uu.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1];return Math.min(Of.computeOverlaySnapTolerance(r),Of.computeOverlaySnapTolerance(o))}},Of.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Of.SNAP_PRECISION_FACTOR},Of.snapToSelf=function(t,e,n){return new Of(t).snapToSelf(e,n)},Tf.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Of,Tf);var Nf=function(t){function e(e,n,i){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==i&&i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new If(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Mf),kf=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};kf.prototype.getCommon=function(){return $a.longBitsToDouble(this._commonBits)},kf.prototype.add=function(t){var e=$a.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=kf.signExpBits(this._commonBits),this._isFirst=!1,null):kf.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=kf.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=kf.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},kf.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=$a.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+$a.toBinaryString(t),i=n.substring(n.length-64);return i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+e+" ]"}},kf.prototype.interfaces_=function(){return[]},kf.prototype.getClass=function(){return kf},kf.getBit=function(t,e){return 0!=(t&1<<e)?1:0},kf.signExpBits=function(t){return t>>52},kf.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},kf.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(kf.getBit(t,i)!==kf.getBit(e,i))return n;n++}return 52};var Pf=function(){this._commonCoord=null,this._ccFilter=new Lf},Af={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Pf.prototype.addCommonBits=function(t){var e=new Df(this._commonCoord);t.apply(e),t.geometryChanged()},Pf.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new el(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new Df(e);return t.apply(n),t.geometryChanged(),t},Pf.prototype.getCommonCoordinate=function(){return this._commonCoord},Pf.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf},Af.CommonCoordinateFilter.get=function(){return Lf},Af.Translater.get=function(){return Df},Object.defineProperties(Pf,Af);var Lf=function(){this._commonBitsX=new kf,this._commonBitsY=new kf};Lf.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Lf.prototype.getCommonCoordinate=function(){return new el(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Lf.prototype.interfaces_=function(){return[Wl]},Lf.prototype.getClass=function(){return Lf};var Df=function(){this.trans=null;var t=arguments[0];this.trans=t};Df.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},Df.prototype.isDone=function(){return!1},Df.prototype.isGeometryChanged=function(){return!0},Df.prototype.interfaces_=function(){return[_u]},Df.prototype.getClass=function(){return Df};var Rf=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Rf.prototype.selfSnap=function(t){return new Of(t).snapTo(t,this._snapTolerance)},Rf.prototype.removeCommonBits=function(t){this._cbr=new Pf,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},Rf.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Rf.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=rp.overlayOp(e[0],e[1],t);return this.prepareResult(n)},Rf.prototype.checkValid=function(t){t.isValid()||xl.out.println("Snapped geometry is invalid")},Rf.prototype.computeSnapTolerance=function(){this._snapTolerance=Of.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Rf.prototype.snap=function(t){var e=this.removeCommonBits(t);return Of.snap(e[0],e[1],this._snapTolerance)},Rf.prototype.interfaces_=function(){return[]},Rf.prototype.getClass=function(){return Rf},Rf.overlayOp=function(t,e,n){return new Rf(t,e).getResultGeometry(n)},Rf.union=function(t,e){return Rf.overlayOp(t,e,rp.UNION)},Rf.intersection=function(t,e){return Rf.overlayOp(t,e,rp.INTERSECTION)},Rf.symDifference=function(t,e){return Rf.overlayOp(t,e,rp.SYMDIFFERENCE)},Rf.difference=function(t,e){return Rf.overlayOp(t,e,rp.DIFFERENCE)};var jf=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};jf.prototype.getResultGeometry=function(t){var e=null,n=!1,i=null;try{e=rp.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Nl))throw t;i=t}if(!n)try{e=Rf.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Nl?i:t}return e},jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf},jf.overlayOp=function(t,e,n){return new jf(t,e).getResultGeometry(n)},jf.union=function(t,e){return jf.overlayOp(t,e,rp.UNION)},jf.intersection=function(t,e){return jf.overlayOp(t,e,rp.INTERSECTION)},jf.symDifference=function(t,e){return jf.overlayOp(t,e,rp.SYMDIFFERENCE)},jf.difference=function(t,e){return jf.overlayOp(t,e,rp.DIFFERENCE)};var Ff=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};Ff.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Ff.prototype.interfaces_=function(){return[]},Ff.prototype.getClass=function(){return Ff};var zf=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=i,this._xValue=r,this._obj=o}},Bf={INSERT:{configurable:!0},DELETE:{configurable:!0}};zf.prototype.isDelete=function(){return this._eventType===zf.DELETE},zf.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},zf.prototype.getObject=function(){return this._obj},zf.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},zf.prototype.getInsertEvent=function(){return this._insertEvent},zf.prototype.isInsert=function(){return this._eventType===zf.INSERT},zf.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},zf.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},zf.prototype.interfaces_=function(){return[Ja]},zf.prototype.getClass=function(){return zf},Bf.INSERT.get=function(){return 1},Bf.DELETE.get=function(){return 2},Object.defineProperties(zf,Bf);var Gf=function(){};Gf.prototype.interfaces_=function(){return[]},Gf.prototype.getClass=function(){return Gf};var qf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};qf.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(qf.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},qf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},qf.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},qf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},qf.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},qf.prototype.hasProperIntersection=function(){return this._hasProper},qf.prototype.hasIntersection=function(){return this._hasIntersection},qf.prototype.isDone=function(){return this._isDone},qf.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},qf.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},qf.prototype.addIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},qf.prototype.interfaces_=function(){return[]},qf.prototype.getClass=function(){return qf},qf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Hf=function(t){function e(){t.call(this),this.events=new eu,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){kc.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof qf&&al(arguments[0],tu)&&al(arguments[1],tu)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&al(arguments[0],tu)&&arguments[1]instanceof qf){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new Ff(n,r),s=new zf(e,n.getMinX(r),o);this.events.add(s),this.events.add(new zf(n.getMaxX(r),s))}},e.prototype.processOverlaps=function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(r.computeIntersections(a,i),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();){var o=r.next();this.addEdge(o,i)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Gf),Wf=function(){this._min=$a.POSITIVE_INFINITY,this._max=$a.NEGATIVE_INFINITY},Uf={NodeComparator:{configurable:!0}};Wf.prototype.getMin=function(){return this._min},Wf.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Wf.prototype.getMax=function(){return this._max},Wf.prototype.toString=function(){return Tl.toLineString(new el(this._min,0),new el(this._max,0))},Wf.prototype.interfaces_=function(){return[]},Wf.prototype.getClass=function(){return Wf},Uf.NodeComparator.get=function(){return Yf},Object.defineProperties(Wf,Uf);var Yf=function(){};Yf.prototype.compare=function(t,e){var n=t,i=e,r=(n._min+n._max)/2,o=(i._min+i._max)/2;return r<o?-1:r>o?1:0},Yf.prototype.interfaces_=function(){return[tl]},Yf.prototype.getClass=function(){return Yf};var Vf=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],i=arguments[2];this._min=e,this._max=n,this._item=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Wf),Xf=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Wf),Kf=function(){this._leaves=new eu,this._root=null,this._level=0};Kf.prototype.buildTree=function(){kc.sort(this._leaves,new Wf.NodeComparator);for(var t=this._leaves,e=null,n=new eu;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},Kf.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Vf(t,e,n))},Kf.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},Kf.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Kf.prototype.printNode=function(t){xl.out.println(Tl.toLineString(new el(t._min,this._level),new el(t._max,this._level)))},Kf.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Kf.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new Xf(t.get(n),t.get(n+1));e.add(r)}}},Kf.prototype.interfaces_=function(){return[]},Kf.prototype.getClass=function(){return Kf};var $f=function(){this._items=new eu};$f.prototype.visitItem=function(t){this._items.add(t)},$f.prototype.getItems=function(){return this._items},$f.prototype.interfaces_=function(){return[Ic]},$f.prototype.getClass=function(){return $f};var Zf=function(){this._index=null;var t=arguments[0];if(!al(t,Nu))throw new Ka("Argument must be Polygonal");this._index=new tp(t)},Jf={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Zf.prototype.locate=function(t){var e=new jl(t),n=new Qf(e);return this._index.query(t.y,t.y,n),e.getLocation()},Zf.prototype.interfaces_=function(){return[vh]},Zf.prototype.getClass=function(){return Zf},Jf.SegmentVisitor.get=function(){return Qf},Jf.IntervalIndexedGeometry.get=function(){return tp},Object.defineProperties(Zf,Jf);var Qf=function(){this._counter=null;var t=arguments[0];this._counter=t};Qf.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},Qf.prototype.interfaces_=function(){return[Ic]},Qf.prototype.getClass=function(){return Qf};var tp=function(){this._index=new Kf;var t=arguments[0];this.init(t)};tp.prototype.init=function(t){for(var e=ef.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},tp.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new Yc(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this._index.insert(i,r,n)}},tp.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new $f;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._index.query(i,r,o)}},tp.prototype.interfaces_=function(){return[]},tp.prototype.getClass=function(){return tp};var ep=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Wu,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new nf,2===arguments.length){var e=arguments[0],n=arguments[1],i=Ul.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=i,null!==n&&this.add(n)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=r,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var i=this._nodes.addNode(n).getLabel(),r=1;ol.NONE,i.getLocation(t,ic.ON)===ol.BOUNDARY&&r++;var o=e.determineBoundary(this._boundaryNodeRule,r);i.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new qf(n,!0,!1);o.setIsDoneIfProperInt(r);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof Au||this._parentGeom instanceof ku||this._parentGeom instanceof Lu,l=i||!a;return s.computeIntersections(this._edges,o,l),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var i=new qf(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,i),i},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Tu){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,ol.INTERIOR)}else if(arguments[0]instanceof el){var e=arguments[0];this.insertPoint(this._argIndex,e,ol.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),ol.EXTERIOR,ol.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,ol.INTERIOR,ol.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],ol.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],ol.BOUNDARY)},e.prototype.addLineString=function(t){var e=ru.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new Ah(e,new cc(this._argIndex,ol.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),Pl.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===ol.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var i=ru.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var r=e,o=n;Fl.isCCW(i)&&(r=n,o=e);var s=new Ah(i,new cc(this._argIndex,ol.BOUNDARY,r,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,i[0],ol.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var i=this._nodes.addNode(e),r=i.getLabel();null===r?i._label=new cc(t,n):r.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new Hf},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof Lu&&(this._useBoundaryDeterminationRule=!1),e instanceof ku)this.addPolygon(e);else if(e instanceof Iu)this.addLineString(e);else if(e instanceof Tu)this.addPoint(e);else if(e instanceof Pu)this.addCollection(e);else if(e instanceof xu)this.addCollection(e);else if(e instanceof Lu)this.addCollection(e);else{if(!(e instanceof bu))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return al(this._parentGeom,Nu)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Zf(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?ol.BOUNDARY:ol.INTERIOR},e}(wc),np=function(){if(this._li=new Dl,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new ep(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=Ul.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ep(0,e,i),this._arg[1]=new ep(1,n,i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];r.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new ep(0,r,s),this._arg[1]=new ep(1,o,s)}};np.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},np.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},np.prototype.interfaces_=function(){return[]},np.prototype.getClass=function(){return np};var ip=function(){};ip.prototype.interfaces_=function(){return[]},ip.prototype.getClass=function(){return ip},ip.map=function(){if(arguments[0]instanceof Gl&&al(arguments[1],ip.MapOp)){for(var t=arguments[0],e=arguments[1],n=new eu,i=0;i<t.getNumGeometries();i++){var r=e.map(t.getGeometryN(i));null!==r&&n.add(r)}return t.getFactory().buildGeometry(n)}if(al(arguments[0],Zl)&&al(arguments[1],ip.MapOp)){for(var o=arguments[0],s=arguments[1],a=new eu,l=o.iterator();l.hasNext();){var u=l.next(),c=s.map(u);null!==c&&a.add(c)}return a}},ip.MapOp=function(){};var rp=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new nf,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Ch,this._resultPolyList=new eu,this._resultLineList=new eu,this._resultPointList=new eu,this._graph=new wc(new wh),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new cc(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,i,r){var o=new eu;return o.addAll(t),o.addAll(n),o.addAll(i),o.isEmpty()?e.createEmptyResult(r,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this._ptLocator.locate(t,i)!==ol.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new eu,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new eu;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),wf.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Ec(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var i=new Cf(this,this._geomFact,this._ptLocator);this._resultLineList=i.build(t);var r=new Sf(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea()&&!i.isInteriorAreaEdge()&&e.isResultOfOp(r.getLocation(0,ic.RIGHT),r.getLocation(1,ic.RIGHT),t)&&i.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(Pl.isTrue(!i.isNull(r,ic.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,ic.LEFT,i.getLocation(r,ic.LEFT)),Pl.isTrue(!i.isNull(r,ic.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,ic.RIGHT,i.getLocation(r,ic.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(np);rp.overlayOp=function(t,e,n){return new rp(t,e).getResultGeometry(n)},rp.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return rp.createEmptyResult(rp.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return Ef.map(t,{interfaces_:function(){return[ip.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),jf.overlayOp(t,e,rp.INTERSECTION)},rp.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return rp.createEmptyResult(rp.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),jf.overlayOp(t,e,rp.SYMDIFFERENCE)},rp.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case rp.INTERSECTION:o=Math.min(i,r);break;case rp.UNION:o=Math.max(i,r);break;case rp.DIFFERENCE:o=i;break;case rp.SYMDIFFERENCE:o=Math.max(i,r)}return o},rp.createEmptyResult=function(t,e,n,i){var r=null;switch(rp.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},rp.difference=function(t,e){return t.isEmpty()?rp.createEmptyResult(rp.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),jf.overlayOp(t,e,rp.DIFFERENCE))},rp.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return rp.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];switch(r===ol.BOUNDARY&&(r=ol.INTERIOR),o===ol.BOUNDARY&&(o=ol.INTERIOR),s){case rp.INTERSECTION:return r===ol.INTERIOR&&o===ol.INTERIOR;case rp.UNION:return r===ol.INTERIOR||o===ol.INTERIOR;case rp.DIFFERENCE:return r===ol.INTERIOR&&o!==ol.INTERIOR;case rp.SYMDIFFERENCE:return r===ol.INTERIOR&&o!==ol.INTERIOR||r!==ol.INTERIOR&&o===ol.INTERIOR}return!1}},rp.INTERSECTION=1,rp.UNION=2,rp.DIFFERENCE=3,rp.SYMDIFFERENCE=4;var op=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new nf,this._seg=new Yc;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};op.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),i=0;i<n.size()-1;i++)if(n.getCoordinate(i,this._seg.p0),n.getCoordinate(i+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},op.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?ol.BOUNDARY:this._ptLocator.locate(t,this._g)},op.prototype.extractLinework=function(t){var e=new sp;t.apply(e);var n=e.getLinework(),i=Ku.toLineStringArray(n);return t.getFactory().createMultiLineString(i)},op.prototype.interfaces_=function(){return[]},op.prototype.getClass=function(){return op};var sp=function(){this._linework=null,this._linework=new eu};sp.prototype.getLinework=function(){return this._linework},sp.prototype.filter=function(t){if(t instanceof ku){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},sp.prototype.interfaces_=function(){return[yu]},sp.prototype.getClass=function(){return sp};var ap=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};ap.prototype.extractPoints=function(t,e,n){for(var i=t.getCoordinates(),r=0;r<i.length-1;r++)this.computeOffsetPoints(i[r],i[r+1],e,n)},ap.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},ap.prototype.getPoints=function(t){for(var e=new eu,n=ef.getLines(this._g).iterator();n.hasNext();){var i=n.next();this.extractPoints(i,t,e)}return e},ap.prototype.computeOffsetPoints=function(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,s=Math.sqrt(r*r+o*o),a=n*r/s,l=n*o/s,u=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var h=new el(u-l,c+a);i.add(h)}if(this._doRight){var f=new el(u+l,c-a);i.add(f)}},ap.prototype.interfaces_=function(){return[]},ap.prototype.getClass=function(){return ap};var lp=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new eu;var e=arguments[0],n=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,i],this._locFinder=[new op(this._geom[0],this._boundaryDistanceTolerance),new op(this._geom[1],this._boundaryDistanceTolerance),new op(this._geom[2],this._boundaryDistanceTolerance)]},up={TOLERANCE:{configurable:!0}};lp.prototype.reportResult=function(t,e,n){xl.out.println("Overlay result invalid - A:"+ol.toLocationSymbol(e[0])+" B:"+ol.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+ol.toLocationSymbol(e[2]))},lp.prototype.isValid=function(t){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var e=this.checkValid(t);return e},lp.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._location[0]=this._locFinder[0].getLocation(r),this._location[1]=this._locFinder[1].getLocation(r),this._location[2]=this._locFinder[2].getLocation(r),!!lp.hasLocation(this._location,ol.BOUNDARY)||this.isValidResult(i,this._location)}},lp.prototype.addTestPts=function(t){var e=new ap(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},lp.prototype.isValidResult=function(t,e){var n=rp.isResultOfOp(e[0],e[1],t),i=!(n^e[2]===ol.INTERIOR);return i||this.reportResult(t,e,n),i},lp.prototype.getInvalidLocation=function(){return this._invalidLocation},lp.prototype.interfaces_=function(){return[]},lp.prototype.getClass=function(){return lp},lp.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},lp.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Of.computeSizeBasedSnapTolerance(t),Of.computeSizeBasedSnapTolerance(e))},lp.isValid=function(t,e,n,i){return new lp(t,e,i).isValid(n)},up.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(lp,up);var cp=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};cp.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this._skipEmpty&&i.isEmpty()||e.add(i)}},cp.prototype.combine=function(){for(var t=new eu,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},cp.prototype.interfaces_=function(){return[]},cp.prototype.getClass=function(){return cp},cp.combine=function(){if(1===arguments.length){var t=arguments[0];return new cp(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new cp(cp.createList(e,n)).combine()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];return new cp(cp.createList(i,r,o)).combine()}},cp.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},cp.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new eu;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=new eu;return s.add(i),s.add(r),s.add(o),s}};var hp=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new eu)},fp={STRTREE_NODE_CAPACITY:{configurable:!0}};hp.prototype.reduceToGeometries=function(t){for(var e=new eu,n=t.iterator();n.hasNext();){var i=n.next(),r=null;al(i,tu)?r=this.unionTree(i):i instanceof Gl&&(r=i),e.add(r)}return e},hp.prototype.extractByEnvelope=function(t,e,n){for(var i=new eu,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this._geomFactory.buildGeometry(i)},hp.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i))return cp.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},hp.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new jc(hp.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},hp.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var r=hp.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(hp.getGeometry(e,n),hp.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,i);return this.unionSafe(s,a)}},hp.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},hp.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},hp.prototype.unionActual=function(t,e){return hp.restrictToPolygons(t.union(e))},hp.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},hp.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var i=new eu,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),s=this.unionActual(r,o);return i.add(s),cp.combine(i)},hp.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},hp.prototype.interfaces_=function(){return[]},hp.prototype.getClass=function(){return hp},hp.restrictToPolygons=function(t){if(al(t,Nu))return t;var e=tf.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Ku.toPolygonArray(e))},hp.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},hp.union=function(t){return new hp(t).union()},fp.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(hp,fp);var pp=function(){};pp.prototype.interfaces_=function(){return[]},pp.prototype.getClass=function(){return pp},pp.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return rp.createEmptyResult(rp.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),jf.overlayOp(t,e,rp.UNION)};var dp=function(){return new Pr};Pr.prototype={constructor:Pr,reset:function(){this.s=this.t=0},add:function(t){Ar(gp,t,this.t),Ar(this,gp.s,this.s),this.s?this.t+=gp.t:this.s=gp.t},valueOf:function(){return this.s}};var gp=new Pr,mp=1e-6,vp=Math.PI,yp=vp/2,_p=vp/4,bp=2*vp,xp=180/vp,wp=vp/180,Ep=Math.abs,Cp=Math.atan,Sp=Math.atan2,Mp=Math.cos,Ip=Math.exp,Op=Math.log,Tp=Math.sin,Np=Math.sqrt,kp=Math.tan,Pp={Feature:function(t,e){Rr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Rr(n[i].geometry,e)}},Ap={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){jr(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)jr(n[i],e,0)},Polygon:function(t,e){Fr(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Fr(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Rr(n[i],e)}},Lp=function(t,e){t&&Pp.hasOwnProperty(t.type)?Pp[t.type](t,e):Rr(t,e)},Dp=(dp(),dp(),dp(),function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n});Yr.invert=Yr;var Rp=function(t){function e(e){return(e=t(e[0]*wp,e[1]*wp))[0]*=xp,e[1]*=xp,e}return t=Vr(t[0]*wp,t[1]*wp,t.length>2?t[2]*wp:0),e.invert=function(e){return(e=t.invert(e[0]*wp,e[1]*wp))[0]*=xp,e[1]*=xp,e},e},jp=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Dr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Fp=function(t,e,n,i,r,o){var s,a=t[0],l=t[1],u=0,c=1,h=e[0]-a,f=e[1]-l;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<u)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>u&&(u=s)}if(s=r-a,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>u&&(u=s)}else if(h>0){if(s<u)return;s<c&&(c=s)}if(s=i-l,f||!(s>0)){if(s/=f,f<0){if(s<u)return;s<c&&(c=s)}else if(f>0){if(s>c)return;s>u&&(u=s)}if(s=o-l,f||!(s<0)){if(s/=f,f<0){if(s>c)return;s>u&&(u=s)}else if(f>0){if(s<u)return;s<c&&(c=s)}return u>0&&(t[0]=a+u*h,t[1]=l+u*f),c<1&&(e[0]=a+c*h,e[1]=l+c*f),!0}}}}},zp=function(t,e){return Ep(t[0]-e[0])<mp&&Ep(t[1]-e[1])<mp},Bp=function(t,e,n,i,r){var o,s,a=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(zp(i,s)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);r.lineEnd()}else a.push(n=new Jr(i,t,null,!0)),l.push(n.o=new Jr(i,null,n,!1)),a.push(n=new Jr(s,t,null,!1)),l.push(n.o=new Jr(s,null,n,!0))}}),a.length){for(l.sort(e),Qr(a),Qr(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var u,c,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;u=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=u.length;o<s;++o)r.point((c=u[o])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(u=f.p.z,o=u.length-1;o>=0;--o)r.point((c=u[o])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}u=(f=f.o).z,p=!p}while(!f.v);r.lineEnd()}}},Gp=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},qp=(function(t){1===t.length&&(t=function(t){return function(e,n){return Gp(t(e),n)}}(t))}(Gp),function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--s]=i[e];return n}),Hp=1e9,Wp=-Hp,Up=dp(),Yp=(dp(),function(t){return t}),Vp=(dp(),dp(),1/0),Xp=Vp,Kp=-Vp,$p=Kp,Zp={point:function(t,e){t<Vp&&(Vp=t),t>Kp&&(Kp=t),e<Xp&&(Xp=e),e>$p&&($p=e)},lineStart:Dr,lineEnd:Dr,polygonStart:Dr,polygonEnd:Dr,result:function(){var t=[[Vp,Xp],[Kp,$p]];return Kp=$p=-(Xp=Vp=1/0),t}},Jp=(dp(),function(t,e,n,i){return function(r,o){function s(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function a(t,e){var n=r(t,e);m.point(n[0],n[1])}function l(){x.point=a,m.lineStart()}function u(){x.point=s,m.lineEnd()}function c(t,e){g.push([t,e]);var n=r(t,e);_.point(n[0],n[1])}function h(){_.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),_.lineEnd();var t,e,n,i,r=_.clean(),s=y.result(),a=s.length;if(g.pop(),p.push(g),g=null,a)if(1&r){if(n=s[0],(e=n.length-1)>0){for(b||(o.polygonStart(),b=!0),o.lineStart(),t=0;t<e;++t)o.point((i=n[t])[0],i[1]);o.lineEnd()}}else a>1&&2&r&&s.push(s.pop().concat(s.shift())),d.push(s.filter(to))}var p,d,g,m=e(o),v=r.invert(i[0],i[1]),y=jp(),_=e(y),b=!1,x={point:s,lineStart:l,lineEnd:u,polygonStart:function(){x.point=c,x.lineStart=h,x.lineEnd=f,d=[],p=[]},polygonEnd:function(){x.point=s,x.lineStart=l,x.lineEnd=u,d=qp(d);var t=function(t,e){var n=e[0],i=e[1],r=[Tp(n),-Mp(n),0],o=0,s=0;Up.reset();for(var a=0,l=t.length;a<l;++a)if(c=(u=t[a]).length)for(var u,c,h=u[c-1],f=h[0],p=h[1]/2+_p,d=Tp(p),g=Mp(p),m=0;m<c;++m,f=y,d=b,g=x,h=v){var v=u[m],y=v[0],_=v[1]/2+_p,b=Tp(_),x=Mp(_),w=y-f,E=w>=0?1:-1,C=E*w,S=C>vp,M=d*b;if(Up.add(Sp(M*E*Tp(C),g*x+M*Mp(C))),o+=S?w+E*bp:w,S^f>=n^y>=n){var I=qr(Br(h),Br(v));Ur(I);var O=qr(r,I);Ur(O);var T=(S^w>=0?-1:1)*Lr(O[2]);(i>T||i===T&&(I[0]||I[1]))&&(s+=S^w>=0?1:-1)}}return(o<-mp||o<mp&&Up<-mp)^1&s}(p,v);d.length?(b||(o.polygonStart(),b=!0),Bp(d,eo,t,n,o)):t&&(b||(o.polygonStart(),b=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),b&&(o.polygonEnd(),b=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return x}}),Qp=Jp(function(){return!0},function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?vp:-vp,l=Ep(o-n);Ep(l-vp)<mp?(t.point(n,i=(i+s)/2>0?yp:-yp),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=vp&&(Ep(n-r)<mp&&(n-=r*mp),Ep(o-a)<mp&&(o-=a*mp),i=function(t,e,n,i){var r,o,s=Tp(t-n);return Ep(s)>mp?Cp((Tp(e)*(o=Mp(i))*Tp(n)-Tp(i)*(r=Mp(e))*Tp(t))/(r*o*s)):(e+i)/2}(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)r=n*yp,i.point(-vp,r),i.point(0,r),i.point(vp,r),i.point(vp,0),i.point(vp,-r),i.point(0,-r),i.point(-vp,-r),i.point(-vp,0),i.point(-vp,r);else if(Ep(t[0]-e[0])>mp){var o=t[0]<e[0]?vp:-vp;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-vp,-yp]),td=function(t,e){function n(t,e){return Mp(t)*Mp(e)>o}function i(t,e,n){var i=[1,0,0],r=qr(Br(t),Br(e)),s=Gr(r,r),a=r[0],l=s-a*a;if(!l)return!n&&t;var u=o*s/l,c=-o*a/l,h=qr(i,r),f=Wr(i,u);Hr(f,Wr(r,c));var p=h,d=Gr(f,p),g=Gr(p,p),m=d*d-g*(Gr(f,f)-1);if(!(m<0)){var v=Np(m),y=Wr(p,(-d-v)/g);if(Hr(y,f),y=zr(y),!n)return y;var _,b=t[0],x=e[0],w=t[1],E=e[1];x<b&&(_=b,b=x,x=_);var C=x-b,S=Ep(C-vp)<mp;if(!S&&E<w&&(_=w,w=E,E=_),S||C<mp?S?w+E>0^y[1]<(Ep(y[0]-b)<mp?w:E):w<=y[1]&&y[1]<=E:C>vp^(b<=y[0]&&y[0]<=x)){var M=Wr(p,(-d+v)/g);return Hr(M,f),[y,zr(M)]}}}function r(e,n){var i=s?t:vp-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var o=Mp(t),s=o>0,a=Ep(o)>mp;return Jp(n,function(t){var e,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,f){var p,d=[h,f],g=n(h,f),m=s?g?0:r(h,f):g?r(h+(h<0?vp:-vp),f):0;if(!e&&(u=l=g)&&t.lineStart(),g!==l&&(!(p=i(e,d))||zp(e,p)||zp(d,p))&&(d[0]+=mp,d[1]+=mp,g=n(d[0],d[1])),g!==l)c=0,g?(t.lineStart(),p=i(d,e),t.point(p[0],p[1])):(p=i(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(a&&e&&s^g){var v;m&o||!(v=i(d,e,!0))||(c=0,s?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&zp(e,d)||t.point(d[0],d[1]),e=d,l=g,o=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}},function(n,i,r,o){!function(t,e,n,i,r,o){if(n){var s=Mp(e),a=Tp(e),l=i*n;null==r?(r=e+i*bp,o=e-l/2):(r=Zr(s,r),o=Zr(s,o),(i>0?r<o:r>o)&&(r+=i*bp));for(var u,c=r;i>0?c>o:c<o;c-=l)u=zr([s,-a*Mp(c),-a*Tp(c)]),t.point(u[0],u[1])}}(o,t,e,r,n,i)},s?[0,-t]:[-vp,t-vp])};io.prototype={constructor:io,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ed=16,nd=Mp(30*wp),id=function(t,e){return+e?function(t,e){function n(i,r,o,s,a,l,u,c,h,f,p,d,g,m){var v=u-i,y=c-r,_=v*v+y*y;if(_>4*e&&g--){var b=s+f,x=a+p,w=l+d,E=Np(b*b+x*x+w*w),C=Lr(w/=E),S=Ep(Ep(w)-1)<mp||Ep(o-h)<mp?(o+h)/2:Sp(x,b),M=t(S,C),I=M[0],O=M[1],T=I-i,N=O-r,k=y*T-v*N;(k*k/_>e||Ep((v*T+y*N)/_-.5)>.3||s*f+a*p+l*d<nd)&&(n(i,r,o,s,a,l,I,O,S,b/=E,x/=E,w,g,m),m.point(I,O),n(I,O,S,b,x,w,u,c,h,f,p,d,g,m))}}return function(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function r(){v=NaN,w.point=o,e.lineStart()}function o(i,r){var o=Br([i,r]),s=t(i,r);n(v,y,m,_,b,x,v=s[0],y=s[1],m=i,_=o[0],b=o[1],x=o[2],ed,e),e.point(v,y)}function s(){w.point=i,e.lineEnd()}function a(){r(),w.point=l,w.lineEnd=u}function l(t,e){o(c=t,e),h=v,f=y,p=_,d=b,g=x,w.point=o}function u(){n(v,y,m,_,b,x,h,f,c,p,d,g,ed,e),w.lineEnd=s,s()}var c,h,f,p,d,g,m,v,y,_,b,x,w={point:i,lineStart:r,lineEnd:s,polygonStart:function(){e.polygonStart(),w.lineStart=a},polygonEnd:function(){e.polygonEnd(),w.lineStart=r}};return w}}(t,e):function(t){return no({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},rd=no({point:function(t,e){this.stream.point(t*wp,e*wp)}});so.invert=function(t,e){return[t,2*Cp(Ip(e))-yp]},ao.invert=function(t,e){return[-e,2*Cp(Ip(t))-yp]};var od=function(){var t=function(t){function e(){var e=vp*a(),s=o(Rp(o.rotate()).invert([0,0]));return u(null==c?[[s[0]-e,s[1]-e],[s[0]+e,s[1]+e]]:t===so?[[Math.max(s[0]-e,c),n],[Math.min(s[0]+e,i),r]]:[[c,Math.max(s[1]-e,n)],[i,Math.min(s[1]+e,r)]])}var n,i,r,o=oo(t),s=o.center,a=o.scale,l=o.translate,u=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(a(t),e()):a()},o.translate=function(t){return arguments.length?(l(t),e()):l()},o.center=function(t){return arguments.length?(s(t),e()):s()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=i=r=null:(c=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),e()):null==c?null:[[c,n],[i,r]]},e()}(ao),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};t.projection=us,t.random=Ya,t.clusters=Va,t.helpers=So,t.invariant=Io,t.meta=Mo,t.isolines=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.zProperty||"elevation",r=n.commonProperties||{},o=n.breaksProperties||[];if(X(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!C(r))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var s=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",i=e.flip,r=e.flags;X(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return k(t,function(t){var e=W(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){var e=n[t],i=e.sort(function(t,e){return W(t)[0]-W(e)[0]});return i}).sort(function(t,n){return e?W(t[0])[1]-W(n[0])[1]:W(n[0])[1]-W(t[0])[1]})}(t,i),s=[],a=0;a<o.length;a++){for(var l=o[a],u=[],c=0;c<l.length;c++){var h=l[c];h.properties[n]?u.push(h.properties[n]):u.push(0),!0===r&&(h.properties.matrixPosition=[a,c])}s.push(u)}return s}(t,{zProperty:i,flip:!0});return u(function(t,e,n){var i=q(n),r=i[2]-i[0],o=i[3]-i[1],s=i[0],a=i[1],l=e[0].length-1,u=e.length-1,c=r/l,h=o/u,f=function(t){t[0]=t[0]*c+s,t[1]=t[1]*h+a};return t.forEach(function(t){I(t,f)}),t}(function(t,e,n,i,r){for(var o=[],s=1;s<e.length;s++){var a=+e[s],l=Object.assign({},i,r[s]);l[n]=a;var u=c(J(t,a),l);o.push(u)}return o}(s,e,i,r,o),s,t))},t.convex=It,t.pointsWithinPolygon=Nt,t.concave=function(t,n){if(!C(n=n||{}))throw new Error("options is invalid");if(!t)throw new Error("points is required");var i=n.maxEdge||1/0;if(!E(i))throw new Error("maxEdge is invalid");var r=kt(function(t){var e=[],n={};return k(t,function(t){if(t.geometry){var i=t.geometry.coordinates.join("-");n.hasOwnProperty(i)||(e.push(t),n[i]=!0)}}),u(e)}(t));if(r.features=r.features.filter(function(t){var e=t.geometry.coordinates[0][0],r=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],s=Dt(e,r,n),a=Dt(r,o,n),l=Dt(e,o,n);return s<=i&&a<=i&&l<=i}),r.features.length<1)return null;var o=Vt(r,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),e(o)},t.collect=function(t,e,n,i){var r=ko(6),o=e.features.map(function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}});return r.load(o),t.features.forEach(function(t){t.properties||(t.properties={});var e=q(t),n=[];r.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach(function(e){Ot([e.minX,e.minY],t)&&n.push(e.property)}),t.properties[i]=n}),t},t.flip=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=Rt(t)),I(t,function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e}),t},t.simplify=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,i=e.highQuality||!1,r=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==r&&(t=Rt(t)),L(t,function(t){!function(t,e,n){var i=t.type;if("Point"===i||"MultiPoint"===i)return t;Xt(t,!0);var r=t.coordinates;switch(i){case"LineString":t.coordinates=Qt(r,e,n);break;case"MultiLineString":t.coordinates=r.map(function(t){return Qt(t,e,n)});break;case"Polygon":t.coordinates=te(r,e,n);break;case"MultiPolygon":t.coordinates=r.map(function(t){return te(t,e,n)})}}(t,n,i)}),t},t.bezierSpline=ee,t.tag=function(t,e,n,i){return t=Rt(t),e=Rt(e),k(t,function(t){t.properties||(t.properties={}),k(e,function(e){void 0===t.properties[i]&&Ot(t,e)&&(t.properties[i]=e.properties[n])})}),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return u(function(t,e){for(var n,i,r=t.slice(0),o=t.length,s=o-e;o-- >s;)i=Math.floor((o+1)*Math.random()),n=r[i],r[i]=r[o],r[o]=n;return r.slice(s)}(t.features,e))},t.envelope=ie,t.square=re,t.circle=se,t.midpoint=function(t,e){return oe(t,Dt(t,e)/2,ae(t,e))},t.center=le,t.centerOfMass=function t(e,n){switch(Z(e)){case"Point":return e;case"Polygon":var r=[];I(e,function(t){r.push(t)});var o,s,a,l,u,c,h,f,p=ue(e,n),d=p.geometry.coordinates,g=0,m=0,v=0,y=r.map(function(t){return[t[0]-d[0],t[1]-d[1]]});for(o=0;o<r.length-1;o++)l=(s=y[o])[0],c=s[1],u=(a=y[o+1])[0],v+=f=l*(h=a[1])-u*c,g+=(l+u)*f,m+=(c+h)*f;if(0===v)return p;var _=1/(.5*v*6);return i([d[0]+_*g,d[1]+_*m],n);default:var b=It(e);return b?t(b,n):ue(e,n)}},t.centroid=ue,t.combine=function(t){function n(t,e,n){n?i[e].coordinates=i[e].coordinates.concat(t.geometry.coordinates):i[e].coordinates.push(t.geometry.coordinates),i[e].properties.push(t.properties)}var i={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},r=Object.keys(i).reduce(function(t,e){return t[e.replace("Multi","")]=e,t},{});return k(t,function(t){t.geometry&&(i[t.geometry.type]?n(t,t.geometry.type,!0):r[t.geometry.type]&&n(t,r[t.geometry.type],!1))}),u(Object.keys(i).filter(function(t){return i[t].coordinates.length}).sort().map(function(t){return e({type:t,coordinates:i[t].coordinates},{collectedProperties:i[t].properties})}))},t.distance=Dt,t.explode=ce,t.bbox=q,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Me(t.geometry.coordinates):t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(Me(t))}),e},t.bboxPolygon=ne,t.booleanPointInPolygon=Ot,t.nearestPoint=Ie,t.nearestPointOnLine=Xe,t.nearestPointToLine=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.units,r=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return L(t,function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})}),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter(function(t){return"Point"===t.geometry.type}),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==Z(e))throw new Error("line must be a LineString");var o=1/0,s=null;return k(t,function(t){var n=rn(t,e,{units:i});n<o&&(o=n,s=t)}),s&&(s.properties=Object.assign({dist:o},s.properties,r)),s},t.planepoint=function(t,e){var n=H(t),i=K(e).coordinates[0];if(i.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var r=e.properties||{},o=r.a,s=r.b,a=r.c,l=n[0],u=n[1],c=i[0][0],h=i[0][1],f=void 0!==o?o:i[0][2],p=i[1][0],d=i[1][1],g=void 0!==s?s:i[1][2],m=i[2][0],v=i[2][1],y=void 0!==a?a:i[2][2];return(y*(l-c)*(u-d)+f*(l-p)*(u-v)+g*(l-m)*(u-h)-g*(l-c)*(u-v)-y*(l-p)*(u-h)-f*(l-m)*(u-d))/((l-c)*(u-d)+(l-p)*(u-v)+(l-m)*(u-h)-(l-c)*(u-v)-(l-p)*(u-h)-(l-m)*(u-d))},t.tin=kt,t.bearing=ae,t.destination=oe,t.kinks=function(t){var e,n,r={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach(function(t){e.forEach(function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var s=function(t,e,n,i,r,o,s,a){var l,u,c,h,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(l=(a-o)*(n-t)-(s-r)*(i-e))?null!==f.x&&null!==f.y&&f:(h=(n-t)*(u=e-o)-(i-e)*(c=t-r),u=((s-r)*u-(a-o)*c)/l,c=h/l,f.x=t+u*(n-t),f.y=e+u*(i-e),u>=0&&u<=1&&(f.onLine1=!0),c>=0&&c<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);s&&r.features.push(i([s[0],s[1]]))}})}),r},t.pointOnFeature=sn,t.area=ln,t.along=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var r;if("Feature"===t.type)r=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");r=t.coordinates}if(!E(e))throw new Error("distance must be a number");for(var o=0,s=0;s<r.length&&!(e>=o&&s===r.length-1);s++){if(o>=e){var a=e-o;if(a){var l=ae(r[s],r[s-1])-180;return oe(r[s],a,l,n)}return i(r[s])}o+=Dt(r[s],r[s+1],n)}return i(r[r.length-1])},t.length=fn,t.lineSlice=function(t,e,n){var i=W(n);if("LineString"!==Z(n))throw new Error("line must be a LineString");for(var r,o=Xe(n,t),s=Xe(n,e),l=[(r=o.properties.index<=s.properties.index?[o,s]:[s,o])[0].geometry.coordinates],u=r[0].properties.index+1;u<r[1].properties.index+1;u++)l.push(i[u]);return l.push(r[1].geometry.coordinates),a(l,n.properties)},t.lineSliceAlong=pn,t.pointGrid=yn,t.truncate=_n,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return R(t,function(t){e.push(t)}),u(e)},t.lineIntersect=Ye,t.lineChunk=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.units,r=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return R(t,function(t){r&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,i){var r=fn(t,{units:n});if(r<=e)return i(t);var o=r/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var s=0;s<o;s++){var a=pn(t,e*s,e*(s+1),{units:n});i(a)}}(t,e,i,function(t){o.push(t)})}),u(o)},t.unkinkPolygon=function(t){var e=[];return R(t,function(t){"Polygon"===t.geometry.type&&k(hs(t),function(n){e.push(o(n.geometry.coordinates,t.properties))})}),u(e)},t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.properties,r=n.npoints,o=n.offset;return t=H(t),e=H(e),i=i||{},r=r||100,o=o||10,new _s({x:t[0],y:t[1]},{x:e[0],y:e[1]},i).Arc(r,{offset:o}).json()},t.lineSegment=Ue,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=Z(t),i=Z(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===i)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===i)throw new Error("splitter cannot be a GeometryCollection");var r=_n(e,{precision:7});switch(i){case"Point":return Cn(t,r);case"MultiPoint":return En(t,r);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return En(t,Ye(t,r))}},t.lineArc=In,t.polygonToLine=Tn,t.lineToPolygon=kn,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),i=W(t),r=t.properties;switch(n){case"LineString":case"MultiLineString":var s=[];return"LineString"===n&&(i=[i]),i.forEach(function(t){bs(t,e,s)}),1===s.length?a(s[0],r):c(s,r);case"Polygon":return o(jn(i,e),r);case"MultiPolygon":return f(i.map(function(t){return jn(t,e)}),r);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=qn,t.sector=function(t,e,n,i,r){if(!C(r=r||{}))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==i)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof r)throw new Error("options must be an object");if(Wn(n)===Wn(i))return se(t,e,r);var s=W(t),a=[[s]];return I(In(t,e,n,i,r),function(t){a[0].push(t)}),a[0].push(s),o(a)},t.rhumbBearing=Ke,t.rhumbDistance=Ze,t.rhumbDestination=Un,t.polygonTangents=function(t,e){var n,r,o,s=W(t),a=W(e);switch(Z(e)){case"Polygon":n=a[0][0],r=a[0][0],o=Vn(a[0][0],a[0][a[0].length-1],s);var l=Yn(a[0],s,o,void 0,n,r);n=l[0],r=l[1];break;case"MultiPolygon":n=a[0][0][0],r=a[0][0][0],o=Vn(a[0][0][0],a[0][0][a[0][0].length-1],s),a.forEach(function(t){var e=Yn(t[0],s,o,void 0,n,r);n=e[0],r=e[1]})}return u([i(n),i(r)])},t.rewind=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.reverse||!1,i=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof i)throw new Error("<mutate> must be a boolean");!1===i&&(t=Rt(t));var r=[];switch(t.type){case"GeometryCollection":return L(t,function(t){Kn(t,n)}),t;case"FeatureCollection":return k(t,function(t){k(Kn(t,n),function(t){r.push(t)})}),u(r)}return Kn(t,n)},t.isobands=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.zProperty||"elevation",r=n.commonProperties||{},s=n.breaksProperties||[];if(X(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!C(r))throw new Error("commonProperties is not an Object");if(!Array.isArray(s))throw new Error("breaksProperties is not an Array");var a=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",i=e.flip,r=e.flags;X(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return k(t,function(t){var e=W(t)[1];n[e]||(n[e]=[]),n[e].push(t)}),Object.keys(n).map(function(t){var e=n[t],i=e.sort(function(t,e){return W(t)[0]-W(e)[0]});return i}).sort(function(t,n){return e?W(t[0])[1]-W(n[0])[1]:W(n[0])[1]-W(t[0])[1]})}(t,i),s=[],a=0;a<o.length;a++){for(var l=o[a],u=[],c=0;c<l.length;c++){var h=l[c];h.properties[n]?u.push(h.properties[n]):u.push(0),!0===r&&(h.properties.matrixPosition=[a,c])}s.push(u)}return s}(t,{zProperty:i,flip:!0}),l=function(t,e,n){for(var i=[],r=1;r<e.length;r++){var s=+e[r-1],a=+e[r],l=Jn(t,s,a-s),u=function(t){var e=[],n=[];t.forEach(function(t){var i=ln(o([t]));n.push(i),e.push({ring:t,area:i})}),n.sort(function(t,e){return e-t});var i=[];return n.forEach(function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){i.push(e[n].ring),e.splice(n,1);break}}),i}(l),c=function(t){for(var e=t.map(function(t){return{lrCoordinates:t,grouped:!1}}),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var i=0;i<e.length;i++)if(!e[i].grouped){var r=[];r.push(e[i].lrCoordinates),e[i].grouped=!0;for(var s=o([e[i].lrCoordinates]),a=i+1;a<e.length;a++)if(!e[a].grouped){var l=o([e[a].lrCoordinates]);(function(t,e){for(var n=ce(t),i=0;i<n.features.length;i++)if(!Ot(n.features[i],e))return!1;return!0})(l,s)&&(r.push(e[a].lrCoordinates),e[a].grouped=!0)}n.push(r)}return n}(u),h={};h.groupedRings=c,h[n]=s+"-"+a,i.push(h)}return i}(a,e,i);return u((l=function(t,e,n){var i=q(n),r=i[2]-i[0],o=i[3]-i[1],s=i[0],a=i[1],l=e[0].length-1,u=e.length-1,c=r/l,h=o/u,f=function(t){t[0]=t[0]*c+s,t[1]=t[1]*h+a};return t.forEach(function(t){t.groupedRings.forEach(function(t){t.forEach(function(t){t.forEach(f)})})}),t}(l,a,t)).map(function(t,e){if(s[e]&&!C(s[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},r,s[e]);return n[i]=t[i],f(t.groupedRings,n)}))},t.transformRotate=ei,t.transformScale=ni,t.transformTranslate=function(t,e,n,i){if(!C(i=i||{}))throw new Error("options is invalid");var r=i.units,o=i.zTranslation,s=i.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==s&&void 0!==s||(t=Rt(t)),I(t,function(t){var i=W(Un(t,e,n,{units:r}));t[0]=i[0],t[1]=i[1],o&&3===t.length&&(t[2]+=o)}),t},t.lineOffset=function(t,e,n){if(!C(n=n||{}))throw new Error("options is invalid");var i=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var r=Z(t),o=t.properties;switch(r){case"LineString":return si(t,e,i);case"MultiLineString":var s=[];return R(t,function(t){s.push(si(t,e,i).geometry.coordinates)}),c(s,o);default:throw new Error("geometry "+r+" is not supported")}},t.polygonize=function(t){var e=_a.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],i=[];return e.getEdgeRings().filter(function(t){return t.isValid()}).forEach(function(t){t.isHole()?n.push(t):i.push(t)}),n.forEach(function(t){va.findEdgeRingContaining(t,i)&&i.push(t)}),u(i.map(function(t){return t.toPolygon()}))},t.booleanDisjoint=function(t,e){var n;return R(t,function(t){R(e,function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!ui(e,t);case"Polygon":return!Ot(t,e)}break;case"LineString":switch(e.type){case"Point":return!ui(t,e);case"LineString":return!function(t,e){return Ye(t,e).features.length>0}(t,e);case"Polygon":return!ci(e,t)}break;case"Polygon":switch(e.type){case"Point":return!Ot(e,t);case"LineString":return!ci(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(Ot(t.coordinates[0][n],e))return!0;for(var i=0;i<e.coordinates[0].length;i++)if(Ot(e.coordinates[0][i],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)})}),n},t.booleanContains=function(t,e){var n=Z(t),i=Z(e),r=K(t),o=K(e),s=W(t),a=W(e);switch(n){case"Point":switch(i){case"Point":return fi(s,a);default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"Point":return function(t,e){var n,i=!1;for(n=0;n<t.coordinates.length;n++)if(fi(t.coordinates[n],e.coordinates)){i=!0;break}return i}(r,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var i=!1,r=0;r<t.coordinates.length;r++)if(fi(e.coordinates[n],t.coordinates[r])){i=!0;break}if(!i)return!1}return!0}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"Point":return dn(o,r,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,i=0;i<e.coordinates.length;i++)if(dn({type:"Point",coordinates:e.coordinates[i]},t,{ignoreEndVertices:!0})&&(n=!0),!dn({type:"Point",coordinates:e.coordinates[i]},t,{ignoreEndVertices:!1}))return!1;return n}(r,o);case"MultiPoint":return function(t,e){for(var n=!1,i=0;i<e.coordinates.length;i++)if(dn(e.coordinates[i],t,{ignoreEndVertices:!0})&&(n=!0),!dn(e.coordinates[i],t))return!1;return!!n}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Point":return Ot(o,r,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,i=0,r=q(t),o=q(e);if(!hi(r,o))return!1;for(;i<e.coordinates.length-1;i++){var s=function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[i],e.coordinates[i+1]);if(Ot({type:"Point",coordinates:s},t,{ignoreBoundary:!0})){n=!0;break}}return n}(r,o);case"Polygon":return function(t,e){var n=q(t),i=q(e);if(!hi(n,i))return!1;for(var r=0;r<e.coordinates[0].length;r++)if(!Ot(e.coordinates[0][r],t))return!1;return!0}(r,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!Ot(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=Z(t),i=Z(e),r=K(t),o=K(e);switch(n){case"MultiPoint":switch(i){case"LineString":return pi(r,o);case"Polygon":return gi(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"MultiPoint":return pi(o,r);case"LineString":return function(t,e){if(Ye(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var i=0;i<e.coordinates.length-1;i++){var r=!0;if(0!==i&&i!==e.coordinates.length-2||(r=!1),mi(t.coordinates[n],t.coordinates[n+1],e.coordinates[i],r))return!0}return!1}(r,o);case"Polygon":return di(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"MultiPoint":return gi(o,r);case"LineString":return di(o,r);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=Xn,t.booleanOverlap=bi,t.booleanPointOnLine=dn,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return Z(t)===Z(e)&&new Ca({precision:6}).compare(Xt(t),Xt(e))},t.booleanWithin=gn,t.clone=Rt,t.cleanCoords=Xt,t.clustersDbscan=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.minPoints,r=n.units;if(X(t,"Point","Input must contain Points"),null==e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(null==i||Math.sign(i)>0))throw new Error("Invalid minPoints");t=Rt(t),i=i||3;var o=new Ta.DBSCAN,s=-1;return o.run(A(t),x(e,r),i,Dt).forEach(function(e){s++,e.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=s,n.properties.dbscan="core"})}),o.noise.forEach(function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"}),t},t.clustersKmeans=function(t,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,i=e.mutate;X(t,"Point","Input must contain Points");var r=t.features.length;(n=n||Math.round(Math.sqrt(r/2)))>r&&(n=r),!1!==i&&void 0!==i||(t=Rt(t));var o=A(t),s=o.slice(0,n),a=La(o,n,s),l={};return a.centroids.forEach(function(t,e){l[e]=t}),k(t,function(t,e){var n=a.idxs[e];t.properties.cluster=n,t.properties.centroid=l[n]}),t},t.pointToLineDistance=rn,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==wi(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==wi(e,"line2"))throw new Error("line2 must be a LineString");for(var n=Ue(Xt(t)).features,i=Ue(Xt(e)).features,r=0;r<n.length;r++){var o=n[r].geometry.coordinates;if(!i[r])break;if(!function(t,e){var n=y(Ke(t[0],t[1])),i=y(Ke(e[0],e[1]));return n===i}(o,i[r].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,r){if(!C(r=r||{}))throw new Error("options is invalid");var o=r.resolution,s=r.minDistance,l=r.obstacles||u([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(o&&!E(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(s)throw new Error("options.minDistance is not yet implemented");var c=H(t),h=H(n);switch(t=i(c),n=i(h),Z(l)){case"FeatureCollection":if(0===l.features.length)return a([c,h]);break;case"Polygon":l=u([e(K(l))]);break;default:throw new Error("invalid obstacles")}var f=l;f.features.push(t),f.features.push(n);var p=q(ni(ne(q(f)),1.15));o||(o=Dt([p[0],p[1]],[p[2],p[1]],r)/100),f.features.pop(),f.features.pop();for(var d=p[0],g=p[1],m=p[2],v=p[3],y=o/Dt([d,g],[m,g],r)*(m-d),_=o/Dt([d,g],[d,v],r)*(v-g),b=m-d,x=v-g,w=(b-Math.floor(b/y)*y)/2,S=[],M=[],I=[],O=[],T=1/0,N=1/0,k=v-(x-Math.floor(x/_)*_)/2,P=0;k>=g;){for(var A=[],L=[],D=d+w,R=0;D<=m;){var j=i([D,k]),F=function(t,e){for(var n=0;n<e.features.length;n++)if(Ot(t,e.features[n]))return!0;return!1}(j,l);A.push(F?0:1),L.push(D+"|"+k);var z=Dt(j,t);!F&&z<T&&(T=z,I={x:R,y:P});var B=Dt(j,n);!F&&B<N&&(N=B,O={x:R,y:P}),D+=y,R++}M.push(A),S.push(L),k-=_,P++}var G=new Ci(M,{diagonal:!0}),W=G.grid[I.y][I.x],U=G.grid[O.y][O.x],Y=[c];return Da.search(G,W,U).forEach(function(t){var e=S[t.x][t.y].split("|");Y.push([+e[0],+e[1]])}),Y.push(h),Xt(a(Y))},t.voronoi=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return X(t,"Point","points"),u(function(){function t(t){return new Zi(t.map(function(i,r){var o=[Math.round(e(i,r,t)/Wa)*Wa,Math.round(n(i,r,t)/Wa)*Wa];return o.index=r,o.data=i,o}),i)}var e=Ii,n=Oi,i=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:Ra(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Ra(+e),t):n},t.extent=function(e){return arguments.length?(i=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},t.size=function(e){return arguments.length?(i=null==e?null:[[0,0],[+e[0],+e[1]]],t):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},t}().x(function(t){return t.geometry.coordinates[0]}).y(function(t){return t.geometry.coordinates[1]}).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map(Ji))},t.ellipse=Qi,t.centerMean=er,t.centerMedian=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!E(n))throw new Error("counter must be a number");var i=e.weight,r=er(t,{weight:e.weight}),o=u([]);return k(t,function(t){o.features.push(ue(t,{weight:t.properties[i]}))}),o.properties={tolerance:e.tolerance,medianCandidates:[]},nr(r.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.steps||64,i=e.weight,r=e.properties||{};if(!E(n))throw new Error("steps must be a number");if(!C(r))throw new Error("properties must be a number");var o=A(t).length,s=er(t,{weight:i}),a=0,l=0,c=0;k(t,function(t){var e=t.properties[i]||1,n=ir(W(t),W(s));a+=Math.pow(n.x,2)*e,l+=Math.pow(n.y,2)*e,c+=n.x*n.y*e});var h=a-l,f=Math.sqrt(Math.pow(h,2)+4*Math.pow(c,2)),p=2*c,d=Math.atan((h+f)/p),g=180*d/Math.PI,m=0,v=0,y=0;k(t,function(t){var e=t.properties[i]||1,n=ir(W(t),W(s));m+=Math.pow(n.x*Math.cos(d)-n.y*Math.sin(d),2)*e,v+=Math.pow(n.x*Math.sin(d)+n.y*Math.cos(d),2)*e,y+=e});var _=Math.sqrt(2*m/y),b=Math.sqrt(2*v/y),x=Qi(s,_,b,{units:"degrees",angle:g,steps:n,properties:r}),w=Nt(t,u([x])),S={meanCenterCoordinates:W(s),semiMajorAxis:_,semiMinorAxis:b,numberOfFeatures:o,angle:g,percentageWithinEllipse:100*A(w).length/o};return x.properties.standardDeviationalEllipse=S,x},t.difference=function(t,n){var i=K(t),r=K(n),o=t.properties||{};if(i=kr(i),r=kr(r),!i)return null;if(!r)return e(i,o);var s=new ec,a=s.read(i),l=s.read(r),u=rp.difference(a,l);return u.isEmpty()?null:e((new nc).write(u),o)},t.buffer=function(t,e,n){var i=(n=n||{}).units,r=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");r=r||64,i=i||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return L(t,function(t){var n=lo(t,e,i,r);n&&o.push(n)}),u(o);case"FeatureCollection":return k(t,function(t){var n=lo(t,e,i,r);n&&k(n,function(t){t&&o.push(t)})}),u(o)}return lo(t,e,i,r)},t.union=fo,t.intersect=po,t.dissolve=function(t,e){if(!C(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;X(t,"Polygon","dissolve");var i=Rt(t),r=i.features,o=[];r.forEach(function(t,e){t.properties.origIndexPosition=e});var s=qe();for(var l in s.load(i),r){var u=r[l],c=!1;if(s.search(u).features.forEach(function(t){u=r[l];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var i=go(e,o);0!==i&&(e-=i)}if(e!==+l){var h=r[e];h&&u&&(void 0!==n&&h.properties[n]!==u.properties[n]||bi(u,h)&&function(t,e){var n=a(A(t)),i=a(A(e));return Ye(n,i).features.length>0}(u,h)&&(r[l]=fo(u,h),o.push(t.properties.origIndexPosition),o.sort(function(t,e){return t-e}),s.remove(t),r.splice(e,1),u.properties.origIndexPosition=l,s.remove(u,function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition}),c=!0))}}),c){if(!u)continue;u.properties.origIndexPosition=l,s.insert(u),l--}}return r.forEach(function(t){delete t.properties.origIndexPosition,delete t.bbox}),i},t.hexGrid=mo,t.mask=function(t,e){var n=o([[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]]),i=function(t){var e=[],n=[];return R(t,function(t){var i=t.geometry.coordinates,r=i[0],s=i.slice(1);e.push(o([r])),s.forEach(function(t){n.push(o([t]))})}),[u(e),u(n)]}(t),r=i[0],s=i[1];return function(t,e,n){var i=[];return i.push(t.geometry.coordinates[0]),R(e,function(t){i.push(t.geometry.coordinates[0])}),R(n,function(t){i.push(t.geometry.coordinates[0])}),o(i)}(n,r=vo(r),s=vo(s))},t.squareGrid=_o,t.triangleGrid=bo,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.gridType,r=n.property,o=n.weight;if(!t)throw new Error("points is required");if(X(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");r=r||"elevation",i=i||"square",o=o||1;var s,a=q(t);switch(i){case"point":case"points":s=yn(a,e,n);break;case"square":case"squares":s=_o(a,e,n);break;case"hex":case"hexes":s=mo(a,e,n);break;case"triangle":case"triangles":s=bo(a,e,n);break;default:throw new Error("invalid gridType")}var l=[];return k(s,function(e){var s=0,a=0;k(t,function(t){var l,u=Dt("point"===i?e:ue(e),t,n);if(void 0!==r&&(l=t.properties[r]),void 0===l&&(l=t.geometry.coordinates[2]),void 0===l)throw new Error("zValue is missing");0===u&&(s=l);var c=1/Math.pow(u,o);a+=c,s+=c*l});var u=Rt(e);u.properties[r]=s/a,l.push(u)}),u(l)},t.pointOnSurface=sn,t.polygonToLineString=Tn,t.lineStringToPolygon=kn,t.inside=Ot,t.within=Nt,t.bezier=ee,t.nearest=Ie,t.pointOnLine=Xe,t.lineDistance=fn,t.radians2degrees=_,t.degrees2radians=b,t.distanceToDegrees=v,t.distanceToRadians=m,t.radiansToDistance=g,t.bearingToAngle=y,t.convertDistance=x,t.toMercator=Je,t.toWgs84=Qe,t.randomPosition=rr,t.randomPoint=or,t.randomPolygon=sr,t.randomLineString=ar,t.getCluster=ur,t.clusterEach=cr,t.clusterReduce=hr,t.createBins=fr,t.applyFilter=pr,t.propertiesContainsFilter=dr,t.filterProperties=gr,t.earthRadius=xo,t.factors=wo,t.unitsFactors=Eo,t.areaFactors=Co,t.feature=e,t.geometry=n,t.point=i,t.points=r,t.polygon=o,t.polygons=s,t.lineString=a,t.lineStrings=l,t.featureCollection=u,t.multiLineString=c,t.multiPoint=h,t.multiPolygon=f,t.geometryCollection=p,t.round=d,t.radiansToLength=g,t.lengthToRadians=m,t.lengthToDegrees=v,t.bearingToAzimuth=y,t.radiansToDegrees=_,t.degreesToRadians=b,t.convertLength=x,t.convertArea=w,t.isNumber=E,t.isObject=C,t.validateBBox=S,t.validateId=M,t.getCoord=H,t.getCoords=W,t.containsNumber=U,t.geojsonType=Y,t.featureOf=V,t.collectionOf=X,t.getGeom=K,t.getGeomType=$,t.getType=Z,t.coordEach=I,t.coordReduce=O,t.propEach=T,t.propReduce=N,t.featureEach=k,t.featureReduce=P,t.coordAll=A,t.geomEach=L,t.geomReduce=D,t.flattenEach=R,t.flattenReduce=j,t.segmentEach=F,t.segmentReduce=z,t.lineEach=B,t.lineReduce=G,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}function r(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var s=n[r],a=0;a<i;++a)t[e++]=s[a];return e}function o(t,e,n,i,o){for(var s=o||[],a=0,l=0,u=n.length;l<u;++l){var c=r(t,e,n[l],i);s[a++]=c,e=c}return s.length=a,s}function s(t,e,n,i,r){for(var s=r||[],a=0,l=0,u=n.length;l<u;++l){var c=o(t,e,n[l],i,s[a]);s[a++]=c,e=c[c.length-1]}return s.length=a,s}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return s})},function(t,e,n){"use strict";function i(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=e;a<n;a+=i)o[s++]=t.slice(a,a+i);return o.length=s,o}function r(t,e,n,r,o){for(var s=void 0!==o?o:[],a=0,l=0,u=n.length;l<u;++l){var c=n[l];s[a++]=i(t,e,c,r,s[a]),e=c}return s.length=a,s}function o(t,e,n,i,o){for(var s=void 0!==o?o:[],a=0,l=0,u=n.length;l<u;++l){var c=n[l];s[a++]=r(t,e,c,i,s[a]),e=c[c.length-1]}return s.length=a,s}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o})},function(t,e,n){"use strict";var i=n(95),r=n(36),o=n(15),s=n(30),a="length",l=function(t){function e(e,n){t.call(this,e),this.element=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),u=function(t){function e(e,n){t.call(this);var i=n||{};if(this.unique_=!!i.unique,this.array_=e||[],this.unique_)for(var r=0,o=this.array_.length;r<o;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(a)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new l(r.a.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new l(r.a.REMOVE,e)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new l(r.a.REMOVE,i)),this.dispatchEvent(new l(r.a.ADD,e))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(a,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new i.a(58)},e}(o.a);e.a=u},function(t,e,n){"use strict";function i(t,e,n,i,r,o){for(var s=o||[],a=0,l=e;l<n;l+=i){var u=t[l],c=t[l+1];s[a++]=r[0]*u+r[2]*c+r[4],s[a++]=r[1]*u+r[3]*c+r[5]}return o&&s.length!=a&&(s.length=a),s}function r(t,e,n,i,r,o,s){for(var a=s||[],l=Math.cos(r),u=Math.sin(r),c=o[0],h=o[1],f=0,p=e;p<n;p+=i){var d=t[p]-c,g=t[p+1]-h;a[f++]=c+d*l-g*u,a[f++]=h+d*u+g*l;for(var m=p+2;m<p+i;++m)a[f++]=t[m]}return s&&a.length!=f&&(a.length=f),a}function o(t,e,n,i,r,o,s,a){for(var l=a||[],u=s[0],c=s[1],h=0,f=e;f<n;f+=i){var p=t[f]-u,d=t[f+1]-c;l[h++]=u+r*p,l[h++]=c+o*d;for(var g=f+2;g<f+i;++g)l[h++]=t[g]}return a&&l.length!=h&&(l.length=h),l}function s(t,e,n,i,r,o,s){for(var a=s||[],l=0,u=e;u<n;u+=i){a[l++]=t[u]+r,a[l++]=t[u+1]+o;for(var c=u+2;c<u+i;++c)a[l++]=t[c]}return s&&a.length!=l&&(a.length=l),a}n.d(e,"c",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return s})},function(t,e,n){"use strict";n.d(e,"e",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"f",function(){return a}),n.d(e,"d",function(){return l}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return c});var i=n(6);function r(t,e,n,r,o,s,a){var l,u=t[e],c=t[e+1],h=t[n]-u,f=t[n+1]-c;if(0===h&&0===f)l=e;else{var p=((o-u)*h+(s-c)*f)/(h*h+f*f);if(p>1)l=n;else{if(p>0){for(var d=0;d<r;++d)a[d]=Object(i.c)(t[e+d],t[n+d],p);return void(a.length=r)}l=e}}for(var g=0;g<r;++g)a[g]=t[l+g];a.length=r}function o(t,e,n,r,o){var s=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var l=t[e],u=t[e+1],c=Object(i.f)(s,a,l,u);c>o&&(o=c),s=l,a=u}return o}function s(t,e,n,i,r){for(var s=0,a=n.length;s<a;++s){var l=n[s];r=o(t,e,l,i,r),e=l}return r}function a(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var l=n[o];r=s(t,e,l,i,r),e=l[l.length-1]}return r}function l(t,e,n,o,s,a,l,u,c,h,f){if(e==n)return h;var p,d;if(0===s){if((d=Object(i.f)(l,u,t[e],t[e+1]))<h){for(p=0;p<o;++p)c[p]=t[e+p];return c.length=o,d}return h}for(var g=f||[NaN,NaN],m=e+o;m<n;)if(r(t,m-o,m,o,l,u,g),(d=Object(i.f)(l,u,g[0],g[1]))<h){for(h=d,p=0;p<o;++p)c[p]=g[p];c.length=o,m+=o}else m+=o*Math.max((Math.sqrt(d)-Math.sqrt(h))/s|0,1);if(a&&(r(t,n-o,e,o,l,u,g),(d=Object(i.f)(l,u,g[0],g[1]))<h)){for(h=d,p=0;p<o;++p)c[p]=g[p];c.length=o}return h}function u(t,e,n,i,r,o,s,a,u,c,h){for(var f=h||[NaN,NaN],p=0,d=n.length;p<d;++p){var g=n[p];c=l(t,e,g,i,r,o,s,a,u,c,f),e=g}return c}function c(t,e,n,i,r,o,s,a,l,c,h){for(var f=h||[NaN,NaN],p=0,d=n.length;p<d;++p){var g=n[p];c=u(t,e,g,i,r,o,s,a,l,c,f),e=g[g.length-1]}return c}},function(t,e,n){"use strict";var i=n(12),r=n(0),o=n(22),s=n(3),a=n(35),l=n(82),u=n(42),c=n(38),h=n(39),f=n(54),p=function(t){function e(e,n){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(u.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(u.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,o.a.XY)},e.prototype.getType=function(){return s.a.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a),d=n(56),g=(n(89),n(57)),m=n(102),v=n(69),y=n(72);n(6);n.d(e,"b",function(){return b});var _=function(t){function e(e,n,i){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(u.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(u.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Object(g.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Object(l.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(y.c)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(h.b)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(r.x)(this.getExtent());this.flatInteriorPoint_=Object(m.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new d.a(this.getFlatInteriorPoint(),o.a.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new p(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o],l=new p(e.slice(r,a),t);i.push(l),r=a}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(y.a)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(y.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Object(f.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,o.a.XY,i)},e.prototype.getType=function(){return s.a.POLYGON},e.prototype.intersectsExtent=function(t){return Object(v.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(c.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(a.a);e.a=_;function b(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=[e,n,e,r,i,r,i,n,e,n];return new _(s,o.a.XY,[s.length])}},function(t,e,n){"use strict";var i=n(16),r=n(70),o=n(15),s=n(14),a=n(1),l=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:i.c,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(s.e)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(s.e)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Object(a.e)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==i.c&&this.listenerKeys.push(Object(a.a)(t,r.a.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(o.a);e.a=l},function(t,e,n){"use strict";e.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},function(t,e,n){"use strict";(function(t){n.d(e,"c",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l}),n.d(e,"d",function(){return c});var i=n(33),r=n(20);n(134);function o(t){map.removeLayer(global_data.layers.base[t].layer),delete global_data.layers.base[t],u(t)}function s(e){t("#accordionLayerControl").prepend(t("<li>",{class:"card mt-2 border-dark",id:"card"+e,value:e}).append(t("<div>",{class:"card-header  text-dark panel-heading",text:e,id:"panel"+e}).append(t("<button>").attr("type","button").attr("id","buttonRemoveLayer"+e).attr("class","close center-block  ml-1").attr("aria-label","Close").append("<img class='icon' src='assets/svg/si-glyph-trash.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonHideLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").append("<img class='icon' src='assets/svg/si-glyph-view.svg'/>")))),console.log(global_data.layers.base),document.getElementById("buttonHideLayer"+e).addEventListener("click",function(){!function(t){var e=global_data.layers.base[t].layer.getOpacity();console.log(e),e=e>0?0:1;global_data.layers.base[t].layer.setOpacity(e)}(e)}),document.getElementById("buttonRemoveLayer"+e).addEventListener("click",function(){o(e)})}function a(e){t("#accordionLayerControl").prepend(t("<li>",{class:"card mt-2 border-dark",id:"card"+e,value:e}).append(t("<div>",{class:"card-header  text-dark panel-heading",text:e,id:"panel"+e}).append(t("<button>").attr("type","button").attr("id","buttonRemoveLayer"+e).attr("class","close center-block  ml-1").attr("aria-label","Close").append("<img class='icon' src='assets/svg/si-glyph-trash.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonChangeLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("data-target","#changeBaseLayerModal").attr("data-toggle","modal").append("<img class='icon' src='assets/svg/si-glyph-brush-1.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonHideLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").append("<img class='icon' src='assets/svg/si-glyph-view.svg'/>")))),console.log(global_data.layers.base),document.getElementById("buttonChangeLayer"+e).addEventListener("click",function(){Object(i.k)(map,global_data.layers,"Change",e,global_data.layers.base[e].style)}),document.getElementById("buttonHideLayer"+e).addEventListener("click",function(){!function(e){var n=global_data.layers.base[e].layer.getOpacity();console.log(n),n>0?(n=0,t("#buttonHideLayer"+e).children().remove(),t("#buttonHideLayer"+e).append("<img class='icon' src='assets/svg/si-glyph-noview.svg'/>")):(n=global_data.layers.base[e].style.opacity,t("#buttonHideLayer"+e).children().remove(),t("#buttonHideLayer"+e).append("<img class='icon' src='assets/svg/si-glyph-view.svg'/>"));global_data.layers.base[e].layer.setOpacity(n)}(e)}),document.getElementById("buttonRemoveLayer"+e).addEventListener("click",function(){o(e)})}function l(e){console.log(e),t("#accordionLayerControl").prepend(t("<li>",{class:"card mt-2 border-dark",id:"card"+e,value:e}).append(t("<div>",{class:"card-header text-dark h-5 panel-heading",text:e,id:"panel"+e}).append(t("<button>").attr("type","button").attr("id","buttonRemoveLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").append("<img class='icon' src='assets/svg/si-glyph-trash.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonChangeLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("data-target","#changeSemioModal").attr("data-toggle","modal").append("<img class='icon' src='assets/svg/si-glyph-brush-1.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonHideLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").append("<img class='icon' src='assets/svg/si-glyph-view.svg'/>")))),document.getElementById("buttonHideLayer"+e).addEventListener("click",function(){var n,i;n=e,i=global_data.layers.features[n].getOpacity(),console.log(i),i>0?(i=0,t("#buttonHideLayer"+n).children().remove(),t("#buttonHideLayer"+n).append("<img class='icon' src='assets/svg/si-glyph-noview.svg'/>")):(i=.8,t("#buttonHideLayer"+n).children().remove(),t("#buttonHideLayer"+n).append("<img class='icon' src='assets/svg/si-glyph-view.svg'/>")),global_data.layers.features[n].setOpacity(i)}),document.getElementById("buttonRemoveLayer"+e).addEventListener("click",function(){!function(t){map.removeLayer(global_data.layers.features[t]),global_data.style[t].color={},global_data.style[t].size.var=null,global_data.style[t].text={},global_data.style[t].opa={},delete global_data.layers.features[t],u(t),"node"===t&&void 0!==global_data.layers.features.link&&(map.removeLayer(global_data.layers.features.link),global_data.layers.features.link=Object(r.j)(map,data.links,data.hashedStructureData,global_data.style,global_data.ids.linkID[0],global_data.ids.linkID[1]))}(e)}),document.getElementById("buttonChangeLayer"+e).addEventListener("click",function(){Object(i.b)(e,global_data.style)})}function u(e){t("#card"+e).remove()}function c(t){return"node"===t?Object.keys(data.hashedStructureData[Object.keys(data.hashedStructureData)[0]].properties):"link"===t?Object.keys(data.links[0]):void 0}n(136),t(function(t){var e=t("#accordionLayerControl");e.sortable({handle:".card-header",update:function(){t(".card",e).each(function(e,n){var i=t(n);i.index();console.log(i.index()),console.log(n.textContent),void 0!==global_data.layers.base[n.textContent]&&global_data.layers.base[n.textContent].layer.setZIndex(-i.index()),void 0!==global_data.layers.features[n.textContent]&&global_data.layers.features[n.textContent].setZIndex(-i.index())})}})})}).call(this,n(51))},function(t,e,n){"use strict";e.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(32);function r(t){return Array.isArray(t)?Object(i.c)(t):t}},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return l});var i=n(37);n(9);function r(t,e,n,i,r){var o=Object.keys(t);console.log(t);for(var s=0;s<o.length;s++)t[o[s]].properties=Object.assign({outdegree:0},t[o[s]].properties),t[o[s]].properties=Object.assign({indegree:0},t[o[s]].properties),t[o[s]].properties=Object.assign({degree:0},t[o[s]].properties),t[o[s]].properties=Object.assign({balance:0},t[o[s]].properties);var a=e.length;for(s=0;s<a;s++)t[e[s][i]].properties.indegree=Number(e[s][r])+t[e[s][i]].properties.indegree,t[e[s][n]].properties.outdegree=Number(e[s][r])+t[e[s][n]].properties.outdegree,t[e[s][i]].properties.degree=Number(e[s][r])+t[e[s][i]].properties.degree,t[e[s][n]].properties.degree=Number(e[s][r])+t[e[s][n]].properties.degree,t[e[s][i]].properties.balance=t[e[s][i]].properties.balance+Number(e[s][r]),t[e[s][n]].properties.balance=t[e[s][n]].properties.balance-Number(e[s][r])}function o(t,e,n,i){for(var r=!1,o=[],s=0,a=0;a<t.length;a++)e.includes(t[a][n])&&e.includes(t[a][i])?o.push(t[a]):(s++,r=!0);return console.log("-----------------------------------"),console.log(s),r&&alert(s+" Links have been removed. No equivalent nodes have been found."),o}function s(t,e,n,r,o,s){for(var l=e.length,u=0;u<l;u++)e[u].distance=o?i.distance(t[e[u][n]],t[e[u][r]],{units:s}):i.distance(a(t[e[u][n]]),a(t[e[u][r]]),{units:s})}function a(t){if("MultiPolygon"==t.geometry.type){for(var e=0,n=-1,r=t.geometry.coordinates.length,o=0;o<r;o++){var s=i.polygon(t.geometry.coordinates[o]),a=i.area(s);n<a&&(e=o,n=a)}return i.centroid(i.polygon(t.geometry.coordinates[e]))}return"Point"==t.geometry.type?t.geometry.coordinates:i.centroid(t)}function l(t){var e=global_data.files.aggr;return console.log(e),window[e](t)}window.min=function(t){return Math.min(...t)},window.max=function(t){return Math.max(...t)},window.sum=function(t){return t.reduce((t,e)=>t+e)},window.median=function(t){t.sort(function(t,e){return t-e});var e=Math.floor(t.length/2);return t.length%2?t[e]:(t[e-1]+t[e])/2},window.mean=function(t){return t.reduce((t,e)=>t+e)/t.length}},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r});var i=.5,r=!0},function(t,e,n){var i;
/*!
 * jQuery JavaScript Library v3.4.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-04-10T19:48Z
 */
/*!
 * jQuery JavaScript Library v3.4.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-04-10T19:48Z
 */
!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,l=o.slice,u=o.concat,c=o.push,h=o.indexOf,f={},p=f.toString,d=f.hasOwnProperty,g=d.toString,m=g.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},_=function(t){return null!=t&&t===t.window},b={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var i,r,o=(n=n||s).createElement("script");if(o.text=t,e)for(i in b)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[p.call(t)]||"object":typeof t}var E=function(t,e){return new E.fn.init(t,e)},C=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!y(t)&&!_(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}E.fn=E.prototype={jquery:"3.4.0",constructor:E,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=E.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return E.each(this,t)},map:function(t){return this.pushStack(E.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},E.extend=E.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(u&&i&&(E.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],o=r&&!Array.isArray(n)?[]:r||E.isPlainObject(n)?n:{},r=!1,s[e]=E.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},E.extend({expando:"jQuery"+("3.4.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t))&&(!(e=a(t))||"function"==typeof(n=d.call(e,"constructor")&&e.constructor)&&g.call(n)===m)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){x(t,{nonce:e&&e.nonce})},each:function(t,e){var n,i=0;if(S(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(C,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(S(Object(t))?E.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(S(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return u.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=o[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){f["[object "+e+"]"]=e.toLowerCase()});var M=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(t){var e,n,i,r,o,s,a,l,u,c,h,f,p,d,g,m,v,y,_,b="sizzle"+1*new Date,x=t.document,w=0,E=0,C=lt(),S=lt(),M=lt(),I=lt(),O=function(t,e){return t===e&&(h=!0),0},T={}.hasOwnProperty,N=[],k=N.pop,P=N.push,A=N.push,L=N.slice,D=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",z="\\["+j+"*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+z+")*)|.*)\\)|)",G=new RegExp(j+"+","g"),q=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),H=new RegExp("^"+j+"*,"+j+"*"),W=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),U=new RegExp(j+"|>"),Y=new RegExp(B),V=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+z),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,$=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){f()},st=bt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{A.apply(N=L.call(x.childNodes),x.childNodes),N[x.childNodes.length].nodeType}catch(t){A={apply:N.length?function(t,e){P.apply(t,L.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,r){var o,a,u,c,h,d,v,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return i;if(!r&&((e?e.ownerDocument||e:x)!==p&&f(e),e=e||p,g)){if(11!==w&&(h=Q.exec(t)))if(o=h[1]){if(9===w){if(!(u=e.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(y&&(u=y.getElementById(o))&&_(e,u)&&u.id===o)return i.push(u),i}else{if(h[2])return A.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return A.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!I[t+" "]&&(!m||!m.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===w&&U.test(t)){for((c=e.getAttribute("id"))?c=c.replace(it,rt):e.setAttribute("id",c=b),a=(d=s(t)).length;a--;)d[a]="#"+c+" "+_t(d[a]);v=d.join(","),y=tt.test(t)&&vt(e.parentNode)||e}try{return A.apply(i,y.querySelectorAll(v)),i}catch(e){I(t,!0)}finally{c===b&&e.removeAttribute("id")}}}return l(t.replace(q,"$1"),e,i,r)}function lt(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function ut(t){return t[b]=!0,t}function ct(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ft(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function mt(t){return ut(function(e){return e=+e,ut(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},o=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!K.test(e||n&&n.nodeName||"HTML")},f=at.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:x;return s!==p&&9===s.nodeType&&s.documentElement?(d=(p=s).documentElement,g=!o(p),x!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.attributes=ct(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ct(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(p.getElementsByClassName),n.getById=ct(function(t){return d.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},v=[],m=[],(n.qsa=J.test(p.querySelectorAll))&&(ct(function(t){d.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+j+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+j+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+b+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||m.push(".#.+[+~]")}),ct(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+j+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=J.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ct(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",B)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(d.compareDocumentPosition),_=e||J.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},O=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===p||t.ownerDocument===x&&_(x,t)?-1:e===p||e.ownerDocument===x&&_(x,e)?1:c?D(c,t)-D(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===p?-1:e===p?1:r?-1:o?1:c?D(c,t)-D(c,e):0;if(r===o)return ft(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ft(s[i],a[i]):s[i]===x?-1:a[i]===x?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),n.matchesSelector&&g&&!I[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){I(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),_(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var r=i.attrHandle[e.toLowerCase()],o=r&&T.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==o?o:n.attributes||!g?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(it,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(O),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=at.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=at.selectors={cacheLength:50,createPseudo:ut,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return X.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&Y.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&C(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=at.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(G," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,f,p,d,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(m){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&y){for(_=(p=(u=(c=(h=(f=m)[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&u[1])&&u[2],f=p&&m.childNodes[p];f=++p&&f&&f[g]||(_=p=0)||d.pop();)if(1===f.nodeType&&++_&&f===e){c[t]=[w,p,_];break}}else if(y&&(_=p=(u=(c=(h=(f=e)[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&u[1]),!1===_)for(;(f=++p&&f&&f[g]||(_=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++_||(y&&((c=(h=f[b]||(f[b]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[w,_]),f!==e)););return(_-=r)===i||_%i==0&&_/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ut(function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=D(t,o[s])]=!(n[i]=o[s])}):function(t){return r(t,0,n)}):r}},pseudos:{not:ut(function(t){var e=[],n=[],i=a(t.replace(q,"$1"));return i[b]?ut(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:ut(function(t){return function(e){return at(t,e).length>0}}),contains:ut(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}}),lang:ut(function(t){return V.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return Z.test(t.nodeName)},input:function(t){return $.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:mt(function(){return[0]}),last:mt(function(t,e){return[e-1]}),eq:mt(function(t,e,n){return[n<0?n+e:n]}),even:mt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:mt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:mt(function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t}),gt:mt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=dt(e);function yt(){}function _t(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function bt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=E++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,l){var u,c,h,f=[w,a];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===w&&u[1]===a)return f[2]=u[2];if(c[o]=f,f[2]=t(e,n,l))return!0}return!1}}function xt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function wt(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function Et(t,e,n,i,r,o){return i&&!i[b]&&(i=Et(i)),r&&!r[b]&&(r=Et(r,o)),ut(function(o,s,a,l){var u,c,h,f=[],p=[],d=s.length,g=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),m=!t||!o&&e?g:wt(g,f,t,a,l),v=n?r||(o?t:d||i)?[]:s:m;if(n&&n(m,v,a,l),i)for(u=wt(v,p),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(v[p[c]]=!(m[p[c]]=h));if(o){if(r||t){if(r){for(u=[],c=v.length;c--;)(h=v[c])&&u.push(m[c]=h);r(null,v=[],u,l)}for(c=v.length;c--;)(h=v[c])&&(u=r?D(o,h):f[c])>-1&&(o[u]=!(s[u]=h))}}else v=wt(v===s?v.splice(d,v.length):v),r?r(null,s,v,l):A.apply(s,v)})}function Ct(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],l=s?1:0,c=bt(function(t){return t===e},a,!0),h=bt(function(t){return D(e,t)>-1},a,!0),f=[function(t,n,i){var r=!s&&(i||n!==u)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];l<o;l++)if(n=i.relative[t[l].type])f=[bt(xt(f),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[b]){for(r=++l;r<o&&!i.relative[t[r].type];r++);return Et(l>1&&xt(f),l>1&&_t(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(q,"$1"),n,l<r&&Ct(t.slice(l,r)),r<o&&Ct(t=t.slice(r)),r<o&&_t(t))}f.push(n)}return xt(f)}return yt.prototype=i.filters=i.pseudos,i.setFilters=new yt,s=at.tokenize=function(t,e){var n,r,o,s,a,l,u,c=S[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=i.preFilter;a;){for(s in n&&!(r=H.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=W.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(q," ")}),a=a.slice(n.length)),i.filter)!(r=X[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):S(t,l).slice(0)},a=at.compile=function(t,e){var n,r=[],o=[],a=M[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=Ct(e[n]))[b]?r.push(a):o.push(a);(a=M(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,l,c){var h,d,m,v=0,y="0",_=o&&[],b=[],x=u,E=o||r&&i.find.TAG("*",c),C=w+=null==x?1:Math.random()||.1,S=E.length;for(c&&(u=s===p||s||c);y!==S&&null!=(h=E[y]);y++){if(r&&h){for(d=0,s||h.ownerDocument===p||(f(h),a=!g);m=t[d++];)if(m(h,s||p,a)){l.push(h);break}c&&(w=C)}n&&((h=!m&&h)&&v--,o&&_.push(h))}if(v+=y,n&&y!==v){for(d=0;m=e[d++];)m(_,b,s,a);if(o){if(v>0)for(;y--;)_[y]||b[y]||(b[y]=k.call(l));b=wt(b)}A.apply(l,b),c&&!o&&b.length>0&&v+e.length>1&&at.uniqueSort(l)}return c&&(w=C,u=x),_};return n?ut(o):o}(o,r))).selector=t}return a},l=at.select=function(t,e,n,r){var o,l,u,c,h,f="function"==typeof t&&t,p=!r&&s(t=f.selector||t);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&g&&i.relative[l[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(et,nt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=X.needsContext.test(t)?0:l.length;o--&&(u=l[o],!i.relative[c=u.type]);)if((h=i.find[c])&&(r=h(u.matches[0].replace(et,nt),tt.test(l[0].type)&&vt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&_t(l)))return A.apply(n,r),n;break}}return(f||a(t,p))(r,e,!g,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=b.split("").sort(O).join("")===b,n.detectDuplicates=!!h,f(),n.sortDetached=ct(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),ct(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ht("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&ct(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ht("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ct(function(t){return null==t.getAttribute("disabled")})||ht(R,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),at}(n);E.find=M,E.expr=M.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=M.uniqueSort,E.text=M.getText,E.isXMLDoc=M.isXML,E.contains=M.contains,E.escapeSelector=M.escape;var I=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&E(t).is(n))break;i.push(t)}return i},O=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},T=E.expr.match.needsContext;function N(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,e,n){return y(e)?E.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?E.grep(t,function(t){return t===e!==n}):"string"!=typeof e?E.grep(t,function(t){return h.call(e,t)>-1!==n}):E.filter(e,t,n)}E.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?E.find.matchesSelector(i,t)?[i]:[]:E.find.matches(t,E.grep(e,function(t){return 1===t.nodeType}))},E.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(E(t).filter(function(){for(e=0;e<i;e++)if(E.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)E.find(t,r[e],n);return i>1?E.uniqueSort(n):n},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&T.test(t)?E(t):t||[],!1).length}});var A,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||A,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:L.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),k.test(i[1])&&E.isPlainObject(e))for(i in e)y(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(E):E.makeArray(t,this)}).prototype=E.fn,A=E(s);var D=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}E.fn.extend({has:function(t){var e=E(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(E.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&E(t);if(!T.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(E(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return I(t,"parentNode")},parentsUntil:function(t,e,n){return I(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return I(t,"nextSibling")},prevAll:function(t){return I(t,"previousSibling")},nextUntil:function(t,e,n){return I(t,"nextSibling",n)},prevUntil:function(t,e,n){return I(t,"previousSibling",n)},siblings:function(t){return O((t.parentNode||{}).firstChild,t)},children:function(t){return O(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(N(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},function(t,e){E.fn[t]=function(n,i){var r=E.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=E.filter(i,r)),this.length>1&&(R[t]||E.uniqueSort(r),D.test(t)&&r.reverse()),this.pushStack(r)}});var F=/[^\x20\t\r\n\f]+/g;function z(t){return t}function B(t){throw t}function G(t,e,n,i){var r;try{t&&y(r=t.promise)?r.call(t).done(e).fail(n):t&&y(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}E.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return E.each(t.match(F)||[],function(t,n){e[n]=!0}),e}(t):E.extend({},t);var e,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){E.each(n,function(n,i){y(i)?t.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==w(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return E.each(arguments,function(t,e){for(var n;(n=E.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(t){return t?E.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},E.extend({Deferred:function(t){var e=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return E.Deferred(function(n){E.each(e,function(e,i){var r=y(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){var a=this,l=arguments,u=function(){var n,u;if(!(t<o)){if((n=i.apply(a,l))===e.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(u)?r?u.call(n,s(o,e,z,r),s(o,e,B,r)):(o++,u.call(n,s(o,e,z,r),s(o,e,B,r),s(o,e,z,e.notifyWith))):(i!==z&&(a=void 0,l=[n]),(r||e.resolveWith)(a,l))}},c=r?u:function(){try{u()}catch(n){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==B&&(a=void 0,l=[n]),e.rejectWith(a,l))}};t?c():(E.Deferred.getStackHook&&(c.stackTrace=E.Deferred.getStackHook()),n.setTimeout(c))}}return E.Deferred(function(n){e[0][3].add(s(0,n,y(r)?r:z,n.notifyWith)),e[1][3].add(s(0,n,y(t)?t:z)),e[2][3].add(s(0,n,y(i)?i:B))}).promise()},promise:function(t){return null!=t?E.extend(t,r):r}},o={};return E.each(e,function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add(function(){i=a},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=l.call(arguments),o=E.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?l.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(G(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)G(r[n],s(n),o.reject);return o.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&q.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},E.readyException=function(t){n.setTimeout(function(){throw t})};var H=E.Deferred();function W(){s.removeEventListener("DOMContentLoaded",W),n.removeEventListener("load",W),E.ready()}E.fn.ready=function(t){return H.then(t).catch(function(t){E.readyException(t)}),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==t&&--E.readyWait>0||H.resolveWith(s,[E]))}}),E.ready.then=H.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(E.ready):(s.addEventListener("DOMContentLoaded",W),n.addEventListener("load",W));var U=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===w(n))for(a in r=!0,n)U(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,y(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(E(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Y=/^-ms-/,V=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function K(t){return t.replace(Y,"ms-").replace(V,X)}var $=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function Z(){this.expando=E.expando+Z.uid++}Z.uid=1,Z.prototype={cache:function(t){var e=t[this.expando];return e||(e={},$(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[K(e)]=n;else for(i in e)r[K(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][K(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(K):(e=K(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||E.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var J=new Z,Q=new Z,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Q.set(t,e,n)}else n=void 0;return n}E.extend({hasData:function(t){return Q.hasData(t)||J.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return J.access(t,e,n)},_removeData:function(t,e){J.remove(t,e)}}),E.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Q.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=K(i.slice(5)),nt(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Q.set(this,t)}):U(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=Q.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){Q.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),E.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=J.get(t,e),n&&(!i||Array.isArray(n)?i=J.access(t,e,E.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=E.queue(t,e),i=n.length,r=n.shift(),o=E._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,function(){E.dequeue(t,e)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return J.get(t,n)||J.access(t,n,{empty:E.Callbacks("once memory").add(function(){J.remove(t,[e+"queue",n])})})}}),E.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?E.queue(this[0],t):void 0===e?this:this.each(function(){var n=E.queue(this,t,e);E._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&E.dequeue(this,t)})},dequeue:function(t){return this.each(function(){E.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=E.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=J.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=s.documentElement,at=function(t){return E.contains(t.ownerDocument,t)},lt={composed:!0};st.attachShadow&&(at=function(t){return E.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ut=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===E.css(t,"display")},ct=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function ht(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return E.css(t,e,"")},l=a(),u=n&&n[3]||(E.cssNumber[e]?"":"px"),c=t.nodeType&&(E.cssNumber[e]||"px"!==u&&+l)&&rt.exec(E.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)E.style(t,e,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,E.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var ft={};function pt(t){var e,n=t.ownerDocument,i=t.nodeName,r=ft[i];return r||(e=n.body.appendChild(n.createElement(i)),r=E.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ft[i]=r,r)}function dt(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ut(i)&&(r[o]=pt(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}E.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ut(this)?E(this).show():E(this).hide()})}});var gt=/^(?:checkbox|radio)$/i,mt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i,yt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function _t(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&N(t,e)?E.merge([t],n):n}function bt(t,e){for(var n=0,i=t.length;n<i;n++)J.set(t[n],"globalEval",!e||J.get(e[n],"globalEval"))}yt.optgroup=yt.option,yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td;var xt,wt,Et=/<|&#?\w+;/;function Ct(t,e,n,i,r){for(var o,s,a,l,u,c,h=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===w(o))E.merge(f,o.nodeType?[o]:o);else if(Et.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(mt.exec(o)||["",""])[1].toLowerCase(),l=yt[a]||yt._default,s.innerHTML=l[1]+E.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;E.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(i&&E.inArray(o,i)>-1)r&&r.push(o);else if(u=at(o),s=_t(h.appendChild(o),"script"),u&&bt(s),n)for(c=0;o=s[c++];)vt.test(o.type||"")&&n.push(o);return h}xt=s.createDocumentFragment().appendChild(s.createElement("div")),(wt=s.createElement("input")).setAttribute("type","radio"),wt.setAttribute("checked","checked"),wt.setAttribute("name","t"),xt.appendChild(wt),v.checkClone=xt.cloneNode(!0).cloneNode(!0).lastChild.checked,xt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!xt.cloneNode(!0).lastChild.defaultValue;var St=/^key/,Mt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,It=/^([^.]*)(?:\.(.+)|)/;function Ot(){return!0}function Tt(){return!1}function Nt(t,e){return t===function(){try{return s.activeElement}catch(t){}}()==("focus"===e)}function kt(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)kt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Tt;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return E().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=E.guid++)),t.each(function(){E.event.add(this,e,r,i,n)})}function Pt(t,e,n){n?(J.set(t,e,!1),E.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=J.get(this,e);if(1&t.isTrigger&&this[e]){if(o)(E.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=l.call(arguments),J.set(this,e,o),i=n(this,e),this[e](),o!==(r=J.get(this,e))||i?J.set(this,e,!1):r=void 0,o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r}else o&&(J.set(this,e,E.event.trigger(E.extend(o.shift(),E.Event.prototype),o,this)),t.stopImmediatePropagation())}})):E.event.add(t,e,Ot)}E.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d,g,m=J.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&E.find.matchesSelector(st,r),n.guid||(n.guid=E.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(F)||[""]).length;u--;)p=g=(a=It.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p&&(h=E.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=E.event.special[p]||{},c=E.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&E.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=l[p])||((f=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,d,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),E.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d,g,m=J.hasData(t)&&J.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(F)||[""]).length;u--;)if(p=g=(a=It.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p){for(h=E.event.special[p]||{},f=l[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&g!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,d,m.handle)||E.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)E.event.remove(t,p+e[u],n,i,!0);E.isEmptyObject(l)&&J.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=E.event.fix(t),l=new Array(arguments.length),u=(J.get(this,"events")||{})[a.type]||[],c=E.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=E.event.handlers.call(this,a,u),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((E.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?E(r,this).index(u)>-1:E.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&N(e,"input")&&void 0===J.get(e,"click")&&Pt(e,"click",Ot),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&N(e,"input")&&void 0===J.get(e,"click")&&Pt(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&N(e,"input")&&J.get(e,"click")||N(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},E.Event=function(t,e){if(!(this instanceof E.Event))return new E.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ot:Tt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Tt,isPropagationStopped:Tt,isImmediatePropagationStopped:Tt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&St.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Mt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(t,e){E.event.special[t]={setup:function(){return Pt(this,t,Nt),!1},trigger:function(){return Pt(this,t),!0},delegateType:e}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){E.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,r=t.handleObj;return i&&(i===this||E.contains(this,i))||(t.type=r.origType,n=r.handler.apply(this,arguments),t.type=e),n}}}),E.fn.extend({on:function(t,e,n,i){return kt(this,t,e,n,i)},one:function(t,e,n,i){return kt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,E(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Tt),this.each(function(){E.event.remove(this,t,n,e)})}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Lt=/<script|<style|<link/i,Dt=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function jt(t,e){return N(t,"table")&&N(11!==e.nodeType?e:e.firstChild,"tr")&&E(t).children("tbody")[0]||t}function Ft(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function zt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Bt(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(J.hasData(t)&&(o=J.access(t),s=J.set(e,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)E.event.add(e,r,u[r][n]);Q.hasData(t)&&(a=Q.access(t),l=E.extend({},a),Q.set(e,l))}}function Gt(t,e,n,i){e=u.apply([],e);var r,o,s,a,l,c,h=0,f=t.length,p=f-1,d=e[0],g=y(d);if(g||f>1&&"string"==typeof d&&!v.checkClone&&Dt.test(d))return t.each(function(r){var o=t.eq(r);g&&(e[0]=d.call(this,r,o.html())),Gt(o,e,n,i)});if(f&&(o=(r=Ct(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=E.map(_t(r,"script"),Ft)).length;h<f;h++)l=r,h!==p&&(l=E.clone(l,!0,!0),a&&E.merge(s,_t(l,"script"))),n.call(t[h],l,h);if(a)for(c=s[s.length-1].ownerDocument,E.map(s,zt),h=0;h<a;h++)l=s[h],vt.test(l.type||"")&&!J.access(l,"globalEval")&&E.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&!l.noModule&&E._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):x(l.textContent.replace(Rt,""),l,c))}return t}function qt(t,e,n){for(var i,r=e?E.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||E.cleanData(_t(i)),i.parentNode&&(n&&at(i)&&bt(_t(i,"script")),i.parentNode.removeChild(i));return t}E.extend({htmlPrefilter:function(t){return t.replace(At,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a,l,u,c=t.cloneNode(!0),h=at(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(s=_t(c),i=0,r=(o=_t(t)).length;i<r;i++)a=o[i],l=s[i],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&gt.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(e)if(n)for(o=o||_t(t),s=s||_t(c),i=0,r=o.length;i<r;i++)Bt(o[i],s[i]);else Bt(t,c);return(s=_t(c,"script")).length>0&&bt(s,!h&&_t(t,"script")),c},cleanData:function(t){for(var e,n,i,r=E.event.special,o=0;void 0!==(n=t[o]);o++)if($(n)){if(e=n[J.expando]){if(e.events)for(i in e.events)r[i]?E.event.remove(n,i):E.removeEvent(n,i,e.handle);n[J.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),E.fn.extend({detach:function(t){return qt(this,t,!0)},remove:function(t){return qt(this,t)},text:function(t){return U(this,function(t){return void 0===t?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Gt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||jt(this,t).appendChild(t)})},prepend:function(){return Gt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=jt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Gt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Gt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(E.cleanData(_t(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return E.clone(this,t,e)})},html:function(t){return U(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Lt.test(t)&&!yt[(mt.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(E.cleanData(_t(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Gt(this,arguments,function(e){var n=this.parentNode;E.inArray(this,t)<0&&(E.cleanData(_t(this)),n&&n.replaceChild(e,this))},t)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){E.fn[t]=function(t){for(var n,i=[],r=E(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),E(r[s])[e](n),c.apply(i,n.get());return this.pushStack(i)}});var Ht=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Wt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Ut=new RegExp(ot.join("|"),"i");function Yt(t,e,n){var i,r,o,s,a=t.style;return(n=n||Wt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||at(t)||(s=E.style(t,e)),!v.pixelBoxStyles()&&Ht.test(s)&&Ut.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Vt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(u).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=12===e(c.offsetWidth/3),st.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,l,u=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o}}))}();var Xt=["Webkit","Moz","ms"],Kt=s.createElement("div").style,$t={};function Zt(t){var e=E.cssProps[t]||$t[t];return e||(t in Kt?t:$t[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Xt.length;n--;)if((t=Xt[n]+e)in Kt)return t}(t)||t)}var Jt=/^(none|table(?!-c[ea]).+)/,Qt=/^--/,te={position:"absolute",visibility:"hidden",display:"block"},ee={letterSpacing:"0",fontWeight:"400"};function ne(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ie(t,e,n,i,r,o){var s="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=E.css(t,n+ot[s],!0,r)),i?("content"===n&&(l-=E.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(l-=E.css(t,"border"+ot[s]+"Width",!0,r))):(l+=E.css(t,"padding"+ot[s],!0,r),"padding"!==n?l+=E.css(t,"border"+ot[s]+"Width",!0,r):a+=E.css(t,"border"+ot[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))||0),l}function re(t,e,n){var i=Wt(t),r=(!v.boxSizingReliable()||n)&&"border-box"===E.css(t,"boxSizing",!1,i),o=r,s=Yt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(Ht.test(s)){if(!n)return s;s="auto"}return(!v.boxSizingReliable()&&r||"auto"===s||!parseFloat(s)&&"inline"===E.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===E.css(t,"boxSizing",!1,i),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+ie(t,e,n||(r?"border":"content"),o,i,s)+"px"}function oe(t,e,n,i,r){return new oe.prototype.init(t,e,n,i,r)}E.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Yt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=K(e),l=Qt.test(e),u=t.style;if(l||(e=Zt(a)),s=E.cssHooks[e]||E.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ht(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(E.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,s,a=K(e);return Qt.test(e)||(e=Zt(a)),(s=E.cssHooks[e]||E.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Yt(t,e,i)),"normal"===r&&e in ee&&(r=ee[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),E.each(["height","width"],function(t,e){E.cssHooks[e]={get:function(t,n,i){if(n)return!Jt.test(E.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?re(t,e,i):ct(t,te,function(){return re(t,e,i)})},set:function(t,n,i){var r,o=Wt(t),s=!v.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===E.css(t,"boxSizing",!1,o),l=i?ie(t,e,i,a,o):0;return a&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ie(t,e,"border",!1,o)-.5)),l&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=E.css(t,e)),ne(0,n,l)}}}),E.cssHooks.marginLeft=Vt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Yt(t,"marginLeft"))||t.getBoundingClientRect().left-ct(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(t,e){E.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(E.cssHooks[t+e].set=ne)}),E.fn.extend({css:function(t,e){return U(this,function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Wt(t),r=e.length;s<r;s++)o[e[s]]=E.css(t,e[s],!1,i);return o}return void 0!==n?E.style(t,e,n):E.css(t,e)},t,e,arguments.length>1)}}),E.Tween=oe,oe.prototype={constructor:oe,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var t=oe.propHooks[this.prop];return t&&t.get?t.get(this):oe.propHooks._default.get(this)},run:function(t){var e,n=oe.propHooks[this.prop];return this.options.duration?this.pos=e=E.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):oe.propHooks._default.set(this),this}},oe.prototype.init.prototype=oe.prototype,oe.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=E.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1!==t.elem.nodeType||!E.cssHooks[t.prop]&&null==t.elem.style[Zt(t.prop)]?t.elem[t.prop]=t.now:E.style(t.elem,t.prop,t.now+t.unit)}}},oe.propHooks.scrollTop=oe.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=oe.prototype.init,E.fx.step={};var se,ae,le=/^(?:toggle|show|hide)$/,ue=/queueHooks$/;function ce(){ae&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ce):n.setTimeout(ce,E.fx.interval),E.fx.tick())}function he(){return n.setTimeout(function(){se=void 0}),se=Date.now()}function fe(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function pe(t,e,n){for(var i,r=(de.tweeners[e]||[]).concat(de.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function de(t,e,n){var i,r,o=0,s=de.prefilters.length,a=E.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=se||he(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),i<1&&s?n:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:e,originalOptions:n,startTime:se||he(),duration:n.duration,tweens:[],createTween:function(e,n){var i=E.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=K(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=E.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);o<s;o++)if(i=de.prefilters[o].call(u,t,c,u.opts))return y(i.stop)&&(E._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return E.map(c,pe,u),y(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),E.fx.timer(E.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}E.Animation=E.extend(de,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ht(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(F);for(var n,i=0,r=t.length;i<r;i++)n=t[i],de.tweeners[n]=de.tweeners[n]||[],de.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,l,u,c,h="width"in e||"height"in e,f=this,p={},d=t.style,g=t.nodeType&&ut(t),m=J.get(t,"fxshow");for(i in n.queue||(null==(s=E._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,E.queue(t,"fx").length||s.empty.fire()})})),e)if(r=e[i],le.test(r)){if(delete e[i],o=o||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;g=!0}p[i]=m&&m[i]||E.style(t,i)}if((l=!E.isEmptyObject(e))||!E.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=m&&m.display)&&(u=J.get(t,"display")),"none"===(c=E.css(t,"display"))&&(u?c=u:(dt([t],!0),u=t.style.display||u,c=E.css(t,"display"),dt([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===E.css(t,"float")&&(l||(f.done(function(){d.display=u}),null==u&&(c=d.display,u="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),l=!1,p)l||(m?"hidden"in m&&(g=m.hidden):m=J.access(t,"fxshow",{display:u}),o&&(m.hidden=!g),g&&dt([t],!0),f.done(function(){for(i in g||dt([t]),J.remove(t,"fxshow"),p)E.style(t,i,p[i])})),l=pe(g?m[i]:0,i,f),i in m||(m[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?de.prefilters.unshift(t):de.prefilters.push(t)}}),E.speed=function(t,e,n){var i=t&&"object"==typeof t?E.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return E.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in E.fx.speeds?i.duration=E.fx.speeds[i.duration]:i.duration=E.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&E.dequeue(this,i.queue)},i},E.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=E.isEmptyObject(t),o=E.speed(e,n,i),s=function(){var e=de(this,E.extend({},t),o);(r||J.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=E.timers,s=J.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ue.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||E.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=J.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=E.timers,s=i?i.length:0;for(n.finish=!0,E.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),E.each(["toggle","show","hide"],function(t,e){var n=E.fn[e];E.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(fe(e,!0),t,i,r)}}),E.each({slideDown:fe("show"),slideUp:fe("hide"),slideToggle:fe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){E.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),E.timers=[],E.fx.tick=function(){var t,e=0,n=E.timers;for(se=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||E.fx.stop(),se=void 0},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ae||(ae=!0,ce())},E.fx.stop=function(){ae=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(t,e){return t=E.fx&&E.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}})},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var ge,me=E.expr.attrHandle;E.fn.extend({attr:function(t,e){return U(this,E.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){E.removeAttr(this,t)})}}),E.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?E.prop(t,e,n):(1===o&&E.isXMLDoc(t)||(r=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void E.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=E.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&N(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(F);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return!1===e?E.removeAttr(t,n):t.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(t,e){var n=me[e]||E.find.attr;me[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=me[s],me[s]=r,r=null!=n(t,e,i)?s:null,me[s]=o),r}});var ve=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;function _e(t){return(t.match(F)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function xe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}E.fn.extend({prop:function(t,e){return U(this,E.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[E.propFix[t]||t]})}}),E.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(t)||(e=E.propFix[e]||e,r=E.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=E.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(E.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(y(t))return this.each(function(e){E(this).addClass(t.call(this,e,be(this)))});if((e=xe(t)).length)for(;n=this[l++];)if(r=be(n),i=1===n.nodeType&&" "+_e(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=_e(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(y(t))return this.each(function(e){E(this).removeClass(t.call(this,e,be(this)))});if(!arguments.length)return this.attr("class","");if((e=xe(t)).length)for(;n=this[l++];)if(r=be(n),i=1===n.nodeType&&" "+_e(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=_e(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){E(this).toggleClass(t.call(this,n,be(this),e),e)}):this.each(function(){var e,r,o,s;if(i)for(r=0,o=E(this),s=xe(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=be(this))&&J.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":J.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+_e(be(n))+" ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g;E.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=y(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,E(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=E.map(r,function(t){return null==t?"":t+""})),(e=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=E.valHooks[r.type]||E.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(we,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(t){var e=E.find.attr(t,"value");return null!=e?e:_e(E.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!N(n.parentNode,"optgroup"))){if(e=E(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=E.makeArray(e),s=r.length;s--;)((i=r[s]).selected=E.inArray(E.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=E.inArray(E(t).val(),e)>-1}},v.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in n;var Ee=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};E.extend(E.event,{trigger:function(t,e,i,r){var o,a,l,u,c,h,f,p,g=[i||s],m=d.call(t,"type")?t.type:t,v=d.call(t,"namespace")?t.namespace.split("."):[];if(a=p=l=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!Ee.test(m+E.event.triggered)&&(m.indexOf(".")>-1&&(v=m.split("."),m=v.shift(),v.sort()),c=m.indexOf(":")<0&&"on"+m,(t=t[E.expando]?t:new E.Event(m,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:E.makeArray(e,[t]),f=E.event.special[m]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!_(i)){for(u=f.delegateType||m,Ee.test(u+m)||(a=a.parentNode);a;a=a.parentNode)g.push(a),l=a;l===(i.ownerDocument||s)&&g.push(l.defaultView||l.parentWindow||n)}for(o=0;(a=g[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?u:f.bindType||m,(h=(J.get(a,"events")||{})[t.type]&&J.get(a,"handle"))&&h.apply(a,e),(h=c&&a[c])&&h.apply&&$(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=m,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(g.pop(),e)||!$(i)||c&&y(i[m])&&!_(i)&&((l=i[c])&&(i[c]=null),E.event.triggered=m,t.isPropagationStopped()&&p.addEventListener(m,Ce),i[m](),t.isPropagationStopped()&&p.removeEventListener(m,Ce),E.event.triggered=void 0,l&&(i[c]=l)),t.result}},simulate:function(t,e,n){var i=E.extend(new E.Event,n,{type:t,isSimulated:!0});E.event.trigger(i,null,e)}}),E.fn.extend({trigger:function(t,e){return this.each(function(){E.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return E.event.trigger(t,e,n,!0)}}),v.focusin||E.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){E.event.simulate(e,t.target,E.event.fix(t))};E.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=J.access(i,e);r||i.addEventListener(t,n,!0),J.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=J.access(i,e)-1;r?J.access(i,e,r):(i.removeEventListener(t,n,!0),J.remove(i,e))}}});var Se=n.location,Me=Date.now(),Ie=/\?/;E.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+t),e};var Oe=/\[\]$/,Te=/\r?\n/g,Ne=/^(?:submit|button|image|reset|file)$/i,ke=/^(?:input|select|textarea|keygen)/i;function Pe(t,e,n,i){var r;if(Array.isArray(e))E.each(e,function(e,r){n||Oe.test(t)?i(t,r):Pe(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==w(e))i(t,e);else for(r in e)Pe(t+"["+r+"]",e[r],n,i)}E.param=function(t,e){var n,i=[],r=function(t,e){var n=y(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,function(){r(this.name,this.value)});else for(n in t)Pe(n,t[n],e,r);return i.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&ke.test(this.nodeName)&&!Ne.test(t)&&(this.checked||!gt.test(t))}).map(function(t,e){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:n.replace(Te,"\r\n")}}).get()}});var Ae=/%20/g,Le=/#.*$/,De=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)$/gm,je=/^(?:GET|HEAD)$/,Fe=/^\/\//,ze={},Be={},Ge="*/".concat("*"),qe=s.createElement("a");function He(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(F)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function We(t,e,n,i){var r={},o=t===Be;function s(a){var l;return r[a]=!0,E.each(t[a]||[],function(t,a){var u=a(e,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),s(u),!1)}),l}return s(e.dataTypes[0])||!r["*"]&&s("*")}function Ue(t,e){var n,i,r=E.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&E.extend(!0,t,i),t}qe.href=Se.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Se.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Se.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ue(Ue(t,E.ajaxSettings),e):Ue(E.ajaxSettings,t)},ajaxPrefilter:He(ze),ajaxTransport:He(Be),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,l,u,c,h,f,p,d=E.ajaxSetup({},e),g=d.context||d,m=d.context&&(g.nodeType||g.jquery)?E(g):E.event,v=E.Deferred(),y=E.Callbacks("once memory"),_=d.statusCode||{},b={},x={},w="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Re.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==c&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)C.always(t[C.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||w;return i&&i.abort(e),S(0,e),this}};if(v.promise(C),d.url=((t||d.url||Se.href)+"").replace(Fe,Se.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(F)||[""],null==d.crossDomain){u=s.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=qe.protocol+"//"+qe.host!=u.protocol+"//"+u.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=E.param(d.data,d.traditional)),We(ze,d,e,C),c)return C;for(f in(h=E.event&&d.global)&&0==E.active++&&E.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!je.test(d.type),r=d.url.replace(Le,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Ae,"+")):(p=d.url.slice(r.length),d.data&&(d.processData||"string"==typeof d.data)&&(r+=(Ie.test(r)?"&":"?")+d.data,delete d.data),!1===d.cache&&(r=r.replace(De,"$1"),p=(Ie.test(r)?"&":"?")+"_="+Me+++p),d.url=r+p),d.ifModified&&(E.lastModified[r]&&C.setRequestHeader("If-Modified-Since",E.lastModified[r]),E.etag[r]&&C.setRequestHeader("If-None-Match",E.etag[r])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Ge+"; q=0.01":""):d.accepts["*"]),d.headers)C.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(g,C,d)||c))return C.abort();if(w="abort",y.add(d.complete),C.done(d.success),C.fail(d.error),i=We(Be,d,e,C)){if(C.readyState=1,h&&m.trigger("ajaxSend",[C,d]),c)return C;d.async&&d.timeout>0&&(l=n.setTimeout(function(){C.abort("timeout")},d.timeout));try{c=!1,i.send(b,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,s,a){var u,f,p,b,x,w=e;c||(c=!0,l&&n.clearTimeout(l),i=void 0,o=a||"",C.readyState=t>0?4:0,u=t>=200&&t<300||304===t,s&&(b=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(d,C,s)),b=function(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(d,b,C,u),u?(d.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(E.lastModified[r]=x),(x=C.getResponseHeader("etag"))&&(E.etag[r]=x)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=b.state,f=b.data,u=!(p=b.error))):(p=w,!t&&w||(w="error",t<0&&(t=0))),C.status=t,C.statusText=(e||w)+"",u?v.resolveWith(g,[f,w,C]):v.rejectWith(g,[C,w,p]),C.statusCode(_),_=void 0,h&&m.trigger(u?"ajaxSuccess":"ajaxError",[C,d,u?f:p]),y.fireWith(g,[C,w]),h&&(m.trigger("ajaxComplete",[C,d]),--E.active||E.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return E.get(t,e,n,"json")},getScript:function(t,e){return E.get(t,void 0,e,"script")}}),E.each(["get","post"],function(t,e){E[e]=function(t,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),E.ajax(E.extend({url:t,type:e,dataType:r,data:n,success:i},E.isPlainObject(t)&&t))}}),E._evalUrl=function(t,e){return E.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){E.globalEval(t,e)}})},E.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){E(this).wrapInner(t.call(this,e))}):this.each(function(){var e=E(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){E(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ye={0:200,1223:204},Ve=E.ajaxSettings.xhr();v.cors=!!Ve&&"withCredentials"in Ve,v.ajax=Ve=!!Ve,E.ajaxTransport(function(t){var e,i;if(v.cors||Ve&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ye[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){e&&i()})},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),E.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),E.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=E("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){n&&n()}}});var Xe,Ke=[],$e=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ke.pop()||E.expando+"_"+Me++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",function(t,e,i){var r,o,s,a=!1!==t.jsonp&&($e.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&$e.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace($e,"$1"+r):!1!==t.jsonp&&(t.url+=(Ie.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||E.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?E(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ke.push(r)),s&&y(o)&&o(s[0]),s=o=void 0}),"script"}),v.createHTMLDocument=((Xe=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Xe.childNodes.length),E.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((i=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(i)):e=s),o=!n&&[],(r=k.exec(t))?[e.createElement(r[1])]:(r=Ct([t],e,o),o&&o.length&&E(o).remove(),E.merge([],r.childNodes)));var i,r,o},E.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=_e(t.slice(a)),t=t.slice(0,a)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&E.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(i?E("<div>").append(E.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){E.fn[e]=function(t){return this.on(e,t)}}),E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u=E.css(t,"position"),c=E(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=E.css(t,"top"),l=E.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),y(e)&&(e=e.call(t,n,E.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===E.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===E.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=E(t).offset()).top+=E.css(t,"borderTopWidth",!0),r.left+=E.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-E.css(i,"marginTop",!0),left:e.left-r.left-E.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||st})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;E.fn[t]=function(i){return U(this,function(t,i,r){var o;if(_(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r},t,i,arguments.length)}}),E.each(["top","left"],function(t,e){E.cssHooks[e]=Vt(v.pixelPosition,function(t,n){if(n)return n=Yt(t,e),Ht.test(n)?E(t).position()[e]+"px":n})}),E.each({Height:"height",Width:"width"},function(t,e){E.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){E.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return U(this,function(e,n,r){var o;return _(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?E.css(e,n,a):E.style(e,n,r,a)},e,s?r:void 0,s)}})}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){E.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),E.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),E.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),E.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return i=l.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(l.call(arguments)))}).guid=t.guid=t.guid||E.guid++,r},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=N,E.isFunction=y,E.isWindow=_,E.camelCase=K,E.type=w,E.now=Date.now,E.isNumeric=function(t){var e=E.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return E}.apply(e,[]))||(t.exports=i);var Ze=n.jQuery,Je=n.$;return E.noConflict=function(t){return n.$===E&&(n.$=Je),t&&n.jQuery===E&&(n.jQuery=Ze),E},r||(n.jQuery=n.$=E),E})},function(t,e,n){"use strict";function i(t){return t[0]>0&&t[1]>0}function r(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function o(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o})},function(t,e,n){"use strict";var i=n(79),r=n(1),o=n(16),s=n(30),a=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new s.a(t):t,n=e.type;e.target=this;var i,r=this.listeners_[n];if(r){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var a=0,l=r.length;a<l;++a)if(!1===r[a].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var u=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];u--;)this.removeEventListener(n,o.c);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){Object(r.d)(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);t in this.pendingRemovals_?(n[i]=o.c,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t])}},e}(i.a);e.a=a},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"e",function(){return s}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return u});var i=n(6);function r(t,e,n,r,o,s,a){var l=(n-e)/r;if(l<3){for(;e<n;e+=r)s[a++]=t[e],s[a++]=t[e+1];return a}var u=new Array(l);u[0]=1,u[l-1]=1;for(var c=[e,n-r],h=0;c.length>0;){for(var f=c.pop(),p=c.pop(),d=0,g=t[p],m=t[p+1],v=t[f],y=t[f+1],_=p+r;_<f;_+=r){var b=t[_],x=t[_+1],w=Object(i.g)(b,x,g,m,v,y);w>d&&(h=_,d=w)}d>o&&(u[(h-e)/r]=1,p+r<h&&c.push(p,h),h+r<f&&c.push(h,f))}for(var E=0;E<l;++E)u[E]&&(s[a++]=t[e+E*r],s[a++]=t[e+E*r+1]);return a}function o(t,e,n,i,o,s,a,l){for(var u=0,c=n.length;u<c;++u){var h=n[u];a=r(t,e,h,i,o,s,a),l.push(a),e=h}return a}function s(t,e){return e*Math.round(t/e)}function a(t,e,n,i,r,o,a){if(e==n)return a;var l,u,c=s(t[e],r),h=s(t[e+1],r);e+=i,o[a++]=c,o[a++]=h;do{if(l=s(t[e],r),u=s(t[e+1],r),(e+=i)==n)return o[a++]=l,o[a++]=u,a}while(l==c&&u==h);for(;e<n;){var f=s(t[e],r),p=s(t[e+1],r);if(e+=i,f!=l||p!=u){var d=l-c,g=u-h,m=f-c,v=p-h;d*v==g*m&&(d<0&&m<d||d==m||d>0&&m>d)&&(g<0&&v<g||g==v||g>0&&v>g)?(l=f,u=p):(o[a++]=l,o[a++]=u,c=l,h=u,l=f,u=p)}}return o[a++]=l,o[a++]=u,a}function l(t,e,n,i,r,o,s,l){for(var u=0,c=n.length;u<c;++u){var h=n[u];s=a(t,e,h,i,r,o,s),l.push(s),e=h}return s}function u(t,e,n,i,r,o,s,a){for(var u=0,c=n.length;u<c;++u){var h=n[u],f=[];s=l(t,e,h,i,r,o,s,f),a.push(f),e=h[h.length-1]}return s}},function(t,e,n){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(35),s=n(38),a=n(6),l=function(t){function e(e,n){t.call(this),this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=Object(a.f)(t,e,r[0],r[1]);if(o<i){for(var s=this.stride,l=0;l<s;++l)n[l]=r[l];return n.length=s,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(i.m)(this.flatCoordinates,t)},e.prototype.getType=function(){return r.a.POINT},e.prototype.intersectsExtent=function(t){return Object(i.h)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(s.a)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.a);e.a=l},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o}),n.d(e,"c",function(){return s}),n.d(e,"d",function(){return a});var i=n(0);function r(t,e,n,r,s){return!Object(i.t)(s,function(i){return!o(t,e,n,r,i[0],i[1])})}function o(t,e,n,i,r,o){for(var s=0,a=t[n-i],l=t[n-i+1];e<n;e+=i){var u=t[e],c=t[e+1];l<=o?c>o&&(u-a)*(o-l)-(r-a)*(c-l)>0&&s++:c<=o&&(u-a)*(o-l)-(r-a)*(c-l)<0&&s--,a=u,l=c}return 0!==s}function s(t,e,n,i,r,s){if(0===n.length)return!1;if(!o(t,e,n[0],i,r,s))return!1;for(var a=1,l=n.length;a<l;++a)if(o(t,n[a-1],n[a],i,r,s))return!1;return!0}function a(t,e,n,i,r,o){if(0===n.length)return!1;for(var a=0,l=n.length;a<l;++a){var u=n[a];if(s(t,e,u,i,r,o))return!0;e=u[u.length-1]}return!1}},function(t,e,n){"use strict";n(6);function i(t,e){return t[0]+=e[0],t[1]+=e[1],t}function r(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function o(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function s(t,e){return t[0]*=e,t[1]*=e,t}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return s})},function(t,e,n){"use strict";n.d(e,"b",function(){return p});var i=n(1),r=n(5),o=n(2),s=n(15),a=n(105),l=n(28),u=n(10),c=n(47),h=n(55),f=function(t){function e(e){var n=Object(u.a)({},e);delete n.source,t.call(this,n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),Object(i.a)(this,Object(s.b)(l.a.SOURCE),this.handleSourcePropertyChange_,this);var r=e.source?e.source:null;this.setSource(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(l.a.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():h.a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(i.e)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(i.a)(t,r.a.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(i.e)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(i.e)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(i.a)(t,c.a.PRECOMPOSE,function(t){var e=t,n=this.getLayerState();n.managed=!1,void 0===this.getZIndex()&&(n.zIndex=1/0),e.frameState.layerStatesArray.push(n),e.frameState.layerStates[Object(o.c)(this)]=n},this),this.mapRenderKey_=Object(i.a)(this,r.a.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(l.a.SOURCE,t)},e}(a.a);function p(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}e.a=f},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return s});n(10);var i={};function r(){i={}}function o(t,e,n){var r=t.getCode(),o=e.getCode();r in i||(i[r]={}),i[r][o]=n}function s(t,e){var n;return t in i&&e in i[t]&&(n=i[t][e]),n}},function(t,e,n){"use strict";var i=n(2),r=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},r.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},r.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},r.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},r.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},r.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},r.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=Object(i.c)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},e.a=r},function(t,e,n){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},function(t,e,n){"use strict";n.d(e,"c",function(){return r}),n.d(e,"d",function(){return o}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a});var i=n(6);function r(t,e){return void 0!==t?0:void 0}function o(t,e){return void 0!==t?t+e:void 0}function s(t){var e=2*Math.PI/t;return function(t,n){return void 0!==t?t=Math.floor((t+n)/e+.5)*e:void 0}}function a(t){var e=t||Object(i.i)(5);return function(t,n){return void 0!==t?Math.abs(t+n)<=e?0:t+n:void 0}}},function(t,e,n){"use strict";var i=n(12),r=n(0),o=n(22),s=n(3),a=n(35),l=n(42),u=n(38),c=n(39),h=n(86),f=n(69),p=n(101),d=n(100),g=n(54),m=function(t){function e(e,n){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=o.a.XYM&&this.layout!=o.a.XYZM)return null;var n=void 0!==e&&e;return Object(h.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(g.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,o.a.XY)},e.prototype.getType=function(){return s.a.LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(u.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a);e.a=m},function(t,e,n){"use strict";(function(t){n.d(e,"c",function(){return c}),n.d(e,"b",function(){return h}),n.d(e,"a",function(){return f}),n.d(e,"d",function(){return p});var i=n(37),r=n(9),o=n(92),s=n(20),a=n(19);function l(t,e){var n=c(e.base);console.log(n);for(var i=n.length,r=0;r<i;r++){t.removeLayer(e.base[n[r]].layer);var o=e.base[n[r]].layer.getStyle();if(e.base[n[r]].added){var a=e.base[n[r]].style;e.base[n[r]].layer=Object(s.b)(t,data[n[r]],n[r],a.opacity,a.stroke_color,a.fill_color)}else e.base[n[r]].layer=Object(s.d)(t,ListUrl[n[r]],n[r]);e.base[n[r]].layer.setStyle(o)}!function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++)t[n[i]].layer.setExtent(e)}(e.base,global_data.projection.extent)}function u(t,e,n,i){var r=c(e.features),o=r.length;!function(t,e,n){for(var i=Object.keys(t).length,r=Object.keys(t),o=0;o<i;o++)t[r[o]].properties.centroid=h(t[r[o]],n)}(data.hashedStructureData,0,i);for(var l=Object(a.k)(global_data.filter.link,data),u=Object(a.b)(data.hashedStructureData),f=0;f<o;f++)"link"===r[f]?(t.removeLayer(e.features[r[f]]),e.features[r[f]]=Object(s.j)(t,data.links,data.hashedStructureData,global_data.style,global_data.ids.linkID[0],global_data.ids.linkID[1],l,u)):"node"===r[f]&&(t.removeLayer(e.features[r[f]]),e.features[r[f]]=Object(s.f)(t,data.links,data.hashedStructureData,global_data.style,l,u));!function(t,e){for(var n=Object.keys(t),i=0;i<n.length;i++)t[n[i]].setExtent(e)}(e.features,global_data.projection.extent)}function c(t){return Object.keys(t)}function h(t,e){if("MultiPolygon"==t.geometry.type){for(var n=0,o=-1,s=t.geometry.coordinates.length,a=0;a<s;a++){var l=i.polygon(t.geometry.coordinates[a]),u=i.area(l);o<u&&(n=a,o=u)}var c=i.polygon(t.geometry.coordinates[n]),h=i.centroid(c),f=Object(r.j)(h.geometry.coordinates,"EPSG:4326",e)}else{if("Point"==t.geometry.type)return Object(r.j)(t.geometry.coordinates,"EPSG:4326",e);h=i.centroid(t),f=Object(r.j)(h.geometry.coordinates,"EPSG:4326",e)}return f}function f(t,e){var n=document.getElementById("projection"),i=n.options[n.selectedIndex].value,s=Proj[i].name,a=Object(r.g)(s);console.log(s),console.log(a);for(var c=[],h=0;h<Proj[i].worldExtent.length;h++)c.push(Object(r.j)([Proj[i].worldExtent[h],0],"EPSG:4326",s)[0]);Proj[i].extent=c,a.setExtent(c);var f=new o.a({projection:a,center:Object(r.j)(map.getView().getCenter(),global_data.projection.name,s),zoom:map.getView().getZoom(),maxZoom:25,minZoom:-2});map.setView(f),console.log(global_data.projection.name),console.log("==============="),console.log(s),global_data.projection=Proj[i],l(map,t),u(map,t,global_data.projection.name,s)}function p(t,e,n){console.log(n),console.log(e);for(var i=[],s=Object(r.g)(n),a=0;a<Proj[e].worldExtent.length;a++)i.push(Object(r.j)([Proj[e].worldExtent[a],0],"EPSG:4326",n)[0]);Proj[e].extent=i,s.setExtent(i);var l=new o.a({projection:s,zoom:4,maxZoom:25,minZoom:-2});t.setView(l),l.fit(i)}t.Proj=[{name:"EPSG:3857",proj4:"+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +wktext  +no_defs",extent:[-80105505.56,-40097932.2,40052752.78,20048966.1],worldExtent:[-180,-85.06,180,85.06],center:[0,-0]},{name:"ESRI:53009",proj4:"+proj=moll +lon_0=0 +x_0=0 +y_0=0 +a=6371000 +b=6371000 +units=m no_defs",extent:[-18019909.211406656,-9009954.605703328,18019909.211406656,9009954.605703328],worldExtent:[-179,-89.99,179,89.99],center:[0,0]},{name:"RGF93 / Lambert-93 -- France",proj4:"+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[-378305.81,6093283.21,1212610.74,7186901.68],worldExtent:[-9.86,41.15,10.38,51.56],center:[489353.59,6587552.2]},{name:"ETRS89 / LAEA Europe",proj4:"+proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[1896628.62,1507846.05,4662111.45,6829874.45],worldExtent:[-16.1,32.88,40.18,84.17],center:[4440049.08,3937680.52]},{name:"eck6",proj4:"+proj=aeqd +lat_0=0 +lon_0=0 +x_0=0 +y_0=0 +a=6371000 +b=6371000  +units=m ",extent:[-18019909.211406656,-9009954.605703328,18019909.211406656,9009954.605703328],worldExtent:[-179,-89.99,179,89.99],center:[0,-0]},{name:"UTM",proj4:"+proj=cass +lat_0=10.44166666666667 +lon_0=-61.33333333333334 +x_0=86501.46392052001 +y_0=65379.0134283 +a=6378293.645208759 +b=6356617.987679838 +towgs84=-61.702,284.488,472.052,0,0,0,0 +to_meter=0.3047972654 +no_defs ",extent:[-18019909.211406656,-9009954.605703328,18019909.211406656,9009954.605703328],worldExtent:[-179,-89.99,179,89.99],center:[0,-0]},{name:"t4",proj4:"+proj=sterea +lat_0=46.5 +lon_0=-66.5 +k=0.999912 +x_0=2500000 +y_0=7500000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[-18019909.211406656,-9009954.605703328,18019909.211406656,9009954.605703328],worldExtent:[-179,-89.99,179,89.99],center:[0,-0]}]}).call(this,n(93))},function(t,e,n){"use strict";var i=n(11),r=n(1),o=n(5),s=n(15),a=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(r.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"==typeof e.getSimplifiedGeometry){var n=e;this.setGeometry(n)}else{var i=e;this.setProperties(i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(r.e)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(r.a)(t,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;var e;if(Array.isArray(t))e=t;else{Object(i.a)("function"==typeof t.getZIndex,41);var n=t;e=[n]}return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Object(r.c)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Object(r.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(s.a);e.a=a},function(t,e,n){"use strict";var i={create:function(t,e){var n;if(e=e||{},"TEXT"===t)n=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(n);else for(var r in n=document.createElement(t),/button/i.test(t)&&n.setAttribute("type","button"),e)switch(r){case"className":e.className&&e.className.trim&&n.setAttribute("class",e.className.trim());break;case"html":e.html instanceof Element?n.appendChild(e.html):void 0!==e.html&&(n.innerHTML=e.html);break;case"parent":e.parent.appendChild(n);break;case"style":this.setStyle(n,e.style);break;case"click":i.addListener(n,r,e[r]);break;case"on":for(var o in e.on)i.addListener(n,o,e.on[o]);break;case"checked":n.checked=!!e.checked;break;default:n.setAttribute(r,e[r])}return n},setHTML:function(t,e){e instanceof Element?t.appendChild(e):void 0!==e&&(t.innerHTML=e)},addListener:function(t,e,n){"string"==typeof e&&(e=e.split(" ")),e.forEach(function(e){t.addEventListener(e,n)})},removeListener:function(t,e,n){"string"==typeof e&&(e=e.split(" ")),e.forEach(function(e){t.removeEventListener(e,n)})},show:function(t){t.style.display=""},hide:function(t){t.style.display="none"},hidden:function(t){return"none"===i.getStyle(t,"display")},toggle:function(t){t.style.display="none"===t.style.display?"":"none"},setStyle:function(t,e){for(var n in e)switch(n){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":"number"==typeof e[n]?t.style[n]=e[n]+"px":t.style[n]=e[n];break;default:t.style[n]=e[n]}},getStyle:function(t,e){var n,i=(t.ownerDocument||document).defaultView;if(i&&i.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=i.getComputedStyle(t,null).getPropertyValue(e);else if(t.currentStyle&&(e=e.replace(/-(\w)/g,function(t,e){return e.toUpperCase()}),n=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(n)))return function(e){var n=t.style.left,i=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft+"px",t.style.left=n,t.runtimeStyle.left=i,e}(n);return/px$/.test(n)?parseInt(n):n},outerHeight:function(t){return t.offsetHeight+i.getStyle(t,"marginBottom")},outerWidth:function(t){return t.offsetWidth+i.getStyle(t,"marginLeft")},offsetRect:function(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.widtth||e.right-e.left}},scrollDiv:function(t,e){var n,r=!1,o=0,s=0,a="function"==typeof e.onmove?e.onmove:function(){},l=e.vertical?"pageY":"pageX",u=e.vertical?"scrollTop":"scrollLeft";t.querySelectorAll("img").forEach(function(t){t.ondragstart=function(){return!1}}),i.addListener(t,["mousedown"],function(e){r=e[l],s=new Date,t.classList.add("ol-move")}),i.addListener(window,["mousemove"],function(e){if(!1!==r){var i=r-e[l];t[u]+=i,(n=new Date)-s&&(o=(o+i/(n-s))/2),r=e[l],s=n,i&&a(!0)}else a(!1)}),i.addListener(window,["mouseup"],function(e){t.classList.remove("ol-move"),(s=new Date-s)>100?o=0:s>0&&(o=((o||0)+(r-e[l])/s)/2),t[u]+=100*o,r=!1,o=0,s=0}),e.mousewheel&&!t.classList.contains("ol-touch")&&i.addListener(t,["mousewheel","DOMMouseScroll","onmousewheel"],function(e){var n=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return t.classList.add("ol-move"),t[u]-=30*n,!1})}};e.a=i},function(t,e,n){"use strict";var i=n(24),r=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||i.a[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},r.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},r.prototype.setWorldExtent=function(t){this.worldExtent_=t},r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return l}),n.d(e,"d",function(){return u});var i=n(0),r=n(57),o=n(100);function s(t,e,n,r,s){var a=Object(i.s)(Object(i.j)(),t,e,n,r);return!!Object(i.F)(s,a)&&(!!Object(i.g)(s,a)||(a[0]>=s[0]&&a[2]<=s[2]||(a[1]>=s[1]&&a[3]<=s[3]||Object(o.a)(t,e,n,r,function(t,e){return Object(i.G)(s,t,e)}))))}function a(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){if(s(t,e,n[o],i,r))return!0;e=n[o]}return!1}function l(t,e,n,i,o){if(!function(t,e,n,i,o){return!!(s(t,e,n,i,o)||Object(r.b)(t,e,n,i,o[0],o[1])||Object(r.b)(t,e,n,i,o[0],o[3])||Object(r.b)(t,e,n,i,o[2],o[1])||Object(r.b)(t,e,n,i,o[2],o[3]))}(t,e,n[0],i,o))return!1;if(1===n.length)return!0;for(var a=1,l=n.length;a<l;++a)if(Object(r.a)(t,n[a-1],n[a],i,o)&&!s(t,n[a-1],n[a],i,o))return!1;return!0}function u(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(l(t,e,a,i,r))return!0;e=a[a.length-1]}return!1}},function(t,e,n){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,n){"use strict";e.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(t,e,n){"use strict";function i(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function r(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=(a-o)*(l+s),o=a,s=l}return r>0}function o(t,e,n,i,o){for(var s=void 0!==o&&o,a=0,l=n.length;a<l;++a){var u=n[a],c=r(t,e,u,i);if(0===a){if(s&&c||!s&&!c)return!1}else if(s&&!c||!s&&c)return!1;e=u}return!0}function s(t,e,n,i,r){for(var s=0,a=n.length;s<a;++s)if(!o(t,e,n[s],i,r))return!1;return!0}function a(t,e,n,o,s){for(var a=void 0!==s&&s,l=0,u=n.length;l<u;++l){var c=n[l],h=r(t,e,c,o);(0===l?a&&h||!a&&!h:a&&!h||!a&&h)&&i(t,e,c,o),e=c}return e}function l(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o)e=a(t,e,n[o],i,r);return e}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return a}),n.d(e,"d",function(){return l})},function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return f}),n.d(e,"a",function(){return p}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return g}),n.d(e,"e",function(){return m});var i=n(25),r=n(61),o=n(26),s=n(106),a=(n(110),n(144)),l=n(56),u=n(0),c=n(32),h=n(20);function f(t,e,n){var s=Object(c.a)(e),a=Object(c.a)(n);return new i.b({stroke:new r.a({color:"rgba("+s[0]+","+s[1]+","+s[2]+", "+t+")",width:1}),fill:new o.a({color:"rgba("+a[0]+","+a[1]+","+a[2]+", "+t+")"})})}function p(t){return[new i.b({image:new s.a({radius:Object(h.i)("node",t.get("pop"),global_data.style.ratioBounds,global_data.style)/map.getView().getResolution(),fill:new o.a({color:"orange"}),stroke:new r.a({width:1,color:"orange"})}),geometry:new l.a(Object(u.x)(t.getGeometry().getExtent()))})]}function d(e){if("fixed"===global_data.style.link.size.var)var n=1;else if("noOriented"===global_data.style.link.geometry.oriented)n=-e.get("size").value;else n=e.get("size").value;if("fixed"===global_data.style.link.color.var)var r=t.color(global_data.style.link.color.palette);else if("categorical"===global_data.style.link.color.cat)r=t.color(global_data.style.link.categorialOrderedColors[e.get(global_data.style.link.color.var).toString()]);else if("number"===global_data.style.link.color.cat){var s=(e.get("color").value-global_data.style.link.color.min)/(global_data.style.link.color.max-global_data.style.link.color.min);r=t.color(t["interpolate"+global_data.style.link.color.palette](s))}if("fixed"===global_data.style.link.opa.var)r.opacity=global_data.style.link.opa.vmax;else{var a=t["scale"+global_data.style.link.opa.cat]().domain([0,Number(global_data.style.link.opa.vmax)]).range([Number(global_data.style.link.opa.min),Number(global_data.style.link.opa.max)]);r.opacity=a(e.get("opa").value)}return new i.b({fill:new o.a({color:r.rgb().toString()}),zIndex:n})}function g(e,n){if("fixed"===global_data.style.node.size.cat)var s=1;else s=global_data.style.node.size.max-e.get(global_data.style.node.size.var);if("fixed"===global_data.style.node.color.var)var l=t.color(global_data.style.node.color.palette);else if("categorical"===global_data.style.node.color.cat)l=t.color(global_data.style.node.categorialOrderedColors[e.get(global_data.style.node.color.var).toString()]);else if("number"===global_data.style.node.color.cat)l=t.color(n.color(e.get(global_data.style.node.color.var)));"fixed"===global_data.style.node.opa.var?l.opacity=global_data.style.node.opa.vmax:l.opacity=n.opa(Number(e.get(global_data.style.node.opa.var)));var u=new i.b({fill:new o.a({color:l.rgb().toString()}),stroke:new r.a({color:l.rgb().toString(),width:0}),zIndex:s,text:new a.a});return u.getText().setText(e.get(global_data.style.node.text)),u}function m(e){if("fixed"===global_data.style.node.size.cat)var n=1;else n=global_data.style.node.size.max-e.get(global_data.style.node.size.var);var r=t.color("#666666");return r.opacity=.4,new i.b({fill:new o.a({color:r.rgb().toString()}),zIndex:n})}}).call(this,n(94))},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var i=42,r=256},function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=function(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i};function r(t,e,n,r,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=r,o):new i(t,e,n,r)}i.prototype.contains=function(t){return this.containsXY(t[1],t[2])},i.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},i.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},i.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},i.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},i.prototype.getHeight=function(){return this.maxY-this.minY+1},i.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},i.prototype.getWidth=function(){return this.maxX-this.minX+1},i.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.b=i},function(t,e,n){"use strict";var i=n(2),r=n(18),o=n(44),s=n(8),a=n(81);var l=n(66),u=n(56),c=n(64),h=n(43),f=n(0),p=function(t){t=t||{};var e=document.createElement("div");if(t.target)e.className=t.className||"ol-legend";else{e.className=(t.className||"ol-legend")+" ol-unselectable ol-control ol-collapsed"+(!1===t.collapsible?" ol-uncollapsible":"");var n=document.createElement("button");n.setAttribute("type","button"),n.addEventListener("click",function(){e.classList.toggle("ol-collapsed")}),e.appendChild(n),(n=document.createElement("button")).setAttribute("type","button"),n.className="ol-closebox",n.addEventListener("click",function(){e.classList.toggle("ol-collapsed")}),e.appendChild(n)}this._imgElement=document.createElement("div"),this._imgElement.className="ol-legendImg",e.appendChild(this._imgElement),this._tableElement=document.createElement("ul"),e.appendChild(this._tableElement),o.a.call(this,{element:e,target:t.target}),this._rows=[],this.set("size",t.size||[40,25]),this.set("margin",0===t.margin?0:t.margin||10),this.set("title",t.title||""),this._style=t.style,!1===t.collapsed&&this.show(),this.refresh()};Object(i.d)(p,o.a),p.prototype.setStyle=function(t){this._style=t,this.refresh()},p.prototype.addRow=function(t){this._rows.push(t||{}),this.refresh()},p.prototype.removeRow=function(t){this._rows.splice(t,1),this.refresh()},p.prototype.getRow=function(t){return this._rows[t]},p.prototype.getLength=function(){return this._rows.length},p.prototype.refresh=function(){var t=this,e=this._tableElement;e.innerHTML="";var n=this.get("size")[0]+2*this.get("margin"),i=this.get("size")[1]+2*this.get("margin");function o(r,o,s,a){var l=document.createElement("li");l.style.height=i+"px",l.addEventListener("click",function(){t.dispatchEvent({type:"select",title:r,row:s,index:a})});var u=document.createElement("div");l.appendChild(u),u.style.height=i+"px",u=document.createElement("div"),o?l.className="ol-title":u.style.paddingLeft=n+"px",u.innerHTML=r||"",l.appendChild(u),e.appendChild(l)}this.get("title")&&o(this.get("title"),!0,{},-1);var s=document.createElement("canvas");s.width=5*n,s.height=(this._rows.length+1)*i*r.b,this._imgElement.innerHTML="",this._imgElement.append(s),this._imgElement.style.height=(this._rows.length+1)*i+"px";for(var a,l=0;a=this._rows[l];l++)o(a.title,!1,a,l),s=this.getStyleImage(a,s,l+(this.get("title")?1:0))},p.prototype.show=function(){this.element.classList.remove("ol-collapsed")},p.prototype.hide=function(){this.element.classList.add("ol-collapsed")},p.prototype.toggle=function(){this.element.classList.toggle("ol-collapsed")},p.prototype.getStyleImage=function(t,e,n){t=t||{};var i=this.get("size"),o=i[0]+2*this.get("margin"),p=i[1]+2*this.get("margin"),d=e,g=r.b;d||((d=document.createElement("canvas")).width=o*g,d.height=p*g);var m=d.getContext("2d");m.save();var v,y=function(t,e){var n=t.canvas,i=e||{},o=i.pixelRatio||r.b,l=i.size;l&&(n.width=l[0]*o,n.height=l[1]*o,n.style.width=l[0]+"px",n.style.height=l[1]+"px");var u=[0,0,n.width,n.height],c=Object(s.f)(Object(s.c)(),o,o);return new a.a(t,o,u,c,0)}(m),_=t.typeGeom,b=t.feature;!b&&t.properties&&_&&(b=/Point/.test(_)?new l.a(new u.a([0,0])):/LineString/.test(_)?new l.a(new c.a([0,0])):new l.a(new h.a([[0,0]]))).setProperties(t.properties),b?((v=b.getStyle())||(v="function"==typeof this._style?this._style(b):this._style||[]),_=b.getGeometry().getType()):v=t.style,v instanceof Array||(v=[v]);var x,w,E=o/2,C=p/2,S=i[0]/2,M=i[1]/2;if("Point"===_){var I=null;for(x=0;w=v[x];x++){var O=w.getImage();if(O&&O.getAnchor){var T=O.getAnchor(),N=O.getSize(),k=T[0]-N[0],P=T[1]-N[1];I?Object(f.q)(I,[k,P,k+N[0],P+N[1]]):I=[k,P,k+N[0],P+N[1]]}}I&&(E+=(I[2]+I[0])/2,C+=(I[3]+I[1])/2)}for(C+=e?n*p:0,x=0;w=v[x];x++)switch(y.setStyle(w),_){case u.a:case"Point":y.drawGeometry(new u.a([E,C]));break;case c.a:case"LineString":m.save(),m.rect(this.get("margin")*g,0,i[0]*g,d.height),m.clip(),y.drawGeometry(new c.a([[E-S,C],[E+S,C]])),m.restore();break;case h.a:case"Polygon":y.drawGeometry(new h.a([[[E-S,C-M],[E+S,C-M],[E+S,C+M],[E-S,C+M],[E-S,C-M]]]))}return m.restore(),d};e.a=p},,function(t,e,n){"use strict";var i=function(){this.disposed_=!1};i.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},i.prototype.disposeInternal=function(){},e.a=i},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var i=n(1),r=n(53),o=n(5),s=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.a.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=Object(i.a)(this,t[o],e);return r}return Object(i.a)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=Object(i.b)(this,t[o],e);return r}return Object(i.b)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)Object(i.c)(this,t[n],e);else Object(i.c)(this,t,e)},e}(r.a);function a(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)Object(i.e)(t[e]);else Object(i.e)(t)}e.a=s},function(t,e,n){"use strict";var i=n(12),r=n(48),o=n(0),s=n(3),a=n(35),l=n(41),u=n(18),c=n(99),h=n(4),f=n(8),p=function(t){function e(e,n,i,r,o){t.call(this),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Object(f.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=Object(l.c)(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var c=0,h=r.length;c<h;c+=2){var p=r[c]-this.imageAnchorX_,d=r[c+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_){var g=p+this.imageAnchorX_,m=d+this.imageAnchorY_;Object(f.b)(s,g,m,this.imageScale_,this.imageScale_,u,-g,-m),o.setTransform.apply(o,s)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,d,this.imageWidth_,this.imageHeight_)}0===u&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Object(l.c)(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){var a=r[e]+this.textOffsetX_,u=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var c=Object(f.b)(this.tmpLocalTransform_,a,u,this.textScale_,this.textScale_,s,-a,-u);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,a,u),this.textFillState_&&o.fillText(this.text_,a,u)}0===s&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,s=Object(l.c)(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;r&&(a-=2);for(var u=2;u<a;u+=2)o.lineTo(s[u],s[u+1]);return r&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(a.b)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),s=this.context_;s.beginPath(),s.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case s.a.POINT:this.drawPoint(t);break;case s.a.LINE_STRING:this.drawLineString(t);break;case s.a.POLYGON:this.drawPolygon(t);break;case s.a.MULTI_POINT:this.drawMultiPoint(t);break;case s.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case s.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case s.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case s.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Object(o.F)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Object(o.F)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,s=t.getEnds(),a=t.getStride();n.beginPath();for(var l=0,u=s.length;l<u;++l)r=this.moveToLineTo_(i,r,s[l],a,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),s=t.getStride();e.beginPath();for(var a=0,l=r.length;a<l;++a){var u=r[a];i=this.drawRings_(n,i,u,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),u.a&&(Object(i.b)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,u.a&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:h.l;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=i&&(n.textAlign=e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Object(r.a)(n||h.b)}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),s=e.getLineDash(),a=e.getLineDashOffset(),l=e.getLineJoin(),u=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:h.d,lineDash:s||h.e,lineDashOffset:a||h.f,lineJoin:void 0!==l?l:h.g,lineWidth:this.pixelRatio_*(void 0!==u?u:h.h),miterLimit:void 0!==c?c:h.i,strokeStyle:Object(r.a)(i||h.k)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Object(r.a)(n||h.b)}}else this.textFillState_=null;var i=t.getStroke();if(i){var o=i.getColor(),s=i.getLineCap(),a=i.getLineDash(),l=i.getLineDashOffset(),u=i.getLineJoin(),c=i.getWidth(),f=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==s?s:h.d,lineDash:a||h.e,lineDashOffset:l||h.f,lineJoin:void 0!==u?u:h.g,lineWidth:void 0!==c?c:h.h,miterLimit:void 0!==f?f:h.i,strokeStyle:Object(r.a)(o||h.k)}}else this.textStrokeState_=null;var p=t.getFont(),d=t.getOffsetX(),g=t.getOffsetY(),m=t.getRotateWithView(),v=t.getRotation(),y=t.getScale(),_=t.getText(),b=t.getTextAlign(),x=t.getTextBaseline();this.textState_={font:void 0!==p?p:h.c,textAlign:void 0!==b?b:h.l,textBaseline:void 0!==x?x:h.m},this.text_=void 0!==_?_:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==g?this.pixelRatio_*g:0,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0!==v?v:0,this.textScale_=this.pixelRatio_*(void 0!==y?y:1)}else this.text_=""},e}(c.a);e.a=p},function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=s*a-o*l,o=a,s=l}return r/2}function r(t,e,n,r){for(var o=0,s=0,a=n.length;s<a;++s){var l=n[s];o+=i(t,e,l,r),e=l}return o}function o(t,e,n,i){for(var o=0,s=0,a=n.length;s<a;++s){var l=n[s];o+=r(t,e,l,i),e=l[l.length-1]}return o}n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r}),n.d(e,"c",function(){return o})},function(t,e,n){"use strict";t.exports=r,t.exports.default=r;var i=n(133);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=g(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],l(r,t.leaf?i(o):o);return r}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function g(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,e,n,r,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(s=e+Math.ceil((n-e)/r/2)*r,i(t,s,e,n,o),a.push(e,s,s,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!d(t,e))return n;for(var r,o,s,a,l=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],d(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):l.push(s));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!d(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],d(t,s=e.leaf?n(o):o)){if(e.leaf||p(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=g([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,s,a=this.data,l=this.toBBox(t),u=[],c=[];a||u.length;){if(a||(a=u.pop(),i=u[u.length-1],n=c.pop(),s=!0),a.leaf&&-1!==(r=o(t,a.children,e)))return a.children.splice(r,1),u.push(a),this._condense(u),this;s||a.leaf||!p(a,l)?i?(n++,a=i.children[n],s=!1):a=null:(u.push(a),c.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return s(r=g(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=g([])).leaf=!1,r.height=i;var l,u,c,h,f=Math.ceil(o/a),p=f*Math.ceil(Math.sqrt(a));for(m(t,e,n,p,this.compareMinX),l=e;l<=n;l+=p)for(m(t,l,c=Math.min(l+p-1,n),f,this.compareMinY),u=l;u<=c;u+=f)h=Math.min(u+f-1,c),r.children.push(this._build(t,u,h,i-1));return s(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,l,u,c,f,p,d;i.push(e),!e.leaf&&i.length-1!==n;){for(c=f=1/0,r=0,o=e.children.length;r<o;r++)l=h(s=e.children[r]),p=t,d=s,(u=(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-l)<f?(f=u,c=l<c?l:c,a=s):u===f&&l<c&&(c=l,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),l(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=g(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=g([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,l,u,c,f,p,d,g,m,v,y;for(u=c=1/0,i=e;i<=n-e;i++)r=a(t,0,i,this.toBBox),o=a(t,i,n,this.toBBox),p=r,d=o,g=void 0,m=void 0,v=void 0,y=void 0,g=Math.max(p.minX,d.minX),m=Math.max(p.minY,d.minY),v=Math.min(p.maxX,d.maxX),y=Math.min(p.maxY,d.maxY),s=Math.max(0,v-g)*Math.max(0,y-m),l=h(r)+h(o),s<u?(u=s,f=i,c=l<c?l:c):s===u&&l<c&&(c=l,f=i);return f},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:u,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,u=a(t,0,e,s),c=a(t,n-e,n,s),h=f(u)+f(c);for(r=e;r<n-e;r++)o=t.children[r],l(u,t.leaf?s(o):o),h+=f(u);for(r=n-e-1;r>=e;r--)o=t.children[r],l(c,t.leaf?s(o):o),h+=f(c);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)l(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,n){"use strict";n.r(e),function(t,i){n.d(e,"readData",function(){return k}),n.d(e,"getZoomFromVerticalBounds",function(){return L}),n.d(e,"createGeoJSON",function(){return D}),n.d(e,"prepareLinkData",function(){return F});var r=n(19),o=n(20),s=n(91),a=n(65),l=n(49),u=n(46),c=n(85),h=n(33),f=n(37),p=n(119),d=n(120),g=(n(138),n(117)),m=n(145),v=n(92),y=n(116),_=n(118),b=(n(139),n(90)),x=(n(140),n(142),n(108),n(113),n(143),n(109));t("#strokeColorpickerAdd").spectrum({color:"#1E90FF"}),t("#fillColorpickerAdd").spectrum({color:"aliceblue"}),t("#strokeColorpickerGeoJson").spectrum({color:"#1E90FF"}),t("#fillColorpickerGeoJson").spectrum({color:"aliceblue"});var w=t(".container-fluid").height();document.getElementById("map").style.height=w+"px",document.getElementById("removeFilterLayout").addEventListener("click",function(){var e=document.getElementById("removeFilterLayout"),n=t("#filterDiv").outerWidth();if("0px"===e.style.right){var i=t("#map").outerWidth()-n;n=t("#filterDiv").outerWidth();t("#removeFilterLayout").animate({right:n+"px"},1e3),t("#filterDiv").animate({right:"0px"},1e3),t("#map").animate({width:i+"px",right:n+"px"},1e3,function(){map.updateSize()}),t(".right_icon").remove(),t("#removeFilterLayout").append('<img src="assets/svg/si-glyph-arrow-right.svg" class="right_icon"></img>')}else{i=t("#map").outerWidth()+n;t("#removeFilterLayout").animate({right:"0px"},1e3),t("#filterDiv").animate({right:"-"+n+"px"},1e3),t("#map").animate({width:i+"px",right:"0px"},1e3,function(){map.updateSize()}),t(".right_icon").remove(),t("#removeFilterLayout").append('<img src="assets/svg/si-glyph-arrow-left.svg" class="right_icon"></img>')}}),document.getElementById("removeLayerLayout").addEventListener("click",function(){var e=document.getElementById("removeLayerLayout"),n=t("#layerLayout").outerWidth(),i=t("#layerLayout").outerWidth();if("0px"===e.style.left){document.getElementById("map").style.position="absolute";var r=t("#map").outerWidth()-n;t("#removeLayerLayout").animate({left:i+"px"},1e3),t("#layerLayout").animate({left:"0px"},1e3),t("#map").animate({width:r+"px",left:"0px"},1e3,function(){map.updateSize()}),t(".left_icon").remove(),t("#removeLayerLayout").append('<img src="assets/svg/si-glyph-arrow-left.svg" class="left_icon"></img>')}else{document.getElementById("map").style.position="absolute";r=t("#map").outerWidth()+n;t("#removeLayerLayout").animate({left:"0px"},1e3),t("#layerLayout").animate({left:"-"+n+"px"},1e3),t("#map").animate({width:r+"px",left:"-"+n+"px"},1e3,function(){map.updateSize()}),t(".left_icon").remove(),t("#removeLayerLayout").append('<img src="assets/svg/si-glyph-arrow-right.svg" class="left_icon"></img>')}});var E=t("#layerLayout").outerWidth();document.getElementById("removeLayerLayout").style.left=E+"px";E=t("#filterDiv").outerWidth();document.getElementById("removeFilterLayout").style.right=E+"px",Object(h.c)();for(var C=document.getElementById("projection"),S=0;S<Proj.length;S++){x.a.defs(Proj[S].name,Proj[S].proj4),(I=document.createElement("option")).textContent=Proj[S].name,I.value=S,C.appendChild(I)}Object(g.a)(x.a),i.data={hashedStructureData:{},filter:{link:{},node:{}}},i.global_data={files:{node:null,link:null,Ltype:null,Ntype:null,aggr:"sum"},layers:{features:{},base:{}},style:{link:{color:{palette:null,cat:null,var:null,max:null,min:null},opa:{cat:null,var:null,max:null,min:null,vmax:null},size:{cat:null,var:null,max:null,min:null,ratio:null},geometry:{oriented:!0,type:null,head:{height:null,width:null},place:{base:null,height:null}}},node:{color:{palette:null,cat:null,var:null,max:null,min:null},size:{cat:null,ratio:null,var:null,max:null,min:null},opa:{cat:null,var:null,vmax:null,max:null,min:null},text:null,ratioBounds:null}},filter:{link:[],node:[]},ids:{nodeID:null,linkID:[null,null],vol:"count",long:"lat",lat:"lon"},projection:{},legend:{link:{legend:null,color:null,opa:null},node:{legend:null,color:null,opa:null}}},global_data.projection=Proj[0],document.getElementById("importDataButton").addEventListener("click",function(){!function(){data.links=k(data.rawLinkData,global_data.files.Ltype),console.log(data.links);for(var e=Object.keys(data.links[0]),n=0;n<e.length;n++)t("#importIDOri").append(t("<option>",{text:e[n]}).attr("value",e[n])),t("#importIDDest").append(t("<option>",{text:e[n]}).attr("value",e[n])),t("#importIDVol").append(t("<option>",{text:e[n]}).attr("value",e[n]))}()}),document.getElementById("localMap").addEventListener("click",function(){Object(s.b)("local",map,global_data,data)}),document.getElementById("countryMap").addEventListener("click",function(){Object(s.b)("country",map,global_data,data)}),document.getElementById("worldMap").addEventListener("click",function(){Object(s.b)("world",map,global_data,data)}),document.getElementById("OSMbutton").addEventListener("click",function(){Object(o.g)(map,global_data.layers.base)}),document.getElementById("buttonProjection").addEventListener("click",function(){Object(a.a)(global_data.layers,global_data.center)}),document.getElementById("addNewNodeFeaturesButton").addEventListener("click",function(){Object(h.l)("Node")}),document.getElementById("addNewLinkFeaturesButton").addEventListener("click",function(){Object(h.l)("Link"),Object(c.d)()}),document.getElementById("arrowtype").addEventListener("change",function(){Object(c.b)()}),document.getElementById("arrowData").addEventListener("change",function(){Object(c.c)()}),document.getElementById("selectFilterButton").addEventListener("click",function(){Object(r.j)(),Object(r.c)()}),document.getElementById("addNewLayerButtonAdd").addEventListener("click",function(){Object(o.a)(map,global_data.layers,"Add")}),document.getElementById("addFilterButton").addEventListener("click",function(){Object(r.a)()}),document.getElementById("addSemioButtonLink").addEventListener("click",function(){Object(h.j)(global_data.style,"Link")}),document.getElementById("addSemioButtonNode").addEventListener("click",function(){Object(h.j)(global_data.style,"Node")}),importPresetMapButton,document.getElementById("addNewLayerButtonGeoJson").addEventListener("click",function(){var e=document.getElementById("nameGeoJson").value,n=document.getElementById("opacityGeoJson").value,i=t("#strokeColorpickerGeoJson").spectrum("get").toHexString(),r=t("#fillColorpickerGeoJson").spectrum("get").toHexString();global_data.layers.base[e]={},global_data.layers.base[e].layer=Object(o.b)(map,data.geoJson,e,n,i,r),global_data.layers.base[e].style={stroke:i,fill:r,opacity:n},global_data.layers.base[e].added=!0,data[e]=data.geoJson,function(t){var e=t.features;console.log(e);for(var n=e.length,i=0;i<n;i++)null!==e[i].geometry&&(e[i]=f.point(Object(a.b)(e[i],"EPSG:4326"),e[i].properties));console.log(t)}(data.geoJson),Object(u.b)(e)}),document.getElementById("importPresetLocationButton").addEventListener("click",function(){R(),console.log("bonjour"),document.getElementById("label_nodes").innerHTML="Levels",t.getJSON("public/data/save/saved_nodes.json",function(e){console.log(e),data.saved_nodes=e;var n=Object.keys(e);console.log(n);for(var i=0;i<n.length;i++)t("#importIDStruct").append(t("<option>",{text:n[i]}).attr("value",n[i]));console.log(data.saved_nodes),document.getElementById("importIDStruct").addEventListener("change",function(){P()}),P()}),console.log(data.saved_nodes)}),document.getElementById("importUserLocationButton").addEventListener("click",function(){R()}),document.getElementById("importPresetMapButton").addEventListener("click",function(){!function(){global_data.files.Ntype="geojson";var e=document.getElementById("importIDStruct").value,n=document.getElementById("importSubRegionsStruct").value,i=document.getElementById("importNodesStruct").value,r=data.saved_nodes[e][n][i].file;global_data.ids.nodeID=data.saved_nodes[e][n][i].id,t.getJSON(r,function(t){data.nodes=t,j()})}()}),document.getElementById("importedFileLocationButton").addEventListener("click",function(){!function(){global_data.ids.nodeID=document.getElementById("importNodeID").value,"csv"===global_data.files.Ntype&&(global_data.ids.long=document.getElementById("importLatStruct").value,global_data.ids.lat=document.getElementById("importLonStruct").value,data.nodes=D(data.nodes));j()}()}),document.getElementById("importDataButton").disabled=!0,function(){function e(e){data.rawStructureData=e.target.result,data.nodes=k(data.rawStructureData,global_data.files.Ntype),function(){null===document.getElementById("importLatStruct")&&"geojson"!==global_data.files.Ntype||(t("#importLatStruct").parent().parent().remove(),t("#importLonStruct").parent().parent().remove());null!==document.getElementById("importIDNodeStruct")&&t("#importIDNodeStruct").children().remove();t("#importIDNodeStruct").append(t("<p>").append(t("<label>",{text:"ID"}).attr("for","select")).append(t("<select>").attr("class","custom-select").attr("id","importNodeID"))),"csv"===global_data.files.Ntype&&t("#importIDImportStructComplement").append(t("<div>").attr("class","col-md-6").append(t("<p>").append(t("<label>",{text:"Lat"}).attr("for","select")).append(t("<select>").attr("class","custom-select").attr("id","importLatStruct")))).append(t("<div>").attr("class","col-md-6").append(t("<p>").append(t("<label>",{text:"Long"}).attr("for","select")).append(t("<select>").attr("class","custom-select").attr("id","importLonStruct"))));if("csv"===global_data.files.Ntype)var e=Object.keys(data.nodes[0]);else var e=Object.keys(data.nodes.features[0].properties);for(var n=0;n<e.length;n++)t("#importNodeID").append(t("<option>",{text:e[n]}).attr("value",e[n])),"csv"===global_data.files.Ntype&&(t("#importLatStruct").append(t("<option>",{text:e[n]}).attr("value",e[n])),t("#importLonStruct").append(t("<option>",{text:e[n]}).attr("value",e[n])))}()}document.getElementById("Node").addEventListener("change",function(t){var n=new FileReader;n.onload=e,n.readAsText(t.target.files[0]),global_data.files.Ntype=t.target.files[0].name.split(".")[t.target.files[0].name.split(".").length-1],document.getElementById("Node").disabled=!0,document.getElementById("label_node").innerHTML=t.target.files[0].name,console.log(global_data.files.Ntype)})}(),function(){function t(t){data.geoJson=JSON.parse(t.target.result)}document.getElementById("geoJson").addEventListener("change",function(e){var n=new FileReader;n.onload=t,n.readAsText(e.target.files[0]),document.getElementById("label_geoJson").innerHTML=e.target.files[0].name})}(),function(){function t(t){data.rawLinkData=t.target.result}document.getElementById("Link").addEventListener("change",function(e){var n=new FileReader;n.onload=t,n.readAsText(e.target.files[0]),global_data.files.Ltype=e.target.files[0].name.split(".")[e.target.files[0].name.split(".").length-1],document.getElementById("Link").disabled=!0,document.getElementById("label_link").innerHTML=e.target.files[0].name,document.getElementById("importDataButton").disabled=!1})}();C=document.getElementById("layersAdd");var M=Object.keys(ListUrl);for(S=0;S<M.length;S++){var I;(I=document.createElement("option")).textContent=M[S],I.value=M[S],C.appendChild(I)}i.map=new m.a({renderer:"webgl",target:"map",loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,view:new v.a({center:[0,-0],zoom:0,minZoom:-2,maxZoom:30})}),map.addControl(new p.a);var O=new d.a;map.addControl(O);var T=new _.a({popupClass:"tooltips",offsetBox:15});map.addOverlay(T);var N=new y.a;function k(t,e){return"json"===e?JSON.parse(t):"csv"===e?Object(b.parse)(t,{header:!0}).data:"geojson"===e?JSON.parse(t):void 0}function P(){null!==document.getElementById("importSubRegionsStruct")&&(t("#importSubRegionsStruct").parent().parent().remove(),t("#importNodesStruct").parent().parent().remove()),t("#importIDStruct").parent().parent().parent().append(t("<div>").attr("class","col-md-4").append(t("<p>").append(t("<label>",{text:"Region"}).attr("for","select")).append(t("<select>").attr("class","custom-select").attr("id","importSubRegionsStruct"))));var e=document.getElementById("importIDStruct").value,n=Object.keys(data.saved_nodes[e]);console.log(n);for(var i=0;i<n.length;i++)t("#importSubRegionsStruct").append(t("<option>",{text:n[i]}).attr("value",n[i]));document.getElementById("importSubRegionsStruct").addEventListener("change",function(){A()}),A()}function A(){null!==document.getElementById("importNodesStruct")&&t("#importNodesStruct").parent().parent().remove();var e=document.getElementById("importIDStruct").value,n=document.getElementById("importSubRegionsStruct").value,i=Object.keys(data.saved_nodes[e][n]);data.saved_nodes[e][n];console.log(i),t("#importIDStruct").parent().parent().parent().append(t("<div>").attr("class","col-md-4").append(t("<p>").append('<label for="valueTofilter">Code <button  class="badge badge-pill badge-secondary"  id="buttonTypeMapToLoad" data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content="nothing"><img class="small-icon" src="assets/svg/si-glyph-info.svg"/></button></label>').append(t("<select>").attr("class","custom-select").attr("id","importNodesStruct"))));for(var r=0;r<i.length;r++)t("#importNodesStruct").append(t("<option>",{text:i[r]}).attr("value",i[r]));var o=document.getElementById("importNodesStruct").value;t("#buttonTypeMapToLoad").attr("data-content","Used ID : "+data.saved_nodes[e][n][o].code),t('[data-toggle="popover"]').popover(),document.getElementById("importNodesStruct").addEventListener("change",function(){var e=document.getElementById("importIDStruct").value,n=document.getElementById("importSubRegionsStruct").value,i=document.getElementById("importNodesStruct").value;t("#buttonTypeMapToLoad").attr("data-content","Used ID : "+data.saved_nodes[e][n][i].code),t('[data-toggle="popover"]').popover()})}function L(t){return t<5e4?13:t<25e4?8:t<125e4?6:t<625e4?3:1}function D(t){for(var e=t.length,n=[],i=0;i<e;i++){var r=f.point([Number(t[i][global_data.ids.lat]),Number(t[i][global_data.ids.long])],t[i]);n.push(r)}return f.featureCollection(n)}function R(){global_data.ids.linkID[0]=document.getElementById("importIDOri").value,global_data.ids.linkID[1]=document.getElementById("importIDDest").value,global_data.ids.vol=document.getElementById("importIDVol").value,global_data.files.aggr=document.getElementById("importAggrFun").value}function j(){data.rawLinkData=null,data.rawStructureData=null;for(var e=-1/0,n=1/0,i=-1/0,u=1/0,c=data.links.length,h=[],f=0;f<c;f++)h.includes(data.links[f][global_data.ids.linkID[0]])||h.push(data.links[f][global_data.ids.linkID[0]]),h.includes(data.links[f][global_data.ids.linkID[1]])||h.push(data.links[f][global_data.ids.linkID[1]]);for(var p=[],d=[],g=(c=data.nodes.features.length,0);g<c;g++)if(!p.includes(data.nodes.features[g].properties[global_data.ids.nodeID])&&h.includes(data.nodes.features[g].properties[global_data.ids.nodeID])){data.hashedStructureData[data.nodes.features[g].properties[global_data.ids.nodeID]]=data.nodes.features[g];var m=Object(a.b)(data.nodes.features[g],global_data.projection.name);data.hashedStructureData[data.nodes.features[g].properties[global_data.ids.nodeID]].properties.centroid=m,data.hashedStructureData[data.nodes.features[g].properties[global_data.ids.nodeID]].properties[global_data.ids.vol]=0,p.push(data.nodes.features[g].properties[global_data.ids.nodeID]),e<m[0]&&(e=m[0]),n>m[0]&&(n=m[0]),i<m[1]&&(i=m[1]),u>m[1]&&(u=m[1])}else d.push(data.nodes.features[g].properties[global_data.ids.nodeID]);0!==d.length&&alert(d.length+"nodes have been removed.");var v=e-n,y=i-u;global_data.style.ratioBounds=2e-4*Math.max(v,y);var _=[n+v/2,u+y/2];global_data.center=_,map.getView().setCenter(_),map.getView().setZoom(L(y)),data.links=Object(l.a)(data.links,Object.keys(data.hashedStructureData),global_data.ids.linkID[0],global_data.ids.linkID[1]),Object(l.c)(data.hashedStructureData,data.links,global_data.ids.linkID[0],global_data.ids.linkID[1],global_data.ids.vol),data.links=F(data.links,global_data.ids.linkID[0],global_data.ids.linkID[1],data.hashedStructureData,global_data.ids.vol);var b="geojson"!==global_data.files.Ntype;Object(l.b)(data.hashedStructureData,data.links,global_data.ids.linkID[0],global_data.ids.linkID[1],b,"kilometers"),console.log("AYAYAYAY"),document.getElementById("addFilterButton").disabled=!1,t("#featureCard").toggle(),function(t,e,n){(function(t,e,n){var i=n.map(function(t){return t[e]});t.color={palette:"YlGnBu",cat:"number",var:e,max:Math.max(...i),min:Math.min(...i)},t.opa={cat:null,var:"fixed",max:null,min:null,vmax:"0.85"},t.size={cat:"Linear",var:e,max:Math.max(...i),min:Math.min(...i),ratio:"100"},t.geometry={oriented:"oriented",type:"StraightArrow",head:{height:.5,width:.5},place:{base:.5,height:.5}}})(t.style.link,e,n.links),function(t,e,n){var i=n.map(function(t){return t[e]}).sort(function(t,e){return e-t});t.push({variable:e,values:[i[parseInt(.1*i.length)],Math.max(...i)],filter:"numeral"})}(t.filter.link,e,n.links),function(t,e,n){var i=Object.keys(n).map(function(t){return n[t].properties.balance});t.color={palette:"RdYlGn",cat:"number",var:"balance",max:Math.max(...i),min:Math.min(...i)},t.opa={cat:null,var:"fixed",max:null,min:null,vmax:"0.85"};var i=Object.keys(n).map(function(t){return n[t].properties.degree});t.size={cat:"Linear",ratio:"100",var:"degree",max:Math.max(...i),min:Math.min(...i)},t.text="Choose..."}(t.style.node,0,n.hashedStructureData),Object(s.a)(t.filter);var i=Object(r.k)(global_data.filter.link,n),a=Object(r.b)(n.hashedStructureData);t.layers.features.node=Object(o.f)(map,n.links,n.hashedStructureData,t.style,i,a),t.layers.features.link=Object(o.j)(map,n.links,n.hashedStructureData,t.style,t.ids.linkID[0],t.ids.linkID[1],i,a),t.layers.features.node.setZIndex(1),Object(o.e)()}(global_data,global_data.ids.vol,data),t(".arrival").fadeOut(450,function(){t(this).remove()})}function F(t,e,n,i,r){for(var o=t.length,s=[],a=0;a<o;a++)t[a][e]===t[a][n]?i[t[a][e]].properties[r]=t[a][r]:s.push(t[a]);return s}map.addInteraction(N),N.on("leave",function(t){T.hide()}),N.on("hover",function(t){var e=["fixed"],n=["fixed"];if("Link"===t.layer.get("name")){var i="<b>"+t.feature.get("ori")+" => "+t.feature.get("dest")+"</b><br/>";n.includes(global_data.ids.vol)||(i=i+global_data.ids.vol+" : "+t.feature.get(global_data.ids.vol)+"<br/>",n.push(global_data.ids.vol)),n.includes(t.feature.get("size").name)||(i=i+t.feature.get("size").name+" : "+t.feature.get("size").value+"<br/>",n.push(t.feature.get("size").name)),n.includes(t.feature.get("color").name)||(i=i+t.feature.get("color").name+" : "+t.feature.get("color").value+"<br/>",n.push(t.feature.get("color").name)),n.includes(t.feature.get("opa").name)||(i=i+t.feature.get("opa").name+" : "+t.feature.get("opa").value+"<br/>",n.push(t.feature.get("opa").name)),T.show(t.coordinate,i)}else if("Node"===t.layer.get("name")){i="<b>"+t.feature.get(global_data.ids.nodeID)+"</b><br/>";e.includes(global_data.style.node.size.var)||(i=i+global_data.style.node.size.var+" : "+t.feature.get(global_data.style.node.size.var)+"<br/>",e.push(global_data.style.node.size.var)),e.includes(global_data.style.node.color.var)||(i=i+global_data.style.node.color.var+" : "+t.feature.get(global_data.style.node.color.var)+"<br/>",e.push(global_data.style.node.color.var)),e.includes(global_data.style.node.opa.var)||(i=i+global_data.style.node.opa.var+" : "+t.feature.get(global_data.style.node.opa.var)+"<br/>",e.push(global_data.style.node.opa.var)),T.show(t.coordinate,i)}else T.hide()}),map.on("moveend",function(t){null!==global_data.legend.node.legend&&(global_data.legend.node.legend.refresh({force:!0}),global_data.legend.link.legend.refresh({force:!0}))})}.call(this,n(51),n(93))},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return h}),n.d(e,"d",function(){return f}),n.d(e,"b",function(){return p}),n.d(e,"c",function(){return d});var i=n(115),r=n.n(i);function o(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1],a=Math.atan2(s-r,o-i);return[[Math.sin(a)*n+i,-Math.cos(a)*n+r],[Math.sin(a)*n+o,-Math.cos(a)*n+s]]}function s(t,e,n){var i=e[0][0],r=e[0][1],o=e[1][0],s=e[1][1],a=Math.atan2(s-r,o-i);return[Math.sin(a)*n+t[0],-Math.cos(a)*n+t[1]]}function a(t,e,n,i,r,s){var a=e[0],l=e[1],u=n[0],h=n[1],f=(Math.atan2(h-l,u-a),c(n,e,r)),p=c(e,n,i),d=t.link.geometry.head.height,g=(t.link.geometry.head.width,Math.sqrt((f[0]-p[0])*(f[0]-p[0])+(f[1]-p[1])*(f[1]-p[1]))),m=o(p,f,t.ratioBounds/2),v=c(f,p,Math.min(d*s+s,g)),y=o(m[0],v,s);return[m[0],m[1],y[0],m[0]]}function l(t,e,n,i,r,o){var a=t.link.geometry.place.base,l=t.link.geometry.place.height,h=(t.link.geometry.head.height,t.link.geometry.head.width,e[0]),f=e[1],p=n[0],d=n[1],g=Math.atan2(d-f,p-h),m=c(n,e,r),v=c(e,n,i),y=a*Math.sqrt((m[0]-v[0])*(m[0]-v[0])+(m[1]-v[1])*(m[1]-v[1])),_=[-Math.cos(g)*y+m[0],-Math.sin(g)*y+m[1]],b=s(_,[e,n],l*y),x=s(_,[e,n],l*y+o/2),w=s(_,[e,n],l*y-o/2),E=c(e,b,i),C=(c(n,b,r),c(n,b,r)),S=(Math.atan2(b[1]-e[1],b[0]-e[0]),Math.atan2(b[1]-n[1],b[0]-n[0]),[(E=[s(E,[E,b],o),s(E,[E,b],-o)])[1],w,C]),M=[C,x,E[0]];return S=u(S,5),(M=u(M,5)).concat(S)}function u(t,e){for(var n=e;n>0;)t=r()(t),n--;return t}function c(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1],a=Math.atan2(s-r,o-i);return[Math.cos(a)*n+i,Math.sin(a)*n+r]}function h(t,e,n,i,r,o){var s=t.link.geometry.type,a=t.link.geometry.oriented;return window[a+s](t,e,n,i,r,o)}function f(){d(),p()}function p(){"CurveArrow"===document.getElementById("arrowtype").value||"CurveOneArrow"===document.getElementById("arrowtype").value?(null!==t("ArrowPlaceSize").children()&&t("#ArrowPlaceSize").children().remove(),t("#ArrowPlaceSize").append('<label class="h5 p-2">Curve Arrow   <button  class="badge badge-pill badge-secondary"  data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content="The curve is created by the chaikin algorithm </br /></br /> - Heigth: The value is the percentage of the distance between the origin and the destination used to define the maximum height of the link </br /> - Base: The value ([0,1]) is the center of the curve, the point is select by select a percentage of the distance from the origin node of the link " title="Arrow Size Parameter"><img class="small-icon" src="assets/svg/si-glyph-info.svg"/></button></label>'),t("#ArrowPlaceSize").append(t("<div>").attr("class","row p-2")),t("#ArrowPlaceSize>div").append(t("<div>").attr("class","col-md-6").append('<label class="text-muted h5">Heigth Curve</label>').append(t("<input>").attr("class","form-control").attr("id","heightCurveArrow").attr("min",0).attr("step",.1).attr("max",10).attr("type","number").attr("value",.5))),t("#ArrowPlaceSize>div").append(t("<div>").attr("class","col-md-6").append('<label class="text-muted h5">Center Curve</label>').append(t("<input>").attr("class","form-control").attr("id","baseCurveArrow").attr("min",0).attr("step",.1).attr("max",1).attr("type","number").attr("value",.5))),t('[data-toggle="popover"]').popover()):null!==t("ArrowPlaceSize").children()&&t("#ArrowPlaceSize").children().remove(),d()}function d(){"oriented"===document.getElementById("arrowData").value&&"TriangleArrow"!==document.getElementById("arrowtype").value&&"CurveOneArrow"!==document.getElementById("arrowtype").value?(null!==t("ArrowHeadSize").children()&&t("#ArrowHeadSize").children().remove(),t("#ArrowHeadSize").append('<label class="p-2 h5">Arrow Head  <button  class="badge badge-pill badge-secondary"  data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content=" - Heigth: Choose the distance between the base and the arrow tip, the value is a percentage of the width of the link</br /> - Width: choose the base width of the arrow, the value represent a percentage of the arrow width" title="Arrow Size Parameter"><img class="small-icon" src="assets/svg/si-glyph-info.svg"/></button></label>'),t("#ArrowHeadSize").append(t("<div>").attr("class","row p-2")),t("#ArrowHeadSize>div").append(t("<div>").attr("class","col-md-6").append('<label class="text-muted h5">Heigth</label>').append(t("<input>").attr("class","form-control").attr("id","heightArrow").attr("min",0).attr("step",.1).attr("max",10).attr("type","number").attr("value",.5))),t("#ArrowHeadSize>div").append(t("<div>").attr("class","col-md-6").append('<label class="text-muted h5">Width</label>').append(t("<input>").attr("class","form-control").attr("id","widthArrow").attr("min",0).attr("step",.1).attr("max",10).attr("type","number").attr("value",.5))),t('[data-toggle="popover"]').popover()):null!==t("ArrowHeadSize").children()&&t("#ArrowHeadSize").children().remove()}window.noOrientedStraightArrow=function(t,e,n,i,r,s){var a=e[0],l=e[1],u=n[0],h=n[1],f=(Math.atan2(h-l,u-a),c(n,e,r)),p=c(e,n,i),d=o(p,f,s/2),g=o(f,p,s/2);return d.concat(g).concat([d[0]])},window.noOrientedCurveArrow=function(t,e,n,i,r,o){var a=t.link.geometry.place.base,l=t.link.geometry.place.height,h=e[0],f=e[1],p=n[0],d=n[1],g=Math.atan2(d-f,p-h),m=c(n,e,r),v=c(e,n,i),y=a*Math.sqrt((m[0]-v[0])*(m[0]-v[0])+(m[1]-v[1])*(m[1]-v[1])),_=[-Math.cos(g)*y+m[0],-Math.sin(g)*y+m[1]],b=s(_,[e,n],l*y),x=s(_,[e,n],l*y+o/2),w=s(_,[e,n],l*y-o/2),E=c(e,b,i),C=c(n,b,r);Math.atan2(b[1]-e[1],b[0]-e[0]),Math.atan2(b[1]-n[1],b[0]-n[0]),E=[s(E,[e,b],o/2),s(E,[e,b],-o/2)],C=[s(C,[n,b],o/2),s(C,[n,b],-o/2)];var S=[E[1],w,C[0]],M=[C[1],x,E[0]];return S=u(S,5),M=u(M,5),S.concat(M).concat([S[0]])},window.orientedStraightArrow=function(t,e,n,i,r,a){var l=e[0],u=e[1],h=n[0],f=n[1],p=(Math.atan2(f-u,h-l),c(n,e,r)),d=c(e,n,i),g=t.link.geometry.head.height,m=t.link.geometry.head.width,v=Math.sqrt((p[0]-d[0])*(p[0]-d[0])+(p[1]-d[1])*(p[1]-d[1])),y=o(d,p,t.ratioBounds/2),_=c(p,d,Math.min(g*a+a,v)),b=o(y[0],_,a);return _=s(_,[y[0],y[1]],a+m*a),[y[0],y[1],_,b[1],b[0],y[0]]},window.orientedCurveArrow=function(t,e,n,i,r,o){var a=t.link.geometry.place.base,l=t.link.geometry.place.height,h=t.link.geometry.head.height,f=t.link.geometry.head.width,p=e[0],d=e[1],g=n[0],m=n[1],v=Math.atan2(m-d,g-p),y=c(n,e,r),_=c(e,n,i),b=a*Math.sqrt((y[0]-_[0])*(y[0]-_[0])+(y[1]-_[1])*(y[1]-_[1])),x=[-Math.cos(v)*b+y[0],-Math.sin(v)*b+y[1]],w=s(x,[e,n],l*b),E=s(x,[e,n],l*b+o/2),C=s(x,[e,n],l*b-o/2),S=c(e,w,i),M=c(n,w,r+(h=Math.min(h*o+o,.5*b))),I=c(n,w,r),O=(Math.atan2(w[1]-e[1],w[0]-e[0]),Math.atan2(w[1]-n[1],w[0]-n[0]),[s(M,[M,w],o/2+f*(o/2)),s(M,[M,w],-(o/2+f*o/2))]);S=[s(S,[S,w],o/2),s(S,[S,w],-o/2)],M=[s(M,[M,w],o/2),s(M,[M,w],-o/2)];var T=[S[1],C,M[0]],N=[M[1],E,S[0]];return T=u(T,5),N=u(N,5),T.concat([O[0]]).concat([I]).concat([O[1]]).concat(N).concat([T[0]])},window.orientedCurveOneArrow=l,window.noOrientedCurveOneArrow=l,window.orientedTriangleArrow=a,window.noOrientedTriangleArrow=a}).call(this,n(51))},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return a});var i=n(12),r=n(6);function o(t,e,n,o,s,a){var l=NaN,u=NaN,c=(n-e)/o;if(1===c)l=t[e],u=t[e+1];else if(2==c)l=(1-s)*t[e]+s*t[e+o],u=(1-s)*t[e+1]+s*t[e+o+1];else if(0!==c){for(var h=t[e],f=t[e+1],p=0,d=[0],g=e+o;g<n;g+=o){var m=t[g],v=t[g+1];p+=Math.sqrt((m-h)*(m-h)+(v-f)*(v-f)),d.push(p),h=m,f=v}var y=s*p,_=Object(i.a)(d,y);if(_<0){var b=(y-d[-_-2])/(d[-_-1]-d[-_-2]),x=e+(-_-2)*o;l=Object(r.c)(t[x],t[x+o],b),u=Object(r.c)(t[x+1],t[x+o+1],b)}else l=t[e+_*o],u=t[e+_*o+1]}return a?(a[0]=l,a[1]=u,a):[l,u]}function s(t,e,n,i,o,s){if(n==e)return null;var a;if(o<t[e+i-1])return s?((a=t.slice(e,e+i))[i-1]=o,a):null;if(t[n-1]<o)return s?((a=t.slice(n-i,n))[i-1]=o,a):null;if(o==t[e+i-1])return t.slice(e,e+i);for(var l=e/i,u=n/i;l<u;){var c=l+u>>1;o<t[(c+1)*i-1]?u=c:l=c+1}var h=t[l*i-1];if(o==h)return t.slice((l-1)*i,(l-1)*i+i);var f=(o-h)/(t[(l+1)*i-1]-h);a=[];for(var p=0;p<i-1;++p)a.push(Object(r.c)(t[(l-1)*i+p],t[l*i+p],f));return a.push(o),a}function a(t,e,n,i,r,o,a){if(a)return s(t,e,n[n.length-1],i,r,o);var l;if(r<t[i-1])return o?((l=t.slice(0,i))[i-1]=r,l):null;if(t[t.length-1]<r)return o?((l=t.slice(t.length-i))[i-1]=r,l):null;for(var u=0,c=n.length;u<c;++u){var h=n[u];if(e!=h){if(r<t[e+i-1])return null;if(r<=t[h-1])return s(t,e,h,i,r,!1);e=h}}return null}},function(t,e,n){"use strict";var i=n(45),r=n(59),o=n(104),s=n(10),a=n(25),l="renderOrder",u=function(t){function e(e){var n=e||{},r=Object(s.a)({},n);delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,t.call(this,r),this.declutter_=void 0!==n.declutter&&n.declutter,this.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(n.style),this.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,this.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,this.renderMode_=n.renderMode||o.a.VECTOR,this.type=i.a.VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(l)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(l,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:a.a,this.styleFunction_=null===t?void 0:Object(a.c)(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(r.a);u.prototype.getSource,e.a=u},function(t,e,n){"use strict";var i=n(2),r=n(40),o=n(36),s=n(62),a=n(12),l=n(11),u=n(1),c=n(30),h=n(5),f=n(0),p=n(16),d=n(71);function g(t,e){return function(t,e,n,i){return function(r,o,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(r,o,s):t,!0),e.getType()==d.a.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var r,o=e.getType();o==d.a.JSON||o==d.a.TEXT?r=a.responseText:o==d.a.XML?(r=a.responseXML)||(r=(new DOMParser).parseFromString(a.responseText,"application/xml")):o==d.a.ARRAY_BUFFER&&(r=a.response),r?n.call(this,e.readFeatures(r,{featureProjection:s}),e.readProjection(r),e.getLastExtent()):i.call(this)}else i.call(this)}.bind(this),a.onerror=function(){i.call(this)}.bind(this),a.send()}}(t,e,function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)},p.c)}function m(t,e){return[[-1/0,-1/0,1/0,1/0]]}var v=n(10),y=n(103),_=n(55),b="addfeature",x="changefeature",w="clear",E="removefeature",C=n(83),S=n.n(C),M=function(t){this.rbush_=S()(t,void 0),this.items_={}};M.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Object(i.c)(e)]=n},M.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,o=e.length;r<o;r++){var s=t[r],a=e[r],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};n[r]=l,this.items_[Object(i.c)(a)]=l}this.rbush_.load(n)},M.prototype.remove=function(t){var e=Object(i.c)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},M.prototype.update=function(t,e){var n=this.items_[Object(i.c)(e)],r=[n.minX,n.minY,n.maxX,n.maxY];Object(f.p)(r,t)||(this.remove(e),this.insert(t,e))},M.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},M.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},M.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},M.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},M.prototype.forEach_=function(t,e,n){for(var i,r=0,o=t.length;r<o;r++)if(i=e.call(n,t[r]))return i;return i},M.prototype.isEmpty=function(){return Object(v.d)(this.items_)},M.prototype.clear=function(){this.rbush_.clear(),this.items_={}},M.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(f.k)(e.minX,e.minY,e.maxX,e.maxY,t)},M.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};var I=M,O=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c.a),T=function(t){function e(e){var n=e||{};t.call(this,{attributions:n.attributions,projection:void 0,state:_.a.READY,wrapX:void 0===n.wrapX||n.wrapX}),this.loader_=p.c,this.format_=n.format,this.overlaps_=null==n.overlaps||n.overlaps,this.url_=n.url,void 0!==n.loader?this.loader_=n.loader:void 0!==this.url_&&(Object(l.a)(this.format_,7),this.loader_=g(this.url_,this.format_)),this.strategy_=void 0!==n.strategy?n.strategy:m;var i,o,s=void 0===n.useSpatialIndex||n.useSpatialIndex;this.featuresRtree_=s?new I:null,this.loadedExtentsRtree_=new I,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(n.features)?o=n.features:n.features&&(o=(i=n.features).getArray()),s||void 0!==i||(i=new r.a(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==i&&this.bindFeaturesCollection_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(i.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new O(b,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(u.a)(e,h.a.CHANGE,this.handleFeatureChange_,this),Object(u.a)(e,s.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i?i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e:(Object(l.a)(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],o=0,s=t.length;o<s;o++){var a=t[o],l=Object(i.c)(a);this.addToIndex_(l,a)&&n.push(a)}for(var u=0,c=n.length;u<c;u++){var h=n[u],f=Object(i.c)(h);this.setupChangeEvents_(f,h);var p=h.getGeometry();if(p){var d=p.getExtent();e.push(d),r.push(h)}else this.nullGeometryFeatures_[f]=h}this.featuresRtree_&&this.featuresRtree_.load(e,r);for(var g=0,m=n.length;g<m;g++)this.dispatchEvent(new O(b,n[g]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;Object(u.a)(this,b,function(n){e||(e=!0,t.push(n.feature),e=!1)}),Object(u.a)(this,E,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),Object(u.a)(t,o.a.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),Object(u.a)(t,o.a.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(u.e)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var i=new O(w);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(v.d)(this.nullGeometryFeatures_)||Object(a.c)(t,Object(v.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],l=e||p.b;return this.featuresRtree_.forEachInExtent(a,function(t){if(l(t)){var e=t.getGeometry(),u=s;if((s=e.closestPointXY(n,i,o,s))<u){r=t;var c=Math.sqrt(s);a[0]=n-c,a[1]=i-c,a[2]=n+c,a[3]=i+c}}}),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Object(i.c)(e),r=e.getGeometry();if(r){var o=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var s=e.getId();if(void 0!==s){var a=s.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[a]=e):this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new O(x,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(i.c)(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(v.d)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this,r=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var s=function(t,s){var a=o[t];r.forEachInExtent(a,function(t){return Object(f.g)(t.extent,a)})||(i.loader_.call(i,a,e,n),r.insert(a,{extent:a.slice()}),i.loading=i.loader_!==p.c)},a=0,l=o.length;a<l;++a)s(a)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(Object(f.p)(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=Object(i.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(i.c)(t);this.featureChangeKeys_[e].forEach(u.e),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new O(E,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(y.a);e.a=T},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var i=n(6),r=(n(3),6371008.8);function o(t,e,n){var o=n||r,s=Object(i.i)(t[1]),a=Object(i.i)(e[1]),l=(a-s)/2,u=Object(i.i)(e[0]-t[0])/2,c=Math.sin(l)*Math.sin(l)+Math.sin(u)*Math.sin(u)*Math.cos(s)*Math.cos(a);return 2*o*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function s(t,e,n,o){var s=o||r,a=Object(i.i)(t[1]),l=Object(i.i)(t[0]),u=e/s,c=Math.asin(Math.sin(a)*Math.cos(u)+Math.cos(a)*Math.sin(u)*Math.cos(n)),h=l+Math.atan2(Math.sin(n)*Math.sin(u)*Math.cos(a),Math.cos(u)-Math.sin(a)*Math.sin(c));return[Object(i.h)(h),Object(i.h)(c)]}},function(t,e,n){var i,r,o;
/* @license
Papa Parse
v4.6.3
https://github.com/mholt/PapaParse
License: MIT
*/Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),r=[],void 0===(o="function"==typeof(i=function(){"use strict";var t,e,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},i=!n.document&&!!n.postMessage,r=i&&/(\?|&)papaworker(=|&|$)/.test(n.location.search),o=!1,s={},a=0,l={parse:function(e,i){var r=(i=i||{}).dynamicTyping||!1;if(E(r)&&(i.dynamicTypingFunction=r,r={}),i.dynamicTyping=r,i.transform=!!E(i.transform)&&i.transform,i.worker&&l.WORKERS_SUPPORTED){var u=function(){if(!l.WORKERS_SUPPORTED)return!1;if(!o&&null===l.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=l.SCRIPT_PATH||t;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var i=new n.Worker(e);return i.onmessage=y,i.id=a++,s[i.id]=i}();return u.userStep=i.step,u.userChunk=i.chunk,u.userComplete=i.complete,u.userError=i.error,i.step=E(i.step),i.chunk=E(i.chunk),i.complete=E(i.complete),i.error=E(i.error),delete i.worker,void u.postMessage({input:e,config:i,workerId:u.id})}var c=null;return l.NODE_STREAM_INPUT,"string"==typeof e?c=i.download?new h(i):new p(i):!0===e.readable&&E(e.read)&&E(e.on)?c=new d(i):(n.File&&e instanceof File||e instanceof Object)&&(c=new f(i)),c.stream(e)},unparse:function(t,e){var n=!1,i=!0,r=",",o="\r\n",s='"',a=!1;"object"==typeof e&&("string"!=typeof e.delimiter||l.BAD_DELIMITERS.filter(function(t){return-1!==e.delimiter.indexOf(t)}).length||(r=e.delimiter),("boolean"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(a=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(i=e.header));var u=new RegExp(m(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return h(null,t,a);if("object"==typeof t[0])return h(c(t[0]),t,a)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:c(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),h(t.fields||[],t.data||[],a);throw"exception: Unable to serialize unrecognized input";function c(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function h(t,e,n){var s="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&0<t.length,l=!Array.isArray(e[0]);if(a&&i){for(var u=0;u<t.length;u++)0<u&&(s+=r),s+=f(t[u],u);0<e.length&&(s+=o)}for(var c=0;c<e.length;c++){var h=a?t.length:e[c].length,p=!1,d=a?0===Object.keys(e[c]).length:0===e[c].length;if(n&&!a&&(p="greedy"===n?""===e[c].join("").trim():1===e[c].length&&0===e[c][0].length),"greedy"===n&&a){for(var g=[],m=0;m<h;m++){var v=l?t[m]:m;g.push(e[c][v])}p=""===g.join("").trim()}if(!p){for(var y=0;y<h;y++){0<y&&!d&&(s+=r);var _=a&&l?t[y]:y;s+=f(e[c][_],y)}c<e.length-1&&(!n||0<h&&!d)&&(s+=o)}}return s}function f(t,e){if(null==t)return"";if(t.constructor===Date)return JSON.stringify(t).slice(1,25);t=t.toString().replace(u,s+s);var i="boolean"==typeof n&&n||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(t,l.BAD_DELIMITERS)||-1<t.indexOf(r)||" "===t.charAt(0)||" "===t.charAt(t.length-1);return i?s+t+s:t}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\ufeff",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!i&&!!n.Worker,l.SCRIPT_PATH=null,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=v,l.ParserHandle=g,l.NetworkStreamer=h,l.FileStreamer=f,l.StringStreamer=p,l.ReadableStreamStreamer=d,n.jQuery){var u=n.jQuery;u.fn.parse=function(t){var e=t.config||{},i=[];return this.each(function(t){if("INPUT"!==u(this).prop("tagName").toUpperCase()||"file"!==u(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)i.push({file:this.files[r],inputElem:this,instanceConfig:u.extend({},e)})}),r(),this;function r(){if(0!==i.length){var e,n,r,s=i[0];if(E(t.before)){var a=t.before(s.file,s.inputElem);if("object"==typeof a){if("abort"===a.action)return e=s.file,n=s.inputElem,r=a.reason,void(E(t.error)&&t.error({name:"AbortError"},e,n,r));if("skip"===a.action)return void o();"object"==typeof a.config&&(s.instanceConfig=u.extend(s.instanceConfig,a.config))}else if("skip"===a)return void o()}var c=s.instanceConfig.complete;s.instanceConfig.complete=function(t){E(c)&&c(t,s.file,s.inputElem),o()},l.parse(s.file,s.instanceConfig)}else E(t.complete)&&t.complete()}function o(){i.splice(0,1),r()}}}function c(t){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=x(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new g(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,e){if(this.isFirstChunk&&E(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);void 0!==i&&(t=i)}this.isFirstChunk=!1;var o=this._partialLine+t;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var a=s.meta.cursor;this._finished||(this._partialLine=o.substring(a-this._baseIndex),this._baseIndex=a),s&&s.data&&(this._rowCount+=s.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)n.postMessage({results:s,workerId:l.WORKER_ID,finished:u});else if(E(this._config.chunk)&&!e){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return;s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!u||!E(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||s&&s.meta.paused||this._nextChunk(),s}},this._sendError=function(t){E(this._config.error)?this._config.error(t):r&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:t,finished:!1})}}function h(t){var e;(t=t||{}).chunkSize||(t.chunkSize=l.RemoteChunkSize),c.call(this,t),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),i||(e.onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)),e.open("GET",this._input,!i),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+r),e.setRequestHeader("If-None-Match","webkit-no-cache")}try{e.send()}catch(t){this._chunkError(t.message)}i&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){var t;4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>(null===(t=e.getResponseHeader("Content-Range"))?-1:parseInt(t.substr(t.lastIndexOf("/")+1))),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function f(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=l.LocalChunkSize),c.call(this,t);var i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?((e=new FileReader).onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var o=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function p(t){var e;c.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function d(t){c.call(this,t=t||{});var e=[],n=!0,i=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=w(function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}},this),this._streamError=w(function(t){this._streamCleanUp(),this._sendError(t)},this),this._streamEnd=w(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=w(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function g(t){var e,n,i,r=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,s=this,a=0,u=0,c=!1,h=!1,f=[],p={data:[],errors:[],meta:{}};if(E(t.step)){var d=t.step;t.step=function(e){if(p=e,_())y();else{if(y(),0===p.data.length)return;a+=e.data.length,t.preview&&a>t.preview?n.abort():d(p,s)}}}function g(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function y(){if(p&&i&&(w("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),i=!1),t.skipEmptyLines)for(var e=0;e<p.data.length;e++)g(p.data[e])&&p.data.splice(e--,1);return _()&&function(){if(p){for(var e=0;_()&&e<p.data.length;e++)for(var n=0;n<p.data[e].length;n++){var i=p.data[e][n];t.trimHeaders&&(i=i.trim()),f.push(i)}p.data.splice(0,1)}}(),function(){if(!p||!t.header&&!t.dynamicTyping&&!t.transform)return p;for(var e=0;e<p.data.length;e++){var n,i=t.header?{}:[];for(n=0;n<p.data[e].length;n++){var r=n,o=p.data[e][n];t.header&&(r=n>=f.length?"__parsed_extra":f[n]),t.transform&&(o=t.transform(o,r)),o=b(r,o),"__parsed_extra"===r?(i[r]=i[r]||[],i[r].push(o)):i[r]=o}p.data[e]=i,t.header&&(n>f.length?w("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+n,u+e):n<f.length&&w("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+n,u+e))}return t.header&&p.meta&&(p.meta.fields=f),u+=p.data.length,p}()}function _(){return t.header&&0===f.length}function b(e,n){return i=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[i]&&(t.dynamicTyping[i]=t.dynamicTypingFunction(i)),!0===(t.dynamicTyping[i]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(r.test(n)?parseFloat(n):o.test(n)?new Date(n):""===n?null:n):n;var i}function w(t,e,n,i){p.errors.push({type:t,code:e,message:n,row:i})}this.parse=function(r,o,s){var a=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substr(0,1048576);var n=new RegExp(m(e)+"([^]*?)"+m(e),"gm"),i=(t=t.replace(n,"")).split("\r"),r=t.split("\n"),o=1<r.length&&r[0].length<i[0].length;if(1===i.length||o)return"\n";for(var s=0,a=0;a<i.length;a++)"\n"===i[a][0]&&s++;return s>=i.length/2?"\r\n":"\r"}(r,a)),i=!1,t.delimiter)E(t.delimiter)&&(t.delimiter=t.delimiter(r),p.meta.delimiter=t.delimiter);else{var u=function(e,n,i,r){for(var o,s,a,u=[",","\t","|",";",l.RECORD_SEP,l.UNIT_SEP],c=0;c<u.length;c++){var h=u[c],f=0,p=0,d=0;a=void 0;for(var m=new v({comments:r,delimiter:h,newline:n,preview:10}).parse(e),y=0;y<m.data.length;y++)if(i&&g(m.data[y]))d++;else{var _=m.data[y].length;p+=_,void 0!==a?1<_&&(f+=Math.abs(_-a),a=_):a=0}0<m.data.length&&(p/=m.data.length-d),(void 0===s||s<f)&&1.99<p&&(s=f,o=h)}return{successful:!!(t.delimiter=o),bestDelimiter:o}}(r,t.newline,t.skipEmptyLines,t.comments);u.successful?t.delimiter=u.bestDelimiter:(i=!0,t.delimiter=l.DefaultDelimiter),p.meta.delimiter=t.delimiter}var h=x(t);return t.preview&&t.header&&h.preview++,e=r,n=new v(h),p=n.parse(e,o,s),y(),c?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return c},this.pause=function(){c=!0,n.abort(),e=e.substr(n.getCharIndex())},this.resume=function(){c=!1,s.streamer.parseChunk(e,!0)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),p.meta.aborted=!0,E(t.complete)&&t.complete(p),e=""}}function m(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(t){var e,n=(t=t||{}).delimiter,i=t.newline,r=t.comments,o=t.step,s=t.preview,a=t.fastMode,u=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(u=t.escapeChar),("string"!=typeof n||-1<l.BAD_DELIMITERS.indexOf(n))&&(n=","),r===n)throw"Comment character same as delimiter";!0===r?r="#":("string"!=typeof r||-1<l.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var c=0,h=!1;this.parse=function(t,l,f){if("string"!=typeof t)throw"Input must be a string";var p=t.length,d=n.length,g=i.length,v=r.length,y=E(o),_=[],b=[],x=[],w=c=0;if(!t)return R();if(a||!1!==a&&-1===t.indexOf(e)){for(var C=t.split(i),S=0;S<C.length;S++){if(x=C[S],c+=x.length,S!==C.length-1)c+=i.length;else if(f)return R();if(!r||x.substr(0,v)!==r){if(y){if(_=[],P(x.split(n)),j(),h)return R()}else P(x.split(n));if(s&&s<=S)return _=_.slice(0,s),R(!0)}}return R()}for(var M,I=t.indexOf(n,c),O=t.indexOf(i,c),T=new RegExp(m(u)+m(e),"g");;)if(t[c]!==e)if(r&&0===x.length&&t.substr(c,v)===r){if(-1===O)return R();c=O+g,O=t.indexOf(i,c),I=t.indexOf(n,c)}else if(-1!==I&&(I<O||-1===O))x.push(t.substring(c,I)),c=I+d,I=t.indexOf(n,c);else{if(-1===O)break;if(x.push(t.substring(c,O)),D(O+g),y&&(j(),h))return R();if(s&&_.length>=s)return R(!0)}else for(M=c,c++;;){if(-1===(M=t.indexOf(e,M+1)))return f||b.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:_.length,index:c}),L();if(M===p-1)return L(t.substring(c,M).replace(T,e));if(e!==u||t[M+1]!==u){if(e===u||0===M||t[M-1]!==u){var N=A(-1===O?I:Math.min(I,O));if(t[M+1+N]===n){x.push(t.substring(c,M).replace(T,e)),c=M+1+N+d,I=t.indexOf(n,c),O=t.indexOf(i,c);break}var k=A(O);if(t.substr(M+1+k,g)===i){if(x.push(t.substring(c,M).replace(T,e)),D(M+1+k+g),I=t.indexOf(n,c),y&&(j(),h))return R();if(s&&_.length>=s)return R(!0);break}b.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:_.length,index:c}),M++}}else M++}return L();function P(t){_.push(t),w=c}function A(e){var n=0;if(-1!==e){var i=t.substring(M+1,e);i&&""===i.trim()&&(n=i.length)}return n}function L(e){return f||(void 0===e&&(e=t.substr(c)),x.push(e),c=p,P(x),y&&j()),R()}function D(e){c=e,P(x),x=[],O=t.indexOf(i,c)}function R(t){return{data:_,errors:b,meta:{delimiter:n,linebreak:i,aborted:h,truncated:!!t,cursor:w+(l||0)}}}function j(){o(R()),_=[],b=[]}},this.abort=function(){h=!0},this.getCharIndex=function(){return c}}function y(t){var e=t.data,n=s[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var r={abort:function(){i=!0,_(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(E(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:[e.results.data[o]],errors:e.results.errors,meta:e.results.meta},r),!i);o++);delete e.results}else E(n.userChunk)&&(n.userChunk(e.results,r,e.file),delete e.results)}e.finished&&!i&&_(e.workerId,e.results)}function _(t,e){var n=s[t];E(n.userComplete)&&n.userComplete(e),n.terminate(),delete s[t]}function b(){throw"Not implemented."}function x(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=x(t[n]);return e}function w(t,e){return function(){t.apply(e,arguments)}}function E(t){return"function"==typeof t}return r?n.onmessage=function(t){var e=t.data;if(void 0===l.WORKER_ID&&e&&(l.WORKER_ID=e.workerId),"string"==typeof e.input)n.postMessage({workerId:l.WORKER_ID,results:l.parse(e.input,e.config),finished:!0});else if(n.File&&e.input instanceof File||e.input instanceof Object){var i=l.parse(e.input,e.config);i&&n.postMessage({workerId:l.WORKER_ID,results:i,finished:!0})}}:l.WORKERS_SUPPORTED&&(e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",function(){o=!0},!0):o=!0),(h.prototype=Object.create(c.prototype)).constructor=h,(f.prototype=Object.create(c.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(d.prototype=Object.create(c.prototype)).constructor=d,l})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";(function(t){n.d(e,"b",function(){return h}),n.d(e,"a",function(){return f});var i=n(65),r=n(84),o=n(46),s=n(19),a=n(20),l=n(49),u=n(33),c=n(90);function h(e,n,o,s){t.getJSON("public/data/save/saved_example.json",function(a){var h=a[e];t.get(h.files.node,function(e){t.get(h.files.link,function(a){o.projection=d(h.projection),p(h,o),function(t,e,n,i){"csv"===t.Ltype?i.links=Object(c.parse)(e,{header:!0}).data:i.links=e;"geojson"===t.Ntype?i.nodes=n:"json"===t.Ntype?i.nodes=Object(r.createGeoJSON)(n):"csv"===t.Ntype&&(i.nodes=Object(r.createGeoJSON)(Object(c.parse)(n,{header:!0}).data))}(h.files,a,e,s),function(t,e,n){for(var o=-1/0,s=1/0,a=-1/0,u=1/0,c=e.links.length,h=[],f=0;f<c;f++)h.includes(e.links[f][global_data.ids.linkID[0]])||h.push(e.links[f][global_data.ids.linkID[0]]),h.includes(e.links[f][global_data.ids.linkID[1]])||h.push(e.links[f][global_data.ids.linkID[1]]);for(var p=[],c=e.nodes.features.length,d=0;d<c;d++)if(!p.includes(e.nodes.features[d].properties[global_data.ids.nodeID])&&h.includes(e.nodes.features[d].properties[global_data.ids.nodeID])){e.hashedStructureData[e.nodes.features[d].properties[n.ids.nodeID]]=e.nodes.features[d];var g=Object(i.b)(e.nodes.features[d],n.projection.name);e.hashedStructureData[e.nodes.features[d].properties[n.ids.nodeID]].properties.centroid=g,e.hashedStructureData[e.nodes.features[d].properties[n.ids.nodeID]].properties[n.ids.vol]=0,p.push(e.nodes.features[d].properties[global_data.ids.nodeID]),o<g[0]&&(o=g[0]),s>g[0]&&(s=g[0]),a<g[1]&&(a=g[1]),u>g[1]&&(u=g[1])}var m=o-s,v=a-u;n.style.ratioBounds=2e-4*Math.max(m,v),n.center=[s+m/2,u+v/2],e.links=Object(l.a)(e.links,Object.keys(e.hashedStructureData),n.ids.linkID[0],n.ids.linkID[1]),t.getView().setCenter(n.center),t.getView().setZoom(Object(r.getZoomFromVerticalBounds)(v)),console.log(e.hashedStructureData),e.hashedStructureData}(n,s,o),console.log(s.hashedStructureData),s.links=Object(r.prepareLinkData)(s.links,o.ids.linkID[0],o.ids.linkID[1],s.hashedStructureData,o.ids.vol),Object(l.c)(s.hashedStructureData,s.links,o.ids.linkID[0],o.ids.linkID[1],o.ids.vol),Object(l.b)(s.hashedStructureData,s.links,o.ids.linkID[0],o.ids.linkID[1],"geojson"!==h.files.Ntype,"kilometers"),f(h.filter),g(h.base_layer,o.layers.base),"categorical"===h.style.link.color.cat&&Object(u.g)(o.style.link.color.var,o.style.link),console.log(h.style.node.color.cat),"categorical"===h.style.node.color.cat&&(Object(u.h)(o.style.node.color.var,o.style.node),console.log(o.style.node)),Object(u.a)("link"),Object(u.a)("node"),document.getElementById("addFilterButton").disabled=!1,t(".arrival").fadeOut(450,function(){t(this).remove()})})})})}function f(t){for(var e=t.link.length,n=0;n<e;n++){console.log(n);var i=t.link[n];console.log(i),"numeral"===i.filter?(Object(s.d)("link",i.variable,i,data),Object(s.e)("link",i.variable,i.values)):"categorial"===i.filter?(Object(s.d)("link",i.variable,i,data),Object(s.g)("link",i.variable,i.values)):"remove"===i.filter?(Object(s.d)("link",i.variable,i,data),Object(s.f)("link",i.variable,i.values)):"temporal"===i.filter?(Object(s.d)("link",i.variable,i,data),Object(s.h)("link",i.variable,i.values)):"timeLapse"===i.filter&&(Object(s.d)("link",i.variable,i,data),Object(s.i)("link",i.variable,i.values))}e=t.node.length;for(var r=0;r<e;r++){"numeral"===(i=t.node[r]).filter?Object(s.e)("node",i.variable,i.values):"categorial"===i.filter?Object(s.g)("node",i.variable,i.values):"remove"===i.filter?Object(s.f)("node",i.variable,i.values):"temporal"===i.filter&&Object(s.f)("link",i.variable,i.values)}}function p(t,e){e.files=t.files,e.filter=t.filter,e.style=t.style,e.ids=t.ids}function d(t){var e=Proj[0];if(null===t.proj4){for(var n=0;n<Proj.length;n++)if(Proj[n].name===t.name)return console.log(Proj[n]),Object(i.d)(map,n,t.name),console.log(n),Proj[n];return e}}function g(t,e){for(var n=0;n<t.length;n++){var i=t[n];e[i.name]={},console.log(i.style),e[i.name].layer=Object(a.c)(map,ListUrl[i.name],i.name,i.style.opacity,i.style.stroke,i.style.fill),e[i.name].style=i.style,Object(o.b)(i.name)}}}).call(this,n(51))},function(t,e,n){"use strict";var i=n(74),r=n(2),o=n(16),s=n(6);function a(t){return t}var l=n(15),u=n(12);var c=n(63),h=n(13),f="center",p="resolution",d="rotation",g=n(11),m=n(58),v=n(31),y=n(0),_=n(3),b=n(43),x=n(10),w=n(9),E=n(24),C=0,S=function(t){function e(e){t.call(this);var n=Object(x.a)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Object(w.e)(n.projection,"EPSG:3857"),this.applyOptions_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[f]=void 0!==t.center?t.center:null;var n=function(t){var e,n,r,o=void 0!==t.minZoom?t.minZoom:C,a=void 0!==t.maxZoom?t.maxZoom:28,l=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var c=t.resolutions;n=c[o],r=void 0!==c[a]?c[a]:c[c.length-1],e=function(t){return function(e,n,i){if(void 0!==e){var r=Object(u.f)(t,e,i);r=Object(s.a)(r+n,0,t.length-1);var o=Math.floor(r);if(r!=o&&o<t.length-1){var a=t[o]/t[o+1];return t[o]/Math.pow(a,r-o)}return t[o]}}}(c)}else{var h=Object(w.e)(t.projection,"EPSG:3857"),f=h.getExtent(),p=f?Math.max(Object(y.E)(f),Object(y.A)(f)):360*w.a[E.b.DEGREES]/h.getMetersPerUnit(),d=p/i.b/Math.pow(2,C),g=d/Math.pow(2,28-C);void 0!==(n=t.maxResolution)?o=0:n=d/Math.pow(l,o),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,a):d/Math.pow(l,a):g),a=o+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,a-o),e=function(t,e,n){return function(i,r,o){if(void 0!==i){var s=-o/2+.5,a=Math.floor(Math.log(e/i)/Math.log(t)+s),l=Math.max(a+r,0);return void 0!==n&&(l=Math.min(l,n)),e/Math.pow(t,l)}}}(l,n,a-o)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:l}}(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var r=function(t){return void 0!==t.extent?(e=t.extent,function(t){return t?[Object(s.a)(t[0],e[0],e[2]),Object(s.a)(t[1],e[1],e[3])]:void 0}):a;var e}(t),o=n.constraint,l=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?Object(c.b)():!1===e?c.d:"number"==typeof e?Object(c.a)(e):c.d}return c.c}(t);this.constraints_={center:r,resolution:o,rotation:l},void 0!==t.resolution?e[p]=t.resolution:void 0!==t.zoom&&(e[p]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[p]=Object(s.a)(Number(this.getResolution()||e[p]),this.minResolution_,this.maxResolution_))),e[d]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(x.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Object(x.a)({},e,t)},e.prototype.animate=function(t){var e,n=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var r=arguments[i-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&M(e,!0))}for(var o=Date.now(),a=this.getCenter().slice(),l=this.getResolution(),u=this.getRotation(),c=[],f=0;f<i;++f){var p=n[f],d={start:o,complete:!1,anchor:p.anchor,duration:void 0!==p.duration?p.duration:1e3,easing:p.easing||v.c};if(p.center&&(d.sourceCenter=a,d.targetCenter=p.center,a=d.targetCenter),void 0!==p.zoom?(d.sourceResolution=l,d.targetResolution=this.constrainResolution(this.maxResolution_,p.zoom-this.minZoom_,0),l=d.targetResolution):p.resolution&&(d.sourceResolution=l,d.targetResolution=p.resolution,l=d.targetResolution),void 0!==p.rotation){d.sourceRotation=u;var g=Object(s.d)(p.rotation-u+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=u+g,u=d.targetRotation}d.callback=e,I(d)?d.complete=!0:o+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(h.a.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[h.a.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[h.a.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(h.a.ANIMATING,-this.hints_[h.a.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&M(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,o=0,a=i.length;o<a;++o){var l=i[o];if(!l.complete){var u=t-l.start,c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):r=!1;var g=l.easing(c);if(l.sourceCenter){var m=l.sourceCenter[0],v=l.sourceCenter[1],y=m+g*(l.targetCenter[0]-m),_=v+g*(l.targetCenter[1]-v);this.set(f,[y,_])}if(l.sourceResolution&&l.targetResolution){var b=1===g?l.targetResolution:l.sourceResolution+g*(l.targetResolution-l.sourceResolution);l.anchor&&this.set(f,this.calculateCenterZoom(b,l.anchor)),this.set(p,b)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var x=1===g?Object(s.d)(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+g*(l.targetRotation-l.sourceRotation);l.anchor&&this.set(f,this.calculateCenterRotate(x,l.anchor)),this.set(d,x)}if(e=!0,!l.complete)break}}if(r){this.animations_[n]=null,this.setHint(h.a.ANIMATING,-1);var w=i[0].callback;w&&M(w,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var n,i=this.getCenter();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],Object(m.c)(n,t-this.getRotation()),Object(m.a)(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenter(),r=this.getResolution();void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]);return n},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+Object(r.c)(this)+'"]',n=document.querySelector(e);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,n){var i=e||0,r=n||0;return this.constraints_.resolution(t,i,r)},e.prototype.constrainRotation=function(t,e){var n=e||0;return this.constraints_.rotation(t,n)},e.prototype.getCenter=function(){return this.get(f)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();Object(g.a)(n,1);var i=this.getResolution();Object(g.a)(void 0!==i,2);var r=this.getRotation();return Object(g.a)(void 0!==r,3),Object(y.z)(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(p)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),i=Object(y.E)(t)/n[0],r=Object(y.A)(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(d)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/r}},e.prototype.getState=function(t){var e=this.getCenter(),n=this.getProjection(),i=this.getResolution(),r=i/t,o=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==n?n:null,resolution:i,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=Object(u.f)(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var n,i=e||{},r=i.size;r||(r=this.getSizeFromViewport_()),Object(g.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(g.a)(!Object(y.H)(t),25),n=Object(b.b)(t)):t.getType()===_.a.CIRCLE?(t=t.getExtent(),(n=Object(b.b)(t)).rotate(this.getRotation(),Object(y.x)(t))):n=t;var s,a=void 0!==i.padding?i.padding:[0,0,0,0],l=void 0===i.constrainResolution||i.constrainResolution,u=void 0!==i.nearest&&i.nearest;s=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var c=n.getFlatCoordinates(),h=this.getRotation(),f=Math.cos(-h),p=Math.sin(-h),d=1/0,m=1/0,v=-1/0,x=-1/0,w=n.getStride(),E=0,C=c.length;E<C;E+=w){var S=c[E]*f-c[E+1]*p,I=c[E]*p+c[E+1]*f;d=Math.min(d,S),m=Math.min(m,I),v=Math.max(v,S),x=Math.max(x,I)}var O=this.getResolutionForExtent([d,m,v,x],[r[0]-a[1]-a[3],r[1]-a[0]-a[2]]);if(O=isNaN(O)?s:Math.max(O,s),l){var T=this.constrainResolution(O,0,0);!u&&T<O&&(T=this.constrainResolution(T,-1,0)),O=T}p=-p;var N=(d+v)/2,k=(m+x)/2,P=[(N+=(a[1]-a[3])/2*O)*f-(k+=(a[0]-a[2])/2*O)*p,k*f+N*p],A=i.callback?i.callback:o.c;void 0!==i.duration?this.animate({resolution:O,center:P,duration:i.duration,easing:i.easing},A):(this.setResolution(O),this.setCenter(P),M(A,!0))},e.prototype.centerOn=function(t,e,n){var i=this.getRotation(),r=Math.cos(-i),o=Math.sin(-i),s=t[0]*r-t[1]*o,a=t[1]*r+t[0]*o,l=this.getResolution(),u=(s+=(e[0]/2-n[0])*l)*r-(a+=(n[1]-e[1]/2)*l)*(o=-o),c=a*r+s*o;this.setCenter([u,c])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(f,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(p,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(d,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(l.a);function M(t,e){setTimeout(function(){t(e)},0)}function I(t){return!(t.sourceCenter&&t.targetCenter&&!Object(m.b)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}e.a=S},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var i=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},r=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return i(e(t),n)}),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}};var o=r(i),s=o.right,a=o.left,l=s,u=function(t,e){null==e&&(e=c);for(var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(r,r=t[++n]);return o};function c(t,e){return[t,e]}var h=function(t,e,n){var i,r,o,s,a=t.length,l=e.length,u=new Array(a*l);for(null==n&&(n=c),i=o=0;i<a;++i)for(s=t[i],r=0;r<l;++r,++o)u[o]=n(s,e[r]);return u},f=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},p=function(t){return null===t?NaN:+t},d=function(t,e){var n,i,r=t.length,o=0,s=-1,a=0,l=0;if(null==e)for(;++s<r;)isNaN(n=p(t[s]))||(l+=(i=n-a)*(n-(a+=i/++o)));else for(;++s<r;)isNaN(n=p(e(t[s],s,t)))||(l+=(i=n-a)*(n-(a+=i/++o)));if(o>1)return l/(o-1)},g=function(t,e){var n=d(t,e);return n?Math.sqrt(n):n},m=function(t,e){var n,i,r,o=t.length,s=-1;if(null==e){for(;++s<o;)if(null!=(n=t[s])&&n>=n)for(i=r=n;++s<o;)null!=(n=t[s])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++s<o;)if(null!=(n=e(t[s],s,t))&&n>=n)for(i=r=n;++s<o;)null!=(n=e(t[s],s,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]},v=Array.prototype,y=v.slice,_=v.map,b=function(t){return function(){return t}},x=function(t){return t},w=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o},E=Math.sqrt(50),C=Math.sqrt(10),S=Math.sqrt(2),M=function(t,e,n){var i,r,o,s,a=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=I(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(r=Math.ceil(e-t+1));++a<r;)o[a]=(t+a)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(r=Math.ceil(t-e+1));++a<r;)o[a]=(t-a)/s;return i&&o.reverse(),o};function I(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=E?10:o>=C?5:o>=S?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=E?10:o>=C?5:o>=S?2:1)}function O(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=E?r*=10:o>=C?r*=5:o>=S&&(r*=2),e<t?-r:r}var T=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},N=function(){var t=x,e=m,n=T;function i(i){var r,o,s=i.length,a=new Array(s);for(r=0;r<s;++r)a[r]=t(i[r],r,i);var u=e(a),c=u[0],h=u[1],f=n(a,c,h);Array.isArray(f)||(f=O(c,h,f),f=w(Math.ceil(c/f)*f,h,f));for(var p=f.length;f[0]<=c;)f.shift(),--p;for(;f[p-1]>h;)f.pop(),--p;var d,g=new Array(p+1);for(r=0;r<=p;++r)(d=g[r]=[]).x0=r>0?f[r-1]:c,d.x1=r<p?f[r]:h;for(r=0;r<s;++r)c<=(o=a[r])&&o<=h&&g[l(f,o,0,p)].push(i[r]);return g}return i.value=function(e){return arguments.length?(t="function"==typeof e?e:b(e),i):t},i.domain=function(t){return arguments.length?(e="function"==typeof t?t:b([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?b(y.call(t)):b(t),i):n},i},k=function(t,e,n){if(null==n&&(n=p),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),s=+n(t[o],o,t);return s+(+n(t[o+1],o+1,t)-s)*(r-o)}},P=function(t,e,n){return t=_.call(t,p).sort(i),Math.ceil((n-e)/(2*(k(t,.75)-k(t,.25))*Math.pow(t.length,-1/3)))},A=function(t,e,n){return Math.ceil((n-e)/(3.5*g(t)*Math.pow(t.length,-1/3)))},L=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n>i&&(i=n);return i},D=function(t,e){var n,i=t.length,r=i,o=-1,s=0;if(null==e)for(;++o<i;)isNaN(n=p(t[o]))?--r:s+=n;else for(;++o<i;)isNaN(n=p(e(t[o],o,t)))?--r:s+=n;if(r)return s/r},R=function(t,e){var n,r=t.length,o=-1,s=[];if(null==e)for(;++o<r;)isNaN(n=p(t[o]))||s.push(n);else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))||s.push(n);return k(s.sort(i),.5)},j=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--s]=i[e];return n},F=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i>n&&(i=n);return i},z=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},B=function(t,e){if(n=t.length){var n,r,o=0,s=0,a=t[s];for(null==e&&(e=i);++o<n;)(e(r=t[o],a)<0||0!==e(a,a))&&(a=r,s=o);return 0===e(a,a)?s:void 0}},G=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},q=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)for(;++r<i;)(n=+t[r])&&(o+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(o+=n);return o},H=function(t){if(!(r=t.length))return[];for(var e=-1,n=F(t,W),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i};function W(t){return t.length}var U=function(){return H(arguments)},Y=Array.prototype.slice,V=function(t){return t},X=1,K=2,$=3,Z=4,J=1e-6;function Q(t){return"translate("+(t+.5)+",0)"}function tt(t){return"translate(0,"+(t+.5)+")"}function et(){return!this.__axis}function nt(t,e){var n=[],i=null,r=null,o=6,s=6,a=3,l=t===X||t===Z?-1:1,u=t===Z||t===K?"x":"y",c=t===X||t===$?Q:tt;function h(h){var f=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,p=null==r?e.tickFormat?e.tickFormat.apply(e,n):V:r,d=Math.max(o,0)+a,g=e.range(),m=+g[0]+.5,v=+g[g.length-1]+.5,y=(e.bandwidth?function(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}:function(t){return function(e){return+t(e)}})(e.copy()),_=h.selection?h.selection():h,b=_.selectAll(".domain").data([null]),x=_.selectAll(".tick").data(f,e).order(),w=x.exit(),E=x.enter().append("g").attr("class","tick"),C=x.select("line"),S=x.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(E),C=C.merge(E.append("line").attr("stroke","currentColor").attr(u+"2",l*o)),S=S.merge(E.append("text").attr("fill","currentColor").attr(u,l*d).attr("dy",t===X?"0em":t===$?"0.71em":"0.32em")),h!==_&&(b=b.transition(h),x=x.transition(h),C=C.transition(h),S=S.transition(h),w=w.transition(h).attr("opacity",J).attr("transform",function(t){return isFinite(t=y(t))?c(t):this.getAttribute("transform")}),E.attr("opacity",J).attr("transform",function(t){var e=this.parentNode.__axis;return c(e&&isFinite(e=e(t))?e:y(t))})),w.remove(),b.attr("d",t===Z||t==K?s?"M"+l*s+","+m+"H0.5V"+v+"H"+l*s:"M0.5,"+m+"V"+v:s?"M"+m+","+l*s+"V0.5H"+v+"V"+l*s:"M"+m+",0.5H"+v),x.attr("opacity",1).attr("transform",function(t){return c(y(t))}),C.attr(u+"2",l*o),S.attr(u,l*d).text(p),_.filter(et).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===K?"start":t===Z?"end":"middle"),_.each(function(){this.__axis=y})}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Y.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Y.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(i=null==t?null:Y.call(t),h):i&&i.slice()},h.tickFormat=function(t){return arguments.length?(r=t,h):r},h.tickSize=function(t){return arguments.length?(o=s=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(s=+t,h):s},h.tickPadding=function(t){return arguments.length?(a=+t,h):a},h}function it(t){return nt(X,t)}function rt(t){return nt(K,t)}function ot(t){return nt($,t)}function st(t){return nt(Z,t)}var at={value:function(){}};function lt(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new ut(i)}function ut(t){this._=t}function ct(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function ht(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=at,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}ut.prototype=lt.prototype={constructor:ut,on:function(t,e){var n,i,r=this._,o=(i=r,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!i.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),s=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++s<a;)if(n=(t=o[s]).type)r[n]=ht(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ht(r[n],t.name,null);return this}for(;++s<a;)if((n=(t=o[s]).type)&&(n=ct(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ut(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var ft=lt,pt="http://www.w3.org/1999/xhtml",dt={svg:"http://www.w3.org/2000/svg",xhtml:pt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},gt=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),dt.hasOwnProperty(e)?{space:dt[e],local:t}:t};var mt=function(t){var e=gt(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===pt&&e.documentElement.namespaceURI===pt?e.createElement(t):e.createElementNS(n,t)}})(e)};function vt(){}var yt=function(t){return null==t?vt:function(){return this.querySelector(t)}};function _t(){return[]}var bt=function(t){return null==t?_t:function(){return this.querySelectorAll(t)}},xt=function(t){return function(){return this.matches(t)}},wt=function(t){return new Array(t.length)};function Et(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Et.prototype={constructor:Et,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ct="$";function St(t,e,n,i,r,o){for(var s,a=0,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new Et(t,o[a]);for(;a<l;++a)(s=e[a])&&(r[a]=s)}function Mt(t,e,n,i,r,o,s){var a,l,u,c={},h=e.length,f=o.length,p=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(p[a]=u=Ct+s.call(l,l.__data__,a,e),u in c?r[a]=l:c[u]=l);for(a=0;a<f;++a)(l=c[u=Ct+s.call(t,o[a],a,o)])?(i[a]=l,l.__data__=o[a],c[u]=null):n[a]=new Et(t,o[a]);for(a=0;a<h;++a)(l=e[a])&&c[p[a]]===l&&(r[a]=l)}function It(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Ot=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Tt(t,e){return t.style.getPropertyValue(e)||Ot(t).getComputedStyle(t,null).getPropertyValue(e)}function Nt(t){return t.trim().split(/^|\s+/)}function kt(t){return t.classList||new Pt(t)}function Pt(t){this._node=t,this._names=Nt(t.getAttribute("class")||"")}function At(t,e){for(var n=kt(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Lt(t,e){for(var n=kt(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}Pt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Dt(){this.textContent=""}function Rt(){this.innerHTML=""}function jt(){this.nextSibling&&this.parentNode.appendChild(this)}function Ft(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zt(){return null}function Bt(){var t=this.parentNode;t&&t.removeChild(this)}function Gt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function qt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Ht={},Wt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ht={mouseenter:"mouseover",mouseleave:"mouseout"}));function Ut(t,e,n){return t=Yt(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Yt(t,e,n){return function(i){var r=Wt;Wt=i;try{t.call(this,this.__data__,e,n)}finally{Wt=r}}}function Vt(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function Xt(t,e,n){var i=Ht.hasOwnProperty(t.type)?Ut:Yt;return function(r,o,s){var a,l=this.__on,u=i(e,o,s);if(l)for(var c=0,h=l.length;c<h;++c)if((a=l[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=u,a.capture=n),void(a.value=e);this.addEventListener(t.type,u,n),a={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(a):this.__on=[a]}}function Kt(t,e,n,i){var r=Wt;t.sourceEvent=Wt,Wt=t;try{return e.apply(n,i)}finally{Wt=r}}function $t(t,e,n){var i=Ot(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}var Zt=[null];function Jt(t,e){this._groups=t,this._parents=e}function Qt(){return new Jt([[document.documentElement]],Zt)}Jt.prototype=Qt.prototype={constructor:Jt,select:function(t){"function"!=typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],l=a.length,u=i[r]=new Array(l),c=0;c<l;++c)(o=a[c])&&(s=t.call(o,o.__data__,c,a))&&("__data__"in o&&(s.__data__=o.__data__),u[c]=s);return new Jt(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=bt(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],l=a.length,u=0;u<l;++u)(s=a[u])&&(i.push(t.call(s,s.__data__,u,a)),r.push(s));return new Jt(i,r)},filter:function(t){"function"!=typeof t&&(t=xt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,l=i[r]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&l.push(o);return new Jt(i,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each(function(t){d[++c]=t}),d;var n,i=e?Mt:St,r=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=o.length,a=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var h=r[c],f=o[c],p=f.length,d=t.call(h,h&&h.__data__,c,r),g=d.length,m=l[c]=new Array(g),v=a[c]=new Array(g);i(h,f,m,v,u[c]=new Array(p),d,e);for(var y,_,b=0,x=0;b<g;++b)if(y=m[b]){for(b>=x&&(x=b+1);!(_=v[x])&&++x<g;);y._next=_||null}}return(a=new Jt(a,r))._enter=l,a._exit=u,a},enter:function(){return new Jt(this._enter||this._groups.map(wt),this._parents)},exit:function(){return new Jt(this._exit||this._groups.map(wt),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,u=e[a],c=n[a],h=u.length,f=s[a]=new Array(h),p=0;p<h;++p)(l=u[p]||c[p])&&(f[p]=l);for(;a<i;++a)s[a]=e[a];return new Jt(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=It);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],l=a.length,u=r[o]=new Array(l),c=0;c<l;++c)(s=a[c])&&(u[c]=s);u.sort(e)}return new Jt(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},attr:function(t,e){var n=gt(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):Tt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=Nt(t+"");if(arguments.length<2){for(var i=kt(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?At:Lt)(this,t)}}:e?function(t){return function(){At(this,t)}}:function(t){return function(){Lt(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?Dt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Rt:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(jt)},lower:function(){return this.each(Ft)},append:function(t){var e="function"==typeof t?t:mt(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:mt(t),i=null==e?zt:"function"==typeof e?e:yt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function(){return this.each(Bt)},clone:function(t){return this.select(t?qt:Gt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?Xt:Vt,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var l,u=0,c=a.length;u<c;++u)for(i=0,l=a[u];i<s;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return $t(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return $t(this,t,e)}})(t,e))}};var te=Qt,ee=function(t){return"string"==typeof t?new Jt([[document.querySelector(t)]],[document.documentElement]):new Jt([[t]],Zt)},ne=function(t){return ee(mt(t).call(document.documentElement))},ie=0;function re(){return new oe}function oe(){this._="@"+(++ie).toString(36)}oe.prototype=re.prototype={constructor:oe,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var se=function(){for(var t,e=Wt;t=e.sourceEvent;)e=t;return e},ae=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},le=function(t){var e=se();return e.changedTouches&&(e=e.changedTouches[0]),ae(t,e)},ue=function(t){return"string"==typeof t?new Jt([document.querySelectorAll(t)],[document.documentElement]):new Jt([null==t?[]:t],Zt)},ce=function(t,e,n){arguments.length<3&&(n=e,e=se().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return ae(t,i);return null},he=function(t,e){null==e&&(e=se().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=ae(t,e[n]);return r};function fe(){Wt.stopImmediatePropagation()}var pe=function(){Wt.preventDefault(),Wt.stopImmediatePropagation()},de=function(t){var e=t.document.documentElement,n=ee(t).on("dragstart.drag",pe,!0);"onselectstart"in e?n.on("selectstart.drag",pe,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function ge(t,e){var n=t.document.documentElement,i=ee(t).on("dragstart.drag",null);e&&(i.on("click.drag",pe,!0),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var me=function(t){return function(){return t}};function ve(t,e,n,i,r,o,s,a,l,u){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=l,this._=u}function ye(){return!Wt.button}function _e(){return this.parentNode}function be(t){return null==t?{x:Wt.x,y:Wt.y}:t}function xe(){return"ontouchstart"in this}ve.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var we=function(){var t,e,n,i,r=ye,o=_e,s=be,a=xe,l={},u=ft("start","drag","end"),c=0,h=0;function f(t){t.on("mousedown.drag",p).filter(a).on("touchstart.drag",m).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!i&&r.apply(this,arguments)){var s=_("mouse",o.apply(this,arguments),le,this,arguments);s&&(ee(Wt.view).on("mousemove.drag",d,!0).on("mouseup.drag",g,!0),de(Wt.view),fe(),n=!1,t=Wt.clientX,e=Wt.clientY,s("start"))}}function d(){if(pe(),!n){var i=Wt.clientX-t,r=Wt.clientY-e;n=i*i+r*r>h}l.mouse("drag")}function g(){ee(Wt.view).on("mousemove.drag mouseup.drag",null),ge(Wt.view,n),pe(),l.mouse("end")}function m(){if(r.apply(this,arguments)){var t,e,n=Wt.changedTouches,i=o.apply(this,arguments),s=n.length;for(t=0;t<s;++t)(e=_(n[t].identifier,i,ce,this,arguments))&&(fe(),e("start"))}}function v(){var t,e,n=Wt.changedTouches,i=n.length;for(t=0;t<i;++t)(e=l[n[t].identifier])&&(pe(),e("drag"))}function y(){var t,e,n=Wt.changedTouches,r=n.length;for(i&&clearTimeout(i),i=setTimeout(function(){i=null},500),t=0;t<r;++t)(e=l[n[t].identifier])&&(fe(),e("end"))}function _(t,e,n,i,r){var o,a,h,p=n(e,t),d=u.copy();if(Kt(new ve(f,"beforestart",o,t,c,p[0],p[1],0,0,d),function(){return null!=(Wt.subject=o=s.apply(i,r))&&(a=o.x-p[0]||0,h=o.y-p[1]||0,!0)}))return function s(u){var g,m=p;switch(u){case"start":l[t]=s,g=c++;break;case"end":delete l[t],--c;case"drag":p=n(e,t),g=c}Kt(new ve(f,u,o,t,g,p[0]+a,p[1]+h,p[0]-m[0],p[1]-m[1],d),d.apply,d,[u,i,r])}}return f.filter=function(t){return arguments.length?(r="function"==typeof t?t:me(!!t),f):r},f.container=function(t){return arguments.length?(o="function"==typeof t?t:me(t),f):o},f.subject=function(t){return arguments.length?(s="function"==typeof t?t:me(t),f):s},f.touchable=function(t){return arguments.length?(a="function"==typeof t?t:me(!!t),f):a},f.on=function(){var t=u.on.apply(u,arguments);return t===u?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f},Ee=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function Ce(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Se(){}var Me="\\s*([+-]?\\d+)\\s*",Ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Te=/^#([0-9a-f]{3})$/,Ne=/^#([0-9a-f]{6})$/,ke=new RegExp("^rgb\\("+[Me,Me,Me]+"\\)$"),Pe=new RegExp("^rgb\\("+[Oe,Oe,Oe]+"\\)$"),Ae=new RegExp("^rgba\\("+[Me,Me,Me,Ie]+"\\)$"),Le=new RegExp("^rgba\\("+[Oe,Oe,Oe,Ie]+"\\)$"),De=new RegExp("^hsl\\("+[Ie,Oe,Oe]+"\\)$"),Re=new RegExp("^hsla\\("+[Ie,Oe,Oe,Ie]+"\\)$"),je={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Fe(t){var e;return t=(t+"").trim().toLowerCase(),(e=Te.exec(t))?new He((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Ne.exec(t))?ze(parseInt(e[1],16)):(e=ke.exec(t))?new He(e[1],e[2],e[3],1):(e=Pe.exec(t))?new He(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Ae.exec(t))?Be(e[1],e[2],e[3],e[4]):(e=Le.exec(t))?Be(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=De.exec(t))?Ue(e[1],e[2]/100,e[3]/100,1):(e=Re.exec(t))?Ue(e[1],e[2]/100,e[3]/100,e[4]):je.hasOwnProperty(t)?ze(je[t]):"transparent"===t?new He(NaN,NaN,NaN,0):null}function ze(t){return new He(t>>16&255,t>>8&255,255&t,1)}function Be(t,e,n,i){return i<=0&&(t=e=n=NaN),new He(t,e,n,i)}function Ge(t){return t instanceof Se||(t=Fe(t)),t?new He((t=t.rgb()).r,t.g,t.b,t.opacity):new He}function qe(t,e,n,i){return 1===arguments.length?Ge(t):new He(t,e,n,null==i?1:i)}function He(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function We(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ue(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ve(t,e,n,i)}function Ye(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof Ve)return new Ve(t.h,t.s,t.l,t.opacity);if(t instanceof Se||(t=Fe(t)),!t)return new Ve;if(t instanceof Ve)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Ve(s,a,l,t.opacity)}(t):new Ve(t,e,n,null==i?1:i)}function Ve(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Xe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Ee(Se,Fe,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),Ee(He,qe,Ce(Se,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new He(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new He(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+We(this.r)+We(this.g)+We(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Ee(Ve,Ye,Ce(Se,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ve(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ve(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new He(Xe(t>=240?t-240:t+120,r,i),Xe(t,r,i),Xe(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Ke=Math.PI/180,$e=180/Math.PI,Ze=.96422,Je=1,Qe=.82521,tn=4/29,en=6/29,nn=3*en*en,rn=en*en*en;function on(t){if(t instanceof ln)return new ln(t.l,t.a,t.b,t.opacity);if(t instanceof mn){if(isNaN(t.h))return new ln(t.l,0,0,t.opacity);var e=t.h*Ke;return new ln(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof He||(t=Ge(t));var n,i,r=fn(t.r),o=fn(t.g),s=fn(t.b),a=un((.2225045*r+.7168786*o+.0606169*s)/Je);return r===o&&o===s?n=i=a:(n=un((.4360747*r+.3850649*o+.1430804*s)/Ze),i=un((.0139322*r+.0971045*o+.7141733*s)/Qe)),new ln(116*a-16,500*(n-a),200*(a-i),t.opacity)}function sn(t,e){return new ln(t,0,0,null==e?1:e)}function an(t,e,n,i){return 1===arguments.length?on(t):new ln(t,e,n,null==i?1:i)}function ln(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function un(t){return t>rn?Math.pow(t,1/3):t/nn+tn}function cn(t){return t>en?t*t*t:nn*(t-tn)}function hn(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function fn(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function pn(t){if(t instanceof mn)return new mn(t.h,t.c,t.l,t.opacity);if(t instanceof ln||(t=on(t)),0===t.a&&0===t.b)return new mn(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*$e;return new mn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function dn(t,e,n,i){return 1===arguments.length?pn(t):new mn(n,e,t,null==i?1:i)}function gn(t,e,n,i){return 1===arguments.length?pn(t):new mn(t,e,n,null==i?1:i)}function mn(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}Ee(ln,an,Ce(Se,{brighter:function(t){return new ln(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new ln(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new He(hn(3.1338561*(e=Ze*cn(e))-1.6168667*(t=Je*cn(t))-.4906146*(n=Qe*cn(n))),hn(-.9787684*e+1.9161415*t+.033454*n),hn(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Ee(mn,gn,Ce(Se,{brighter:function(t){return new mn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new mn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return on(this).rgb()}}));var vn=-.29227,yn=-.90649,_n=1.97294,bn=_n*yn,xn=1.78277*_n,wn=1.78277*vn- -.14861*yn;function En(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof Cn)return new Cn(t.h,t.s,t.l,t.opacity);t instanceof He||(t=Ge(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(wn*i+bn*e-xn*n)/(wn+bn-xn),o=i-r,s=(_n*(n-r)-vn*o)/yn,a=Math.sqrt(s*s+o*o)/(_n*r*(1-r)),l=a?Math.atan2(s,o)*$e-120:NaN;return new Cn(l<0?l+360:l,a,r,t.opacity)}(t):new Cn(t,e,n,null==i?1:i)}function Cn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function Sn(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}Ee(Cn,En,Ce(Se,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Cn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Cn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Ke,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new He(255*(e+n*(-.14861*i+1.78277*r)),255*(e+n*(vn*i+yn*r)),255*(e+n*(_n*i)),this.opacity)}}));var Mn=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],s=i>0?t[i-1]:2*r-o,a=i<e-1?t[i+2]:2*o-r;return Sn((n-i/e)*e,s,r,o,a)}},In=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],s=t[(i+1)%e],a=t[(i+2)%e];return Sn((n-i/e)*e,r,o,s,a)}},On=function(t){return function(){return t}};function Tn(t,e){return function(n){return t+n*e}}function Nn(t,e){var n=e-t;return n?Tn(t,n>180||n<-180?n-360*Math.round(n/360):n):On(isNaN(t)?e:t)}function kn(t){return 1==(t=+t)?Pn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):On(isNaN(e)?n:e)}}function Pn(t,e){var n=e-t;return n?Tn(t,n):On(isNaN(t)?e:t)}var An=function t(e){var n=kn(e);function i(t,e){var i=n((t=qe(t)).r,(e=qe(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=Pn(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function Ln(t){return function(e){var n,i,r=e.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=qe(e[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=t(o),s=t(s),a=t(a),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=a(t),i+""}}}var Dn=Ln(Mn),Rn=Ln(In),jn=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=Xn(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}},Fn=function(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}},zn=function(t,e){return e-=t=+t,function(n){return t+e*n}},Bn=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Xn(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},Gn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,qn=new RegExp(Gn.source,"g");var Hn,Wn,Un,Yn,Vn=function(t,e){var n,i,r,o=Gn.lastIndex=qn.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=Gn.exec(t))&&(i=qn.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:zn(n,i)})),o=qn.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})},Xn=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?On(e):("number"===i?zn:"string"===i?(n=Fe(e))?(e=n,An):Vn:e instanceof Fe?An:e instanceof Date?Fn:Array.isArray(e)?jn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Bn:zn)(t,e)},Kn=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},$n=function(t,e){var n=Nn(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},Zn=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},Jn=180/Math.PI,Qn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ti=function(t,e,n,i,r,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Jn,skewX:Math.atan(l)*Jn,scaleX:s,scaleY:a}};function ei(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],l=[];return o=t(o),s=t(s),function(t,i,r,o,s,a){if(t!==r||i!==o){var l=s.push("translate(",null,e,null,n);a.push({i:l-4,x:zn(t,r)},{i:l-2,x:zn(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:zn(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,s.rotate,a,l),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:zn(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,s.skewX,a,l),function(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:zn(t,n)},{i:a-2,x:zn(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(t){for(var e,n=-1,i=l.length;++n<i;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var ni=ei(function(t){return"none"===t?Qn:(Hn||(Hn=document.createElement("DIV"),Wn=document.documentElement,Un=document.defaultView),Hn.style.transform=t,t=Un.getComputedStyle(Wn.appendChild(Hn),null).getPropertyValue("transform"),Wn.removeChild(Hn),t=t.slice(7,-1).split(","),ti(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),ii=ei(function(t){return null==t?Qn:(Yn||(Yn=document.createElementNS("http://www.w3.org/2000/svg","g")),Yn.setAttribute("transform",t),(t=Yn.transform.baseVal.consolidate())?(t=t.matrix,ti(t.a,t.b,t.c,t.d,t.e,t.f)):Qn)},", ",")",")"),ri=Math.SQRT2;function oi(t){return((t=Math.exp(t))+1/t)/2}var si=function(t,e){var n,i,r=t[0],o=t[1],s=t[2],a=e[0],l=e[1],u=e[2],c=a-r,h=l-o,f=c*c+h*h;if(f<1e-12)i=Math.log(u/s)/ri,n=function(t){return[r+t*c,o+t*h,s*Math.exp(ri*t*i)]};else{var p=Math.sqrt(f),d=(u*u-s*s+4*f)/(2*s*2*p),g=(u*u-s*s-4*f)/(2*u*2*p),m=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(g*g+1)-g);i=(v-m)/ri,n=function(t){var e,n=t*i,a=oi(m),l=s/(2*p)*(a*(e=ri*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[r+l*c,o+l*h,s*a/oi(ri*n+m)]}}return n.duration=1e3*i,n};function ai(t){return function(e,n){var i=t((e=Ye(e)).h,(n=Ye(n)).h),r=Pn(e.s,n.s),o=Pn(e.l,n.l),s=Pn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=s(t),e+""}}}var li=ai(Nn),ui=ai(Pn);function ci(t,e){var n=Pn((t=an(t)).l,(e=an(e)).l),i=Pn(t.a,e.a),r=Pn(t.b,e.b),o=Pn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}}function hi(t){return function(e,n){var i=t((e=gn(e)).h,(n=gn(n)).h),r=Pn(e.c,n.c),o=Pn(e.l,n.l),s=Pn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=s(t),e+""}}}var fi=hi(Nn),pi=hi(Pn);function di(t){return function e(n){function i(e,i){var r=t((e=En(e)).h,(i=En(i)).h),o=Pn(e.s,i.s),s=Pn(e.l,i.l),a=Pn(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}var gi=di(Nn),mi=di(Pn);function vi(t,e){for(var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);n<i;)o[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return o[e](t-e)}}var yi,_i,bi=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},xi=0,wi=0,Ei=0,Ci=1e3,Si=0,Mi=0,Ii=0,Oi="object"==typeof performance&&performance.now?performance:Date,Ti="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ni(){return Mi||(Ti(ki),Mi=Oi.now()+Ii)}function ki(){Mi=0}function Pi(){this._call=this._time=this._next=null}function Ai(t,e,n){var i=new Pi;return i.restart(t,e,n),i}function Li(){Ni(),++xi;for(var t,e=yi;e;)(t=Mi-e._time)>=0&&e._call.call(null,t),e=e._next;--xi}function Di(){Mi=(Si=Oi.now())+Ii,xi=wi=0;try{Li()}finally{xi=0,function(){var t,e,n=yi,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:yi=e);_i=t,ji(i)}(),Mi=0}}function Ri(){var t=Oi.now(),e=t-Si;e>Ci&&(Ii-=e,Si=t)}function ji(t){xi||(wi&&(wi=clearTimeout(wi)),t-Mi>24?(t<1/0&&(wi=setTimeout(Di,t-Oi.now()-Ii)),Ei&&(Ei=clearInterval(Ei))):(Ei||(Si=Oi.now(),Ei=setInterval(Ri,Ci)),xi=1,Ti(Di)))}Pi.prototype=Ai.prototype={constructor:Pi,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ni():+n)+(null==e?0:+e),this._next||_i===this||(_i?_i._next=this:yi=this,_i=this),this._call=t,this._time=n,ji()},stop:function(){this._call&&(this._call=null,this._time=1/0,ji())}};var Fi=function(t,e,n){var i=new Pi;return e=null==e?0:+e,i.restart(function(n){i.stop(),t(n+e)},e,n),i},zi=function(t,e,n){var i=new Pi,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?Ni():+n,i.restart(function o(s){s+=r,i.restart(o,r+=e,n),t(s)},e,n),i)},Bi=ft("start","end","cancel","interrupt"),Gi=[],qi=0,Hi=1,Wi=2,Ui=3,Yi=4,Vi=5,Xi=6,Ki=function(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(l){var u,c,h,f;if(n.state!==Hi)return a();for(u in r)if((f=r[u]).name===n.name){if(f.state===Ui)return Fi(o);f.state===Yi?(f.state=Xi,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=Xi,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[u])}if(Fi(function(){n.state===Ui&&(n.state=Yi,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=Wi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Wi){for(n.state=Ui,i=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=f);i.length=c+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=Vi,1),o=-1,s=i.length;++o<s;)i[o].call(t,r);n.state===Vi&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var i in n.state=Xi,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=Ai(function(t){n.state=Hi,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:i,group:r,on:Bi,tween:Gi,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:qi})};function $i(t,e){var n=Ji(t,e);if(n.state>qi)throw new Error("too late; already scheduled");return n}function Zi(t,e){var n=Ji(t,e);if(n.state>Ui)throw new Error("too late; already running");return n}function Ji(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Qi=function(t,e){var n,i,r,o=t.__transition,s=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>Wi&&n.state<Vi,n.state=Xi,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}};function tr(t,e,n){var i=t._id;return t.each(function(){var t=Zi(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return Ji(t,i).value[e]}}var er=function(t,e){var n;return("number"==typeof e?zn:e instanceof Fe?An:(n=Fe(e))?(e=n,An):Vn)(t,e)};var nr=te.prototype.constructor;function ir(t){return function(){this.style.removeProperty(t)}}var rr=0;function or(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function sr(t){return te().transition(t)}function ar(){return++rr}var lr=te.prototype;function ur(t){return+t}function cr(t){return t*t}function hr(t){return t*(2-t)}function fr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function pr(t){return t*t*t}function dr(t){return--t*t*t+1}function gr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}or.prototype=sr.prototype={constructor:or,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=yt(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,l,u=i[s],c=u.length,h=o[s]=new Array(c),f=0;f<c;++f)(a=u[f])&&(l=t.call(a,a.__data__,f,u))&&("__data__"in a&&(l.__data__=a.__data__),h[f]=l,Ki(h[f],e,n,f,h,Ji(a,n)));return new or(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=bt(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l,u=i[a],c=u.length,h=0;h<c;++h)if(l=u[h]){for(var f,p=t.call(l,l.__data__,h,u),d=Ji(l,n),g=0,m=p.length;g<m;++g)(f=p[g])&&Ki(f,e,n,g,p,d);o.push(p),s.push(l)}return new or(o,s,e,n)},filter:function(t){"function"!=typeof t&&(t=xt(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,l=i[r]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&l.push(o);return new or(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,u=e[a],c=n[a],h=u.length,f=s[a]=new Array(h),p=0;p<h;++p)(l=u[p]||c[p])&&(f[p]=l);for(;a<i;++a)s[a]=e[a];return new or(s,this._parents,this._name,this._id)},selection:function(){return new nr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=ar(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,u=0;u<l;++u)if(s=a[u]){var c=Ji(s,e);Ki(s,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new or(i,this._parents,t,n)},call:lr.call,nodes:lr.nodes,node:lr.node,size:lr.size,empty:lr.empty,each:lr.each,on:function(t,e){var n=this._id;return arguments.length<2?Ji(this.node(),n).on.on(t):this.each(function(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?$i:Zi;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}(n,t,e))},attr:function(t,e){var n=gt(t),i="transform"===n?ii:er;return this.attrTween(t,"function"==typeof e?(n.local?function(t,e,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,l));this.removeAttributeNS(t.space,t.local)}}:function(t,e,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(t))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,l));this.removeAttribute(t)}})(n,i,tr(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}:function(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}})(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=gt(t);return this.tween(n,(i.local?function(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,r)),n}return r._value=e,r}:function(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,r)),n}return r._value=e,r})(i,e))},style:function(t,e,n){var i="transform"==(t+="")?ni:er;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=Tt(this,t),s=(this.style.removeProperty(t),Tt(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}(t,i)).on("end.style."+t,ir(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var s=Tt(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=Tt(this,t)),s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a))}}(t,i,tr(this,"style."+t,e))).each(function(t,e){var n,i,r,o,s="style."+e,a="end."+s;return function(){var l=Zi(this,t),u=l.on,c=null==l.value[s]?o||(o=ir(e)):void 0;u===n&&r===c||(i=(n=u).copy()).on(a,r=c),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var s=Tt(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,function(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,e,n){return function(i){this.style.setProperty(t,e(i),n)}}(t,o,n)),i}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(tr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Ji(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?function(t,e){var n,i;return function(){var r=Zi(this,t),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}r.tween=i}}:function(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Zi(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=a;break}l===u&&r.push(a)}o.tween=r}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){$i(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){$i(this,t).delay=e}})(e,t)):Ji(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Zi(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Zi(this,t).duration=e}})(e,t)):Ji(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Zi(this,t).ease=e}}(e,t)):Ji(this.node(),e).ease},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){0==--r&&o()}};n.each(function(){var n=Zi(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e})})}};var mr=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),vr=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),yr=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),_r=Math.PI,br=_r/2;function xr(t){return 1-Math.cos(t*br)}function wr(t){return Math.sin(t*br)}function Er(t){return(1-Math.cos(_r*t))/2}function Cr(t){return Math.pow(2,10*t-10)}function Sr(t){return 1-Math.pow(2,-10*t)}function Mr(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Ir(t){return 1-Math.sqrt(1-t*t)}function Or(t){return Math.sqrt(1- --t*t)}function Tr(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var Nr=4/11,kr=6/11,Pr=8/11,Ar=.75,Lr=9/11,Dr=10/11,Rr=.9375,jr=21/22,Fr=63/64,zr=1/Nr/Nr;function Br(t){return 1-Gr(1-t)}function Gr(t){return(t=+t)<Nr?zr*t*t:t<Pr?zr*(t-=kr)*t+Ar:t<Dr?zr*(t-=Lr)*t+Rr:zr*(t-=jr)*t+Fr}function qr(t){return((t*=2)<=1?1-Gr(1-t):Gr(t-1)+1)/2}var Hr=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Wr=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),Ur=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Yr=2*Math.PI,Vr=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Yr);function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*Yr)},r.period=function(n){return t(e,n)},r}(1,.3),Xr=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Yr);function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*Yr)},r.period=function(n){return t(e,n)},r}(1,.3),Kr=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Yr);function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*Yr)},r.period=function(n){return t(e,n)},r}(1,.3),$r={time:null,delay:0,duration:250,ease:gr};function Zr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return $r.time=Ni(),$r;return n}te.prototype.interrupt=function(t){return this.each(function(){Qi(this,t)})},te.prototype.transition=function(t){var e,n;t instanceof or?(e=t._id,t=t._name):(e=ar(),(n=$r).time=Ni(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,u=0;u<l;++u)(s=a[u])&&Ki(s,t,e,u,a,n||Zr(s,e));return new or(i,this._parents,t,e)};var Jr=[null],Qr=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>Hi&&n.name===e)return new or([[t]],Jr,e,+i);return null},to=function(t){return function(){return t}},eo=function(t,e,n){this.target=t,this.type=e,this.selection=n};function no(){Wt.stopImmediatePropagation()}var io=function(){Wt.preventDefault(),Wt.stopImmediatePropagation()},ro={name:"drag"},oo={name:"space"},so={name:"handle"},ao={name:"center"},lo={name:"x",handles:["e","w"].map(vo),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},uo={name:"y",handles:["n","s"].map(vo),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},co={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(vo),input:function(t){return t},output:function(t){return t}},ho={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},fo={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},po={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},go={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},mo={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function vo(t){return{type:t}}function yo(){return!Wt.button}function _o(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function bo(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function xo(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function wo(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Eo(){return Mo(lo)}function Co(){return Mo(uo)}var So=function(){return Mo(co)};function Mo(t){var e,n=_o,i=yo,r=ft(s,"start","brush","end"),o=6;function s(e){var n=e.property("__brush",h).selectAll(".overlay").data([vo("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",ho.overlay).merge(n).each(function(){var t=bo(this).extent;ee(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([vo("selection")]).enter().append("rect").attr("class","selection").attr("cursor",ho.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,function(t){return t.type});i.exit().remove(),i.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return ho[t.type]}),e.each(a).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",c)}function a(){var t=ee(this),e=bo(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-o/2:e[0][0]-o/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-o/2:e[0][1]-o/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+o:o}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+o:o})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(t,e){return t.__brush.emitter||new u(t,e)}function u(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function c(){if(Wt.touches){if(Wt.changedTouches.length<Wt.touches.length)return io()}else if(e)return;if(i.apply(this,arguments)){var n,r,o,s,u,c,h,f,p,d,g,m,v,y=this,_=Wt.target.__data__.type,b="selection"===(Wt.metaKey?_="overlay":_)?ro:Wt.altKey?ao:so,x=t===uo?null:go[_],w=t===lo?null:mo[_],E=bo(y),C=E.extent,S=E.selection,M=C[0][0],I=C[0][1],O=C[1][0],T=C[1][1],N=x&&w&&Wt.shiftKey,k=le(y),P=k,A=l(y,arguments).beforestart();"overlay"===_?E.selection=S=[[n=t===uo?M:k[0],o=t===lo?I:k[1]],[u=t===uo?O:n,h=t===lo?T:o]]:(n=S[0][0],o=S[0][1],u=S[1][0],h=S[1][1]),r=n,s=o,c=u,f=h;var L=ee(y).attr("pointer-events","none"),D=L.selectAll(".overlay").attr("cursor",ho[_]);if(Wt.touches)L.on("touchmove.brush",j,!0).on("touchend.brush touchcancel.brush",z,!0);else{var R=ee(Wt.view).on("keydown.brush",function(){switch(Wt.keyCode){case 16:N=x&&w;break;case 18:b===so&&(x&&(u=c-p*x,n=r+p*x),w&&(h=f-d*w,o=s+d*w),b=ao,F());break;case 32:b!==so&&b!==ao||(x<0?u=c-p:x>0&&(n=r-p),w<0?h=f-d:w>0&&(o=s-d),b=oo,D.attr("cursor",ho.selection),F());break;default:return}io()},!0).on("keyup.brush",function(){switch(Wt.keyCode){case 16:N&&(m=v=N=!1,F());break;case 18:b===ao&&(x<0?u=c:x>0&&(n=r),w<0?h=f:w>0&&(o=s),b=so,F());break;case 32:b===oo&&(Wt.altKey?(x&&(u=c-p*x,n=r+p*x),w&&(h=f-d*w,o=s+d*w),b=ao):(x<0?u=c:x>0&&(n=r),w<0?h=f:w>0&&(o=s),b=so),D.attr("cursor",ho[_]),F());break;default:return}io()},!0).on("mousemove.brush",j,!0).on("mouseup.brush",z,!0);de(Wt.view)}no(),Qi(y),a.call(y),A.start()}function j(){var t=le(y);!N||m||v||(Math.abs(t[0]-P[0])>Math.abs(t[1]-P[1])?v=!0:m=!0),P=t,g=!0,io(),F()}function F(){var t;switch(p=P[0]-k[0],d=P[1]-k[1],b){case oo:case ro:x&&(p=Math.max(M-n,Math.min(O-u,p)),r=n+p,c=u+p),w&&(d=Math.max(I-o,Math.min(T-h,d)),s=o+d,f=h+d);break;case so:x<0?(p=Math.max(M-n,Math.min(O-n,p)),r=n+p,c=u):x>0&&(p=Math.max(M-u,Math.min(O-u,p)),r=n,c=u+p),w<0?(d=Math.max(I-o,Math.min(T-o,d)),s=o+d,f=h):w>0&&(d=Math.max(I-h,Math.min(T-h,d)),s=o,f=h+d);break;case ao:x&&(r=Math.max(M,Math.min(O,n-p*x)),c=Math.max(M,Math.min(O,u+p*x))),w&&(s=Math.max(I,Math.min(T,o-d*w)),f=Math.max(I,Math.min(T,h+d*w)))}c<r&&(x*=-1,t=n,n=u,u=t,t=r,r=c,c=t,_ in fo&&D.attr("cursor",ho[_=fo[_]])),f<s&&(w*=-1,t=o,o=h,h=t,t=s,s=f,f=t,_ in po&&D.attr("cursor",ho[_=po[_]])),E.selection&&(S=E.selection),m&&(r=S[0][0],c=S[1][0]),v&&(s=S[0][1],f=S[1][1]),S[0][0]===r&&S[0][1]===s&&S[1][0]===c&&S[1][1]===f||(E.selection=[[r,s],[c,f]],a.call(y),A.brush())}function z(){if(no(),Wt.touches){if(Wt.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500),L.on("touchmove.brush touchend.brush touchcancel.brush",null)}else ge(Wt.view,g),R.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),D.attr("cursor",ho.overlay),E.selection&&(S=E.selection),xo(S)&&(E.selection=null,a.call(y)),A.end()}}function h(){var e=this.__brush||{selection:null};return e.extent=n.apply(this,arguments),e.dim=t,e}return s.move=function(e,n){e.selection?e.on("start.brush",function(){l(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){l(this,arguments).end()}).tween("brush",function(){var e=this,i=e.__brush,r=l(e,arguments),o=i.selection,s=t.input("function"==typeof n?n.apply(this,arguments):n,i.extent),u=Xn(o,s);function c(t){i.selection=1===t&&xo(s)?null:u(t),a.call(e),r.brush()}return o&&s?c:c(1)}):e.each(function(){var e=arguments,i=this.__brush,r=t.input("function"==typeof n?n.apply(this,e):n,i.extent),o=l(this,e).beforestart();Qi(this),i.selection=null==r||xo(r)?null:r,a.call(this),o.start().brush().end()})},u.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Kt(new eo(s,e,t.output(this.state.selection)),r.apply,r,[e,this.that,this.args])}},s.extent=function(t){return arguments.length?(n="function"==typeof t?t:to([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),s):n},s.filter=function(t){return arguments.length?(i="function"==typeof t?t:to(!!t),s):i},s.handleSize=function(t){return arguments.length?(o=+t,s):o},s.on=function(){var t=r.on.apply(r,arguments);return t===r?s:t},s}var Io=Math.cos,Oo=Math.sin,To=Math.PI,No=To/2,ko=2*To,Po=Math.max;var Ao=function(){var t=0,e=null,n=null,i=null;function r(r){var o,s,a,l,u,c,h=r.length,f=[],p=w(h),d=[],g=[],m=g.groups=new Array(h),v=new Array(h*h);for(o=0,u=-1;++u<h;){for(s=0,c=-1;++c<h;)s+=r[u][c];f.push(s),d.push(w(h)),o+=s}for(e&&p.sort(function(t,n){return e(f[t],f[n])}),n&&d.forEach(function(t,e){t.sort(function(t,i){return n(r[e][t],r[e][i])})}),l=(o=Po(0,ko-t*h)/o)?t:ko/h,s=0,u=-1;++u<h;){for(a=s,c=-1;++c<h;){var y=p[u],_=d[y][c],b=r[y][_],x=s,E=s+=b*o;v[_*h+y]={index:y,subindex:_,startAngle:x,endAngle:E,value:b}}m[y]={index:y,startAngle:a,endAngle:s,value:f[y]},s+=l}for(u=-1;++u<h;)for(c=u-1;++c<h;){var C=v[c*h+u],S=v[u*h+c];(C.value||S.value)&&g.push(C.value<S.value?{source:S,target:C}:{source:C,target:S})}return i?g.sort(i):g}return r.padAngle=function(e){return arguments.length?(t=Po(0,e),r):t},r.sortGroups=function(t){return arguments.length?(e=t,r):e},r.sortSubgroups=function(t){return arguments.length?(n=t,r):n},r.sortChords=function(t){return arguments.length?(null==t?i=null:(e=t,i=function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)})._=t,r):i&&i._;var e},r},Lo=Array.prototype.slice,Do=function(t){return function(){return t}},Ro=Math.PI,jo=2*Ro,Fo=jo-1e-6;function zo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Bo(){return new zo}zo.prototype=Bo.prototype={constructor:zo,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,s=this._y1,a=n-t,l=i-e,u=o-t,c=s-e,h=u*u+c*c;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*a-l*u)>1e-6&&r){var f=n-o,p=i-s,d=a*a+l*l,g=f*f+p*p,m=Math.sqrt(d),v=Math.sqrt(h),y=r*Math.tan((Ro-Math.acos((d+h-g)/(2*m*v)))/2),_=y/v,b=y/m;Math.abs(_-1)>1e-6&&(this._+="L"+(t+_*u)+","+(e+_*c)),this._+="A"+r+","+r+",0,0,"+ +(c*f>u*p)+","+(this._x1=t+b*a)+","+(this._y1=e+b*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),l=t+s,u=e+a,c=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(h<0&&(h=h%jo+jo),h>Fo?this._+="A"+n+","+n+",0,1,"+c+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=Ro)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Go=Bo;function qo(t){return t.source}function Ho(t){return t.target}function Wo(t){return t.radius}function Uo(t){return t.startAngle}function Yo(t){return t.endAngle}var Vo=function(){var t=qo,e=Ho,n=Wo,i=Uo,r=Yo,o=null;function s(){var s,a=Lo.call(arguments),l=t.apply(this,a),u=e.apply(this,a),c=+n.apply(this,(a[0]=l,a)),h=i.apply(this,a)-No,f=r.apply(this,a)-No,p=c*Io(h),d=c*Oo(h),g=+n.apply(this,(a[0]=u,a)),m=i.apply(this,a)-No,v=r.apply(this,a)-No;if(o||(o=s=Go()),o.moveTo(p,d),o.arc(0,0,c,h,f),h===m&&f===v||(o.quadraticCurveTo(0,0,g*Io(m),g*Oo(m)),o.arc(0,0,g,m,v)),o.quadraticCurveTo(0,0,p,d),o.closePath(),s)return o=null,s+""||null}return s.radius=function(t){return arguments.length?(n="function"==typeof t?t:Do(+t),s):n},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Do(+t),s):i},s.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:Do(+t),s):r},s.source=function(e){return arguments.length?(t=e,s):t},s.target=function(t){return arguments.length?(e=t,s):e},s.context=function(t){return arguments.length?(o=null==t?null:t,s):o},s};function Xo(){}function Ko(t,e){var n=new Xo;if(t instanceof Xo)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}Xo.prototype=Ko.prototype={constructor:Xo,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var $o=Ko,Zo=function(){var t,e,n,i=[],r=[];function o(n,r,s,a){if(r>=i.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var l,u,c,h=-1,f=n.length,p=i[r++],d=$o(),g=s();++h<f;)(c=d.get(l=p(u=n[h])+""))?c.push(u):d.set(l,[u]);return d.each(function(t,e){a(g,e,o(t,r,s,a))}),g}return n={object:function(t){return o(t,0,Jo,Qo)},map:function(t){return o(t,0,ts,es)},entries:function(t){return function t(n,o){if(++o>i.length)return n;var s,a=r[o-1];return null!=e&&o>=i.length?s=n.entries():(s=[],n.each(function(e,n){s.push({key:n,values:t(e,o)})})),null!=a?s.sort(function(t,e){return a(t.key,e.key)}):s}(o(t,0,ts,es),0)},key:function(t){return i.push(t),n},sortKeys:function(t){return r[i.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function Jo(){return{}}function Qo(t,e,n){t[e]=n}function ts(){return $o()}function es(t,e,n){t.set(e,n)}function ns(){}var is=$o.prototype;function rs(t,e){var n=new ns;if(t instanceof ns)t.each(function(t){n.add(t)});else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}ns.prototype=rs.prototype={constructor:ns,has:is.has,add:function(t){return this["$"+(t+="")]=t,this},remove:is.remove,clear:is.clear,values:is.keys,size:is.size,empty:is.empty,each:is.each};var os=rs,ss=function(t){var e=[];for(var n in t)e.push(n);return e},as=function(t){var e=[];for(var n in t)e.push(t[n]);return e},ls=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},us=Array.prototype.slice,cs=function(t,e){return t-e},hs=function(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i},fs=function(t){return function(){return t}},ps=function(t,e){for(var n,i=-1,r=e.length;++i<r;)if(n=ds(t,e[i]))return n;return 0};function ds(t,e){for(var n=e[0],i=e[1],r=-1,o=0,s=t.length,a=s-1;o<s;a=o++){var l=t[o],u=l[0],c=l[1],h=t[a],f=h[0],p=h[1];if(gs(l,h,e))return 0;c>i!=p>i&&n<(f-u)*(i-c)/(p-c)+u&&(r=-r)}return r}function gs(t,e,n){var i,r,o,s;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(r=t[i=+(t[0]===e[0])],o=n[i],s=e[i],r<=o&&o<=s||s<=o&&o<=r)}var ms=function(){},vs=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],ys=function(){var t=1,e=1,n=T,i=a;function r(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(cs);else{var i=m(t),r=i[0],s=i[1];e=O(r,s,e),e=w(Math.floor(r/e)*e,Math.floor(s/e)*e,e)}return e.map(function(e){return o(t,e)})}function o(n,r){var o=[],a=[];return function(n,i,r){var o,a,l,u,c,h,f=new Array,p=new Array;o=a=-1,u=n[0]>=i,vs[u<<1].forEach(d);for(;++o<t-1;)l=u,u=n[o+1]>=i,vs[l|u<<1].forEach(d);vs[u<<0].forEach(d);for(;++a<e-1;){for(o=-1,u=n[a*t+t]>=i,c=n[a*t]>=i,vs[u<<1|c<<2].forEach(d);++o<t-1;)l=u,u=n[a*t+t+o+1]>=i,h=c,c=n[a*t+o+1]>=i,vs[l|u<<1|c<<2|h<<3].forEach(d);vs[u|c<<3].forEach(d)}o=-1,c=n[a*t]>=i,vs[c<<2].forEach(d);for(;++o<t-1;)h=c,c=n[a*t+o+1]>=i,vs[c<<2|h<<3].forEach(d);function d(t){var e,n,i=[t[0][0]+o,t[0][1]+a],l=[t[1][0]+o,t[1][1]+a],u=s(i),c=s(l);(e=p[u])?(n=f[c])?(delete p[e.end],delete f[n.start],e===n?(e.ring.push(l),r(e.ring)):f[e.start]=p[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete p[e.end],e.ring.push(l),p[e.end=c]=e):(e=f[c])?(n=p[u])?(delete f[e.start],delete p[n.end],e===n?(e.ring.push(l),r(e.ring)):f[n.start]=p[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete f[e.start],e.ring.unshift(i),f[e.start=u]=e):f[u]=p[c]={start:u,end:c,ring:[i,l]}}vs[c<<3].forEach(d)}(n,r,function(t){i(t,n,r),hs(t)>0?o.push([t]):a.push(t)}),a.forEach(function(t){for(var e,n=0,i=o.length;n<i;++n)if(-1!==ps((e=o[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:r,coordinates:o}}function s(e){return 2*e[0]+e[1]*(t+1)*4}function a(n,i,r){n.forEach(function(n){var o,s=n[0],a=n[1],l=0|s,u=0|a,c=i[u*t+l];s>0&&s<t&&l===s&&(o=i[u*t+l-1],n[0]=s+(r-o)/(c-o)-.5),a>0&&a<e&&u===a&&(o=i[(u-1)*t+l],n[1]=a+(r-o)/(c-o)-.5)})}return r.contour=o,r.size=function(n){if(!arguments.length)return[t,e];var i=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(i>0&&o>0))throw new Error("invalid size");return t=i,e=o,r},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?fs(us.call(t)):fs(t),r):n},r.smooth=function(t){return arguments.length?(i=t?a:ms,r):i===a},r};function _s(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),s=0;s<r;++s)for(var a=0,l=0;a<i+n;++a)a<i&&(l+=t.data[a+s*i]),a>=n&&(a>=o&&(l-=t.data[a-o+s*i]),e.data[a-n+s*i]=l/Math.min(a+1,i-1+o-a,o))}function bs(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),s=0;s<i;++s)for(var a=0,l=0;a<r+n;++a)a<r&&(l+=t.data[s+a*i]),a>=n&&(a>=o&&(l-=t.data[s+(a-o)*i]),e.data[s+(a-n)*i]=l/Math.min(a+1,r-1+o-a,o))}function xs(t){return t[0]}function ws(t){return t[1]}function Es(){return 1}var Cs=function(){var t=xs,e=ws,n=Es,i=960,r=500,o=20,s=2,a=3*o,l=i+2*a>>s,u=r+2*a>>s,c=fs(20);function h(i){var r=new Float32Array(l*u),h=new Float32Array(l*u);i.forEach(function(i,o,c){var h=+t(i,o,c)+a>>s,f=+e(i,o,c)+a>>s,p=+n(i,o,c);h>=0&&h<l&&f>=0&&f<u&&(r[h+f*l]+=p)}),_s({width:l,height:u,data:r},{width:l,height:u,data:h},o>>s),bs({width:l,height:u,data:h},{width:l,height:u,data:r},o>>s),_s({width:l,height:u,data:r},{width:l,height:u,data:h},o>>s),bs({width:l,height:u,data:h},{width:l,height:u,data:r},o>>s),_s({width:l,height:u,data:r},{width:l,height:u,data:h},o>>s),bs({width:l,height:u,data:h},{width:l,height:u,data:r},o>>s);var p=c(r);if(!Array.isArray(p)){var d=L(r);p=O(0,d,p),(p=w(0,Math.floor(d/p)*p,p)).shift()}return ys().thresholds(p).size([l,u])(r).map(f)}function f(t){return t.value*=Math.pow(2,-2*s),t.coordinates.forEach(p),t}function p(t){t.forEach(d)}function d(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,s)-a,t[1]=t[1]*Math.pow(2,s)-a}function m(){return l=i+2*(a=3*o)>>s,u=r+2*a>>s,h}return h.x=function(e){return arguments.length?(t="function"==typeof e?e:fs(+e),h):t},h.y=function(t){return arguments.length?(e="function"==typeof t?t:fs(+t),h):e},h.weight=function(t){return arguments.length?(n="function"==typeof t?t:fs(+t),h):n},h.size=function(t){if(!arguments.length)return[i,r];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return i=e,r=n,m()},h.cellSize=function(t){if(!arguments.length)return 1<<s;if(!((t=+t)>=1))throw new Error("invalid cell size");return s=Math.floor(Math.log(t)/Math.LN2),m()},h.thresholds=function(t){return arguments.length?(c="function"==typeof t?t:Array.isArray(t)?fs(us.call(t)):fs(t),h):c},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),m()},h},Ss={},Ms={},Is=34,Os=10,Ts=13;function Ns(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function ks(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var i in t)i in e||n.push(e[i]=i)}),n}function Ps(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function As(t){var e,n=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+Ps(-e,6):e>9999?"+"+Ps(e,6):Ps(e,4))+"-"+Ps(t.getUTCMonth()+1,2)+"-"+Ps(t.getUTCDate(),2)+(o?"T"+Ps(n,2)+":"+Ps(i,2)+":"+Ps(r,2)+"."+Ps(o,3)+"Z":r?"T"+Ps(n,2)+":"+Ps(i,2)+":"+Ps(r,2)+"Z":i||n?"T"+Ps(n,2)+":"+Ps(i,2)+"Z":"")}var Ls=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,s=0,a=0,l=o<=0,u=!1;function c(){if(l)return Ms;if(u)return u=!1,Ss;var e,i,r=s;if(t.charCodeAt(r)===Is){for(;s++<o&&t.charCodeAt(s)!==Is||t.charCodeAt(++s)===Is;);return(e=s)>=o?l=!0:(i=t.charCodeAt(s++))===Os?u=!0:i===Ts&&(u=!0,t.charCodeAt(s)===Os&&++s),t.slice(r+1,e-1).replace(/""/g,'"')}for(;s<o;){if((i=t.charCodeAt(e=s++))===Os)u=!0;else if(i===Ts)u=!0,t.charCodeAt(s)===Os&&++s;else if(i!==n)continue;return t.slice(r,e)}return l=!0,t.slice(r,o)}for(t.charCodeAt(o-1)===Os&&--o,t.charCodeAt(o-1)===Ts&&--o;(i=c())!==Ms;){for(var h=[];i!==Ss&&i!==Ms;)h.push(i),i=c();e&&null==(h=e(h,a++))||r.push(h)}return r}function r(e,n){return e.map(function(e){return n.map(function(t){return s(e[t])}).join(t)})}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?As(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,o=i(t,function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=Ns(t);return function(i,r){return e(n(i),r,t)}}(t,e):Ns(t)});return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=ks(e)),[n.map(s).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=ks(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")}}},Ds=Ls(","),Rs=Ds.parse,js=Ds.parseRows,Fs=Ds.format,zs=Ds.formatBody,Bs=Ds.formatRows,Gs=Ls("\t"),qs=Gs.parse,Hs=Gs.parseRows,Ws=Gs.format,Us=Gs.formatBody,Ys=Gs.formatRows;function Vs(t){for(var e in t){var n,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(i))continue;i=new Date(i)}else i=n;else i=null;t[e]=i}return t}function Xs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var Ks=function(t,e){return fetch(t,e).then(Xs)};function $s(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var Zs=function(t,e){return fetch(t,e).then($s)};function Js(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Qs=function(t,e){return fetch(t,e).then(Js)};function ta(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),Qs(e,n).then(function(e){return t(e,i)})}}function ea(t,e,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var r=Ls(t);return Qs(e,n).then(function(t){return r.parse(t,i)})}var na=ta(Rs),ia=ta(qs),ra=function(t,e){return new Promise(function(n,i){var r=new Image;for(var o in e)r[o]=e[o];r.onerror=i,r.onload=function(){n(r)},r.src=t})};function oa(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var sa=function(t,e){return fetch(t,e).then(oa)};function aa(t){return function(e,n){return Qs(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}var la=aa("application/xml"),ua=aa("text/html"),ca=aa("image/svg+xml"),ha=function(t,e){var n;function i(){var i,r,o=n.length,s=0,a=0;for(i=0;i<o;++i)s+=(r=n[i]).x,a+=r.y;for(s=s/o-t,a=a/o-e,i=0;i<o;++i)(r=n[i]).x-=s,r.y-=a}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i},fa=function(t){return function(){return t}},pa=function(){return 1e-6*(Math.random()-.5)};function da(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,l,u,c,h,f,p=t._root,d={data:i},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((u=e>=(o=(g+v)/2))?g=o:v=o,(c=n>=(s=(m+y)/2))?m=s:y=s,r=p,!(p=p[h=c<<1|u]))return r[h]=d,t;if(a=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===a&&n===l)return d.next=p,r?r[h]=d:t._root=d,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(u=e>=(o=(g+v)/2))?g=o:v=o,(c=n>=(s=(m+y)/2))?m=s:y=s}while((h=c<<1|u)==(f=(l>=s)<<1|a>=o));return r[f]=p,r[h]=d,t}var ga=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function ma(t){return t[0]}function va(t){return t[1]}function ya(t,e,n){var i=new _a(null==e?ma:e,null==n?va:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function _a(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function ba(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var xa=ya.prototype=_a.prototype;function wa(t){return t.x+t.vx}function Ea(t){return t.y+t.vy}xa.copy=function(){var t,e,n=new _a(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=ba(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=ba(e));return n},xa.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return da(this.cover(e,n),e,n,t)},xa.addAll=function(t){var e,n,i,r,o=t.length,s=new Array(o),a=new Array(o),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,a[n]=r,i<l&&(l=i),i>c&&(c=i),r<u&&(u=r),r>h&&(h=r));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<o;++n)da(this,s[n],a[n],t[n]);return this},xa.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var s,a,l=r-n,u=this._root;n>t||t>=r||i>e||e>=o;)switch(a=(e<i)<<1|t<n,(s=new Array(4))[a]=u,u=s,l*=2,a){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},xa.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},xa.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},xa.find=function(t,e,n){var i,r,o,s,a,l,u,c=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],g=this._root;for(g&&d.push(new ga(g,c,h,f,p)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,p=e+n,n*=n);l=d.pop();)if(!(!(g=l.node)||(r=l.x0)>f||(o=l.y0)>p||(s=l.x1)<c||(a=l.y1)<h))if(g.length){var m=(r+s)/2,v=(o+a)/2;d.push(new ga(g[3],m,v,s,a),new ga(g[2],r,v,m,a),new ga(g[1],m,o,s,v),new ga(g[0],r,o,m,v)),(u=(e>=v)<<1|t>=m)&&(l=d[d.length-1],d[d.length-1]=d[d.length-1-u],d[d.length-1-u]=l)}else{var y=t-+this._x.call(null,g.data),_=e-+this._y.call(null,g.data),b=y*y+_*_;if(b<n){var x=Math.sqrt(n=b);c=t-x,h=e-x,f=t+x,p=e+x,i=g.data}}return i},xa.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,l,u,c,h,f,p=this._root,d=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((u=o>=(a=(d+m)/2))?d=a:m=a,(c=s>=(l=(g+v)/2))?g=l:v=l,e=p,!(p=p[h=c<<1|u]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(i=p,!(p=p.next))return this;return(r=p.next)&&delete p.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=r,this)},xa.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},xa.root=function(){return this._root},xa.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},xa.visit=function(t){var e,n,i,r,o,s,a=[],l=this._root;for(l&&a.push(new ga(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,s=e.y1)&&l.length){var u=(i+o)/2,c=(r+s)/2;(n=l[3])&&a.push(new ga(n,u,c,o,s)),(n=l[2])&&a.push(new ga(n,i,c,u,s)),(n=l[1])&&a.push(new ga(n,u,r,o,c)),(n=l[0])&&a.push(new ga(n,i,r,u,c))}return this},xa.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new ga(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,s=e.x0,a=e.y0,l=e.x1,u=e.y1,c=(s+l)/2,h=(a+u)/2;(o=r[0])&&n.push(new ga(o,s,a,c,h)),(o=r[1])&&n.push(new ga(o,c,a,l,h)),(o=r[2])&&n.push(new ga(o,s,h,c,u)),(o=r[3])&&n.push(new ga(o,c,h,l,u))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},xa.x=function(t){return arguments.length?(this._x=t,this):this._x},xa.y=function(t){return arguments.length?(this._y=t,this):this._y};var Ca=function(t){var e,n,i=1,r=1;function o(){for(var t,o,a,l,u,c,h,f=e.length,p=0;p<r;++p)for(o=ya(e,wa,Ea).visitAfter(s),t=0;t<f;++t)a=e[t],c=n[a.index],h=c*c,l=a.x+a.vx,u=a.y+a.vy,o.visit(d);function d(t,e,n,r,o){var s=t.data,f=t.r,p=c+f;if(!s)return e>l+p||r<l-p||n>u+p||o<u-p;if(s.index>a.index){var d=l-s.x-s.vx,g=u-s.y-s.vy,m=d*d+g*g;m<p*p&&(0===d&&(m+=(d=pa())*d),0===g&&(m+=(g=pa())*g),m=(p-(m=Math.sqrt(m)))/m*i,a.vx+=(d*=m)*(p=(f*=f)/(h+f)),a.vy+=(g*=m)*p,s.vx-=d*(p=1-p),s.vy-=g*p)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function a(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!=typeof t&&(t=fa(null==t?1:+t)),o.initialize=function(t){e=t,a()},o.iterations=function(t){return arguments.length?(r=+t,o):r},o.strength=function(t){return arguments.length?(i=+t,o):i},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:fa(+e),a(),o):t},o};function Sa(t){return t.index}function Ma(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var Ia=function(t){var e,n,i,r,o,s=Sa,a=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},l=fa(30),u=1;function c(i){for(var r=0,s=t.length;r<u;++r)for(var a,l,c,h,f,p,d,g=0;g<s;++g)l=(a=t[g]).source,h=(c=a.target).x+c.vx-l.x-l.vx||pa(),f=c.y+c.vy-l.y-l.vy||pa(),h*=p=((p=Math.sqrt(h*h+f*f))-n[g])/p*i*e[g],f*=p,c.vx-=h*(d=o[g]),c.vy-=f*d,l.vx+=h*(d=1-d),l.vy+=f*d}function h(){if(i){var a,l,u=i.length,c=t.length,h=$o(i,s);for(a=0,r=new Array(u);a<c;++a)(l=t[a]).index=a,"object"!=typeof l.source&&(l.source=Ma(h,l.source)),"object"!=typeof l.target&&(l.target=Ma(h,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)l=t[a],o[a]=r[l.source.index]/(r[l.source.index]+r[l.target.index]);e=new Array(c),f(),n=new Array(c),p()}}function f(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+a(t[n],n,t)}function p(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),c.initialize=function(t){i=t,h()},c.links=function(e){return arguments.length?(t=e,h(),c):t},c.id=function(t){return arguments.length?(s=t,c):s},c.iterations=function(t){return arguments.length?(u=+t,c):u},c.strength=function(t){return arguments.length?(a="function"==typeof t?t:fa(+t),f(),c):a},c.distance=function(t){return arguments.length?(l="function"==typeof t?t:fa(+t),p(),c):l},c};function Oa(t){return t.x}function Ta(t){return t.y}var Na=10,ka=Math.PI*(3-Math.sqrt(5)),Pa=function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,s=.6,a=$o(),l=Ai(c),u=ft("tick","end");function c(){h(),u.call("tick",e),n<i&&(l.stop(),u.call("end",e))}function h(i){var l,u,c=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(o-n)*r,a.each(function(t){t(n)}),l=0;l<c;++l)null==(u=t[l]).fx?u.x+=u.vx*=s:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=s:(u.y=u.fy,u.vy=0);return e}function f(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=Na*Math.sqrt(n),o=n*ka;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),f(),e={tick:h,restart:function(){return l.restart(c),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),a.each(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},force:function(t,n){return arguments.length>1?(null==n?a.remove(t):a.set(t,p(n)),e):a.get(t)},find:function(e,n,i){var r,o,s,a,l,u=0,c=t.length;for(null==i?i=1/0:i*=i,u=0;u<c;++u)(s=(r=e-(a=t[u]).x)*r+(o=n-a.y)*o)<i&&(l=a,i=s);return l},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}},Aa=function(){var t,e,n,i,r=fa(-30),o=1,s=1/0,a=.81;function l(i){var r,o=t.length,s=ya(t,Oa,Ta).visitAfter(c);for(n=i,r=0;r<o;++r)e=t[r],s.visit(h)}function u(){if(t){var e,n,o=t.length;for(i=new Array(o),e=0;e<o;++e)n=t[e],i[n.index]=+r(n,e,t)}}function c(t){var e,n,r,o,s,a=0,l=0;if(t.length){for(r=o=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,l+=n,r+=n*e.x,o+=n*e.y);t.x=r/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=i[e.data.index]}while(e=e.next)}t.value=a}function h(t,r,l,u){if(!t.value)return!0;var c=t.x-e.x,h=t.y-e.y,f=u-r,p=c*c+h*h;if(f*f/a<p)return p<s&&(0===c&&(p+=(c=pa())*c),0===h&&(p+=(h=pa())*h),p<o&&(p=Math.sqrt(o*p)),e.vx+=c*t.value*n/p,e.vy+=h*t.value*n/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===c&&(p+=(c=pa())*c),0===h&&(p+=(h=pa())*h),p<o&&(p=Math.sqrt(o*p)));do{t.data!==e&&(f=i[t.data.index]*n/p,e.vx+=c*f,e.vy+=h*f)}while(t=t.next)}}return l.initialize=function(e){t=e,u()},l.strength=function(t){return arguments.length?(r="function"==typeof t?t:fa(+t),u(),l):r},l.distanceMin=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.distanceMax=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l.theta=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l},La=function(t,e,n){var i,r,o,s=fa(.1);function a(t){for(var s=0,a=i.length;s<a;++s){var l=i[s],u=l.x-e||1e-6,c=l.y-n||1e-6,h=Math.sqrt(u*u+c*c),f=(o[s]-h)*r[s]*t/h;l.vx+=u*f,l.vy+=c*f}}function l(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(i[e],e,i),r[e]=isNaN(o[e])?0:+s(i[e],e,i)}}return"function"!=typeof t&&(t=fa(+t)),null==e&&(e=0),null==n&&(n=0),a.initialize=function(t){i=t,l()},a.strength=function(t){return arguments.length?(s="function"==typeof t?t:fa(+t),l(),a):s},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:fa(+e),l(),a):t},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(t){return arguments.length?(n=+t,a):n},a},Da=function(t){var e,n,i,r=fa(.1);function o(t){for(var r,o=0,s=e.length;o<s;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=fa(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:fa(+t),s(),o):r},o.x=function(e){return arguments.length?(t="function"==typeof e?e:fa(+e),s(),o):t},o},Ra=function(t){var e,n,i,r=fa(.1);function o(t){for(var r,o=0,s=e.length;o<s;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=fa(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:fa(+t),s(),o):r},o.y=function(e){return arguments.length?(t="function"==typeof e?e:fa(+e),s(),o):t},o},ja=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},Fa=function(t){return(t=ja(Math.abs(t)))?t[1]:NaN},za=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ba(t){return new Ga(t)}function Ga(t){if(!(e=za.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}Ba.prototype=Ga.prototype,Ga.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var qa,Ha,Wa,Ua,Ya=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(r>0){if(!+t[i])break t;r=0}}return r>0?t.slice(0,r)+t.slice(e+1):t},Va=function(t,e){var n=ja(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},Xa={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Va(100*t,e)},r:Va,s:function(t,e){var n=ja(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(qa=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+ja(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Ka=function(t){return t},$a=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Za=function(t){var e,n,i=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,i){for(var r=t.length,o=[],s=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[s=(s+1)%e.length];return o.reverse().join(n)}):Ka,r=t.currency,o=t.decimal,s=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):Ka,a=t.percent||"%";function l(t){var e=(t=Ba(t)).fill,n=t.align,l=t.sign,u=t.symbol,c=t.zero,h=t.width,f=t.comma,p=t.precision,d=t.trim,g=t.type;"n"===g?(f=!0,g="g"):Xa[g]||(null==p&&(p=12),d=!0,g="g"),(c||"0"===e&&"="===n)&&(c=!0,e="0",n="=");var m="$"===u?r[0]:"#"===u&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",v="$"===u?r[1]:/[%p]/.test(g)?a:"",y=Xa[g],_=/[defgprs%]/.test(g);function b(t){var r,a,u,b=m,x=v;if("c"===g)x=y(t)+x,t="";else{var w=(t=+t)<0;if(t=y(Math.abs(t),p),d&&(t=Ya(t)),w&&0==+t&&(w=!1),b=(w?"("===l?l:"-":"-"===l||"("===l?"":l)+b,x=("s"===g?$a[8+qa/3]:"")+x+(w&&"("===l?")":""),_)for(r=-1,a=t.length;++r<a;)if(48>(u=t.charCodeAt(r))||u>57){x=(46===u?o+t.slice(r+1):t.slice(r))+x,t=t.slice(0,r);break}}f&&!c&&(t=i(t,1/0));var E=b.length+t.length+x.length,C=E<h?new Array(h-E+1).join(e):"";switch(f&&c&&(t=i(C+t,C.length?h-x.length:1/0),C=""),n){case"<":t=b+t+x+C;break;case"=":t=b+C+t+x;break;case"^":t=C.slice(0,E=C.length>>1)+b+t+x+C.slice(E);break;default:t=C+b+t+x}return s(t)}return p=null==p?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),b.toString=function(){return t+""},b}return{format:l,formatPrefix:function(t,e){var n=l(((t=Ba(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(Fa(e)/3))),r=Math.pow(10,-i),o=$a[8+i/3];return function(t){return n(r*t)+o}}}};function Ja(t){return Ha=Za(t),Wa=Ha.format,Ua=Ha.formatPrefix,Ha}Ja({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Qa=function(t){return Math.max(0,-Fa(Math.abs(t)))},tl=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Fa(e)/3)))-Fa(Math.abs(t)))},el=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Fa(e)-Fa(t))+1},nl=function(){return new il};function il(){this.reset()}il.prototype={constructor:il,reset:function(){this.s=this.t=0},add:function(t){ol(rl,t,this.t),ol(this,rl.s,this.s),this.s?this.t+=rl.t:this.s=rl.t},valueOf:function(){return this.s}};var rl=new il;function ol(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}var sl=1e-6,al=Math.PI,ll=al/2,ul=al/4,cl=2*al,hl=180/al,fl=al/180,pl=Math.abs,dl=Math.atan,gl=Math.atan2,ml=Math.cos,vl=Math.ceil,yl=Math.exp,_l=(Math.floor,Math.log),bl=Math.pow,xl=Math.sin,wl=Math.sign||function(t){return t>0?1:t<0?-1:0},El=Math.sqrt,Cl=Math.tan;function Sl(t){return t>1?0:t<-1?al:Math.acos(t)}function Ml(t){return t>1?ll:t<-1?-ll:Math.asin(t)}function Il(t){return(t=xl(t/2))*t}function Ol(){}function Tl(t,e){t&&kl.hasOwnProperty(t.type)&&kl[t.type](t,e)}var Nl={Feature:function(t,e){Tl(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Tl(n[i].geometry,e)}},kl={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Pl(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Pl(n[i],e,0)},Polygon:function(t,e){Al(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Al(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Tl(n[i],e)}};function Pl(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Al(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Pl(t[n],e,1);e.polygonEnd()}var Ll,Dl,Rl,jl,Fl,zl=function(t,e){t&&Nl.hasOwnProperty(t.type)?Nl[t.type](t,e):Tl(t,e)},Bl=nl(),Gl=nl(),ql={point:Ol,lineStart:Ol,lineEnd:Ol,polygonStart:function(){Bl.reset(),ql.lineStart=Hl,ql.lineEnd=Wl},polygonEnd:function(){var t=+Bl;Gl.add(t<0?cl+t:t),this.lineStart=this.lineEnd=this.point=Ol},sphere:function(){Gl.add(cl)}};function Hl(){ql.point=Ul}function Wl(){Yl(Ll,Dl)}function Ul(t,e){ql.point=Yl,Ll=t,Dl=e,Rl=t*=fl,jl=ml(e=(e*=fl)/2+ul),Fl=xl(e)}function Yl(t,e){var n=(t*=fl)-Rl,i=n>=0?1:-1,r=i*n,o=ml(e=(e*=fl)/2+ul),s=xl(e),a=Fl*s,l=jl*o+a*ml(r),u=a*i*xl(r);Bl.add(gl(u,l)),Rl=t,jl=o,Fl=s}var Vl=function(t){return Gl.reset(),zl(t,ql),2*Gl};function Xl(t){return[gl(t[1],t[0]),Ml(t[2])]}function Kl(t){var e=t[0],n=t[1],i=ml(n);return[i*ml(e),i*xl(e),xl(n)]}function $l(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Zl(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Jl(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ql(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function tu(t){var e=El(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var eu,nu,iu,ru,ou,su,au,lu,uu,cu,hu=nl(),fu={point:pu,lineStart:gu,lineEnd:mu,polygonStart:function(){fu.point=vu,fu.lineStart=yu,fu.lineEnd=_u,hu.reset(),ql.polygonStart()},polygonEnd:function(){ql.polygonEnd(),fu.point=pu,fu.lineStart=gu,fu.lineEnd=mu,Bl<0?(eu=-(iu=180),nu=-(ru=90)):hu>sl?ru=90:hu<-sl&&(nu=-90),cu[0]=eu,cu[1]=iu}};function pu(t,e){uu.push(cu=[eu=t,iu=t]),e<nu&&(nu=e),e>ru&&(ru=e)}function du(t,e){var n=Kl([t*fl,e*fl]);if(lu){var i=Zl(lu,n),r=Zl([i[1],-i[0],0],i);tu(r),r=Xl(r);var o,s=t-ou,a=s>0?1:-1,l=r[0]*hl*a,u=pl(s)>180;u^(a*ou<l&&l<a*t)?(o=r[1]*hl)>ru&&(ru=o):u^(a*ou<(l=(l+360)%360-180)&&l<a*t)?(o=-r[1]*hl)<nu&&(nu=o):(e<nu&&(nu=e),e>ru&&(ru=e)),u?t<ou?bu(eu,t)>bu(eu,iu)&&(iu=t):bu(t,iu)>bu(eu,iu)&&(eu=t):iu>=eu?(t<eu&&(eu=t),t>iu&&(iu=t)):t>ou?bu(eu,t)>bu(eu,iu)&&(iu=t):bu(t,iu)>bu(eu,iu)&&(eu=t)}else uu.push(cu=[eu=t,iu=t]);e<nu&&(nu=e),e>ru&&(ru=e),lu=n,ou=t}function gu(){fu.point=du}function mu(){cu[0]=eu,cu[1]=iu,fu.point=pu,lu=null}function vu(t,e){if(lu){var n=t-ou;hu.add(pl(n)>180?n+(n>0?360:-360):n)}else su=t,au=e;ql.point(t,e),du(t,e)}function yu(){ql.lineStart()}function _u(){vu(su,au),ql.lineEnd(),pl(hu)>sl&&(eu=-(iu=180)),cu[0]=eu,cu[1]=iu,lu=null}function bu(t,e){return(e-=t)<0?e+360:e}function xu(t,e){return t[0]-e[0]}function wu(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Eu,Cu,Su,Mu,Iu,Ou,Tu,Nu,ku,Pu,Au,Lu,Du,Ru,ju,Fu,zu=function(t){var e,n,i,r,o,s,a;if(ru=iu=-(eu=nu=1/0),uu=[],zl(t,fu),n=uu.length){for(uu.sort(xu),e=1,o=[i=uu[0]];e<n;++e)wu(i,(r=uu[e])[0])||wu(i,r[1])?(bu(i[0],r[1])>bu(i[0],i[1])&&(i[1]=r[1]),bu(r[0],i[1])>bu(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,e=0,i=o[n=o.length-1];e<=n;i=r,++e)r=o[e],(a=bu(i[1],r[0]))>s&&(s=a,eu=r[0],iu=i[1])}return uu=cu=null,eu===1/0||nu===1/0?[[NaN,NaN],[NaN,NaN]]:[[eu,nu],[iu,ru]]},Bu={sphere:Ol,point:Gu,lineStart:Hu,lineEnd:Yu,polygonStart:function(){Bu.lineStart=Vu,Bu.lineEnd=Xu},polygonEnd:function(){Bu.lineStart=Hu,Bu.lineEnd=Yu}};function Gu(t,e){t*=fl;var n=ml(e*=fl);qu(n*ml(t),n*xl(t),xl(e))}function qu(t,e,n){Su+=(t-Su)/++Eu,Mu+=(e-Mu)/Eu,Iu+=(n-Iu)/Eu}function Hu(){Bu.point=Wu}function Wu(t,e){t*=fl;var n=ml(e*=fl);Ru=n*ml(t),ju=n*xl(t),Fu=xl(e),Bu.point=Uu,qu(Ru,ju,Fu)}function Uu(t,e){t*=fl;var n=ml(e*=fl),i=n*ml(t),r=n*xl(t),o=xl(e),s=gl(El((s=ju*o-Fu*r)*s+(s=Fu*i-Ru*o)*s+(s=Ru*r-ju*i)*s),Ru*i+ju*r+Fu*o);Cu+=s,Ou+=s*(Ru+(Ru=i)),Tu+=s*(ju+(ju=r)),Nu+=s*(Fu+(Fu=o)),qu(Ru,ju,Fu)}function Yu(){Bu.point=Gu}function Vu(){Bu.point=Ku}function Xu(){$u(Lu,Du),Bu.point=Gu}function Ku(t,e){Lu=t,Du=e,t*=fl,e*=fl,Bu.point=$u;var n=ml(e);Ru=n*ml(t),ju=n*xl(t),Fu=xl(e),qu(Ru,ju,Fu)}function $u(t,e){t*=fl;var n=ml(e*=fl),i=n*ml(t),r=n*xl(t),o=xl(e),s=ju*o-Fu*r,a=Fu*i-Ru*o,l=Ru*r-ju*i,u=El(s*s+a*a+l*l),c=Ml(u),h=u&&-c/u;ku+=h*s,Pu+=h*a,Au+=h*l,Cu+=c,Ou+=c*(Ru+(Ru=i)),Tu+=c*(ju+(ju=r)),Nu+=c*(Fu+(Fu=o)),qu(Ru,ju,Fu)}var Zu=function(t){Eu=Cu=Su=Mu=Iu=Ou=Tu=Nu=ku=Pu=Au=0,zl(t,Bu);var e=ku,n=Pu,i=Au,r=e*e+n*n+i*i;return r<1e-12&&(e=Ou,n=Tu,i=Nu,Cu<sl&&(e=Su,n=Mu,i=Iu),(r=e*e+n*n+i*i)<1e-12)?[NaN,NaN]:[gl(n,e)*hl,Ml(i/El(r))*hl]},Ju=function(t){return function(){return t}},Qu=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n};function tc(t,e){return[pl(t)>al?t+Math.round(-t/cl)*cl:t,e]}function ec(t,e,n){return(t%=cl)?e||n?Qu(ic(t),rc(e,n)):ic(t):e||n?rc(e,n):tc}function nc(t){return function(e,n){return[(e+=t)>al?e-cl:e<-al?e+cl:e,n]}}function ic(t){var e=nc(t);return e.invert=nc(-t),e}function rc(t,e){var n=ml(t),i=xl(t),r=ml(e),o=xl(e);function s(t,e){var s=ml(e),a=ml(t)*s,l=xl(t)*s,u=xl(e),c=u*n+a*i;return[gl(l*r-c*o,a*n-u*i),Ml(c*r+l*o)]}return s.invert=function(t,e){var s=ml(e),a=ml(t)*s,l=xl(t)*s,u=xl(e),c=u*r-l*o;return[gl(l*r+u*o,a*n+c*i),Ml(c*n-a*i)]},s}tc.invert=tc;var oc=function(t){function e(e){return(e=t(e[0]*fl,e[1]*fl))[0]*=hl,e[1]*=hl,e}return t=ec(t[0]*fl,t[1]*fl,t.length>2?t[2]*fl:0),e.invert=function(e){return(e=t.invert(e[0]*fl,e[1]*fl))[0]*=hl,e[1]*=hl,e},e};function sc(t,e,n,i,r,o){if(n){var s=ml(e),a=xl(e),l=i*n;null==r?(r=e+i*cl,o=e-l/2):(r=ac(s,r),o=ac(s,o),(i>0?r<o:r>o)&&(r+=i*cl));for(var u,c=r;i>0?c>o:c<o;c-=l)u=Xl([s,-a*ml(c),-a*xl(c)]),t.point(u[0],u[1])}}function ac(t,e){(e=Kl(e))[0]-=t,tu(e);var n=Sl(-e[1]);return((-e[2]<0?-n:n)+cl-sl)%cl}var lc=function(){var t,e,n=Ju([0,0]),i=Ju(90),r=Ju(6),o={point:function(n,i){t.push(n=e(n,i)),n[0]*=hl,n[1]*=hl}};function s(){var s=n.apply(this,arguments),a=i.apply(this,arguments)*fl,l=r.apply(this,arguments)*fl;return t=[],e=ec(-s[0]*fl,-s[1]*fl,0).invert,sc(o,a,l,1),s={type:"Polygon",coordinates:[t]},t=e=null,s}return s.center=function(t){return arguments.length?(n="function"==typeof t?t:Ju([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(i="function"==typeof t?t:Ju(+t),s):i},s.precision=function(t){return arguments.length?(r="function"==typeof t?t:Ju(+t),s):r},s},uc=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Ol,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},cc=function(t,e){return pl(t[0]-e[0])<sl&&pl(t[1]-e[1])<sl};function hc(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var fc=function(t,e,n,i,r){var o,s,a=[],l=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(cc(i,s)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);r.lineEnd()}else a.push(n=new hc(i,t,null,!0)),l.push(n.o=new hc(i,null,n,!1)),a.push(n=new hc(s,t,null,!1)),l.push(n.o=new hc(s,null,n,!0))}}),a.length){for(l.sort(e),pc(a),pc(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var u,c,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;u=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=u.length;o<s;++o)r.point((c=u[o])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(u=f.p.z,o=u.length-1;o>=0;--o)r.point((c=u[o])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}u=(f=f.o).z,p=!p}while(!f.v);r.lineEnd()}}};function pc(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}var dc=nl(),gc=function(t,e){var n=e[0],i=e[1],r=xl(i),o=[xl(n),-ml(n),0],s=0,a=0;dc.reset(),1===r?i=ll+sl:-1===r&&(i=-ll-sl);for(var l=0,u=t.length;l<u;++l)if(h=(c=t[l]).length)for(var c,h,f=c[h-1],p=f[0],d=f[1]/2+ul,g=xl(d),m=ml(d),v=0;v<h;++v,p=_,g=x,m=w,f=y){var y=c[v],_=y[0],b=y[1]/2+ul,x=xl(b),w=ml(b),E=_-p,C=E>=0?1:-1,S=C*E,M=S>al,I=g*x;if(dc.add(gl(I*C*xl(S),m*w+I*ml(S))),s+=M?E+C*cl:E,M^p>=n^_>=n){var O=Zl(Kl(f),Kl(y));tu(O);var T=Zl(o,O);tu(T);var N=(M^E>=0?-1:1)*Ml(T[2]);(i>N||i===N&&(O[0]||O[1]))&&(a+=M^E>=0?1:-1)}}return(s<-sl||s<sl&&dc<-sl)^1&a},mc=function(t,e,n,i){return function(r){var o,s,a,l=e(r),u=uc(),c=e(u),h=!1,f={point:p,lineStart:g,lineEnd:m,polygonStart:function(){f.point=v,f.lineStart=y,f.lineEnd=_,s=[],o=[]},polygonEnd:function(){f.point=p,f.lineStart=g,f.lineEnd=m,s=j(s);var t=gc(o,i);s.length?(h||(r.polygonStart(),h=!0),fc(s,yc,t,n,r)):t&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),s=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(e,n){t(e,n)&&r.point(e,n)}function d(t,e){l.point(t,e)}function g(){f.point=d,l.lineStart()}function m(){f.point=p,l.lineEnd()}function v(t,e){a.push([t,e]),c.point(t,e)}function y(){c.lineStart(),a=[]}function _(){v(a[0][0],a[0][1]),c.lineEnd();var t,e,n,i,l=c.clean(),f=u.result(),p=f.length;if(a.pop(),o.push(a),a=null,p)if(1&l){if((e=(n=f[0]).length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else p>1&&2&l&&f.push(f.pop().concat(f.shift())),s.push(f.filter(vc))}return f}};function vc(t){return t.length>1}function yc(t,e){return((t=t.x)[0]<0?t[1]-ll-sl:ll-t[1])-((e=e.x)[0]<0?e[1]-ll-sl:ll-e[1])}var _c=mc(function(){return!0},function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?al:-al,l=pl(o-n);pl(l-al)<sl?(t.point(n,i=(i+s)/2>0?ll:-ll),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=al&&(pl(n-r)<sl&&(n-=r*sl),pl(o-a)<sl&&(o-=a*sl),i=function(t,e,n,i){var r,o,s=xl(t-n);return pl(s)>sl?dl((xl(e)*(o=ml(i))*xl(n)-xl(i)*(r=ml(e))*xl(t))/(r*o*s)):(e+i)/2}(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}},function(t,e,n,i){var r;if(null==t)r=n*ll,i.point(-al,r),i.point(0,r),i.point(al,r),i.point(al,0),i.point(al,-r),i.point(0,-r),i.point(-al,-r),i.point(-al,0),i.point(-al,r);else if(pl(t[0]-e[0])>sl){var o=t[0]<e[0]?al:-al;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])},[-al,-ll]);var bc=function(t){var e=ml(t),n=6*fl,i=e>0,r=pl(e)>sl;function o(t,n){return ml(t)*ml(n)>e}function s(t,n,i){var r=[1,0,0],o=Zl(Kl(t),Kl(n)),s=$l(o,o),a=o[0],l=s-a*a;if(!l)return!i&&t;var u=e*s/l,c=-e*a/l,h=Zl(r,o),f=Ql(r,u);Jl(f,Ql(o,c));var p=h,d=$l(f,p),g=$l(p,p),m=d*d-g*($l(f,f)-1);if(!(m<0)){var v=El(m),y=Ql(p,(-d-v)/g);if(Jl(y,f),y=Xl(y),!i)return y;var _,b=t[0],x=n[0],w=t[1],E=n[1];x<b&&(_=b,b=x,x=_);var C=x-b,S=pl(C-al)<sl;if(!S&&E<w&&(_=w,w=E,E=_),S||C<sl?S?w+E>0^y[1]<(pl(y[0]-b)<sl?w:E):w<=y[1]&&y[1]<=E:C>al^(b<=y[0]&&y[0]<=x)){var M=Ql(p,(-d+v)/g);return Jl(M,f),[y,Xl(M)]}}}function a(e,n){var r=i?t:al-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return mc(o,function(t){var e,n,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,f){var p,d=[h,f],g=o(h,f),m=i?g?0:a(h,f):g?a(h+(h<0?al:-al),f):0;if(!e&&(u=l=g)&&t.lineStart(),g!==l&&(!(p=s(e,d))||cc(e,p)||cc(d,p))&&(d[0]+=sl,d[1]+=sl,g=o(d[0],d[1])),g!==l)c=0,g?(t.lineStart(),p=s(d,e),t.point(p[0],p[1])):(p=s(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(r&&e&&i^g){var v;m&n||!(v=s(d,e,!0))||(c=0,i?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&cc(e,d)||t.point(d[0],d[1]),e=d,l=g,n=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}},function(e,i,r,o){sc(o,t,n,r,e,i)},i?[0,-t]:[-al,t-al])},xc=function(t,e,n,i,r,o){var s,a=t[0],l=t[1],u=0,c=1,h=e[0]-a,f=e[1]-l;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<u)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>u&&(u=s)}if(s=r-a,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>u&&(u=s)}else if(h>0){if(s<u)return;s<c&&(c=s)}if(s=i-l,f||!(s>0)){if(s/=f,f<0){if(s<u)return;s<c&&(c=s)}else if(f>0){if(s>c)return;s>u&&(u=s)}if(s=o-l,f||!(s<0)){if(s/=f,f<0){if(s>c)return;s>u&&(u=s)}else if(f>0){if(s<u)return;s<c&&(c=s)}return u>0&&(t[0]=a+u*h,t[1]=l+u*f),c<1&&(e[0]=a+c*h,e[1]=l+c*f),!0}}}}},wc=1e9,Ec=-wc;function Cc(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,a,u){var c=0,h=0;if(null==r||(c=s(r,a))!==(h=s(o,a))||l(r,o)<0^a>0)do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+a+4)%4)!==h);else u.point(o[0],o[1])}function s(i,r){return pl(i[0]-t)<sl?r>0?0:3:pl(i[0]-n)<sl?r>0?2:1:pl(i[1]-e)<sl?r>0?1:0:r>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var l,u,c,h,f,p,d,g,m,v,y,_=s,b=uc(),x={point:w,lineStart:function(){x.point=E,u&&u.push(c=[]);v=!0,m=!1,d=g=NaN},lineEnd:function(){l&&(E(h,f),p&&m&&b.rejoin(),l.push(b.result()));x.point=w,m&&_.lineEnd()},polygonStart:function(){_=b,l=[],u=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=u.length;n<r;++n)for(var o,s,a=u[n],l=1,c=a.length,h=a[0],f=h[0],p=h[1];l<c;++l)o=f,s=p,h=a[l],f=h[0],p=h[1],s<=i?p>i&&(f-o)*(i-s)>(p-s)*(t-o)&&++e:p<=i&&(f-o)*(i-s)<(p-s)*(t-o)&&--e;return e}(),n=y&&e,r=(l=j(l)).length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),r&&fc(l,a,e,o,s),s.polygonEnd());_=s,l=u=c=null}};function w(t,e){r(t,e)&&_.point(t,e)}function E(o,s){var a=r(o,s);if(u&&c.push([o,s]),v)h=o,f=s,p=a,v=!1,a&&(_.lineStart(),_.point(o,s));else if(a&&m)_.point(o,s);else{var l=[d=Math.max(Ec,Math.min(wc,d)),g=Math.max(Ec,Math.min(wc,g))],b=[o=Math.max(Ec,Math.min(wc,o)),s=Math.max(Ec,Math.min(wc,s))];xc(l,b,t,e,n,i)?(m||(_.lineStart(),_.point(l[0],l[1])),_.point(b[0],b[1]),a||_.lineEnd(),y=!1):a&&(_.lineStart(),_.point(o,s),y=!1)}d=o,g=s,m=a}return x}}var Sc,Mc,Ic,Oc=function(){var t,e,n,i=0,r=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=Cc(i,r,o,s)(e=n)},extent:function(a){return arguments.length?(i=+a[0][0],r=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[i,r],[o,s]]}}},Tc=nl(),Nc={sphere:Ol,point:Ol,lineStart:function(){Nc.point=Pc,Nc.lineEnd=kc},lineEnd:Ol,polygonStart:Ol,polygonEnd:Ol};function kc(){Nc.point=Nc.lineEnd=Ol}function Pc(t,e){Sc=t*=fl,Mc=xl(e*=fl),Ic=ml(e),Nc.point=Ac}function Ac(t,e){t*=fl;var n=xl(e*=fl),i=ml(e),r=pl(t-Sc),o=ml(r),s=i*xl(r),a=Ic*n-Mc*i*o,l=Mc*n+Ic*i*o;Tc.add(gl(El(s*s+a*a),l)),Sc=t,Mc=n,Ic=i}var Lc=function(t){return Tc.reset(),zl(t,Nc),+Tc},Dc=[null,null],Rc={type:"LineString",coordinates:Dc},jc=function(t,e){return Dc[0]=t,Dc[1]=e,Lc(Rc)},Fc={Feature:function(t,e){return Bc(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(Bc(n[i].geometry,e))return!0;return!1}},zc={Sphere:function(){return!0},Point:function(t,e){return Gc(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Gc(n[i],e))return!0;return!1},LineString:function(t,e){return qc(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(qc(n[i],e))return!0;return!1},Polygon:function(t,e){return Hc(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(Hc(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(Bc(n[i],e))return!0;return!1}};function Bc(t,e){return!(!t||!zc.hasOwnProperty(t.type))&&zc[t.type](t,e)}function Gc(t,e){return 0===jc(t,e)}function qc(t,e){var n=jc(t[0],t[1]);return jc(t[0],e)+jc(e,t[1])<=n+sl}function Hc(t,e){return!!gc(t.map(Wc),Uc(e))}function Wc(t){return(t=t.map(Uc)).pop(),t}function Uc(t){return[t[0]*fl,t[1]*fl]}var Yc=function(t,e){return(t&&Fc.hasOwnProperty(t.type)?Fc[t.type]:Bc)(t,e)};function Vc(t,e,n){var i=w(t,e-sl,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function Xc(t,e,n){var i=w(t,e-sl,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function Kc(){var t,e,n,i,r,o,s,a,l,u,c,h,f=10,p=f,d=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return w(vl(i/d)*d,n,d).map(c).concat(w(vl(a/g)*g,s,g).map(h)).concat(w(vl(e/f)*f,t,f).filter(function(t){return pl(t%d)>sl}).map(l)).concat(w(vl(o/p)*p,r,p).filter(function(t){return pl(t%g)>sl}).map(u))}return v.lines=function(){return y().map(function(t){return{type:"LineString",coordinates:t}})},v.outline=function(){return{type:"Polygon",coordinates:[c(i).concat(h(s).slice(1),c(n).reverse().slice(1),h(a).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],a=+t[0][1],s=+t[1][1],i>n&&(t=i,i=n,n=t),a>s&&(t=a,a=s,s=t),v.precision(m)):[[i,a],[n,s]]},v.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],r=+n[1][1],e>t&&(n=e,e=t,t=n),o>r&&(n=o,o=r,r=n),v.precision(m)):[[e,o],[t,r]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(d=+t[0],g=+t[1],v):[d,g]},v.stepMinor=function(t){return arguments.length?(f=+t[0],p=+t[1],v):[f,p]},v.precision=function(f){return arguments.length?(m=+f,l=Vc(o,r,90),u=Xc(e,t,m),c=Vc(a,s,90),h=Xc(i,n,m),v):m},v.extentMajor([[-180,-90+sl],[180,90-sl]]).extentMinor([[-180,-80-sl],[180,80+sl]])}function $c(){return Kc()()}var Zc,Jc,Qc,th,eh=function(t,e){var n=t[0]*fl,i=t[1]*fl,r=e[0]*fl,o=e[1]*fl,s=ml(i),a=xl(i),l=ml(o),u=xl(o),c=s*ml(n),h=s*xl(n),f=l*ml(r),p=l*xl(r),d=2*Ml(El(Il(o-i)+s*l*Il(r-n))),g=xl(d),m=d?function(t){var e=xl(t*=d)/g,n=xl(d-t)/g,i=n*c+e*f,r=n*h+e*p,o=n*a+e*u;return[gl(r,i)*hl,gl(o,El(i*i+r*r))*hl]}:function(){return[n*hl,i*hl]};return m.distance=d,m},nh=function(t){return t},ih=nl(),rh=nl(),oh={point:Ol,lineStart:Ol,lineEnd:Ol,polygonStart:function(){oh.lineStart=sh,oh.lineEnd=uh},polygonEnd:function(){oh.lineStart=oh.lineEnd=oh.point=Ol,ih.add(pl(rh)),rh.reset()},result:function(){var t=ih/2;return ih.reset(),t}};function sh(){oh.point=ah}function ah(t,e){oh.point=lh,Zc=Qc=t,Jc=th=e}function lh(t,e){rh.add(th*t-Qc*e),Qc=t,th=e}function uh(){lh(Zc,Jc)}var ch=oh,hh=1/0,fh=hh,ph=-hh,dh=ph;var gh,mh,vh,yh,_h={point:function(t,e){t<hh&&(hh=t);t>ph&&(ph=t);e<fh&&(fh=e);e>dh&&(dh=e)},lineStart:Ol,lineEnd:Ol,polygonStart:Ol,polygonEnd:Ol,result:function(){var t=[[hh,fh],[ph,dh]];return ph=dh=-(fh=hh=1/0),t}},bh=0,xh=0,wh=0,Eh=0,Ch=0,Sh=0,Mh=0,Ih=0,Oh=0,Th={point:Nh,lineStart:kh,lineEnd:Lh,polygonStart:function(){Th.lineStart=Dh,Th.lineEnd=Rh},polygonEnd:function(){Th.point=Nh,Th.lineStart=kh,Th.lineEnd=Lh},result:function(){var t=Oh?[Mh/Oh,Ih/Oh]:Sh?[Eh/Sh,Ch/Sh]:wh?[bh/wh,xh/wh]:[NaN,NaN];return bh=xh=wh=Eh=Ch=Sh=Mh=Ih=Oh=0,t}};function Nh(t,e){bh+=t,xh+=e,++wh}function kh(){Th.point=Ph}function Ph(t,e){Th.point=Ah,Nh(vh=t,yh=e)}function Ah(t,e){var n=t-vh,i=e-yh,r=El(n*n+i*i);Eh+=r*(vh+t)/2,Ch+=r*(yh+e)/2,Sh+=r,Nh(vh=t,yh=e)}function Lh(){Th.point=Nh}function Dh(){Th.point=jh}function Rh(){Fh(gh,mh)}function jh(t,e){Th.point=Fh,Nh(gh=vh=t,mh=yh=e)}function Fh(t,e){var n=t-vh,i=e-yh,r=El(n*n+i*i);Eh+=r*(vh+t)/2,Ch+=r*(yh+e)/2,Sh+=r,Mh+=(r=yh*t-vh*e)*(vh+t),Ih+=r*(yh+e),Oh+=3*r,Nh(vh=t,yh=e)}var zh=Th;function Bh(t){this._context=t}Bh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,cl)}},result:Ol};var Gh,qh,Hh,Wh,Uh,Yh=nl(),Vh={point:Ol,lineStart:function(){Vh.point=Xh},lineEnd:function(){Gh&&Kh(qh,Hh),Vh.point=Ol},polygonStart:function(){Gh=!0},polygonEnd:function(){Gh=null},result:function(){var t=+Yh;return Yh.reset(),t}};function Xh(t,e){Vh.point=Kh,qh=Wh=t,Hh=Uh=e}function Kh(t,e){Wh-=t,Uh-=e,Yh.add(El(Wh*Wh+Uh*Uh)),Wh=t,Uh=e}var $h=Vh;function Zh(){this._string=[]}function Jh(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Zh.prototype={_radius:4.5,_circle:Jh(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Jh(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Qh=function(t,e){var n,i,r=4.5;function o(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),zl(t,n(i))),i.result()}return o.area=function(t){return zl(t,n(ch)),ch.result()},o.measure=function(t){return zl(t,n($h)),$h.result()},o.bounds=function(t){return zl(t,n(_h)),_h.result()},o.centroid=function(t){return zl(t,n(zh)),zh.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,nh):(t=e).stream,o):t},o.context=function(t){return arguments.length?(i=null==t?(e=null,new Zh):new Bh(e=t),"function"!=typeof r&&i.pointRadius(r),o):e},o.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),o):r},o.projection(t).context(e)},tf=function(t){return{stream:ef(t)}};function ef(t){return function(e){var n=new nf;for(var i in t)n[i]=t[i];return n.stream=e,n}}function nf(){}function rf(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),zl(n,t.stream(_h)),e(_h.result()),null!=i&&t.clipExtent(i),t}function of(t,e,n){return rf(t,function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),s=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,a])},n)}function sf(t,e,n){return of(t,[[0,0],e],n)}function af(t,e,n){return rf(t,function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,s=-r*n[0][1];t.scale(150*r).translate([o,s])},n)}function lf(t,e,n){return rf(t,function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],s=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,s])},n)}nf.prototype={constructor:nf,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var uf=16,cf=ml(30*fl),hf=function(t,e){return+e?function(t,e){function n(i,r,o,s,a,l,u,c,h,f,p,d,g,m){var v=u-i,y=c-r,_=v*v+y*y;if(_>4*e&&g--){var b=s+f,x=a+p,w=l+d,E=El(b*b+x*x+w*w),C=Ml(w/=E),S=pl(pl(w)-1)<sl||pl(o-h)<sl?(o+h)/2:gl(x,b),M=t(S,C),I=M[0],O=M[1],T=I-i,N=O-r,k=y*T-v*N;(k*k/_>e||pl((v*T+y*N)/_-.5)>.3||s*f+a*p+l*d<cf)&&(n(i,r,o,s,a,l,I,O,S,b/=E,x/=E,w,g,m),m.point(I,O),n(I,O,S,b,x,w,u,c,h,f,p,d,g,m))}}return function(e){var i,r,o,s,a,l,u,c,h,f,p,d,g={point:m,lineStart:v,lineEnd:_,polygonStart:function(){e.polygonStart(),g.lineStart=b},polygonEnd:function(){e.polygonEnd(),g.lineStart=v}};function m(n,i){n=t(n,i),e.point(n[0],n[1])}function v(){c=NaN,g.point=y,e.lineStart()}function y(i,r){var o=Kl([i,r]),s=t(i,r);n(c,h,u,f,p,d,c=s[0],h=s[1],u=i,f=o[0],p=o[1],d=o[2],uf,e),e.point(c,h)}function _(){g.point=m,e.lineEnd()}function b(){v(),g.point=x,g.lineEnd=w}function x(t,e){y(i=t,e),r=c,o=h,s=f,a=p,l=d,g.point=y}function w(){n(c,h,u,f,p,d,r,o,i,s,a,l,uf,e),g.lineEnd=_,_()}return g}}(t,e):function(t){return ef({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var ff=ef({point:function(t,e){this.stream.point(t*fl,e*fl)}});function pf(t,e,n,i){var r=ml(i),o=xl(i),s=r*t,a=o*t,l=r/t,u=o/t,c=(o*n-r*e)/t,h=(o*e+r*n)/t;function f(t,i){return[s*t-a*i+e,n-a*t-s*i]}return f.invert=function(t,e){return[l*t-u*e+c,h-u*t-l*e]},f}function df(t){return gf(function(){return t})()}function gf(t){var e,n,i,r,o,s,a,l,u,c,h=150,f=480,p=250,d=0,g=0,m=0,v=0,y=0,_=0,b=null,x=_c,w=null,E=nh,C=.5;function S(t){return l(t[0]*fl,t[1]*fl)}function M(t){return(t=l.invert(t[0],t[1]))&&[t[0]*hl,t[1]*hl]}function I(){var t=pf(h,0,0,_).apply(null,e(d,g)),i=(_?pf:function(t,e,n){function i(i,r){return[e+t*i,n-t*r]}return i.invert=function(i,r){return[(i-e)/t,(n-r)/t]},i})(h,f-t[0],p-t[1],_);return n=ec(m,v,y),a=Qu(e,i),l=Qu(n,a),s=hf(a,C),O()}function O(){return u=c=null,S}return S.stream=function(t){return u&&c===t?u:u=ff(function(t){return ef({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(n)(x(s(E(c=t)))))},S.preclip=function(t){return arguments.length?(x=t,b=void 0,O()):x},S.postclip=function(t){return arguments.length?(E=t,w=i=r=o=null,O()):E},S.clipAngle=function(t){return arguments.length?(x=+t?bc(b=t*fl):(b=null,_c),O()):b*hl},S.clipExtent=function(t){return arguments.length?(E=null==t?(w=i=r=o=null,nh):Cc(w=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),O()):null==w?null:[[w,i],[r,o]]},S.scale=function(t){return arguments.length?(h=+t,I()):h},S.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],I()):[f,p]},S.center=function(t){return arguments.length?(d=t[0]%360*fl,g=t[1]%360*fl,I()):[d*hl,g*hl]},S.rotate=function(t){return arguments.length?(m=t[0]%360*fl,v=t[1]%360*fl,y=t.length>2?t[2]%360*fl:0,I()):[m*hl,v*hl,y*hl]},S.angle=function(t){return arguments.length?(_=t%360*fl,I()):_*hl},S.precision=function(t){return arguments.length?(s=hf(a,C=t*t),O()):El(C)},S.fitExtent=function(t,e){return of(S,t,e)},S.fitSize=function(t,e){return sf(S,t,e)},S.fitWidth=function(t,e){return af(S,t,e)},S.fitHeight=function(t,e){return lf(S,t,e)},function(){return e=t.apply(this,arguments),S.invert=e.invert&&M,I()}}function mf(t){var e=0,n=al/3,i=gf(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*fl,n=t[1]*fl):[e*hl,n*hl]},r}function vf(t,e){var n=xl(t),i=(n+xl(e))/2;if(pl(i)<sl)return function(t){var e=ml(t);function n(t,n){return[t*e,xl(n)/e]}return n.invert=function(t,n){return[t/e,Ml(n*e)]},n}(t);var r=1+n*(2*i-n),o=El(r)/i;function s(t,e){var n=El(r-2*i*xl(e))/i;return[n*xl(t*=i),o-n*ml(t)]}return s.invert=function(t,e){var n=o-e;return[gl(t,pl(n))/i*wl(n),Ml((r-(t*t+n*n)*i*i)/(2*i))]},s}var yf=function(){return mf(vf).scale(155.424).center([0,33.6442])},_f=function(){return yf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var bf=function(){var t,e,n,i,r,o,s=_f(),a=yf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=yf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(t,e){o=[t,e]}};function c(t){var e=t[0],s=t[1];return o=null,n.point(e,s),o||(i.point(e,s),o)||(r.point(e,s),o)}function h(){return t=e=null,c}return c.invert=function(t){var e=s.scale(),n=s.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?a:r>=.166&&r<.234&&i>=-.214&&i<-.115?l:s).invert(t)},c.stream=function(n){return t&&e===n?t:(i=[s.stream(e=n),a.stream(n),l.stream(n)],r=i.length,t={point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},c.precision=function(t){return arguments.length?(s.precision(t),a.precision(t),l.precision(t),h()):s.precision()},c.scale=function(t){return arguments.length?(s.scale(t),a.scale(.35*t),l.scale(t),c.translate(s.translate())):s.scale()},c.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),o=+t[0],c=+t[1];return n=s.translate(t).clipExtent([[o-.455*e,c-.238*e],[o+.455*e,c+.238*e]]).stream(u),i=a.translate([o-.307*e,c+.201*e]).clipExtent([[o-.425*e+sl,c+.12*e+sl],[o-.214*e-sl,c+.234*e-sl]]).stream(u),r=l.translate([o-.205*e,c+.212*e]).clipExtent([[o-.214*e+sl,c+.166*e+sl],[o-.115*e-sl,c+.234*e-sl]]).stream(u),h()},c.fitExtent=function(t,e){return of(c,t,e)},c.fitSize=function(t,e){return sf(c,t,e)},c.fitWidth=function(t,e){return af(c,t,e)},c.fitHeight=function(t,e){return lf(c,t,e)},c.scale(1070)};function xf(t){return function(e,n){var i=ml(e),r=ml(n),o=t(i*r);return[o*r*xl(e),o*xl(n)]}}function wf(t){return function(e,n){var i=El(e*e+n*n),r=t(i),o=xl(r),s=ml(r);return[gl(e*o,i*s),Ml(i&&n*o/i)]}}var Ef=xf(function(t){return El(2/(1+t))});Ef.invert=wf(function(t){return 2*Ml(t/2)});var Cf=function(){return df(Ef).scale(124.75).clipAngle(179.999)},Sf=xf(function(t){return(t=Sl(t))&&t/xl(t)});Sf.invert=wf(function(t){return t});var Mf=function(){return df(Sf).scale(79.4188).clipAngle(179.999)};function If(t,e){return[t,_l(Cl((ll+e)/2))]}If.invert=function(t,e){return[t,2*dl(yl(e))-ll]};var Of=function(){return Tf(If).scale(961/cl)};function Tf(t){var e,n,i,r=df(t),o=r.center,s=r.scale,a=r.translate,l=r.clipExtent,u=null;function c(){var o=al*s(),a=r(oc(r.rotate()).invert([0,0]));return l(null==u?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===If?[[Math.max(a[0]-o,u),e],[Math.min(a[0]+o,n),i]]:[[u,Math.max(a[1]-o,e)],[n,Math.min(a[1]+o,i)]])}return r.scale=function(t){return arguments.length?(s(t),c()):s()},r.translate=function(t){return arguments.length?(a(t),c()):a()},r.center=function(t){return arguments.length?(o(t),c()):o()},r.clipExtent=function(t){return arguments.length?(null==t?u=e=n=i=null:(u=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),c()):null==u?null:[[u,e],[n,i]]},c()}function Nf(t){return Cl((ll+t)/2)}function kf(t,e){var n=ml(t),i=t===e?xl(t):_l(n/ml(e))/_l(Nf(e)/Nf(t)),r=n*bl(Nf(t),i)/i;if(!i)return If;function o(t,e){r>0?e<-ll+sl&&(e=-ll+sl):e>ll-sl&&(e=ll-sl);var n=r/bl(Nf(e),i);return[n*xl(i*t),r-n*ml(i*t)]}return o.invert=function(t,e){var n=r-e,o=wl(i)*El(t*t+n*n);return[gl(t,pl(n))/i*wl(n),2*dl(bl(r/o,1/i))-ll]},o}var Pf=function(){return mf(kf).scale(109.5).parallels([30,30])};function Af(t,e){return[t,e]}Af.invert=Af;var Lf=function(){return df(Af).scale(152.63)};function Df(t,e){var n=ml(t),i=t===e?xl(t):(n-ml(e))/(e-t),r=n/i+t;if(pl(i)<sl)return Af;function o(t,e){var n=r-e,o=i*t;return[n*xl(o),r-n*ml(o)]}return o.invert=function(t,e){var n=r-e;return[gl(t,pl(n))/i*wl(n),r-wl(i)*El(t*t+n*n)]},o}var Rf=function(){return mf(Df).scale(131.154).center([0,13.9389])},jf=1.340264,Ff=-.081106,zf=893e-6,Bf=.003796,Gf=El(3)/2;function qf(t,e){var n=Ml(Gf*xl(e)),i=n*n,r=i*i*i;return[t*ml(n)/(Gf*(jf+3*Ff*i+r*(7*zf+9*Bf*i))),n*(jf+Ff*i+r*(zf+Bf*i))]}qf.invert=function(t,e){for(var n,i=e,r=i*i,o=r*r*r,s=0;s<12&&(o=(r=(i-=n=(i*(jf+Ff*r+o*(zf+Bf*r))-e)/(jf+3*Ff*r+o*(7*zf+9*Bf*r)))*i)*r*r,!(pl(n)<1e-12));++s);return[Gf*t*(jf+3*Ff*r+o*(7*zf+9*Bf*r))/ml(i),Ml(xl(i)/Gf)]};var Hf=function(){return df(qf).scale(177.158)};function Wf(t,e){var n=ml(e),i=ml(t)*n;return[n*xl(t)/i,xl(e)/i]}Wf.invert=wf(dl);var Uf=function(){return df(Wf).scale(144.049).clipAngle(60)};function Yf(t,e,n,i){return 1===t&&1===e&&0===n&&0===i?nh:ef({point:function(r,o){this.stream.point(r*t+n,o*e+i)}})}var Vf=function(){var t,e,n,i,r,o,s=1,a=0,l=0,u=1,c=1,h=nh,f=null,p=nh;function d(){return i=r=null,o}return o={stream:function(t){return i&&r===t?i:i=h(p(r=t))},postclip:function(i){return arguments.length?(p=i,f=t=e=n=null,d()):p},clipExtent:function(i){return arguments.length?(p=null==i?(f=t=e=n=null,nh):Cc(f=+i[0][0],t=+i[0][1],e=+i[1][0],n=+i[1][1]),d()):null==f?null:[[f,t],[e,n]]},scale:function(t){return arguments.length?(h=Yf((s=+t)*u,s*c,a,l),d()):s},translate:function(t){return arguments.length?(h=Yf(s*u,s*c,a=+t[0],l=+t[1]),d()):[a,l]},reflectX:function(t){return arguments.length?(h=Yf(s*(u=t?-1:1),s*c,a,l),d()):u<0},reflectY:function(t){return arguments.length?(h=Yf(s*u,s*(c=t?-1:1),a,l),d()):c<0},fitExtent:function(t,e){return of(o,t,e)},fitSize:function(t,e){return sf(o,t,e)},fitWidth:function(t,e){return af(o,t,e)},fitHeight:function(t,e){return lf(o,t,e)}}};function Xf(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}Xf.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,s=o*o;i-=n=(i*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(pl(n)>sl&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]};var Kf=function(){return df(Xf).scale(175.295)};function $f(t,e){return[ml(e)*xl(t),xl(e)]}$f.invert=wf(Ml);var Zf=function(){return df($f).scale(249.5).clipAngle(90+sl)};function Jf(t,e){var n=ml(e),i=1+ml(t)*n;return[n*xl(t)/i,xl(e)/i]}Jf.invert=wf(function(t){return 2*dl(t)});var Qf=function(){return df(Jf).scale(250).clipAngle(142)};function tp(t,e){return[_l(Cl((ll+e)/2)),-t]}tp.invert=function(t,e){return[-e,2*dl(yl(t))-ll]};var ep=function(){var t=Tf(tp),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};function np(t,e){return t.parent===e.parent?1:2}function ip(t,e){return t+e.x}function rp(t,e){return Math.max(t,e.y)}var op=function(){var t=np,e=1,n=1,i=!1;function r(r){var o,s=0;r.eachAfter(function(e){var n=e.children;n?(e.x=function(t){return t.reduce(ip,0)/t.length}(n),e.y=function(t){return 1+t.reduce(rp,0)}(n)):(e.x=o?s+=t(e,o):0,e.y=0,o=e)});var a=function(t){for(var e;e=t.children;)t=e[0];return t}(r),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),u=a.x-t(a,l)/2,c=l.x+t(l,a)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-u)/(c-u)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r};function sp(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function ap(t,e){var n,i,r,o,s,a=new hp(t),l=+t.value&&(a.value=t.value),u=[a];for(null==e&&(e=lp);n=u.pop();)if(l&&(n.value=+n.data.value),(r=e(n.data))&&(s=r.length))for(n.children=new Array(s),o=s-1;o>=0;--o)u.push(i=n.children[o]=new hp(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(cp)}function lp(t){return t.children}function up(t){t.data=t.data.data}function cp(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function hp(t){this.data=t,this.depth=this.height=0,this.parent=null}hp.prototype=ap.prototype={constructor:hp,count:function(){return this.eachAfter(sp)},each:function(t){var e,n,i,r,o=this,s=[o];do{for(e=s.reverse(),s=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)s.push(n[i])}while(s.length);return this},eachAfter:function(t){for(var e,n,i,r=this,o=[r],s=[];r=o.pop();)if(s.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);for(;r=s.pop();)t(r);return this},eachBefore:function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;for(t=n.pop(),e=i.pop();t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return ap(this).eachBefore(up)}};var fp=Array.prototype.slice;var pp=function(t){for(var e,n,i=0,r=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(fp.call(t))).length,o=[];i<r;)e=t[i],n&&mp(n,e)?++i:(n=yp(o=dp(o,e)),i=0);return n};function dp(t,e){var n,i;if(vp(e,t))return[e];for(n=0;n<t.length;++n)if(gp(e,t[n])&&vp(_p(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(gp(_p(t[n],t[i]),e)&&gp(_p(t[n],e),t[i])&&gp(_p(t[i],e),t[n])&&vp(bp(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function gp(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function mp(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function vp(t,e){for(var n=0;n<e.length;++n)if(!mp(t,e[n]))return!1;return!0}function yp(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return _p(t[0],t[1]);case 3:return bp(t[0],t[1],t[2])}var e}function _p(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,s=e.y,a=e.r,l=o-n,u=s-i,c=a-r,h=Math.sqrt(l*l+u*u);return{x:(n+o+l/h*c)/2,y:(i+s+u/h*c)/2,r:(h+r+a)/2}}function bp(t,e,n){var i=t.x,r=t.y,o=t.r,s=e.x,a=e.y,l=e.r,u=n.x,c=n.y,h=n.r,f=i-s,p=i-u,d=r-a,g=r-c,m=l-o,v=h-o,y=i*i+r*r-o*o,_=y-s*s-a*a+l*l,b=y-u*u-c*c+h*h,x=p*d-f*g,w=(d*b-g*_)/(2*x)-i,E=(g*m-d*v)/x,C=(p*_-f*b)/(2*x)-r,S=(f*v-p*m)/x,M=E*E+S*S-1,I=2*(o+w*E+C*S),O=w*w+C*C-o*o,T=-(M?(I+Math.sqrt(I*I-4*M*O))/(2*M):O/I);return{x:i+w+E*T,y:r+C+S*T,r:T}}function xp(t,e,n){var i,r,o,s,a=t.x-e.x,l=t.y-e.y,u=a*a+l*l;u?(r=e.r+n.r,r*=r,s=t.r+n.r,r>(s*=s)?(i=(u+s-r)/(2*u),o=Math.sqrt(Math.max(0,s/u-i*i)),n.x=t.x-i*a-o*l,n.y=t.y-i*l+o*a):(i=(u+r-s)/(2*u),o=Math.sqrt(Math.max(0,r/u-i*i)),n.x=e.x+i*a-o*l,n.y=e.y+i*l+o*a)):(n.x=e.x+n.r,n.y=e.y)}function wp(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Ep(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,o=(e.y*n.r+n.y*e.r)/i;return r*r+o*o}function Cp(t){this._=t,this.next=null,this.previous=null}function Sp(t){if(!(r=t.length))return 0;var e,n,i,r,o,s,a,l,u,c,h;if((e=t[0]).x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;xp(n,e,i=t[2]),e=new Cp(e),n=new Cp(n),i=new Cp(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(a=3;a<r;++a){xp(e._,n._,i=t[a]),i=new Cp(i),l=n.next,u=e.previous,c=n._.r,h=e._.r;do{if(c<=h){if(wp(l._,i._)){n=l,e.next=n,n.previous=e,--a;continue t}c+=l._.r,l=l.next}else{if(wp(u._,i._)){(e=u).next=n,n.previous=e,--a;continue t}h+=u._.r,u=u.previous}}while(l!==u.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,o=Ep(e);(i=i.next)!==n;)(s=Ep(i))<o&&(e=i,o=s);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=pp(e),a=0;a<r;++a)(e=t[a]).x-=i.x,e.y-=i.y;return i.r}var Mp=function(t){return Sp(t),t};function Ip(t){if("function"!=typeof t)throw new Error;return t}function Op(){return 0}var Tp=function(t){return function(){return t}};function Np(t){return Math.sqrt(t.value)}var kp=function(){var t=null,e=1,n=1,i=Op;function r(r){return r.x=e/2,r.y=n/2,t?r.eachBefore(Pp(t)).eachAfter(Ap(i,.5)).eachBefore(Lp(1)):r.eachBefore(Pp(Np)).eachAfter(Ap(Op,1)).eachAfter(Ap(i,r.r/Math.min(e,n))).eachBefore(Lp(Math.min(e,n)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=null==(n=e)?null:Ip(n),r):t;var n},r.size=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.padding=function(t){return arguments.length?(i="function"==typeof t?t:Tp(+t),r):i},r};function Pp(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Ap(t,e){return function(n){if(i=n.children){var i,r,o,s=i.length,a=t(n)*e||0;if(a)for(r=0;r<s;++r)i[r].r+=a;if(o=Sp(i),a)for(r=0;r<s;++r)i[r].r-=a;n.r=o+a}}}function Lp(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var Dp=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},Rp=function(t,e,n,i,r){for(var o,s=t.children,a=-1,l=s.length,u=t.value&&(i-e)/t.value;++a<l;)(o=s[a]).y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*u},jp=function(){var t=1,e=1,n=0,i=!1;function r(r){var o=r.height+1;return r.x0=r.y0=n,r.x1=t,r.y1=e/o,r.eachBefore(function(t,e){return function(i){i.children&&Rp(i,i.x0,t*(i.depth+1)/e,i.x1,t*(i.depth+2)/e);var r=i.x0,o=i.y0,s=i.x1-n,a=i.y1-n;s<r&&(r=s=(r+s)/2),a<o&&(o=a=(o+a)/2),i.x0=r,i.y0=o,i.x1=s,i.y1=a}}(e,o)),i&&r.eachBefore(Dp),r}return r.round=function(t){return arguments.length?(i=!!t,r):i},r.size=function(n){return arguments.length?(t=+n[0],e=+n[1],r):[t,e]},r.padding=function(t){return arguments.length?(n=+t,r):n},r},Fp="$",zp={depth:-1},Bp={};function Gp(t){return t.id}function qp(t){return t.parentId}var Hp=function(){var t=Gp,e=qp;function n(n){var i,r,o,s,a,l,u,c=n.length,h=new Array(c),f={};for(r=0;r<c;++r)i=n[r],a=h[r]=new hp(i),null!=(l=t(i,r,n))&&(l+="")&&(f[u=Fp+(a.id=l)]=u in f?Bp:a);for(r=0;r<c;++r)if(a=h[r],null!=(l=e(n[r],r,n))&&(l+="")){if(!(s=f[Fp+l]))throw new Error("missing: "+l);if(s===Bp)throw new Error("ambiguous: "+l);s.children?s.children.push(a):s.children=[a],a.parent=s}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=zp,o.eachBefore(function(t){t.depth=t.parent.depth+1,--c}).eachBefore(cp),o.parent=null,c>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=Ip(e),n):t},n.parentId=function(t){return arguments.length?(e=Ip(t),n):e},n};function Wp(t,e){return t.parent===e.parent?1:2}function Up(t){var e=t.children;return e?e[0]:t.t}function Yp(t){var e=t.children;return e?e[e.length-1]:t.t}function Vp(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function Xp(t,e,n){return t.a.parent===e.parent?t.a:n}function Kp(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Kp.prototype=Object.create(hp.prototype);var $p=function(){var t=Wp,e=1,n=1,i=null;function r(r){var l=function(t){for(var e,n,i,r,o,s=new Kp(t,0),a=[s];e=a.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)a.push(n=e.children[r]=new Kp(i[r],r)),n.parent=e;return(s.parent=new Kp(null,0)).children=[s],s}(r);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(s),i)r.eachBefore(a);else{var u=r,c=r,h=r;r.eachBefore(function(t){t.x<u.x&&(u=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)});var f=u===c?1:t(u,c)/2,p=f-u.x,d=e/(c.x+f+p),g=n/(h.depth||1);r.eachBefore(function(t){t.x=(t.x+p)*d,t.y=t.depth*g})}return r}function o(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){!function(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,o=e,s=e,a=n,l=o.parent.children[0],u=o.m,c=s.m,h=a.m,f=l.m;a=Yp(a),o=Up(o),a&&o;)l=Up(l),(s=Yp(s)).a=e,(r=a.z+h-o.z-u+t(a._,o._))>0&&(Vp(Xp(a,e,i),e,r),u+=r,c+=r),h+=a.m,u+=o.m,f+=l.m,c+=s.m;a&&!Yp(s)&&(s.t=a,s.m+=h-c),o&&!Up(l)&&(l.t=o,l.m+=u-f,i=e)}return i}(e,r,e.parent.A||i[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},Zp=function(t,e,n,i,r){for(var o,s=t.children,a=-1,l=s.length,u=t.value&&(r-n)/t.value;++a<l;)(o=s[a]).x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*u},Jp=(1+Math.sqrt(5))/2;function Qp(t,e,n,i,r,o){for(var s,a,l,u,c,h,f,p,d,g,m,v=[],y=e.children,_=0,b=0,x=y.length,w=e.value;_<x;){l=r-n,u=o-i;do{c=y[b++].value}while(!c&&b<x);for(h=f=c,m=c*c*(g=Math.max(u/l,l/u)/(w*t)),d=Math.max(f/m,m/h);b<x;++b){if(c+=a=y[b].value,a<h&&(h=a),a>f&&(f=a),m=c*c*g,(p=Math.max(f/m,m/h))>d){c-=a;break}d=p}v.push(s={value:c,dice:l<u,children:y.slice(_,b)}),s.dice?Rp(s,n,i,r,w?i+=u*c/w:o):Zp(s,n,i,w?n+=l*c/w:r,o),w-=c,_=b}return v}var td=function t(e){function n(t,n,i,r,o){Qp(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Jp),ed=function(){var t=td,e=!1,n=1,i=1,r=[0],o=Op,s=Op,a=Op,l=Op,u=Op;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(h),r=[0],e&&t.eachBefore(Dp),t}function h(e){var n=r[e.depth],i=e.x0+n,c=e.y0+n,h=e.x1-n,f=e.y1-n;h<i&&(i=h=(i+h)/2),f<c&&(c=f=(c+f)/2),e.x0=i,e.y0=c,e.x1=h,e.y1=f,e.children&&(n=r[e.depth+1]=o(e)/2,i+=u(e)-n,c+=s(e)-n,(h-=a(e)-n)<i&&(i=h=(i+h)/2),(f-=l(e)-n)<c&&(c=f=(c+f)/2),t(e,i,c,h,f))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],i=+t[1],c):[n,i]},c.tile=function(e){return arguments.length?(t=Ip(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:Tp(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(s="function"==typeof t?t:Tp(+t),c):s},c.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:Tp(+t),c):a},c.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:Tp(+t),c):l},c.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:Tp(+t),c):u},c},nd=function(t,e,n,i,r){var o,s,a=t.children,l=a.length,u=new Array(l+1);for(u[0]=s=o=0;o<l;++o)u[o+1]=s+=a[o].value;!function t(e,n,i,r,o,s,l){if(e>=n-1){var c=a[e];return c.x0=r,c.y0=o,c.x1=s,void(c.y1=l)}var h=u[e],f=i/2+h,p=e+1,d=n-1;for(;p<d;){var g=p+d>>>1;u[g]<f?p=g+1:d=g}f-u[p-1]<u[p]-f&&e+1<p&&--p;var m=u[p]-h,v=i-m;if(s-r>l-o){var y=(r*v+s*m)/i;t(e,p,m,r,o,y,l),t(p,n,v,y,o,s,l)}else{var _=(o*v+l*m)/i;t(e,p,m,r,o,s,_),t(p,n,v,r,_,s,l)}}(0,l,t.value,e,n,i,r)},id=function(t,e,n,i,r){(1&t.depth?Zp:Rp)(t,e,n,i,r)},rd=function t(e){function n(t,n,i,r,o){if((s=t._squarify)&&s.ratio===e)for(var s,a,l,u,c,h=-1,f=s.length,p=t.value;++h<f;){for(l=(a=s[h]).children,u=a.value=0,c=l.length;u<c;++u)a.value+=l[u].value;a.dice?Rp(a,n,i,r,i+=(o-i)*a.value/p):Zp(a,n,i,n+=(r-n)*a.value/p,o),p-=a.value}else t._squarify=s=Qp(e,t,n,i,r,o),s.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Jp),od=function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2},sd=function(t){for(var e,n,i=-1,r=t.length,o=0,s=0,a=t[r-1],l=0;++i<r;)e=a,a=t[i],l+=n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o/(l*=3),s/l]},ad=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])};function ld(t,e){return t[0]-e[0]||t[1]-e[1]}function ud(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;++r){for(;i>1&&ad(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}var cd=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(ld),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var o=ud(i),s=ud(r),a=s[0]===o[0],l=s[s.length-1]===o[o.length-1],u=[];for(e=o.length-1;e>=0;--e)u.push(t[i[o[e]][2]]);for(e=+a;e<s.length-l;++e)u.push(t[i[s[e]][2]]);return u},hd=function(t,e){for(var n,i,r=t.length,o=t[r-1],s=e[0],a=e[1],l=o[0],u=o[1],c=!1,h=0;h<r;++h)n=(o=t[h])[0],(i=o[1])>a!=u>a&&s<(l-n)*(a-i)/(u-i)+n&&(c=!c),l=n,u=i;return c},fd=function(t){for(var e,n,i=-1,r=t.length,o=t[r-1],s=o[0],a=o[1],l=0;++i<r;)e=s,n=a,e-=s=(o=t[i])[0],n-=a=o[1],l+=Math.sqrt(e*e+n*n);return l},pd=function(){return Math.random()},dd=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(pd),gd=function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(pd),md=function t(e){function n(){var t=gd.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(pd),vd=function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(pd),yd=function t(e){function n(t){var n=vd.source(e)(t);return function(){return n()/t}}return n.source=t,n}(pd),_d=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(pd);function bd(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function xd(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var wd=Array.prototype,Ed=wd.map,Cd=wd.slice,Sd={name:"implicit"};function Md(){var t=$o(),e=[],n=[],i=Sd;function r(r){var o=r+"",s=t.get(o);if(!s){if(i!==Sd)return i;t.set(o,s=e.push(r))}return n[(s-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=$o();for(var i,o,s=-1,a=n.length;++s<a;)t.has(o=(i=n[s])+"")||t.set(o,e.push(i));return r},r.range=function(t){return arguments.length?(n=Cd.call(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Md(e,n).unknown(i)},bd.apply(r,arguments),r}function Id(){var t,e,n=Md().unknown(void 0),i=n.domain,r=n.range,o=[0,1],s=!1,a=0,l=0,u=.5;function c(){var n=i().length,c=o[1]<o[0],h=o[c-0],f=o[1-c];t=(f-h)/Math.max(1,n-a+2*l),s&&(t=Math.floor(t)),h+=(f-h-t*(n-a))*u,e=t*(1-a),s&&(h=Math.round(h),e=Math.round(e));var p=w(n).map(function(e){return h+t*e});return r(c?p.reverse():p)}return delete n.unknown,n.domain=function(t){return arguments.length?(i(t),c()):i()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],c()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],s=!0,c()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(s=!!t,c()):s},n.padding=function(t){return arguments.length?(a=Math.min(1,l=+t),c()):a},n.paddingInner=function(t){return arguments.length?(a=Math.min(1,t),c()):a},n.paddingOuter=function(t){return arguments.length?(l=+t,c()):l},n.align=function(t){return arguments.length?(u=Math.max(0,Math.min(1,t)),c()):u},n.copy=function(){return Id(i(),o).round(s).paddingInner(a).paddingOuter(l).align(u)},bd.apply(c(),arguments)}function Od(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(Id.apply(null,arguments).paddingInner(1))}var Td=function(t){return function(){return t}},Nd=function(t){return+t},kd=[0,1];function Pd(t){return t}function Ad(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Td(isNaN(e)?NaN:.5)}function Ld(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function Dd(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1];return r<i?(i=Ad(r,i),o=n(s,o)):(i=Ad(i,r),o=n(o,s)),function(t){return o(i(t))}}function Rd(t,e,n){var i=Math.min(t.length,e.length)-1,r=new Array(i),o=new Array(i),s=-1;for(t[i]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<i;)r[s]=Ad(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(e){var n=l(t,e,1,i)-1;return o[n](r[n](e))}}function jd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Fd(){var t,e,n,i,r,o,s=kd,a=kd,l=Xn,u=Pd;function c(){return i=Math.min(s.length,a.length)>2?Rd:Dd,r=o=null,h}function h(e){return isNaN(e=+e)?n:(r||(r=i(s.map(t),a,l)))(t(u(e)))}return h.invert=function(n){return u(e((o||(o=i(a,s.map(t),zn)))(n)))},h.domain=function(t){return arguments.length?(s=Ed.call(t,Nd),u===Pd||(u=Ld(s)),c()):s.slice()},h.range=function(t){return arguments.length?(a=Cd.call(t),c()):a.slice()},h.rangeRound=function(t){return a=Cd.call(t),l=Zn,c()},h.clamp=function(t){return arguments.length?(u=t?Ld(s):Pd,h):u!==Pd},h.interpolate=function(t){return arguments.length?(l=t,c()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,c()}}function zd(t,e){return Fd()(t,e)}var Bd=function(t,e,n,i){var r,o=O(t,e,n);switch((i=Ba(null==i?",f":i)).type){case"s":var s=Math.max(Math.abs(t),Math.abs(e));return null!=i.precision||isNaN(r=tl(o,s))||(i.precision=r),Ua(i,s);case"":case"e":case"g":case"p":case"r":null!=i.precision||isNaN(r=el(o,Math.max(Math.abs(t),Math.abs(e))))||(i.precision=r-("e"===i.type));break;case"f":case"%":null!=i.precision||isNaN(r=Qa(o))||(i.precision=r-2*("%"===i.type))}return Wa(i)};function Gd(t){var e=t.domain;return t.ticks=function(t){var n=e();return M(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return Bd(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var i,r=e(),o=0,s=r.length-1,a=r[o],l=r[s];return l<a&&(i=a,a=l,l=i,i=o,o=s,s=i),(i=I(a,l,n))>0?i=I(a=Math.floor(a/i)*i,l=Math.ceil(l/i)*i,n):i<0&&(i=I(a=Math.ceil(a*i)/i,l=Math.floor(l*i)/i,n)),i>0?(r[o]=Math.floor(a/i)*i,r[s]=Math.ceil(l/i)*i,e(r)):i<0&&(r[o]=Math.ceil(a*i)/i,r[s]=Math.floor(l*i)/i,e(r)),t},t}function qd(){var t=zd(Pd,Pd);return t.copy=function(){return jd(t,qd())},bd.apply(t,arguments),Gd(t)}function Hd(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Ed.call(e,Nd),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Hd(t).unknown(e)},t=arguments.length?Ed.call(t,Nd):[0,1],Gd(n)}var Wd=function(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],s=t[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t};function Ud(t){return Math.log(t)}function Yd(t){return Math.exp(t)}function Vd(t){return-Math.log(-t)}function Xd(t){return-Math.exp(-t)}function Kd(t){return isFinite(t)?+("1e"+t):t<0?0:t}function $d(t){return function(e){return-t(-e)}}function Zd(t){var e,n,i=t(Ud,Yd),r=i.domain,o=10;function s(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?Kd:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),r()[0]<0?(e=$d(e),n=$d(n),t(Vd,Xd)):t(Ud,Yd),i}return i.base=function(t){return arguments.length?(o=+t,s()):o},i.domain=function(t){return arguments.length?(r(t),s()):r()},i.ticks=function(t){var i,s=r(),a=s[0],l=s[s.length-1];(i=l<a)&&(f=a,a=l,l=f);var u,c,h,f=e(a),p=e(l),d=null==t?10:+t,g=[];if(!(o%1)&&p-f<d){if(f=Math.round(f)-1,p=Math.round(p)+1,a>0){for(;f<p;++f)for(c=1,u=n(f);c<o;++c)if(!((h=u*c)<a)){if(h>l)break;g.push(h)}}else for(;f<p;++f)for(c=o-1,u=n(f);c>=1;--c)if(!((h=u*c)<a)){if(h>l)break;g.push(h)}}else g=M(f,p,Math.min(p-f,d)).map(n);return i?g.reverse():g},i.tickFormat=function(t,r){if(null==r&&(r=10===o?".0e":","),"function"!=typeof r&&(r=Wa(r)),t===1/0)return r;null==t&&(t=10);var s=Math.max(1,o*t/i.ticks().length);return function(t){var i=t/n(Math.round(e(t)));return i*o<o-.5&&(i*=o),i<=s?r(t):""}},i.nice=function(){return r(Wd(r(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},i}function Jd(){var t=Zd(Fd()).domain([1,10]);return t.copy=function(){return jd(t,Jd()).base(t.base())},bd.apply(t,arguments),t}function Qd(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function tg(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function eg(t){var e=1,n=t(Qd(e),tg(e));return n.constant=function(n){return arguments.length?t(Qd(e=+n),tg(e)):e},Gd(n)}function ng(){var t=eg(Fd());return t.copy=function(){return jd(t,ng()).constant(t.constant())},bd.apply(t,arguments)}function ig(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function rg(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function og(t){return t<0?-t*t:t*t}function sg(t){var e=t(Pd,Pd),n=1;return e.exponent=function(e){return arguments.length?1===(n=+e)?t(Pd,Pd):.5===n?t(rg,og):t(ig(n),ig(1/n)):n},Gd(e)}function ag(){var t=sg(Fd());return t.copy=function(){return jd(t,ag()).exponent(t.exponent())},bd.apply(t,arguments),t}function lg(){return ag.apply(null,arguments).exponent(.5)}function ug(){var t,e=[],n=[],r=[];function o(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=k(e,t/i);return s}function s(e){return isNaN(e=+e)?t:n[l(r,e)]}return s.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},s.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,s=t.length;r<s;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(i),o()},s.range=function(t){return arguments.length?(n=Cd.call(t),o()):n.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.quantiles=function(){return r.slice()},s.copy=function(){return ug().domain(e).range(n).unknown(t)},bd.apply(s,arguments)}function cg(){var t,e=0,n=1,i=1,r=[.5],o=[0,1];function s(e){return e<=e?o[l(r,e,0,i)]:t}function a(){var t=-1;for(r=new Array(i);++t<i;)r[t]=((t+1)*n-(t-i)*e)/(i+1);return s}return s.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],a()):[e,n]},s.range=function(t){return arguments.length?(i=(o=Cd.call(t)).length-1,a()):o.slice()},s.invertExtent=function(t){var s=o.indexOf(t);return s<0?[NaN,NaN]:s<1?[e,r[0]]:s>=i?[r[i-1],n]:[r[s-1],r[s]]},s.unknown=function(e){return arguments.length?(t=e,s):s},s.thresholds=function(){return r.slice()},s.copy=function(){return cg().domain([e,n]).range(o).unknown(t)},bd.apply(Gd(s),arguments)}function hg(){var t,e=[.5],n=[0,1],i=1;function r(r){return r<=r?n[l(e,r,0,i)]:t}return r.domain=function(t){return arguments.length?(e=Cd.call(t),i=Math.min(e.length,n.length-1),r):e.slice()},r.range=function(t){return arguments.length?(n=Cd.call(t),i=Math.min(e.length,n.length-1),r):n.slice()},r.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return hg().domain(e).range(n).unknown(t)},bd.apply(r,arguments)}var fg=new Date,pg=new Date;function dg(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<i);return a},r.filter=function(n){return dg(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););})},n&&(r.count=function(e,i){return fg.setTime(+e),pg.setTime(+i),t(fg),t(pg),Math.floor(n(fg,pg))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var gg=dg(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});gg.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?dg(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):gg:null};var mg=gg,vg=gg.range,yg=6e4,_g=6048e5,bg=dg(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),xg=bg,wg=bg.range,Eg=dg(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*yg)},function(t,e){return(e-t)/yg},function(t){return t.getMinutes()}),Cg=Eg,Sg=Eg.range,Mg=dg(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*yg)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),Ig=Mg,Og=Mg.range,Tg=dg(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yg)/864e5},function(t){return t.getDate()-1}),Ng=Tg,kg=Tg.range;function Pg(t){return dg(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*yg)/_g})}var Ag=Pg(0),Lg=Pg(1),Dg=Pg(2),Rg=Pg(3),jg=Pg(4),Fg=Pg(5),zg=Pg(6),Bg=Ag.range,Gg=Lg.range,qg=Dg.range,Hg=Rg.range,Wg=jg.range,Ug=Fg.range,Yg=zg.range,Vg=dg(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Xg=Vg,Kg=Vg.range,$g=dg(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});$g.every=function(t){return isFinite(t=Math.floor(t))&&t>0?dg(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var Zg=$g,Jg=$g.range,Qg=dg(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*yg)},function(t,e){return(e-t)/yg},function(t){return t.getUTCMinutes()}),tm=Qg,em=Qg.range,nm=dg(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),im=nm,rm=nm.range,om=dg(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),sm=om,am=om.range;function lm(t){return dg(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/_g})}var um=lm(0),cm=lm(1),hm=lm(2),fm=lm(3),pm=lm(4),dm=lm(5),gm=lm(6),mm=um.range,vm=cm.range,ym=hm.range,_m=fm.range,bm=pm.range,xm=dm.range,wm=gm.range,Em=dg(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Cm=Em,Sm=Em.range,Mm=dg(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Mm.every=function(t){return isFinite(t=Math.floor(t))&&t>0?dg(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var Im=Mm,Om=Mm.range;function Tm(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Nm(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function km(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Pm(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Wm(r),c=Um(r),h=Wm(o),f=Um(o),p=Wm(s),d=Um(s),g=Wm(a),m=Um(a),v=Wm(l),y=Um(l),_={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:hv,e:hv,f:mv,H:fv,I:pv,j:dv,L:gv,m:vv,M:yv,p:function(t){return r[+(t.getHours()>=12)]},Q:Yv,s:Vv,S:_v,u:bv,U:xv,V:wv,w:Ev,W:Cv,x:null,X:null,y:Sv,Y:Mv,Z:Iv,"%":Uv},b={a:function(t){return s[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Ov,e:Ov,f:Av,H:Tv,I:Nv,j:kv,L:Pv,m:Lv,M:Dv,p:function(t){return r[+(t.getUTCHours()>=12)]},Q:Yv,s:Vv,S:Rv,u:jv,U:Fv,V:zv,w:Bv,W:Gv,x:null,X:null,y:qv,Y:Hv,Z:Wv,"%":Uv},x={a:function(t,e,n){var i=p.exec(e.slice(n));return i?(t.w=d[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=v.exec(e.slice(n));return i?(t.m=y[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=g.exec(e.slice(n));return i?(t.m=m[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return C(t,e,n,i)},d:ev,e:ev,f:av,H:iv,I:iv,j:nv,L:sv,m:tv,M:rv,p:function(t,e,n){var i=u.exec(e.slice(n));return i?(t.p=c[i[0].toLowerCase()],n+i[0].length):-1},Q:uv,s:cv,S:ov,u:Vm,U:Xm,V:Km,w:Ym,W:$m,x:function(t,e,i){return C(t,n,e,i)},X:function(t,e,n){return C(t,i,e,n)},y:Jm,Y:Zm,Z:Qm,"%":lv};function w(t,e){return function(n){var i,r,o,s=[],a=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++a<u;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(r=Fm[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),l=a+1);return s.push(t.slice(l,a)),s.join("")}}function E(t,e){return function(n){var i,r,o=km(1900);if(C(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=Nm(km(o.y))).getUTCDay(),i=r>4||0===r?cm.ceil(i):cm(i),i=sm.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=e(km(o.y))).getDay(),i=r>4||0===r?Lg.ceil(i):Lg(i),i=Ng.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?Nm(km(o.y)).getUTCDay():e(km(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Nm(o)):e(o)}}function C(t,e,n,i){for(var r,o,s=0,a=e.length,l=n.length;s<a;){if(i>=l)return-1;if(37===(r=e.charCodeAt(s++))){if(r=e.charAt(s++),!(o=x[r in Fm?e.charAt(s++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return _.x=w(n,_),_.X=w(i,_),_.c=w(e,_),b.x=w(n,b),b.X=w(i,b),b.c=w(e,b),{format:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",Tm);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t,Nm);return e.toString=function(){return t},e}}}var Am,Lm,Dm,Rm,jm,Fm={"-":"",_:" ",0:"0"},zm=/^\s*\d+/,Bm=/^%/,Gm=/[\\^$*+?|[\]().{}]/g;function qm(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Hm(t){return t.replace(Gm,"\\$&")}function Wm(t){return new RegExp("^(?:"+t.map(Hm).join("|")+")","i")}function Um(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Ym(t,e,n){var i=zm.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Vm(t,e,n){var i=zm.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function Xm(t,e,n){var i=zm.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function Km(t,e,n){var i=zm.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function $m(t,e,n){var i=zm.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function Zm(t,e,n){var i=zm.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function Jm(t,e,n){var i=zm.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function Qm(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function tv(t,e,n){var i=zm.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function ev(t,e,n){var i=zm.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function nv(t,e,n){var i=zm.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function iv(t,e,n){var i=zm.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function rv(t,e,n){var i=zm.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ov(t,e,n){var i=zm.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function sv(t,e,n){var i=zm.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function av(t,e,n){var i=zm.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function lv(t,e,n){var i=Bm.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function uv(t,e,n){var i=zm.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function cv(t,e,n){var i=zm.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function hv(t,e){return qm(t.getDate(),e,2)}function fv(t,e){return qm(t.getHours(),e,2)}function pv(t,e){return qm(t.getHours()%12||12,e,2)}function dv(t,e){return qm(1+Ng.count(Zg(t),t),e,3)}function gv(t,e){return qm(t.getMilliseconds(),e,3)}function mv(t,e){return gv(t,e)+"000"}function vv(t,e){return qm(t.getMonth()+1,e,2)}function yv(t,e){return qm(t.getMinutes(),e,2)}function _v(t,e){return qm(t.getSeconds(),e,2)}function bv(t){var e=t.getDay();return 0===e?7:e}function xv(t,e){return qm(Ag.count(Zg(t),t),e,2)}function wv(t,e){var n=t.getDay();return t=n>=4||0===n?jg(t):jg.ceil(t),qm(jg.count(Zg(t),t)+(4===Zg(t).getDay()),e,2)}function Ev(t){return t.getDay()}function Cv(t,e){return qm(Lg.count(Zg(t),t),e,2)}function Sv(t,e){return qm(t.getFullYear()%100,e,2)}function Mv(t,e){return qm(t.getFullYear()%1e4,e,4)}function Iv(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qm(e/60|0,"0",2)+qm(e%60,"0",2)}function Ov(t,e){return qm(t.getUTCDate(),e,2)}function Tv(t,e){return qm(t.getUTCHours(),e,2)}function Nv(t,e){return qm(t.getUTCHours()%12||12,e,2)}function kv(t,e){return qm(1+sm.count(Im(t),t),e,3)}function Pv(t,e){return qm(t.getUTCMilliseconds(),e,3)}function Av(t,e){return Pv(t,e)+"000"}function Lv(t,e){return qm(t.getUTCMonth()+1,e,2)}function Dv(t,e){return qm(t.getUTCMinutes(),e,2)}function Rv(t,e){return qm(t.getUTCSeconds(),e,2)}function jv(t){var e=t.getUTCDay();return 0===e?7:e}function Fv(t,e){return qm(um.count(Im(t),t),e,2)}function zv(t,e){var n=t.getUTCDay();return t=n>=4||0===n?pm(t):pm.ceil(t),qm(pm.count(Im(t),t)+(4===Im(t).getUTCDay()),e,2)}function Bv(t){return t.getUTCDay()}function Gv(t,e){return qm(cm.count(Im(t),t),e,2)}function qv(t,e){return qm(t.getUTCFullYear()%100,e,2)}function Hv(t,e){return qm(t.getUTCFullYear()%1e4,e,4)}function Wv(){return"+0000"}function Uv(){return"%"}function Yv(t){return+t}function Vv(t){return Math.floor(+t/1e3)}function Xv(t){return Am=Pm(t),Lm=Am.format,Dm=Am.parse,Rm=Am.utcFormat,jm=Am.utcParse,Am}Xv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Kv=Date.prototype.toISOString?function(t){return t.toISOString()}:Rm("%Y-%m-%dT%H:%M:%S.%LZ");var $v=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:jm("%Y-%m-%dT%H:%M:%S.%LZ"),Zv=1e3,Jv=60*Zv,Qv=60*Jv,ty=24*Qv,ey=7*ty,ny=30*ty,iy=365*ty;function ry(t){return new Date(t)}function oy(t){return t instanceof Date?+t:+new Date(+t)}function sy(t,e,n,i,o,s,a,l,u){var c=zd(Pd,Pd),h=c.invert,f=c.domain,p=u(".%L"),d=u(":%S"),g=u("%I:%M"),m=u("%I %p"),v=u("%a %d"),y=u("%b %d"),_=u("%B"),b=u("%Y"),x=[[a,1,Zv],[a,5,5*Zv],[a,15,15*Zv],[a,30,30*Zv],[s,1,Jv],[s,5,5*Jv],[s,15,15*Jv],[s,30,30*Jv],[o,1,Qv],[o,3,3*Qv],[o,6,6*Qv],[o,12,12*Qv],[i,1,ty],[i,2,2*ty],[n,1,ey],[e,1,ny],[e,3,3*ny],[t,1,iy]];function w(r){return(a(r)<r?p:s(r)<r?d:o(r)<r?g:i(r)<r?m:e(r)<r?n(r)<r?v:y:t(r)<r?_:b)(r)}function E(e,n,i,o){if(null==e&&(e=10),"number"==typeof e){var s=Math.abs(i-n)/e,a=r(function(t){return t[2]}).right(x,s);a===x.length?(o=O(n/iy,i/iy,e),e=t):a?(o=(a=x[s/x[a-1][2]<x[a][2]/s?a-1:a])[1],e=a[0]):(o=Math.max(O(n,i,e),1),e=l)}return null==o?e:e.every(o)}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?f(Ed.call(t,oy)):f().map(ry)},c.ticks=function(t,e){var n,i=f(),r=i[0],o=i[i.length-1],s=o<r;return s&&(n=r,r=o,o=n),n=(n=E(t,r,o,e))?n.range(r,o+1):[],s?n.reverse():n},c.tickFormat=function(t,e){return null==e?w:u(e)},c.nice=function(t,e){var n=f();return(t=E(t,n[0],n[n.length-1],e))?f(Wd(n,t)):c},c.copy=function(){return jd(c,sy(t,e,n,i,o,s,a,l,u))},c}var ay=function(){return bd.apply(sy(Zg,Xg,Ag,Ng,Ig,Cg,xg,mg,Lm).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},ly=function(){return bd.apply(sy(Im,Cm,um,sm,im,tm,xg,mg,Rm).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function uy(){var t,e,n,i,r,o=0,s=1,a=Pd,l=!1;function u(e){return isNaN(e=+e)?r:a(0===n?.5:(e=(i(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}return u.domain=function(r){return arguments.length?(t=i(o=+r[0]),e=i(s=+r[1]),n=t===e?0:1/(e-t),u):[o,s]},u.clamp=function(t){return arguments.length?(l=!!t,u):l},u.interpolator=function(t){return arguments.length?(a=t,u):a},u.unknown=function(t){return arguments.length?(r=t,u):r},function(r){return i=r,t=r(o),e=r(s),n=t===e?0:1/(e-t),u}}function cy(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function hy(){var t=Gd(uy()(Pd));return t.copy=function(){return cy(t,hy())},xd.apply(t,arguments)}function fy(){var t=Zd(uy()).domain([1,10]);return t.copy=function(){return cy(t,fy()).base(t.base())},xd.apply(t,arguments)}function py(){var t=eg(uy());return t.copy=function(){return cy(t,py()).constant(t.constant())},xd.apply(t,arguments)}function dy(){var t=sg(uy());return t.copy=function(){return cy(t,dy()).exponent(t.exponent())},xd.apply(t,arguments)}function gy(){return dy.apply(null,arguments).exponent(.5)}function my(){var t=[],e=Pd;function n(n){if(!isNaN(n=+n))return e((l(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var r,o=0,s=e.length;o<s;++o)null==(r=e[o])||isNaN(r=+r)||t.push(r);return t.sort(i),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return my(e).domain(t)},xd.apply(n,arguments)}function vy(){var t,e,n,i,r,o,s,a=0,l=.5,u=1,c=Pd,h=!1;function f(t){return isNaN(t=+t)?s:(t=.5+((t=+o(t))-e)*(t<e?i:r),c(h?Math.max(0,Math.min(1,t)):t))}return f.domain=function(s){return arguments.length?(t=o(a=+s[0]),e=o(l=+s[1]),n=o(u=+s[2]),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),f):[a,l,u]},f.clamp=function(t){return arguments.length?(h=!!t,f):h},f.interpolator=function(t){return arguments.length?(c=t,f):c},f.unknown=function(t){return arguments.length?(s=t,f):s},function(s){return o=s,t=s(a),e=s(l),n=s(u),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),f}}function yy(){var t=Gd(vy()(Pd));return t.copy=function(){return cy(t,yy())},xd.apply(t,arguments)}function _y(){var t=Zd(vy()).domain([.1,1,10]);return t.copy=function(){return cy(t,_y()).base(t.base())},xd.apply(t,arguments)}function by(){var t=eg(vy());return t.copy=function(){return cy(t,by()).constant(t.constant())},xd.apply(t,arguments)}function xy(){var t=sg(vy());return t.copy=function(){return cy(t,xy()).exponent(t.exponent())},xd.apply(t,arguments)}function wy(){return xy.apply(null,arguments).exponent(.5)}var Ey=function(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n},Cy=Ey("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Sy=Ey("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),My=Ey("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Iy=Ey("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Oy=Ey("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Ty=Ey("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Ny=Ey("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),ky=Ey("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Py=Ey("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Ay=function(t){return Dn(t[t.length-1])},Ly=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Ey),Dy=Ay(Ly),Ry=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Ey),jy=Ay(Ry),Fy=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Ey),zy=Ay(Fy),By=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Ey),Gy=Ay(By),qy=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Ey),Hy=Ay(qy),Wy=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Ey),Uy=Ay(Wy),Yy=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Ey),Vy=Ay(Yy),Xy=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Ey),Ky=Ay(Xy),$y=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Ey),Zy=Ay($y),Jy=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Ey),Qy=Ay(Jy),t_=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Ey),e_=Ay(t_),n_=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Ey),i_=Ay(n_),r_=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Ey),o_=Ay(r_),s_=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Ey),a_=Ay(s_),l_=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Ey),u_=Ay(l_),c_=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Ey),h_=Ay(c_),f_=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Ey),p_=Ay(f_),d_=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Ey),g_=Ay(d_),m_=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Ey),v_=Ay(m_),y_=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Ey),__=Ay(y_),b_=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Ey),x_=Ay(b_),w_=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Ey),E_=Ay(w_),C_=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Ey),S_=Ay(C_),M_=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Ey),I_=Ay(M_),O_=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Ey),T_=Ay(O_),N_=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Ey),k_=Ay(N_),P_=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Ey),A_=Ay(P_),L_=mi(En(300,.5,0),En(-240,.5,1)),D_=mi(En(-100,.75,.35),En(80,1.5,.8)),R_=mi(En(260,.75,.35),En(80,1.5,.8)),j_=En(),F_=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return j_.h=360*t-100,j_.s=1.5-1.5*e,j_.l=.8-.9*e,j_+""},z_=qe(),B_=Math.PI/3,G_=2*Math.PI/3,q_=function(t){var e;return t=(.5-t)*Math.PI,z_.r=255*(e=Math.sin(t))*e,z_.g=255*(e=Math.sin(t+B_))*e,z_.b=255*(e=Math.sin(t+G_))*e,z_+""};function H_(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var W_=H_(Ey("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),U_=H_(Ey("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Y_=H_(Ey("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),V_=H_(Ey("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),X_=function(t){return function(){return t}},K_=Math.abs,$_=Math.atan2,Z_=Math.cos,J_=Math.max,Q_=Math.min,tb=Math.sin,eb=Math.sqrt,nb=1e-12,ib=Math.PI,rb=ib/2,ob=2*ib;function sb(t){return t>=1?rb:t<=-1?-rb:Math.asin(t)}function ab(t){return t.innerRadius}function lb(t){return t.outerRadius}function ub(t){return t.startAngle}function cb(t){return t.endAngle}function hb(t){return t&&t.padAngle}function fb(t,e,n,i,r,o,s){var a=t-n,l=e-i,u=(s?o:-o)/eb(a*a+l*l),c=u*l,h=-u*a,f=t+c,p=e+h,d=n+c,g=i+h,m=(f+d)/2,v=(p+g)/2,y=d-f,_=g-p,b=y*y+_*_,x=r-o,w=f*g-d*p,E=(_<0?-1:1)*eb(J_(0,x*x*b-w*w)),C=(w*_-y*E)/b,S=(-w*y-_*E)/b,M=(w*_+y*E)/b,I=(-w*y+_*E)/b,O=C-m,T=S-v,N=M-m,k=I-v;return O*O+T*T>N*N+k*k&&(C=M,S=I),{cx:C,cy:S,x01:-c,y01:-h,x11:C*(r/x-1),y11:S*(r/x-1)}}var pb=function(){var t=ab,e=lb,n=X_(0),i=null,r=ub,o=cb,s=hb,a=null;function l(){var l,u,c,h=+t.apply(this,arguments),f=+e.apply(this,arguments),p=r.apply(this,arguments)-rb,d=o.apply(this,arguments)-rb,g=K_(d-p),m=d>p;if(a||(a=l=Go()),f<h&&(u=f,f=h,h=u),f>nb)if(g>ob-nb)a.moveTo(f*Z_(p),f*tb(p)),a.arc(0,0,f,p,d,!m),h>nb&&(a.moveTo(h*Z_(d),h*tb(d)),a.arc(0,0,h,d,p,m));else{var v,y,_=p,b=d,x=p,w=d,E=g,C=g,S=s.apply(this,arguments)/2,M=S>nb&&(i?+i.apply(this,arguments):eb(h*h+f*f)),I=Q_(K_(f-h)/2,+n.apply(this,arguments)),O=I,T=I;if(M>nb){var N=sb(M/h*tb(S)),k=sb(M/f*tb(S));(E-=2*N)>nb?(x+=N*=m?1:-1,w-=N):(E=0,x=w=(p+d)/2),(C-=2*k)>nb?(_+=k*=m?1:-1,b-=k):(C=0,_=b=(p+d)/2)}var P=f*Z_(_),A=f*tb(_),L=h*Z_(w),D=h*tb(w);if(I>nb){var R,j=f*Z_(b),F=f*tb(b),z=h*Z_(x),B=h*tb(x);if(g<ib&&(R=function(t,e,n,i,r,o,s,a){var l=n-t,u=i-e,c=s-r,h=a-o,f=h*l-c*u;if(!(f*f<nb))return[t+(f=(c*(e-o)-h*(t-r))/f)*l,e+f*u]}(P,A,z,B,j,F,L,D))){var G=P-R[0],q=A-R[1],H=j-R[0],W=F-R[1],U=1/tb(((c=(G*H+q*W)/(eb(G*G+q*q)*eb(H*H+W*W)))>1?0:c<-1?ib:Math.acos(c))/2),Y=eb(R[0]*R[0]+R[1]*R[1]);O=Q_(I,(h-Y)/(U-1)),T=Q_(I,(f-Y)/(U+1))}}C>nb?T>nb?(v=fb(z,B,P,A,f,T,m),y=fb(j,F,L,D,f,T,m),a.moveTo(v.cx+v.x01,v.cy+v.y01),T<I?a.arc(v.cx,v.cy,T,$_(v.y01,v.x01),$_(y.y01,y.x01),!m):(a.arc(v.cx,v.cy,T,$_(v.y01,v.x01),$_(v.y11,v.x11),!m),a.arc(0,0,f,$_(v.cy+v.y11,v.cx+v.x11),$_(y.cy+y.y11,y.cx+y.x11),!m),a.arc(y.cx,y.cy,T,$_(y.y11,y.x11),$_(y.y01,y.x01),!m))):(a.moveTo(P,A),a.arc(0,0,f,_,b,!m)):a.moveTo(P,A),h>nb&&E>nb?O>nb?(v=fb(L,D,j,F,h,-O,m),y=fb(P,A,z,B,h,-O,m),a.lineTo(v.cx+v.x01,v.cy+v.y01),O<I?a.arc(v.cx,v.cy,O,$_(v.y01,v.x01),$_(y.y01,y.x01),!m):(a.arc(v.cx,v.cy,O,$_(v.y01,v.x01),$_(v.y11,v.x11),!m),a.arc(0,0,h,$_(v.cy+v.y11,v.cx+v.x11),$_(y.cy+y.y11,y.cx+y.x11),m),a.arc(y.cx,y.cy,O,$_(y.y11,y.x11),$_(y.y01,y.x01),!m))):a.arc(0,0,h,w,x,m):a.lineTo(L,D)}else a.moveTo(0,0);if(a.closePath(),l)return a=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-ib/2;return[Z_(i)*n,tb(i)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:X_(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:X_(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:X_(+t),l):n},l.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:X_(+t),l):i},l.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:X_(+t),l):r},l.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:X_(+t),l):o},l.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:X_(+t),l):s},l.context=function(t){return arguments.length?(a=null==t?null:t,l):a},l};function db(t){this._context=t}db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var gb=function(t){return new db(t)};function mb(t){return t[0]}function vb(t){return t[1]}var yb=function(){var t=mb,e=vb,n=X_(!0),i=null,r=gb,o=null;function s(s){var a,l,u,c=s.length,h=!1;for(null==i&&(o=r(u=Go())),a=0;a<=c;++a)!(a<c&&n(l=s[a],a,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,a,s),+e(l,a,s));if(u)return o=null,u+""||null}return s.x=function(e){return arguments.length?(t="function"==typeof e?e:X_(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:X_(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:X_(!!t),s):n},s.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),s):i},s},_b=function(){var t=mb,e=null,n=X_(0),i=vb,r=X_(!0),o=null,s=gb,a=null;function l(l){var u,c,h,f,p,d=l.length,g=!1,m=new Array(d),v=new Array(d);for(null==o&&(a=s(p=Go())),u=0;u<=d;++u){if(!(u<d&&r(f=l[u],u,l))===g)if(g=!g)c=u,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=u-1;h>=c;--h)a.point(m[h],v[h]);a.lineEnd(),a.areaEnd()}g&&(m[u]=+t(f,u,l),v[u]=+n(f,u,l),a.point(e?+e(f,u,l):m[u],i?+i(f,u,l):v[u]))}if(p)return a=null,p+""||null}function u(){return yb().defined(r).curve(s).context(o)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:X_(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:X_(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:X_(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:X_(+t),i=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:X_(+t),l):n},l.y1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:X_(+t),l):i},l.lineX0=l.lineY0=function(){return u().x(t).y(n)},l.lineY1=function(){return u().x(t).y(i)},l.lineX1=function(){return u().x(e).y(n)},l.defined=function(t){return arguments.length?(r="function"==typeof t?t:X_(!!t),l):r},l.curve=function(t){return arguments.length?(s=t,null!=o&&(a=s(o)),l):s},l.context=function(t){return arguments.length?(null==t?o=a=null:a=s(o=t),l):o},l},bb=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},xb=function(t){return t},wb=function(){var t=xb,e=bb,n=null,i=X_(0),r=X_(ob),o=X_(0);function s(s){var a,l,u,c,h,f=s.length,p=0,d=new Array(f),g=new Array(f),m=+i.apply(this,arguments),v=Math.min(ob,Math.max(-ob,r.apply(this,arguments)-m)),y=Math.min(Math.abs(v)/f,o.apply(this,arguments)),_=y*(v<0?-1:1);for(a=0;a<f;++a)(h=g[d[a]=a]=+t(s[a],a,s))>0&&(p+=h);for(null!=e?d.sort(function(t,n){return e(g[t],g[n])}):null!=n&&d.sort(function(t,e){return n(s[t],s[e])}),a=0,u=p?(v-f*_)/p:0;a<f;++a,m=c)l=d[a],c=m+((h=g[l])>0?h*u:0)+_,g[l]={data:s[l],index:a,value:h,startAngle:m,endAngle:c,padAngle:y};return g}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:X_(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:X_(+t),s):i},s.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:X_(+t),s):r},s.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:X_(+t),s):o},s},Eb=Sb(gb);function Cb(t){this._curve=t}function Sb(t){function e(e){return new Cb(t(e))}return e._curve=t,e}function Mb(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Sb(t)):e()._curve},t}Cb.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Ib=function(){return Mb(yb().curve(Eb))},Ob=function(){var t=_b().curve(Eb),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Mb(n())},delete t.lineX0,t.lineEndAngle=function(){return Mb(i())},delete t.lineX1,t.lineInnerRadius=function(){return Mb(r())},delete t.lineY0,t.lineOuterRadius=function(){return Mb(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Sb(t)):e()._curve},t},Tb=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},Nb=Array.prototype.slice;function kb(t){return t.source}function Pb(t){return t.target}function Ab(t){var e=kb,n=Pb,i=mb,r=vb,o=null;function s(){var s,a=Nb.call(arguments),l=e.apply(this,a),u=n.apply(this,a);if(o||(o=s=Go()),t(o,+i.apply(this,(a[0]=l,a)),+r.apply(this,a),+i.apply(this,(a[0]=u,a)),+r.apply(this,a)),s)return o=null,s+""||null}return s.source=function(t){return arguments.length?(e=t,s):e},s.target=function(t){return arguments.length?(n=t,s):n},s.x=function(t){return arguments.length?(i="function"==typeof t?t:X_(+t),s):i},s.y=function(t){return arguments.length?(r="function"==typeof t?t:X_(+t),s):r},s.context=function(t){return arguments.length?(o=null==t?null:t,s):o},s}function Lb(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function Db(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function Rb(t,e,n,i,r){var o=Tb(e,n),s=Tb(e,n=(n+r)/2),a=Tb(i,n),l=Tb(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}function jb(){return Ab(Lb)}function Fb(){return Ab(Db)}function zb(){var t=Ab(Rb);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var Bb={draw:function(t,e){var n=Math.sqrt(e/ib);t.moveTo(n,0),t.arc(0,0,n,0,ob)}},Gb={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},qb=Math.sqrt(1/3),Hb=2*qb,Wb={draw:function(t,e){var n=Math.sqrt(e/Hb),i=n*qb;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},Ub=Math.sin(ib/10)/Math.sin(7*ib/10),Yb=Math.sin(ob/10)*Ub,Vb=-Math.cos(ob/10)*Ub,Xb={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=Yb*n,r=Vb*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var s=ob*o/5,a=Math.cos(s),l=Math.sin(s);t.lineTo(l*n,-a*n),t.lineTo(a*i-l*r,l*i+a*r)}t.closePath()}},Kb={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},$b=Math.sqrt(3),Zb={draw:function(t,e){var n=-Math.sqrt(e/(3*$b));t.moveTo(0,2*n),t.lineTo(-$b*n,-n),t.lineTo($b*n,-n),t.closePath()}},Jb=Math.sqrt(3)/2,Qb=1/Math.sqrt(12),tx=3*(Qb/2+1),ex={draw:function(t,e){var n=Math.sqrt(e/tx),i=n/2,r=n*Qb,o=i,s=n*Qb+n,a=-o,l=s;t.moveTo(i,r),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(-.5*i-Jb*r,Jb*i+-.5*r),t.lineTo(-.5*o-Jb*s,Jb*o+-.5*s),t.lineTo(-.5*a-Jb*l,Jb*a+-.5*l),t.lineTo(-.5*i+Jb*r,-.5*r-Jb*i),t.lineTo(-.5*o+Jb*s,-.5*s-Jb*o),t.lineTo(-.5*a+Jb*l,-.5*l-Jb*a),t.closePath()}},nx=[Bb,Gb,Wb,Kb,Xb,Zb,ex],ix=function(){var t=X_(Bb),e=X_(64),n=null;function i(){var i;if(n||(n=i=Go()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return i.type=function(e){return arguments.length?(t="function"==typeof e?e:X_(e),i):t},i.size=function(t){return arguments.length?(e="function"==typeof t?t:X_(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i},rx=function(){};function ox(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function sx(t){this._context=t}sx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ox(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ox(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var ax=function(t){return new sx(t)};function lx(t){this._context=t}lx.prototype={areaStart:rx,areaEnd:rx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ox(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var ux=function(t){return new lx(t)};function cx(t){this._context=t}cx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:ox(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var hx=function(t){return new cx(t)};function fx(t,e){this._basis=new sx(t),this._beta=e}fx.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],s=t[n]-r,a=e[n]-o,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(r+i*s),this._beta*e[l]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var px=function t(e){function n(t){return 1===e?new sx(t):new fx(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function dx(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function gx(t,e){this._context=t,this._k=(1-e)/6}gx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:dx(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:dx(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var mx=function t(e){function n(t){return new gx(t,e)}return n.tension=function(e){return t(+e)},n}(0);function vx(t,e){this._context=t,this._k=(1-e)/6}vx.prototype={areaStart:rx,areaEnd:rx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:dx(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var yx=function t(e){function n(t){return new vx(t,e)}return n.tension=function(e){return t(+e)},n}(0);function _x(t,e){this._context=t,this._k=(1-e)/6}_x.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dx(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var bx=function t(e){function n(t){return new _x(t,e)}return n.tension=function(e){return t(+e)},n}(0);function xx(t,e,n){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>nb){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>nb){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/c,s=(s*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function wx(t,e){this._context=t,this._alpha=e}wx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:xx(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ex=function t(e){function n(t){return e?new wx(t,e):new gx(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Cx(t,e){this._context=t,this._alpha=e}Cx.prototype={areaStart:rx,areaEnd:rx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:xx(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Sx=function t(e){function n(t){return e?new Cx(t,e):new vx(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Mx(t,e){this._context=t,this._alpha=e}Mx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xx(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ix=function t(e){function n(t){return e?new Mx(t,e):new _x(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Ox(t){this._context=t}Ox.prototype={areaStart:rx,areaEnd:rx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var Tx=function(t){return new Ox(t)};function Nx(t){return t<0?-1:1}function kx(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(Nx(o)+Nx(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Px(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Ax(t,e,n){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,s-a*n,o,s)}function Lx(t){this._context=t}function Dx(t){this._context=new Rx(t)}function Rx(t){this._context=t}function jx(t){return new Lx(t)}function Fx(t){return new Dx(t)}function zx(t){this._context=t}function Bx(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(r[i-1]=s[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}Lx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ax(this,this._t0,Px(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ax(this,Px(this,n=kx(this,t,e)),n);break;default:Ax(this,this._t0,n=kx(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Dx.prototype=Object.create(Lx.prototype)).point=function(t,e){Lx.prototype.point.call(this,e,t)},Rx.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},zx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Bx(t),r=Bx(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Gx=function(t){return new zx(t)};function qx(t,e){this._context=t,this._t=e}qx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Hx=function(t){return new qx(t,.5)};function Wx(t){return new qx(t,0)}function Ux(t){return new qx(t,1)}var Yx=function(t,e){if((r=t.length)>1)for(var n,i,r,o=1,s=t[e[0]],a=s.length;o<r;++o)for(i=s,s=t[e[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},Vx=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function Xx(t,e){return t[e]}var Kx=function(){var t=X_([]),e=Vx,n=Yx,i=Xx;function r(r){var o,s,a=t.apply(this,arguments),l=r.length,u=a.length,c=new Array(u);for(o=0;o<u;++o){for(var h,f=a[o],p=c[o]=new Array(l),d=0;d<l;++d)p[d]=h=[0,+i(r[d],f,d,r)],h.data=r[d];p.key=f}for(o=0,s=e(c);o<u;++o)c[s[o]].index=o;return n(c,s),c}return r.keys=function(e){return arguments.length?(t="function"==typeof e?e:X_(Nb.call(e)),r):t},r.value=function(t){return arguments.length?(i="function"==typeof t?t:X_(+t),r):i},r.order=function(t){return arguments.length?(e=null==t?Vx:"function"==typeof t?t:X_(Nb.call(t)),r):e},r.offset=function(t){return arguments.length?(n=null==t?Yx:t,r):n},r},$x=function(t,e){if((i=t.length)>0){for(var n,i,r,o=0,s=t[0].length;o<s;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}Yx(t,e)}},Zx=function(t,e){if((a=t.length)>0)for(var n,i,r,o,s,a,l=0,u=t[e[0]].length;l<u;++l)for(o=s=0,n=0;n<a;++n)(r=(i=t[e[n]][l])[1]-i[0])>=0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=s,i[0]=s+=r):i[0]=o},Jx=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<n;++s)a+=t[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}Yx(t,e)}},Qx=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,s=1;s<i;++s){for(var a=0,l=0,u=0;a<r;++a){for(var c=t[e[a]],h=c[s][1]||0,f=(h-(c[s-1][1]||0))/2,p=0;p<a;++p){var d=t[e[p]];f+=(d[s][1]||0)-(d[s-1][1]||0)}l+=h,u+=f*h}n[s-1][1]+=n[s-1][0]=o,l&&(o-=u/l)}n[s-1][1]+=n[s-1][0]=o,Yx(t,e)}},tw=function(t){var e=t.map(ew);return Vx(t).sort(function(t,n){return e[t]-e[n]})};function ew(t){for(var e,n=-1,i=0,r=t.length,o=-1/0;++n<r;)(e=+t[n][1])>o&&(o=e,i=n);return i}var nw=function(t){var e=t.map(iw);return Vx(t).sort(function(t,n){return e[t]-e[n]})};function iw(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}var rw=function(t){return nw(t).reverse()},ow=function(t){var e,n,i=t.length,r=t.map(iw),o=tw(t),s=0,a=0,l=[],u=[];for(e=0;e<i;++e)n=o[e],s<a?(s+=r[n],l.push(n)):(a+=r[n],u.push(n));return u.reverse().concat(l)},sw=function(t){return Vx(t).reverse()},aw=function(t){return function(){return t}};function lw(t){return t[0]}function uw(t){return t[1]}function cw(){this._=null}function hw(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function fw(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function pw(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function dw(t){for(;t.L;)t=t.L;return t}cw.prototype={constructor:cw,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=dw(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(fw(this,n),n=(t=n).U),n.C=!1,i.C=!0,pw(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(pw(this,n),n=(t=n).U),n.C=!1,i.C=!0,fw(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?dw(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,fw(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,pw(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,fw(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,pw(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,fw(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,pw(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var gw=cw;function mw(t,e,n,i){var r=[null,null],o=Bw.push(r)-1;return r.left=t,r.right=e,n&&yw(r,t,e,n),i&&yw(r,e,t,i),Fw[t.index].halfedges.push(o),Fw[e.index].halfedges.push(o),r}function vw(t,e,n){var i=[e,n];return i.left=t,i}function yw(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function _w(t,e,n,i,r){var o,s=t[0],a=t[1],l=s[0],u=s[1],c=0,h=1,f=a[0]-l,p=a[1]-u;if(o=e-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-u,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[l+c*f,u+c*p]),h<1&&(t[1]=[l+h*f,u+h*p]),!0)}}}}}function bw(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,l=t[0],u=t.left,c=t.right,h=u[0],f=u[1],p=c[0],d=c[1],g=(h+p)/2,m=(f+d)/2;if(d===f){if(g<e||g>=i)return;if(h>p){if(l){if(l[1]>=r)return}else l=[g,n];o=[g,r]}else{if(l){if(l[1]<n)return}else l=[g,r];o=[g,n]}}else if(a=m-(s=(h-p)/(d-f))*g,s<-1||s>1)if(h>p){if(l){if(l[1]>=r)return}else l=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(l){if(l[1]<n)return}else l=[(r-a)/s,r];o=[(n-a)/s,n]}else if(f<d){if(l){if(l[0]>=i)return}else l=[e,s*e+a];o=[i,s*i+a]}else{if(l){if(l[0]<e)return}else l=[i,s*i+a];o=[e,s*e+a]}return t[0]=l,t[1]=o,!0}function xw(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function ww(t,e){return e[+(e.left!==t.site)]}function Ew(t,e){return e[+(e.left===t.site)]}var Cw,Sw=[];function Mw(){hw(this),this.x=this.y=this.arc=this.site=this.cy=null}function Iw(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r[0],a=r[1],l=i[0]-s,u=i[1]-a,c=o[0]-s,h=o[1]-a,f=2*(l*h-u*c);if(!(f>=-qw)){var p=l*l+u*u,d=c*c+h*h,g=(h*p-u*d)/f,m=(l*d-c*p)/f,v=Sw.pop()||new Mw;v.arc=t,v.site=r,v.x=g+s,v.y=(v.cy=m+a)+Math.sqrt(g*g+m*m),t.circle=v;for(var y=null,_=zw._;_;)if(v.y<_.y||v.y===_.y&&v.x<=_.x){if(!_.L){y=_.P;break}_=_.L}else{if(!_.R){y=_;break}_=_.R}zw.insert(y,v),y||(Cw=v)}}}}function Ow(t){var e=t.circle;e&&(e.P||(Cw=e.N),zw.remove(e),Sw.push(e),hw(e),t.circle=null)}var Tw=[];function Nw(){hw(this),this.edge=this.site=this.circle=null}function kw(t){var e=Tw.pop()||new Nw;return e.site=t,e}function Pw(t){Ow(t),jw.remove(t),Tw.push(t),hw(t)}function Aw(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];Pw(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Gw&&Math.abs(i-l.circle.cy)<Gw;)o=l.P,a.unshift(l),Pw(l),l=o;a.unshift(l),Ow(l);for(var u=s;u.circle&&Math.abs(n-u.circle.x)<Gw&&Math.abs(i-u.circle.cy)<Gw;)s=u.N,a.push(u),Pw(u),u=s;a.push(u),Ow(u);var c,h=a.length;for(c=1;c<h;++c)u=a[c],l=a[c-1],yw(u.edge,l.site,u.site,r);l=a[0],(u=a[h-1]).edge=mw(l.site,u.site,null,r),Iw(l),Iw(u)}function Lw(t){for(var e,n,i,r,o=t[0],s=t[1],a=jw._;a;)if((i=Dw(a,s)-o)>Gw)a=a.L;else{if(!((r=o-Rw(a,s))>Gw)){i>-Gw?(e=a.P,n=a):r>-Gw?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){Fw[t.index]={site:t,halfedges:[]}}(t);var l=kw(t);if(jw.insert(e,l),e||n){if(e===n)return Ow(e),n=kw(e.site),jw.insert(l,n),l.edge=n.edge=mw(e.site,l.site),Iw(e),void Iw(n);if(n){Ow(e),Ow(n);var u=e.site,c=u[0],h=u[1],f=t[0]-c,p=t[1]-h,d=n.site,g=d[0]-c,m=d[1]-h,v=2*(f*m-p*g),y=f*f+p*p,_=g*g+m*m,b=[(m*y-p*_)/v+c,(f*_-g*y)/v+h];yw(n.edge,u,d,b),l.edge=mw(u,t,null,b),n.edge=mw(t,d,null,b),Iw(e),Iw(n)}else l.edge=mw(e.site,l.site)}}function Dw(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],l=n[1],u=l-e;if(!u)return a;var c=a-i,h=1/o-1/u,f=c/u;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+i:(i+a)/2}function Rw(t,e){var n=t.N;if(n)return Dw(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var jw,Fw,zw,Bw,Gw=1e-6,qw=1e-12;function Hw(t,e){return e[1]-t[1]||e[0]-t[0]}function Ww(t,e){var n,i,r,o=t.sort(Hw).pop();for(Bw=[],Fw=new Array(t.length),jw=new gw,zw=new gw;;)if(r=Cw,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Lw(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Aw(r.arc)}if(function(){for(var t,e,n,i,r=0,o=Fw.length;r<o;++r)if((t=Fw[r])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=xw(t,Bw[e[n]]);for(s.sort(function(t,e){return a[e]-a[t]}),n=0;n<i;++n)a[n]=e[s[n]];for(n=0;n<i;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],l=+e[1][0],u=+e[1][1];!function(t,e,n,i){for(var r,o=Bw.length;o--;)bw(r=Bw[o],t,e,n,i)&&_w(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Gw||Math.abs(r[0][1]-r[1][1])>Gw)||delete Bw[o]}(s,a,l,u),function(t,e,n,i){var r,o,s,a,l,u,c,h,f,p,d,g,m=Fw.length,v=!0;for(r=0;r<m;++r)if(o=Fw[r]){for(s=o.site,a=(l=o.halfedges).length;a--;)Bw[l[a]]||l.splice(a,1);for(a=0,u=l.length;a<u;)d=(p=Ew(o,Bw[l[a]]))[0],g=p[1],h=(c=ww(o,Bw[l[++a%u]]))[0],f=c[1],(Math.abs(d-h)>Gw||Math.abs(g-f)>Gw)&&(l.splice(a,0,Bw.push(vw(s,p,Math.abs(d-t)<Gw&&i-g>Gw?[t,Math.abs(h-t)<Gw?f:i]:Math.abs(g-i)<Gw&&n-d>Gw?[Math.abs(f-i)<Gw?h:n,i]:Math.abs(d-n)<Gw&&g-e>Gw?[n,Math.abs(h-n)<Gw?f:e]:Math.abs(g-e)<Gw&&d-t>Gw?[Math.abs(f-e)<Gw?h:t,e]:null))-1),++u);u&&(v=!1)}if(v){var y,_,b,x=1/0;for(r=0,v=null;r<m;++r)(o=Fw[r])&&(b=(y=(s=o.site)[0]-t)*y+(_=s[1]-e)*_)<x&&(x=b,v=o);if(v){var w=[t,e],E=[t,i],C=[n,i],S=[n,e];v.halfedges.push(Bw.push(vw(s=v.site,w,E))-1,Bw.push(vw(s,E,C))-1,Bw.push(vw(s,C,S))-1,Bw.push(vw(s,S,w))-1)}}for(r=0;r<m;++r)(o=Fw[r])&&(o.halfedges.length||delete Fw[r])}(s,a,l,u)}this.edges=Bw,this.cells=Fw,jw=zw=Bw=Fw=null}Ww.prototype={constructor:Ww,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return ww(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,i){if(o=(r=n.halfedges).length)for(var r,o,s,a,l,u,c=n.site,h=-1,f=e[r[o-1]],p=f.left===c?f.right:f.left;++h<o;)s=p,p=(f=e[r[h]]).left===c?f.right:f.left,s&&p&&i<s.index&&i<p.index&&(l=s,u=p,((a=c)[0]-u[0])*(l[1]-a[1])-(a[0]-l[0])*(u[1]-a[1])<0)&&t.push([c.data,s.data,p.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var i,r,o=this,s=o._found||0,a=o.cells.length;!(r=o.cells[s]);)if(++s>=a)return null;var l=t-r.site[0],u=e-r.site[1],c=l*l+u*u;do{r=o.cells[i=s],s=null,r.halfedges.forEach(function(n){var i=o.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var l=t-a[0],u=e-a[1],h=l*l+u*u;h<c&&(c=h,s=a.index)}})}while(null!==s);return o._found=i,null==n||c<=n*n?r.site:null}};var Uw=function(){var t=lw,e=uw,n=null;function i(i){return new Ww(i.map(function(n,r){var o=[Math.round(t(n,r,i)/Gw)*Gw,Math.round(e(n,r,i)/Gw)*Gw];return o.index=r,o.data=n,o}),n)}return i.polygons=function(t){return i(t).polygons()},i.links=function(t){return i(t).links()},i.triangles=function(t){return i(t).triangles()},i.x=function(e){return arguments.length?(t="function"==typeof e?e:aw(+e),i):t},i.y=function(t){return arguments.length?(e="function"==typeof t?t:aw(+t),i):e},i.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],i):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},i.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],i):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},i},Yw=function(t){return function(){return t}};function Vw(t,e,n){this.target=t,this.type=e,this.transform=n}function Xw(t,e,n){this.k=t,this.x=e,this.y=n}Xw.prototype={constructor:Xw,scale:function(t){return 1===t?this:new Xw(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Xw(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Kw=new Xw(1,0,0);function $w(t){return t.__zoom||Kw}function Zw(){Wt.stopImmediatePropagation()}$w.prototype=Xw.prototype;var Jw=function(){Wt.preventDefault(),Wt.stopImmediatePropagation()};function Qw(){return!Wt.button}function tE(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function eE(){return this.__zoom||Kw}function nE(){return-Wt.deltaY*(Wt.deltaMode?120:1)/500}function iE(){return"ontouchstart"in this}function rE(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}var oE=function(){var t,e,n=Qw,i=tE,r=rE,o=nE,s=iE,a=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,c=si,h=[],f=ft("start","zoom","end"),p=500,d=150,g=0;function m(t){t.property("__zoom",eE).on("wheel.zoom",E).on("mousedown.zoom",C).on("dblclick.zoom",S).filter(s).on("touchstart.zoom",M).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(a[0],Math.min(a[1],e)))===t.k?t:new Xw(e,t.x,t.y)}function y(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new Xw(t.k,i,r)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,e,n){t.on("start.zoom",function(){x(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){x(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=x(this,t),o=i.apply(this,t),s=n||_(o),a=Math.max(o[1][0]-o[0][0],o[1][1]-o[0][1]),l=this.__zoom,u="function"==typeof e?e.apply(this,t):e,h=c(l.invert(s).concat(a/l.k),u.invert(s).concat(a/u.k));return function(t){if(1===t)t=u;else{var e=h(t),n=a/e[2];t=new Xw(n,s[0]-e[0]*n,s[1]-e[1]*n)}r.zoom(null,t)}})}function x(t,e){for(var n,i=0,r=h.length;i<r;++i)if((n=h[i]).that===t)return n;return new w(t,e)}function w(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=i.apply(t,e)}function E(){if(n.apply(this,arguments)){var t=x(this,arguments),e=this.__zoom,i=Math.max(a[0],Math.min(a[1],e.k*Math.pow(2,o.apply(this,arguments)))),s=le(this);if(t.wheel)t.mouse[0][0]===s[0]&&t.mouse[0][1]===s[1]||(t.mouse[1]=e.invert(t.mouse[0]=s)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[s,e.invert(s)],Qi(this),t.start()}Jw(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},d),t.zoom("mouse",r(y(v(e,i),t.mouse[0],t.mouse[1]),t.extent,l))}}function C(){if(!e&&n.apply(this,arguments)){var t=x(this,arguments),i=ee(Wt.view).on("mousemove.zoom",function(){if(Jw(),!t.moved){var e=Wt.clientX-s,n=Wt.clientY-a;t.moved=e*e+n*n>g}t.zoom("mouse",r(y(t.that.__zoom,t.mouse[0]=le(t.that),t.mouse[1]),t.extent,l))},!0).on("mouseup.zoom",function(){i.on("mousemove.zoom mouseup.zoom",null),ge(Wt.view,t.moved),Jw(),t.end()},!0),o=le(this),s=Wt.clientX,a=Wt.clientY;de(Wt.view),Zw(),t.mouse=[o,this.__zoom.invert(o)],Qi(this),t.start()}}function S(){if(n.apply(this,arguments)){var t=this.__zoom,e=le(this),o=t.invert(e),s=t.k*(Wt.shiftKey?.5:2),a=r(y(v(t,s),e,o),i.apply(this,arguments),l);Jw(),u>0?ee(this).transition().duration(u).call(b,a,e):ee(this).call(m.transform,a)}}function M(){if(n.apply(this,arguments)){var e,i,r,o,s=x(this,arguments),a=Wt.changedTouches,l=a.length;for(Zw(),i=0;i<l;++i)r=a[i],o=[o=ce(this,a,r.identifier),this.__zoom.invert(o),r.identifier],s.touch0?s.touch1||(s.touch1=o):(s.touch0=o,e=!0);if(t&&(t=clearTimeout(t),!s.touch1))return s.end(),void((o=ee(this).on("dblclick.zoom"))&&o.apply(this,arguments));e&&(t=setTimeout(function(){t=null},p),Qi(this),s.start())}}function I(){var e,n,i,o,s=x(this,arguments),a=Wt.changedTouches,u=a.length;for(Jw(),t&&(t=clearTimeout(t)),e=0;e<u;++e)n=a[e],i=ce(this,a,n.identifier),s.touch0&&s.touch0[2]===n.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===n.identifier&&(s.touch1[0]=i);if(n=s.that.__zoom,s.touch1){var c=s.touch0[0],h=s.touch0[1],f=s.touch1[0],p=s.touch1[1],d=(d=f[0]-c[0])*d+(d=f[1]-c[1])*d,g=(g=p[0]-h[0])*g+(g=p[1]-h[1])*g;n=v(n,Math.sqrt(d/g)),i=[(c[0]+f[0])/2,(c[1]+f[1])/2],o=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],o=s.touch0[1]}s.zoom("touch",r(y(n,i,o),s.extent,l))}function O(){var t,n,i=x(this,arguments),r=Wt.changedTouches,o=r.length;for(Zw(),e&&clearTimeout(e),e=setTimeout(function(){e=null},p),t=0;t<o;++t)n=r[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):i.end()}return m.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",eE),t!==n?b(t,e):n.interrupt().each(function(){x(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},m.scaleBy=function(t,e){m.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},m.scaleTo=function(t,e){m.transform(t,function(){var t=i.apply(this,arguments),n=this.__zoom,o=_(t),s=n.invert(o),a="function"==typeof e?e.apply(this,arguments):e;return r(y(v(n,a),o,s),t,l)})},m.translateBy=function(t,e,n){m.transform(t,function(){return r(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)})},m.translateTo=function(t,e,n){m.transform(t,function(){var t=i.apply(this,arguments),o=this.__zoom,s=_(t);return r(Kw.translate(s[0],s[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)})},w.prototype={start:function(){return 1==++this.active&&(this.index=h.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(h.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Kt(new Vw(m,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:Yw(+t),m):o},m.filter=function(t){return arguments.length?(n="function"==typeof t?t:Yw(!!t),m):n},m.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Yw(!!t),m):s},m.extent=function(t){return arguments.length?(i="function"==typeof t?t:Yw([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):i},m.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],m):[a[0],a[1]]},m.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(t){return arguments.length?(r=t,m):r},m.duration=function(t){return arguments.length?(u=+t,m):u},m.interpolate=function(t){return arguments.length?(c=t,m):c},m.on=function(){var t=f.on.apply(f,arguments);return t===f?m:t},m.clickDistance=function(t){return arguments.length?(g=(t=+t)*t,m):Math.sqrt(g)},m};n.d(e,"version",function(){return"5.9.2"}),n.d(e,"bisect",function(){return l}),n.d(e,"bisectRight",function(){return s}),n.d(e,"bisectLeft",function(){return a}),n.d(e,"ascending",function(){return i}),n.d(e,"bisector",function(){return r}),n.d(e,"cross",function(){return h}),n.d(e,"descending",function(){return f}),n.d(e,"deviation",function(){return g}),n.d(e,"extent",function(){return m}),n.d(e,"histogram",function(){return N}),n.d(e,"thresholdFreedmanDiaconis",function(){return P}),n.d(e,"thresholdScott",function(){return A}),n.d(e,"thresholdSturges",function(){return T}),n.d(e,"max",function(){return L}),n.d(e,"mean",function(){return D}),n.d(e,"median",function(){return R}),n.d(e,"merge",function(){return j}),n.d(e,"min",function(){return F}),n.d(e,"pairs",function(){return u}),n.d(e,"permute",function(){return z}),n.d(e,"quantile",function(){return k}),n.d(e,"range",function(){return w}),n.d(e,"scan",function(){return B}),n.d(e,"shuffle",function(){return G}),n.d(e,"sum",function(){return q}),n.d(e,"ticks",function(){return M}),n.d(e,"tickIncrement",function(){return I}),n.d(e,"tickStep",function(){return O}),n.d(e,"transpose",function(){return H}),n.d(e,"variance",function(){return d}),n.d(e,"zip",function(){return U}),n.d(e,"axisTop",function(){return it}),n.d(e,"axisRight",function(){return rt}),n.d(e,"axisBottom",function(){return ot}),n.d(e,"axisLeft",function(){return st}),n.d(e,"brush",function(){return So}),n.d(e,"brushX",function(){return Eo}),n.d(e,"brushY",function(){return Co}),n.d(e,"brushSelection",function(){return wo}),n.d(e,"chord",function(){return Ao}),n.d(e,"ribbon",function(){return Vo}),n.d(e,"nest",function(){return Zo}),n.d(e,"set",function(){return os}),n.d(e,"map",function(){return $o}),n.d(e,"keys",function(){return ss}),n.d(e,"values",function(){return as}),n.d(e,"entries",function(){return ls}),n.d(e,"color",function(){return Fe}),n.d(e,"rgb",function(){return qe}),n.d(e,"hsl",function(){return Ye}),n.d(e,"lab",function(){return an}),n.d(e,"hcl",function(){return gn}),n.d(e,"lch",function(){return dn}),n.d(e,"gray",function(){return sn}),n.d(e,"cubehelix",function(){return En}),n.d(e,"contours",function(){return ys}),n.d(e,"contourDensity",function(){return Cs}),n.d(e,"dispatch",function(){return ft}),n.d(e,"drag",function(){return we}),n.d(e,"dragDisable",function(){return de}),n.d(e,"dragEnable",function(){return ge}),n.d(e,"dsvFormat",function(){return Ls}),n.d(e,"csvParse",function(){return Rs}),n.d(e,"csvParseRows",function(){return js}),n.d(e,"csvFormat",function(){return Fs}),n.d(e,"csvFormatBody",function(){return zs}),n.d(e,"csvFormatRows",function(){return Bs}),n.d(e,"tsvParse",function(){return qs}),n.d(e,"tsvParseRows",function(){return Hs}),n.d(e,"tsvFormat",function(){return Ws}),n.d(e,"tsvFormatBody",function(){return Us}),n.d(e,"tsvFormatRows",function(){return Ys}),n.d(e,"autoType",function(){return Vs}),n.d(e,"easeLinear",function(){return ur}),n.d(e,"easeQuad",function(){return fr}),n.d(e,"easeQuadIn",function(){return cr}),n.d(e,"easeQuadOut",function(){return hr}),n.d(e,"easeQuadInOut",function(){return fr}),n.d(e,"easeCubic",function(){return gr}),n.d(e,"easeCubicIn",function(){return pr}),n.d(e,"easeCubicOut",function(){return dr}),n.d(e,"easeCubicInOut",function(){return gr}),n.d(e,"easePoly",function(){return yr}),n.d(e,"easePolyIn",function(){return mr}),n.d(e,"easePolyOut",function(){return vr}),n.d(e,"easePolyInOut",function(){return yr}),n.d(e,"easeSin",function(){return Er}),n.d(e,"easeSinIn",function(){return xr}),n.d(e,"easeSinOut",function(){return wr}),n.d(e,"easeSinInOut",function(){return Er}),n.d(e,"easeExp",function(){return Mr}),n.d(e,"easeExpIn",function(){return Cr}),n.d(e,"easeExpOut",function(){return Sr}),n.d(e,"easeExpInOut",function(){return Mr}),n.d(e,"easeCircle",function(){return Tr}),n.d(e,"easeCircleIn",function(){return Ir}),n.d(e,"easeCircleOut",function(){return Or}),n.d(e,"easeCircleInOut",function(){return Tr}),n.d(e,"easeBounce",function(){return Gr}),n.d(e,"easeBounceIn",function(){return Br}),n.d(e,"easeBounceOut",function(){return Gr}),n.d(e,"easeBounceInOut",function(){return qr}),n.d(e,"easeBack",function(){return Ur}),n.d(e,"easeBackIn",function(){return Hr}),n.d(e,"easeBackOut",function(){return Wr}),n.d(e,"easeBackInOut",function(){return Ur}),n.d(e,"easeElastic",function(){return Xr}),n.d(e,"easeElasticIn",function(){return Vr}),n.d(e,"easeElasticOut",function(){return Xr}),n.d(e,"easeElasticInOut",function(){return Kr}),n.d(e,"blob",function(){return Ks}),n.d(e,"buffer",function(){return Zs}),n.d(e,"dsv",function(){return ea}),n.d(e,"csv",function(){return na}),n.d(e,"tsv",function(){return ia}),n.d(e,"image",function(){return ra}),n.d(e,"json",function(){return sa}),n.d(e,"text",function(){return Qs}),n.d(e,"xml",function(){return la}),n.d(e,"html",function(){return ua}),n.d(e,"svg",function(){return ca}),n.d(e,"forceCenter",function(){return ha}),n.d(e,"forceCollide",function(){return Ca}),n.d(e,"forceLink",function(){return Ia}),n.d(e,"forceManyBody",function(){return Aa}),n.d(e,"forceRadial",function(){return La}),n.d(e,"forceSimulation",function(){return Pa}),n.d(e,"forceX",function(){return Da}),n.d(e,"forceY",function(){return Ra}),n.d(e,"formatDefaultLocale",function(){return Ja}),n.d(e,"format",function(){return Wa}),n.d(e,"formatPrefix",function(){return Ua}),n.d(e,"formatLocale",function(){return Za}),n.d(e,"formatSpecifier",function(){return Ba}),n.d(e,"precisionFixed",function(){return Qa}),n.d(e,"precisionPrefix",function(){return tl}),n.d(e,"precisionRound",function(){return el}),n.d(e,"geoArea",function(){return Vl}),n.d(e,"geoBounds",function(){return zu}),n.d(e,"geoCentroid",function(){return Zu}),n.d(e,"geoCircle",function(){return lc}),n.d(e,"geoClipAntimeridian",function(){return _c}),n.d(e,"geoClipCircle",function(){return bc}),n.d(e,"geoClipExtent",function(){return Oc}),n.d(e,"geoClipRectangle",function(){return Cc}),n.d(e,"geoContains",function(){return Yc}),n.d(e,"geoDistance",function(){return jc}),n.d(e,"geoGraticule",function(){return Kc}),n.d(e,"geoGraticule10",function(){return $c}),n.d(e,"geoInterpolate",function(){return eh}),n.d(e,"geoLength",function(){return Lc}),n.d(e,"geoPath",function(){return Qh}),n.d(e,"geoAlbers",function(){return _f}),n.d(e,"geoAlbersUsa",function(){return bf}),n.d(e,"geoAzimuthalEqualArea",function(){return Cf}),n.d(e,"geoAzimuthalEqualAreaRaw",function(){return Ef}),n.d(e,"geoAzimuthalEquidistant",function(){return Mf}),n.d(e,"geoAzimuthalEquidistantRaw",function(){return Sf}),n.d(e,"geoConicConformal",function(){return Pf}),n.d(e,"geoConicConformalRaw",function(){return kf}),n.d(e,"geoConicEqualArea",function(){return yf}),n.d(e,"geoConicEqualAreaRaw",function(){return vf}),n.d(e,"geoConicEquidistant",function(){return Rf}),n.d(e,"geoConicEquidistantRaw",function(){return Df}),n.d(e,"geoEqualEarth",function(){return Hf}),n.d(e,"geoEqualEarthRaw",function(){return qf}),n.d(e,"geoEquirectangular",function(){return Lf}),n.d(e,"geoEquirectangularRaw",function(){return Af}),n.d(e,"geoGnomonic",function(){return Uf}),n.d(e,"geoGnomonicRaw",function(){return Wf}),n.d(e,"geoIdentity",function(){return Vf}),n.d(e,"geoProjection",function(){return df}),n.d(e,"geoProjectionMutator",function(){return gf}),n.d(e,"geoMercator",function(){return Of}),n.d(e,"geoMercatorRaw",function(){return If}),n.d(e,"geoNaturalEarth1",function(){return Kf}),n.d(e,"geoNaturalEarth1Raw",function(){return Xf}),n.d(e,"geoOrthographic",function(){return Zf}),n.d(e,"geoOrthographicRaw",function(){return $f}),n.d(e,"geoStereographic",function(){return Qf}),n.d(e,"geoStereographicRaw",function(){return Jf}),n.d(e,"geoTransverseMercator",function(){return ep}),n.d(e,"geoTransverseMercatorRaw",function(){return tp}),n.d(e,"geoRotation",function(){return oc}),n.d(e,"geoStream",function(){return zl}),n.d(e,"geoTransform",function(){return tf}),n.d(e,"cluster",function(){return op}),n.d(e,"hierarchy",function(){return ap}),n.d(e,"pack",function(){return kp}),n.d(e,"packSiblings",function(){return Mp}),n.d(e,"packEnclose",function(){return pp}),n.d(e,"partition",function(){return jp}),n.d(e,"stratify",function(){return Hp}),n.d(e,"tree",function(){return $p}),n.d(e,"treemap",function(){return ed}),n.d(e,"treemapBinary",function(){return nd}),n.d(e,"treemapDice",function(){return Rp}),n.d(e,"treemapSlice",function(){return Zp}),n.d(e,"treemapSliceDice",function(){return id}),n.d(e,"treemapSquarify",function(){return td}),n.d(e,"treemapResquarify",function(){return rd}),n.d(e,"interpolate",function(){return Xn}),n.d(e,"interpolateArray",function(){return jn}),n.d(e,"interpolateBasis",function(){return Mn}),n.d(e,"interpolateBasisClosed",function(){return In}),n.d(e,"interpolateDate",function(){return Fn}),n.d(e,"interpolateDiscrete",function(){return Kn}),n.d(e,"interpolateHue",function(){return $n}),n.d(e,"interpolateNumber",function(){return zn}),n.d(e,"interpolateObject",function(){return Bn}),n.d(e,"interpolateRound",function(){return Zn}),n.d(e,"interpolateString",function(){return Vn}),n.d(e,"interpolateTransformCss",function(){return ni}),n.d(e,"interpolateTransformSvg",function(){return ii}),n.d(e,"interpolateZoom",function(){return si}),n.d(e,"interpolateRgb",function(){return An}),n.d(e,"interpolateRgbBasis",function(){return Dn}),n.d(e,"interpolateRgbBasisClosed",function(){return Rn}),n.d(e,"interpolateHsl",function(){return li}),n.d(e,"interpolateHslLong",function(){return ui}),n.d(e,"interpolateLab",function(){return ci}),n.d(e,"interpolateHcl",function(){return fi}),n.d(e,"interpolateHclLong",function(){return pi}),n.d(e,"interpolateCubehelix",function(){return gi}),n.d(e,"interpolateCubehelixLong",function(){return mi}),n.d(e,"piecewise",function(){return vi}),n.d(e,"quantize",function(){return bi}),n.d(e,"path",function(){return Go}),n.d(e,"polygonArea",function(){return od}),n.d(e,"polygonCentroid",function(){return sd}),n.d(e,"polygonHull",function(){return cd}),n.d(e,"polygonContains",function(){return hd}),n.d(e,"polygonLength",function(){return fd}),n.d(e,"quadtree",function(){return ya}),n.d(e,"randomUniform",function(){return dd}),n.d(e,"randomNormal",function(){return gd}),n.d(e,"randomLogNormal",function(){return md}),n.d(e,"randomBates",function(){return yd}),n.d(e,"randomIrwinHall",function(){return vd}),n.d(e,"randomExponential",function(){return _d}),n.d(e,"scaleBand",function(){return Id}),n.d(e,"scalePoint",function(){return Od}),n.d(e,"scaleIdentity",function(){return Hd}),n.d(e,"scaleLinear",function(){return qd}),n.d(e,"scaleLog",function(){return Jd}),n.d(e,"scaleSymlog",function(){return ng}),n.d(e,"scaleOrdinal",function(){return Md}),n.d(e,"scaleImplicit",function(){return Sd}),n.d(e,"scalePow",function(){return ag}),n.d(e,"scaleSqrt",function(){return lg}),n.d(e,"scaleQuantile",function(){return ug}),n.d(e,"scaleQuantize",function(){return cg}),n.d(e,"scaleThreshold",function(){return hg}),n.d(e,"scaleTime",function(){return ay}),n.d(e,"scaleUtc",function(){return ly}),n.d(e,"scaleSequential",function(){return hy}),n.d(e,"scaleSequentialLog",function(){return fy}),n.d(e,"scaleSequentialPow",function(){return dy}),n.d(e,"scaleSequentialSqrt",function(){return gy}),n.d(e,"scaleSequentialSymlog",function(){return py}),n.d(e,"scaleSequentialQuantile",function(){return my}),n.d(e,"scaleDiverging",function(){return yy}),n.d(e,"scaleDivergingLog",function(){return _y}),n.d(e,"scaleDivergingPow",function(){return xy}),n.d(e,"scaleDivergingSqrt",function(){return wy}),n.d(e,"scaleDivergingSymlog",function(){return by}),n.d(e,"tickFormat",function(){return Bd}),n.d(e,"schemeCategory10",function(){return Cy}),n.d(e,"schemeAccent",function(){return Sy}),n.d(e,"schemeDark2",function(){return My}),n.d(e,"schemePaired",function(){return Iy}),n.d(e,"schemePastel1",function(){return Oy}),n.d(e,"schemePastel2",function(){return Ty}),n.d(e,"schemeSet1",function(){return Ny}),n.d(e,"schemeSet2",function(){return ky}),n.d(e,"schemeSet3",function(){return Py}),n.d(e,"interpolateBrBG",function(){return Dy}),n.d(e,"schemeBrBG",function(){return Ly}),n.d(e,"interpolatePRGn",function(){return jy}),n.d(e,"schemePRGn",function(){return Ry}),n.d(e,"interpolatePiYG",function(){return zy}),n.d(e,"schemePiYG",function(){return Fy}),n.d(e,"interpolatePuOr",function(){return Gy}),n.d(e,"schemePuOr",function(){return By}),n.d(e,"interpolateRdBu",function(){return Hy}),n.d(e,"schemeRdBu",function(){return qy}),n.d(e,"interpolateRdGy",function(){return Uy}),n.d(e,"schemeRdGy",function(){return Wy}),n.d(e,"interpolateRdYlBu",function(){return Vy}),n.d(e,"schemeRdYlBu",function(){return Yy}),n.d(e,"interpolateRdYlGn",function(){return Ky}),n.d(e,"schemeRdYlGn",function(){return Xy}),n.d(e,"interpolateSpectral",function(){return Zy}),n.d(e,"schemeSpectral",function(){return $y}),n.d(e,"interpolateBuGn",function(){return Qy}),n.d(e,"schemeBuGn",function(){return Jy}),n.d(e,"interpolateBuPu",function(){return e_}),n.d(e,"schemeBuPu",function(){return t_}),n.d(e,"interpolateGnBu",function(){return i_}),n.d(e,"schemeGnBu",function(){return n_}),n.d(e,"interpolateOrRd",function(){return o_}),n.d(e,"schemeOrRd",function(){return r_}),n.d(e,"interpolatePuBuGn",function(){return a_}),n.d(e,"schemePuBuGn",function(){return s_}),n.d(e,"interpolatePuBu",function(){return u_}),n.d(e,"schemePuBu",function(){return l_}),n.d(e,"interpolatePuRd",function(){return h_}),n.d(e,"schemePuRd",function(){return c_}),n.d(e,"interpolateRdPu",function(){return p_}),n.d(e,"schemeRdPu",function(){return f_}),n.d(e,"interpolateYlGnBu",function(){return g_}),n.d(e,"schemeYlGnBu",function(){return d_}),n.d(e,"interpolateYlGn",function(){return v_}),n.d(e,"schemeYlGn",function(){return m_}),n.d(e,"interpolateYlOrBr",function(){return __}),n.d(e,"schemeYlOrBr",function(){return y_}),n.d(e,"interpolateYlOrRd",function(){return x_}),n.d(e,"schemeYlOrRd",function(){return b_}),n.d(e,"interpolateBlues",function(){return E_}),n.d(e,"schemeBlues",function(){return w_}),n.d(e,"interpolateGreens",function(){return S_}),n.d(e,"schemeGreens",function(){return C_}),n.d(e,"interpolateGreys",function(){return I_}),n.d(e,"schemeGreys",function(){return M_}),n.d(e,"interpolatePurples",function(){return T_}),n.d(e,"schemePurples",function(){return O_}),n.d(e,"interpolateReds",function(){return k_}),n.d(e,"schemeReds",function(){return N_}),n.d(e,"interpolateOranges",function(){return A_}),n.d(e,"schemeOranges",function(){return P_}),n.d(e,"interpolateCubehelixDefault",function(){return L_}),n.d(e,"interpolateRainbow",function(){return F_}),n.d(e,"interpolateWarm",function(){return D_}),n.d(e,"interpolateCool",function(){return R_}),n.d(e,"interpolateSinebow",function(){return q_}),n.d(e,"interpolateViridis",function(){return W_}),n.d(e,"interpolateMagma",function(){return U_}),n.d(e,"interpolateInferno",function(){return Y_}),n.d(e,"interpolatePlasma",function(){return V_}),n.d(e,"create",function(){return ne}),n.d(e,"creator",function(){return mt}),n.d(e,"local",function(){return re}),n.d(e,"matcher",function(){return xt}),n.d(e,"mouse",function(){return le}),n.d(e,"namespace",function(){return gt}),n.d(e,"namespaces",function(){return dt}),n.d(e,"clientPoint",function(){return ae}),n.d(e,"select",function(){return ee}),n.d(e,"selectAll",function(){return ue}),n.d(e,"selection",function(){return te}),n.d(e,"selector",function(){return yt}),n.d(e,"selectorAll",function(){return bt}),n.d(e,"style",function(){return Tt}),n.d(e,"touch",function(){return ce}),n.d(e,"touches",function(){return he}),n.d(e,"window",function(){return Ot}),n.d(e,"event",function(){return Wt}),n.d(e,"customEvent",function(){return Kt}),n.d(e,"arc",function(){return pb}),n.d(e,"area",function(){return _b}),n.d(e,"line",function(){return yb}),n.d(e,"pie",function(){return wb}),n.d(e,"areaRadial",function(){return Ob}),n.d(e,"radialArea",function(){return Ob}),n.d(e,"lineRadial",function(){return Ib}),n.d(e,"radialLine",function(){return Ib}),n.d(e,"pointRadial",function(){return Tb}),n.d(e,"linkHorizontal",function(){return jb}),n.d(e,"linkVertical",function(){return Fb}),n.d(e,"linkRadial",function(){return zb}),n.d(e,"symbol",function(){return ix}),n.d(e,"symbols",function(){return nx}),n.d(e,"symbolCircle",function(){return Bb}),n.d(e,"symbolCross",function(){return Gb}),n.d(e,"symbolDiamond",function(){return Wb}),n.d(e,"symbolSquare",function(){return Kb}),n.d(e,"symbolStar",function(){return Xb}),n.d(e,"symbolTriangle",function(){return Zb}),n.d(e,"symbolWye",function(){return ex}),n.d(e,"curveBasisClosed",function(){return ux}),n.d(e,"curveBasisOpen",function(){return hx}),n.d(e,"curveBasis",function(){return ax}),n.d(e,"curveBundle",function(){return px}),n.d(e,"curveCardinalClosed",function(){return yx}),n.d(e,"curveCardinalOpen",function(){return bx}),n.d(e,"curveCardinal",function(){return mx}),n.d(e,"curveCatmullRomClosed",function(){return Sx}),n.d(e,"curveCatmullRomOpen",function(){return Ix}),n.d(e,"curveCatmullRom",function(){return Ex}),n.d(e,"curveLinearClosed",function(){return Tx}),n.d(e,"curveLinear",function(){return gb}),n.d(e,"curveMonotoneX",function(){return jx}),n.d(e,"curveMonotoneY",function(){return Fx}),n.d(e,"curveNatural",function(){return Gx}),n.d(e,"curveStep",function(){return Hx}),n.d(e,"curveStepAfter",function(){return Ux}),n.d(e,"curveStepBefore",function(){return Wx}),n.d(e,"stack",function(){return Kx}),n.d(e,"stackOffsetExpand",function(){return $x}),n.d(e,"stackOffsetDiverging",function(){return Zx}),n.d(e,"stackOffsetNone",function(){return Yx}),n.d(e,"stackOffsetSilhouette",function(){return Jx}),n.d(e,"stackOffsetWiggle",function(){return Qx}),n.d(e,"stackOrderAppearance",function(){return tw}),n.d(e,"stackOrderAscending",function(){return nw}),n.d(e,"stackOrderDescending",function(){return rw}),n.d(e,"stackOrderInsideOut",function(){return ow}),n.d(e,"stackOrderNone",function(){return Vx}),n.d(e,"stackOrderReverse",function(){return sw}),n.d(e,"timeInterval",function(){return dg}),n.d(e,"timeMillisecond",function(){return mg}),n.d(e,"timeMilliseconds",function(){return vg}),n.d(e,"utcMillisecond",function(){return mg}),n.d(e,"utcMilliseconds",function(){return vg}),n.d(e,"timeSecond",function(){return xg}),n.d(e,"timeSeconds",function(){return wg}),n.d(e,"utcSecond",function(){return xg}),n.d(e,"utcSeconds",function(){return wg}),n.d(e,"timeMinute",function(){return Cg}),n.d(e,"timeMinutes",function(){return Sg}),n.d(e,"timeHour",function(){return Ig}),n.d(e,"timeHours",function(){return Og}),n.d(e,"timeDay",function(){return Ng}),n.d(e,"timeDays",function(){return kg}),n.d(e,"timeWeek",function(){return Ag}),n.d(e,"timeWeeks",function(){return Bg}),n.d(e,"timeSunday",function(){return Ag}),n.d(e,"timeSundays",function(){return Bg}),n.d(e,"timeMonday",function(){return Lg}),n.d(e,"timeMondays",function(){return Gg}),n.d(e,"timeTuesday",function(){return Dg}),n.d(e,"timeTuesdays",function(){return qg}),n.d(e,"timeWednesday",function(){return Rg}),n.d(e,"timeWednesdays",function(){return Hg}),n.d(e,"timeThursday",function(){return jg}),n.d(e,"timeThursdays",function(){return Wg}),n.d(e,"timeFriday",function(){return Fg}),n.d(e,"timeFridays",function(){return Ug}),n.d(e,"timeSaturday",function(){return zg}),n.d(e,"timeSaturdays",function(){return Yg}),n.d(e,"timeMonth",function(){return Xg}),n.d(e,"timeMonths",function(){return Kg}),n.d(e,"timeYear",function(){return Zg}),n.d(e,"timeYears",function(){return Jg}),n.d(e,"utcMinute",function(){return tm}),n.d(e,"utcMinutes",function(){return em}),n.d(e,"utcHour",function(){return im}),n.d(e,"utcHours",function(){return rm}),n.d(e,"utcDay",function(){return sm}),n.d(e,"utcDays",function(){return am}),n.d(e,"utcWeek",function(){return um}),n.d(e,"utcWeeks",function(){return mm}),n.d(e,"utcSunday",function(){return um}),n.d(e,"utcSundays",function(){return mm}),n.d(e,"utcMonday",function(){return cm}),n.d(e,"utcMondays",function(){return vm}),n.d(e,"utcTuesday",function(){return hm}),n.d(e,"utcTuesdays",function(){return ym}),n.d(e,"utcWednesday",function(){return fm}),n.d(e,"utcWednesdays",function(){return _m}),n.d(e,"utcThursday",function(){return pm}),n.d(e,"utcThursdays",function(){return bm}),n.d(e,"utcFriday",function(){return dm}),n.d(e,"utcFridays",function(){return xm}),n.d(e,"utcSaturday",function(){return gm}),n.d(e,"utcSaturdays",function(){return wm}),n.d(e,"utcMonth",function(){return Cm}),n.d(e,"utcMonths",function(){return Sm}),n.d(e,"utcYear",function(){return Im}),n.d(e,"utcYears",function(){return Om}),n.d(e,"timeFormatDefaultLocale",function(){return Xv}),n.d(e,"timeFormat",function(){return Lm}),n.d(e,"timeParse",function(){return Dm}),n.d(e,"utcFormat",function(){return Rm}),n.d(e,"utcParse",function(){return jm}),n.d(e,"timeFormatLocale",function(){return Pm}),n.d(e,"isoFormat",function(){return Kv}),n.d(e,"isoParse",function(){return $v}),n.d(e,"now",function(){return Ni}),n.d(e,"timer",function(){return Ai}),n.d(e,"timerFlush",function(){return Li}),n.d(e,"timeout",function(){return Fi}),n.d(e,"interval",function(){return zi}),n.d(e,"transition",function(){return sr}),n.d(e,"active",function(){return Qr}),n.d(e,"interrupt",function(){return Qi}),n.d(e,"voronoi",function(){return Uw}),n.d(e,"zoom",function(){return oE}),n.d(e,"zoomTransform",function(){return $w}),n.d(e,"zoomIdentity",function(){return Kw})},function(t,e,n){"use strict";var i=n(2),r=function(t){function e(e){var n="Assertion failed. See https://openlayers.org/en/"+("latest"===i.a?i.a:"v"+i.a.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,n),this.code=e,this.name="AssertionError",this.message=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e.a=r},function(t,e,n){"use strict";var i=n(11),r=n(53),o=n(5),s=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(o.a.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t){var e=this.entries_[t];return Object(i.a)(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return Object(i.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(i.a)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(r.a);e.a=s},function(t,e,n){"use strict";var i=n(2),r=n(15),o=n(0),s=n(41),a=n(9),l=n(24),u=n(8),c=Object(u.c)(),h=function(t){function e(){t.call(this),this.extent_=Object(o.j)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return Object(i.b)()},e.prototype.closestPointXY=function(t,e,n,r){return Object(i.b)()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(i.b)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(o.I)(this.extent_,t)},e.prototype.rotate=function(t,e){Object(i.b)()},e.prototype.scale=function(t,e,n){Object(i.b)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(i.b)()},e.prototype.getType=function(){return Object(i.b)()},e.prototype.applyTransform=function(t){Object(i.b)()},e.prototype.intersectsExtent=function(t){return Object(i.b)()},e.prototype.translate=function(t,e){Object(i.b)()},e.prototype.transform=function(t,e){var n=Object(a.g)(t),i=n.getUnits()==l.b.TILE_PIXELS?function(t,i,r){var l=n.getExtent(),h=n.getWorldExtent(),f=Object(o.A)(h)/Object(o.A)(l);return Object(u.b)(c,h[0],h[3],f,-f,0,0,0),Object(s.c)(t,0,t.length,r,c,i),Object(a.i)(n,e)(t,i,r)}:Object(a.i)(n,e);return this.applyTransform(i),this},e}(r.a);e.a=h},function(t,e,n){"use strict";e.a={POINT:"point",LINE:"line"}},function(t,e,n){"use strict";var i=function(){};i.prototype.drawCustom=function(t,e,n){},i.prototype.drawGeometry=function(t){},i.prototype.setStyle=function(t){},i.prototype.drawCircle=function(t,e){},i.prototype.drawFeature=function(t,e){},i.prototype.drawGeometryCollection=function(t,e){},i.prototype.drawLineString=function(t,e){},i.prototype.drawMultiLineString=function(t,e){},i.prototype.drawMultiPoint=function(t,e){},i.prototype.drawMultiPolygon=function(t,e){},i.prototype.drawPoint=function(t,e){},i.prototype.drawPolygon=function(t,e){},i.prototype.drawText=function(t,e){},i.prototype.setFillStrokeStyle=function(t,e){},i.prototype.setImageStyle=function(t,e){},i.prototype.setTextStyle=function(t,e){},e.a=i},function(t,e,n){"use strict";function i(t,e,n,i,r,o){for(var s,a=[t[e],t[e+1]],l=[];e+i<n;e+=i){if(l[0]=t[e+i],l[1]=t[e+i+1],s=r.call(o,a,l))return s;a[0]=l[0],a[1]=l[1]}return!1}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";function i(t,e,n,i){for(var r=t[e],o=t[e+1],s=0,a=e+i;a<n;a+=i){var l=t[a],u=t[a+1];s+=Math.sqrt((l-r)*(l-r)+(u-o)*(u-o)),r=l,o=u}return s}n.d(e,"a",function(){return i})},function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var i=n(12),r=n(57);function o(t,e,n,o,s,a,l){for(var u,c,h,f,p,d,g,m=s[a+1],v=[],y=0,_=n.length;y<_;++y){var b=n[y];for(f=t[b-o],d=t[b-o+1],u=e;u<b;u+=o)p=t[u],g=t[u+1],(m<=d&&g<=m||d<=m&&m<=g)&&(h=(m-d)/(g-d)*(p-f)+f,v.push(h)),f=p,d=g}var x=NaN,w=-1/0;for(v.sort(i.g),f=v[0],u=1,c=v.length;u<c;++u){p=v[u];var E=Math.abs(p-f);E>w&&(h=(f+p)/2,Object(r.c)(t,e,n,o,h,m)&&(x=h,w=E)),f=p}return isNaN(x)&&(x=s[a]),l?(l.push(x,m,w),l):[x,m,w]}function s(t,e,n,i,r){for(var s=[],a=0,l=n.length;a<l;++a){var u=n[a];s=o(t,e,u,i,r,2*a,s),e=u[u.length-1]}return s}},function(t,e,n){"use strict";var i=n(2),r=n(15),o=n(9),s=n(55),a=function(t){function e(e){t.call(this),this.projection_=Object(o.g)(e.projection),this.attributions_=l(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:s.a.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(i.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=l(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(r.a);function l(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=a},function(t,e,n){"use strict";e.a={IMAGE:"image",VECTOR:"vector"}},function(t,e,n){"use strict";var i=n(2),r=n(15),o=n(28),s=n(6),a=n(10),l=function(t){function e(e){t.call(this);var n=Object(a.a)({},e);n[o.a.OPACITY]=void 0!==e.opacity?e.opacity:1,n[o.a.VISIBLE]=void 0===e.visible||e.visible,n[o.a.Z_INDEX]=e.zIndex,n[o.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,n[o.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(n),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=Object(s.a)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return Object(i.b)()},e.prototype.getLayerStatesArray=function(t){return Object(i.b)()},e.prototype.getExtent=function(){return this.get(o.a.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(o.a.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(o.a.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(o.a.OPACITY)},e.prototype.getSourceState=function(){return Object(i.b)()},e.prototype.getVisible=function(){return this.get(o.a.VISIBLE)},e.prototype.getZIndex=function(){return this.get(o.a.Z_INDEX)},e.prototype.setExtent=function(t){this.set(o.a.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(o.a.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(o.a.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(o.a.OPACITY,t)},e.prototype.setVisible=function(t){this.set(o.a.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(o.a.Z_INDEX,t)},e}(r.a);e.a=l},function(t,e,n){"use strict";var i=function(t){function e(e){var n=e||{};t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,atlasManager:n.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(n(110).a);e.a=i},function(t,e,n){"use strict";var i=n(11),r=n(66),o=n(10),s=n(2),a=n(9),l=function(){this.dataProjection=null,this.defaultFeatureProjection=null};l.prototype.getReadOptions=function(t,e){var n;return e&&(n={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(n)},l.prototype.adaptOptions=function(t){return Object(o.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},l.prototype.getLastExtent=function(){return null},l.prototype.getType=function(){return Object(s.b)()},l.prototype.readFeature=function(t,e){return Object(s.b)()},l.prototype.readFeatures=function(t,e){return Object(s.b)()},l.prototype.readGeometry=function(t,e){return Object(s.b)()},l.prototype.readProjection=function(t){return Object(s.b)()},l.prototype.writeFeature=function(t,e){return Object(s.b)()},l.prototype.writeFeatures=function(t,e){return Object(s.b)()},l.prototype.writeGeometry=function(t,e){return Object(s.b)()};var u=l;function c(t,e,n){var i,r=n?Object(a.g)(n.featureProjection):null,o=n?Object(a.g)(n.dataProjection):null;if(i=r&&o&&!Object(a.f)(r,o)?Array.isArray(t)?Object(a.k)(t,o,r):(e?t.clone():t).transform(e?r:o,e?o:r):t,e&&n&&void 0!==n.decimals&&!Array.isArray(i)){var s=Math.pow(10,n.decimals);i===t&&(i=t.clone()),i.applyTransform(function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*s)/s;return t})}return i}var h=n(71);function f(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}var p=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return h.a.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(f(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(f(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Object(s.b)()},e.prototype.readFeaturesFromObject=function(t,e){return Object(s.b)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(f(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Object(s.b)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(f(t))},e.prototype.readProjectionFromObject=function(t){return Object(s.b)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Object(s.b)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Object(s.b)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Object(s.b)()},e}(u),d=n(1),g=n(5),m=n(0),v=n(97),y=n(3);function _(t){for(var e=[],n=0,i=t.length;n<i;++n)e.push(t[n].clone());return e}var b=function(t){function e(e){t.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(d.c)(this.geometries_[t],g.a.CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(d.a)(this.geometries_[t],g.a.CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,n,i){if(i<Object(m.e)(this.getExtent(),t,e))return i;for(var r=this.geometries_,o=0,s=r.length;o<s;++o)i=r[o].closestPointXY(t,e,n,i);return i},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){Object(m.l)(t);for(var e=this.geometries_,n=0,i=e.length;n<i;++n)Object(m.q)(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return _(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(o.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(n))return this.simplifiedGeometryCache[n];for(var i=[],r=this.geometries_,s=!1,a=0,l=r.length;a<l;++a){var u=r[a],c=u.getSimplifiedGeometry(t);i.push(c),c!==u&&(s=!0)}if(s){var h=new e(null);return h.setGeometriesArray(i),this.simplifiedGeometryCache[n]=h,h}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return y.a.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var i=n;i||(i=Object(m.x)(this.getExtent()));for(var r=this.geometries_,o=0,s=r.length;o<s;++o)r[o].scale(t,e,i);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(_(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(v.a),x=n(64),w=n(12),E=n(22),C=n(35),S=n(42),M=n(38),I=n(39),O=n(86),T=n(69),N=n(54),k=function(t){function e(e,n,i){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(void 0!==n&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{for(var r=this.getLayout(),o=e,s=[],a=[],l=0,u=o.length;l<u;++l){var c=o[l];0===l&&(r=c.getLayout()),Object(w.c)(s,c.getFlatCoordinates()),a.push(s.length)}this.setFlatCoordinates(r,s),this.ends_=a}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?Object(w.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(m.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(S.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(S.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=E.a.XYM&&this.layout!=E.a.XYZM||0===this.flatCoordinates.length)return null;var i=void 0!==e&&e,r=void 0!==n&&n;return Object(O.c)(this.flatCoordinates,0,this.ends_,this.stride,t,i,r)},e.prototype.getCoordinates=function(){return Object(I.b)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new x.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,o=0,s=e.length;o<s;++o){var a=e[o],l=new x.a(t.slice(r,a),n);i.push(l),r=a}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,o=0,s=i.length;o<s;++o){var a=i[o],l=Object(O.a)(e,n,a,r,.5);Object(w.c)(t,l),n=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Object(N.b)(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,E.a.XY,i)},e.prototype.getType=function(){return y.a.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(T.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(M.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(C.a),P=n(56),A=n(6),L=function(t){function e(e,n){t.call(this),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?Object(w.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){if(i<Object(m.e)(this.getExtent(),t,e))return i;for(var r=this.flatCoordinates,o=this.stride,s=0,a=r.length;s<a;s+=o){var l=Object(A.f)(t,e,r[s],r[s+1]);if(l<i){i=l;for(var u=0;u<o;++u)n[u]=r[s+u];n.length=o}}return i},e.prototype.getCoordinates=function(){return Object(I.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new P.a(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,o=t.length;r<o;r+=n){var s=new P.a(t.slice(r,r+n),e);i.push(s)}return i},e.prototype.getType=function(){return y.a.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n){var o=e[i],s=e[i+1];if(Object(m.h)(t,o,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(M.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(C.a),D=n(43),R=n(82);var j=n(57),F=n(102),z=n(72),B=function(t){function e(e,n,i){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var r=this.getLayout(),o=e,s=[],a=[],l=0,u=o.length;l<u;++l){var c=o[l];0===l&&(r=c.getLayout());for(var h=s.length,f=c.getEnds(),p=0,d=f.length;p<d;++p)f[p]+=h;Object(w.c)(s,c.getFlatCoordinates()),a.push(f)}n=r,e=s,i=a}void 0!==n&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;Object(w.c)(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,r=(e=t.getEnds().slice()).length;i<r;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(m.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(S.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(S.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Object(j.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(R.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(z.d)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(I.c)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,i){for(var r=[],o=Object(m.j)(),s=0,a=n.length;s<a;++s){var l=n[s];o=Object(m.o)(t,e,l[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(F.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new L(this.getFlatInteriorPoints().slice(),E.a.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(z.b)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(z.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Object(N.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,E.a.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),r=i[i.length-1];if(0!==e)for(var o=0,s=i.length;o<s;++o)i[o]-=e;return new D.a(this.flatCoordinates.slice(e,r),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o].slice(),l=a[a.length-1];if(0!==r)for(var u=0,c=a.length;u<c;++u)a[u]-=r;var h=new D.a(e.slice(r,l),t,a);i.push(h),r=l}return i},e.prototype.getType=function(){return y.a.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(T.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(M.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(C.a),G=function(t){function e(e){var n=e||{};t.call(this),this.dataProjection=Object(a.g)(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(this.defaultFeatureProjection=Object(a.g)(n.featureProjection)),this.geometryName_=n.geometryName,this.extractGeometryName_=n.extractGeometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var n=null,i=q((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),o=new r.a;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&o.setGeometryName(n.geometry_name),o.setGeometry(i),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties),o},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var i=t.features,r=0,o=i.length;r<o;++r)n.push(this.readFeatureFromObject(i[r],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return q(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=Object(a.g)(n.properties.name):Object(i.a)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},i=t.getId();void 0!==i&&(n.id=i);var r=t.getGeometry();r&&(n.geometry=H(r,e));var s=t.getProperties();return delete s[t.getGeometryName()],Object(o.d)(s)||(n.properties=s),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],i=0,r=t.length;i<r;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return H(t,this.adaptOptions(e))},e}(p);function q(t,e){if(!t)return null;var n;switch(t.type){case y.a.POINT:n=function(t){return new P.a(t.coordinates)}(t);break;case y.a.LINE_STRING:n=function(t){return new x.a(t.coordinates)}(t);break;case y.a.POLYGON:n=function(t){return new D.a(t.coordinates)}(t);break;case y.a.MULTI_POINT:n=function(t){return new L(t.coordinates)}(t);break;case y.a.MULTI_LINE_STRING:n=function(t){return new k(t.coordinates)}(t);break;case y.a.MULTI_POLYGON:n=function(t){return new B(t.coordinates)}(t);break;case y.a.GEOMETRY_COLLECTION:n=function(t,e){var n=t.geometries.map(function(t){return q(t,e)});return new b(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return c(n,!1,e)}function H(t,e){var n,i=(t=c(t,!0,e)).getType();switch(i){case y.a.POINT:n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case y.a.LINE_STRING:n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case y.a.POLYGON:n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case y.a.MULTI_POINT:n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case y.a.MULTI_LINE_STRING:n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case y.a.MULTI_POLYGON:n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case y.a.GEOMETRY_COLLECTION:n=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var n=Object(o.a)({},e);return delete n.featureProjection,H(t,n)})}}(t,e);break;case y.a.CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return n}e.a=G},function(t,e,n){var i,r,o;!function(s){"use strict";r=[n(51)],void 0===(o="function"==typeof(i=function(t,e){var n={beforeShow:c,move:c,change:c,show:c,hide:c,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},i=[],r=!!/msie/i.exec(window.navigator.userAgent),o=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div"),n=e.style;return n.cssText="background-color:rgba(0,0,0,.5)",t(n.backgroundColor,"rgba")||t(n.backgroundColor,"hsla")}(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),a=function(){var t="";if(r)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function l(e,n,i,r){for(var s=[],a=0;a<e.length;a++){var l=e[a];if(l){var u=tinycolor(l),c=u.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(n,l)?" sp-thumb-active":"";var h=u.toString(r.preferredFormat||"rgb"),f=o?"background-color:"+u.toRgbString():"filter:"+u.toFilter();s.push('<span title="'+h+'" data-color="'+u.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+f+';" /></span>')}else{s.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+s.join("")+"</div>"}function u(u,c){var g,m,v,y,_=function(e,i){var r=t.extend({},n,e);return r.callbacks={move:f(r.move,i),change:f(r.change,i),show:f(r.show,i),hide:f(r.hide,i),beforeShow:f(r.beforeShow,i)},r}(c,u),b=_.flat,x=_.showSelectionPalette,w=_.localStorageKey,E=_.theme,C=_.callbacks,S=(g=Ht,m=10,function(){var t=this,e=arguments;v&&clearTimeout(y),!v&&y||(y=setTimeout(function(){y=null,g.apply(t,e)},m))}),M=!1,I=!1,O=0,T=0,N=0,k=0,P=0,A=0,L=0,D=0,R=0,j=0,F=1,z=[],B=[],G={},q=_.selectionPalette.slice(0),H=_.maxSelectionSize,W="sp-dragging",U=null,Y=u.ownerDocument,V=(Y.body,t(u)),X=!1,K=t(a,Y).addClass(E),$=K.find(".sp-picker-container"),Z=K.find(".sp-color"),J=K.find(".sp-dragger"),Q=K.find(".sp-hue"),tt=K.find(".sp-slider"),et=K.find(".sp-alpha-inner"),nt=K.find(".sp-alpha"),it=K.find(".sp-alpha-handle"),rt=K.find(".sp-input"),ot=K.find(".sp-palette"),st=K.find(".sp-initial"),at=K.find(".sp-cancel"),lt=K.find(".sp-clear"),ut=K.find(".sp-choose"),ct=K.find(".sp-palette-toggle"),ht=V.is("input"),ft=ht&&"color"===V.attr("type")&&d(),pt=ht&&!b,dt=pt?t(s).addClass(E).addClass(_.className).addClass(_.replacerClassName):t([]),gt=pt?dt:V,mt=dt.find(".sp-preview-inner"),vt=_.color||ht&&V.val(),yt=!1,_t=_.preferredFormat,bt=!_.showButtons||_.clickoutFiresChange,xt=!vt,wt=_.allowEmpty&&!ft;function Et(){if(_.showPaletteOnly&&(_.showPalette=!0),ct.text(_.showPaletteOnly?_.togglePaletteMoreText:_.togglePaletteLessText),_.palette){z=_.palette.slice(0),B=t.isArray(z[0])?z:[z],G={};for(var e=0;e<B.length;e++)for(var n=0;n<B[e].length;n++){var i=tinycolor(B[e][n]).toRgbString();G[i]=!0}}K.toggleClass("sp-flat",b),K.toggleClass("sp-input-disabled",!_.showInput),K.toggleClass("sp-alpha-enabled",_.showAlpha),K.toggleClass("sp-clear-enabled",wt),K.toggleClass("sp-buttons-disabled",!_.showButtons),K.toggleClass("sp-palette-buttons-disabled",!_.togglePaletteOnly),K.toggleClass("sp-palette-disabled",!_.showPalette),K.toggleClass("sp-palette-only",_.showPaletteOnly),K.toggleClass("sp-initial-disabled",!_.showInitial),K.addClass(_.className).addClass(_.containerClassName),Ht()}function Ct(){if(w&&window.localStorage){try{var e=window.localStorage[w].split(",#");e.length>1&&(delete window.localStorage[w],t.each(e,function(t,e){St(e)}))}catch(t){}try{q=window.localStorage[w].split(";")}catch(t){}}}function St(e){if(x){var n=tinycolor(e).toRgbString();if(!G[n]&&-1===t.inArray(n,q))for(q.push(n);q.length>H;)q.shift();if(w&&window.localStorage)try{window.localStorage[w]=q.join(";")}catch(t){}}}function Mt(){var e=Ft(),n=t.map(B,function(t,n){return l(t,e,"sp-palette-row sp-palette-row-"+n,_)});Ct(),q&&n.push(l(function(){var t=[];if(_.showPalette)for(var e=0;e<q.length;e++){var n=tinycolor(q[e]).toRgbString();G[n]||t.push(q[e])}return t.reverse().slice(0,_.maxSelectionSize)}(),e,"sp-palette-row sp-palette-row-selection",_)),ot.html(n.join(""))}function It(){if(_.showInitial){var t=yt,e=Ft();st.html(l([t,e],e,"sp-palette-row-initial",_))}}function Ot(){(T<=0||O<=0||k<=0)&&Ht(),I=!0,K.addClass(W),U=null,V.trigger("dragstart.spectrum",[Ft()])}function Tt(){I=!1,K.removeClass(W),V.trigger("dragstop.spectrum",[Ft()])}function Nt(){var t=rt.val();if(null!==t&&""!==t||!wt){var e=tinycolor(t);e.isValid()?(jt(e),qt(!0)):rt.addClass("sp-validation-error")}else jt(null),qt(!0)}function kt(){M?Dt():Pt()}function Pt(){var e=t.Event("beforeShow.spectrum");M?Ht():(V.trigger(e,[Ft()]),!1===C.beforeShow(Ft())||e.isDefaultPrevented()||(!function(){for(var t=0;t<i.length;t++)i[t]&&i[t].hide()}(),M=!0,t(Y).bind("keydown.spectrum",At),t(Y).bind("click.spectrum",Lt),t(window).bind("resize.spectrum",S),dt.addClass("sp-active"),K.removeClass("sp-hidden"),Ht(),Bt(),yt=Ft(),It(),C.show(yt),V.trigger("show.spectrum",[yt])))}function At(t){27===t.keyCode&&Dt()}function Lt(t){2!=t.button&&(I||(bt?qt(!0):Rt(),Dt()))}function Dt(){M&&!b&&(M=!1,t(Y).unbind("keydown.spectrum",At),t(Y).unbind("click.spectrum",Lt),t(window).unbind("resize.spectrum",S),dt.removeClass("sp-active"),K.addClass("sp-hidden"),C.hide(Ft()),V.trigger("hide.spectrum",[Ft()]))}function Rt(){jt(yt,!0)}function jt(t,e){var n,i;tinycolor.equals(t,Ft())?Bt():(!t&&wt?xt=!0:(xt=!1,n=tinycolor(t),i=n.toHsv(),D=i.h%360/360,R=i.s,j=i.v,F=i.a),Bt(),n&&n.isValid()&&!e&&(_t=_.preferredFormat||n.getFormat()))}function Ft(t){return t=t||{},wt&&xt?null:tinycolor.fromRatio({h:D,s:R,v:j,a:Math.round(100*F)/100},{format:t.format||_t})}function zt(){Bt(),C.move(Ft()),V.trigger("move.spectrum",[Ft()])}function Bt(){rt.removeClass("sp-validation-error"),Gt();var t=tinycolor.fromRatio({h:D,s:1,v:1});Z.css("background-color",t.toHexString());var e=_t;F<1&&(0!==F||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=Ft({format:e}),i="";if(mt.removeClass("sp-clear-display"),mt.css("background-color","transparent"),!n&&wt)mt.addClass("sp-clear-display");else{var s=n.toHexString(),a=n.toRgbString();if(o||1===n.alpha?mt.css("background-color",a):(mt.css("background-color","transparent"),mt.css("filter",n.toFilter())),_.showAlpha){var l=n.toRgb();l.a=0;var u=tinycolor(l).toRgbString(),c="linear-gradient(left, "+u+", "+s+")";r?et.css("filter",tinycolor(u).toFilter({gradientType:1},s)):(et.css("background","-webkit-"+c),et.css("background","-moz-"+c),et.css("background","-ms-"+c),et.css("background","linear-gradient(to right, "+u+", "+s+")"))}i=n.toString(e)}_.showInput&&rt.val(i),_.showPalette&&Mt(),It()}function Gt(){var t=R,e=j;if(wt&&xt)it.hide(),tt.hide(),J.hide();else{it.show(),tt.show(),J.show();var n=t*O,i=T-e*T;n=Math.max(-N,Math.min(O-N,n-N)),i=Math.max(-N,Math.min(T-N,i-N)),J.css({top:i+"px",left:n+"px"});var r=F*P;it.css({left:r-A/2+"px"});var o=D*k;tt.css({top:o-L+"px"})}}function qt(t){var e=Ft(),n="",i=!tinycolor.equals(e,yt);e&&(n=e.toString(_t),St(e)),ht&&V.val(n),t&&i&&(C.change(e),V.trigger("change",[e]))}function Ht(){var e,n,i,r,o,s,a,l,u,c;M&&(O=Z.width(),T=Z.height(),N=J.height(),Q.width(),k=Q.height(),L=tt.height(),P=nt.width(),A=it.width(),b||(K.css("position","absolute"),_.offset?K.offset(_.offset):K.offset((n=gt,i=(e=K).outerWidth(),r=e.outerHeight(),o=n.outerHeight(),s=e[0].ownerDocument,a=s.documentElement,l=a.clientWidth+t(s).scrollLeft(),u=a.clientHeight+t(s).scrollTop(),(c=n.offset()).top+=o,c.left-=Math.min(c.left,c.left+i>l&&l>i?Math.abs(c.left+i-l):0),c.top-=Math.min(c.top,c.top+r>u&&u>r?Math.abs(r+o-0):0),c))),Gt(),_.showPalette&&Mt(),V.trigger("reflow.spectrum"))}function Wt(){Dt(),X=!0,V.attr("disabled",!0),gt.addClass("sp-disabled")}!function(){r&&K.find("*:not(input)").attr("unselectable","on");Et(),pt&&V.after(dt).hide();wt||lt.hide();if(b)V.after(K).hide();else{var e="parent"===_.appendTo?V.parent():t(_.appendTo);1!==e.length&&(e=t("body")),e.append(K)}Ct(),gt.bind("click.spectrum touchstart.spectrum",function(e){X||kt(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(V.is(":disabled")||!0===_.disabled)&&Wt();K.click(h),rt.change(Nt),rt.bind("paste",function(){setTimeout(Nt,1)}),rt.keydown(function(t){13==t.keyCode&&Nt()}),at.text(_.cancelText),at.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Rt(),Dt()}),lt.attr("title",_.clearText),lt.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),xt=!0,zt(),b&&qt(!0)}),ut.text(_.chooseText),ut.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),r&&rt.is(":focus")&&rt.trigger("change"),rt.hasClass("sp-validation-error")||(qt(!0),Dt())}),ct.text(_.showPaletteOnly?_.togglePaletteMoreText:_.togglePaletteLessText),ct.bind("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),_.showPaletteOnly=!_.showPaletteOnly,_.showPaletteOnly||b||K.css("left","-="+($.outerWidth(!0)+5)),Et()}),p(nt,function(t,e,n){F=t/P,xt=!1,n.shiftKey&&(F=Math.round(10*F)/10),zt()},Ot,Tt),p(Q,function(t,e){D=parseFloat(e/k),xt=!1,_.showAlpha||(F=1),zt()},Ot,Tt),p(Z,function(t,e,n){if(n.shiftKey){if(!U){var i=R*O,r=T-j*T,o=Math.abs(t-i)>Math.abs(e-r);U=o?"x":"y"}}else U=null;var s=!U||"y"===U;(!U||"x"===U)&&(R=parseFloat(t/O)),s&&(j=parseFloat((T-e)/T)),xt=!1,_.showAlpha||(F=1),zt()},Ot,Tt),vt?(jt(vt),Bt(),_t=_.preferredFormat||tinycolor(vt).format,St(vt)):Bt();b&&Pt();function n(e){return e.data&&e.data.ignore?(jt(t(e.target).closest(".sp-thumb-el").data("color")),zt()):(jt(t(e.target).closest(".sp-thumb-el").data("color")),zt(),qt(!0),_.hideAfterPaletteSelect&&Dt()),!1}var i=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ot.delegate(".sp-thumb-el",i,n),st.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},n)}();var Ut={show:Pt,hide:Dt,toggle:kt,reflow:Ht,option:function(n,i){if(n===e)return t.extend({},_);if(i===e)return _[n];_[n]=i,"preferredFormat"===n&&(_t=_.preferredFormat);Et()},enable:function(){X=!1,V.attr("disabled",!1),gt.removeClass("sp-disabled")},disable:Wt,offset:function(t){_.offset=t,Ht()},set:function(t){jt(t),qt()},get:Ft,destroy:function(){V.show(),gt.unbind("click.spectrum touchstart.spectrum"),K.remove(),dt.remove(),i[Ut.id]=null},container:K};return Ut.id=i.push(Ut)-1,Ut}function c(){}function h(t){t.stopPropagation()}function f(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function p(e,n,i,o){n=n||function(){},i=i||function(){},o=o||function(){};var s=document,a=!1,l={},u=0,c=0,h="ontouchstart"in window,f={};function p(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function d(t){if(a){if(r&&s.documentMode<9&&!t.button)return g();var i=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],o=i&&i.pageX||t.pageX,f=i&&i.pageY||t.pageY,d=Math.max(0,Math.min(o-l.left,c)),m=Math.max(0,Math.min(f-l.top,u));h&&p(t),n.apply(e,[d,m,t])}}function g(){a&&(t(s).unbind(f),t(s.body).removeClass("sp-dragging"),setTimeout(function(){o.apply(e,arguments)},0)),a=!1}f.selectstart=p,f.dragstart=p,f["touchmove mousemove"]=d,f["touchend mouseup"]=g,t(e).bind("touchstart mousedown",function(n){(n.which?3==n.which:2==n.button)||a||!1!==i.apply(e,arguments)&&(a=!0,u=t(e).height(),c=t(e).width(),l=t(e).offset(),t(s).bind(f),t(s.body).addClass("sp-dragging"),d(n),p(n))})}function d(){return t.fn.spectrum.inputTypeColorSupport()}t.fn.spectrum=function(e,n){if("string"==typeof e){var r=this,o=Array.prototype.slice.call(arguments,1);return this.each(function(){var n=i[t(this).data("spectrum.id")];if(n){var s=n[e];if(!s)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?r=n.get():"container"==e?r=n.container:"option"==e?r=n.option.apply(n,o):"destroy"==e?(n.destroy(),t(this).removeData("spectrum.id")):s.apply(n,o)}}),r}return this.spectrum("destroy").each(function(){var n=t.extend({},e,t(this).data()),i=u(this,n);t(this).data("spectrum.id",i.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=p,t.fn.spectrum.defaults=n,t.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var n=t("<input type='color'/>")[0];e._cachedResult="color"===n.type&&""!==n.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!d()&&e.spectrum({preferredFormat:"hex6"})},function(){var t=/^[\s,#]+/,e=/\s+$/,n=0,i=Math,r=i.round,o=i.min,s=i.max,a=i.random,l=function(a,u){if(u=u||{},(a=a||"")instanceof l)return a;if(!(this instanceof l))return new l(a,u);var c=function(n){var r={r:0,g:0,b:0},a=1,l=!1,u=!1;"string"==typeof n&&(n=function(n){n=n.replace(t,"").replace(e,"").toLowerCase();var i,r=!1;if(M[n])n=M[n],r=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};if(i=j.rgb.exec(n))return{r:i[1],g:i[2],b:i[3]};if(i=j.rgba.exec(n))return{r:i[1],g:i[2],b:i[3],a:i[4]};if(i=j.hsl.exec(n))return{h:i[1],s:i[2],l:i[3]};if(i=j.hsla.exec(n))return{h:i[1],s:i[2],l:i[3],a:i[4]};if(i=j.hsv.exec(n))return{h:i[1],s:i[2],v:i[3]};if(i=j.hsva.exec(n))return{h:i[1],s:i[2],v:i[3],a:i[4]};if(i=j.hex8.exec(n))return{a:(o=i[1],k(o)/255),r:k(i[2]),g:k(i[3]),b:k(i[4]),format:r?"name":"hex8"};var o;if(i=j.hex6.exec(n))return{r:k(i[1]),g:k(i[2]),b:k(i[3]),format:r?"name":"hex"};if(i=j.hex3.exec(n))return{r:k(i[1]+""+i[1]),g:k(i[2]+""+i[2]),b:k(i[3]+""+i[3]),format:r?"name":"hex"};return!1}(n));"object"==typeof n&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(c=n.r,h=n.g,f=n.b,r={r:255*T(c,255),g:255*T(h,255),b:255*T(f,255)},l=!0,u="%"===String(n.r).substr(-1)?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=A(n.s),n.v=A(n.v),r=function(t,e,n){t=6*T(t,360),e=T(e,100),n=T(n,100);var r=i.floor(t),o=t-r,s=n*(1-e),a=n*(1-o*e),l=n*(1-(1-o)*e),u=r%6;return{r:255*[n,a,s,s,l,n][u],g:255*[l,n,n,a,s,s][u],b:255*[s,s,l,n,n,a][u]}}(n.h,n.s,n.v),l=!0,u="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=A(n.s),n.l=A(n.l),r=function(t,e,n){var i,r,o;function s(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=T(t,360),e=T(e,100),n=T(n,100),0===e)i=r=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=s(l,a,t+1/3),r=s(l,a,t),o=s(l,a,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(n.h,n.s,n.l),l=!0,u="hsl"),n.hasOwnProperty("a")&&(a=n.a));var c,h,f;return a=O(a),{ok:l,format:n.format||u,r:o(255,s(r.r,0)),g:o(255,s(r.g,0)),b:o(255,s(r.b,0)),a:a}}(a);this._originalInput=a,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=r(100*this._a)/100,this._format=u.format||c.format,this._gradientType=u.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=c.ok,this._tc_id=n++};function u(t,e,n){t=T(t,255),e=T(e,255),n=T(n,255);var i,r,a=s(t,e,n),l=o(t,e,n),u=(a+l)/2;if(a==l)i=r=0;else{var c=a-l;switch(r=u>.5?c/(2-a-l):c/(a+l),a){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,l:u}}function c(t,e,n){t=T(t,255),e=T(e,255),n=T(n,255);var i,r,a=s(t,e,n),l=o(t,e,n),u=a,c=a-l;if(r=0===a?0:c/a,a==l)i=0;else{switch(a){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,v:u}}function h(t,e,n,i){var o=[P(r(t).toString(16)),P(r(e).toString(16)),P(r(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function f(t,e,n,i){var o,s=[P((o=i,Math.round(255*parseFloat(o)).toString(16))),P(r(t).toString(16)),P(r(e).toString(16)),P(r(n).toString(16))];return s.join("")}function p(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s-=e/100,n.s=N(n.s),l(n)}function d(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s+=e/100,n.s=N(n.s),l(n)}function g(t){return l(t).desaturate(100)}function m(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l+=e/100,n.l=N(n.l),l(n)}function v(t,e){e=0===e?0:e||10;var n=l(t).toRgb();return n.r=s(0,o(255,n.r-r(-e/100*255))),n.g=s(0,o(255,n.g-r(-e/100*255))),n.b=s(0,o(255,n.b-r(-e/100*255))),l(n)}function y(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l-=e/100,n.l=N(n.l),l(n)}function _(t,e){var n=l(t).toHsl(),i=(r(n.h)+e)%360;return n.h=i<0?360+i:i,l(n)}function b(t){var e=l(t).toHsl();return e.h=(e.h+180)%360,l(e)}function x(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+120)%360,s:e.s,l:e.l}),l({h:(n+240)%360,s:e.s,l:e.l})]}function w(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+90)%360,s:e.s,l:e.l}),l({h:(n+180)%360,s:e.s,l:e.l}),l({h:(n+270)%360,s:e.s,l:e.l})]}function E(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+72)%360,s:e.s,l:e.l}),l({h:(n+216)%360,s:e.s,l:e.l})]}function C(t,e,n){e=e||6,n=n||30;var i=l(t).toHsl(),r=360/n,o=[l(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(l(i));return o}function S(t,e){e=e||6;for(var n=l(t).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/e;e--;)s.push(l({h:i,s:r,v:o})),o=(o+a)%1;return s}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=O(t),this._roundA=r(100*this._a)/100,this},toHsv:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=c(this._r,this._g,this._b),e=r(360*t.h),n=r(100*t.s),i=r(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=u(this._r,this._g,this._b),e=r(360*t.h),n=r(100*t.s),i=r(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return h(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return f(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*T(this._r,255))+"%",g:r(100*T(this._g,255))+"%",b:r(100*T(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*T(this._r,255))+"%, "+r(100*T(this._g,255))+"%, "+r(100*T(this._b,255))+"%)":"rgba("+r(100*T(this._r,255))+"%, "+r(100*T(this._g,255))+"%, "+r(100*T(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(I[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var r=l(t);n=r.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0,r=!e&&i&&("hex"===t||"hex6"===t||"hex3"===t||"name"===t);return r?"name"===t&&0===this._a?this.toName():this.toRgbString():("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(m,arguments)},brighten:function(){return this._applyModification(v,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(_,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(C,arguments)},complement:function(){return this._applyCombination(b,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},l.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:A(t[i]));t=n}return l(t,e)},l.equals=function(t,e){return!(!t||!e)&&l(t).toRgbString()==l(e).toRgbString()},l.random=function(){return l.fromRatio({r:a(),g:a(),b:a()})},l.mix=function(t,e,n){n=0===n?0:n||50;var i,r=l(t).toRgb(),o=l(e).toRgb(),s=n/100,a=2*s-1,u=o.a-r.a,c=1-(i=((i=a*u==-1?a:(a+u)/(1+a*u))+1)/2),h={r:o.r*i+r.r*c,g:o.g*i+r.g*c,b:o.b*i+r.b*c,a:o.a*s+r.a*(1-s)};return l(h)},l.readability=function(t,e){var n=l(t),i=l(e),r=n.toRgb(),o=i.toRgb(),s=n.getBrightness(),a=i.getBrightness(),u=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(s-a),color:u}},l.isReadable=function(t,e){var n=l.readability(t,e);return n.brightness>125&&n.color>500},l.mostReadable=function(t,e){for(var n=null,i=0,r=!1,o=0;o<e.length;o++){var s=l.readability(t,e[o]),a=s.brightness>125&&s.color>500,u=s.brightness/125*3+s.color/500;(a&&!r||a&&r&&u>i||!a&&!r&&u>i)&&(r=a,i=u,n=l(e[o]))}return n};var M=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=l.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(M);function O(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function T(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=o(e,s(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function N(t){return o(1,s(0,t))}function k(t){return parseInt(t,16)}function P(t){return 1==t.length?"0"+t:""+t}function A(t){return t<=1&&(t=100*t+"%"),t}var L,D,R,j=(D="[\\s|\\(]+("+(L="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?",R="[\\s|\\(]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?",{rgb:new RegExp("rgb"+D),rgba:new RegExp("rgba"+R),hsl:new RegExp("hsl"+D),hsla:new RegExp("hsla"+R),hsv:new RegExp("hsv"+D),hsva:new RegExp("hsva"+R),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=l}(),t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){"use strict";var i=1,r=2,o=4,s=5,a=484813681109536e-20,l=Math.PI/2,u=.16666666666666666,c=.04722222222222222,h=.022156084656084655,f=1e-10,p=.017453292519943295,d=57.29577951308232,g=Math.PI/4,m=2*Math.PI,v=3.14159265359,y={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},_={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},b=/[\s_\-\/\(\)]/g;function x(t,e){if(t[e])return t[e];for(var n,i=Object.keys(t),r=e.toLowerCase().replace(b,""),o=-1;++o<i.length;)if((n=i[o]).toLowerCase().replace(b,"")===r)return t[n]}var w=function(t){var e,n,i,r={},o=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),s={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*p},lat_1:function(t){r.lat1=t*p},lat_2:function(t){r.lat2=t*p},lat_ts:function(t){r.lat_ts=t*p},lon_0:function(t){r.long0=t*p},lon_1:function(t){r.long1=t*p},lon_2:function(t){r.long2=t*p},alpha:function(t){r.alpha=parseFloat(t)*p},lonc:function(t){r.longc=t*p},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=x(_,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*p},pm:function(t){var e=x(y,t);r.from_greenwich=(e||parseFloat(t))*p},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(r.axis=t)}};for(e in o)n=o[e],e in s?"function"==typeof(i=s[e])?i(n):r[i]=n:r[e]=n;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},E=function(t){return new N(t).output()},C=1,S=/\s/,M=/[A-Za-z]/,I=/[A-Za-z84]/,O=/[,\]]/,T=/[\d\.E\-\+]/;function N(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=C}function k(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce(function(t,e){return P(e,t),t},i);e&&(t[e]=r)}function P(t,e){if(Array.isArray(t)){var n,i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void P(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i)switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&P(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&P(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void k(e,i,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return P(t,e[i]);return k(e,i,t)}else e[i]=t;else e[i]=!0}else e[t]=!0}N.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;S.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case C:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},N.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(O.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},N.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=C)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=C,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},N.prototype.number=function(t){if(!T.test(t)){if(O.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},N.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},N.prototype.keyword=function(t){if(I.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=C)}if(!O.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},N.prototype.neutral=function(t){if(M.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(T.test(t))return this.word=t,void(this.state=3);if(!O.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},N.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var A=.017453292519943295;function L(t){return t*A}var D=function(t){var e=E(t),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return P(e,r),function(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function n(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(e.DATUM?t.datumCode=e.DATUM.name.toLowerCase():t.datumCode=e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",L],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",L],["x0","false_easting",n],["y0","false_northing",n],["long0","central_meridian",L],["lat0","latitude_of_origin",L],["lat0","standard_parallel_1",L],["lat1","standard_parallel_1",L],["lat2","standard_parallel_2",L],["azimuth","Azimuth"],["alpha","azimuth",L],["srsCode","name"]].forEach(function(e){return n=t,r=(i=e)[0],o=i[1],void(!(r in n)&&o in n&&(n[r]=n[o],3===i.length&&(n[r]=i[2](n[r]))));var n,i,r,o}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=L(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(r),r};function R(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?R[t]=w(arguments[1]):R[t]=D(arguments[1]):R[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?R.apply(e,t):R(t)});if("string"==typeof t){if(t in R)return R[t]}else"EPSG"in t?R["EPSG:"+t.EPSG]=t:"ESRI"in t?R["ESRI:"+t.ESRI]=t:"IAU2000"in t?R["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(R);var j=R;var F=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var z=["3857","900913","3785","102113"];var B=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in j}(t))return j[t];if(function(t){return F.some(function(e){return t.indexOf(e)>-1})}(t)){var e=D(t);if(function(t){var e=x(t,"authority");if(e){var n=x(e,"epsg");return n&&z.indexOf(n)>-1}}(e))return j["EPSG:3857"];var n=function(t){var e=x(t,"extension");if(e)return x(e,"proj4")}(e);return n?w(n):e}return function(t){return"+"===t[0]}(t)?w(t):void 0},G=function(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t},q=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)},H=function(t){return t<0?-1:1},W=function(t){return Math.abs(t)<=v?t:t-H(t)*m},U=function(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(l-e))/i},Y=function(t,e){for(var n,i,r=.5*t,o=l-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(o),o+=i=l-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-o,Math.abs(i)<=1e-10)return o;return-9999};function V(t){return t}var X=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=q(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,i=t.x,r=t.y;if(r*d>90&&r*d<-90&&i*d>180&&i*d<-180)return null;if(Math.abs(Math.abs(r)-l)<=f)return null;if(this.sphere)e=this.x0+this.a*this.k0*W(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(g+.5*r));else{var o=Math.sin(r),s=U(this.e,r,o);e=this.x0+this.a*this.k0*W(i-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=l-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(n=Y(this.e,o)))return null}return e=W(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:V,inverse:V,names:["longlat","identity"]}],K={},$=[];function Z(t,e){var n=$.length;return t.names?($[n]=t,t.names.forEach(function(t){K[t.toLowerCase()]=n}),this):(console.log(e),!0)}var J={start:function(){X.forEach(Z)},add:Z,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==K[e]&&$[K[e]]?$[K[e]]:void 0}},Q={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},tt=Q.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Q.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var et={};et.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},et.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},et.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},et.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},et.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},et.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},et.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},et.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},et.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},et.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},et.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},et.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},et.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},et.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},et.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},et.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},et.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var nt=function(t,e,n,l,u,c){var h={};return h.datum_type=void 0===t||"none"===t?s:o,e&&(h.datum_params=e.map(parseFloat),0===h.datum_params[0]&&0===h.datum_params[1]&&0===h.datum_params[2]||(h.datum_type=i),h.datum_params.length>3&&(0===h.datum_params[3]&&0===h.datum_params[4]&&0===h.datum_params[5]&&0===h.datum_params[6]||(h.datum_type=r,h.datum_params[3]*=a,h.datum_params[4]*=a,h.datum_params[5]*=a,h.datum_params[6]=h.datum_params[6]/1e6+1))),h.a=n,h.b=l,h.es=u,h.ep2=c,h};function it(t,e){if(!(this instanceof it))return new it(t);e=e||function(t){if(t)throw t};var n=B(t);if("object"==typeof n){var i=it.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var r=x(et,n.datumCode);r&&(n.datum_params=r.towgs84?r.towgs84.split(","):null,n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o,s,a,l,p,d,g,m=function(t,e,n,i,r){if(!t){var o=x(Q,i);o||(o=tt),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<f)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}(n.a,n.b,n.rf,n.ellps,n.sphere),v=(o=m.a,s=m.b,m.rf,a=n.R_A,d=((l=o*o)-(p=s*s))/l,g=0,a?(l=(o*=1-d*(u+d*(c+d*h)))*o,d=0):g=Math.sqrt(d),{es:d,e:g,ep2:(l-p)/p}),y=n.datum||nt(n.datumCode,n.datum_params,m.a,m.b,v.es,v.ep2);G(this,n),G(this,i),this.a=m.a,this.b=m.b,this.rf=m.rf,this.sphere=m.sphere,this.es=v.es,this.e=v.e,this.ep2=v.ep2,this.datum=y,this.init(),e(null,this)}else e(t)}else e(t)}it.projections=J,it.projections.start();var rt=it;function ot(t){return t===i||t===r}var st=function(t,e,n){return function(t,e){return t.datum_type===e.datum_type&&!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===i?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==r||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6])}(t,e)?n:t.datum_type===s||e.datum_type===s?n:t.es!==e.es||t.a!==e.a||ot(t.datum_type)||ot(e.datum_type)?(n=function(t,e,n){var i,r,o,s,a=t.x,u=t.y,c=t.z?t.z:0;if(u<-l&&u>-1.001*l)u=-l;else if(u>l&&u<1.001*l)u=l;else{if(u<-l)return{x:-1/0,y:-1/0,z:t.z};if(u>l)return{x:1/0,y:1/0,z:t.z}}return a>Math.PI&&(a-=2*Math.PI),r=Math.sin(u),s=Math.cos(u),o=r*r,{x:((i=n/Math.sqrt(1-e*o))+c)*s*Math.cos(a),y:(i+c)*s*Math.sin(a),z:(i*(1-e)+c)*r}}(n,t.es,t.a),ot(t.datum_type)&&(n=function(t,e,n){if(e===i)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===r){var o=n[0],s=n[1],a=n[2],l=n[3],u=n[4],c=n[5],h=n[6];return{x:h*(t.x-c*t.y+u*t.z)+o,y:h*(c*t.x+t.y-l*t.z)+s,z:h*(-u*t.x+l*t.y+t.z)+a}}}(n,t.datum_type,t.datum_params)),ot(e.datum_type)&&(n=function(t,e,n){if(e===i)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===r){var o=n[0],s=n[1],a=n[2],l=n[3],u=n[4],c=n[5],h=n[6],f=(t.x-o)/h,p=(t.y-s)/h,d=(t.z-a)/h;return{x:f+c*p-u*d,y:-c*f+p+l*d,z:u*f-l*p+d}}}(n,e.datum_type,e.datum_params)),function(t,e,n,i){var r,o,s,a,l,u,c,h,f,p,d,g,m,v,y,_=t.x,b=t.y,x=t.z?t.z:0;if(r=Math.sqrt(_*_+b*b),o=Math.sqrt(_*_+b*b+x*x),r/n<1e-12){if(v=0,o/n<1e-12)return y=-i,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(b,_);s=x/o,h=(a=r/o)*(1-e)*(l=1/Math.sqrt(1-e*(2-e)*a*a)),f=s*l,m=0;do{m++,u=e*(c=n/Math.sqrt(1-e*f*f))/(c+(y=r*h+x*f-c*(1-e*f*f))),g=(d=s*(l=1/Math.sqrt(1-u*(2-u)*a*a)))*h-(p=a*(1-u)*l)*f,h=p,f=d}while(g*g>1e-24&&m<30);return{x:v,y:Math.atan(d/Math.abs(p)),z:y}}(n,e.es,e.a,e.b)):n},at=function(t,e,n){var i,r,o,s=n.x,a=n.y,l=n.z||0,u={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=s,r="x"):1===o?(i=a,r="y"):(i=l,r="z"),t.axis[o]){case"e":u[r]=i;break;case"w":u[r]=-i;break;case"n":u[r]=i;break;case"s":u[r]=-i;break;case"u":void 0!==n[r]&&(u.z=i);break;case"d":void 0!==n[r]&&(u.z=-i);break;default:return null}return u},lt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},ut=function(t){ct(t.x),ct(t.y)};function ct(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function ht(t,e,n){var o;return Array.isArray(n)&&(n=lt(n)),ut(n),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===i||t.datum.datum_type===r)&&"WGS84"!==e.datumCode||(e.datum.datum_type===i||e.datum.datum_type===r)&&"WGS84"!==t.datumCode}(t,e)&&(n=ht(t,o=new rt("WGS84"),n),t=o),"enu"!==t.axis&&(n=at(t,!1,n)),"longlat"===t.projName?n={x:n.x*p,y:n.y*p}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=st(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y}),"longlat"===e.projName?n={x:n.x*d,y:n.y*d}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter})),"enu"!==e.axis?at(e,!0,n):n}var ft=rt("WGS84");function pt(t,e,n){var i,r,o;return Array.isArray(n)?(i=ht(t,e,n),3===n.length?[i.x,i.y,i.z]:[i.x,i.y]):(r=ht(t,e,n),2===(o=Object.keys(n)).length?r:(o.forEach(function(t){"x"!==t&&"y"!==t&&(r[t]=n[t])}),r))}function dt(t){return t instanceof rt?t:t.oProj?t.oProj:rt(t)}var gt=function(t,e,n){t=dt(t);var i,r=!1;return void 0===e?(e=t,t=ft,r=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=ft,r=!0),e=dt(e),n?pt(t,e,n):(i={forward:function(n){return pt(t,e,n)},inverse:function(n){return pt(e,t,n)}},r&&(i.oProj=e),i)},mt=6,vt="AJSAJS",yt="AFAFAF",_t=65,bt=73,xt=79,wt=86,Et=90,Ct={forward:St,inverse:function(t){var e=Tt(Pt(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:Mt};function St(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(p=t.easting,d=t.northing,g=t.zoneNumber,m=kt(g),v=Math.floor(p/1e5),y=Math.floor(d/1e5)%20,r=v,o=y,s=m,a=s-1,l=vt.charCodeAt(a),u=yt.charCodeAt(a),c=l+r-1,h=u+o,f=!1,c>Et&&(c=c-Et+_t-1,f=!0),(c===bt||l<bt&&c>bt||(c>bt||l<bt)&&f)&&c++,(c===xt||l<xt&&c>xt||(c>xt||l<xt)&&f)&&++c===bt&&c++,c>Et&&(c=c-Et+_t-1),h>wt?(h=h-wt+_t-1,f=!0):f=!1,(h===bt||u<bt&&h>bt||(h>bt||u<bt)&&f)&&h++,(h===xt||u<xt&&h>xt||(h>xt||u<xt)&&f)&&++h===bt&&h++,h>wt&&(h=h-wt+_t-1),String.fromCharCode(c)+String.fromCharCode(h))+n.substr(n.length-5,e)+i.substr(i.length-5,e);var r,o,s,a,l,u,c,h,f;var p,d,g,m,v,y}(function(t){var e,n,i,r,o,s,a,l=t.lat,u=t.lon,c=6378137,h=It(l),f=It(u);a=Math.floor((u+180)/6)+1,180===u&&(a=60);l>=56&&l<64&&u>=3&&u<12&&(a=32);l>=72&&l<84&&(u>=0&&u<9?a=31:u>=9&&u<21?a=33:u>=21&&u<33?a=35:u>=33&&u<42&&(a=37));s=It(6*(a-1)-180+3),.006739496752268451,e=c/Math.sqrt(1-.00669438*Math.sin(h)*Math.sin(h)),n=Math.tan(h)*Math.tan(h),i=.006739496752268451*Math.cos(h)*Math.cos(h),r=Math.cos(h)*(f-s),o=c*(.9983242984503243*h-.002514607064228144*Math.sin(2*h)+2639046602129982e-21*Math.sin(4*h)-3.418046101696858e-9*Math.sin(6*h));var p=.9996*e*(r+(1-n+i)*r*r*r/6+(5-18*n+n*n+72*i-.39089081163157013)*r*r*r*r*r/120)+5e5,d=.9996*(o+e*Math.tan(h)*(r*r/2+(5-n+9*i+4*i*i)*r*r*r*r/24+(61-58*n+n*n+600*i-2.2240339282485886)*r*r*r*r*r*r/720));l<0&&(d+=1e7);return{northing:Math.round(d),easting:Math.round(p),zoneNumber:a,zoneLetter:Nt(l)}}({lat:t[1],lon:t[0]}),e)}function Mt(t){var e=Tt(Pt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function It(t){return t*(Math.PI/180)}function Ot(t){return t/Math.PI*180}function Tt(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,s,a,l,u,c,h,f,p=6378137,d=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),g=n-5e5,m=e;i<"N"&&(m-=1e7),c=6*(r-1)-180+3,f=(h=m/.9996/6367449.145945056)+(3*d/2-27*d*d*d/32)*Math.sin(2*h)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*h)+151*d*d*d/96*Math.sin(6*h),o=p/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),s=Math.tan(f)*Math.tan(f),a=.006739496752268451*Math.cos(f)*Math.cos(f),l=.99330562*p/Math.pow(1-.00669438*Math.sin(f)*Math.sin(f),1.5),u=g/(.9996*o);var v=f-o*Math.tan(f)/l*(u*u/2-(5+3*s+10*a-4*a*a-.06065547077041606)*u*u*u*u/24+(61+90*s+298*a+45*s*s-1.6983531815716497-3*a*a)*u*u*u*u*u*u/720);v=Ot(v);var y,_=(u-(1+2*s+a)*u*u*u/6+(5-2*a+28*s-3*a*a+.05391597401814761+24*s*s)*u*u*u*u*u/120)/Math.cos(f);if(_=c+Ot(_),t.accuracy){var b=Tt({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});y={top:b.lat,right:b.lon,bottom:v,left:_}}else y={lat:v,lon:_};return y}function Nt(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function kt(t){var e=t%mt;return 0===e&&(e=mt),e}function Pt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;i=t.substring(o,o+=2);for(var l=kt(s),u=function(t,e){var n=vt.charCodeAt(e-1),i=1e5,r=!1;for(;n!==t.charCodeAt(0);){if(++n===bt&&n++,n===xt&&n++,n>Et){if(r)throw"Bad character: "+t;n=_t,r=!0}i+=1e5}return i}(i.charAt(0),l),c=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=yt.charCodeAt(e-1),i=0,r=!1;for(;n!==t.charCodeAt(0);){if(++n===bt&&n++,n===xt&&n++,n>wt){if(r)throw"Bad character: "+t;n=_t,r=!0}i+=1e5}return i}(i.charAt(1),l);c<At(a);)c+=2e6;var h=n-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,p,d,g=h/2,m=0,v=0;return g>0&&(f=1e5/Math.pow(10,g),p=t.substring(o,o+g),m=parseFloat(p)*f,d=t.substring(o+g),v=parseFloat(d)*f),{easting:m+u,northing:v+c,zoneLetter:a,zoneNumber:s,accuracy:f}}function At(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Lt(t,e,n){if(!(this instanceof Lt))return new Lt(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Lt.fromMGRS=function(t){return new Lt(Mt(t))},Lt.prototype.toMGRS=function(t){return St([this.x,this.y],t)};var Dt=Lt,Rt=n(114),jt=.01068115234375,Ft=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*jt))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*jt)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},zt=function(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))},Bt=function(t,e,n){for(var i=1/(1-e),r=t,o=20;o;--o){var s=Math.sin(r),a=1-e*s*s;if(r-=a=(zt(r,s,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,Math.abs(a)<f)return r}return r};var Gt={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Ft(this.es),this.ml0=zt(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,i,r=t.x,o=t.y,s=W(r-this.long0),a=Math.sin(o),l=Math.cos(o);if(this.es){var u=l*s,c=Math.pow(u,2),h=this.ep2*Math.pow(l,2),p=Math.pow(h,2),d=Math.abs(l)>f?Math.tan(o):0,g=Math.pow(d,2),m=Math.pow(g,2);e=1-this.es*Math.pow(a,2),u/=Math.sqrt(e);var v=zt(o,a,l,this.en);n=this.a*(this.k0*u*(1+c/6*(1-g+h+c/20*(5-18*g+m+14*h-58*g*h+c/42*(61+179*m-m*g-479*g)))))+this.x0,i=this.a*(this.k0*(v-this.ml0+a*s*u/2*(1+c/12*(5-g+9*h+4*p+c/30*(61+m-58*g+270*h-330*g*h+c/56*(1385+543*m-m*g-3111*g))))))+this.y0}else{var y=l*Math.sin(s);if(Math.abs(Math.abs(y)-1)<f)return 93;if(n=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,i=l*Math.cos(s)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(i))>=1){if(y-1>f)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t},inverse:function(t){var e,n,i,r,o=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,n=Bt(e,this.es,this.en),Math.abs(n)<l){var a=Math.sin(n),u=Math.cos(n),c=Math.abs(u)>f?Math.tan(n):0,h=this.ep2*Math.pow(u,2),p=Math.pow(h,2),d=Math.pow(c,2),g=Math.pow(d,2);e=1-this.es*Math.pow(a,2);var m=o*Math.sqrt(e)/this.k0,v=Math.pow(m,2);i=n-(e*=c)*v/(1-this.es)*.5*(1-v/12*(5+3*d-9*h*d+h-4*p-v/30*(61+90*d-252*h*d+45*g+46*h-v/56*(1385+3633*d+4095*g+1574*g*d)))),r=W(this.long0+m*(1-v/6*(1+2*d+h-v/20*(5+28*d+24*g+8*h*d+6*h-v/42*(61+662*d+1320*g+720*g*d))))/u)}else i=l*H(s),r=0;else{var y=Math.exp(o/this.k0),_=.5*(y-1/y),b=this.lat0+s/this.k0,x=Math.cos(b);e=Math.sqrt((1-Math.pow(x,2))/(1+Math.pow(_,2))),i=Math.asin(e),s<0&&(i=-i),r=0===_&&0===x?0:W(Math.atan2(_,x)+this.long0)}return t.x=r,t.y=i,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},qt=function(t){var e=Math.exp(t);return e=(e-1/e)/2},Ht=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))},Wt=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(Ht(1,e)+1))),t<0?-e:e},Ut=function(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return e+n*Math.sin(2*e)},Yt=function(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return Math.sin(e)*n},Vt=function(t,e,n){for(var i,r,o=Math.sin(e),s=Math.cos(e),a=qt(n),l=function(t){var e=Math.exp(t);return e=(e+1/e)/2}(n),u=2*s*l,c=-2*o*a,h=t.length-1,f=t[h],p=0,d=0,g=0;--h>=0;)i=d,r=p,f=u*(d=f)-i-c*(p=g)+t[h],g=c*d-r+u*p;return[(u=o*l)*f-(c=s*a)*g,u*g+c*f]};var Xt={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var i=Ut(this.cbg,this.lat0);this.Zb=-this.Qn*(i+Yt(this.gtu,2*i))},forward:function(t){var e=W(t.x-this.long0),n=t.y;n=Ut(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(i,s*r),e=Math.atan2(o*r,Ht(i,r*s)),e=Wt(Math.tan(e));var a,l,u=Vt(this.gtu,2*n,2*e);return n+=u[0],e+=u[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,l=1/0),t.x=a,t.y=l,t},inverse:function(t){var e,n,i=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=Vt(this.utg,2*r,2*i);r+=o[0],i+=o[1],i=Math.atan(qt(i));var s=Math.sin(r),a=Math.cos(r),l=Math.sin(i),u=Math.cos(i);r=Math.atan2(s*u,Ht(l,u*a)),i=Math.atan2(l,u*a),e=W(i+this.long0),n=Ut(this.cgb,r)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Kt=function(t,e){if(void 0===t){if((t=Math.floor(30*(W(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t};var $t={init:function(){var t=Kt(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*p,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Xt.init.apply(this),this.forward=Xt.forward,this.inverse=Xt.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Zt=function(t,e){return Math.pow((1-t)/(1+t),e)},Jt=20;var Qt={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+g)/(Math.pow(Math.tan(.5*this.lat0+g),this.C)*Zt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+g),this.C)*Zt(this.e*Math.sin(n),this.ratexp))-l,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+g)/this.K,1/this.C),r=Jt;r>0&&(n=2*Math.atan(i*Zt(this.e*Math.sin(t.y),-.5*this.e))-l,!(Math.abs(n-t.y)<1e-14));--r)t.y=n;return r?(t.x=e,t.y=n,t):null},names:["gauss"]};var te={init:function(){Qt.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,i,r;return t.x=W(t.x-this.long0),Qt.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,i,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,Qt.inverse.apply(this,[t]),t.x=W(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var ee={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=f&&(this.k0=.5*(1+H(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=f&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=f&&(this.k0=.5*this.cons*q(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/U(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=q(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-l,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,i,r,o,s,a=t.x,u=t.y,c=Math.sin(u),h=Math.cos(u),p=W(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=f&&Math.abs(u+this.lat0)<=f?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*h*Math.cos(p)),t.x=this.a*e*h*Math.sin(p)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*h*Math.cos(p))+this.y0,t):(n=2*Math.atan(this.ssfn_(u,c,this.e))-l,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=f?(o=U(this.e,u*this.con,this.con*c),s=2*this.a*this.k0*o/this.cons,t.x=this.x0+s*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<f?(e=2*this.a*this.k0/(1+r*Math.cos(p)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(p))),t.y=e*(this.cosX0*i-this.sinX0*r*Math.cos(p))+this.y0),t.x=e*r*Math.sin(p)+this.x0,t))},inverse:function(t){var e,n,i,r,o;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,n=this.lat0,s<=f?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/s),e=Math.abs(this.coslat0)<f?this.lat0>0?W(this.long0+Math.atan2(t.x,-1*t.y)):W(this.long0+Math.atan2(t.x,t.y)):W(this.long0+Math.atan2(t.x*Math.sin(a),s*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=f){if(s<=f)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=s*this.cons/(2*this.a*this.k0),n=this.con*Y(this.e,i),e=this.con*W(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=f?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/s),e=W(this.long0+Math.atan2(t.x*Math.sin(r),s*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*Y(this.e,Math.tan(.5*(l+o)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(l+t))*Math.pow((1-e)/(1+e),.5*n)}};var ne={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),o=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+s/this.alpha,l=0,u=o,c=-1e3,h=0;Math.abs(u-c)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=u,t},names:["somerc"]};var ie={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var i,r,o=U(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(s*s<1&&(s=1),isNaN(this.longc)){var a=U(this.e,this.lat1,Math.sin(this.lat1)),l=U(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(s+Math.sqrt(s*s-1))*Math.pow(o,this.bl):this.el=(s-Math.sqrt(s*s-1))*Math.pow(o,this.bl);var u=Math.pow(a,this.bl),c=Math.pow(l,this.bl);r=.5*((i=this.el/u)-1/i);var h=(this.el*this.el-c*u)/(this.el*this.el+c*u),f=(c-u)/(c+u),p=W(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*p)/f)/this.bl,this.long0=W(this.long0);var d=W(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/r),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else i=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=i*Math.pow(o,this.bl),r=.5*(i-1/i),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(r*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},forward:function(t){var e,n,i,r=t.x,o=t.y,s=W(r-this.long0);if(Math.abs(Math.abs(o)-l)<=f)i=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(g+i*this.gamma0*.5)),e=-1*i*l*this.al/this.bl;else{var a=U(this.e,o,Math.sin(o)),u=this.el/Math.pow(a,this.bl),c=.5*(u-1/u),h=.5*(u+1/u),p=Math.sin(this.bl*s),d=(c*Math.sin(this.gamma0)-p*Math.cos(this.gamma0))/h;n=Math.abs(Math.abs(d)-1)<=f?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-d)/(1+d))/this.bl,e=Math.abs(Math.cos(this.bl*s))<=f?this.al*this.bl*s:this.al*Math.atan2(c*Math.cos(this.gamma0)+p*Math.sin(this.gamma0),Math.cos(this.bl*s))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),r=.5*(i-1/i),o=.5*(i+1/i),s=Math.sin(this.bl*e/this.al),a=(s*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/o,u=Math.pow(this.el/Math.sqrt((1+a)/(1-a)),1/this.bl);return Math.abs(a-1)<f?(t.x=this.long0,t.y=l):Math.abs(a+1)<f?(t.x=this.long0,t.y=-1*l):(t.y=Y(this.e,u),t.x=W(this.long0-Math.atan2(r*Math.cos(this.gamma0)-s*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]};var re={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<f)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=q(this.e,e,n),r=U(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=q(this.e,o,s),l=U(this.e,this.lat2,o),u=U(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>f?this.ns=Math.log(i/a)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=f&&(n=H(n)*(l-2*f));var i,r,o=Math.abs(Math.abs(n)-l);if(o>f)i=U(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if((o=n*this.ns)<=0)return null;r=0}var s=this.ns*W(e-this.long0);return t.x=this.k0*(r*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(s))+this.y0,t},inverse:function(t){var e,n,i,r,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),n=1):(e=-Math.sqrt(s*s+a*a),n=-1);var u=0;if(0!==e&&(u=Math.atan2(n*s,n*a)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(r=Y(this.e,i)))return null}else r=-l;return o=W(u/this.ns+this.long0),t.x=o,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]};var oe={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,i,r,o,s,a,l=t.x,u=t.y,c=W(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),i=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,i,r,o,s,a,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,a=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,u+=1}while(0===a&&u<15);return u>=15?null:t},names:["Krovak","krovak"]},se=function(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)},ae=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},le=function(t){return.375*t*(1+.25*t*(1+.46875*t))},ue=function(t){return.05859375*t*t*(1+.75*t)},ce=function(t){return t*t*t*(35/3072)},he=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)},fe=function(t){return Math.abs(t)<l?t:t-H(t)*Math.PI},pe=function(t,e,n,i,r){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN};var de={init:function(){this.sphere||(this.e0=ae(this.es),this.e1=le(this.es),this.e2=ue(this.es),this.e3=ce(this.es),this.ml0=this.a*se(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,i=t.x,r=t.y;if(i=W(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),s=Math.cos(r),a=he(this.a,this.e,o),l=Math.tan(r)*Math.tan(r),u=i*Math.cos(r),c=u*u,h=this.es*s*s/(1-this.es);e=a*u*(1-c*l*(1/6-(8-l+8*h)*c/120)),n=this.a*se(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*o/s*c*(.5+(5-l+6*h)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var s=this.ml0/this.a+r,a=pe(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-l)<=f)return t.x=this.long0,t.y=l,r<0&&(t.y*=-1),t;var u=he(this.a,this.e,Math.sin(a)),c=u*u*u/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(a),2),p=i*this.a/u,d=p*p;e=a-u*Math.tan(a)/c*p*p*(.5-(1+3*h)*p*p/24),n=p*(1-d*(h/3+(1+3*h)*h*d/15))/Math.cos(a)}return t.x=W(n+this.long0),t.y=fe(e),t},names:["Cassini","Cassini_Soldner","cass"]},ge=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e};var me=.3333333333333333,ve=.17222222222222222,ye=.10257936507936508,_e=.06388888888888888,be=.0664021164021164,xe=.016415012942191543;var we={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-l)<f?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<f?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=ge(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*me,e=t*t,n[0]+=e*ve,n[1]=e*_e,e*=t,n[0]+=e*ye,n[1]+=e*be,n[2]=e*xe,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=ge(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,i,r,o,s,a,u,c,h,p=t.x,d=t.y;if(p=W(p-this.long0),this.sphere){if(o=Math.sin(d),h=Math.cos(d),i=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+h*i:1+this.sinph0*o+this.cosph0*h*i)<=f)return null;e=(n=Math.sqrt(2/n))*h*Math.sin(p),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*h*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(d+this.phi0)<f)return null;n=g-.5*d,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(p),n*=i}}else{switch(a=0,u=0,c=0,i=Math.cos(p),r=Math.sin(p),o=Math.sin(d),s=ge(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,u=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*u*i;break;case this.EQUIT:c=1+u*i;break;case this.N_POLE:c=l+d,s=this.qp-s;break;case this.S_POLE:c=d-l,s=this.qp+s}if(Math.abs(c)<f)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*a-this.sinb1*u*i):(c=Math.sqrt(2/(1+u*i)))*a*this.ymf,e=this.xmf*c*u*r;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(c=Math.sqrt(s))*r,n=i*(this.mode===this.S_POLE?c:-c)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,s,a,u,c,h,p=t.x/this.a,d=t.y/this.a;if(this.sphere){var g,m=0,v=0;if((n=.5*(g=Math.sqrt(p*p+d*d)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(v=Math.sin(n),m=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(g)<=f?0:Math.asin(d*v/g),p*=v,d=m*g;break;case this.OBLIQ:n=Math.abs(g)<=f?this.phi0:Math.asin(m*this.sinph0+d*v*this.cosph0/g),p*=v*this.cosph0,d=(m-Math.sin(n)*this.sinph0)*g;break;case this.N_POLE:d=-d,n=l-n;break;case this.S_POLE:n-=l}e=0!==d||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(p,d):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(p/=this.dd,d*=this.dd,(s=Math.sqrt(p*p+d*d))<f)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*s/this.rq),i=Math.cos(r),p*=r=Math.sin(r),this.mode===this.OBLIQ?(a=i*this.sinb1+d*r*this.cosb1/s,o=this.qp*a,d=s*this.cosb1*i-d*this.sinb1*r):(a=d*r/s,o=this.qp*a,d=s*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(d=-d),!(o=p*p+d*d))return t.x=0,t.y=this.phi0,t;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(p,d),u=Math.asin(a),c=this.apa,h=u+u,n=u+c[0]*Math.sin(h)+c[1]*Math.sin(h+h)+c[2]*Math.sin(h+h+h)}return t.x=W(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Ee=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};var Ce={init:function(){Math.abs(this.lat1+this.lat2)<f||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=q(this.e3,this.sin_po,this.cos_po),this.qs1=ge(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=q(this.e3,this.sin_po,this.cos_po),this.qs2=ge(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=ge(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>f?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=ge(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*W(e-this.long0),s=r*Math.sin(o)+this.x0,a=this.rh-r*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,0!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,n)),o=W(r/this.ns0+this.long0),t.x=o,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,i,r,o,s=Ee(.5*e);if(t<f)return s;for(var a=t*t,l=1;l<=25;l++)if(s+=o=.5*(r=1-(i=t*(n=Math.sin(s)))*i)*r/Math.cos(s)*(e/(1-a)-n/r+.5/t*Math.log((1-i)/(1+i))),Math.abs(o)<=1e-7)return s;return null}};var Se={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,i,r,o,s,a,l=t.x,u=t.y;return i=W(l-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),(o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=f?(s=this.x0+1*this.a*n*Math.sin(i)/o,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)/o):(s=this.x0+this.infinity_dist*n*Math.sin(i),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),s=Ee(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),o=W(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]},Me=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*l:l;for(var i,r,o,s,a=Math.asin(.5*e),u=0;u<30;u++)if(r=Math.sin(a),o=Math.cos(a),s=t*r,a+=i=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-r/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(i)<=1e-10)return a;return NaN};var Ie={init:function(){this.sphere||(this.k0=q(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,i=t.x,r=t.y,o=W(i-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=ge(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=W(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=Me(this.e,2*t.y*this.k0/this.a),e=W(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]};var Oe={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,i=W(e-this.long0),r=fe(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t},inverse:function(t){var e=t.x,n=t.y;return t.x=W(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=fe(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Te=20;var Ne={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ae(this.es),this.e1=le(this.es),this.e2=ue(this.es),this.e3=ce(this.es),this.ml0=this.a*se(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,i,r=t.x,o=t.y,s=W(r-this.long0);if(i=s*Math.sin(o),this.sphere)Math.abs(o)<=f?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),n=this.a*(fe(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=f)e=this.a*s,n=-1*this.ml0;else{var a=he(this.a,this.e,Math.sin(o))/Math.tan(o);e=a*Math.sin(i),n=this.a*se(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,i,r,o,s,a,l,u;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=f)e=W(i/this.a+this.long0),n=0;else{var c;for(s=this.lat0+r/this.a,a=i*i/this.a/this.a+s*s,l=s,o=Te;o;--o)if(l+=u=-1*(s*(l*(c=Math.tan(l))+1)-l-.5*(l*l+a)*c)/((l-s)/c-1),Math.abs(u)<=f){n=l;break}e=W(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=f)n=0,e=W(this.long0+i/this.a);else{var h,p,d,g,m;for(s=(this.ml0+r)/this.a,a=i*i/this.a/this.a+s*s,l=s,o=Te;o;--o)if(m=this.e*Math.sin(l),h=Math.sqrt(1-m*m)*Math.tan(l),p=this.a*se(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=u=(s*(h*(g=p/this.a)+1)-g-.5*h*(g*g+a))/(this.es*Math.sin(2*l)*(g*g+a-2*s*g)/(4*h)+(s-g)*(h*d-2/Math.sin(2*l))-d),Math.abs(u)<=f){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=W(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]};var ke={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,i=t.y-this.lat0,r=n-this.long0,o=i/a*1e-5,s=r,l=1,u=0;for(e=1;e<=10;e++)l*=o,u+=this.A[e]*l;var c,h=u,f=s,p=1,d=0,g=0,m=0;for(e=1;e<=6;e++)c=d*h+p*f,p=p*h-d*f,d=c,g=g+this.B_re[e]*p-this.B_im[e]*d,m=m+this.B_im[e]*p+this.B_re[e]*d;return t.x=m*this.a+this.x0,t.y=g*this.a+this.y0,t},inverse:function(t){var e,n,i=t.x,r=t.y,o=i-this.x0,s=(r-this.y0)/this.a,l=o/this.a,u=1,c=0,h=0,f=0;for(e=1;e<=6;e++)n=c*s+u*l,u=u*s-c*l,c=n,h=h+this.C_re[e]*u-this.C_im[e]*c,f=f+this.C_im[e]*u+this.C_re[e]*c;for(var p=0;p<this.iterations;p++){var d,g=h,m=f,v=s,y=l;for(e=2;e<=6;e++)d=m*h+g*f,g=g*h-m*f,m=d,v+=(e-1)*(this.B_re[e]*g-this.B_im[e]*m),y+=(e-1)*(this.B_im[e]*g+this.B_re[e]*m);g=1,m=0;var _=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)d=m*h+g*f,g=g*h-m*f,m=d,_+=e*(this.B_re[e]*g-this.B_im[e]*m),b+=e*(this.B_im[e]*g+this.B_re[e]*m);var x=_*_+b*b;h=(v*_+y*b)/x,f=(y*_-v*b)/x}var w=h,E=f,C=1,S=0;for(e=1;e<=9;e++)C*=w,S+=this.D[e]*C;var M=this.lat0+S*a*1e5,I=this.long0+E;return t.x=I,t.y=M,t},names:["New_Zealand_Map_Grid","nzmg"]};var Pe={init:function(){},forward:function(t){var e=t.x,n=t.y,i=W(e-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=W(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},Ae=20;var Le={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ft(this.es)},forward:function(t){var e,n,i=t.x,r=t.y;if(i=W(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),s=Ae;s;--s){var a=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<f)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),u=Math.cos(r);n=this.a*zt(r,l,u,this.en),e=this.a*i*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=Ee((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Ee(Math.sin(e)/this.n)),i=W(i+this.long0),e=fe(e)):(e=Bt(t.y/this.a,this.es,this.en),(r=Math.abs(e))<l?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=W(n)):r-f<l&&(i=this.long0)),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]};var De={init:function(){},forward:function(t){for(var e=t.x,n=t.y,i=W(e-this.long0),r=n,o=Math.PI*Math.sin(n);;){var s=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=s,Math.abs(s)<f)break}r/=2,Math.PI/2-Math.abs(n)<f&&(i=0);var a=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=l,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=W(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t},names:["Mollweide","moll"]};var Re={init:function(){Math.abs(this.lat1+this.lat2)<f||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ae(this.es),this.e1=le(this.es),this.e2=ue(this.es),this.e3=ce(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=q(this.e,this.sinphi,this.cosphi),this.ml1=se(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<f?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=q(this.e,this.sinphi,this.cosphi),this.ml2=se(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=se(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=se(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*W(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=W(this.long0+o/this.ns),i=fe(this.g-n/this.a),t.x=r,t.y=i,t;var s=this.g-n/this.a;return i=pe(s,this.e0,this.e1,this.e2,this.e3),r=W(this.long0+o/this.ns),t.x=r,t.y=i,t},names:["Equidistant_Conic","eqdc"]};var je={init:function(){this.R=this.a},forward:function(t){var e,n,i=t.x,r=t.y,o=W(i-this.long0);Math.abs(r)<=f&&(e=this.x0+this.R*o,n=this.y0);var s=Ee(2*Math.abs(r/Math.PI));(Math.abs(o)<=f||Math.abs(Math.abs(r)-l)<=f)&&(e=this.x0,n=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/o-o/Math.PI),u=a*a,c=Math.sin(s),h=Math.cos(s),p=h/(c+h-1),d=p*p,g=p*(2/c-1),m=g*g,v=Math.PI*this.R*(a*(p-m)+Math.sqrt(u*(p-m)*(p-m)-(m+u)*(d-m)))/(m+u);o<0&&(v=-v),e=this.x0+v;var y=u+p;return v=Math.PI*this.R*(g*y-a*Math.sqrt((m+u)*(u+1)-y*y))/(m+u),n=r>=0?this.y0+v:this.y0-v,t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r,o,s,a,l,u,c,h,p;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,o=(i=t.x/h)*i+(r=t.y/h)*r,h=3*(r*r/(l=-2*(s=-Math.abs(r)*(1+o))+1+2*r*r+o*o)+(2*(a=s-2*r*r+i*i)*a*a/l/l/l-9*s*a/l/l)/27)/(u=(s-a*a/3/l)/l)/(c=2*Math.sqrt(-u/3)),Math.abs(h)>1&&(h=h>=0?1:-1),p=Math.acos(h)/3,n=t.y>=0?(-c*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:-(-c*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,e=Math.abs(i)<f?this.long0:W(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var Fe={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,s,a,u,c,h,p,d,g,m,v,y,_,b,x,w,E,C,S=t.x,M=t.y,I=Math.sin(t.y),O=Math.cos(t.y),T=W(S-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=f?(t.x=this.x0+this.a*(l-M)*Math.sin(T),t.y=this.y0-this.a*(l-M)*Math.cos(T),t):Math.abs(this.sin_p12+1)<=f?(t.x=this.x0+this.a*(l+M)*Math.sin(T),t.y=this.y0+this.a*(l+M)*Math.cos(T),t):(b=this.sin_p12*I+this.cos_p12*O*Math.cos(T),_=(y=Math.acos(b))/Math.sin(y),t.x=this.x0+this.a*_*O*Math.sin(T),t.y=this.y0+this.a*_*(this.cos_p12*I-this.sin_p12*O*Math.cos(T)),t):(e=ae(this.es),n=le(this.es),i=ue(this.es),r=ce(this.es),Math.abs(this.sin_p12-1)<=f?(o=this.a*se(e,n,i,r,l),s=this.a*se(e,n,i,r,M),t.x=this.x0+(o-s)*Math.sin(T),t.y=this.y0-(o-s)*Math.cos(T),t):Math.abs(this.sin_p12+1)<=f?(o=this.a*se(e,n,i,r,l),s=this.a*se(e,n,i,r,M),t.x=this.x0+(o+s)*Math.sin(T),t.y=this.y0+(o+s)*Math.cos(T),t):(a=I/O,u=he(this.a,this.e,this.sin_p12),c=he(this.a,this.e,I),h=Math.atan((1-this.es)*a+this.es*u*this.sin_p12/(c*O)),x=0===(p=Math.atan2(Math.sin(T),this.cos_p12*Math.tan(h)-this.sin_p12*Math.cos(T)))?Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.abs(Math.abs(p)-Math.PI)<=f?-Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.asin(Math.sin(T)*Math.cos(h)/Math.sin(p)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),y=u*x*(1-(w=x*x)*(v=(g=this.e*this.cos_p12*Math.cos(p)/Math.sqrt(1-this.es))*g)*(1-v)/6+(E=w*x)/8*(m=d*g)*(1-2*v)+(C=E*x)/120*(v*(4-7*v)-3*d*d*(1-7*v))-C*x/48*m),t.x=this.x0+y*Math.sin(p),t.y=this.y0+y*Math.cos(p),t))},inverse:function(t){var e,n,i,r,o,s,a,u,c,h,p,d,g,m,v,y,_,b,x,w,E,C;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*l*this.a)return;return n=e/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=f?s=this.lat0:(s=Ee(r*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-l,o=Math.abs(a)<=f?this.lat0>=0?W(this.long0+Math.atan2(t.x,-t.y)):W(this.long0-Math.atan2(-t.x,t.y)):W(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=o,t.y=s,t}return u=ae(this.es),c=le(this.es),h=ue(this.es),p=ce(this.es),Math.abs(this.sin_p12-1)<=f?(d=this.a*se(u,c,h,p,l),e=Math.sqrt(t.x*t.x+t.y*t.y),s=pe((d-e)/this.a,u,c,h,p),o=W(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=f?(d=this.a*se(u,c,h,p,l),e=Math.sqrt(t.x*t.x+t.y*t.y),s=pe((e-d)/this.a,u,c,h,p),o=W(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),v=Math.atan2(t.x,t.y),g=he(this.a,this.e,this.sin_p12),y=Math.cos(v),b=-(_=this.e*this.cos_p12*y)*_/(1-this.es),x=3*this.es*(1-b)*this.sin_p12*this.cos_p12*y/(1-this.es),C=1-b*(E=(w=e/g)-b*(1+b)*Math.pow(w,3)/6-x*(1+3*b)*Math.pow(w,4)/24)*E/2-w*E*E*E/6,m=Math.asin(this.sin_p12*Math.cos(E)+this.cos_p12*Math.sin(E)*y),o=W(this.long0+Math.asin(Math.sin(v)*Math.sin(E)/Math.cos(m))),s=Math.atan((1-this.es*C*this.sin_p12/Math.sin(m))*Math.tan(m)/(1-this.es)),t.x=o,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]};var ze={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,s,a,l=t.x,u=t.y;return i=W(l-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),((o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=f)&&(s=1*this.a*n*Math.sin(i),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Ee(e/this.a),i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(e)<=f?(a=this.lat0,t.x=s,t.y=a,t):(a=Ee(r*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-l,Math.abs(o)<=f?(s=this.lat0>=0?W(this.long0+Math.atan2(t.x,-t.y)):W(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=W(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=s,t.y=a,t))},names:["ortho"]},Be={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},Ge={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function qe(t,e,n,i){var r;return t<f?(i.value=Ge.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=g?i.value=Ge.AREA_0:r>g&&r<=l+g?(i.value=Ge.AREA_1,r-=l):r>l+g||r<=-(l+g)?(i.value=Ge.AREA_2,r=r>=0?r-v:r+v):(i.value=Ge.AREA_3,r+=l)),r}function He(t,e){var n=t+e;return n<-v?n+=m:n>+v&&(n-=m),n}var We={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=l-g/2?this.face=Be.TOP:this.lat0<=-(l-g/2)?this.face=Be.BOTTOM:Math.abs(this.long0)<=g?this.face=Be.FRONT:Math.abs(this.long0)<=l+g?this.face=this.long0>0?Be.RIGHT:Be.LEFT:this.face=Be.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,i,r,o,s,a={x:0,y:0},u={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===Be.TOP)r=l-e,n>=g&&n<=l+g?(u.value=Ge.AREA_0,i=n-l):n>l+g||n<=-(l+g)?(u.value=Ge.AREA_1,i=n>0?n-v:n+v):n>-(l+g)&&n<=-g?(u.value=Ge.AREA_2,i=n+l):(u.value=Ge.AREA_3,i=n);else if(this.face===Be.BOTTOM)r=l+e,n>=g&&n<=l+g?(u.value=Ge.AREA_0,i=-n+l):n<g&&n>=-g?(u.value=Ge.AREA_1,i=-n):n<-g&&n>=-(l+g)?(u.value=Ge.AREA_2,i=-n-l):(u.value=Ge.AREA_3,i=n>0?-n+v:-n-v);else{var c,h,f,p,d,m;this.face===Be.RIGHT?n=He(n,+l):this.face===Be.BACK?n=He(n,+v):this.face===Be.LEFT&&(n=He(n,-l)),p=Math.sin(e),d=Math.cos(e),m=Math.sin(n),c=d*Math.cos(n),h=d*m,f=p,this.face===Be.FRONT?i=qe(r=Math.acos(c),f,h,u):this.face===Be.RIGHT?i=qe(r=Math.acos(h),f,-c,u):this.face===Be.BACK?i=qe(r=Math.acos(-c),f,-h,u):this.face===Be.LEFT?i=qe(r=Math.acos(-h),f,c,u):(r=i=0,u.value=Ge.AREA_0)}return s=Math.atan(12/v*(i+Math.acos(Math.sin(i)*Math.cos(g))-l)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),u.value===Ge.AREA_1?s+=l:u.value===Ge.AREA_2?s+=v:u.value===Ge.AREA_3&&(s+=1.5*v),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t},inverse:function(t){var e,n,i,r,o,s,a,u,c,h,f,p,d={lam:0,phi:0},g={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?g.value=Ge.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(g.value=Ge.AREA_1,e-=l):t.x<0&&-t.x>=Math.abs(t.y)?(g.value=Ge.AREA_2,e=e<0?e+v:e-v):(g.value=Ge.AREA_3,e+=l),c=v/12*Math.tan(e),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(o),(a=1-(i=Math.cos(e))*i*(r=Math.tan(n))*r*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),this.face===Be.TOP)u=Math.acos(a),d.phi=l-u,g.value===Ge.AREA_0?d.lam=s+l:g.value===Ge.AREA_1?d.lam=s<0?s+v:s-v:g.value===Ge.AREA_2?d.lam=s-l:d.lam=s;else if(this.face===Be.BOTTOM)u=Math.acos(a),d.phi=u-l,g.value===Ge.AREA_0?d.lam=-s+l:g.value===Ge.AREA_1?d.lam=-s:g.value===Ge.AREA_2?d.lam=-s-l:d.lam=s<0?-s-v:-s+v;else{var m,y,_;c=(m=a)*m,y=(c+=(_=c>=1?0:Math.sqrt(1-c)*Math.sin(s))*_)>=1?0:Math.sqrt(1-c),g.value===Ge.AREA_1?(c=y,y=-_,_=c):g.value===Ge.AREA_2?(y=-y,_=-_):g.value===Ge.AREA_3&&(c=y,y=_,_=-c),this.face===Be.RIGHT?(c=m,m=-y,y=c):this.face===Be.BACK?(m=-m,y=-y):this.face===Be.LEFT&&(c=m,m=y,y=-c),d.phi=Math.acos(-_)-l,d.lam=Math.atan2(y,m),this.face===Be.RIGHT?d.lam=He(d.lam,-l):this.face===Be.BACK?d.lam=He(d.lam,-v):this.face===Be.LEFT&&(d.lam=He(d.lam,+l))}return 0!==this.es&&(h=d.phi<0?1:0,f=Math.tan(d.phi),p=this.b/Math.sqrt(f*f+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),h&&(d.phi=-d.phi)),d.lam+=this.long0,t.x=d.lam,t.y=d.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Ue=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],Ye=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],Ve=.8487,Xe=1.3523,Ke=d/5,$e=1/Ke,Ze=18,Je=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},Qe=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])};var tn,en={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=W(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*Ke);i<0?i=0:i>=Ze&&(i=Ze-1),n=d*(n-$e*i);var r={x:Je(Ue[i],n)*e,y:Je(Ye[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*Ve+this.x0,r.y=r.y*this.a*Xe+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*Ve),y:Math.abs(t.y-this.y0)/(this.a*Xe)};if(e.y>=1)e.x/=Ue[Ze][0],e.y=t.y<0?-l:l;else{var n=Math.floor(e.y*Ze);for(n<0?n=0:n>=Ze&&(n=Ze-1);;)if(Ye[n][0]>e.y)--n;else{if(!(Ye[n+1][0]<=e.y))break;++n}var i=Ye[n],r=5*(e.y-i[0])/(Ye[n+1][0]-i[0]);r=function(t,e,n,i){for(var r=e;i;--i){var o=t(r);if(r-=o,Math.abs(o)<n)break}return r}(function(t){return(Je(i,t)-e.y)/Qe(i,t)},r,f,100),e.x/=Je(Ue[n],r),e.y=(5*n+r)*p,t.y<0&&(e.y=-e.y)}return e.x=W(e.x+this.long0),e},names:["Robinson","robin"]};gt.defaultDatum="WGS84",gt.Proj=rt,gt.WGS84=new gt.Proj("WGS84"),gt.Point=Dt,gt.toPoint=lt,gt.defs=j,gt.transform=ht,gt.mgrs=Ct,gt.version=Rt.a,(tn=gt).Proj.projections.add(Gt),tn.Proj.projections.add(Xt),tn.Proj.projections.add($t),tn.Proj.projections.add(te),tn.Proj.projections.add(ee),tn.Proj.projections.add(ne),tn.Proj.projections.add(ie),tn.Proj.projections.add(re),tn.Proj.projections.add(oe),tn.Proj.projections.add(de),tn.Proj.projections.add(we),tn.Proj.projections.add(Ce),tn.Proj.projections.add(Se),tn.Proj.projections.add(Ie),tn.Proj.projections.add(Oe),tn.Proj.projections.add(Ne),tn.Proj.projections.add(ke),tn.Proj.projections.add(Pe),tn.Proj.projections.add(Le),tn.Proj.projections.add(De),tn.Proj.projections.add(Re),tn.Proj.projections.add(je),tn.Proj.projections.add(Fe),tn.Proj.projections.add(ze),tn.Proj.projections.add(We),tn.Proj.projections.add(en);e.a=gt},function(t,e,n){"use strict";var i=n(32),r=n(48),o=n(14),s=n(18),a=n(29),l=n(4),u=n(2),c=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};c.prototype.clone=function(){return new c({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},c.prototype.getOpacity=function(){return this.opacity_},c.prototype.getRotateWithView=function(){return this.rotateWithView_},c.prototype.getRotation=function(){return this.rotation_},c.prototype.getScale=function(){return this.scale_},c.prototype.getSnapToPixel=function(){return!1},c.prototype.getAnchor=function(){return Object(u.b)()},c.prototype.getImage=function(t){return Object(u.b)()},c.prototype.getHitDetectionImage=function(t){return Object(u.b)()},c.prototype.getImageState=function(){return Object(u.b)()},c.prototype.getImageSize=function(){return Object(u.b)()},c.prototype.getHitDetectionImageSize=function(){return Object(u.b)()},c.prototype.getOrigin=function(){return Object(u.b)()},c.prototype.getSize=function(){return Object(u.b)()},c.prototype.setOpacity=function(t){this.opacity_=t},c.prototype.setRotateWithView=function(t){this.rotateWithView_=t},c.prototype.setRotation=function(t){this.rotation_=t},c.prototype.setScale=function(t){this.scale_=t},c.prototype.setSnapToPixel=function(t){},c.prototype.listenImageChange=function(t,e){return Object(u.b)()},c.prototype.load=function(){Object(u.b)()},c.prototype.unlistenImageChange=function(t,e){Object(u.b)()};var h=function(t){function e(e){var n=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return a.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,n,i="",a="",u=0,c=null,h=0,f=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=l.k),n=Object(r.a)(n),void 0===(f=this.stroke_.getWidth())&&(f=l.h),c=this.stroke_.getLineDash(),h=this.stroke_.getLineDashOffset(),s.a||(c=null,h=0),void 0===(a=this.stroke_.getLineJoin())&&(a=l.g),void 0===(i=this.stroke_.getLineCap())&&(i=l.d),void 0===(u=this.stroke_.getMiterLimit())&&(u=l.i));var p=2*(this.radius_+f)+1,d={strokeStyle:n,strokeWidth:f,size:p,lineCap:i,lineDash:c,lineDashOffset:h,lineJoin:a,miterLimit:u};if(void 0===t){var g=Object(o.a)(p,p);this.canvas_=g.canvas,e=p=this.canvas_.width,this.draw_(d,g,0,0),this.createHitDetectionCanvas_(d)}else{p=Math.round(p);var m,v=!this.fill_;v&&(m=this.drawHitDetectionCanvas_.bind(this,d));var y=this.getChecksum(),_=t.add(y,p,p,this.draw_.bind(this,d),m);this.canvas_=_.image,this.origin_=[_.offsetX,_.offsetY],e=_.image.width,v?(this.hitDetectionCanvas_=_.hitImage,this.hitDetectionImageSize_=[_.hitImage.width,_.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[p/2,p/2],this.size_=[p,p],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,n,i){var o,s,a;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var u=this.points_;if(u===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(u*=2),o=0;o<=u;o++)s=2*o*Math.PI/u-Math.PI/2+this.angle_,a=o%2==0?this.radius_:c,e.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=l.b),e.fillStyle=Object(r.a)(h),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Object(o.a)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,r){e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var s,a,u,c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(o*=2),s=0;s<=o;s++)u=2*s*Math.PI/o-Math.PI/2+this.angle_,a=s%2==0?this.radius_:c,e.lineTo(t.size/2+a*Math.cos(u),t.size/2+a*Math.sin(u))}e.fillStyle=Object(i.b)(l.b),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(c);e.a=h},,,function(t,e,n){},function(t){t.exports={a:"2.5.0"}},function(t,e,n){var i=n(131);t.exports=function(t,e){Array.isArray(e)||(e=[]),t.length>0&&e.push(i([0,0],t[0]));for(var n=0;n<t.length-1;n++){var r=t[n],o=t[n+1],s=r[0],a=r[1],l=o[0],u=o[1],c=[.75*s+.25*l,.75*a+.25*u],h=[.25*s+.75*l,.25*a+.75*u];e.push(c),e.push(h)}return t.length>1&&e.push(i([0,0],t[t.length-1])),e}},function(t,e,n){"use strict";var i=n(2),r=n(21),o=function(t){t||(t={});var e=this;r.a.call(this,{handleEvent:function(n){return"pointermove"==n.type&&e.handleMove_(n),!t.handleEvent||t.handleEvent(n)}}),this.setFeatureFilter(t.featureFilter),this.setLayerFilter(t.layerFilter),this.set("hitTolerance",t.hitTolerance),this.setCursor(t.cursor)};Object(i.d)(o,r.a),o.prototype.setMap=function(t){void 0!==this.previousCursor_&&this.getMap()&&(this.getMap().getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=void 0),r.a.prototype.setMap.call(this,t)},o.prototype.setCursor=function(t){!t&&void 0!==this.previousCursor_&&this.getMap()&&(this.getMap().getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=void 0),this.cursor_=t},o.prototype.setFeatureFilter=function(t){this.featureFilter_="function"==typeof t?t:function(){return!0}},o.prototype.setLayerFilter=function(t){this.layerFilter_="function"==typeof t?t:function(){return!0}},o.prototype.handleMove_=function(t){var e=this.getMap();if(e){var n,i,r=this,o=e.forEachFeatureAtPixel(t.pixel,function(t,e){return r.layerFilter_.call(null,e)&&r.featureFilter_.call(null,t,e)?(n=t,i=e,!0):(n=i=null,!1)},{hitTolerance:this.get("hitTolerance")});if(o&&this.dispatchEvent({type:"hover",feature:n,layer:i,coordinate:t.coordinate,pixel:t.pixel,map:t.map,dragging:t.dragging}),this.feature_===n&&this.layer_===i||(this.feature_=n,this.layer_=i,n?this.dispatchEvent({type:"enter",feature:n,layer:i,coordinate:t.coordinate,pixel:t.pixel,map:t.map,dragging:t.dragging}):this.dispatchEvent({type:"leave",coordinate:t.coordinate,pixel:t.pixel,map:t.map,dragging:t.dragging})),this.cursor_){var s=e.getTargetElement().style;o?s.cursor!=this.cursor_&&(this.previousCursor_=s.cursor,s.cursor=this.cursor_):void 0!==this.previousCursor_&&(s.cursor=this.previousCursor_,this.previousCursor_=void 0)}}},e.a=o},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(9),r=n(60),o=n(68);function s(t){var e,n,s=Object.keys(t.defs),a=s.length;for(e=0;e<a;++e){var l=s[e];if(!Object(i.g)(l)){var u=t.defs(l);Object(i.d)(new o.a({code:l,axisOrientation:u.axis,metersPerUnit:u.to_meter,units:u.units}))}}for(e=0;e<a;++e){var c=s[e],h=Object(i.g)(c);for(n=0;n<a;++n){var f=s[n],p=Object(i.g)(f);if(!Object(r.c)(c,f))if(t.defs[c]===t.defs[f])Object(i.c)([h,p]);else{var d=t(c,f);Object(i.b)(h,p,d.forward,d.inverse)}}}}},function(t,e,n){"use strict";var i=n(2),r=n(70),o=n(15),s={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},a=n(27),l=n(14),u=n(1),c=n(0),h={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},f=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+a.d,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,Object(u.a)(this,Object(o.b)(h.ELEMENT),this.handleElementChanged,this),Object(u.a)(this,Object(o.b)(h.MAP),this.handleMapChanged,this),Object(u.a)(this,Object(o.b)(h.OFFSET),this.handleOffsetChanged,this),Object(u.a)(this,Object(o.b)(h.POSITION),this.handlePositionChanged,this),Object(u.a)(this,Object(o.b)(h.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:s.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(h.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(h.MAP)},e.prototype.getOffset=function(){return this.get(h.OFFSET)},e.prototype.getPosition=function(){return this.get(h.POSITION)},e.prototype.getPositioning=function(){return this.get(h.POSITIONING)},e.prototype.handleElementChanged=function(){Object(l.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(l.e)(this.element),Object(u.e)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(u.a)(t,r.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(h.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(h.ELEMENT,t)},e.prototype.setMap=function(t){this.set(h.MAP,t)},e.prototype.setOffset=function(t){this.set(h.OFFSET,t)},e.prototype.setPosition=function(t){this.set(h.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[Object(l.c)(n),Object(l.b)(n)]),r=this.autoPanMargin;if(!Object(c.g)(e,i)){var o=i[0]-e[0],s=e[2]-i[2],a=i[1]-e[1],u=e[3]-i[3],h=[0,0];if(o<0?h[0]=o-r:s<0&&(h[0]=Math.abs(s)+r),a<0?h[1]=a-r:u<0&&(h[1]=Math.abs(u)+r),0!==h[0]||0!==h[1]){var f=t.getView().getCenter(),p=t.getPixelFromCoordinate(f),d=[p[0]+h[0],p[1]+h[1]];t.getView().animate({center:t.getCoordinateFromPixel(d),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set(h.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=i[0],a=i[1];if(r==s.BOTTOM_RIGHT||r==s.CENTER_RIGHT||r==s.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var l=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=l&&(this.rendered.right_=n.right=l)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),r!=s.BOTTOM_CENTER&&r!=s.CENTER_CENTER&&r!=s.TOP_CENTER||(o-=this.element.offsetWidth/2);var u=Math.round(t[0]+o)+"px";this.rendered.left_!=u&&(this.rendered.left_=n.left=u)}if(r==s.BOTTOM_LEFT||r==s.BOTTOM_CENTER||r==s.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var c=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=n.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),r!=s.CENTER_LEFT&&r!=s.CENTER_CENTER&&r!=s.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var h=Math.round(t[1]+a)+"px";this.rendered.top_!=h&&(this.rendered.top_=n.top=h)}},e.prototype.getOptions=function(){return this.options},e}(o.a),p=n(67),d=function(t){var e=this;"number"==typeof(t=t||{}).offsetBox?this.offsetBox=[t.offsetBox,t.offsetBox,t.offsetBox,t.offsetBox]:this.offsetBox=t.offsetBox;var n=document.createElement("div");t.element=n;var i=document.createElement("div");i.classList.add("anchor"),n.appendChild(i),this.content=p.a.create("div",{html:t.html||"",className:"content",parent:n}),this.closeBox=t.closeBox,this.onclose=t.onclose,this.onshow=t.onshow;var r=document.createElement("button");r.classList.add("closeBox"),t.closeBox&&r.classList.add("hasclosebox"),r.setAttribute("type","button"),n.insertBefore(r,i),r.addEventListener("click",function(){e.hide()}),t.stopEvent&&(n.addEventListener("mousedown",function(t){t.stopPropagation()}),n.addEventListener("touchstart",function(t){t.stopPropagation()})),f.call(this,t),this._elt=this.element,this.setPositioning(t.positioning||"auto"),this.setPopupClass(t.popupClass||t.className||"default"),t.position&&setTimeout(function(){this.show(t.position)}.bind(this))};Object(i.d)(d,f),d.prototype.getClassPositioning=function(){var t="",e=this.getPositioning();return/bottom/.test(e)&&(t+="ol-popup-bottom "),/top/.test(e)&&(t+="ol-popup-top "),/left/.test(e)&&(t+="ol-popup-left "),/right/.test(e)&&(t+="ol-popup-right "),/^center/.test(e)&&(t+="ol-popup-middle "),/center$/.test(e)&&(t+="ol-popup-center "),t},d.prototype.setClosebox=function(t){this.closeBox=t,t?this._elt.classList.add("hasclosebox"):this._elt.classList.remove("hasclosebox")},d.prototype.setPopupClass=function(t){this._elt.className="";var e=this.getClassPositioning().split(" ").filter(function(t){return t.length>0}),n=["ol-popup"];t?t.split(" ").filter(function(t){return t.length>0}).forEach(function(t){n.push(t)}):n.push("default"),e.forEach(function(t){n.push(t)}),this.closeBox&&n.push("hasclosebox"),this._elt.classList.add.apply(this._elt.classList,n)},d.prototype.addPopupClass=function(t){this._elt.classList.add(t)},d.prototype.removePopupClass=function(t){this._elt.classList.remove(t)},d.prototype.setPositioning=function(t){void 0!==t&&(/auto/.test(t)?(this.autoPositioning=t.split("-"),1==this.autoPositioning.length&&(this.autoPositioning[1]="auto")):this.autoPositioning=!1,"center"==(t=t.replace(/auto/g,"center"))&&(t="bottom-center"),this.setPositioning_(t))},d.prototype.setPositioning_=function(t){if(this._elt){f.prototype.setPositioning.call(this,t),this._elt.classList.remove("ol-popup-top","ol-popup-bottom","ol-popup-left","ol-popup-right","ol-popup-center","ol-popup-middle");var e=this.getClassPositioning().split(" ").filter(function(t){return t.length>0});this._elt.classList.add.apply(this._elt.classList,e)}},d.prototype.getVisible=function(){return this._elt.classList.contains("visible")},d.prototype.show=function(t,e){e||"string"!=typeof t||(e=t,t=null),!0===t&&(t=this.getPosition());var n=this,i=this.getMap();if(i&&(e&&e!==this.prevHTML&&(this.prevHTML=e,this.content.innerHTML="",e instanceof Element?this.content.appendChild(e):this.content.insertAdjacentHTML("beforeend",e),Array.prototype.slice.call(this.content.querySelectorAll("img")).forEach(function(t){t.addEventListener("load",function(){i.renderSync()})})),t)){if(this.autoPositioning){var r=i.getPixelFromCoordinate(t),o=i.getSize(),s=[];"auto"==this.autoPositioning[0]?s[0]=r[1]<o[1]/3?"top":"bottom":s[0]=this.autoPositioning[0],s[1]=r[0]<2*o[0]/3?"left":"right",this.setPositioning_(s[0]+"-"+s[1]),this.offsetBox&&this.setOffset([this.offsetBox["left"==s[1]?2:0],this.offsetBox["top"==s[0]?3:1]])}else this.offsetBox&&this.setOffset(this.offsetBox);this.setPosition(t),this._elt.parentElement.style.display="","function"==typeof this.onshow&&this.onshow(),this._tout=setTimeout(function(){n._elt.classList.add("visible")},0)}},d.prototype.hide=function(){null!=this.getPosition()&&("function"==typeof this.onclose&&this.onclose(),this.setPosition(void 0),this._tout&&clearTimeout(this._tout),this._elt.classList.remove("visible"))};e.a=d},function(t,e,n){"use strict";var i=n(2),r=n(80),o=n(15),s=n(11),a=n(44),l=n(27),u=n(1),c=n(9),h=n(24),f="units",p={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},d=[1,2,5];function g(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}var m=function(t){function e(e){var n=e||{},i=void 0!==n.className?n.className:"ol-scale-line";t.call(this,{element:document.createElement("div"),render:n.render||g,target:n.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=i+"-inner",this.element.className=i+" "+l.e,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==n.minWidth?n.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",Object(u.a)(this,Object(o.b)(f),this.handleUnitsChanged_,this),this.setUnits(n.units||p.METRIC)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getUnits=function(){return this.get(f)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(f,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,i=this.getUnits(),r=i==p.DEGREES?h.b.DEGREES:h.b.METERS,o=Object(c.h)(n,t.resolution,e,r);n.getUnits()!=h.b.DEGREES&&n.getMetersPerUnit()&&r==h.b.METERS&&(o*=n.getMetersPerUnit());var a=this.minWidth_*o,l="";if(i==p.DEGREES){var u=c.a[h.b.DEGREES];n.getUnits()==h.b.DEGREES?a*=u:o/=u,a<u/60?(l="″",o*=3600):a<u?(l="′",o*=60):l="°"}else i==p.IMPERIAL?a<.9144?(l="in",o/=.0254):a<1609.344?(l="ft",o/=.3048):(l="mi",o/=1609.344):i==p.NAUTICAL?(o/=1852,l="nm"):i==p.METRIC?a<.001?(l="μm",o*=1e6):a<1?(l="mm",o*=1e3):a<1e3?l="m":(l="km",o/=1e3):i==p.US?a<.9144?(l="in",o*=39.37):a<1609.344?(l="ft",o/=.30480061):(l="mi",o/=1609.3472):Object(s.a)(!1,33);for(var f,g,m=3*Math.floor(Math.log(this.minWidth_*o)/Math.log(10));;){if(f=d[(m%3+3)%3]*Math.pow(10,Math.floor(m/3)),g=Math.round(f/o),isNaN(g))return this.element.style.display="none",void(this.renderedVisible_=!1);if(g>=this.minWidth_)break;++m}var v=f+" "+l;this.renderedHTML_!=v&&(this.innerElement_.innerHTML=v,this.renderedHTML_=v),this.renderedWidth_!=g&&(this.innerElement_.style.width=g+"px",this.renderedWidth_=g),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e}(a.a),v=n(25),y=n(32),_=function(t){m.call(this,t),this.scaleHeight_=6,t||(t={}),t.style||(t.style=new v.b),this.setStyle(t.style)};Object(i.d)(_,m),_.prototype.setMap=function(t){var e=this.getMap();this._listener&&Object(r.b)(this._listener),this._listener=null,m.prototype.setMap.call(this,t),e&&e.renderSync(),t&&(this._listener=t.on("postcompose",this.drawScale_.bind(this))),this.element.style.visibility="hidden",this.olscale=this.element.querySelector(".ol-scale-line-inner")},_.prototype.setStyle=function(t){var e=t.getStroke();this.strokeStyle_=e?Object(y.b)(e.getColor()):"#000",this.strokeWidth_=e?e.getWidth():2;var n=t.getFill();this.fillStyle_=n?Object(y.b)(n.getColor()):"#fff";var i=t.getText();this.font_=i?i.getFont():"10px Arial",e=i?i.getStroke():null,n=i?i.getFill():null,this.fontStrokeStyle_=e?Object(y.b)(e.getColor()):this.fillStyle_,this.fontStrokeWidth_=e?e.getWidth():3,this.fontFillStyle_=n?Object(y.b)(n.getColor()):this.strokeStyle_,this.getMap()&&this.getMap().render()},_.prototype.drawScale_=function(t){if("hidden"===this.element.style.visibility){var e=t.context,n=parseInt(this.olscale.style.width);if(n){var i=this.olscale.textContent,r={left:this.element.offsetLeft,top:this.element.offsetTop},o=t.frameState.pixelRatio;e.save(),e.scale(o,o),r.top+=this.element.clientHeight-this.scaleHeight_,e.beginPath(),e.strokeStyle=this.fontStrokeStyle_,e.fillStyle=this.fontFillStyle_,e.lineWidth=this.fontStrokeWidth_,e.textAlign="center",e.textBaseline="bottom",e.font=this.font_,e.strokeText(i,r.left+n/2,r.top),e.fillText(i,r.left+n/2,r.top),e.closePath(),r.top+=2,e.lineWidth=this.strokeWidth_,e.strokeStyle=this.strokeStyle_;for(var s=4,a=parseInt(i);a%10==0;)a/=10;a%5==0&&(s=5);for(var l=0;l<s;l++)e.beginPath(),e.fillStyle=l%2?this.fillStyle_:this.strokeStyle_,e.rect(r.left+l*n/s,r.top,n/s,this.scaleHeight_),e.stroke(),e.fill(),e.closePath();e.restore()}}};e.a=_},function(t,e,n){"use strict";window.ol&&!ol.ext&&(ol.ext={});var i=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t};window.ol&&(ol.inherits||(ol.inherits=i));var r=i,o=n(44),s=n(67),a=function(t){t||(t={});var e=s.a.create("DIV",{className:t.className||"ol-print"});t.target||(e.classList.add("ol-unselectable","ol-control"),s.a.create("BUTTON",{type:"button",click:function(){this.print()}.bind(this),parent:e})),o.a.call(this,{element:e,target:t.target}),this.set("imageType",t.imageType||"image/jpeg"),this.set("quality",t.quality||.8)};r(a,o.a),a.prototype.print=function(t){var e=(t=t||{}).imageType||this.get("imageType"),n=t.quality||this.get("quality");this.getMap()&&(this.dispatchEvent(Object.assign({type:"printing"},t)),this.getMap().once("rendercomplete",function(i){var r,o;i.context?r=i.context.canvas:this.getMap().getViewport().querySelectorAll(".ol-layer").forEach(function(t){if(t.width){if(!r){r=document.createElement("canvas");var n=this.getMap().getSize();r.width=n[0],r.height=n[1],o=r.getContext("2d"),/jp.*g$/.test(e)&&(o.fillStyle="white",o.fillRect(0,0,r.width,r.height))}o.save(),o.globalAlpha=t.style.opacity||1;var i=s.a.getStyle(t,"transform")||s.a.getStyle(t,"-webkit-transform");/^matrix/.test(i)?((i=i.replace(/^matrix\(|\)$/g,"").split(",")).forEach(function(t,e){i[e]=parseFloat(t)}),o.transform(i[0],i[1],i[2],i[3],i[4],i[5]),o.drawImage(t,0,0)):o.drawImage(t,0,0,s.a.getStyle(t,"width"),s.a.getStyle(t,"height")),o.restore()}}.bind(this));var a,l,u,c,h=[210,297];if(r){r.width>r.height?(c="landscape",h=[h[1],h[0]]):c="portrait";var f=Math.min((h[0]-20)/r.width,(h[1]-20)/r.height);a=f*r.width,l=f*r.height,u=[(h[0]-a)/2,(h[1]-l)/2]}var p=Object.assign({type:"print",print:{format:"a4",orientation:c,unit:"mm",size:h,position:u,imageWidth:a,imageHeight:l},image:r?r.toDataURL(e,n):null,imageType:e,canvas:r},t);this.dispatchEvent(p)}.bind(this)),this.getMap().render())};e.a=a},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(35),s=n(38),a=function(t){function e(e,n,i){if(t.call(this),void 0!==i&&void 0===n)this.setFlatCoordinates(i,e);else{var r=n||0;this.setCenterAndRadius(e,r,i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=t-r[0],s=e-r[1],a=o*o+s*s;if(a<i){if(0===a)for(var l=0;l<this.stride;++l)n[l]=r[l];else{var u=this.getRadius()/Math.sqrt(a);n[0]=r[0]+u*o,n[1]=r[1]+u*s;for(var c=2;c<this.stride;++c)n[c]=r[c]}return n.length=this.stride,a}return i},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return Object(i.k)(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return r.a.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(i.F)(t,e)){var n=this.getCenter();return t[0]<=n[0]&&t[2]>=n[0]||(t[1]<=n[1]&&t[3]>=n[1]||Object(i.t)(t,this.intersectsCoordinate,this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(var r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,r=Object(s.a)(i,0,t,this.stride);i[r++]=i[0]+e;for(var o=1,a=this.stride;o<a;++o)i[r++]=i[o];i.length=r,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(o.a);a.prototype.transform,e.a=a},,,,,,,,,,function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t}},function(t,e,n){},function(t,e,n){t.exports=function(){"use strict";function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,o,s){!function e(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,l=i-r+1,u=Math.log(a),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(a-c)/a)*(l-a/2<0?-1:1),f=Math.max(r,Math.floor(i-l*c/a+h)),p=Math.min(o,Math.floor(i+(a-l)*c/a+h));e(n,i,f,p,s)}var d=n[i],g=r,m=o;for(t(n,r,i),s(n[o],d)>0&&t(n,r,o);g<m;){for(t(n,g,m),g++,m--;s(n[g],d)<0;)g++;for(;s(n[m],d)>0;)m--}0===s(n[r],d)?t(n,r,m):t(n,++m,o),m<=i&&(r=m+1),i<=m&&(o=m-1)}}(n,i,r||0,o||n.length-1,s||e)}}()},function(t,e,n){var i,r,o;
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[n(51),n(135)],void 0===(o="function"==typeof(i=function(t){var e,n=0,i=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,i){var r,o,s,a={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,function(e,i){t.isFunction(i)?a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}():a[e]=i}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,r,o=i.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])r=o[s][n],o[s].hasOwnProperty(n)&&void 0!==r&&(t.isPlainObject(r)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):e[n]=r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=i.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var n,i=t.data(this,r);return"instance"===o?(l=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new n(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function r(r,o){var s,a;for(a=0;a<r.length;a++)s=i.classesElementLookup[r[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),i.classesElementLookup[r[a]]=s,n.push(r[a]),o&&e.classes[r[a]]&&n.push(e.classes[r[a]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,a):n.on(u,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){var s;"string"==typeof r&&(r={effect:r});var a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[n(51)],void 0===(o="function"==typeof(i=function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;
/*! jQuery UI - v1.12.1 - 2017-03-19
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/resizable.js, widgets/selectable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/selectmenu.js, widgets/slider.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */r=[n(51)],void 0===(o="function"==typeof(i=function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e,n,i=0,r=Array.prototype.slice;
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.cleanData=(e=t.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,i){var r,o,s,a={},l=e.split(".")[0];e=e.split(".")[1];var u=l+"-"+e;return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr.pseudos[u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,function(e,i){t.isFunction(i)?a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}():a[e]=i}),o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,o=r.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])i=o[s][n],o[s].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=r.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var n,r=t.data(this,i);return"instance"===o?(l=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,a))!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function r(r,o){var s,a;for(a=0;a<r.length;a++)s=i.classesElementLookup[r[a]]||t(),s=e.add?t(t.uniqueSort(s.get().concat(e.element.get()))):t(s.not(e.element).get()),i.classesElementLookup[r[a]]=s,n.push(r[a]),o&&e.classes[r[a]]&&n.push(e.classes[r[a]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,a):n.on(u,a)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){var s;"string"==typeof r&&(r={effect:r});var a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}}),t.widget,
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(){var e,n=Math.max,i=Math.abs,r=/left|center|right/,o=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,u=t.fn.position;function c(t,e,n){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?n/100:1)]}function h(e,n){return parseInt(t.css(e,n),10)||0}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var n,i,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return t("body").append(r),n=o.offsetWidth,r.css("overflow","scroll"),i=o.offsetWidth,n===i&&(i=r[0].clientWidth),r.remove(),e=n-i},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType,o=!i&&!r;return{element:n,isWindow:i,isDocument:r,offset:o?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return u.apply(this,arguments);e=t.extend({},e);var l,f,p,d,g,m,v,y,_=t(e.of),b=t.position.getWithinInfo(e.within),x=t.position.getScrollInfo(b),w=(e.collision||"flip").split(" "),E={};return y=(v=_)[0],m=9===y.nodeType?{width:v.width(),height:v.height(),offset:{top:0,left:0}}:t.isWindow(y)?{width:v.width(),height:v.height(),offset:{top:v.scrollTop(),left:v.scrollLeft()}}:y.preventDefault?{width:0,height:0,offset:{top:y.pageY,left:y.pageX}}:{width:v.outerWidth(),height:v.outerHeight(),offset:v.offset()},_[0].preventDefault&&(e.at="left top"),f=m.width,p=m.height,d=m.offset,g=t.extend({},d),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):o.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=o.test(i[1])?i[1]:"center",t=s.exec(i[0]),n=s.exec(i[1]),E[this]=[t?t[0]:0,n?n[0]:0],e[this]=[a.exec(i[0])[0],a.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?g.left+=f:"center"===e.at[0]&&(g.left+=f/2),"bottom"===e.at[1]?g.top+=p:"center"===e.at[1]&&(g.top+=p/2),l=c(E.at,f,p),g.left+=l[0],g.top+=l[1],this.each(function(){var r,o,s=t(this),a=s.outerWidth(),u=s.outerHeight(),m=h(this,"marginLeft"),v=h(this,"marginTop"),y=a+m+h(this,"marginRight")+x.width,C=u+v+h(this,"marginBottom")+x.height,S=t.extend({},g),M=c(E.my,s.outerWidth(),s.outerHeight());"right"===e.my[0]?S.left-=a:"center"===e.my[0]&&(S.left-=a/2),"bottom"===e.my[1]?S.top-=u:"center"===e.my[1]&&(S.top-=u/2),S.left+=M[0],S.top+=M[1],r={marginLeft:m,marginTop:v},t.each(["left","top"],function(n,i){t.ui.position[w[n]]&&t.ui.position[w[n]][i](S,{targetWidth:f,targetHeight:p,elemWidth:a,elemHeight:u,collisionPosition:r,collisionWidth:y,collisionHeight:C,offset:[l[0]+M[0],l[1]+M[1]],my:e.my,at:e.at,within:b,elem:s})}),e.using&&(o=function(t){var r=d.left-S.left,o=r+f-a,l=d.top-S.top,c=l+p-u,h={target:{element:_,left:d.left,top:d.top,width:f,height:p},element:{element:s,left:S.left,top:S.top,width:a,height:u},horizontal:o<0?"left":r>0?"right":"center",vertical:c<0?"top":l>0?"bottom":"middle"};f<a&&i(r+o)<f&&(h.horizontal="center"),p<u&&i(l+c)<p&&(h.vertical="middle"),n(i(r),i(o))>n(i(l),i(c))?h.important="horizontal":h.important="vertical",e.using.call(this,t,h)}),s.offset(t.extend(S,{using:o}))})},t.ui.position={fit:{left:function(t,e){var i,r=e.within,o=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,a=t.left-e.collisionPosition.marginLeft,l=o-a,u=a+e.collisionWidth-s-o;e.collisionWidth>s?l>0&&u<=0?(i=t.left+l+e.collisionWidth-s-o,t.left+=l-i):t.left=u>0&&l<=0?o:l>u?o+s-e.collisionWidth:o:l>0?t.left+=l:u>0?t.left-=u:t.left=n(t.left-a,t.left)},top:function(t,e){var i,r=e.within,o=r.isWindow?r.scrollTop:r.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=o-a,u=a+e.collisionHeight-s-o;e.collisionHeight>s?l>0&&u<=0?(i=t.top+l+e.collisionHeight-s-o,t.top+=l-i):t.top=u>0&&l<=0?o:l>u?o+s-e.collisionHeight:o:l>0?t.top+=l:u>0?t.top-=u:t.top=n(t.top-a,t.top)}},flip:{left:function(t,e){var n,r,o=e.within,s=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,h=u+e.collisionWidth-a-l,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,d=-2*e.offset[0];c<0?((n=t.left+f+p+d+e.collisionWidth-a-s)<0||n<i(c))&&(t.left+=f+p+d):h>0&&((r=t.left-e.collisionPosition.marginLeft+f+p+d-l)>0||i(r)<h)&&(t.left+=f+p+d)},top:function(t,e){var n,r,o=e.within,s=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,h=u+e.collisionHeight-a-l,f="top"===e.my[1],p=f?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];c<0?((r=t.top+p+d+g+e.collisionHeight-a-s)<0||r<i(c))&&(t.top+=p+d+g):h>0&&((n=t.top-e.collisionPosition.marginTop+p+d+g-l)>0||i(n)<h)&&(t.top+=p+d+g)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr.pseudos,{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:(n="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(n+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}),
/*!
 * jQuery UI Focusable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.ui.focusable=function(e,n){var i,r,o,s,a,l=e.nodeName.toLowerCase();return"area"===l?(i=e.parentNode,r=i.name,!(!e.href||!r||"map"!==i.nodeName.toLowerCase())&&(o=t("img[usemap='#"+r+"']")).length>0&&o.is(":visible")):(/^(input|select|textarea|button|object)$/.test(l)?(s=!e.disabled)&&(a=t(e).closest("fieldset")[0])&&(s=!a.disabled):s="a"===l&&e.href||n,s&&t(e).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr.pseudos,{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},
/*!
 * jQuery UI Support for jQuery core 1.7.x 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */
"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function s(e,n,r,o){return t.each(i,function(){n-=parseFloat(t.css(e,"padding"+this))||0,r&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}t.fn["inner"+n]=function(e){return void 0===e?o["inner"+n].call(this):this.each(function(){t(this).css(r,s(this,e)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){t(this).css(r,s(this,e,!0,i)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=(s=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(s,"\\$1")}),t.fn.labels=function(){var e,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(i=this.attr("id"))&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr.pseudos,{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:(o=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
var o,s,a=!1;t(document).on("mouseup",function(){a=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),a=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,a=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},
/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]),i=t(e.target);i.closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),(i=n[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=r.containment:this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){this.isOver?(this.isOver=0,i.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,s,a,l,u,c,h,f,p,d=i.options,g=d.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,_=y+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)l=i.snapElements[f].left-i.margins.left,u=l+i.snapElements[f].width,c=i.snapElements[f].top-i.margins.top,h=c+i.snapElements[f].height,v<l-g||m>u+g||_<c-g||y>h+g||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==d.snapMode&&(r=Math.abs(c-_)<=g,o=Math.abs(h-y)<=g,s=Math.abs(l-v)<=g,a=Math.abs(u-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),p=r||o||s||a,"outer"!==d.snapMode&&(r=Math.abs(c-y)<=g,o=Math.abs(h-_)<=g,s=Math.abs(l-m)<=g,a=Math.abs(u-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(r||o||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=r||o||s||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,
/*!
 * jQuery UI Droppable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&l(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return r=!0,!1}),!r&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var l=t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,u=n.offset.left,c=n.offset.top,h=u+n.proportions().width,f=c+n.proportions().height;switch(i){case"fit":return u<=o&&a<=h&&c<=s&&l<=f;case"intersect":return u<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&c<s+e.helperProportions.height/2&&l-e.helperProportions.height/2<f;case"pointer":return t(r.pageY,c,n.proportions().height)&&t(r.pageX,u,n.proportions().width);case"touch":return(s>=c&&s<=f||l>=c&&l<=f||s<c&&l>f)&&(o>=u&&o<=h||a>=u&&a<=h||o<u&&a>h);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<a.length;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&l(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=l(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r})).length&&((i=t(o[0]).droppable("instance")).greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,
/*!
 * jQuery UI Resizable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,s=this.options,a=this;if(this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)e=t.trim(i[n]),r="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:s.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")}),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,l,u=this.options;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,o=i?0:this.sizeDiff.width,s={width:this.helper.width()-o,height:this.helper.height()-r},a=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,u.animate||this.element.css(t.extend(s,{top:l,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&u&&(t.left=a-e.minWidth),i&&u&&(t.left=a-e.maxWidth),s&&c&&(t.top=l-e.minHeight),r&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},u=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,l=t(this).resizable("instance"),u=l.options,c=l.element,h=u.containment,f=h instanceof t?h.get(0):/parent/.test(h)?c.parent().get(0):h;f&&(l.containerElement=t(f),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(f),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(f,"left")?f.scrollWidth:o,a=l._hasScroll(f)?f.scrollHeight:r,l.parentData={element:f,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||e.shiftKey,h={top:0,left:0},f=s.containerElement,p=!0;f[0]!==document&&/static/.test(f.css("position"))&&(h=l),u.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),c&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),u.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,u=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:u}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,h=Math.round((r.width-o.width)/u)*u,f=Math.round((r.height-o.height)/c)*c,p=o.width+h,d=o.height+f,g=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<d,v=i.minWidth&&i.minWidth>p,y=i.minHeight&&i.minHeight>d;i.grid=l,v&&(p+=u),y&&(d+=c),g&&(p-=u),m&&(d-=c),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=d):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=d,n.position.top=s.top-f):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=d,n.position.left=s.left-h):((d-c<=0||p-u<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),d-c>0?(n.size.height=d,n.position.top=s.top-f):(d=c-e.height,n.size.height=d,n.position.top=s.top+o.height-d),p-u>0?(n.size.width=p,n.position.left=s.left-h):(p=u-e.width,n.size.width=p,n.position.left=s.left+o.width-p))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");if(r)return i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),u=!1,c={};n&&n.element!==i.element[0]&&(c.left=n.left+i.elementPos.left,c.right=n.right+i.elementPos.left,c.top=n.top+i.elementPos.top,c.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?u=!(c.left>a||c.right<o||c.top>l||c.bottom<s):"fit"===r.tolerance&&(u=c.left>o&&c.right<a&&c.top>s&&c.bottom<l),u?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!i||this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||i+u>a&&i+u<l,f="y"===this.options.axis||e+c>o&&e+c<s,p=h&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=i&&r;return!!o&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,o,s=[],a=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(r=t(l[n],this.document[0]),i=r.length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function u(){s.push(this)}for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(u);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,u,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=t(f[n],this.document[0]),i=r.length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],a=h[n][0],i=0,u=a.length;i<u;i++)(l=t(a[i])).data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,s,a,l,u,c,h,f=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,c=f.floating||this._isFloating(this.currentItem),s=c?"left":"top",a=c?"width":"height",h=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],u=!1,e[h]-l>this.items[i][a]/2&&(u=!0),Math.abs(e[h]-l)<r&&(r=Math.abs(e[h]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function r(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}for(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(i.push(function(t){this._trigger("remove",t,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,o=this.active,s=t(e.currentTarget),a=s[0]===o[0],l=a&&r.collapsible,u=l?t():s.next(),c=o.next(),h={oldHeader:o,oldPanel:c,newHeader:l?t():s,newPanel:u};e.preventDefault(),a&&!r.collapsible||!1===this._trigger("beforeActivate",e,h)||(r.active=!l&&this.headers.index(s),this.active=a?t():s,this._toggle(h),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),a||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,s=this,a=0,l=t.css("box-sizing"),u=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},h=u&&c.down||c,f=function(){s._toggleComplete(n)};return"number"==typeof h&&(o=h),"string"==typeof h&&(r=h),r=r||h.easing||c.easing,o=o||h.duration||c.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:f,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===l&&(a+=n.now):"content"!==s.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,o,r,f):t.animate(this.showProps,o,r,f)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){var n=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));n&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),n.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,o,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,i=this.previousFilter||"",o=!1,r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,o,s=this,a=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);s._addClass(i,"ui-menu-icon","ui-icon "+a),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),(n=e.find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);s._isDivider(e)&&s._addClass(e,"ui-menu-divider","ui-widget-content")}),r=n.not(".ui-menu-item, .ui-menu-divider"),o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var n,i,r;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),
/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){if(i)return i=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),(i=n.item.attr("aria-label")||r.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||n||i)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete;var u,c,h=/ui-corner-([a-z]){2,6}/g;
/*!
 * jQuery UI Controlgroup 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */function f(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=p(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function p(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,d)}function d(){t.datepicker._isDisabledDatepicker(u.inline?u.dpDiv.parent()[0]:u.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function g(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}
/*!
 * jQuery UI Spinner 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function m(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var o,s={};if(r)return"controlgroupLabel"===i?((o=e.element.find(r)).each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(t.fn[i]&&(s=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(r).each(function(){var r=t(this),o=r[i]("instance"),a=t.widget.extend({},s);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(a.classes=e._resolveClassesValues(a.classes,o)),r[i](a);var l=r[i]("widget");t.data(l[0],"ui-controlgroup-data",o||r[i]("instance")),n.push(l[0])}})))}),this.childWidgets=t(t.uniqueSort(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this),i=n.data("ui-controlgroup-data");i&&i[e]&&i[e]()})},_updateCornerClass:function(t,e){var n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,function(r){var o=n.options.classes[r]||"";o=t.trim(o.replace(h,"")),i[r]=(o+" "+e[r]).replace(/\s+/g," ")}),i},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}}),
/*!
 * jQuery UI Checkboxradio 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,n="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length})).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,
/*!
 * jQuery UI Button 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,
/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return g(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase(),r="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),r)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){var i=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?p(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,o){var s,a,l,u,c,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",h)),g(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+u,l/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),u===r&&(u=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,o,s,a,l=this._getInst(e);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?t.extend({},t.datepicker._defaults):l?"all"===n?t.extend({},l.settings):this._get(l,n):null;r=n||{},"string"==typeof n&&((r={})[n]=i),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(l,"min"),a=this._getMinMaxDate(l,"max"),g(l.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(l.settings.minDate=this._formatDate(l,s)),null!==a&&void 0!==r.dateFormat&&void 0===r.maxDate&&(l.settings.maxDate=this._formatDate(l,a)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),(n=t.datepicker._get(o,"onSelect"))?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){var n,i,r,o,s,a,l;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e||(n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),i=t.datepicker._get(n,"beforeShow"),!1!==(r=i?i.apply(e,[e,n]):{})&&(g(n.settings,r),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each(function(){return!(o|="fixed"===t(this).css("position"))}),s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),s=t.datepicker._checkOffset(n,s,o),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(a=t.datepicker._get(n,"showAnim"),l=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[a]?n.dpDiv.show(a,t.datepicker._get(n,"showOptions"),l):n.dpDiv[a||"show"](a?l:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,u=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],o=e.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&d.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-s:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.pseudos.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,r,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(o=this._get(s,"onClose"))&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===i)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((o=this._getInst(s[0])).selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var r,o,s,a,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,f=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,d=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,_=!1,b=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},x=function(t){var e=b(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),s=n.substring(l).match(o);if(!s)throw"Missing number at position "+l;return l+=s[0].length,parseInt(s[0],10)},w=function(e,i,r){var o=-1,s=t.map(b(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var i=e[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return o=e[0],l+=i.length,!1}),-1!==o)return o+1;throw"Unknown name at position "+l},E=function(){if(n.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<e.length;r++)if(_)"'"!==e.charAt(r)||b("'")?E():_=!1;else switch(e.charAt(r)){case"d":v=x("d");break;case"D":w("D",h,f);break;case"o":y=x("o");break;case"m":m=x("m");break;case"M":m=w("M",p,d);break;case"y":g=x("y");break;case"@":a=new Date(x("@")),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((x("!")-this._ticksTo1970)/1e4),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":b("'")?E():_=!0;break;default:E()}if(l<n.length&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),y>-1)for(m=1,v=y;o=this._getDaysInMonth(g,m-1),!(v<=o);)m++,v-=o;if((a=this._daylightSavingAdjust(new Date(g,m-1,v))).getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},u=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return l(t)?i[e]:n[e]},h="",f=!1;if(e)for(i=0;i<t.length;i++)if(f)"'"!==t.charAt(i)||l("'")?h+=t.charAt(i):f=!1;else switch(t.charAt(i)){case"d":h+=u("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),r,o);break;case"o":h+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),s,a);break;case"y":h+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":f=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(n,i,s)||r}catch(t){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o))}l=a.exec(n)}return new Date(r,o,s)}(n):"number"==typeof n?isNaN(n)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return(r=r&&"Invalid Date"===r.toString()?i:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,s,a,l,u,c,h,f,p,d,g,m,v,y,_,b,x,w,E,C,S,M,I,O,T,N,k,P,A,L,D,R,j,F,z,B=new Date,G=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),q=this._get(t,"isRTL"),H=this._get(t,"showButtonPanel"),W=this._get(t,"hideIfNoPrevNext"),U=this._get(t,"navigationAsDateFormat"),Y=this._getNumberOfMonths(t),V=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),K=1!==Y[0]||1!==Y[1],$=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Q=t.drawMonth-V,tt=t.drawYear;if(Q<0&&(Q+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-Y[0]*Y[1]+1,J.getDate())),e=Z&&e<Z?Z:e;this._daylightSavingAdjust(new Date(tt,Q,1))>e;)--Q<0&&(Q=11,tt--);for(t.drawMonth=Q,t.drawYear=tt,n=this._get(t,"prevText"),n=U?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,Q-X,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>":W?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=U?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,Q+X,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>":W?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?$:G,s=U?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=H?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(q?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(q?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),f=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),d=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),b="",w=0;w<Y[0];w++){for(E="",this.maxRows=4,C=0;C<Y[1];C++){if(S=this._daylightSavingAdjust(new Date(tt,Q,t.selectedDay)),M=" ui-corner-all",I="",K){if(I+="<div class='ui-datepicker-group",Y[1]>1)switch(C){case 0:I+=" ui-datepicker-group-first",M=" ui-corner-"+(q?"right":"left");break;case Y[1]-1:I+=" ui-datepicker-group-last",M=" ui-corner-"+(q?"left":"right");break;default:I+=" ui-datepicker-group-middle",M=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+M+"'>"+(/all|left/.test(M)&&0===w?q?o:i:"")+(/all|right/.test(M)&&0===w?q?i:o:"")+this._generateMonthYearHeader(t,Q,tt,Z,J,w>0||C>0,d,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",O=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;x<7;x++)O+="<th scope='col'"+((x+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+f[T=(x+c)%7]+"'>"+p[T]+"</span></th>";for(I+=O+"</tr></thead><tbody>",N=this._getDaysInMonth(tt,Q),tt===t.selectedYear&&Q===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,N)),k=(this._getFirstDayOfMonth(tt,Q)-c+7)%7,P=Math.ceil((k+N)/7),A=K&&this.maxRows>P?this.maxRows:P,this.maxRows=A,L=this._daylightSavingAdjust(new Date(tt,Q,1-k)),D=0;D<A;D++){for(I+="<tr>",R=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(L)+"</td>":"",x=0;x<7;x++)j=m?m.apply(t.input?t.input[0]:null,[L]):[!0,""],F=L.getMonth()!==Q,z=F&&!y||!j[0]||Z&&L<Z||J&&L>J,R+="<td class='"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(L.getTime()===S.getTime()&&Q===t.selectedMonth&&t._keyEvent||_.getTime()===L.getTime()&&_.getTime()===S.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+j[1]+(L.getTime()===$.getTime()?" "+this._currentClass:"")+(L.getTime()===G.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":z?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===G.getTime()?" ui-state-highlight":"")+(L.getTime()===$.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);I+=R+"</tr>"}++Q>11&&(Q=0,tt++),I+="</tbody></table>"+(K?"</div>"+(Y[0]>0&&C===Y[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),E+=I}b+=E}return b+=u,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var l,u,c,h,f,p,d,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",b="";if(o||!m)b+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=i.getMonth())&&(!u||c<=r.getMonth())&&(b+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");b+="</select>"}if(y||(_+=b+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)_+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),f=(new Date).getFullYear(),d=(p=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?f+parseInt(t,10):parseInt(t,10);return isNaN(e)?f:e})(h[0]),g=Math.max(d,p(h[1]||"")),d=i?Math.max(d,i.getFullYear()):d,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";d<=g;d++)t.yearshtml+="<option value='"+d+"'"+(d===n?" selected='selected'":"")+">"+d+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),y&&(_+=(!o&&m&&v?"":"&#xa0;")+b),_+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new f,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,
/*!
 * jQuery UI Dialog 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,n=this.options;function i(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",n,i(r))},drag:function(t,n){e._trigger("drag",t,i(n))},stop:function(r,o){var s=o.offset.left-e.document.scrollLeft(),a=o.offset.top-e.document.scrollTop();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",r,i(o))}})},_makeResizable:function(){var e=this,n=this.options,i=n.resizable,r=this.uiDialog.css("position"),o="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";function s(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,i){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",n,s(i))},resize:function(t,n){e._trigger("resize",t,s(n))},stop:function(i,r){var o=e.uiDialog.offset(),a=o.left-e.document.scrollLeft(),l=o.top-e.document.scrollTop();n.height=e.uiDialog.height(),n.width=e.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",i,s(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=o.is(":data(ui-draggable)"))&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=o.is(":data(ui-resizable)"))&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||!1===n||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){var s;o.optgroup!==r&&(s=t("<li>",{text:o.optgroup}),i._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),s.appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each(function(e,r){i.push(n._parseOption(t(r),e))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;e<n;e++)o.push("<span tabindex='0'></span>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,l,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-u.values(e));(r>n||r===n&&(e===u._lastChangedValue||u.values(e)===c.min))&&(r=n,o=t(this),s=e)}),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),a=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),o[e]=n),n!==r&&!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step,i=Math.round((t-e)/n)*n;(t=i+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,c={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](c,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(e){var n,i,r,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(e,o,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){var n;function i(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n}))}n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;if("culture"===t||"numberFormat"===t)return n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:m(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:m(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:m(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:m(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:m(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());m(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,
/*!
 * jQuery UI Tabs 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(c=/#.*$/,function(t){var e,n;e=t.href.replace(c,""),n=location.href.replace(c,"");try{e=decodeURIComponent(e)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return t.hash.length>1&&e===n}),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){if(t(r).attr("aria-controls")===i)return e=n,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){for(var i=this.tabs.length-1;-1!==t.inArray((e>i&&(e=0),e<0&&(e=i),e),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(n,i){var r,o,s,a=t(i).uniqueId().attr("id"),l=t(i).closest("li"),u=l.attr("aria-controls");e._isLocal(i)?(s=(r=i.hash).substring(1),o=e.element.find(e._sanitizeSelector(r))):(r="#"+(s=l.attr("aria-controls")||t({}).uniqueId()[0].id),(o=e.element.find(r)).length||(o=e._createPanel(s)).insertAfter(e.panels[n-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;i=this.tabs[r];r++)n=t(i),!0===e||-1!==t.inArray(r,e)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget).closest("li"),o=r[0]===i[0],s=o&&n.collapsible,a=s?t():this._getPanelForTab(r),l=i.length?this._getPanelForTab(i):t(),u={oldTab:i,oldPanel:l,newTab:s?t():r,newPanel:a};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",e,u)||(n.active=!s&&this.tabs.index(r),this.active=o?t():r,this.xhr&&this.xhr.abort(),l.length||a.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(r),e),this._toggle(e,u))},_toggle:function(e,n){var i=this,r=n.newPanel,o=n.oldPanel;function s(){i.running=!1,i._trigger("activate",e,n)}function a(){i._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),r.length&&i.options.show?i._show(r,i.options.show,s):(r.show(),s())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,function(){i._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o.hide(),a()),o.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&o.length?n.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},l=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),s.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){s.html(t),i._trigger("load",n,a),l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,
/*!
 * jQuery UI Tooltip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(e,t,i);(n=i.call(t[0],function(n){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}))&&this._open(e,t,n)},_open:function(e,n,i){var r,o,s,a,l=t.extend({},this.options.position);function u(t){l.of=t,o.is(":hidden")||o.position(l)}i&&((r=this._find(n))?r.tooltip.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),o=r.tooltip,this._addDescribedBy(n,o.attr("id")),o.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(a=t("<div>").html(o.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),a.removeAttr("id").find("[id]").removeAttr("id"),a.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:u}),u(e)):o.position(t.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){o.is(":visible")&&(u(l.of),clearInterval(s))},t.fx.interval)),this._trigger("open",e,{tooltip:o})))},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);o?(n=o.tooltip,o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1))):r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip;var v,y="ui-effects-animated",_=t;
/*!
 * jQuery UI Effects 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects={effect:{}},
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(t,e){var n,i=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],o=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},s={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=o.support={},u=t("<p>")[0],c=t.each;function h(t,e,n){var i=a[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function f(e){var i=o(),a=i._rgba=[];return e=e.toLowerCase(),c(r,function(t,n){var r,o=n.re.exec(e),l=o&&n.parse(o),u=n.space||"rgba";if(l)return r=i[u](l),i[s[u].cache]=r[s[u].cache],a=i._rgba=r._rgba,!1}),a.length?("0,0,0,0"===a.join()&&t.extend(a,n.transparent),i):n[e]}function p(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}u.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=u.style.backgroundColor.indexOf("rgba")>-1,c(s,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),o.fn=t.extend(o.prototype,{parse:function(e,i,r,a){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(i),i=void 0);var l=this,u=t.type(e),p=this._rgba=[];return void 0!==i&&(e=[e,i,r,a],u="array"),"string"===u?this.parse(f(e)||n._default):"array"===u?(c(s.rgba.props,function(t,n){p[n.idx]=h(e[n.idx],n)}),this):"object"===u?(c(s,e instanceof o?function(t,n){e[n.cache]&&(l[n.cache]=e[n.cache].slice())}:function(n,i){var r=i.cache;c(i.props,function(t,n){if(!l[r]&&i.to){if("alpha"===t||null==e[t])return;l[r]=i.to(l._rgba)}l[r][n.idx]=h(e[t],n,!0)}),l[r]&&t.inArray(null,l[r].slice(0,3))<0&&(l[r][3]=1,i.from&&(l._rgba=i.from(l[r])))}),this):void 0},is:function(t){var e=o(t),n=!0,i=this;return c(s,function(t,r){var o,s=e[r.cache];return s&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],c(r.props,function(t,e){if(null!=s[e.idx])return n=s[e.idx]===o[e.idx]})),n}),n},_space:function(){var t=[],e=this;return c(s,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var n=o(t),i=n._space(),r=s[i],l=0===this.alpha()?o("transparent"):this,u=l[r.cache]||r.to(l._rgba),f=u.slice();return n=n[r.cache],c(r.props,function(t,i){var r=i.idx,o=u[r],s=n[r],l=a[i.type]||{};null!==s&&(null===o?f[r]=s:(l.mod&&(s-o>l.mod/2?o+=l.mod:o-s>l.mod/2&&(o-=l.mod)),f[r]=h((s-o)*e+o,i)))}),this[i](f)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=o(e)._rgba;return o(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,s.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),u=a-l,c=a+l,h=.5*c;return e=l===a?0:i===a?60*(r-o)/u+360:r===a?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:h<=.5?u/c:u/(2-c),[Math.round(e)%360,n,h,null==s?1:s]},s.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;return[Math.round(255*p(s,o,e+1/3)),Math.round(255*p(s,o,e)),Math.round(255*p(s,o,e-1/3)),r]},c(s,function(e,n){var r=n.props,s=n.cache,a=n.to,l=n.from;o.fn[e]=function(e){if(a&&!this[s]&&(this[s]=a(this._rgba)),void 0===e)return this[s].slice();var n,i=t.type(e),u="array"===i||"object"===i?e:arguments,f=this[s].slice();return c(r,function(t,e){var n=u["object"===i?t:e.idx];null==n&&(n=f[e.idx]),f[e.idx]=h(n,e)}),l?((n=o(l(f)))[s]=f,n):o(f)},c(r,function(n,r){o.fn[n]||(o.fn[n]=function(o){var s,a=t.type(o),l="alpha"===n?this._hsla?"hsla":"rgba":e,u=this[l](),c=u[r.idx];return"undefined"===a?c:("function"===a&&(o=o.call(this,c),a=t.type(o)),null==o&&r.empty?this:("string"===a&&(s=i.exec(o))&&(o=c+parseFloat(s[2])*("+"===s[1]?1:-1)),u[r.idx]=o,this[l](u)))})})}),o.hook=function(e){var n=e.split(" ");c(n,function(e,n){t.cssHooks[n]={set:function(e,i){var r,s,a="";if("transparent"!==i&&("string"!==t.type(i)||(r=f(i)))){if(i=o(r||i),!l.rgba&&1!==i._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}i=i.blend(a&&"transparent"!==a?a:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=o(e.elem,n),e.end=o(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return c(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},n=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(_),function(){var e,n=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function r(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(_.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,o,s,a){var l=t.speed(o,s,a);return this.queue(function(){var o,s=t(this),a=s.attr("class")||"",u=l.children?s.find("*").addBack():s;u=u.map(function(){var e=t(this);return{el:e,start:r(this)}}),(o=function(){t.each(n,function(t,n){e[n]&&s[n+"Class"](e[n])})})(),u=u.map(function(){return this.end=r(this.el[0]),this.diff=function(e,n){var r,o,s={};for(r in n)o=n[r],e[r]!==o&&(i[r]||!t.fx.step[r]&&isNaN(parseFloat(o))||(s[r]=o));return s}(this.start,this.end),this}),s.attr("class",a),u=u.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,u.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(s[0])})})},t.fn.extend({addClass:(e=t.fn.addClass,function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,s){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){var e;function n(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function i(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"==typeof e&&!e.effect}function r(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}t.expr&&t.expr.pseudos&&t.expr.pseudos.animated&&(t.expr.pseudos.animated=(e=t.expr.pseudos.animated,function(n){return!!t(n).data(y)||e(n)})),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;n<i;n++)null!==e[n]&&t.data("ui-effects-"+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;i<r;i++)null!==e[i]&&(n=t.data("ui-effects-"+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data("ui-effects-style",t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data("ui-effects-style")||"",t.removeData("ui-effects-style")},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data("ui-effects-placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e="ui-effects-placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){var e=n.apply(this,arguments),i=t.effects.effect[e.effect],r=i.mode,o=e.queue,s=o||"fx",a=e.complete,l=e.mode,u=[],c=function(e){var n=t(this),i=t.effects.mode(n,l)||r;n.data(y,!0),u.push(i),r&&("show"===i||i===r&&"hide"===i)&&n.show(),r&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};if(t.fx.off||!i)return l?this[l](e.duration,a):this.each(function(){a&&a.call(this)});function h(n){var o=t(this);function s(){t.isFunction(a)&&a.call(o[0]),t.isFunction(n)&&n()}e.mode=u.shift(),!1===t.uiBackCompat||r?"none"===e.mode?(o[l](),s()):i.call(o[0],e,function(){o.removeData(y),t.effects.cleanUp(o),"hide"===e.mode&&o.hide(),s()}):(o.is(":hidden")?"hide"===l:"show"===l)?(o[l](),s()):i.call(o[0],e,s)}return!1===o?this.each(c).each(h):this.queue(s,c).queue(s,h)},show:function(t){return function(e){if(i(e))return t.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(e){if(i(e))return t.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(e){if(i(e)||"boolean"==typeof e)return t.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):r(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,u=r.offset(),c={top:u.top-a,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),f=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-a,left:h.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){f.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=r(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),v={},t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){v[e]=function(e){return Math.pow(e,t+2)}}),t.extend(v,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(v,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}}),t.effects,t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",s=r.cssClip(),a={clip:t.extend({},s)},l=t.effects.createPlaceholder(r);a.clip[i[o][0]]=a.clip[i[o][1]],"show"===e.mode&&(r.cssClip(a.clip),l&&l.css(t.effects.clipToBox(a)),a.clip=s),l&&l.animate(t.effects.clipToBox(a),e.duration,e.easing),r.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("bounce",function(e,n){var i,r,o,s=t(this),a=e.mode,l="hide"===a,u="show"===a,c=e.direction||"up",h=e.distance,f=e.times||5,p=2*f+(u||l?1:0),d=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,y=0,_=s.queue().length;for(t.effects.createPlaceholder(s),o=s.css(m),h||(h=s["top"===m?"outerHeight":"outerWidth"]()/3),u&&((r={opacity:1})[m]=o,s.css("opacity",0).css(m,v?2*-h:2*h).animate(r,d,g)),l&&(h/=Math.pow(2,f-1)),(r={})[m]=o;y<f;y++)(i={})[m]=(v?"-=":"+=")+h,s.animate(i,d,g).animate(r,d,g),h=l?2*h:h/2;l&&((i={opacity:0})[m]=(v?"-=":"+=")+h,s.animate(i,d,g)),s.queue(n),t.effects.unshift(s,_,p+1)}),t.effects.define("clip","hide",function(e,n){var i,r={},o=t(this),s=e.direction||"vertical",a="both"===s,l=a||"horizontal"===s,u=a||"vertical"===s;i=o.cssClip(),r.clip={top:u?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:u?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("drop","hide",function(e,n){var i,r=t(this),o=e.mode,s="show"===o,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",u="up"===a||"left"===a?"-=":"+=",c="+="===u?"-=":"+=",h={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,h[l]=u+i,s&&(r.css(h),h[l]=c+i,h.opacity=1),r.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("explode","hide",function(e,n){var i,r,o,s,a,l,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=u,h=t(this),f=e.mode,p="show"===f,d=h.show().css("visibility","hidden").offset(),g=Math.ceil(h.outerWidth()/c),m=Math.ceil(h.outerHeight()/u),v=[];function y(){v.push(this),v.length===u*c&&(h.css({visibility:"visible"}),t(v).remove(),n())}for(i=0;i<u;i++)for(s=d.top+i*m,l=i-(u-1)/2,r=0;r<c;r++)o=d.left+r*g,a=r-(c-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*g,top:-i*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g,height:m,left:o+(p?a*g:0),top:s+(p?l*m:0),opacity:p?0:1}).animate({left:o+(p?0:a*g),top:s+(p?0:l*m),opacity:p?1:0},e.duration||500,e.easing,y)}),t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=e.size||15,l=/([0-9]+)%/.exec(a),u=!!e.horizFirst,c=u?["right","bottom"]:["bottom","right"],h=e.duration/2,f=t.effects.createPlaceholder(i),p=i.cssClip(),d={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],v=i.queue().length;l&&(a=parseInt(l[1],10)/100*m[s?0:1]),d.clip[c[0]]=a,g.clip[c[0]]=a,g.clip[c[1]]=0,o&&(i.cssClip(g.clip),f&&f.css(t.effects.clipToBox(g)),g.clip=p),i.queue(function(n){f&&f.animate(t.effects.clipToBox(d),h,e.easing).animate(t.effects.clipToBox(g),h,e.easing),n()}).animate(d,h,e.easing).animate(g,h,e.easing).queue(n),t.effects.unshift(i,v,4)}),t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("size",function(e,n){var i,r,o,s=t(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,h="effect"!==c,f=e.scale||"both",p=e.origin||["middle","center"],d=s.css("position"),g=s.position(),m=t.effects.scaledDimensions(s),v=e.from||m,y=e.to||t.effects.scaledDimensions(s,0);t.effects.createPlaceholder(s),"show"===c&&(o=v,v=y,y=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:y.height/m.height,x:y.width/m.width}},"box"!==f&&"both"!==f||(r.from.y!==r.to.y&&(v=t.effects.setTransition(s,l,r.from.y,v),y=t.effects.setTransition(s,l,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(s,u,r.from.x,v),y=t.effects.setTransition(s,u,r.to.x,y))),"content"!==f&&"both"!==f||r.from.y!==r.to.y&&(v=t.effects.setTransition(s,a,r.from.y,v),y=t.effects.setTransition(s,a,r.to.y,y)),p&&(i=t.effects.getBaseline(p,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,y.top=(m.outerHeight-y.outerHeight)*i.y+g.top,y.left=(m.outerWidth-y.outerWidth)*i.x+g.left),s.css(v),"content"!==f&&"both"!==f||(l=l.concat(["marginTop","marginBottom"]).concat(a),u=u.concat(["marginLeft","marginRight"]),s.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},s={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(n,l,r.from.y,o),s=t.effects.setTransition(n,l,r.to.y,s)),r.from.x!==r.to.x&&(o=t.effects.setTransition(n,u,r.from.x,o),s=t.effects.setTransition(n,u,r.to.x,s)),h&&t.effects.saveStyle(n),n.css(o),n.animate(s,e.duration,e.easing,function(){h&&t.effects.restoreStyle(n)})})),s.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=s.offset();0===y.opacity&&s.css("opacity",v.opacity),h||(s.css("position","static"===d?"relative":d).offset(e),t.effects.saveStyle(s)),n()}})}),t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),s=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(s.from.opacity=1,s.to.opacity=0),t.effects.effect.size.call(this,s,n)}),t.effects.define("puff","hide",function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}),t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=o||s,l=2*(e.times||5)+(a?1:0),u=e.duration/l,c=0,h=1,f=i.queue().length;for(!o&&i.is(":visible")||(i.css("opacity",0).show(),c=1);h<l;h++)i.animate({opacity:c},u,e.easing),c=1-c;i.animate({opacity:c},u,e.easing),i.queue(n),t.effects.unshift(i,f,l+1)}),t.effects.define("shake",function(e,n){var i=1,r=t(this),o=e.direction||"left",s=e.distance||20,a=e.times||3,l=2*a+1,u=Math.round(e.duration/l),c="up"===o||"down"===o?"top":"left",h="up"===o||"left"===o,f={},p={},d={},g=r.queue().length;for(t.effects.createPlaceholder(r),f[c]=(h?"-=":"+=")+s,p[c]=(h?"+=":"-=")+2*s,d[c]=(h?"-=":"+=")+2*s,r.animate(f,u,e.easing);i<a;i++)r.animate(p,u,e.easing).animate(d,u,e.easing);r.animate(p,u,e.easing).animate(f,u/2,e.easing).queue(n),t.effects.unshift(r,g,l+1)}),t.effects.define("slide","show",function(e,n){var i,r,o=t(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h=e.distance||o["top"===u?"outerHeight":"outerWidth"](!0),f={};t.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[u],f[u]=(c?-1:1)*h+r,f.clip=o.cssClip(),f.clip[s[l][1]]=f.clip[s[l][0]],"show"===a&&(o.cssClip(f.clip),o.css(u,f[u]),f.clip=i,f[u]=r),o.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),!1!==t.uiBackCompat&&t.effects.define("transfer",function(e,n){t(this).transfer(e,n)})})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r;
/*!
 * Bootstrap-select v1.13.9 (https://developer.snapappointments.com/bootstrap-select)
 *
 * Copyright 2012-2019 SnapAppointments, LLC
 * Licensed under MIT (https://github.com/snapappointments/bootstrap-select/blob/master/LICENSE)
 */void 0===this&&void 0!==window&&window,i=[n(51)],void 0===(r=function(t){!function(t){"use strict";var e=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],i={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},r=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,o=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function s(e,i){var s=e.nodeName.toLowerCase();if(-1!==t.inArray(s,i))return-1===t.inArray(s,n)||Boolean(e.nodeValue.match(r)||e.nodeValue.match(o));for(var a=t(i).filter(function(t,e){return e instanceof RegExp}),l=0,u=a.length;l<u;l++)if(s.match(a[l]))return!0;return!1}function a(t,e,n){if(n&&"function"==typeof n)return n(t);for(var i=Object.keys(e),r=0,o=t.length;r<o;r++)for(var a=t[r].querySelectorAll("*"),l=0,u=a.length;l<u;l++){var c=a[l],h=c.nodeName.toLowerCase();if(-1!==i.indexOf(h))for(var f=[].slice.call(c.attributes),p=[].concat(e["*"]||[],e[h]||[]),d=0,g=f.length;d<g;d++){var m=f[d];s(m,p)||c.removeAttribute(m.nodeName)}else c.parentNode.removeChild(c)}}"classList"in document.createElement("_")||function(e){if("Element"in e){var n=e.Element.prototype,i=Object,r=function(){var e=t(this);return{add:function(t){return t=Array.prototype.slice.call(arguments).join(" "),e.addClass(t)},remove:function(t){return t=Array.prototype.slice.call(arguments).join(" "),e.removeClass(t)},toggle:function(t,n){return e.toggleClass(t,n)},contains:function(t){return e.hasClass(t)}}};if(i.defineProperty){var o={get:r,enumerable:!0,configurable:!0};try{i.defineProperty(n,"classList",o)}catch(t){void 0!==t.number&&-2146823252!==t.number||(o.enumerable=!1,i.defineProperty(n,"classList",o))}}else i.prototype.__defineGetter__&&n.__defineGetter__("classList",r)}}(window);var l,u,c,h=document.createElement("_");if(h.classList.add("c1","c2"),!h.classList.contains("c2")){var f=DOMTokenList.prototype.add,p=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,f.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,p.bind(this))}}if(h.classList.toggle("c3",!1),h.classList.contains("c3")){var d=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:d.call(this,t)}}function g(t){var e,n=[],i=t.selectedOptions;if(t.multiple)for(var r=0,o=i.length;r<o;r++)e=i[r],n.push(e.value||e.text);else n=t.value;return n}h=null,String.prototype.startsWith||(l=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),u={}.toString,c=function(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==u.call(t))throw new TypeError;var n=e.length,i=String(t),r=i.length,o=arguments.length>1?arguments[1]:void 0,s=o?Number(o):0;s!=s&&(s=0);var a=Math.min(Math.max(s,0),n);if(r+a>n)return!1;for(var l=-1;++l<r;)if(e.charCodeAt(a+l)!=i.charCodeAt(l))return!1;return!0},l?l(String.prototype,"startsWith",{value:c,configurable:!0,writable:!0}):String.prototype.startsWith=c),Object.keys||(Object.keys=function(t,e,n){for(e in n=[],t)n.hasOwnProperty.call(t,e)&&n.push(e);return n}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var m={useDefault:!1,_set:t.valHooks.select.set};t.valHooks.select.set=function(e,n){return n&&!m.useDefault&&t(e).data("selected",!0),m._set.apply(this,arguments)};var v=null,y=function(){try{return new Event("change"),!0}catch(t){return!1}}();function _(t,e,n,i){for(var r=["display","subtext","tokens"],o=!1,s=0;s<r.length;s++){var a=r[s],l=t[a];if(l&&(l=l.toString(),"display"===a&&(l=l.replace(/<[^>]+>/g,"")),i&&(l=S(l)),l=l.toUpperCase(),o="contains"===n?l.indexOf(e)>=0:l.startsWith(e)))break}return o}function b(t){return parseInt(t,10)||0}t.fn.triggerNative=function(t){var e,n=this[0];n.dispatchEvent?(y?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),n.dispatchEvent(e)):n.fireEvent?((e=document.createEventObject()).eventType=t,n.fireEvent("on"+t,e)):this.trigger(t)};var x={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},w=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,E=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function C(t){return x[t]}function S(t){return(t=t.toString())&&t.replace(w,C).replace(E,"")}var M,I,O,T,N,k=(M={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},I=function(t){return M[t]},O="(?:"+Object.keys(M).join("|")+")",T=RegExp(O),N=RegExp(O,"g"),function(t){return t=null==t?"":""+t,T.test(t)?t.replace(N,I):t}),P={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},A={ESCAPE:27,ENTER:13,SPACE:32,TAB:9,ARROW_UP:38,ARROW_DOWN:40},L={success:!1,major:"3"};try{L.full=(t.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),L.major=L.full[0],L.success=!0}catch(t){}var D=0,R=".bs.select",j={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},F={MENU:"."+j.MENU},z={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};z.a.setAttribute("role","option"),z.subtext.className="text-muted",z.text=z.span.cloneNode(!1),z.text.className="text",z.checkMark=z.span.cloneNode(!1);var B=new RegExp(A.ARROW_UP+"|"+A.ARROW_DOWN),G=new RegExp("^"+A.TAB+"$|"+A.ESCAPE),q={li:function(t,e,n){var i=z.li.cloneNode(!1);return t&&(1===t.nodeType||11===t.nodeType?i.appendChild(t):i.innerHTML=t),void 0!==e&&""!==e&&(i.className=e),null!=n&&i.classList.add("optgroup-"+n),i},a:function(t,e,n){var i=z.a.cloneNode(!0);return t&&(11===t.nodeType?i.appendChild(t):i.insertAdjacentHTML("beforeend",t)),void 0!==e&&""!==e&&(i.className=e),"4"===L.major&&i.classList.add("dropdown-item"),n&&i.setAttribute("style",n),i},text:function(t,e){var n,i,r=z.text.cloneNode(!1);if(t.content)r.innerHTML=t.content;else{if(r.textContent=t.text,t.icon){var o=z.whitespace.cloneNode(!1);(i=(!0===e?z.i:z.span).cloneNode(!1)).className=t.iconBase+" "+t.icon,z.fragment.appendChild(i),z.fragment.appendChild(o)}t.subtext&&((n=z.subtext.cloneNode(!1)).textContent=t.subtext,r.appendChild(n))}if(!0===e)for(;r.childNodes.length>0;)z.fragment.appendChild(r.childNodes[0]);else z.fragment.appendChild(r);return z.fragment},label:function(t){var e,n,i=z.text.cloneNode(!1);if(i.innerHTML=t.label,t.icon){var r=z.whitespace.cloneNode(!1);(n=z.span.cloneNode(!1)).className=t.iconBase+" "+t.icon,z.fragment.appendChild(n),z.fragment.appendChild(r)}return t.subtext&&((e=z.subtext.cloneNode(!1)).textContent=t.subtext,i.appendChild(e)),z.fragment.appendChild(i),z.fragment}},H=function(e,n){var i=this;m.useDefault||(t.valHooks.select.set=m._set,m.useDefault=!0),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=n,this.selectpicker={main:{},current:{},search:{},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){i.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var r=this.options.windowPadding;"number"==typeof r&&(this.options.windowPadding=[r,r,r,r]),this.val=H.prototype.val,this.render=H.prototype.render,this.refresh=H.prototype.refresh,this.setStyle=H.prototype.setStyle,this.selectAll=H.prototype.selectAll,this.deselectAll=H.prototype.deselectAll,this.destroy=H.prototype.destroy,this.remove=H.prototype.remove,this.show=H.prototype.show,this.hide=H.prototype.hide,this.init()};function W(n){var i,r=arguments,o=n;if([].shift.apply(r),!L.success){try{L.full=(t.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(t){H.BootstrapVersion?L.full=H.BootstrapVersion.split(" ")[0].split("."):(L.full=[L.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",t))}L.major=L.full[0],L.success=!0}if("4"===L.major){var s=[];H.DEFAULTS.style===j.BUTTONCLASS&&s.push({name:"style",className:"BUTTONCLASS"}),H.DEFAULTS.iconBase===j.ICONBASE&&s.push({name:"iconBase",className:"ICONBASE"}),H.DEFAULTS.tickIcon===j.TICKICON&&s.push({name:"tickIcon",className:"TICKICON"}),j.DIVIDER="dropdown-divider",j.SHOW="show",j.BUTTONCLASS="btn-light",j.POPOVERHEADER="popover-header",j.ICONBASE="",j.TICKICON="bs-ok-default";for(var a=0;a<s.length;a++){var n=s[a];H.DEFAULTS[n.name]=j[n.className]}}var l=this.each(function(){var n=t(this);if(n.is("select")){var s=n.data("selectpicker"),a="object"==typeof o&&o;if(s){if(a)for(var l in a)a.hasOwnProperty(l)&&(s.options[l]=a[l])}else{var u=n.data();for(var c in u)u.hasOwnProperty(c)&&-1!==t.inArray(c,e)&&delete u[c];var h=t.extend({},H.DEFAULTS,t.fn.selectpicker.defaults||{},u,a);h.template=t.extend({},H.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},u.template,a.template),n.data("selectpicker",s=new H(this,h))}"string"==typeof o&&(i=s[o]instanceof Function?s[o].apply(s,r):s.options[o])}});return void 0!==i?i:l}H.VERSION="1.13.9",H.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:j.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:j.ICONBASE,tickIcon:j.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:i},H.prototype={constructor:H,init:function(){var t=this,e=this.$element.attr("id");this.selectId=D++,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.options.showTick=this.$element[0].classList.contains("show-tick"),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(F.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(j.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide.bs.select",function(){if(t.isVirtual()){var e=t.$menuInner[0],n=e.firstChild.cloneNode(!1);e.replaceChild(n,e.firstChild),e.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!1),t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!0),t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid.bs.select",function(){t.$button[0].classList.add("bs-invalid"),t.$element.on("shown.bs.select.invalid",function(){t.$element.val(t.$element.val()).off("shown.bs.select.invalid")}).on("rendered.bs.select",function(){this.validity.valid&&t.$button[0].classList.remove("bs-invalid"),t.$element.off("rendered.bs.select")}),t.$button.on("blur.bs.select",function(){t.$element.trigger("focus").trigger("blur"),t.$button.off("blur.bs.select")})}),setTimeout(function(){t.createLi(),t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",n="",i=this.autofocus?" autofocus":"";L.major<4&&this.$element.parent().hasClass("input-group")&&(n=" input-group-btn");var r,o="",s="",a="",l="";return this.options.header&&(o='<div class="'+j.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(s='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+k(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>'),this.multiple&&this.options.actionsBox&&(a='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+j.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+j.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(l='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+j.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),r='<div class="dropdown bootstrap-select'+e+n+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+i+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===L.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+j.MENU+" "+("4"===L.major?"":j.SHOW)+'" role="combobox">'+o+s+a+'<div class="inner '+j.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+j.MENU+" inner "+("4"===L.major?j.SHOW:"")+'"></ul></div>'+l+"</div></div>",t(r)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var t=0;t<this.selectpicker.current.data.length;t++){var e=this.selectpicker.current.data[t],n=!0;"divider"===e.type?(n=!1,e.height=this.sizeInfo.dividerHeight):"optgroup-label"===e.type?(n=!1,e.height=this.sizeInfo.dropdownHeaderHeight):e.height=this.sizeInfo.liHeight,e.disabled&&(n=!1),this.selectpicker.view.canHighlight.push(n),e.position=(0===t?0:this.selectpicker.current.data[t-1].position)+e.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(e,n){n=n||0;var i=this;this.selectpicker.current=e?this.selectpicker.search:this.selectpicker.main;var r,o,s=[];function l(t,n){var l,u,c,h,f,p,d,g,m,v,y=i.selectpicker.current.elements.length,_=[],b=!0,x=i.isVirtual();i.selectpicker.view.scrollTop=t,!0===x&&i.sizeInfo.hasScrollBar&&i.$menu[0].offsetWidth>i.sizeInfo.totalMenuWidth&&(i.sizeInfo.menuWidth=i.$menu[0].offsetWidth,i.sizeInfo.totalMenuWidth=i.sizeInfo.menuWidth+i.sizeInfo.scrollBarWidth,i.$menu.css("min-width",i.sizeInfo.menuWidth)),l=Math.ceil(i.sizeInfo.menuInnerHeight/i.sizeInfo.liHeight*1.5),u=Math.round(y/l)||1;for(var w=0;w<u;w++){var E=(w+1)*l;if(w===u-1&&(E=y),_[w]=[w*l+(w?1:0),E],!y)break;void 0===f&&t<=i.selectpicker.current.data[E-1].position-i.sizeInfo.menuInnerHeight&&(f=w)}if(void 0===f&&(f=0),p=[i.selectpicker.view.position0,i.selectpicker.view.position1],c=Math.max(0,f-1),h=Math.min(u-1,f+1),i.selectpicker.view.position0=!1===x?0:Math.max(0,_[c][0])||0,i.selectpicker.view.position1=!1===x?y:Math.min(y,_[h][1])||0,d=p[0]!==i.selectpicker.view.position0||p[1]!==i.selectpicker.view.position1,void 0!==i.activeIndex&&(o=i.selectpicker.main.elements[i.prevActiveIndex],s=i.selectpicker.main.elements[i.activeIndex],r=i.selectpicker.main.elements[i.selectedIndex],n&&(i.activeIndex!==i.selectedIndex&&s&&s.length&&(s.classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active")),i.activeIndex=void 0),i.activeIndex&&i.activeIndex!==i.selectedIndex&&r&&r.length&&(r.classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active"))),void 0!==i.prevActiveIndex&&i.prevActiveIndex!==i.activeIndex&&i.prevActiveIndex!==i.selectedIndex&&o&&o.length&&(o.classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active")),(n||d)&&(g=i.selectpicker.view.visibleElements?i.selectpicker.view.visibleElements.slice():[],i.selectpicker.view.visibleElements=!1===x?i.selectpicker.current.elements:i.selectpicker.current.elements.slice(i.selectpicker.view.position0,i.selectpicker.view.position1),i.setOptionStatus(),(e||!1===x&&n)&&(m=g,v=i.selectpicker.view.visibleElements,b=!(m.length===v.length&&m.every(function(t,e){return t===v[e]}))),(n||!0===x)&&b)){var C,S,M=i.$menuInner[0],I=document.createDocumentFragment(),O=M.firstChild.cloneNode(!1),T=i.selectpicker.view.visibleElements,N=[];M.replaceChild(O,M.firstChild);for(var w=0,k=T.length;w<k;w++){var P,A,L=T[w];i.options.sanitize&&(P=L.lastChild)&&(A=i.selectpicker.current.data[w+i.selectpicker.view.position0])&&A.content&&!A.sanitized&&(N.push(P),A.sanitized=!0),I.appendChild(L)}i.options.sanitize&&N.length&&a(N,i.options.whiteList,i.options.sanitizeFn),!0===x&&(C=0===i.selectpicker.view.position0?0:i.selectpicker.current.data[i.selectpicker.view.position0-1].position,S=i.selectpicker.view.position1>y-1?0:i.selectpicker.current.data[y-1].position-i.selectpicker.current.data[i.selectpicker.view.position1-1].position,M.firstChild.style.marginTop=C+"px",M.firstChild.style.marginBottom=S+"px"),M.firstChild.appendChild(I)}if(i.prevActiveIndex=i.activeIndex,i.options.liveSearch){if(e&&n){var D,R=0;i.selectpicker.view.canHighlight[R]||(R=1+i.selectpicker.view.canHighlight.slice(1).indexOf(!0)),D=i.selectpicker.view.visibleElements[R],i.selectpicker.view.currentActive&&(i.selectpicker.view.currentActive.classList.remove("active"),i.selectpicker.view.currentActive.firstChild&&i.selectpicker.view.currentActive.firstChild.classList.remove("active")),D&&(D.classList.add("active"),D.firstChild&&D.firstChild.classList.add("active")),i.activeIndex=(i.selectpicker.current.data[R]||{}).index}}else i.$menuInner.trigger("focus")}this.setPositionData(),l(n,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(t,e){i.noScroll||l(this.scrollTop,e),i.noScroll=!1}),t(window).off("resize.bs.select."+this.selectId+".createView").on("resize.bs.select."+this.selectId+".createView",function(){var t=i.$newElement.hasClass(j.SHOW);t&&l(i.$menuInner[0].scrollTop)})},setPlaceholder:function(){var e=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=!0;var n=this.$element[0],i=!1,r=!this.selectpicker.view.titleOption.parentNode;if(r){this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="";var o=t(n.options[n.selectedIndex]);i=void 0===o.attr("selected")&&void 0===this.$element.data("selected")}(r||0!==this.selectpicker.view.titleOption.index)&&n.insertBefore(this.selectpicker.view.titleOption,n.firstChild),i&&(n.selectedIndex=0)}return e},createLi:function(){var t=this,e=this.options.iconBase,n=':not([hidden]):not([data-hidden="true"])',i=[],r=[],o=0,s=0,a=this.setPlaceholder()?1:0;this.options.hideDisabled&&(n+=":not(:disabled)"),!t.options.showTick&&!t.multiple||z.checkMark.parentNode||(z.checkMark.className=e+" "+t.options.tickIcon+" check-mark",z.a.appendChild(z.checkMark));var l=this.$element[0].querySelectorAll("select > *"+n);function u(t){var e=r[r.length-1];e&&"divider"===e.type&&(e.optID||t.optID)||((t=t||{}).type="divider",i.push(q.li(!1,j.DIVIDER,t.optID?t.optID+"div":void 0)),r.push(t))}function c(n,s){if((s=s||{}).divider="true"===n.getAttribute("data-divider"),s.divider)u({optID:s.optID});else{var a=r.length,l=n.style.cssText,c=l?k(l):"",h=(n.className||"")+(s.optgroupClass||"");s.optID&&(h="opt "+h),s.text=n.textContent,s.content=n.getAttribute("data-content"),s.tokens=n.getAttribute("data-tokens"),s.subtext=n.getAttribute("data-subtext"),s.icon=n.getAttribute("data-icon"),s.iconBase=e;var f=q.text(s);i.push(q.li(q.a(f,h,c),"",s.optID)),n.liIndex=a,s.display=s.content||s.text,s.type="option",s.index=a,s.option=n,s.disabled=s.disabled||n.disabled,r.push(s);var p=0;s.display&&(p+=s.display.length),s.subtext&&(p+=s.subtext.length),s.icon&&(p+=1),p>o&&(o=p,t.selectpicker.view.widestOption=i[i.length-1])}}function h(t,o){var a=o[t],l=o[t-1],h=o[t+1],f=a.querySelectorAll("option"+n);if(f.length){var p,d,g={label:k(a.label),subtext:a.getAttribute("data-subtext"),icon:a.getAttribute("data-icon"),iconBase:e},m=" "+(a.className||"");s++,l&&u({optID:s});var v=q.label(g);i.push(q.li(v,"dropdown-header"+m,s)),r.push({display:g.label,subtext:g.subtext,type:"optgroup-label",optID:s});for(var y=0,_=f.length;y<_;y++){var b=f[y];0===y&&(p=r.length-1,d=p+_),c(b,{headerIndex:p,lastIndex:d,optID:s,optgroupClass:m,disabled:a.disabled})}h&&u({optID:s})}}for(var f=l.length;a<f;a++){var p=l[a];"OPTGROUP"!==p.tagName?c(p,{}):h(a,l)}this.selectpicker.main.elements=i,this.selectpicker.main.data=r,this.selectpicker.current=this.selectpicker.main},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var t,e,n=this.$element[0].selectedOptions,i=n.length,r=this.$button[0],o=r.querySelector(".filter-option-inner-inner"),s=document.createTextNode(this.options.multipleSeparator),l=z.fragment.cloneNode(!1),u=!1;if(this.togglePlaceholder(),this.tabIndex(),"static"===this.options.selectedTextFormat)l=q.text({text:this.options.title},!0);else if((t=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&i>1)&&(e=this.options.selectedTextFormat.split(">"),t=e.length>1&&i>e[1]||1===e.length&&i>=2),!1===t){for(var c=0;c<i&&c<50;c++){var h=n[c],f={},p={content:h.getAttribute("data-content"),subtext:h.getAttribute("data-subtext"),icon:h.getAttribute("data-icon")};this.multiple&&c>0&&l.appendChild(s.cloneNode(!1)),h.title?f.text=h.title:p.content&&this.options.showContent?(f.content=p.content.toString(),u=!0):(this.options.showIcon&&(f.icon=p.icon,f.iconBase=this.options.iconBase),this.options.showSubtext&&!this.multiple&&p.subtext&&(f.subtext=" "+p.subtext),f.text=h.textContent.trim()),l.appendChild(q.text(f,!0))}i>49&&l.appendChild(document.createTextNode("..."))}else{var d=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(d+=":not(:disabled)");var g=this.$element[0].querySelectorAll("select > option"+d+", optgroup"+d+" option"+d).length,m="function"==typeof this.options.countSelectedText?this.options.countSelectedText(i,g):this.options.countSelectedText;l=q.text({text:m.replace("{0}",i.toString()).replace("{1}",g.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),l.childNodes.length||(l=q.text({text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),r.title=l.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&u&&a([l],this.options.whiteList,this.options.sanitizeFn),o.innerHTML="",o.appendChild(l),L.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var v=r.querySelector(".filter-expand"),y=o.cloneNode(!0);y.className="filter-expand",v?r.replaceChild(y,v):r.appendChild(y)}this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){var n,i=this.$button[0],r=this.$newElement[0],o=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),L.major<4&&(r.classList.add("bs3"),r.parentNode.classList.contains("input-group")&&(r.previousElementSibling||r.nextElementSibling)&&(r.previousElementSibling||r.nextElementSibling).classList.contains("input-group-addon")&&r.classList.add("bs3-has-addon")),n=t?t.trim():o,"add"==e?n&&i.classList.add.apply(i.classList,n.split(" ")):"remove"==e?n&&i.classList.remove.apply(i.classList,n.split(" ")):(o&&i.classList.remove.apply(i.classList,o.split(" ")),n&&i.classList.add.apply(i.classList,n.split(" ")))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),o=document.createElement("ul"),s=document.createElement("li"),a=document.createElement("li"),l=document.createElement("li"),u=document.createElement("a"),c=document.createElement("span"),h=this.options.header&&this.$menu.find("."+j.POPOVERHEADER).length>0?this.$menu.find("."+j.POPOVERHEADER)[0].cloneNode(!0):null,f=this.options.liveSearch?document.createElement("div"):null,p=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,d=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,g=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,c.className="text",u.className="dropdown-item "+(g?g.className:""),n.className=this.$menu[0].parentNode.className+" "+j.SHOW,n.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(i.style.minWidth=0),i.className=j.MENU+" "+j.SHOW,r.className="inner "+j.SHOW,o.className=j.MENU+" inner "+("4"===L.major?j.SHOW:""),s.className=j.DIVIDER,a.className="dropdown-header",c.appendChild(document.createTextNode("​")),u.appendChild(c),l.appendChild(u),a.appendChild(c.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(l),o.appendChild(s),o.appendChild(a),h&&i.appendChild(h),f){var m=document.createElement("input");f.className="bs-searchbox",m.className="form-control",f.appendChild(m),i.appendChild(f)}p&&i.appendChild(p),r.appendChild(o),i.appendChild(r),d&&i.appendChild(d),n.appendChild(i),document.body.appendChild(n);var v,y=l.offsetHeight,_=a?a.offsetHeight:0,x=h?h.offsetHeight:0,w=f?f.offsetHeight:0,E=p?p.offsetHeight:0,C=d?d.offsetHeight:0,S=t(s).outerHeight(!0),M=!!window.getComputedStyle&&window.getComputedStyle(i),I=i.offsetWidth,O=M?null:t(i),T={vert:b(M?M.paddingTop:O.css("paddingTop"))+b(M?M.paddingBottom:O.css("paddingBottom"))+b(M?M.borderTopWidth:O.css("borderTopWidth"))+b(M?M.borderBottomWidth:O.css("borderBottomWidth")),horiz:b(M?M.paddingLeft:O.css("paddingLeft"))+b(M?M.paddingRight:O.css("paddingRight"))+b(M?M.borderLeftWidth:O.css("borderLeftWidth"))+b(M?M.borderRightWidth:O.css("borderRightWidth"))},N={vert:T.vert+b(M?M.marginTop:O.css("marginTop"))+b(M?M.marginBottom:O.css("marginBottom"))+2,horiz:T.horiz+b(M?M.marginLeft:O.css("marginLeft"))+b(M?M.marginRight:O.css("marginRight"))+2};r.style.overflowY="scroll",v=i.offsetWidth-I,document.body.removeChild(n),this.sizeInfo.liHeight=y,this.sizeInfo.dropdownHeaderHeight=_,this.sizeInfo.headerHeight=x,this.sizeInfo.searchHeight=w,this.sizeInfo.actionsHeight=E,this.sizeInfo.doneButtonHeight=C,this.sizeInfo.dividerHeight=S,this.sizeInfo.menuPadding=T,this.sizeInfo.menuExtras=N,this.sizeInfo.menuWidth=I,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=v,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,n=t(window),i=this.$newElement.offset(),r=t(this.options.container);this.options.container&&r.length&&!r.is("body")?((e=r.offset()).top+=parseInt(r.css("borderTopWidth")),e.left+=parseInt(r.css("borderLeftWidth"))):e={top:0,left:0};var o=this.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-n.scrollTop(),this.sizeInfo.selectOffsetBot=n.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-o[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-n.scrollLeft(),this.sizeInfo.selectOffsetRight=n.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-o[1],this.sizeInfo.selectOffsetTop-=o[0],this.sizeInfo.selectOffsetLeft-=o[3]},setMenuSize:function(t){this.getSelectPosition();var e,n,i,r,o,s,a,l=this.sizeInfo.selectWidth,u=this.sizeInfo.liHeight,c=this.sizeInfo.headerHeight,h=this.sizeInfo.searchHeight,f=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,d=this.sizeInfo.dividerHeight,g=this.sizeInfo.menuPadding,m=0;if(this.options.dropupAuto&&(a=u*this.selectpicker.current.elements.length+g.vert,this.$newElement.toggleClass(j.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&a+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)r=this.selectpicker.current.elements.length>3?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,n=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,i=r+c+h+f+p,s=Math.max(r-g.vert,0),this.$newElement.hasClass(j.DROPUP)&&(n=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),o=n,e=n-c-h-f-p-g.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var v=0;v<this.options.size;v++)"divider"===this.selectpicker.current.data[v].type&&m++;n=u*this.options.size+m*d+g.vert,e=n-g.vert,o=n+c+h+f+p,i=s=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(j.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-l),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":i+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":s+"px"}),this.sizeInfo.menuInnerHeight=Math.max(e,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){if(this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var n,i=this,r=t(window),o=0;if(this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return i.setMenuSize()}),"auto"===this.options.size?r.off("resize.bs.select."+this.selectId+".setMenuSize scroll"+R+"."+this.selectId+".setMenuSize").on("resize.bs.select."+this.selectId+".setMenuSize scroll"+R+"."+this.selectId+".setMenuSize",function(){return i.setMenuSize()}):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&r.off("resize.bs.select."+this.selectId+".setMenuSize scroll"+R+"."+this.selectId+".setMenuSize"),e)o=this.$menuInner[0].scrollTop;else if(!i.multiple){var s=i.$element[0];"number"==typeof(n=(s.options[s.selectedIndex]||{}).liIndex)&&!1!==i.options.size&&(o=(o=i.sizeInfo.liHeight*n)-i.sizeInfo.menuInnerHeight/2+i.sizeInfo.liHeight/2)}i.createView(!1,o)}},setWidth:function(){var t=this;"auto"===this.options.width?requestAnimationFrame(function(){t.$menu.css("min-width","0"),t.$element.on("loaded.bs.select",function(){t.liHeight(),t.setMenuSize();var e=t.$newElement.clone().appendTo("body"),n=e.css("width","auto").children("button").outerWidth();e.remove(),t.sizeInfo.selectWidth=Math.max(t.sizeInfo.totalMenuWidth,n),t.$newElement.css("width",t.sizeInfo.selectWidth+"px")})}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,n,i,r=this,o=t(this.options.container),s=function(s){var a={},l=r.options.display||!!t.fn.dropdown.Constructor.Default&&t.fn.dropdown.Constructor.Default.display;r.$bsContainer.addClass(s.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(j.DROPUP,s.hasClass(j.DROPUP)),e=s.offset(),o.is("body")?n={top:0,left:0}:((n=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),n.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),i=s.hasClass(j.DROPUP)?0:s[0].offsetHeight,(L.major<4||"static"===l)&&(a.top=e.top-n.top+i,a.left=e.left-n.left),a.width=s[0].offsetWidth,r.$bsContainer.css(a)};this.$button.on("click.bs.dropdown.data-api",function(){r.isDisabled()||(s(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass(j.SHOW,!r.$button.hasClass(j.SHOW)).append(r.$menu))}),t(window).off("resize.bs.select."+this.selectId+" scroll"+R+"."+this.selectId).on("resize.bs.select."+this.selectId+" scroll"+R+"."+this.selectId,function(){var t=r.$newElement.hasClass(j.SHOW);t&&s(r.$newElement)}),this.$element.on("hide.bs.select",function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()})},setOptionStatus:function(){if(this.noScroll=!1,this.selectpicker.view.visibleElements&&this.selectpicker.view.visibleElements.length)for(var t=0;t<this.selectpicker.view.visibleElements.length;t++){var e=this.selectpicker.current.data[t+this.selectpicker.view.position0],n=e.option;n&&(this.setDisabled(e.index,e.disabled),this.setSelected(e.index,n.selected))}},setSelected:function(t,e){var n,i,r=this.selectpicker.main.elements[t],o=this.selectpicker.main.data[t],s=void 0!==this.activeIndex,a=this.activeIndex===t,l=a||e&&!this.multiple&&!s;o.selected=e,i=r.firstChild,e&&(this.selectedIndex=t),r.classList.toggle("selected",e),r.classList.toggle("active",l),l&&(this.selectpicker.view.currentActive=r,this.activeIndex=t),i&&(i.classList.toggle("selected",e),i.classList.toggle("active",l),i.setAttribute("aria-selected",e)),l||!s&&e&&void 0!==this.prevActiveIndex&&((n=this.selectpicker.main.elements[this.prevActiveIndex]).classList.remove("active"),n.firstChild&&n.firstChild.classList.remove("active"))},setDisabled:function(t,e){var n,i=this.selectpicker.main.elements[t];this.selectpicker.main.data[t].disabled=e,n=i.firstChild,i.classList.toggle(j.DISABLED,e),n&&("4"===L.major&&n.classList.toggle(j.DISABLED,e),n.setAttribute("aria-disabled",e),e?n.setAttribute("tabindex",-1):n.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement[0].classList.add(j.DISABLED),this.$button.addClass(j.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(j.DISABLED)&&(this.$newElement[0].classList.remove(j.DISABLED),this.$button.removeClass(j.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.on("click",function(){return!t.isDisabled()})},togglePlaceholder:function(){var t=this.$element[0],e=t.selectedIndex,n=-1===e;n||t.options[e].value||(n=!0),this.$button.toggleClass("bs-placeholder",n)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var e=this,n=t(document);function i(){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$menuInner.trigger("focus")}function r(){e.dropdown&&e.dropdown._popper&&e.dropdown._popper.state.isCreated?i():requestAnimationFrame(r)}n.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&n.data("spaceSelect")&&(t.preventDefault(),n.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){L.major>3&&!e.dropdown&&(e.dropdown=e.$button.data("bs.dropdown"),e.dropdown._menu=e.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){e.$newElement.hasClass(j.SHOW)||e.setSize()}),this.$element.on("shown.bs.select",function(){e.$menuInner[0].scrollTop!==e.selectpicker.view.scrollTop&&(e.$menuInner[0].scrollTop=e.selectpicker.view.scrollTop),L.major>3?requestAnimationFrame(r):i()}),this.$menuInner.on("click","li a",function(n,i){var r=t(this),o=e.isVirtual()?e.selectpicker.view.position0:0,s=e.selectpicker.current.data[r.parent().index()+o],a=s.index,l=g(e.$element[0]),u=e.$element.prop("selectedIndex"),c=!0;if(e.multiple&&1!==e.options.maxOptions&&n.stopPropagation(),n.preventDefault(),!e.isDisabled()&&!r.parent().hasClass(j.DISABLED)){var h=e.$element.find("option"),f=s.option,p=t(f),d=f.selected,m=p.parent("optgroup"),y=m.find("option"),_=e.options.maxOptions,b=m.data("maxOptions")||!1;if(a===e.activeIndex&&(i=!0),i||(e.prevActiveIndex=e.activeIndex,e.activeIndex=void 0),e.multiple){if(f.selected=!d,e.setSelected(a,!d),r.trigger("blur"),!1!==_||!1!==b){var x=_<h.filter(":selected").length,w=b<m.find("option:selected").length;if(_&&x||b&&w)if(_&&1==_){h.prop("selected",!1),p.prop("selected",!0);for(var E=0;E<h.length;E++)e.setSelected(E,!1);e.setSelected(a,!0)}else if(b&&1==b){m.find("option:selected").prop("selected",!1),p.prop("selected",!0);for(var E=0;E<y.length;E++){var f=y[E];e.setSelected(h.index(f),!1)}e.setSelected(a,!0)}else{var C="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,S="function"==typeof C?C(_,b):C,M=S[0].replace("{n}",_),I=S[1].replace("{n}",b),O=t('<div class="notify"></div>');S[2]&&(M=M.replace("{var}",S[2][_>1?0:1]),I=I.replace("{var}",S[2][b>1?0:1])),p.prop("selected",!1),e.$menu.append(O),_&&x&&(O.append(t("<div>"+M+"</div>")),c=!1,e.$element.trigger("maxReached.bs.select")),b&&w&&(O.append(t("<div>"+I+"</div>")),c=!1,e.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){e.setSelected(a,!1)},10),O.delay(750).fadeOut(300,function(){t(this).remove()})}}}else h.prop("selected",!1),f.selected=!0,e.setSelected(a,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.trigger("focus"):e.options.liveSearch&&e.$searchbox.trigger("focus"),c&&(l!=g(e.$element[0])&&e.multiple||u!=e.$element.prop("selectedIndex")&&!e.multiple)&&(v=[f.index,p.prop("selected"),l],e.$element.triggerNative("change"))}}),this.$menu.on("click","li."+j.DISABLED+" a, ."+j.POPOVERHEADER+", ."+j.POPOVERHEADER+" :not(.close)",function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),e.options.liveSearch&&!t(n.target).hasClass("close")?e.$searchbox.trigger("focus"):e.$button.trigger("focus"))}),this.$menuInner.on("click",".divider, .dropdown-header",function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus")}),this.$menu.on("click","."+j.POPOVERHEADER+" .close",function(){e.$button.trigger("click")}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(n){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus"),n.preventDefault(),n.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()}),this.$element.on("change.bs.select",function(){e.render(),e.$element.trigger("changed.bs.select",v),v=null}).on("focus.bs.select",function(){e.options.mobile||e.$button.trigger("focus")})},liveSearchListener:function(){var t=this,e=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){t.$searchbox.val()&&t.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var n=t.$searchbox.val();if(t.selectpicker.search.elements=[],t.selectpicker.search.data=[],n){var i=[],r=n.toUpperCase(),o={},s=[],a=t._searchStyle(),l=t.options.liveSearchNormalize;l&&(r=S(r)),t._$lisSelected=t.$menuInner.find(".selected");for(var u=0;u<t.selectpicker.main.data.length;u++){var c=t.selectpicker.main.data[u];o[u]||(o[u]=_(c,r,a,l)),o[u]&&void 0!==c.headerIndex&&-1===s.indexOf(c.headerIndex)&&(c.headerIndex>0&&(o[c.headerIndex-1]=!0,s.push(c.headerIndex-1)),o[c.headerIndex]=!0,s.push(c.headerIndex),o[c.lastIndex+1]=!0),o[u]&&"optgroup-label"!==c.type&&s.push(u)}for(var u=0,h=s.length;u<h;u++){var f=s[u],p=s[u-1],c=t.selectpicker.main.data[f],d=t.selectpicker.main.data[p];("divider"!==c.type||"divider"===c.type&&d&&"divider"!==d.type&&h-1!==u)&&(t.selectpicker.search.data.push(c),i.push(t.selectpicker.main.elements[f]))}t.activeIndex=void 0,t.noScroll=!0,t.$menuInner.scrollTop(0),t.selectpicker.search.elements=i,t.createView(!0),i.length||(e.className="no-results",e.innerHTML=t.options.noneResultsText.replace("{0}",'"'+k(n)+'"'),t.$menuInner[0].firstChild.appendChild(e))}else t.$menuInner.scrollTop(0),t.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(t){if(void 0!==t){var e=g(this.$element[0]);return v=[null,null,e],this.$element.val(t).trigger("changed.bs.select",v),this.render(),v=null,this.$element}return this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0);var e=this.$element[0],n=0,i=0,r=g(e);e.classList.add("bs-select-hidden");for(var o=0,s=this.selectpicker.current.elements.length;o<s;o++){var a=this.selectpicker.current.data[o],l=a.option;l&&!a.disabled&&"divider"!==a.type&&(a.selected&&n++,l.selected=t,t&&i++)}e.classList.remove("bs-select-hidden"),n!==i&&(this.setOptionStatus(),this.togglePlaceholder(),v=[null,null,r],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var n,i,r,o,s,a=t(this),l=a.hasClass("dropdown-toggle"),u=l?a.closest(".dropdown"):a.closest(F.MENU),c=u.data("this"),h=c.findLis(),f=!1,p=e.which===A.TAB&&!l&&!c.options.selectOnTab,d=B.test(e.which)||p,g=c.$menuInner[0].scrollTop,m=c.isVirtual(),v=!0===m?c.selectpicker.view.position0:0;if(!(i=c.$newElement.hasClass(j.SHOW))&&(d||e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||e.which>=65&&e.which<=90)&&(c.$button.trigger("click.bs.dropdown.data-api"),c.options.liveSearch))c.$searchbox.trigger("focus");else{if(e.which===A.ESCAPE&&i&&(e.preventDefault(),c.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),d){if(!h.length)return;void 0===(n=!0===m?h.index(h.filter(".active")):c.activeIndex)&&(n=-1),-1!==n&&((r=c.selectpicker.current.elements[n+v]).classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active")),e.which===A.ARROW_UP?(-1!==n&&n--,n+v<0&&(n+=h.length),c.selectpicker.view.canHighlight[n+v]||-1==(n=c.selectpicker.view.canHighlight.slice(0,n+v).lastIndexOf(!0)-v)&&(n=h.length-1)):(e.which===A.ARROW_DOWN||p)&&(++n+v>=c.selectpicker.view.canHighlight.length&&(n=0),c.selectpicker.view.canHighlight[n+v]||(n=n+1+c.selectpicker.view.canHighlight.slice(n+v+1).indexOf(!0))),e.preventDefault();var y=v+n;e.which===A.ARROW_UP?0===v&&n===h.length-1?(c.$menuInner[0].scrollTop=c.$menuInner[0].scrollHeight,y=c.selectpicker.current.elements.length-1):(o=c.selectpicker.current.data[y],s=o.position-o.height,f=s<g):(e.which===A.ARROW_DOWN||p)&&(0===n?(c.$menuInner[0].scrollTop=0,y=0):(o=c.selectpicker.current.data[y],s=o.position-c.sizeInfo.menuInnerHeight,f=s>g)),(r=c.selectpicker.current.elements[y])&&(r.classList.add("active"),r.firstChild&&r.firstChild.classList.add("active")),c.activeIndex=c.selectpicker.current.data[y].index,c.selectpicker.view.currentActive=r,f&&(c.$menuInner[0].scrollTop=s),c.options.liveSearch?c.$searchbox.trigger("focus"):a.trigger("focus")}else if(!a.is("input")&&!G.test(e.which)||e.which===A.SPACE&&c.selectpicker.keydown.keyHistory){var b,x,w=[];e.preventDefault(),c.selectpicker.keydown.keyHistory+=P[e.which],c.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(c.selectpicker.keydown.resetKeyHistory.cancel),c.selectpicker.keydown.resetKeyHistory.cancel=c.selectpicker.keydown.resetKeyHistory.start(),x=c.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(x)&&(x=x.charAt(0));for(var E=0;E<c.selectpicker.current.data.length;E++){var C=c.selectpicker.current.data[E];_(C,x,"startsWith",!0)&&c.selectpicker.view.canHighlight[E]&&w.push(C.index)}if(w.length){var S=0;h.removeClass("active").find("a").removeClass("active"),1===x.length&&(-1===(S=w.indexOf(c.activeIndex))||S===w.length-1?S=0:S++),b=w[S],o=c.selectpicker.main.data[b],g-o.position>0?(s=o.position-o.height,f=!0):(s=o.position-c.sizeInfo.menuInnerHeight,f=o.position>g+c.sizeInfo.menuInnerHeight),(r=c.selectpicker.main.elements[b]).classList.add("active"),r.firstChild&&r.firstChild.classList.add("active"),c.activeIndex=w[S],r.firstChild.focus(),f&&(c.$menuInner[0].scrollTop=s),a.trigger("focus")}}i&&(e.which===A.SPACE&&!c.selectpicker.keydown.keyHistory||e.which===A.ENTER||e.which===A.TAB&&c.options.selectOnTab)&&(e.which!==A.SPACE&&e.preventDefault(),c.options.liveSearch&&e.which===A.SPACE||(c.$menuInner.find(".active a").trigger("click",!0),a.trigger("focus"),c.options.liveSearch||(e.preventDefault(),t(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var e=t.extend({},this.options,this.$element.data());this.options=e,this.checkDisabled(),this.setStyle(),this.render(),this.createLi(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(R).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),t(window).off(".bs.select."+this.selectId)}};var U=t.fn.selectpicker;t.fn.selectpicker=W,t.fn.selectpicker.Constructor=H,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=U,this},t(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',H.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',function(t){t.stopPropagation()}),t(window).on("load.bs.select.data-api",function(){t(".selectpicker").each(function(){var e=t(this);W.call(e,e.data())})})}(t)}.apply(e,i))||(t.exports=r)},function(t,e,n){},function(t,e,n){},function(t,e,n){
/*!
  * Bootstrap v4.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2019 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){o(t,e,n[e])})}return t}e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var a="transitionend";function l(t){var n=this,i=!1;return e(this).one(u.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||u.triggerTransitionEnd(n)},t),this}var u={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration"),i=e(t).css("transition-delay"),r=parseFloat(n),o=parseFloat(i);return r||o?(n=n.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(n)+parseFloat(i))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger(a)},supportsTransitionEnd:function(){return Boolean(a)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=e[i],s=o&&u.isElement(o)?"element":(a=o,{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(r).test(s))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+r+'".')}var a},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?u.findShadowRoot(t.parentNode):null}};e.fn.emulateTransitionEnd=l,e.event.special[u.TRANSITION_END]={bindType:a,delegateType:a,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var c=e.fn.alert,h={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},f={ALERT:"alert",FADE:"fade",SHOW:"show"},p=function(){function t(t){this._element=t}var n=t.prototype;return n.close=function(t){var e=this._element;t&&(e=this._getRootElement(t));var n=this._triggerCloseEvent(e);n.isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(t){var n=u.getSelectorFromElement(t),i=!1;return n&&(i=document.querySelector(n)),i||(i=e(t).closest("."+f.ALERT)[0]),i},n._triggerCloseEvent=function(t){var n=e.Event(h.CLOSE);return e(t).trigger(n),n},n._removeElement=function(t){var n=this;if(e(t).removeClass(f.SHOW),e(t).hasClass(f.FADE)){var i=u.getTransitionDurationFromElement(t);e(t).one(u.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(i)}else this._destroyElement(t)},n._destroyElement=function(t){e(t).detach().trigger(h.CLOSED).remove()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.alert");r||(r=new t(this),i.data("bs.alert",r)),"close"===n&&r[n](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(h.CLICK_DATA_API,'[data-dismiss="alert"]',p._handleDismiss(new p)),e.fn.alert=p._jQueryInterface,e.fn.alert.Constructor=p,e.fn.alert.noConflict=function(){return e.fn.alert=c,p._jQueryInterface};var d=e.fn.button,g={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},m={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:'input:not([type="hidden"])',ACTIVE:".active",BUTTON:".btn"},v={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},y=function(){function t(t){this._element=t}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,i=e(this._element).closest(m.DATA_TOGGLE)[0];if(i){var r=this._element.querySelector(m.INPUT);if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains(g.ACTIVE))t=!1;else{var o=i.querySelector(m.ACTIVE);o&&e(o).removeClass(g.ACTIVE)}if(t){if(r.hasAttribute("disabled")||i.hasAttribute("disabled")||r.classList.contains("disabled")||i.classList.contains("disabled"))return;r.checked=!this._element.classList.contains(g.ACTIVE),e(r).trigger("change")}r.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(g.ACTIVE)),t&&e(this._element).toggleClass(g.ACTIVE)},n.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.button");i||(i=new t(this),e(this).data("bs.button",i)),"toggle"===n&&i[n]()})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(v.CLICK_DATA_API,m.DATA_TOGGLE_CARROT,function(t){t.preventDefault();var n=t.target;e(n).hasClass(g.BUTTON)||(n=e(n).closest(m.BUTTON)),y._jQueryInterface.call(e(n),"toggle")}).on(v.FOCUS_BLUR_DATA_API,m.DATA_TOGGLE_CARROT,function(t){var n=e(t.target).closest(m.BUTTON)[0];e(n).toggleClass(g.FOCUS,/^focus(in)?$/.test(t.type))}),e.fn.button=y._jQueryInterface,e.fn.button.Constructor=y,e.fn.button.noConflict=function(){return e.fn.button=d,y._jQueryInterface};var _="carousel",b=".bs.carousel",x=e.fn[_],w={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},E={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},C={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},S={SLIDE:"slide.bs.carousel",SLID:"slid.bs.carousel",KEYDOWN:"keydown.bs.carousel",MOUSEENTER:"mouseenter.bs.carousel",MOUSELEAVE:"mouseleave.bs.carousel",TOUCHSTART:"touchstart.bs.carousel",TOUCHMOVE:"touchmove.bs.carousel",TOUCHEND:"touchend.bs.carousel",POINTERDOWN:"pointerdown.bs.carousel",POINTERUP:"pointerup.bs.carousel",DRAG_START:"dragstart.bs.carousel",LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},M={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item",POINTER_EVENT:"pointer-event"},I={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},O={TOUCH:"touch",PEN:"pen"},T=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(I.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=t.prototype;return n.next=function(){this._isSliding||this._slide(C.NEXT)},n.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide(C.PREV)},n.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(I.NEXT_PREV)&&(u.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(t){var n=this;this._activeElement=this._element.querySelector(I.ACTIVE_ITEM);var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(S.SLID,function(){return n.to(t)});else{if(i===t)return this.pause(),void this.cycle();var r=t>i?C.NEXT:C.PREV;this._slide(r,this._items[t])}},n.dispose=function(){e(this._element).off(b),e.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(t){return t=s({},w,t),u.typeCheckConfig(_,t,E),t},n._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;e>0&&this.prev(),e<0&&this.next()}},n._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(S.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&e(this._element).on(S.MOUSEENTER,function(e){return t.pause(e)}).on(S.MOUSELEAVE,function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var n=function(e){t._pointerEvent&&O[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},i=function(e){t._pointerEvent&&O[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval))};e(this._element.querySelectorAll(I.ITEM_IMG)).on(S.DRAG_START,function(t){return t.preventDefault()}),this._pointerEvent?(e(this._element).on(S.POINTERDOWN,function(t){return n(t)}),e(this._element).on(S.POINTERUP,function(t){return i(t)}),this._element.classList.add(M.POINTER_EVENT)):(e(this._element).on(S.TOUCHSTART,function(t){return n(t)}),e(this._element).on(S.TOUCHMOVE,function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)}),e(this._element).on(S.TOUCHEND,function(t){return i(t)}))}},n._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},n._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(I.ITEM)):[],this._items.indexOf(t)},n._getItemByDirection=function(t,e){var n=t===C.NEXT,i=t===C.PREV,r=this._getItemIndex(e),o=this._items.length-1,s=i&&0===r||n&&r===o;if(s&&!this._config.wrap)return e;var a=t===C.PREV?-1:1,l=(r+a)%this._items.length;return-1===l?this._items[this._items.length-1]:this._items[l]},n._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),r=this._getItemIndex(this._element.querySelector(I.ACTIVE_ITEM)),o=e.Event(S.SLIDE,{relatedTarget:t,direction:n,from:r,to:i});return e(this._element).trigger(o),o},n._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(I.ACTIVE));e(n).removeClass(M.ACTIVE);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass(M.ACTIVE)}},n._slide=function(t,n){var i,r,o,s=this,a=this._element.querySelector(I.ACTIVE_ITEM),l=this._getItemIndex(a),c=n||a&&this._getItemByDirection(t,a),h=this._getItemIndex(c),f=Boolean(this._interval);if(t===C.NEXT?(i=M.LEFT,r=M.NEXT,o=C.LEFT):(i=M.RIGHT,r=M.PREV,o=C.RIGHT),c&&e(c).hasClass(M.ACTIVE))this._isSliding=!1;else{var p=this._triggerSlideEvent(c,o);if(!p.isDefaultPrevented()&&a&&c){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(c);var d=e.Event(S.SLID,{relatedTarget:c,direction:o,from:l,to:h});if(e(this._element).hasClass(M.SLIDE)){e(c).addClass(r),u.reflow(c),e(a).addClass(i),e(c).addClass(i);var g=parseInt(c.getAttribute("data-interval"),10);g?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=g):this._config.interval=this._config.defaultInterval||this._config.interval;var m=u.getTransitionDurationFromElement(a);e(a).one(u.TRANSITION_END,function(){e(c).removeClass(i+" "+r).addClass(M.ACTIVE),e(a).removeClass(M.ACTIVE+" "+r+" "+i),s._isSliding=!1,setTimeout(function(){return e(s._element).trigger(d)},0)}).emulateTransitionEnd(m)}else e(a).removeClass(M.ACTIVE),e(c).addClass(M.ACTIVE),this._isSliding=!1,e(this._element).trigger(d);f&&this.cycle()}}},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.carousel"),r=s({},w,e(this).data());"object"==typeof n&&(r=s({},r,n));var o="string"==typeof n?n:r.slide;if(i||(i=new t(this,r),e(this).data("bs.carousel",i)),"number"==typeof n)i.to(n);else if("string"==typeof o){if(void 0===i[o])throw new TypeError('No method named "'+o+'"');i[o]()}else r.interval&&r.ride&&(i.pause(),i.cycle())})},t._dataApiClickHandler=function(n){var i=u.getSelectorFromElement(this);if(i){var r=e(i)[0];if(r&&e(r).hasClass(M.CAROUSEL)){var o=s({},e(r).data(),e(this).data()),a=this.getAttribute("data-slide-to");a&&(o.interval=!1),t._jQueryInterface.call(e(r),o),a&&e(r).data("bs.carousel").to(a),n.preventDefault()}}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return w}}]),t}();e(document).on(S.CLICK_DATA_API,I.DATA_SLIDE,T._dataApiClickHandler),e(window).on(S.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(I.DATA_RIDE)),n=0,i=t.length;n<i;n++){var r=e(t[n]);T._jQueryInterface.call(r,r.data())}}),e.fn[_]=T._jQueryInterface,e.fn[_].Constructor=T,e.fn[_].noConflict=function(){return e.fn[_]=x,T._jQueryInterface};var N="collapse",k=e.fn[N],P={toggle:!0,parent:""},A={toggle:"boolean",parent:"(string|element)"},L={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},D={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},R={WIDTH:"width",HEIGHT:"height"},j={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},F=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(j.DATA_TOGGLE)),i=0,r=n.length;i<r;i++){var o=n[i],s=u.getSelectorFromElement(o),a=[].slice.call(document.querySelectorAll(s)).filter(function(e){return e===t});null!==s&&a.length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=t.prototype;return n.toggle=function(){e(this._element).hasClass(D.SHOW)?this.hide():this.show()},n.show=function(){var n,i,r=this;if(!(this._isTransitioning||e(this._element).hasClass(D.SHOW)||(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(j.ACTIVES)).filter(function(t){return"string"==typeof r._config.parent?t.getAttribute("data-parent")===r._config.parent:t.classList.contains(D.COLLAPSE)})).length&&(n=null),n&&(i=e(n).not(this._selector).data("bs.collapse"))&&i._isTransitioning))){var o=e.Event(L.SHOW);if(e(this._element).trigger(o),!o.isDefaultPrevented()){n&&(t._jQueryInterface.call(e(n).not(this._selector),"hide"),i||e(n).data("bs.collapse",null));var s=this._getDimension();e(this._element).removeClass(D.COLLAPSE).addClass(D.COLLAPSING),this._element.style[s]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(D.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var a=s[0].toUpperCase()+s.slice(1),l="scroll"+a,c=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,function(){e(r._element).removeClass(D.COLLAPSING).addClass(D.COLLAPSE).addClass(D.SHOW),r._element.style[s]="",r.setTransitioning(!1),e(r._element).trigger(L.SHOWN)}).emulateTransitionEnd(c),this._element.style[s]=this._element[l]+"px"}}},n.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(D.SHOW)){var n=e.Event(L.HIDE);if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",u.reflow(this._element),e(this._element).addClass(D.COLLAPSING).removeClass(D.COLLAPSE).removeClass(D.SHOW);var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var s=this._triggerArray[o],a=u.getSelectorFromElement(s);if(null!==a){var l=e([].slice.call(document.querySelectorAll(a)));l.hasClass(D.SHOW)||e(s).addClass(D.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0),this._element.style[i]="";var c=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,function(){t.setTransitioning(!1),e(t._element).removeClass(D.COLLAPSING).addClass(D.COLLAPSE).trigger(L.HIDDEN)}).emulateTransitionEnd(c)}}},n.setTransitioning=function(t){this._isTransitioning=t},n.dispose=function(){e.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(t){return(t=s({},P,t)).toggle=Boolean(t.toggle),u.typeCheckConfig(N,t,A),t},n._getDimension=function(){var t=e(this._element).hasClass(R.WIDTH);return t?R.WIDTH:R.HEIGHT},n._getParent=function(){var n,i=this;u.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(n.querySelectorAll(r));return e(o).each(function(e,n){i._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])}),n},n._addAriaAndCollapsedClass=function(t,n){var i=e(t).hasClass(D.SHOW);n.length&&e(n).toggleClass(D.COLLAPSED,!i).attr("aria-expanded",i)},t._getTargetFromElement=function(t){var e=u.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.collapse"),o=s({},P,i.data(),"object"==typeof n&&n?n:{});if(!r&&o.toggle&&/show|hide/.test(n)&&(o.toggle=!1),r||(r=new t(this,o),i.data("bs.collapse",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return P}}]),t}();e(document).on(L.CLICK_DATA_API,j.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=e(this),i=u.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(i));e(r).each(function(){var t=e(this),i=t.data("bs.collapse"),r=i?"toggle":n.data();F._jQueryInterface.call(t,r)})}),e.fn[N]=F._jQueryInterface,e.fn[N].Constructor=F,e.fn[N].noConflict=function(){return e.fn[N]=k,F._jQueryInterface};var z="dropdown",B=e.fn[z],G=new RegExp("38|40|27"),q={HIDE:"hide.bs.dropdown",HIDDEN:"hidden.bs.dropdown",SHOW:"show.bs.dropdown",SHOWN:"shown.bs.dropdown",CLICK:"click.bs.dropdown",CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},H={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},W={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},U={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},Y={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},V={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},X=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var i=t.prototype;return i.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(H.DISABLED)){var i=t._getParentFromElement(this._element),r=e(this._menu).hasClass(H.SHOW);if(t._clearMenus(),!r){var o={relatedTarget:this._element},s=e.Event(q.SHOW,o);if(e(i).trigger(s),!s.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var a=this._element;"parent"===this._config.reference?a=i:u.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(i).addClass(H.POSITION_STATIC),this._popper=new n(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(i).closest(W.NAVBAR_NAV).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(H.SHOW),e(i).toggleClass(H.SHOW).trigger(e.Event(q.SHOWN,o))}}}},i.show=function(){if(!(this._element.disabled||e(this._element).hasClass(H.DISABLED)||e(this._menu).hasClass(H.SHOW))){var n={relatedTarget:this._element},i=e.Event(q.SHOW,n),r=t._getParentFromElement(this._element);e(r).trigger(i),i.isDefaultPrevented()||(e(this._menu).toggleClass(H.SHOW),e(r).toggleClass(H.SHOW).trigger(e.Event(q.SHOWN,n)))}},i.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass(H.DISABLED)&&e(this._menu).hasClass(H.SHOW)){var n={relatedTarget:this._element},i=e.Event(q.HIDE,n),r=t._getParentFromElement(this._element);e(r).trigger(i),i.isDefaultPrevented()||(e(this._menu).toggleClass(H.SHOW),e(r).toggleClass(H.SHOW).trigger(e.Event(q.HIDDEN,n)))}},i.dispose=function(){e.removeData(this._element,"bs.dropdown"),e(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var t=this;e(this._element).on(q.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},i._getConfig=function(t){return t=s({},this.constructor.Default,e(this._element).data(),t),u.typeCheckConfig(z,t,this.constructor.DefaultType),t},i._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(W.MENU))}return this._menu},i._getPlacement=function(){var t=e(this._element.parentNode),n=U.BOTTOM;return t.hasClass(H.DROPUP)?(n=U.TOP,e(this._menu).hasClass(H.MENURIGHT)&&(n=U.TOPEND)):t.hasClass(H.DROPRIGHT)?n=U.RIGHT:t.hasClass(H.DROPLEFT)?n=U.LEFT:e(this._menu).hasClass(H.MENURIGHT)&&(n=U.BOTTOMEND),n},i._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},i._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},i._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),t},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.dropdown"),r="object"==typeof n?n:null;if(i||(i=new t(this,r),e(this).data("bs.dropdown",i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},t._clearMenus=function(n){if(!n||3!==n.which&&("keyup"!==n.type||9===n.which))for(var i=[].slice.call(document.querySelectorAll(W.DATA_TOGGLE)),r=0,o=i.length;r<o;r++){var s=t._getParentFromElement(i[r]),a=e(i[r]).data("bs.dropdown"),l={relatedTarget:i[r]};if(n&&"click"===n.type&&(l.clickEvent=n),a){var u=a._menu;if(e(s).hasClass(H.SHOW)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&9===n.which)&&e.contains(s,n.target))){var c=e.Event(q.HIDE,l);e(s).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),i[r].setAttribute("aria-expanded","false"),e(u).removeClass(H.SHOW),e(s).removeClass(H.SHOW).trigger(e.Event(q.HIDDEN,l)))}}}},t._getParentFromElement=function(t){var e,n=u.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(n){if((/input|textarea/i.test(n.target.tagName)?!(32===n.which||27!==n.which&&(40!==n.which&&38!==n.which||e(n.target).closest(W.MENU).length)):G.test(n.which))&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!e(this).hasClass(H.DISABLED))){var i=t._getParentFromElement(this),r=e(i).hasClass(H.SHOW);if(r&&(!r||27!==n.which&&32!==n.which)){var o=[].slice.call(i.querySelectorAll(W.VISIBLE_ITEMS));if(0!==o.length){var s=o.indexOf(n.target);38===n.which&&s>0&&s--,40===n.which&&s<o.length-1&&s++,s<0&&(s=0),o[s].focus()}}else{if(27===n.which){var a=i.querySelector(W.DATA_TOGGLE);e(a).trigger("focus")}e(this).trigger("click")}}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Y}},{key:"DefaultType",get:function(){return V}}]),t}();e(document).on(q.KEYDOWN_DATA_API,W.DATA_TOGGLE,X._dataApiKeydownHandler).on(q.KEYDOWN_DATA_API,W.MENU,X._dataApiKeydownHandler).on(q.CLICK_DATA_API+" "+q.KEYUP_DATA_API,X._clearMenus).on(q.CLICK_DATA_API,W.DATA_TOGGLE,function(t){t.preventDefault(),t.stopPropagation(),X._jQueryInterface.call(e(this),"toggle")}).on(q.CLICK_DATA_API,W.FORM_CHILD,function(t){t.stopPropagation()}),e.fn[z]=X._jQueryInterface,e.fn[z].Constructor=X,e.fn[z].noConflict=function(){return e.fn[z]=B,X._jQueryInterface};var K=e.fn.modal,$={backdrop:!0,keyboard:!0,focus:!0,show:!0},Z={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},J={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},Q={SCROLLABLE:"modal-dialog-scrollable",SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},tt={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},et=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(tt.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=t.prototype;return n.toggle=function(t){return this._isShown?this.hide():this.show(t)},n.show=function(t){var n=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass(Q.FADE)&&(this._isTransitioning=!0);var i=e.Event(J.SHOW,{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(J.CLICK_DISMISS,tt.DATA_DISMISS,function(t){return n.hide(t)}),e(this._dialog).on(J.MOUSEDOWN_DISMISS,function(){e(n._element).one(J.MOUSEUP_DISMISS,function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(t)}))}},n.hide=function(t){var n=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=e.Event(J.HIDE);if(e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=e(this._element).hasClass(Q.FADE);if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(J.FOCUSIN),e(this._element).removeClass(Q.SHOW),e(this._element).off(J.CLICK_DISMISS),e(this._dialog).off(J.MOUSEDOWN_DISMISS),r){var o=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(o)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return e(t).off(".bs.modal")}),e(document).off(J.FOCUSIN),e.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(t){return t=s({},$,t),u.typeCheckConfig("modal",t,Z),t},n._showElement=function(t){var n=this,i=e(this._element).hasClass(Q.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass(Q.SCROLLABLE)?this._dialog.querySelector(tt.MODAL_BODY).scrollTop=0:this._element.scrollTop=0,i&&u.reflow(this._element),e(this._element).addClass(Q.SHOW),this._config.focus&&this._enforceFocus();var r=e.Event(J.SHOWN,{relatedTarget:t}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(r)};if(i){var s=u.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(u.TRANSITION_END,o).emulateTransitionEnd(s)}else o()},n._enforceFocus=function(){var t=this;e(document).off(J.FOCUSIN).on(J.FOCUSIN,function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()})},n._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(J.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||e(this._element).off(J.KEYDOWN_DISMISS)},n._setResizeEvent=function(){var t=this;this._isShown?e(window).on(J.RESIZE,function(e){return t.handleUpdate(e)}):e(window).off(J.RESIZE)},n._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){e(document.body).removeClass(Q.OPEN),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(J.HIDDEN)})},n._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(t){var n=this,i=e(this._element).hasClass(Q.FADE)?Q.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=Q.BACKDROP,i&&this._backdrop.classList.add(i),e(this._backdrop).appendTo(document.body),e(this._element).on(J.CLICK_DISMISS,function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),i&&u.reflow(this._backdrop),e(this._backdrop).addClass(Q.SHOW),!t)return;if(!i)return void t();var r=u.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(u.TRANSITION_END,t).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(Q.SHOW);var o=function(){n._removeBackdrop(),t&&t()};if(e(this._element).hasClass(Q.FADE)){var s=u.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(u.TRANSITION_END,o).emulateTransitionEnd(s)}else o()}else t&&t()},n._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(tt.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(tt.STICKY_CONTENT));e(n).each(function(n,i){var r=i.style.paddingRight,o=e(i).css("padding-right");e(i).data("padding-right",r).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")}),e(i).each(function(n,i){var r=i.style.marginRight,o=e(i).css("margin-right");e(i).data("margin-right",r).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")});var r=document.body.style.paddingRight,o=e(document.body).css("padding-right");e(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}e(document.body).addClass(Q.OPEN)},n._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(tt.FIXED_CONTENT));e(t).each(function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""});var n=[].slice.call(document.querySelectorAll(""+tt.STICKY_CONTENT));e(n).each(function(t,n){var i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")});var i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},n._getScrollbarWidth=function(){var t=document.createElement("div");t.className=Q.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(n,i){return this.each(function(){var r=e(this).data("bs.modal"),o=s({},$,e(this).data(),"object"==typeof n&&n?n:{});if(r||(r=new t(this,o),e(this).data("bs.modal",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](i)}else o.show&&r.show(i)})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return $}}]),t}();e(document).on(J.CLICK_DATA_API,tt.DATA_TOGGLE,function(t){var n,i=this,r=u.getSelectorFromElement(this);r&&(n=document.querySelector(r));var o=e(n).data("bs.modal")?"toggle":s({},e(n).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=e(n).one(J.SHOW,function(t){t.isDefaultPrevented()||a.one(J.HIDDEN,function(){e(i).is(":visible")&&i.focus()})});et._jQueryInterface.call(e(n),o,this)}),e.fn.modal=et._jQueryInterface,e.fn.modal.Constructor=et,e.fn.modal.noConflict=function(){return e.fn.modal=K,et._jQueryInterface};var nt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],it={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},rt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,ot=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function st(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=new window.DOMParser,r=i.parseFromString(t,"text/html"),o=Object.keys(e),s=[].slice.call(r.body.querySelectorAll("*")),a=function(t,n){var i=s[t],r=i.nodeName.toLowerCase();if(-1===o.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var a=[].slice.call(i.attributes),l=[].concat(e["*"]||[],e[r]||[]);a.forEach(function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===nt.indexOf(n)||Boolean(t.nodeValue.match(rt)||t.nodeValue.match(ot));for(var i=e.filter(function(t){return t instanceof RegExp}),r=0,o=i.length;r<o;r++)if(n.match(i[r]))return!0;return!1})(t,l)||i.removeAttribute(t.nodeName)})},l=0,u=s.length;l<u;l++)a(l);return r.body.innerHTML}var at="tooltip",lt=e.fn.tooltip,ut=new RegExp("(^|\\s)bs-tooltip\\S+","g"),ct=["sanitize","whiteList","sanitizeFn"],ht={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},ft={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},pt={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:it},dt={SHOW:"show",OUT:"out"},gt={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},mt={FADE:"fade",SHOW:"show"},vt={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},yt={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},_t=function(){function t(t,e){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var i=t.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(mt.SHOW))return void this._leave(null,this);this._enter(null,this)}},i.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var i=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(i);var r=u.findShadowRoot(this.element),o=e.contains(null!==r?r:this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!o)return;var s=this.getTipElement(),a=u.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&e(s).addClass(mt.FADE);var l="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);var h=this._getContainer();e(s).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(s).appendTo(h),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,s,{placement:c,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:vt.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),e(s).addClass(mt.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var f=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),n===dt.OUT&&t._leave(null,t)};if(e(this.tip).hasClass(mt.FADE)){var p=u.getTransitionDurationFromElement(this.tip);e(this.tip).one(u.TRANSITION_END,f).emulateTransitionEnd(p)}else f()}},i.hide=function(t){var n=this,i=this.getTipElement(),r=e.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==dt.SHOW&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};if(e(this.element).trigger(r),!r.isDefaultPrevented()){if(e(i).removeClass(mt.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[yt.CLICK]=!1,this._activeTrigger[yt.FOCUS]=!1,this._activeTrigger[yt.HOVER]=!1,e(this.tip).hasClass(mt.FADE)){var s=u.getTransitionDurationFromElement(i);e(i).one(u.TRANSITION_END,o).emulateTransitionEnd(s)}else o();this._hoverState=""}},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},i.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},i.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(vt.TOOLTIP_INNER)),this.getTitle()),e(t).removeClass(mt.FADE+" "+mt.SHOW)},i.setElementContent=function(t,n){"object"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=st(n,this.config.whiteList,this.config.sanitizeFn)),t.html(n)):t.text(n):this.config.html?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text())},i.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},i._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},i._getContainer=function(){return!1===this.config.container?document.body:u.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},i._getAttachment=function(t){return ft[t.toUpperCase()]},i._setListeners=function(){var t=this,n=this.config.trigger.split(" ");n.forEach(function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(n!==yt.MANUAL){var i=n===yt.HOVER?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r=n===yt.HOVER?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,function(e){return t._enter(e)}).on(r,t.config.selector,function(e){return t._leave(e)})}}),e(this.element).closest(".modal").on("hide.bs.modal",function(){t.element&&t.hide()}),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?yt.FOCUS:yt.HOVER]=!0),e(n.getTipElement()).hasClass(mt.SHOW)||n._hoverState===dt.SHOW?n._hoverState=dt.SHOW:(clearTimeout(n._timeout),n._hoverState=dt.SHOW,n.config.delay&&n.config.delay.show?n._timeout=setTimeout(function(){n._hoverState===dt.SHOW&&n.show()},n.config.delay.show):n.show())},i._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?yt.FOCUS:yt.HOVER]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=dt.OUT,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout(function(){n._hoverState===dt.OUT&&n.hide()},n.config.delay.hide):n.hide())},i._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},i._getConfig=function(t){var n=e(this.element).data();return Object.keys(n).forEach(function(t){-1!==ct.indexOf(t)&&delete n[t]}),"number"==typeof(t=s({},this.constructor.Default,n,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),u.typeCheckConfig(at,t,this.constructor.DefaultType),t.sanitize&&(t.template=st(t.template,t.whiteList,t.sanitizeFn)),t},i._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},i._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(ut);null!==n&&n.length&&t.removeClass(n.join(""))},i._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},i._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(mt.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.tooltip"),r="object"==typeof n&&n;if((i||!/dispose|hide/.test(n))&&(i||(i=new t(this,r),e(this).data("bs.tooltip",i)),"string"==typeof n)){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return pt}},{key:"NAME",get:function(){return at}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return gt}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return ht}}]),t}();e.fn.tooltip=_t._jQueryInterface,e.fn.tooltip.Constructor=_t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=lt,_t._jQueryInterface};var bt="popover",xt=e.fn.popover,wt=new RegExp("(^|\\s)bs-popover\\S+","g"),Et=s({},_t.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Ct=s({},_t.DefaultType,{content:"(string|element|function)"}),St={FADE:"fade",SHOW:"show"},Mt={TITLE:".popover-header",CONTENT:".popover-body"},It={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Ot=function(t){var n,i;function o(){return t.apply(this,arguments)||this}i=t,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var s=o.prototype;return s.isWithContent=function(){return this.getTitle()||this._getContent()},s.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},s.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},s.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(Mt.TITLE),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(Mt.CONTENT),n),t.removeClass(St.FADE+" "+St.SHOW)},s._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},s._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(wt);null!==n&&n.length>0&&t.removeClass(n.join(""))},o._jQueryInterface=function(t){return this.each(function(){var n=e(this).data("bs.popover"),i="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new o(this,i),e(this).data("bs.popover",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}})},r(o,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Et}},{key:"NAME",get:function(){return bt}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return It}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return Ct}}]),o}(_t);e.fn.popover=Ot._jQueryInterface,e.fn.popover.Constructor=Ot,e.fn.popover.noConflict=function(){return e.fn.popover=xt,Ot._jQueryInterface};var Tt="scrollspy",Nt=e.fn[Tt],kt={offset:10,method:"auto",target:""},Pt={offset:"number",method:"string",target:"(string|element)"},At={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},Lt={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},Dt={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},Rt={OFFSET:"offset",POSITION:"position"},jt=function(){function t(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" "+Dt.NAV_LINKS+","+this._config.target+" "+Dt.LIST_ITEMS+","+this._config.target+" "+Dt.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(At.SCROLL,function(t){return i._process(t)}),this.refresh(),this._process()}var n=t.prototype;return n.refresh=function(){var t=this,n=this._scrollElement===this._scrollElement.window?Rt.OFFSET:Rt.POSITION,i="auto"===this._config.method?n:this._config.method,r=i===Rt.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var o=[].slice.call(document.querySelectorAll(this._selector));o.map(function(t){var n,o=u.getSelectorFromElement(t);if(o&&(n=document.querySelector(o)),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[e(n)[i]().top+r,o]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},n.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(t){if("string"!=typeof(t=s({},kt,"object"==typeof t&&t?t:{})).target){var n=e(t.target).attr("id");n||(n=u.getUID(Tt),e(t.target).attr("id",n)),t.target="#"+n}return u.typeCheckConfig(Tt,t,Pt),t},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length,o=r;o--;){var s=this._activeTarget!==this._targets[o]&&t>=this._offsets[o]&&(void 0===this._offsets[o+1]||t<this._offsets[o+1]);s&&this._activate(this._targets[o])}}},n._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),i=e([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass(Lt.DROPDOWN_ITEM)?(i.closest(Dt.DROPDOWN).find(Dt.DROPDOWN_TOGGLE).addClass(Lt.ACTIVE),i.addClass(Lt.ACTIVE)):(i.addClass(Lt.ACTIVE),i.parents(Dt.NAV_LIST_GROUP).prev(Dt.NAV_LINKS+", "+Dt.LIST_ITEMS).addClass(Lt.ACTIVE),i.parents(Dt.NAV_LIST_GROUP).prev(Dt.NAV_ITEMS).children(Dt.NAV_LINKS).addClass(Lt.ACTIVE)),e(this._scrollElement).trigger(At.ACTIVATE,{relatedTarget:t})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(Lt.ACTIVE)}).forEach(function(t){return t.classList.remove(Lt.ACTIVE)})},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data("bs.scrollspy"),r="object"==typeof n&&n;if(i||(i=new t(this,r),e(this).data("bs.scrollspy",i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return kt}}]),t}();e(window).on(At.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(Dt.DATA_SPY)),n=t.length,i=n;i--;){var r=e(t[i]);jt._jQueryInterface.call(r,r.data())}}),e.fn[Tt]=jt._jQueryInterface,e.fn[Tt].Constructor=jt,e.fn[Tt].noConflict=function(){return e.fn[Tt]=Nt,jt._jQueryInterface};var Ft=e.fn.tab,zt={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},Bt={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},Gt={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},qt=function(){function t(t){this._element=t}var n=t.prototype;return n.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(Bt.ACTIVE)||e(this._element).hasClass(Bt.DISABLED))){var n,i,r=e(this._element).closest(Gt.NAV_LIST_GROUP)[0],o=u.getSelectorFromElement(this._element);if(r){var s="UL"===r.nodeName||"OL"===r.nodeName?Gt.ACTIVE_UL:Gt.ACTIVE;i=(i=e.makeArray(e(r).find(s)))[i.length-1]}var a=e.Event(zt.HIDE,{relatedTarget:this._element}),l=e.Event(zt.SHOW,{relatedTarget:i});if(i&&e(i).trigger(a),e(this._element).trigger(l),!l.isDefaultPrevented()&&!a.isDefaultPrevented()){o&&(n=document.querySelector(o)),this._activate(this._element,r);var c=function(){var n=e.Event(zt.HIDDEN,{relatedTarget:t._element}),r=e.Event(zt.SHOWN,{relatedTarget:i});e(i).trigger(n),e(t._element).trigger(r)};n?this._activate(n,n.parentNode,c):c()}}},n.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},n._activate=function(t,n,i){var r=this,o=!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?e(n).children(Gt.ACTIVE):e(n).find(Gt.ACTIVE_UL),s=o[0],a=i&&s&&e(s).hasClass(Bt.FADE),l=function(){return r._transitionComplete(t,s,i)};if(s&&a){var c=u.getTransitionDurationFromElement(s);e(s).removeClass(Bt.SHOW).one(u.TRANSITION_END,l).emulateTransitionEnd(c)}else l()},n._transitionComplete=function(t,n,i){if(n){e(n).removeClass(Bt.ACTIVE);var r=e(n.parentNode).find(Gt.DROPDOWN_ACTIVE_CHILD)[0];r&&e(r).removeClass(Bt.ACTIVE),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass(Bt.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),u.reflow(t),t.classList.contains(Bt.FADE)&&t.classList.add(Bt.SHOW),t.parentNode&&e(t.parentNode).hasClass(Bt.DROPDOWN_MENU)){var o=e(t).closest(Gt.DROPDOWN)[0];if(o){var s=[].slice.call(o.querySelectorAll(Gt.DROPDOWN_TOGGLE));e(s).addClass(Bt.ACTIVE)}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.tab");if(r||(r=new t(this),i.data("bs.tab",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(zt.CLICK_DATA_API,Gt.DATA_TOGGLE,function(t){t.preventDefault(),qt._jQueryInterface.call(e(this),"show")}),e.fn.tab=qt._jQueryInterface,e.fn.tab.Constructor=qt,e.fn.tab.noConflict=function(){return e.fn.tab=Ft,qt._jQueryInterface};var Ht=e.fn.toast,Wt={CLICK_DISMISS:"click.dismiss.bs.toast",HIDE:"hide.bs.toast",HIDDEN:"hidden.bs.toast",SHOW:"show.bs.toast",SHOWN:"shown.bs.toast"},Ut={FADE:"fade",HIDE:"hide",SHOW:"show",SHOWING:"showing"},Yt={animation:"boolean",autohide:"boolean",delay:"number"},Vt={animation:!0,autohide:!0,delay:500},Xt={DATA_DISMISS:'[data-dismiss="toast"]'},Kt=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var n=t.prototype;return n.show=function(){var t=this;e(this._element).trigger(Wt.SHOW),this._config.animation&&this._element.classList.add(Ut.FADE);var n=function(){t._element.classList.remove(Ut.SHOWING),t._element.classList.add(Ut.SHOW),e(t._element).trigger(Wt.SHOWN),t._config.autohide&&t.hide()};if(this._element.classList.remove(Ut.HIDE),this._element.classList.add(Ut.SHOWING),this._config.animation){var i=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},n.hide=function(t){var n=this;this._element.classList.contains(Ut.SHOW)&&(e(this._element).trigger(Wt.HIDE),t?this._close():this._timeout=setTimeout(function(){n._close()},this._config.delay))},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(Ut.SHOW)&&this._element.classList.remove(Ut.SHOW),e(this._element).off(Wt.CLICK_DISMISS),e.removeData(this._element,"bs.toast"),this._element=null,this._config=null},n._getConfig=function(t){return t=s({},Vt,e(this._element).data(),"object"==typeof t&&t?t:{}),u.typeCheckConfig("toast",t,this.constructor.DefaultType),t},n._setListeners=function(){var t=this;e(this._element).on(Wt.CLICK_DISMISS,Xt.DATA_DISMISS,function(){return t.hide(!0)})},n._close=function(){var t=this,n=function(){t._element.classList.add(Ut.HIDE),e(t._element).trigger(Wt.HIDDEN)};if(this._element.classList.remove(Ut.SHOW),this._config.animation){var i=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),r=i.data("bs.toast"),o="object"==typeof n&&n;if(r||(r=new t(this,o),i.data("bs.toast",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](this)}})},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return Yt}},{key:"Default",get:function(){return Vt}}]),t}();e.fn.toast=Kt._jQueryInterface,e.fn.toast.Constructor=Kt,e.fn.toast.noConflict=function(){return e.fn.toast=Ht,Kt._jQueryInterface},function(){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),t.Util=u,t.Alert=p,t.Button=y,t.Carousel=T,t.Collapse=F,t.Dropdown=X,t.Modal=et,t.Popover=Ot,t.Scrollspy=jt,t.Tab=qt,t.Toast=Kt,t.Tooltip=_t,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(51),n(141))},function(t,e,n){"use strict";n.r(e),function(t){for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.15.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document,i=["Edge","Trident","Firefox"],r=0,o=0;o<i.length;o+=1)if(n&&navigator.userAgent.indexOf(i[o])>=0){r=1;break}var s=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},r))}};function a(t){return t&&"[object Function]"==={}.toString.call(t)}function l(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function u(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function c(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=l(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:c(u(t))}var h=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function p(t){return 11===t?h:10===t?f:h||f}function d(t){if(!t)return document.documentElement;for(var e=p(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===l(n,"position")?d(n):n:t?t.ownerDocument.documentElement:document.documentElement}function g(t){return null!==t.parentNode?g(t.parentNode):t}function m(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,l=o.commonAncestorContainer;if(t!==l&&e!==l||i.contains(r))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&d(s.firstElementChild)!==s?d(l):l;var u=g(t);return u.host?m(u.host,e):m(t,g(e).host)}function v(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function y(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function _(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],p(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function b(t){var e=t.body,n=t.documentElement,i=p(10)&&getComputedStyle(n);return{height:_("Height",e,n,i),width:_("Width",e,n,i)}}var x=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},w=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),E=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function S(t){return C({},t,{right:t.left+t.width,bottom:t.top+t.height})}function M(t){var e={};try{if(p(10)){e=t.getBoundingClientRect();var n=v(t,"top"),i=v(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?b(t.ownerDocument):{},s=o.width||t.clientWidth||r.right-r.left,a=o.height||t.clientHeight||r.bottom-r.top,u=t.offsetWidth-s,c=t.offsetHeight-a;if(u||c){var h=l(t);u-=y(h,"x"),c-=y(h,"y"),r.width-=u,r.height-=c}return S(r)}function I(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=p(10),r="HTML"===e.nodeName,o=M(t),s=M(e),a=c(t),u=l(e),h=parseFloat(u.borderTopWidth,10),f=parseFloat(u.borderLeftWidth,10);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=S({top:o.top-s.top-h,left:o.left-s.left-f,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!i&&r){var g=parseFloat(u.marginTop,10),m=parseFloat(u.marginLeft,10);d.top-=h-g,d.bottom-=h-g,d.left-=f-m,d.right-=f-m,d.marginTop=g,d.marginLeft=m}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=v(e,"top"),r=v(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(d,e)),d}function O(t){if(!t||!t.parentElement||p())return document.documentElement;for(var e=t.parentElement;e&&"none"===l(e,"transform");)e=e.parentElement;return e||document.documentElement}function T(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?O(t):m(t,e);if("viewport"===i)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=I(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:v(n),a=e?0:v(n,"left");return S({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}(s,r);else{var a=void 0;"scrollParent"===i?"BODY"===(a=c(u(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===i?t.ownerDocument.documentElement:i;var h=I(a,s,r);if("HTML"!==a.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===l(e,"position"))return!0;var i=u(e);return!!i&&t(i)}(s))o=h;else{var f=b(t.ownerDocument),p=f.height,d=f.width;o.top+=h.top-h.marginTop,o.bottom=p+h.top,o.left+=h.left-h.marginLeft,o.right=d+h.left}}var g="number"==typeof(n=n||0);return o.left+=g?n:n.left||0,o.top+=g?n:n.top||0,o.right-=g?n:n.right||0,o.bottom-=g?n:n.bottom||0,o}function N(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=T(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(function(t){return C({key:t},a[t],{area:(e=a[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),u=l.filter(function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight}),c=u.length>0?u[0].key:l[0].key,h=t.split("-")[1];return c+(h?"-"+h:"")}function k(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return I(n,i?O(e):m(e,n),i)}function P(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function A(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function L(t,e,n){n=n.split("-")[0];var i=P(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return r[s]=e[s]+e[l]/2-i[l]/2,r[a]=n===a?e[a]-i[u]:e[A(a)],r}function D(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function R(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var i=D(t,function(t){return t[e]===n});return t.indexOf(i)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&a(n)&&(e.offsets.popper=S(e.offsets.popper),e.offsets.reference=S(e.offsets.reference),e=n(e,t))}),e}function j(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function F(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function z(t){var e=t.ownerDocument;return e?e.defaultView:window}function B(t,e,n,i){n.updateBound=i,z(t).addEventListener("resize",n.updateBound,{passive:!0});var r=c(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,s=o?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0}),o||t(c(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function G(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,z(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function q(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function H(t,e){Object.keys(e).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&q(e[n])&&(i="px"),t.style[n]=e[n]+i})}var W=n&&/Firefox/i.test(navigator.userAgent);function U(t,e,n){var i=D(t,function(t){return t.name===e}),r=!!i&&t.some(function(t){return t.name===n&&t.enabled&&t.order<i.order});if(!r){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var Y=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],V=Y.slice(3);function X(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=V.indexOf(t),i=V.slice(n+1).concat(V.slice(0,n));return e?i.reverse():i}var K={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function $(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=s.indexOf(D(s,function(t){return-1!==t.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(u=u.map(function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return S(a)[e]/100*o}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(t,r,e,n)})})).forEach(function(t,e){t.forEach(function(n,i){q(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}var Z={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",u=a?"width":"height",c={start:E({},l,o[l]),end:E({},l,o[l]+o[u]-s[u])};t.offsets.popper=C({},s,c[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],l=void 0;return l=q(+n)?[+n,0]:$(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||d(t.instance.popper);t.instance.reference===n&&(n=d(n));var i=F("transform"),r=t.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=T(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=s,r[i]=a,e.boundaries=l;var u=e.priority,c=t.offsets.popper,h={primary:function(t){var n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),E({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),E({},n,i)}};return u.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=C({},c,h[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return n[a]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[u]),n[l]>o(i[a])&&(t.offsets.popper[l]=o(i[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!U(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,u=-1!==["left","right"].indexOf(r),c=u?"height":"width",h=u?"Top":"Left",f=h.toLowerCase(),p=u?"left":"top",d=u?"bottom":"right",g=P(i)[c];a[d]-g<s[f]&&(t.offsets.popper[f]-=s[f]-(a[d]-g)),a[f]+g>s[d]&&(t.offsets.popper[f]+=a[f]+g-s[d]),t.offsets.popper=S(t.offsets.popper);var m=a[f]+a[c]/2-g/2,v=l(t.instance.popper),y=parseFloat(v["margin"+h],10),_=parseFloat(v["border"+h+"Width"],10),b=m-t.offsets.popper[f]-y-_;return b=Math.max(Math.min(s[c]-g,b),0),t.arrowElement=i,t.offsets.arrow=(E(n={},f,Math.round(b)),E(n,p,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(j(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=T(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=A(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case K.FLIP:s=[i,r];break;case K.CLOCKWISE:s=X(i);break;case K.COUNTERCLOCKWISE:s=X(i,!0);break;default:s=e.behavior}return s.forEach(function(a,l){if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],r=A(i);var u=t.offsets.popper,c=t.offsets.reference,h=Math.floor,f="left"===i&&h(u.right)>h(c.left)||"right"===i&&h(u.left)<h(c.right)||"top"===i&&h(u.bottom)>h(c.top)||"bottom"===i&&h(u.top)<h(c.bottom),p=h(u.left)<h(n.left),d=h(u.right)>h(n.right),g=h(u.top)<h(n.top),m=h(u.bottom)>h(n.bottom),v="left"===i&&p||"right"===i&&d||"top"===i&&g||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),_=!!e.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&d||!y&&"start"===o&&g||!y&&"end"===o&&m),b=!!e.flipVariationsByContent&&(y&&"start"===o&&d||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&g),x=_||b;(f||v||x)&&(t.flipped=!0,(f||v)&&(i=s[l+1]),x&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=C({},t.offsets.popper,L(t.instance.popper,t.offsets.reference,t.placement)),t=R(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=A(e),t.offsets.popper=S(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!U(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=D(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=D(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=d(t.instance.popper),l=M(a),u={position:r.position},c=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=Math.round,s=Math.floor,a=function(t){return t},l=o(r.width),u=o(i.width),c=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),f=e?c||h||l%2==u%2?o:s:a,p=e?o:a;return{left:f(l%2==1&&u%2==1&&!h&&e?i.left-1:i.left),top:p(i.top),bottom:p(i.bottom),right:f(i.right)}}(t,window.devicePixelRatio<2||!W),h="bottom"===n?"top":"bottom",f="right"===i?"left":"right",p=F("transform"),g=void 0,m=void 0;if(m="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+c.bottom:-l.height+c.bottom:c.top,g="right"===f?"HTML"===a.nodeName?-a.clientWidth+c.right:-l.width+c.right:c.left,s&&p)u[p]="translate3d("+g+"px, "+m+"px, 0)",u[h]=0,u[f]=0,u.willChange="transform";else{var v="bottom"===h?-1:1,y="right"===f?-1:1;u[h]=m*v,u[f]=g*y,u.willChange=h+", "+f}var _={"x-placement":t.placement};return t.attributes=C({},_,t.attributes),t.styles=C({},u,t.styles),t.arrowStyles=C({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return H(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach(function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&H(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=k(r,e,t,n.positionFixed),s=N(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),H(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},J=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};x(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=s(this.update.bind(this)),this.options=C({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(C({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){i.options.modifiers[e]=C({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return C({name:t},i.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&a(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return w(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=k(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=N(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=L(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=R(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,j(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return G.call(this)}}]),t}();J.Utils=("undefined"!=typeof window?window:t).PopperUtils,J.placements=Y,J.Defaults=Z,e.default=J}.call(this,n(93))},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var i=n(26),r=n(98),o=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new i.a({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:r.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};o.prototype.clone=function(){return new o({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},o.prototype.getOverflow=function(){return this.overflow_},o.prototype.getFont=function(){return this.font_},o.prototype.getMaxAngle=function(){return this.maxAngle_},o.prototype.getPlacement=function(){return this.placement_},o.prototype.getOffsetX=function(){return this.offsetX_},o.prototype.getOffsetY=function(){return this.offsetY_},o.prototype.getFill=function(){return this.fill_},o.prototype.getRotateWithView=function(){return this.rotateWithView_},o.prototype.getRotation=function(){return this.rotation_},o.prototype.getScale=function(){return this.scale_},o.prototype.getStroke=function(){return this.stroke_},o.prototype.getText=function(){return this.text_},o.prototype.getTextAlign=function(){return this.textAlign_},o.prototype.getTextBaseline=function(){return this.textBaseline_},o.prototype.getBackgroundFill=function(){return this.backgroundFill_},o.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},o.prototype.getPadding=function(){return this.padding_},o.prototype.setOverflow=function(t){this.overflow_=t},o.prototype.setFont=function(t){this.font_=t},o.prototype.setMaxAngle=function(t){this.maxAngle_=t},o.prototype.setOffsetX=function(t){this.offsetX_=t},o.prototype.setOffsetY=function(t){this.offsetY_=t},o.prototype.setPlacement=function(t){this.placement_=t},o.prototype.setFill=function(t){this.fill_=t},o.prototype.setRotation=function(t){this.rotation_=t},o.prototype.setScale=function(t){this.scale_=t},o.prototype.setStroke=function(t){this.stroke_=t},o.prototype.setText=function(t){this.text_=t},o.prototype.setTextAlign=function(t){this.textAlign_=t},o.prototype.setTextBaseline=function(t){this.textBaseline_=t},o.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},o.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},o.prototype.setPadding=function(t){this.padding_=t},e.a=o},function(t,e,n){"use strict";var i=n(2),r=n(40),o=n(36),s=n(30),a=function(t){function e(e,n,i){t.call(this,e),this.map=n,this.frameState=void 0!==i?i:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),l=function(t){function e(e,n,i,r,o){t.call(this,e,n,o),this.originalEvent=i,this.pixel=n.getEventPixel(i),this.coordinate=n.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(a),u=n(18),c=n(17),h=function(t){function e(e,n,i,r,o){t.call(this,e,n,i.originalEvent,r,o),this.pointerEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l),f=n(1),p=n(53),d={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},g=function(t,e){this.dispatcher=t,this.mapping_=e};g.prototype.getEvents=function(){return Object.keys(this.mapping_)},g.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var m=g,v=1,y="mouse";function _(t){if(!this.isEventSimulatedFromTouch_(t)){v.toString()in this.pointerMap&&this.cancel(t);var e=C(t,this.dispatcher);this.pointerMap[v.toString()]=t,this.dispatcher.down(e,t)}}function b(t){if(!this.isEventSimulatedFromTouch_(t)){var e=C(t,this.dispatcher);this.dispatcher.move(e,t)}}function x(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[v.toString()];if(e&&e.button===t.button){var n=C(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}}function w(t){if(!this.isEventSimulatedFromTouch_(t)){var e=C(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function E(t){if(!this.isEventSimulatedFromTouch_(t)){var e=C(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function C(t,e){var n=e.cloneEvent(t,t),i=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),i()},n.pointerId=v,n.isPrimary=!0,n.pointerType=y,n}var S=function(t){function e(e){var n={mousedown:_,mousemove:b,mouseup:x,mouseover:w,mouseout:E};t.call(this,e,n),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,n=t.clientX,i=t.clientY,r=0,o=e.length,s=void 0;r<o&&(s=e[r]);r++){var a=Math.abs(n-s[0]),l=Math.abs(i-s[1]);if(a<=25&&l<=25)return!0}return!1},e.prototype.cancel=function(t){var e=C(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[v.toString()]},e}(m),M=["","unavailable","touch","pen","mouse"];function I(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function O(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function T(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function N(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function k(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function P(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function A(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function L(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var D=function(t){function e(e){var n={MSPointerDown:I,MSPointerMove:O,MSPointerUp:T,MSPointerOut:N,MSPointerOver:k,MSPointerCancel:P,MSGotPointerCapture:L,MSLostPointerCapture:A};t.call(this,e,n),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=M[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(m);function R(t){this.dispatcher.fireNativeEvent(t)}function j(t){this.dispatcher.fireNativeEvent(t)}function F(t){this.dispatcher.fireNativeEvent(t)}function z(t){this.dispatcher.fireNativeEvent(t)}function B(t){this.dispatcher.fireNativeEvent(t)}function G(t){this.dispatcher.fireNativeEvent(t)}function q(t){this.dispatcher.fireNativeEvent(t)}function H(t){this.dispatcher.fireNativeEvent(t)}var W=function(t){function e(e){var n={pointerdown:R,pointermove:j,pointerup:F,pointerout:z,pointerover:B,pointercancel:G,gotpointercapture:H,lostpointercapture:q};t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(m),U=!1,Y=function(t){function e(e,n,i){t.call(this,e),this.originalEvent=n;var r=i||{};this.buttons=function(t){var e;if(t.buttons||U)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(r),this.pressure=function(t,e){var n=0;n=t.pressure?t.pressure:e?.5:0;return n}(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,n.preventDefault&&(this.preventDefault=function(){n.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a);!function(){try{var t=new MouseEvent("click",{buttons:1});U=1===t.buttons}catch(t){}}();var V=Y,X=n(12);function K(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function $(t){this.processTouches_(t,this.moveOverOut_)}function Z(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function J(t){this.processTouches_(t,this.cancelOut_)}var Q=function(t){function e(e,n){var i={touchstart:K,touchmove:$,touchend:Z,touchcancel:J};t.call(this,e,i),this.pointerMap=e.pointerMap,this.mouseSource=n,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&v.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.radiusX||0,n.height=e.radiusY||0,n.pressure=e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType="touch",n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},e.prototype.processTouches_=function(t,e){var n=Array.prototype.slice.call(t.changedTouches),i=n.length;function r(){t.preventDefault()}for(var o=0;o<i;++o){var s=this.touchToPointer_(t,n[o]);s.preventDefault=r,e.call(this,t,s)}},e.prototype.findTouch_=function(t,e){for(var n=t.length,i=0;i<n;i++){if(t[i].identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),i=n.length;if(i>=e.length){for(var r=[],o=0;o<i;++o){var s=Number(n[o]),a=this.pointerMap[s];s==v||this.findTouch_(e,s-2)||r.push(a.out)}for(var l=0;l<r.length;++l)this.cancelOut_(t,r[l])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var n=e,i=this.pointerMap[n.pointerId];if(i){var r=i.out,o=i.outTarget;this.dispatcher.move(n,t),r&&o!==n.target&&(r.relatedTarget=n.target,n.relatedTarget=o,r.target=o,n.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),i.out=n,i.outTarget=n.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var i=[n.clientX,n.clientY];e.push(i),setTimeout(function(){Object(X.h)(e,i)},this.dedupTimeout_)}},e}(m),tt=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],et=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(u.f)this.registerSource("native",new W(this));else if(u.e)this.registerSource("ms",new D(this));else{var t=new S(this);this.registerSource("mouse",t),u.h&&this.registerSource("touch",new Q(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var n=e,i=n.getEvents();i&&(i.forEach(function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}.bind(this)),this.eventSourceList_.push(n))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.addEvents_(n.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.removeEvents_(n.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){Object(f.a)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){Object(f.c)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var n={},i=0,r=tt.length;i<r;i++){var o=tt[i][0];n[o]=t[o]||e[o]||tt[i][1]}return n},e.prototype.down=function(t,e){this.fireEvent(d.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(d.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(d.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(d.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(d.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(d.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(d.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(d.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,n){return new V(t,n,e)},e.prototype.fireEvent=function(t,e,n){var i=this.makeEvent(t,e,n);this.dispatchEvent(i)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,C(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(p.a),nt=function(t){function e(e,n){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n?n*u.b:u.b,this.down_=null;var i=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new et(i),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Object(f.a)(this.pointerEventHandler_,d.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=Object(f.a)(this.pointerEventHandler_,d.POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new h(c.a.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new h(c.a.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new h(c.a.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==c.a.POINTERUP||e.type==c.a.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==c.a.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new h(c.a.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(f.e),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new h(c.a.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new et(document),this.dragListenerKeys_.push(Object(f.a)(this.documentPointerEventHandler_,c.a.POINTERMOVE,this.handlePointerMove_,this),Object(f.a)(this.documentPointerEventHandler_,c.a.POINTERUP,this.handlePointerUp_,this),Object(f.a)(this.pointerEventHandler_,c.a.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new h(c.a.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new h(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(f.e)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(f.e)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(f.e),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(p.a),it=n(70),rt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ot=n(47),st=n(15),at=n(62),lt=n(7),ut=n(5),ct=n(11),ht=n(10),ft=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};ft.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(ht.b)(this.queuedElements_)},ft.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},ft.prototype.enqueue=function(t){Object(ct.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},ft.prototype.getCount=function(){return this.elements_.length},ft.prototype.getLeftChildIndex_=function(t){return 2*t+1},ft.prototype.getRightChildIndex_=function(t){return 2*t+2},ft.prototype.getParentIndex_=function(t){return t-1>>1},ft.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},ft.prototype.isEmpty=function(){return 0===this.elements_.length},ft.prototype.isKeyQueued=function(t){return t in this.queuedElements_},ft.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},ft.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],s=t;t<i>>1;){var a=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<i&&n[l]<n[a]?l:a;e[t]=e[u],n[t]=n[u],t=u}e[t]=r,n[t]=o,this.siftDown_(s,t)},ft.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;n[e]=n[s],i[e]=i[s],e=s}n[e]=r,i[e]=o},ft.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,s=0,a=r.length;for(e=0;e<a;++e)(n=i(t=r[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[s]=n,r[s++]=t);r.length=s,o.length=s,this.heapify_()};var pt=function(t){function e(e,n){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);if(n){var i=e[0];Object(f.a)(i,ut.a.CHANGE,this.handleTileChange,this)}return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===lt.a.LOADED||n===lt.a.ERROR||n===lt.a.EMPTY||n===lt.a.ABORT){Object(f.c)(e,ut.a.CHANGE,this.handleTileChange,this);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,r,o=0,s=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)r=(i=this.dequeue()[0]).getKey(),(n=i.getState())===lt.a.ABORT?s=!0:n!==lt.a.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,i.load());0===o&&s&&this.tileChangeCallback_()},e}(ft),dt=n(92),gt=n(13),mt=n(14),vt=n(0),yt=n(16),_t=n(105),bt=n(55),xt={LAYERS:"layers"},wt=function(t){function e(e){var n=e||{},i=Object(ht.a)({},n);delete i.layers;var o=n.layers;t.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},Object(f.a)(this,Object(st.b)(xt.LAYERS),this.handleLayersChanged_,this),o?Array.isArray(o)?o=new r.a(o.slice(),{unique:!0}):Object(ct.a)("function"==typeof o.getArray,43):o=new r.a(void 0,{unique:!0}),this.setLayers(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(f.e),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(f.a)(t,o.a.ADD,this.handleLayersAdd_,this),Object(f.a)(t,o.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(f.e);Object(ht.b)(this.listenerKeys_);for(var n=t.getArray(),r=0,s=n.length;r<s;r++){var a=n[r];this.listenerKeys_[Object(i.c)(a)]=[Object(f.a)(a,at.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(f.a)(a,ut.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(i.c)(e)]=[Object(f.a)(e,at.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(f.a)(e,ut.a.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=Object(i.c)(e);this.listenerKeys_[n].forEach(f.e),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get(xt.LAYERS)},e.prototype.setLayers=function(t){this.set(xt.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),r=n,o=e.length;r<o;r++){var s=e[r];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),void 0!==i.extent&&(void 0!==s.extent?s.extent=Object(vt.B)(s.extent,i.extent):s.extent=i.extent)}return e},e.prototype.getSourceState=function(){return bt.a.READY},e}(_t.a),Et=n(52),Ct=n(8);var St=function(t){function e(e){t.call(this);var n=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,o,s={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new wt({layers:t.layers});s[rt.LAYERGROUP]=a,s[rt.TARGET]=t.target,s[rt.VIEW]=void 0!==t.view?t.view:new dt.a,void 0!==t.controls&&(Array.isArray(t.controls)?n=new r.a(t.controls.slice()):(Object(ct.a)("function"==typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new r.a(t.interactions.slice()):(Object(ct.a)("function"==typeof t.interactions.getArray,48),i=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new r.a(t.overlays.slice()):(Object(ct.a)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new r.a;return{controls:n,interactions:i,keyboardEventTarget:e,overlays:o,values:s}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:u.b,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Object(Ct.c)(),this.pixelToCoordinateTransform_=Object(Ct.c)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(u.h?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var i=[ut.a.CLICK,ut.a.DBLCLICK,ut.a.MOUSEDOWN,ut.a.TOUCHSTART,ut.a.MSPOINTERDOWN,c.a.POINTERDOWN,ut.a.MOUSEWHEEL,ut.a.WHEEL],a=0,l=i.length;a<l;++a)Object(f.a)(this.overlayContainerStopEvent_,i[a],s.b);for(var h in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new nt(this,e.moveTolerance),c.a)Object(f.a)(this.mapBrowserEventHandler_,c.a[h],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=n.keyboardEventTarget,this.keyHandlerKeys_=null,Object(f.a)(this.viewport_,ut.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(f.a)(this.viewport_,ut.a.WHEEL,this.handleBrowserEvent,this),Object(f.a)(this.viewport_,ut.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=n.controls||new r.a,this.interactions=n.interactions||new r.a,this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new pt(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Object(f.a)(this,Object(st.b)(rt.LAYERGROUP),this.handleLayerGroupChanged_,this),Object(f.a)(this,Object(st.b)(rt.VIEW),this.handleViewChanged_,this),Object(f.a)(this,Object(st.b)(rt.SIZE),this.handleSizeChanged_,this),Object(f.a)(this,Object(st.b)(rt.TARGET),this.handleTargetChanged_,this),this.setProperties(n.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),Object(f.a)(this.controls,o.a.ADD,function(t){t.element.setMap(this)},this),Object(f.a)(this.controls,o.a.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),Object(f.a)(this.interactions,o.a.ADD,function(t){t.element.setMap(this)},this),Object(f.a)(this.interactions,o.a.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),Object(f.a)(this.overlays_,o.a.ADD,function(t){this.addOverlayInternal_(t.element)},this),Object(f.a)(this.overlays_,o.a.REMOVE,function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Object(f.c)(this.viewport_,ut.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(f.c)(this.viewport_,ut.a.WHEEL,this.handleBrowserEvent,this),Object(f.c)(this.viewport_,ut.a.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(ut.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixel(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:yt.b;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,function(t){n||(n=[]),n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},r=void 0!==i.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=i.layerFilter||yt.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:yt.b,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(rt.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Object(Ct.a)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(rt.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Object(Ct.a)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(rt.SIZE)},e.prototype.getView=function(){return this.get(rt.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return 1/0;if(!r.wantedTiles[e][t.getKey()])return 1/0;var o=n[0]-r.focus[0],s=n[1]-r.focus[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new l(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.getActive())if(!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;r[gt.a.ANIMATING]&&(n=this.loadTilesWhileAnimating_?8:0,i=2),r[gt.a.INTERACTING]&&(n=this.loadTilesWhileInteracting_?8:0,i=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(ot.a.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||function t(e){for(var n=0,i=e.length;n<i;++n){var r=e[n];if("function"==typeof r.getLayers)return t(r.getLayers().getArray());var o=r.getSource();if(o&&o.loading)return!0}return!1}(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(ot.a.RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,s=0,a=o.length;s<a;++s)o[s](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Object(f.e)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(f.a)(i,ut.a.KEYDOWN,this.handleBrowserEvent,this),Object(f.a)(i,ut.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(ut.a.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Object(mt.e)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(ut.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(f.e)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(f.e)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(i.c)(t)),this.viewPropertyListenerKey_=Object(f.a)(t,at.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(f.a)(t,ut.a.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(f.e),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(f.a)(t,at.a.PROPERTYCHANGE,this.render,this),Object(f.a)(t,ut.a.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,n=this.getSize(),r=this.getView(),o=Object(vt.j)(),s=this.frameState_,l=null;if(void 0!==n&&Object(Et.a)(n)&&r&&r.isDef()){for(var u=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),c=this.getLayerGroup().getLayerStatesArray(),h={},f=0,p=c.length;f<p;++f)h[Object(i.c)(c[f].layer)]=c[f];e=r.getState(this.pixelRatio_),l={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:o,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:h,layerStatesArray:c,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:u,wantedTiles:{}}}if(l&&(l.extent=Object(vt.z)(e.center,e.resolution,e.rotation,l.size,o)),this.frameState_=l,this.renderer_.renderFrame(l),l){if(l.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,l.postRenderFunctions),s)(!this.previousExtent_||!Object(vt.H)(this.previousExtent_)&&!Object(vt.p)(l.extent,this.previousExtent_))&&(this.dispatchEvent(new a(it.a.MOVESTART,this,s)),this.previousExtent_=Object(vt.l)(this.previousExtent_));this.previousExtent_&&!l.viewHints[gt.a.ANIMATING]&&!l.viewHints[gt.a.INTERACTING]&&!Object(vt.p)(l.extent,this.previousExtent_)&&(this.dispatchEvent(new a(it.a.MOVEEND,this,l)),Object(vt.d)(l.extent,this.previousExtent_))}this.dispatchEvent(new a(it.a.POSTRENDER,this,l)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(rt.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(rt.SIZE,t)},e.prototype.setTarget=function(t){this.set(rt.TARGET,t)},e.prototype.setView=function(t){this.set(rt.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[Object(i.c)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[Object(i.c)(t)],this.render()},e}(st.a);var Mt=n(44),It=n(27),Ot=n(59);function Tt(t){this.updateElement_(t.frameState)}var Nt=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||Tt,target:n.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===n.collapsed||n.collapsed,this.overrideCollapsible_=void 0!==n.collapsible,this.collapsible_=void 0===n.collapsible||n.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",r=void 0!==n.tipLabel?n.tipLabel:"Attributions",o=void 0!==n.collapseLabel?n.collapseLabel:"»";"string"==typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o):this.collapseLabel_=o;var s=void 0!==n.label?n.label:"i";"string"==typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s):this.label_=s;var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,l=document.createElement("button");l.setAttribute("type","button"),l.title=r,l.appendChild(a),Object(f.a)(l,ut.a.CLICK,this.handleClick_,this);var u=i+" "+It.e+" "+It.b+(this.collapsed_&&this.collapsible_?" "+It.a:"")+(this.collapsible_?"":" ol-uncollapsible"),c=this.element;c.className=u,c.appendChild(this.ulElement_),c.appendChild(l),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,r=t.viewState.resolution,o=0,s=i.length;o<s;++o){var a=i[o];if(Object(Ot.b)(a,r)){var l=a.layer.getSource();if(l){var u=l.getAttributions();if(u){var c=u(t);if(c)if(this.overrideCollapsible_||!1!==l.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(c))for(var h=0,f=c.length;h<f;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Object(X.b)(e,this.renderedAttributions_)){Object(mt.d)(this.ulElement_);for(var i=0,r=e.length;i<r;++i){var o=document.createElement("li");o.innerHTML=e[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(It.a),this.collapsed_?Object(mt.f)(this.collapseLabel_,this.label_):Object(mt.f)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(Mt.a),kt=n(31);function Pt(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(It.c);r||0!==n?r&&0!==n&&this.element.classList.remove(It.c):this.element.classList.add(It.c)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=n}}var At=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||Pt,target:n.target});var i=void 0!==n.className?n.className:"ol-rotate",r=void 0!==n.label?n.label:"⇧";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var o=n.tipLabel?n.tipLabel:"Reset rotation",s=document.createElement("button");s.className=i+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),Object(f.a)(s,ut.a.CLICK,this.handleClick_,this);var a=i+" "+It.e+" "+It.b,l=this.element;l.className=a,l.appendChild(s),this.callResetNorth_=n.resetNorth?n.resetNorth:void 0,this.duration_=void 0!==n.duration?n.duration:250,this.autoHide_=void 0===n.autoHide||n.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(It.c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:kt.b}):t.setRotation(0))},e}(Mt.a),Lt=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target});var i=void 0!==n.className?n.className:"ol-zoom",r=void 0!==n.delta?n.delta:1,o=void 0!==n.zoomInLabel?n.zoomInLabel:"+",s=void 0!==n.zoomOutLabel?n.zoomOutLabel:"−",a=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",l=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",u=document.createElement("button");u.className=i+"-in",u.setAttribute("type","button"),u.title=a,u.appendChild("string"==typeof o?document.createTextNode(o):o),Object(f.a)(u,ut.a.CLICK,this.handleClick_.bind(this,r));var c=document.createElement("button");c.className=i+"-out",c.setAttribute("type","button"),c.title=l,c.appendChild("string"==typeof s?document.createTextNode(s):s),Object(f.a)(c,ut.a.CLICK,this.handleClick_.bind(this,-r));var h=i+" "+It.e+" "+It.b,p=this.element;p.className=h,p.appendChild(u),p.appendChild(c),this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getResolution();if(n){var i=e.constrainResolution(n,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:i,duration:this.duration_,easing:kt.b})):e.setResolution(i)}}},e}(Mt.a);var Dt=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};Dt.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},Dt.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},Dt.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_},Dt.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},Dt.prototype.getAngle=function(){return this.angle_};var Rt=Dt,jt=n(21);function Ft(t){var e=!1;if(t.type==c.a.DBLCLICK){var n=t.originalEvent,i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_,s=i.getView();Object(jt.f)(s,o,r,this.duration_),t.preventDefault(),e=!0}return!e}var zt=function(t){function e(e){t.call(this,{handleEvent:Ft});var n=e||{};this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(jt.a),Bt=n(58),Gt=n(23);function qt(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}var Ht=function(t){function e(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==c.a.POINTERDRAG)this.handleDragEvent(t);else if(t.type==c.a.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==c.a.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==c.a.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===c.a.POINTERDOWN||e===c.a.POINTERDRAG||e===c.a.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==c.a.POINTERUP?delete this.trackedPointers_[n]:t.type==c.a.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=Object(ht.c)(this.trackedPointers_)}},e}(jt.a),Wt=function(t){function e(e){t.call(this,{stopDown:yt.a});var n=e||{};this.kinetic_=n.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=n.condition?n.condition:Gt.f,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(gt.a.INTERACTING,1));var e=this.targetPointers,n=qt(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=this.lastCentroid[0]-n[0],r=n[1]-this.lastCentroid[1],o=t.map.getView(),s=[i,r];Object(Bt.d)(s,o.getResolution()),Object(Bt.c)(s,o.getRotation()),Object(Bt.a)(s,o.getCenter()),s=o.constrainCenter(s),o.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenter(),s=e.getPixelFromCoordinate(o),a=e.getCoordinateFromPixel([s[0]-i*Math.cos(r),s[1]-i*Math.sin(r)]);n.animate({center:n.constrainCenter(a),duration:500,easing:kt.b})}return this.panning_&&(this.panning_=!1,n.setHint(gt.a.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Ht),Ut=n(63),Yt=function(t){function e(e){var n=e||{};t.call(this,{stopDown:yt.a}),this.condition_=n.condition?n.condition:Gt.a,this.lastAngle_=void 0,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(Object(Gt.e)(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Ut.c){var i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_,a=n.getRotation();Object(jt.d)(n,a-s)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){if(!Object(Gt.e)(t))return!0;var e=t.map.getView();e.setHint(gt.a.INTERACTING,-1);var n=e.getRotation();return Object(jt.c)(e,n,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!!Object(Gt.e)(t)&&(!(!Object(Gt.d)(t)||!this.condition_(t))&&(t.map.getView().setHint(gt.a.INTERACTING,1),this.lastAngle_=void 0,!0))},e}(Ht),Vt=n(79),Xt=n(43),Kt=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Xt.a([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(Vt.a),$t="boxstart",Zt="boxdrag",Jt="boxend",Qt=function(t){function e(e,n,i){t.call(this,e),this.coordinate=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a);function te(){var t=this.getMap(),e=t.getView(),n=t.getSize(),i=this.getGeometry().getExtent();if(this.out_){var r=e.calculateExtent(n),o=Object(vt.n)([t.getPixelFromCoordinate(Object(vt.v)(i)),t.getPixelFromCoordinate(Object(vt.D)(i))]),s=e.getResolutionForExtent(o,n);Object(vt.J)(r,1/s),i=r}var a=e.constrainResolution(e.getResolutionForExtent(i,n)),l=Object(vt.x)(i);l=e.constrainCenter(l),e.animate({resolution:a,center:l,duration:this.duration_,easing:kt.b})}var ee=function(t){function e(e){var n=e||{},i=n.condition?n.condition:Gt.g;t.call(this,{condition:i,className:n.className||"ol-dragzoom",onBoxEnd:te}),this.duration_=void 0!==n.duration?n.duration:200,this.out_=void 0!==n.out&&n.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){t.call(this);var n=e||{};this.box_=new Kt(n.className||"ol-dragbox"),this.minArea_=void 0!==n.minArea?n.minArea:64,this.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:yt.c,this.startPixel_=null,this.condition_=n.condition?n.condition:Gt.b,this.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Object(Gt.e)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Qt(Zt,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Object(Gt.e)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new Qt(Jt,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!Object(Gt.e)(t)&&(!(!Object(Gt.d)(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Qt($t,t.coordinate,t)),!0))},e}(Ht)),ne={LEFT:37,UP:38,RIGHT:39,DOWN:40};function ie(t){var e=!1;if(t.type==ut.a.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==ne.DOWN||n==ne.LEFT||n==ne.RIGHT||n==ne.UP)){var i=t.map.getView(),r=i.getResolution()*this.pixelDelta_,o=0,s=0;n==ne.DOWN?s=-r:n==ne.LEFT?o=-r:n==ne.RIGHT?o=r:s=r;var a=[o,s];Object(Bt.c)(a,i.getRotation()),Object(jt.b)(i,a,this.duration_),t.preventDefault(),e=!0}}return!e}var re=function(t){function e(e){t.call(this,{handleEvent:ie});var n=e||{};this.defaultCondition_=function(t){return Object(Gt.f)(t)&&Object(Gt.h)(t)},this.condition_=void 0!==n.condition?n.condition:this.defaultCondition_,this.duration_=void 0!==n.duration?n.duration:100,this.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(jt.a);function oe(t){var e=!1;if(t.type==ut.a.KEYDOWN||t.type==ut.a.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_,o=i.getView();Object(jt.f)(o,r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var se=function(t){function e(e){t.call(this,{handleEvent:oe});var n=e||{};this.condition_=n.condition?n.condition:Gt.h,this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(jt.a),ae=n(6),le="trackpad",ue="wheel",ce=function(t){function e(e){var n=e||{};t.call(this,n),this.delta_=0,this.duration_=void 0!==n.duration?n.duration:250,this.timeout_=void 0!==n.timeout?n.timeout:80,this.useAnchor_=void 0===n.useAnchor||n.useAnchor,this.constrainResolution_=n.constrainResolution||!1,this.condition_=n.condition?n.condition:Gt.b,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(gt.a.INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==ut.a.WHEEL&&e!==ut.a.MOUSEWHEEL)return!0;t.preventDefault();var n,i=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==ut.a.WHEEL?(n=r.deltaY,u.c&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=u.b),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==ut.a.MOUSEWHEEL&&(n=-r.wheelDeltaY,u.g&&(n/=3)),0===n)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?le:ue),this.mode_===le){var s=i.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.setHint(gt.a.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=s.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),l=s.getMinResolution(),c=s.getMaxResolution(),h=0;if(a<l?(a=Math.max(a,l/this.trackpadZoomBuffer_),h=1):a>c&&(a=Math.min(a,c*this.trackpadZoomBuffer_),h=-1),this.lastAnchor_){var f=s.calculateCenterZoom(a,this.lastAnchor_);s.setCenter(s.constrainCenter(f))}return s.setResolution(a),0===h&&this.constrainResolution_&&s.animate({resolution:s.constrainResolution(a,n>0?-1:1),easing:kt.b,anchor:this.lastAnchor_,duration:this.duration_}),h>0?s.animate({resolution:l,easing:kt.b,anchor:this.lastAnchor_,duration:500}):h<0&&s.animate({resolution:c,easing:kt.b,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=n;var p=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),p),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=Object(ae.a)(this.delta_,-1,1);Object(jt.f)(e,-n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(jt.a),he=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=yt.a),t.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==n.threshold?n.threshold:.3,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==Ut.c){var l=s.getViewport().getBoundingClientRect(),u=qt(this.targetPointers);if(u[0]-=l.left,u[1]-=l.top,this.anchor_=s.getCoordinateFromPixel(u),this.rotating_){var c=a.getRotation();s.render(),Object(jt.d)(a,c+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(gt.a.INTERACTING,-1),this.rotating_){var n=e.getRotation();Object(jt.c)(e,n,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(gt.a.INTERACTING,1),!0}return!1},e}(Ht),fe=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=yt.a),t.call(this,i),this.constrainResolution_=n.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,l=a.getView(),u=l.getResolution(),c=l.getMaxResolution(),h=l.getMinResolution(),f=u*e;f>c?(e=c/u,f=c):f<h&&(e=h/u,f=h),1!=e&&(this.lastScaleDelta_=e);var p=a.getViewport().getBoundingClientRect(),d=qt(this.targetPointers);d[0]-=p.left,d[1]-=p.top,this.anchor_=a.getCoordinateFromPixel(d),a.render(),Object(jt.g)(l,f,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(gt.a.INTERACTING,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var i=this.lastScaleDelta_-1;Object(jt.e)(e,n,this.anchor_,this.duration_,i)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(gt.a.INTERACTING,1),!0}return!1},e}(Ht);var pe=n(50),de=function(t){function e(e,n,i,r){t.call(this),this.extent=e,this.pixelRatio_=i,this.resolution=n,this.state=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(ut.a.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(i.b)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(i.b)()},e}(p.a),ge=n(29),me=function(t){function e(e,n,i,r,o){var s=void 0!==o?ge.a.IDLE:ge.a.LOADED;t.call(this,e,n,i,s),this.loader_=void 0!==o?o:null,this.canvas_=r,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=ge.a.ERROR):this.state=ge.a.LOADED,this.changed()},e.prototype.load=function(){this.state==ge.a.IDLE&&(this.state=ge.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(de),ve=n(45),ye=n(104),_e=function(t){function e(e,n,i,r,o){t.call(this,e),this.vectorContext=n,this.frameState=i,this.context=r,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),be=n(4),xe=n(81),we=n(32),Ee=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function Ce(t,e,n){return e+":"+t+":"+(n?Object(we.b)(n):"null")}Ee.prototype.clear=function(){this.cache_={},this.cacheSize_=0},Ee.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},Ee.prototype.get=function(t,e,n){var i=Ce(t,e,n);return i in this.cache_?this.cache_[i]:null},Ee.prototype.set=function(t,e,n,i){var r=Ce(t,e,n);this.cache_[r]=i,++this.cacheSize_},Ee.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var Se=new Ee,Me=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){Object(i.b)()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Object(Ct.b)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(Ct.d)(Object(Ct.g)(i,n))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o,s,a){var l,u=e.viewState,c=u.resolution;function h(t,n){var s=e.layerStates[Object(i.c)(n)].managed;if(!(Object(i.c)(t)in e.skippedFeatureUids)||s)return r.call(o,t,s?n:null)}var f=u.projection,p=t;if(f.canWrapX()){var d=f.getExtent(),g=Object(vt.E)(d),m=t[0];if(m<d[0]||m>d[2])p=[m+g*Math.ceil((d[0]-m)/g),t[1]]}var v,y=e.layerStatesArray;for(v=y.length-1;v>=0;--v){var _=y[v],b=_.layer;if(Object(Ot.b)(_,c)&&s.call(a,b)){var x=this.getLayerRenderer(b),w=b.getSource();if(w&&(l=x.forEachFeatureAtCoordinate(w.getWrapX()?p:t,e,n,h)),l)return l}}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,o,s,a){return Object(i.b)()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,yt.b,this,i,r)},e.prototype.getLayerRenderer=function(t){var e=Object(i.c)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,r=0,o=this.layerRendererConstructors_.length;r<o;++r){var s=this.layerRendererConstructors_[r];if(s.handles(t)){n=s.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=Object(f.a)(n,ut.a.CHANGE,this.handleLayerRendererChange_,this),n},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Object(f.e)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},e.prototype.renderFrame=function(t){Object(i.b)()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(Ie)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(Vt.a);function Ie(t,e){Se.expire()}function Oe(t,e){return t.zIndex-e.zIndex}var Te=[],Ne=function(t){function e(e){t.call(this,e);var n=e.getViewport();this.context_=Object(mt.a)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=It.e,n.insertBefore(this.canvas_,n.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Object(Ct.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap(),i=this.context_;if(n.hasListener(t)){var r=e.extent,o=e.pixelRatio,s=e.viewState.rotation,a=this.getTransform(e),l=new xe.a(i,o,r,a,s),u=new _e(t,l,e,i,null);n.dispatchEvent(u)}},e.prototype.getTransform=function(t){var e=t.viewState,n=this.canvas_.width/2,i=this.canvas_.height/2,r=t.pixelRatio/e.resolution,o=-r,s=-e.rotation,a=-e.center[0],l=-e.center[1];return Object(Ct.b)(this.transform_,n,i,r,o,s,a,l)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,i=Math.round(t.size[0]*n),r=Math.round(t.size[1]*n);this.canvas_.width!=i||this.canvas_.height!=r?(this.canvas_.width=i,this.canvas_.height=r):e.clearRect(0,0,i,r);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(ot.a.PRECOMPOSE,t);var s=t.layerStatesArray;Object(X.j)(s,Oe),o&&(e.save(),Object(be.s)(e,o,i/2,r/2));var a,l,u=t.viewState.resolution;for(a=0,l=s.length;a<l;++a){var c=s[a],h=c.layer,f=this.getLayerRenderer(h);Object(Ot.b)(c,u)&&c.sourceState==bt.a.READY&&(f.prepareFrame(t,c)&&f.composeFrame(t,c,e))}o&&e.restore(),this.dispatchRenderEvent(ot.a.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,s){var a,l,u=e.viewState.resolution,c=e.layerStatesArray,h=c.length,f=Object(Ct.a)(e.pixelToCoordinateTransform,t.slice());for(l=h-1;l>=0;--l){var p=c[l],d=p.layer;if(Object(Ot.b)(p,u)&&o.call(s,d))if(a=this.getLayerRenderer(d).forEachLayerAtCoordinate(f,e,n,i,r))return a}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var n=0,i=e.length;n<i;++n){var r=e[n];Object(X.d)(Te,r)||Te.push(r)}},e}(Me),ke=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=Object(Ct.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i,o=e.size[1]*i,s=e.viewState.rotation,a=Object(vt.C)(n),l=Object(vt.D)(n),u=Object(vt.w)(n),c=Object(vt.v)(n);Object(Ct.a)(e.coordinateToPixelTransform,a),Object(Ct.a)(e.coordinateToPixelTransform,l),Object(Ct.a)(e.coordinateToPixelTransform,u),Object(Ct.a)(e.coordinateToPixelTransform,c),t.save(),Object(be.s)(t,-s,r/2,o/2),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(u[0]*i,u[1]*i),t.lineTo(c[0]*i,c[1]*i),t.clip(),Object(be.s)(t,s,r/2,o/2)},e.prototype.dispatchComposeEvent_=function(t,e,n,i){var r=this.getLayer();if(r.hasListener(t)){var o=n.size[0]*n.pixelRatio,s=n.size[1]*n.pixelRatio,a=n.viewState.rotation;Object(be.s)(e,-a,o/2,s/2);var l=void 0!==i?i:this.getTransform(n,0),u=new xe.a(e,n.pixelRatio,n.extent,l,n.viewState.rotation),c=new _e(t,u,n,e,null);r.dispatchEvent(c),Object(be.s)(e,a,o/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){return this.forEachFeatureAtCoordinate(t,e,n,yt.b)?i.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,n,i){this.dispatchComposeEvent_(ot.a.POSTCOMPOSE,t,e,i)},e.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_(ot.a.PRECOMPOSE,t,e,n)},e.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_(ot.a.RENDER,t,e,n)},e.prototype.getTransform=function(t,e){var n=t.viewState,i=t.pixelRatio,r=i*t.size[0]/2,o=i*t.size[1]/2,s=i/n.resolution,a=-s,l=-n.rotation,u=-n.center[0]+e,c=-n.center[1];return Object(Ct.b)(this.transform_,r,o,s,a,l,u,c)},e.prototype.composeFrame=function(t,e,n){Object(i.b)()},e.prototype.prepareFrame=function(t,e){return Object(i.b)()},e}(function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){return t.forEachLoadedTile(e,i,r,function(t){n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t})}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===ge.a.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=ge.a.LOADED&&e!=ge.a.ERROR&&Object(f.a)(t,ut.a.CHANGE,this.handleImageChange_,this),e==ge.a.IDLE&&(t.load(),e=t.getState()),e==ge.a.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==bt.a.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=Object(i.c)(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n,r){var o=Object(i.c)(e),s=n.toString();o in t?s in t[o]?t[o][s].extend(r):t[o][s]=r:(t[o]={},t[o][s]=r)},e.prototype.manageTilePyramid=function(t,e,n,r,o,s,a,l,u,c){var h=Object(i.c)(e);h in t.wantedTiles||(t.wantedTiles[h]={});var f,p,d,g,m,v,y=t.wantedTiles[h],_=t.tileQueue;for(v=n.getMinZoom();v<=a;++v)for(p=n.getTileRangeForExtentAndZ(s,v,p),d=n.getResolution(v),g=p.minX;g<=p.maxX;++g)for(m=p.minY;m<=p.maxY;++m)a-v<=l?((f=e.getTile(v,g,m,r,o)).getState()==lt.a.IDLE&&(y[f.getKey()]=!0,_.isKeyQueued(f.getKey())||_.enqueue([f,h,n.getTileCoordCenter(f.tileCoord),d])),void 0!==u&&u.call(c,f)):e.useTile(v,g,m,o)},e}(n(80).a)),Pe=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=Object(Ct.c)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var i=this.getImage();if(i){var r=e.extent,o=void 0!==r&&!Object(vt.g)(r,t.extent)&&Object(vt.F)(r,t.extent);o&&this.clip(n,t,r);var s=this.getImageTransform(),a=n.globalAlpha;n.globalAlpha=e.opacity;var l=s[4],u=s[5],c=i.width*s[0],h=i.height*s[3];c>=.5&&h>=.5&&n.drawImage(i,0,0,+i.width,+i.height,Math.round(l),Math.round(u),Math.round(c),Math.round(h)),n.globalAlpha=a,o&&n.restore()}this.postCompose(n,t,e)},e.prototype.getImage=function(){return Object(i.b)()},e.prototype.getImageTransform=function(){return Object(i.b)()},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){if(this.getImage()){var o=Object(Ct.a)(this.coordinateToCanvasPixelTransform,t.slice());Object(Bt.d)(o,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Object(mt.a)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),o[0],o[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?i.call(r,this.getLayer(),s):void 0}},e}(ke),Ae=function(t){function e(n){if(t.call(this,n),this.image_=null,this.imageTransform_=Object(Ct.c)(),this.skippedFeatures_=[],this.vectorRenderer_=null,n.getType()===ve.a.VECTOR)for(var i=0,r=Te.length;i<r;++i){var o=Te[i];if(o!==e&&o.handles(n)){this.vectorRenderer_=new o(n);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var n,i=t.pixelRatio,r=t.size,o=t.viewState,s=o.center,a=o.resolution,l=this.getLayer().getSource(),u=t.viewHints,c=this.vectorRenderer_,h=t.extent;if(c||void 0===e.extent||(h=Object(vt.B)(h,e.extent)),!u[gt.a.ANIMATING]&&!u[gt.a.INTERACTING]&&!Object(vt.H)(h)){var f=o.projection;if(!pe.a){var p=l.getProjection();p&&(f=p)}var d=this.skippedFeatures_;if(c){var g=c.context,m=Object(ht.a)({},t,{size:[Object(vt.E)(h)/a,Object(vt.A)(h)/a],viewState:Object(ht.a)({},t.viewState,{rotation:0})}),v=Object.keys(m.skippedFeatureUids).sort();n=new me(h,a,i,g.canvas,function(t){!c.prepareFrame(m,e)||!c.replayGroupChanged&&Object(X.b)(d,v)||(g.canvas.width=m.size[0]*i,g.canvas.height=m.size[1]*i,c.compose(g,m,e),d=v,t())})}else n=l.getImage(h,a,i,f);n&&this.loadImage(n)&&(this.image_=n,this.skippedFeatures_=d)}if(this.image_){var y=(n=this.image_).getExtent(),_=n.getResolution(),b=n.getPixelRatio(),x=i*_/(a*b),w=Object(Ct.b)(this.imageTransform_,i*r[0]/2,i*r[1]/2,x,x,0,b*(y[0]-s[0])/_,b*(s[1]-y[3])/_);Object(Ct.b)(this.coordinateToCanvasPixelTransform,i*r[0]/2-w[4],i*r[1]/2-w[5],i/a,-i/a,0,-s[0],-s[1]),this.renderedResolution=_*i/b}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,n,i,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,i,r):t.prototype.forEachFeatureAtCoordinate.call(this,e,n,i,r)},e}(Pe);Ae.handles=function(t){return t.getType()===ve.a.IMAGE||t.getType()===ve.a.VECTOR&&t.getRenderMode()===ye.a.IMAGE},Ae.create=function(t,e){return new Ae(e)};var Le=Ae,De=n(76),Re=function(t){function e(e,n){t.call(this,e),this.context=n?null:Object(mt.a)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Object(vt.j)(),this.tmpTileRange_=new De.b(0,0,0,0),this.imageTransform_=Object(Ct.c)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==lt.a.LOADED||n==lt.a.EMPTY||n==lt.a.ERROR&&!i},e.prototype.getTile=function(t,e,n,i,r){var o=this.getLayer(),s=o.getSource().getTile(t,e,n,i,r);return s.getState()==lt.a.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):s.setState(lt.a.LOADED)),this.isDrawableTile_(s)||(s=s.getInterimTile()),s},e.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,r=t.size,o=t.viewState,s=o.projection,a=o.resolution,l=o.center,u=this.getLayer(),c=u.getSource(),h=c.getRevision(),f=c.getTileGridForProjection(s),p=f.getZForResolution(a,this.zDirection),d=f.getResolution(p),g=Math.round(a/d)||1,m=t.extent;if(void 0!==e.extent&&(m=Object(vt.B)(m,e.extent)),Object(vt.H)(m))return!1;var v=f.getTileRangeForExtentAndZ(m,p),y=f.getTileRangeExtent(p,v),_=c.getTilePixelRatio(n),b={};b[p]={};var x,w,E,C=this.createLoadedTileFinder(c,s,b),S=t.viewHints,M=S[gt.a.ANIMATING]||S[gt.a.INTERACTING],I=this.tmpExtent,O=this.tmpTileRange_;for(this.newTiles_=!1,w=v.minX;w<=v.maxX;++w)for(E=v.minY;E<=v.maxY;++E)if(!(Date.now()-t.time>16&&M)){if(x=this.getTile(p,w,E,n,s),this.isDrawableTile_(x)){var T=Object(i.c)(this);if(x.getState()==lt.a.LOADED){b[p][x.tileCoord.toString()]=x;var N=x.inTransition(T);this.newTiles_||!N&&-1!==this.renderedTiles.indexOf(x)||(this.newTiles_=!0)}if(1===x.getAlpha(T,t.time))continue}var k=f.getTileCoordChildTileRange(x.tileCoord,O,I),P=!1;k&&(P=C(p+1,k)),P||f.forEachTileCoordParentTileRange(x.tileCoord,C,null,O,I)}var A=d*n/_*g;if(!(this.renderedResolution&&Date.now()-t.time>16&&M)&&(this.newTiles_||!this.renderedExtent_||!Object(vt.g)(this.renderedExtent_,m)||this.renderedRevision!=h||g!=this.oversampling_||!M&&A!=this.renderedResolution)){var L=this.context;if(L){var D=c.getTilePixelSize(p,n,s),R=Math.round(v.getWidth()*D[0]/g),j=Math.round(v.getHeight()*D[1]/g),F=L.canvas;F.width!=R||F.height!=j?(this.oversampling_=g,F.width=R,F.height=j):((this.renderedExtent_&&!Object(vt.p)(y,this.renderedExtent_)||this.renderedRevision!=h)&&L.clearRect(0,0,R,j),g=this.oversampling_)}this.renderedTiles.length=0;var z,B,G,q,H,W,U,Y,V,X,K=Object.keys(b).map(Number);for(K.sort(function(t,e){return t===p?1:e===p?-1:t>e?1:t<e?-1:0}),q=0,H=K.length;q<H;++q)for(var $ in G=K[q],B=c.getTilePixelSize(G,n,s),z=f.getResolution(G)/d,U=_*c.getGutterForProjection(s),Y=b[G])x=Y[$],w=((W=f.getTileCoordExtent(x.getTileCoord(),I))[0]-y[0])/d*_/g,E=(y[3]-W[3])/d*_/g,V=B[0]*z/g,X=B[1]*z/g,this.drawTileImage(x,t,e,w,E,V,X,U,p===G),this.renderedTiles.push(x);this.renderedRevision=h,this.renderedResolution=d*n/_*g,this.renderedExtent_=y}var Z=this.renderedResolution/a,J=Object(Ct.b)(this.imageTransform_,n*r[0]/2,n*r[1]/2,Z,Z,0,(this.renderedExtent_[0]-l[0])/this.renderedResolution*n,(l[1]-this.renderedExtent_[3])/this.renderedResolution*n);return Object(Ct.b)(this.coordinateToCanvasPixelTransform,n*r[0]/2-J[4],n*r[1]/2-J[5],n/a,-n/a,0,-l[0],-l[1]),this.updateUsedTiles(t.usedTiles,c,p,v),this.manageTilePyramid(t,c,f,n,s,m,p,u.getPreload()),this.scheduleExpireCache(t,c),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,n,r,o,s,a,l,u){var c=this.getTileImage(t);if(c){var h=Object(i.c)(this),f=u?t.getAlpha(h,e.time):1,p=this.getLayer().getSource();1!==f||p.getOpaque(e.viewState.projection)||this.context.clearRect(r,o,s,a);var d=f!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(c,l,l,c.width-2*l,c.height-2*l,r,o,s,a),d&&this.context.restore(),1!==f?e.animate=!0:u&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(Pe);Re.handles=function(t){return t.getType()===ve.a.TILE},Re.create=function(t,e){return new Re(e)},Re.prototype.getLayer;var je=Re,Fe=n(83),ze=n.n(Fe),Be=n(41),Ge=function(){};Ge.prototype.getReplay=function(t,e){return Object(i.b)()},Ge.prototype.isEmpty=function(){return Object(i.b)()},Ge.prototype.addDeclutter=function(t){return Object(i.b)()};var qe=Ge,He={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},We=n(48),Ue=n(34),Ye=n(3),Ve=n(39),Xe=n(101);function Ke(t,e,n,i,r,o,s,a){for(var l,u,c,h=[],f=t[e]>t[n-i],p=r.length,d=t[e],g=t[e+1],m=t[e+=i],v=t[e+1],y=0,_=Math.sqrt(Math.pow(m-d,2)+Math.pow(v-g,2)),b="",x=0,w=0;w<p;++w){u=f?p-w-1:w;var E=r.charAt(u),C=o(b=f?E+b:b+E)-x;x+=C;for(var S=s+C/2;e<n-i&&y+_<S;)d=m,g=v,m=t[e+=i],v=t[e+1],y+=_,_=Math.sqrt(Math.pow(m-d,2)+Math.pow(v-g,2));var M=S-y,I=Math.atan2(v-g,m-d);if(f&&(I+=I>0?-Math.PI:Math.PI),void 0!==c){var O=I-c;if(O+=O>Math.PI?-2*Math.PI:O<-Math.PI?2*Math.PI:0,Math.abs(O)>a)return null}var T=M/_,N=Object(ae.c)(d,m,T),k=Object(ae.c)(g,v,T);c==I?(f&&(l[0]=N,l[1]=k,l[2]=C/2),l[4]=b):(x=C,l=[N,k,C/2,I,b=E],f?h.unshift(l):h.push(l),c=I),s+=C}return h}var $e=n(99),Ze={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Je=[Ze.FILL],Qe=[Ze.STROKE],tn=[Ze.BEGIN_PATH],en=[Ze.CLOSE_PATH],nn=Ze,rn=[He.POLYGON,He.CIRCLE,He.LINE_STRING,He.IMAGE,He.TEXT,He.DEFAULT],on={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},sn=Object(vt.j)(),an=Object(Ct.c)(),ln=function(t){function e(e,n,i,r,o,s){t.call(this),this.declutterTree=s,this.tolerance=e,this.maxExtent=n,this.overlaps=o,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=Object(Ct.c)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,n,i,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,r,o,s,a,l,u,c,h,f,p,d,g,m,v){var y=m||v;e-=r*=f,n-=o*=f;var _,b,x,w,E=d+u>i.width?i.width-u:d,C=a+c>i.height?i.height-c:a,S=g[3]+E*f+g[1],M=g[0]+C*f+g[2],I=e-g[3],O=n-g[0];(y||0!==h)&&(_=[I,O],b=[I+S,O],x=[I+S,O+M],w=[I,O+M]);var T=null;if(0!==h){var N=e+r,k=n+o;T=Object(Ct.b)(an,N,k,1,1,h,-N,-k),Object(vt.l)(sn),Object(vt.r)(sn,Object(Ct.a)(an,_)),Object(vt.r)(sn,Object(Ct.a)(an,b)),Object(vt.r)(sn,Object(Ct.a)(an,x)),Object(vt.r)(sn,Object(Ct.a)(an,w))}else Object(vt.k)(I,O,I+S,O+M,sn);var P=t.canvas,A=v?v[2]*f/2:0,L=sn[0]-A<=P.width&&sn[2]+A>=0&&sn[1]-A<=P.height&&sn[3]+A>=0;if(p&&(e=Math.round(e),n=Math.round(n)),s){if(!L&&1==s[4])return;Object(vt.q)(s,sn);var D=L?[t,T?T.slice(0):null,l,i,u,c,E,C,e,n,f]:null;D&&y&&D.push(m,v,_,b,x,w),s.push(D)}else L&&(y&&this.replayTextBackground_(t,_,b,x,w,m,v),Object(be.n)(t,T,l,i,u,c,E,C,e,n,f))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,i,r,o){var s=this.coordinates.length,a=this.getBufferedMaxExtent();o&&(e+=i);var l,u,c,h=[t[e],t[e+1]],f=[NaN,NaN],p=!0;for(l=e+i;l<n;l+=i)f[0]=t[l],f[1]=t[l+1],(c=Object(vt.i)(a,f))!==u?(p&&(this.coordinates[s++]=h[0],this.coordinates[s++]=h[1]),this.coordinates[s++]=f[0],this.coordinates[s++]=f[1],p=!1):c===Ue.a.INTERSECTING?(this.coordinates[s++]=f[0],this.coordinates[s++]=f[1],p=!1):p=!0,h[0]=f[0],h[1]=f[1],u=c;return(r&&p||l===e+i)&&(this.coordinates[s++]=h[0],this.coordinates[s++]=h[1]),s},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o],l=this.appendFlatCoordinates(t,e,a,i,!1,!1);r.push(l),e=a}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,s,a,l=t.getType(),u=t.getStride(),c=this.coordinates.length;if(l==Ye.a.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),s=[];var h=t.getEndss();a=0;for(var f=0,p=h.length;f<p;++f){var d=[];a=this.drawCustomCoordinates_(i,a,h[f],u,d),s.push(d)}this.instructions.push([nn.CUSTOM,c,s,t,n,Ve.c])}else l==Ye.a.POLYGON||l==Ye.a.MULTI_LINE_STRING?(o=[],i=l==Ye.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(i,0,t.getEnds(),u,o),this.instructions.push([nn.CUSTOM,c,o,t,n,Ve.b])):l==Ye.a.LINE_STRING||l==Ye.a.MULTI_POINT?(i=t.getFlatCoordinates(),r=this.appendFlatCoordinates(i,0,i.length,u,!1,!1),this.instructions.push([nn.CUSTOM,c,r,t,n,Ve.a])):l==Ye.a.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.instructions.push([nn.CUSTOM,c,r,t,n]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[nn.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[nn.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=Object(Ct.a)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,be.r)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],u.a&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var r=5,o=t.length;r<o;++r){var s=t[r];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),be.n.apply(void 0,s))}}t.length=5,Object(vt.l)(t)}}},e.prototype.replay_=function(t,e,n,r,o,s,a){var l;this.pixelCoordinates_&&Object(X.b)(e,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=Object(Be.c)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Object(Ct.g)(this.renderedTransform_,e));for(var u,c,h,f,p,d,g,m,v,y,_,b,x=!Object(ht.d)(n),w=0,E=r.length,C=0,S=0,M=0,I=null,O=null,T=this.coordinateCache_,N=this.viewRotation_,k={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:N},P=this.instructions!=r||this.overlaps?0:200;w<E;){var A=r[w];switch(A[0]){case nn.BEGIN_GEOMETRY:y=A[1],x&&n[Object(i.c)(y)]||!y.getGeometry()?w=A[2]:void 0===a||Object(vt.F)(a,y.getGeometry().getExtent())?++w:w=A[2]+1;break;case nn.BEGIN_PATH:S>P&&(this.fill_(t),S=0),M>P&&(t.stroke(),M=0),S||M||(t.beginPath(),f=p=NaN),++w;break;case nn.CIRCLE:var L=l[C=A[1]],D=l[C+1],R=l[C+2]-L,j=l[C+3]-D,F=Math.sqrt(R*R+j*j);t.moveTo(L+F,D),t.arc(L,D,F,0,2*Math.PI,!0),++w;break;case nn.CLOSE_PATH:t.closePath(),++w;break;case nn.CUSTOM:C=A[1],u=A[2];var z=A[3],B=A[4],G=6==A.length?A[5]:void 0;k.geometry=z,k.feature=y,w in T||(T[w]=[]);var q=T[w];G?G(l,C,u,2,q):(q[0]=l[C],q[1]=l[C+1],q.length=2),B(q,k),++w;break;case nn.DRAW_IMAGE:C=A[1],u=A[2],v=A[3],c=A[4],h=A[5],m=s?null:A[6];var H=A[7],W=A[8],U=A[9],Y=A[10],V=A[11],K=A[12],$=A[13],Z=A[14],J=void 0,Q=void 0,tt=void 0;for(A.length>16?(J=A[15],Q=A[16],tt=A[17]):(J=be.j,Q=tt=!1),V&&(K+=N);C<u;C+=2)this.replayImage_(t,l[C],l[C+1],v,c,h,m,H,W,U,Y,K,$,o,Z,J,Q?I:null,tt?O:null);this.renderDeclutter_(m,y),++w;break;case nn.DRAW_CHARS:var et=A[1],nt=A[2],it=A[3];m=s?null:A[4];var rt=A[5],ot=A[6],st=A[7],at=A[8],lt=A[9],ut=A[10],ct=A[11],ft=A[12],pt=A[13],dt=A[14],gt=Object(Xe.a)(l,et,nt,2),mt=at(ft);if(rt||mt<=gt){var yt=this.textStates[pt].textAlign,_t=Ke(l,et,nt,2,ft,at,(gt-mt)*on[yt],st);if(_t){var bt=void 0,xt=void 0,wt=void 0,Et=void 0,St=void 0;if(ut)for(bt=0,xt=_t.length;bt<xt;++bt)wt=(St=_t[bt])[4],Et=this.getImage(wt,pt,"",ut),c=St[2]+ct,h=it*Et.height+2*(.5-it)*ct-lt,this.replayImage_(t,St[0],St[1],Et,c,h,m,Et.height,1,0,0,St[3],dt,!1,Et.width,be.j,null,null);if(ot)for(bt=0,xt=_t.length;bt<xt;++bt)wt=(St=_t[bt])[4],Et=this.getImage(wt,pt,ot,""),c=St[2],h=it*Et.height-lt,this.replayImage_(t,St[0],St[1],Et,c,h,m,Et.height,1,0,0,St[3],dt,!1,Et.width,be.j,null,null)}}this.renderDeclutter_(m,y),++w;break;case nn.END_GEOMETRY:if(void 0!==s){var Mt=s(y=A[1]);if(Mt)return Mt}++w;break;case nn.FILL:P?S++:this.fill_(t),++w;break;case nn.MOVE_TO_LINE_TO:for(C=A[1],u=A[2],_=l[C],g=(b=l[C+1])+.5|0,(d=_+.5|0)===f&&g===p||(t.moveTo(_,b),f=d,p=g),C+=2;C<u;C+=2)d=(_=l[C])+.5|0,g=(b=l[C+1])+.5|0,C!=u-2&&d===f&&g===p||(t.lineTo(_,b),f=d,p=g);++w;break;case nn.SET_FILL_STYLE:I=A,this.alignFill_=A[2],S&&(this.fill_(t),S=0,M&&(t.stroke(),M=0)),t.fillStyle=A[1],++w;break;case nn.SET_STROKE_STYLE:O=A,M&&(t.stroke(),M=0),this.setStrokeStyle_(t,A),++w;break;case nn.STROKE:P?M++:t.stroke(),++w;break;default:++w}}S&&this.fill_(t),M&&t.stroke()},e.prototype.replay=function(t,e,n,i,r){this.viewRotation_=n,this.replay_(t,e,i,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,n,i,r,o){return this.viewRotation_=n,this.replay_(t,e,i,this.hitDetectionInstructions,!0,r,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,r=e.length,o=-1;for(t=0;t<r;++t)(i=(n=e[t])[0])==nn.END_GEOMETRY?o=t:i==nn.BEGIN_GEOMETRY&&(n[2]=t,Object(X.i)(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=Object(We.a)(i||be.b)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=Object(We.a)(r||be.k);var o=e.getLineCap();n.lineCap=void 0!==o?o:be.d;var s=e.getLineDash();n.lineDash=s?s.slice():be.e;var a=e.getLineDashOffset();n.lineDashOffset=a||be.f;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:be.g;var u=e.getWidth();n.lineWidth=void 0!==u?u:be.h;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:be.i,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t,e){var n=t.fillStyle,i=[nn.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[nn.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,n){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t,n)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!Object(X.b)(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[nn.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(vt.d)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(vt.c)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}($e.a),un=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([nn.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([nn.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([nn.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([nn.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),s=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(ln),cn=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,i,!1,!1),s=[nn.MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([nn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],tn);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(Qe),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([nn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],tn);for(var o=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),l=0,u=0,c=o.length;u<c;++u)l=this.drawFlatCoordinates_(s,l,o[u],a);this.hitDetectionInstructions.push(Qe),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Qe),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Qe),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(tn)},e}(ln),hn=n(54),fn=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,s=null!=r.strokeStyle,a=n.length;this.instructions.push(tn),this.hitDetectionInstructions.push(tn);for(var l=0;l<a;++l){var u=n[l],c=this.coordinates.length,h=this.appendFlatCoordinates(t,e,u,i,!0,!s),f=[nn.MOVE_TO_LINE_TO,c,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),s&&(this.instructions.push(en),this.hitDetectionInstructions.push(en)),e=u}return o&&(this.instructions.push(Je),this.hitDetectionInstructions.push(Je)),s&&(this.instructions.push(Qe),this.hitDetectionInstructions.push(Qe)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([nn.SET_FILL_STYLE,Object(we.b)(be.b)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([nn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var l=[nn.CIRCLE,a];this.instructions.push(tn,l),this.hitDetectionInstructions.push(tn,l),this.hitDetectionInstructions.push(Je),void 0!==n.fillStyle&&this.instructions.push(Je),void 0!==n.strokeStyle&&(this.instructions.push(Qe),this.hitDetectionInstructions.push(Qe)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([nn.SET_FILL_STYLE,Object(we.b)(be.b)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([nn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([nn.SET_FILL_STYLE,Object(we.b)(be.b)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([nn.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),l=0,u=0,c=o.length;u<c;++u)l=this.drawFlatCoordinatess_(s,l,o[u],a);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,n=0,i=e.length;n<i;++n)e[n]=Object(hn.e)(e[n],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(ln);function pn(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d=n,g=n,m=0,v=0,y=n;for(o=n;o<i;o+=r){var _=e[o],b=e[o+1];void 0!==l&&(f=_-l,p=b-u,a=Math.sqrt(f*f+p*p),void 0!==c&&(v+=s,Math.acos((c*f+h*p)/(s*a))>t&&(v>m&&(m=v,d=y,g=o),v=0,y=o-r)),s=a,c=f,h=p),l=_,u=b}return(v+=a)>m?[y,o]:[d,g]}var dn=n(98);var gn={Circle:fn,Default:ln,Image:un,LineString:cn,Polygon:fn,Text:function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},be.o.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var o,s,a=this.coordinates.length,l=t.getType(),u=null,c=2,h=2;if(r.placement===dn.a.LINE){if(!Object(vt.F)(this.getBufferedMaxExtent(),t.getExtent()))return;var f;if(u=t.getFlatCoordinates(),h=t.getStride(),l==Ye.a.LINE_STRING)f=[u.length];else if(l==Ye.a.MULTI_LINE_STRING)f=t.getEnds();else if(l==Ye.a.POLYGON)f=t.getEnds().slice(0,1);else if(l==Ye.a.MULTI_POLYGON){var p=t.getEndss();for(f=[],o=0,s=p.length;o<s;++o)f.push(p[o][0])}this.beginGeometry(t,e);for(var d,g=r.textAlign,m=0,v=0,y=f.length;v<y;++v){if(null==g){var _=pn(r.maxAngle,u,m,f[v],h);m=_[0],d=_[1]}else d=f[v];for(o=m;o<d;o+=h)this.coordinates.push(u[o],u[o+1]);c=this.coordinates.length,m=f[v],this.drawChars_(a,c,this.declutterGroup_),a=c}this.endGeometry(t,e)}else{var b=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),x=b.width/this.pixelRatio;switch(l){case Ye.a.POINT:case Ye.a.MULTI_POINT:c=(u=t.getFlatCoordinates()).length;break;case Ye.a.LINE_STRING:u=t.getFlatMidpoint();break;case Ye.a.CIRCLE:u=t.getCenter();break;case Ye.a.MULTI_LINE_STRING:c=(u=t.getFlatMidpoints()).length;break;case Ye.a.POLYGON:if(u=t.getFlatInteriorPoint(),!r.overflow&&u[2]/this.resolution<x)return;h=3;break;case Ye.a.MULTI_POLYGON:var w=t.getFlatInteriorPoints();for(u=[],o=0,s=w.length;o<s;o+=3)(r.overflow||w[o+2]/this.resolution>=x)&&u.push(w[o],w[o+1]);if(0==(c=u.length))return}c=this.appendFlatCoordinates(u,0,c,h,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(b,a,c),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,n,i){var r,o=i+e+t+n+this.pixelRatio;if(!be.o.containsKey(o)){var s=i?this.strokeStates[i]||this.textStrokeState_:null,a=n?this.fillStates[n]||this.textFillState_:null,l=this.textStates[e]||this.textState_,c=this.pixelRatio,h=l.scale*c,f=on[l.textAlign||be.l],p=i&&s.lineWidth?s.lineWidth:0,d=t.split("\n"),g=d.length,m=[],v=function(t,e,n){for(var i=e.length,r=0,o=0;o<i;++o){var s=Object(be.q)(t,e[o]);r=Math.max(r,s),n.push(s)}return r}(l.font,d,m),y=Object(be.p)(l.font),_=y*g,b=v+p,x=Object(mt.a)(Math.ceil(b*h),Math.ceil((_+p)*h));r=x.canvas,be.o.set(o,r),1!=h&&x.scale(h,h),x.font=l.font,i&&(x.strokeStyle=s.strokeStyle,x.lineWidth=p,x.lineCap=s.lineCap,x.lineJoin=s.lineJoin,x.miterLimit=s.miterLimit,u.a&&s.lineDash.length&&(x.setLineDash(s.lineDash),x.lineDashOffset=s.lineDashOffset)),n&&(x.fillStyle=a.fillStyle),x.textBaseline="middle",x.textAlign="center";var w,E=.5-f,C=f*r.width/h+E*p;if(i)for(w=0;w<g;++w)x.strokeText(d[w],C+E*m[w],.5*(p+y)+w*y);if(n)for(w=0;w<g;++w)x.fillText(d[w],C+E*m[w],.5*(p+y)+w*y)}return be.o.get(o)},e.prototype.drawTextImage_=function(t,e,n){var i=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,s=on[i.textAlign||be.l],a=on[i.textBaseline],l=r&&r.lineWidth?r.lineWidth:0,u=s*t.width/o+2*(.5-s)*l,c=a*t.height/o+2*(.5-a)*l;this.instructions.push([nn.DRAW_IMAGE,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,i.padding==be.j?be.j:i.padding.map(function(t){return t*o}),!!i.backgroundFill,!!i.backgroundStroke]),this.hitDetectionInstructions.push([nn.DRAW_IMAGE,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,r=this.textState_,o=this.textFillState_,s=this.strokeKey_;i&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||be.l,scale:r.scale});var l=this.fillKey_;o&&(l in this.fillStates||(this.fillStates[l]={fillStyle:o.fillStyle}));var u=this.pixelRatio,c=on[r.textBaseline],h=this.textOffsetY_*u,f=this.text_,p=r.font,d=r.scale,g=i?i.lineWidth*d/2:0,m=this.widths_[p];m||(this.widths_[p]=m={}),this.instructions.push([nn.DRAW_CHARS,t,e,c,n,r.overflow,l,r.maxAngle,function(t){var e=m[t];return e||(e=m[t]=Object(be.q)(p,t)),e*d*u},h,s,g*u,f,a,1]),this.hitDetectionInstructions.push([nn.DRAW_CHARS,t,e,c,n,r.overflow,l,r.maxAngle,function(t){var e=m[t];return e||(e=m[t]=Object(be.q)(p,t)),e*d},h,s,g,f,a,1/u])},e.prototype.setTextStyle=function(t,e){var n,r,o;if(t){this.declutterGroup_=e;var s=t.getFill();s?((r=this.textFillState_)||(r=this.textFillState_={}),r.fillStyle=Object(We.a)(s.getColor()||be.b)):r=this.textFillState_=null;var a=t.getStroke();if(a){(o=this.textStrokeState_)||(o=this.textStrokeState_={});var l=a.getLineDash(),u=a.getLineDashOffset(),c=a.getWidth(),h=a.getMiterLimit();o.lineCap=a.getLineCap()||be.d,o.lineDash=l?l.slice():be.e,o.lineDashOffset=void 0===u?be.f:u,o.lineJoin=a.getLineJoin()||be.g,o.lineWidth=void 0===c?be.h:c,o.miterLimit=void 0===h?be.i:h,o.strokeStyle=Object(We.a)(a.getColor()||be.k)}else o=this.textStrokeState_=null;n=this.textState_;var f=t.getFont()||be.c;Object(be.a)(f);var p=t.getScale();n.overflow=t.getOverflow(),n.font=f,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||be.m,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||be.j,n.scale=void 0===p?1:p;var d=t.getOffsetX(),g=t.getOffsetY(),m=t.getRotateWithView(),v=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===g?0:g,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0===v?0:v,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Object(i.c)(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Object(i.c)(r.fillStyle):""}else this.text_=""},e}(ln)},mn=function(t){function e(e,n,i,r,o,s,a){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=n,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=i,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=Object(mt.a)(1,1),this.hitDetectionTransform_=Object(Ct.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=Object(vt.j)()).push(1)),e},e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var n in e)e[n].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s){var a,l=2*(i=Math.round(i))+1,u=Object(Ct.b)(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),c=this.hitDetectionContext_;c.canvas.width!==l||c.canvas.height!==l?(c.canvas.width=l,c.canvas.height=l):c.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(a=Object(vt.j)(),Object(vt.r)(a,t),Object(vt.c)(a,e*(this.renderBuffer_+i),a));var h,f,p=function(t){if(void 0!==vn[t])return vn[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);var r=t,o=0,s=0;for(;r>=o;)yn(n,t+r,t+o),yn(n,t+o,t+r),yn(n,t-o,t+r),yn(n,t-r,t+o),yn(n,t-r,t-o),yn(n,t-o,t-r),yn(n,t+o,t-r),yn(n,t+r,t-o),2*((s+=1+2*++o)-r)+1>0&&(s+=1-2*(r-=1));return vn[t]=n,n}(i);function d(t){for(var e=c.getImageData(0,0,l,l).data,n=0;n<l;n++)for(var i=0;i<l;i++)if(p[n][i]&&e[4*(i*l+n)+3]>0){var r=void 0;return(!h||f!=He.IMAGE&&f!=He.TEXT||-1!==h.indexOf(t))&&(r=o(t)),r||void c.clearRect(0,0,l,l)}}this.declutterTree_&&(h=this.declutterTree_.all().map(function(t){return t.value}));var g,m,v,y,_,b=Object.keys(this.replaysByZIndex_).map(Number);for(b.sort(X.g),g=b.length-1;g>=0;--g){var x=b[g].toString();for(v=this.replaysByZIndex_[x],m=rn.length-1;m>=0;--m)if(void 0!==(y=v[f=rn[m]]))if(!s||f!=He.IMAGE&&f!=He.TEXT){if(_=y.replayHitDetection(c,u,n,r,d,a))return _}else{var w=s[x];w?w.push(y,u.slice(0)):s[x]=[y,u.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],i=e[1],r=e[2],o=e[3],s=[n,i,n,o,r,o,r,i];return Object(Be.c)(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(i={},this.replaysByZIndex_[n]=i);var r=i[e];void 0===r&&(r=new(0,gn[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[e]=r);return r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return Object(ht.d)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,n,i,r,o,s){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(X.g),t.save(),this.clip(t,e);var l,u,c,h,f,p,d=o||rn;for(l=0,u=a.length;l<u;++l){var g=a[l].toString();for(f=this.replaysByZIndex_[g],c=0,h=d.length;c<h;++c){var m=d[c];if(p=f[m],void 0!==p)if(!s||m!=He.IMAGE&&m!=He.TEXT)p.replay(t,e,n,i,r);else{var v=s[g];v?v.push(p,e.slice(0)):s[g]=[p,e.slice(0)]}}}t.restore()},e}(qe),vn={0:[[!0]]};function yn(t,e,n){var i,r=Math.floor(t.length/2);if(e>=r)for(i=r;i<e;i++)t[i][n]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][n]=!0}var _n=mn,bn=.5,xn={Point:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=ge.a.LOADED)return;var o=t.getReplay(n.getZIndex(),He.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),He.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}},LineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),He.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),He.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},Polygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),He.POLYGON);s.setFillStrokeStyle(r,o),s.drawPolygon(e,i)}var a=n.getText();if(a){var l=t.getReplay(n.getZIndex(),He.TEXT);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,i)}},MultiPoint:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=ge.a.LOADED)return;var o=t.getReplay(n.getZIndex(),He.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawMultiPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),He.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}},MultiLineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),He.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),He.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},MultiPolygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(o||r){var s=t.getReplay(n.getZIndex(),He.POLYGON);s.setFillStrokeStyle(r,o),s.drawMultiPolygon(e,i)}var a=n.getText();if(a){var l=t.getReplay(n.getZIndex(),He.TEXT);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,i)}},GeometryCollection:function(t,e,n,i){var r,o,s=e.getGeometriesArray();for(r=0,o=s.length;r<o;++r){var a=xn[s[r].getType()];a(t,s[r],n,i)}},Circle:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),He.CIRCLE);s.setFillStrokeStyle(r,o),s.drawCircle(e,i)}var a=n.getText();if(a){var l=t.getReplay(n.getZIndex(),He.TEXT);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,i)}}};function wn(t,e){return parseInt(Object(i.c)(t),10)-parseInt(Object(i.c)(e),10)}function En(t,e){var n=Cn(t,e);return n*n}function Cn(t,e){return bn*t/e}function Sn(t,e,n,i,r,o){var s=!1,a=n.getImage();if(a){var l=a.getImageState();l==ge.a.LOADED||l==ge.a.ERROR?a.unlistenImageChange(r,o):(l==ge.a.IDLE&&a.load(),l=a.getImageState(),a.listenImageChange(r,o),s=!0)}return function(t,e,n,i){var r=n.getGeometryFunction()(e);if(!r)return;var o=r.getSimplifiedGeometry(i);if(n.getRenderer())!function t(e,n,i,r){if(n.getType()==Ye.a.GEOMETRY_COLLECTION){for(var o=n.getGeometries(),s=0,a=o.length;s<a;++s)t(e,o[s],i,r);return}var l=e.getReplay(i.getZIndex(),He.DEFAULT);l.drawCustom(n,r,i.getRenderer())}(t,o,n,e);else{var s=xn[o.getType()];s(t,o,n,e)}}(t,e,n,i),s}var Mn=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?ze()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(vt.j)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Object(mt.a)(),Object(f.a)(be.o,ut.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(f.c)(be.o,ut.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,n){var i=e.extent,r=e.pixelRatio,o=n.managed?e.skippedFeatureUids:{},s=e.viewState,a=s.projection,l=s.rotation,u=a.getExtent(),c=this.getLayer().getSource(),h=this.getTransform(e,0),f=n.extent,p=void 0!==f;p&&this.clip(t,e,f);var d=this.replayGroup_;if(d&&!d.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var g,m=this.getLayer(),v=0,y=0,_=1!==n.opacity,b=m.hasListener(ot.a.RENDER);if(_||b){var x=t.canvas.width,w=t.canvas.height;if(l){var E=Math.round(Math.sqrt(x*x+w*w));v=(E-x)/2,y=(E-w)/2,x=w=E}this.context.canvas.width=x,this.context.canvas.height=w,g=this.context}else g=t;var C=g.globalAlpha;_||(g.globalAlpha=n.opacity),g!=t&&g.translate(v,y);var S=e.viewHints,M=!(S[gt.a.ANIMATING]||S[gt.a.INTERACTING]),I=e.size[0]*r,O=e.size[1]*r;if(Object(be.s)(g,-l,I/2,O/2),d.replay(g,h,l,o,M),c.getWrapX()&&a.canWrapX()&&!Object(vt.g)(u,i)){for(var T,N=i[0],k=Object(vt.E)(u),P=0;N<u[0];)T=k*--P,h=this.getTransform(e,T),d.replay(g,h,l,o,M),N+=k;for(P=0,N=i[2];N>u[2];)T=k*++P,h=this.getTransform(e,T),d.replay(g,h,l,o,M),N-=k}if(Object(be.s)(g,l,I/2,O/2),b&&this.dispatchRenderEvent(g,e,h),g!=t){if(_){var A=t.globalAlpha;t.globalAlpha=n.opacity,t.drawImage(g.canvas,-v,-y),t.globalAlpha=A}else t.drawImage(g.canvas,-v,-y);g.translate(-v,-y)}_||(g.globalAlpha=C)}p&&t.restore()},e.prototype.composeFrame=function(t,e,n){var i=this.getTransform(t,0);this.preCompose(n,t,i),this.compose(n,t,e),this.postCompose(n,t,e,i)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){if(this.replayGroup_){var s=e.viewState.resolution,a=e.viewState.rotation,l=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,s,a,n,{},function(t){var e=Object(i.c)(t);if(!(e in u))return u[e]=!0,r.call(o,t,l)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var n=this.getLayer(),i=n.getSource(),r=t.viewHints[gt.a.ANIMATING],o=t.viewHints[gt.a.INTERACTING],s=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!a&&o)return!0;var l=t.extent,u=t.viewState,c=u.projection,h=u.resolution,f=t.pixelRatio,p=n.getRevision(),d=n.getRenderBuffer(),g=n.getRenderOrder();void 0===g&&(g=wn);var m=Object(vt.c)(l,d*h),v=u.projection.getExtent();if(i.getWrapX()&&u.projection.canWrapX()&&!Object(vt.g)(v,t.extent)){var y=Object(vt.E)(v),_=Math.max(Object(vt.E)(m)/2,y);m[0]=v[0]-_,m[2]=v[2]+_}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==p&&this.renderedRenderOrder_==g&&Object(vt.g)(this.renderedExtent_,m))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var b=new _n(Cn(h,f),m,h,f,i.getOverlaps(),this.declutterTree_,n.getRenderBuffer());i.loadFeatures(m,h,c);var x=function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,h)),e){var r=this.renderFeature(t,h,f,e,b);this.dirty_=this.dirty_||r}}.bind(this);if(g){var w=[];i.forEachFeatureInExtent(m,function(t){w.push(t)}),w.sort(g);for(var E=0,C=w.length;E<C;++E)x(w[E])}else i.forEachFeatureInExtent(m,x);return b.finish(),this.renderedResolution_=h,this.renderedRevision_=p,this.renderedRenderOrder_=g,this.renderedExtent_=m,this.replayGroup_=b,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var s=0,a=i.length;s<a;++s)o=Sn(r,t,i[s],En(e,n),this.handleStyleImageChange_,this)||o;else o=Sn(r,t,i,En(e,n),this.handleStyleImageChange_,this);return o},e}(ke);Mn.handles=function(t){return t.getType()===ve.a.VECTOR},Mn.create=function(t,e){return new Mn(e)};var In=Mn,On={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},Tn=n(9),Nn=n(24),kn={image:[He.POLYGON,He.CIRCLE,He.LINE_STRING,He.IMAGE,He.TEXT],hybrid:[He.POLYGON,He.LINE_STRING]},Pn={image:[He.DEFAULT],hybrid:[He.IMAGE,He.TEXT,He.DEFAULT],vector:rn},An=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?ze()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=Object(Ct.c)();var n=e.getRenderMode();this.zDirection=n===On.VECTOR?1:0,n!==On.VECTOR&&(this.context=Object(mt.a)()),Object(f.a)(be.o,ut.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(f.c)(be.o,ut.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,n,i,r,o){var s=t.prototype.getTile.call(this,e,n,i,r,o);return s.getState()===lt.a.LOADED&&(this.createReplayGroup_(s,r,o),this.context&&this.renderTileImage_(s,r,o)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,n){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,n)},e.prototype.createReplayGroup_=function(t,e,n){var i=this,r=this.getLayer(),o=r.getRevision(),s=r.getRenderOrder()||null,a=t.getReplayState(r);if(a.dirty||a.renderedRevision!=o||a.renderedRenderOrder!=s){for(var l=r.getSource(),u=l.getTileGrid(),c=l.getTileGridForProjection(n).getResolution(t.tileCoord[0]),h=t.extent,f=function(o,f){var p=t.getTile(t.tileKeys[o]);if(p.getState()==lt.a.LOADED){var d=p.tileCoord,g=u.getTileCoordExtent(d),m=Object(vt.B)(h,g),v=Object(vt.p)(g,m)?null:Object(vt.c)(m,r.getRenderBuffer()*c,i.tmpExtent),y=p.getProjection(),_=!1;Object(Tn.f)(n,y)||(_=!0,p.setProjection(n)),a.dirty=!1;var b=new _n(0,m,c,e,l.getOverlaps(),i.declutterTree_,r.getRenderBuffer()),x=En(c,e),w=function(t){var e,n=t.getStyleFunction()||r.getStyleFunction();if(n&&(e=n(t,c)),e){var i=this.renderFeature(t,x,e,b);this.dirty_=this.dirty_||i,a.dirty=a.dirty||i}},E=p.getFeatures();s&&s!==a.renderedRenderOrder&&E.sort(s);for(var C=0,S=E.length;C<S;++C){var M=E[C];_&&(y.getUnits()==Nn.b.TILE_PIXELS&&(y.setWorldExtent(g),y.setExtent(p.getExtent())),M.getGeometry().transform(y,n)),v&&!Object(vt.F)(v,M.getGeometry().getExtent())||w.call(i,M)}b.finish(),p.setReplayGroup(r,t.tileCoord.toString(),b)}},p=0,d=t.tileKeys.length;p<d;++p)f(p);a.renderedRevision=o,a.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){var s=e.viewState.resolution,a=e.viewState.rotation;n=null==n?0:n;var l,u,c,h,f=this.getLayer(),p={},d=this.renderedTiles;for(c=0,h=d.length;c<h;++c){var g=d[c];if(l=Object(vt.c)(g.extent,n*s,l),Object(vt.f)(l,t))for(var m=0,v=g.tileKeys.length;m<v;++m){var y=g.getTile(g.tileKeys[m]);if(y.getState()==lt.a.LOADED){var _=y.getReplayGroup(f,g.tileCoord.toString());u=u||_.forEachFeatureAtCoordinate(t,s,a,n,{},function(t){var e=Object(i.c)(t);if(!(e in p))return p[e]=!0,r.call(o,t,f)},null)}}}return u},e.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),i=t.tileCoord,r=n.getResolution(i[0]),o=e.viewState,s=e.pixelRatio,a=o.resolution/s,l=n.getTileCoordExtent(i,this.tmpExtent),u=o.center,c=Object(vt.C)(l),h=e.size,f=Math.round(s*h[0]/2),p=Math.round(s*h[1]/2);return Object(Ct.b)(this.tmpTransform_,f,p,r/a,r/a,o.rotation,(c[0]-u[0])/r,(u[1]-c[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,n,i){var r=this.getLayer(),o=r.getRenderMode();if(o!=On.IMAGE){var s,a,l=r.getDeclutter()?{}:null,u=r.getSource(),c=Pn[o],h=n.pixelRatio,f=n.viewState.rotation,p=n.size;f&&(s=Math.round(h*p[0]/2),a=Math.round(h*p[1]/2),Object(be.s)(e,-f,s,a)),l&&this.declutterTree_.clear();for(var d=n.viewHints,g=!(d[gt.a.ANIMATING]||d[gt.a.INTERACTING]),m=this.renderedTiles,v=u.getTileGridForProjection(n.viewState.projection),y=[],_=[],b=m.length-1;b>=0;--b){var x=m[b];if(x.getState()!=lt.a.ABORT)for(var w=x.tileCoord,E=v.getTileCoordExtent(w,this.tmpExtent)[0]-x.extent[0],C=void 0,S=0,M=x.tileKeys.length;S<M;++S){var I=x.getTile(x.tileKeys[S]);if(I.getState()==lt.a.LOADED){var O=I.getReplayGroup(r,w.toString());if(O&&O.hasReplays(c)){C||(C=this.getTransform(n,E));var T=I.tileCoord[0],N=O.getClipCoords(C);e.save(),e.globalAlpha=i.opacity;for(var k=0,P=y.length;k<P;++k){var A=y[k];T<_[k]&&(e.beginPath(),e.moveTo(N[0],N[1]),e.lineTo(N[2],N[3]),e.lineTo(N[4],N[5]),e.lineTo(N[6],N[7]),e.moveTo(A[6],A[7]),e.lineTo(A[4],A[5]),e.lineTo(A[2],A[3]),e.lineTo(A[0],A[1]),e.clip())}O.replay(e,C,f,{},g,c,l),e.restore(),y.push(N),_.push(T)}}}}l&&function(t,e,n,i){for(var r=Object.keys(t).map(Number).sort(X.g),o={},s=0,a=r.length;s<a;++s)for(var l=t[r[s].toString()],u=0,c=l.length;u<c;){var h=l[u++],f=l[u++];h.replay(e,f,n,o,i)}}(l,e,f,g),f&&Object(be.s)(e,f,s,a)}t.prototype.postCompose.call(this,e,n,i)},e.prototype.renderFeature=function(t,e,n,i){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var o=0,s=n.length;o<s;++o)r=Sn(i,t,n[o],e,this.handleStyleImageChange_,this)||r;else r=Sn(i,t,n,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,n){var i=this.getLayer(),r=t.getReplayState(i),o=i.getRevision(),s=kn[i.getRenderMode()];if(s&&r.renderedTileRevision!==o){r.renderedTileRevision=o;var a=t.wrappedTileCoord,l=a[0],u=i.getSource(),c=u.getTileGridForProjection(n),h=c.getResolution(l),f=t.getContext(i),p=u.getTilePixelSize(l,e,n);f.canvas.width=p[0],f.canvas.height=p[1];for(var d=c.getTileCoordExtent(a,this.tmpExtent),g=0,m=t.tileKeys.length;g<m;++g){var v=t.getTile(t.tileKeys[g]);if(v.getState()==lt.a.LOADED){var y=e/h,_=Object(Ct.e)(this.tmpTransform_);Object(Ct.f)(_,y,-y),Object(Ct.h)(_,-d[0],-d[3]),v.getReplayGroup(i,t.tileCoord.toString()).replay(f,_,0,{},!0,s)}}}},e}(je);An.handles=function(t){return t.getType()===ve.a.VECTOR_TILE},An.create=function(t,e){return new An(e)};var Ln=An,Dn=function(t){function e(e){(e=Object(ht.a)({},e)).controls||(e.controls=function(t){var e=t||{},n=new r.a;return(void 0===e.zoom||e.zoom)&&n.push(new Lt(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new At(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new Nt(e.attributionOptions)),n}()),e.interactions||(e.interactions=function(t){var e=t||{},n=new r.a,i=new Rt(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Yt),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new zt({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new Wt({condition:e.onFocusOnly?Gt.c:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new he),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new fe({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new re),n.push(new se({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new ce({condition:e.onFocusOnly?Gt.c:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new ee({duration:e.zoomDuration})),n}()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new Ne(this);return t.registerLayerRenderers([Le,je,In,Ln]),t},e}(St);e.a=Dn},function(t,e,n){"use strict";var i=n(50),r=n(2),o=n(7),s=n(31),a=n(53),l=n(5),u=function(t){function e(e,n,i){t.call(this);var r=i||{};this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(l.a.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==o.a.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==o.a.LOADED){t.interimTile=null;break}t.getState()==o.a.LOADING?e=t:t.getState()==o.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:Object(s.a)(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(a.a),c=n(14),h=n(1);function f(){var t=Object(c.a)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var p=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,s),this.crossOrigin_=r,this.src_=i,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&(this.unlistenImage_(),this.image_=f()),this.interimTile&&this.interimTile.dispose(),this.state=o.a.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=o.a.ERROR,this.unlistenImage_(),this.image_=f(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=o.a.LOADED:this.state=o.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==o.a.ERROR&&(this.state=o.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.imageListenerKeys_=[Object(h.b)(this.image_,l.a.ERROR,this.handleImageError_,this),Object(h.b)(this.image_,l.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(h.e),this.imageListenerKeys_=null},e}(u);function d(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function g(t,e,n){return t+"/"+e+"/"+n}function m(t){return g(t[0],t[1],t[2])}var v=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),n=e.tileCoord[0].toString();if(n in t&&t[n].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach(function(e){e.tileCoord[0]!==t&&(this.remove(m(e.tileCoord)),e.dispose())},this)}},e}(n(96).a),y=n(9),_=n(0),b=n(6);function x(t,e,n,i){var r=n-t,o=i-e,s=Math.sqrt(r*r+o*o);return[Math.round(n+r/s),Math.round(i+o/s)]}var w=function(t,e,n,i,r){this.sourceProj_=t,this.targetProj_=e;var o={},s=Object(y.i)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=s(t)),o[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Object(_.E)(i)==Object(_.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(_.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(_.E)(this.targetProj_.getExtent()):null;var a=Object(_.C)(n),l=Object(_.D)(n),u=Object(_.w)(n),c=Object(_.v)(n),h=this.transformInv_(a),f=this.transformInv_(l),p=this.transformInv_(u),d=this.transformInv_(c);if(this.addQuad_(a,l,u,c,h,f,p,d,10),this.wrapsXInSource_){var g=1/0;this.triangles_.forEach(function(t,e,n){g=Math.min(g,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-g>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-g>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-g>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-g>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}o={}};w.prototype.addTriangle_=function(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})},w.prototype.addQuad_=function(t,e,n,i,r,o,s,a,l){var u=Object(_.b)([r,o,s,a]),c=this.sourceWorldWidth_?Object(_.E)(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&c>.5&&c<1,p=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var d=Object(_.b)([t,e,n,i]);p=Object(_.E)(d)/this.targetWorldWidth_>.25||p}!f&&this.sourceProj_.isGlobal()&&c&&(p=c>.25||p)}if(p||!this.maxSourceExtent_||Object(_.F)(u,this.maxSourceExtent_)){if(!(p||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1]))){if(!(l>0))return;p=!0}if(l>0){if(!p){var g,m=[(t[0]+n[0])/2,(t[1]+n[1])/2],v=this.transformInv_(m);if(f)g=(Object(b.d)(r[0],h)+Object(b.d)(s[0],h))/2-Object(b.d)(v[0],h);else g=(r[0]+s[0])/2-v[0];var y=(r[1]+s[1])/2-v[1];p=g*g+y*y>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var x=[(e[0]+n[0])/2,(e[1]+n[1])/2],w=this.transformInv_(x),E=[(i[0]+t[0])/2,(i[1]+t[1])/2],C=this.transformInv_(E);this.addQuad_(t,e,x,E,r,o,w,C,l-1),this.addQuad_(E,x,n,i,C,w,s,a,l-1)}else{var S=[(t[0]+e[0])/2,(t[1]+e[1])/2],M=this.transformInv_(S),I=[(n[0]+i[0])/2,(n[1]+i[1])/2],O=this.transformInv_(I);this.addQuad_(t,S,I,i,r,M,O,a,l-1),this.addQuad_(S,e,n,I,M,o,s,O,l-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,i,r,s,a),this.addTriangle_(t,e,n,r,o,s)}},w.prototype.calculateSourceExtent=function(){var t=Object(_.j)();return this.triangles_.forEach(function(e,n,i){var r=e.source;Object(_.r)(t,r[0]),Object(_.r)(t,r[1]),Object(_.r)(t,r[2])}),t},w.prototype.getTriangles=function(){return this.triangles_};var E=w,C=function(t){function e(e,n,r,s,a,l,u,c,h,f,p){t.call(this,a,o.a.IDLE),this.renderEdges_=void 0!==p&&p,this.pixelRatio_=u,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=s,this.wrappedTileCoord_=l||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var d=s.getTileCoordExtent(this.wrappedTileCoord_),g=this.targetTileGrid_.getExtent(),m=this.sourceTileGrid_.getExtent(),v=g?Object(_.B)(d,g):d;if(0!==Object(_.u)(v)){var x=e.getExtent();x&&(m=m?Object(_.B)(m,x):x);var w=s.getResolution(this.wrappedTileCoord_[0]),C=function(t,e,n,i){var r=Object(y.j)(n,e,t),o=Object(y.h)(e,i,n),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var l=t.getExtent();if(!l||Object(_.f)(l,r)){var u=Object(y.h)(t,o,r)/o;isFinite(u)&&u>0&&(o/=u)}return o}(e,r,Object(_.x)(v),w);if(!isFinite(C)||C<=0)this.state=o.a.EMPTY;else{var S=void 0!==f?f:i.b;if(this.triangulation_=new E(e,r,v,m,C*S),0!==this.triangulation_.getTriangles().length){this.sourceZ_=n.getZForResolution(C);var M=this.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(M[1]=Object(b.a)(M[1],m[1],m[3]),M[3]=Object(b.a)(M[3],m[1],m[3])):M=Object(_.B)(M,m)),Object(_.u)(M)){for(var I=n.getTileRangeForExtentAndZ(M,this.sourceZ_),O=I.minX;O<=I.maxX;O++)for(var T=I.minY;T<=I.maxY;T++){var N=h(this.sourceZ_,O,T,u);N&&this.sourceTiles_.push(N)}0===this.sourceTiles_.length&&(this.state=o.a.EMPTY)}else this.state=o.a.EMPTY}else this.state=o.a.EMPTY}}else this.state=o.a.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&e.getState()==o.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=o.a.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],s=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,i,r,o,s,a,l,u,h){var f=Object(c.a)(Math.round(n*t),Math.round(n*e));if(0===l.length)return f.canvas;f.scale(n,n);var p=Object(_.j)();l.forEach(function(t,e,n){Object(_.q)(p,t.extent)});var d=Object(_.E)(p),g=Object(_.A)(p),m=Object(c.a)(Math.round(n*d/i),Math.round(n*g/i)),v=n/i;l.forEach(function(t,e,n){var i=t.extent[0]-p[0],r=-(t.extent[3]-p[3]),o=Object(_.E)(t.extent),s=Object(_.A)(t.extent);m.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,i*v,r*v,o*v,s*v)});var y=Object(_.C)(s);return a.getTriangles().forEach(function(t,e,r){var s=t.source,a=t.target,l=s[0][0],u=s[0][1],c=s[1][0],h=s[1][1],d=s[2][0],g=s[2][1],v=(a[0][0]-y[0])/o,_=-(a[0][1]-y[1])/o,w=(a[1][0]-y[0])/o,E=-(a[1][1]-y[1])/o,C=(a[2][0]-y[0])/o,S=-(a[2][1]-y[1])/o,M=l,I=u;l=0,u=0;var O=[[c-=M,h-=I,0,0,w-v],[d-=M,g-=I,0,0,C-v],[0,0,c,h,E-_],[0,0,d,g,S-_]],T=Object(b.e)(O);if(T){f.save(),f.beginPath();var N=(v+w+C)/3,k=(_+E+S)/3,P=x(N,k,v,_),A=x(N,k,w,E),L=x(N,k,C,S);f.moveTo(A[0],A[1]),f.lineTo(P[0],P[1]),f.lineTo(L[0],L[1]),f.clip(),f.transform(T[0],T[2],T[1],T[3],v,_),f.translate(p[0]-M,p[3]-I),f.scale(i/n,-i/n),f.drawImage(m.canvas,0,0),f.restore()}}),h&&(f.save(),f.strokeStyle="black",f.lineWidth=1,a.getTriangles().forEach(function(t,e,n){var i=t.target,r=(i[0][0]-y[0])/o,s=-(i[0][1]-y[1])/o,a=(i[1][0]-y[0])/o,l=-(i[1][1]-y[1])/o,u=(i[2][0]-y[0])/o,c=-(i[2][1]-y[1])/o;f.beginPath(),f.moveTo(a,l),f.lineTo(r,s),f.lineTo(u,c),f.closePath(),f.stroke()}),f.restore()),f.canvas}(i,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=o.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==o.a.IDLE){this.state=o.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var r=e.getState();if(r==o.a.IDLE||r==o.a.LOADING){t++;var s=Object(h.a)(e,l.a.CHANGE,function(n){var i=e.getState();i!=o.a.LOADED&&i!=o.a.ERROR&&i!=o.a.EMPTY||(Object(h.e)(s),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(s)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==o.a.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(h.e),this.sourcesListenerKeys_=null},e}(u),S=n(11);function M(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s,a,l){return s?t.replace(n,s[0].toString()).replace(i,s[1].toString()).replace(r,function(){return(-s[2]-1).toString()}).replace(o,function(){var t=s[0],n=e.getFullTileRange(t);return Object(S.a)(n,55),(n.getHeight()+s[2]).toString()}):void 0}}function I(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=M(t[r],e);return function(t){if(1===t.length)return t[0];return function(e,n,i){if(e){var r=function(t){return(t[1]<<t[0])+t[2]}(e),o=Object(b.d)(r,t.length);return t[o](e,n,i)}}}(i)}function O(t,e,n){}var T=n(30),N=n(52),k=n(103),P=n(74),A=n(75),L=n(24),D=n(76),R=n(12),j=[0,0,0],F=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(S.a)(Object(R.e)(this.resolutions_,function(t,e){return e-t},!0),17),!t.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(S.a)(this.origins_.length==this.resolutions_.length,20));var r=t.extent;void 0===r||this.origin_||this.origins_||(this.origin_=Object(_.C)(r)),Object(S.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(S.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:P.b,Object(S.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new D.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):r&&this.calculateTileRanges_(r)};F.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var s=i.minY,a=i.maxY;s<=a;++s)n([e,r,s])},F.prototype.forEachTileCoordParentTileRange=function(t,e,n,i,r){var o,s,a,l=null,u=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):l=this.getTileCoordExtent(t,r);u>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),o=Object(D.a)(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(l,u,i),e.call(n,u,o))return!0;--u}return!1},F.prototype.getExtent=function(){return this.extent_},F.prototype.getMaxZoom=function(){return this.maxZoom},F.prototype.getMinZoom=function(){return this.minZoom},F.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},F.prototype.getResolution=function(t){return this.resolutions_[t]},F.prototype.getResolutions=function(){return this.resolutions_},F.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return Object(D.a)(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},F.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),o=Object(N.c)(this.getTileSize(t),this.tmpSize_),s=i[0]+e.minX*o[0]*r,a=i[0]+(e.maxX+1)*o[0]*r,l=i[1]+e.minY*o[1]*r,u=i[1]+(e.maxY+1)*o[1]*r;return Object(_.k)(s,l,a,u,n)},F.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=j;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),Object(D.a)(r,i[1],o,i[2],n)},F.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=Object(N.c)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]+(t[2]+.5)*i[1]*n]},F.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Object(N.c)(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,s=n[1]+t[2]*r[1]*i,a=o+r[0]*i,l=s+r[1]*i;return Object(_.k)(o,s,a,l,e)},F.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},F.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),l=Object(N.c)(this.getTileSize(o),this.tmpSize_),u=i?.5:0,c=i?0:.5,h=Math.floor((t-a[0])/n+u),f=Math.floor((e-a[1])/n+c),p=s*h/l[0],g=s*f/l[1];return i?(p=Math.ceil(p)-1,g=Math.ceil(g)-1):(p=Math.floor(p),g=Math.floor(g)),d(o,p,g,r)},F.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var o=this.getOrigin(n),s=this.getResolution(n),a=Object(N.c)(this.getTileSize(n),this.tmpSize_),l=i?.5:0,u=i?0:.5,c=Math.floor((t-o[0])/s+l),h=Math.floor((e-o[1])/s+u),f=c/a[0],p=h/a[1];return i?(f=Math.ceil(f)-1,p=Math.ceil(p)-1):(f=Math.floor(f),p=Math.floor(p)),d(n,f,p,r)},F.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},F.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},F.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},F.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},F.prototype.getZForResolution=function(t,e){var n=Object(R.f)(this.resolutions_,t,e||0);return Object(b.a)(n,this.minZoom,this.maxZoom)},F.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n};var z=F;function B(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){return function(t,e,n,i){var r=void 0!==i?i:A.a.TOP_LEFT,o=G(t,e,n);return new z({extent:t,origin:Object(_.y)(t,r),resolutions:o,tileSize:n})}(q(t),e,n,i)}(t),t.setDefaultTileGrid(e)),e}function G(t,e,n){for(var i=void 0!==e?e:P.a,r=Object(_.A)(t),o=Object(_.E)(t),s=Object(N.c)(void 0!==n?n:P.b),a=Math.max(o/s[0],r/s[1]),l=i+1,u=new Array(l),c=0;c<l;++c)u[c]=a/Math.pow(2,c);return u}function q(t){var e=(t=Object(y.g)(t)).getExtent();if(!e){var n=180*y.a[L.b.DEGREES]/t.getMetersPerUnit();e=Object(_.k)(-n,-n,n,n)}return e}var H=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new v(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var s,a,l,u=!0,c=n.minX;c<=n.maxX;++c)for(var h=n.minY;h<=n.maxY;++h)a=g(e,c,h),l=!1,r.containsKey(a)&&(l=(s=r.get(a)).getState()===o.a.LOADED)&&(l=!1!==i(s)),l||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return Object(r.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:B(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(y.f)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=Object(N.c)(i.getTileSize(t),this.tmpSize);return 1==r?o:Object(N.b)(o,r,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),o=q(n);if(Object(_.f)(o,r))return e;var s=Object(_.E)(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,t.getTileCoordForCoordAndZ(r,i)}(i,t,n)),function(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,s=e.getExtent();return!(o=s?e.getTileRangeForExtentAndZ(s,n):e.getFullTileRange(n))||o.containsXY(i,r)}(t,i)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,n,i){},e}(k.a),W=function(t){function e(e,n){t.call(this,e),this.tile=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(T.a),U="tileloadstart",Y="tileloadend",V="tileloaderror";function X(t,e){t.getImage().src=e}var K='&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',$=function(t){function e(e){var n,i=e||{};n=void 0!==i.attributions?i.attributions:[K];var r=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",o=void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";t.call(this,{attributions:n,cacheSize:i.cacheSize,crossOrigin:r,opaque:void 0===i.opaque||i.opaque,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,url:o,wrapX:i.wrapX,attributionsCollapsible:!1})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){var n=e||{},i=void 0!==n.projection?n.projection:"EPSG:3857",r=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||Object(y.g)("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:G(n,e.maxZoom,e.tileSize)};return new z(i)}({extent:q(i),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:X,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:p,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!i.a)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,n){if(i.a){var r=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==r?n:{}),this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==r?n:{})}}else t.prototype.expireCache.call(this,e,n)},e.prototype.getGutterForProjection=function(t){return i.a&&this.getProjection()&&t&&!Object(y.f)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(i.a&&this.getProjection()&&e&&!Object(y.f)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!i.a)return t.prototype.getTileGridForProjection.call(this,e);var n=this.getProjection();if(!this.tileGrid||n&&!Object(y.f)(n,e)){var o=Object(r.c)(e);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=B(e)),this.tileGridForProjection[o]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!i.a)return t.prototype.getTileCacheForProjection.call(this,e);var n=this.getProjection();if(!n||Object(y.f)(n,e))return this.tileCache;var o=Object(r.c)(e);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new v(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},e.prototype.createTile_=function(t,e,n,i,r,s){var a=[t,e,n],u=this.getTileCoordForTileUrlFunction(a,r),c=u?this.tileUrlFunction(u,i,r):void 0,f=new this.tileClass(a,void 0!==c?o.a.IDLE:o.a.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=s,Object(h.a)(f,l.a.CHANGE,this.handleTileChange,this),f},e.prototype.getTile=function(t,e,n,r,o){var s=this.getProjection();if(i.a&&s&&o&&!Object(y.f)(s,o)){var a,l=this.getTileCacheForProjection(o),u=[t,e,n],c=m(u);l.containsKey(c)&&(a=l.get(c));var h=this.getKey();if(a&&a.key==h)return a;var f=this.getTileGridForProjection(s),p=this.getTileGridForProjection(o),d=this.getTileCoordForTileUrlFunction(u,o),g=new C(s,f,o,p,u,d,this.getTilePixelRatio(r),this.getGutter(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return g.key=h,a?(g.interimTile=a,g.refreshInterimChain(),l.replace(c,g)):l.set(c,g),g}return this.getTileInternal(t,e,n,r,s||o)},e.prototype.getTileInternal=function(t,e,n,i,r){var s=null,a=g(t,e,n),l=this.getKey();if(this.tileCache.containsKey(a)){if((s=this.tileCache.get(a)).key!=l){var u=s;s=this.createTile_(t,e,n,i,r,l),u.getState()==o.a.IDLE?s.interimTile=u.interimTile:s.interimTile=u,s.refreshInterimChain(),this.tileCache.replace(a,s)}}else s=this.createTile_(t,e,n,i,r,l),this.tileCache.set(a,s);return s},e.prototype.setRenderReprojectionEdges=function(t){if(i.a&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(i.a){var n=Object(y.g)(t);if(n){var o=Object(r.c)(n);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):O,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=Object(r.c)(n),s=n.getState();s==o.a.LOADING?(this.tileLoadingKeys_[i]=!0,e=U):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=s==o.a.ERROR?V:s==o.a.LOADED||s==o.a.ABORT?Y:void 0),null!=e&&this.dispatchEvent(new W(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i,r=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(i=r;i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(I(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var i=g(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(H))));e.a=$},function(t,e,n){"use strict";var i=n(45),r=n(59),o="preload",s="useInterimTilesOnError",a=n(10),l=function(t){function e(e){var n=e||{},r=Object(a.a)({},n);delete r.preload,delete r.useInterimTilesOnError,t.call(this,r),this.setPreload(void 0!==n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=i.a.TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(o)},e.prototype.setPreload=function(t){this.set(o,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(s)},e.prototype.setUseInterimTilesOnError=function(t){this.set(s,t)},e}(r.a);l.prototype.getSource;e.a=l}]);
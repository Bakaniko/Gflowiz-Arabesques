!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=91)}([function(t,e,n){"use strict";n.d(e,"i",(function(){return i})),n.d(e,"j",(function(){return r})),n.d(e,"o",(function(){return o})),n.d(e,"l",(function(){return s})),n.d(e,"q",(function(){return a})),n.d(e,"w",(function(){return l})),n.d(e,"h",(function(){return u})),n.d(e,"r",(function(){return c})),n.d(e,"a",(function(){return h})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return p})),n.d(e,"g",(function(){return d})),n.d(e,"f",(function(){return A})),n.d(e,"k",(function(){return g})),n.d(e,"n",(function(){return m})),n.d(e,"p",(function(){return v})),n.d(e,"t",(function(){return y})),n.d(e,"s",(function(){return _})),n.d(e,"u",(function(){return b})),n.d(e,"v",(function(){return w})),n.d(e,"b",(function(){return E})),n.d(e,"c",(function(){return x})),n.d(e,"m",(function(){return C}));var i=1e-6,r=1e-12,o=Math.PI,s=o/2,a=o/4,l=2*o,u=180/o,c=o/180,h=Math.abs,f=Math.atan,p=Math.atan2,d=Math.cos,A=Math.ceil,g=Math.exp,m=(Math.floor,Math.log),v=Math.pow,y=Math.sin,_=Math.sign||function(t){return t>0?1:t<0?-1:0},b=Math.sqrt,w=Math.tan;function E(t){return t>1?0:t<-1?o:Math.acos(t)}function x(t){return t>1?s:t<-1?-s:Math.asin(t)}function C(t){return(t=y(t/2))*t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return u})),n.d(e,"f",(function(){return c})),n.d(e,"g",(function(){return h})),n.d(e,"h",(function(){return f})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return A})),n.d(e,"l",(function(){return g})),n.d(e,"m",(function(){return m})),n.d(e,"n",(function(){return v})),n.d(e,"o",(function(){return y})),n.d(e,"p",(function(){return _})),n.d(e,"q",(function(){return b})),n.d(e,"r",(function(){return w})),n.d(e,"s",(function(){return x})),n.d(e,"t",(function(){return B})),n.d(e,"u",(function(){return I})),n.d(e,"v",(function(){return S})),n.d(e,"w",(function(){return O})),n.d(e,"x",(function(){return M})),n.d(e,"y",(function(){return T})),n.d(e,"z",(function(){return N})),n.d(e,"A",(function(){return k})),n.d(e,"B",(function(){return L})),n.d(e,"C",(function(){return F})),n.d(e,"D",(function(){return R})),n.d(e,"E",(function(){return D})),n.d(e,"F",(function(){return P})),n.d(e,"H",(function(){return U})),n.d(e,"I",(function(){return Q})),n.d(e,"J",(function(){return H})),n.d(e,"G",(function(){return j})),n.d(e,"a",(function(){return z}));var i=n(16),r=n(92),o=n(40);function s(t){for(var e=d(),n=0,i=t.length;n<i;++n)w(e,t[n]);return e}function a(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function l(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function u(t,e,n){var i,r;return(i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*i+(r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0)*r}function c(t,e){return f(t,e[0],e[1])}function h(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function f(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function p(t,e){var n=t[0],i=t[1],r=t[2],s=t[3],a=e[0],l=e[1],u=o.a.UNKNOWN;return a<n?u|=o.a.LEFT:a>r&&(u|=o.a.RIGHT),l<i?u|=o.a.BELOW:l>s&&(u|=o.a.ABOVE),u===o.a.UNKNOWN&&(u=o.a.INTERSECTING),u}function d(){return[1/0,1/0,-1/0,-1/0]}function A(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function g(t){return A(1/0,1/0,-1/0,-1/0,t)}function m(t,e){var n=t[0],i=t[1];return A(n,i,n,i,e)}function v(t,e){return E(g(e),t)}function y(t,e,n,i,r){return x(g(r),t,e,n,i)}function _(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function b(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function w(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function E(t,e){for(var n=0,i=e.length;n<i;++n)w(t,e[n]);return t}function x(t,e,n,i,r){for(;n<i;n+=r)C(t,e[n],e[n+1]);return t}function C(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function B(t,e,n){var i;return(i=e.call(n,S(t)))?i:(i=e.call(n,O(t)))?i:(i=e.call(n,R(t)))?i:(i=e.call(n,F(t)))||!1}function I(t){var e=0;return U(t)||(e=D(t)*k(t)),e}function S(t){return[t[0],t[1]]}function O(t){return[t[2],t[1]]}function M(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function T(t,e){var n;return e===r.a.BOTTOM_LEFT?n=S(t):e===r.a.BOTTOM_RIGHT?n=O(t):e===r.a.TOP_LEFT?n=F(t):e===r.a.TOP_RIGHT?n=R(t):Object(i.a)(!1,13),n}function N(t,e,n,i,r){var o=e*i[0]/2,s=e*i[1]/2,a=Math.cos(n),l=Math.sin(n),u=o*a,c=o*l,h=s*a,f=s*l,p=t[0],d=t[1],g=p-u+f,m=p-u-f,v=p+u-f,y=p+u+f,_=d-c-h,b=d-c+h,w=d+c+h,E=d+c-h;return A(Math.min(g,m,v,y),Math.min(_,b,w,E),Math.max(g,m,v,y),Math.max(_,b,w,E),r)}function k(t){return t[3]-t[1]}function L(t,e,n){var i=n||[1/0,1/0,-1/0,-1/0];return P(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):g(i),i}function F(t){return[t[0],t[3]]}function R(t){return[t[2],t[3]]}function D(t){return t[2]-t[0]}function P(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function U(t){return t[2]<t[0]||t[3]<t[1]}function Q(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function H(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function j(t,e,n){var i=!1,r=p(t,e),s=p(t,n);if(r===o.a.INTERSECTING||s===o.a.INTERSECTING)i=!0;else{var a,l,u=t[0],c=t[1],h=t[2],f=t[3],d=e[0],A=e[1],g=n[0],m=n[1],v=(m-A)/(g-d);s&o.a.ABOVE&&!(r&o.a.ABOVE)&&(i=(a=g-(m-f)/v)>=u&&a<=h),i||!(s&o.a.RIGHT)||r&o.a.RIGHT||(i=(l=m-(g-h)*v)>=c&&l<=f),i||!(s&o.a.BELOW)||r&o.a.BELOW||(i=(a=g-(m-c)/v)>=u&&a<=h),i||!(s&o.a.LEFT)||r&o.a.LEFT||(i=(l=m-(g-u)*v)>=c&&l<=f)}return i}function z(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),function(t,e,n){return A(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}},function(t,e,n){"use strict";var i=function(){return new r};function r(){this.reset()}r.prototype={constructor:r,reset:function(){this.s=this.t=0},add:function(t){s(o,t,this.t),s(this,o.s,this.s),this.s?this.t+=o.t:this.s=o.t},valueOf:function(){return this.s}};var o=new r;function s(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}var a=n(0);function l(){}function u(t,e){t&&h.hasOwnProperty(t.type)&&h[t.type](t,e)}var c={Feature:function(t,e){u(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)u(n[i].geometry,e)}},h={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){f(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)f(n[i],e,0)},Polygon:function(t,e){p(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)p(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)u(n[i],e)}};function f(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function p(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)f(t[n],e,1);e.polygonEnd()}var d,A,g,m,v,y=function(t,e){t&&c.hasOwnProperty(t.type)?c[t.type](t,e):u(t,e)},_=i(),b=i(),w={point:l,lineStart:l,lineEnd:l,polygonStart:function(){_.reset(),w.lineStart=E,w.lineEnd=x},polygonEnd:function(){var t=+_;b.add(t<0?a.w+t:t),this.lineStart=this.lineEnd=this.point=l},sphere:function(){b.add(a.w)}};function E(){w.point=C}function x(){B(d,A)}function C(t,e){w.point=B,d=t,A=e,t*=a.r,e*=a.r,g=t,m=Object(a.g)(e=e/2+a.q),v=Object(a.t)(e)}function B(t,e){t*=a.r,e=(e*=a.r)/2+a.q;var n=t-g,i=n>=0?1:-1,r=i*n,o=Object(a.g)(e),s=Object(a.t)(e),l=v*s,u=m*o+l*Object(a.g)(r),c=l*i*Object(a.t)(r);_.add(Object(a.e)(c,u)),g=t,m=o,v=s}var I=function(t){return b.reset(),y(t,w),2*b};function S(t){return[Object(a.e)(t[1],t[0]),Object(a.c)(t[2])]}function O(t){var e=t[0],n=t[1],i=Object(a.g)(n);return[i*Object(a.g)(e),i*Object(a.t)(e),Object(a.t)(n)]}function M(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function T(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function N(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function k(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function L(t){var e=Object(a.u)(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var F,R,D,P,U,Q,H,j,z,K,G=i(),q={point:W,lineStart:X,lineEnd:V,polygonStart:function(){q.point=J,q.lineStart=Z,q.lineEnd=$,G.reset(),w.polygonStart()},polygonEnd:function(){w.polygonEnd(),q.point=W,q.lineStart=X,q.lineEnd=V,_<0?(F=-(D=180),R=-(P=90)):G>a.i?P=90:G<-a.i&&(R=-90),K[0]=F,K[1]=D}};function W(t,e){z.push(K=[F=t,D=t]),e<R&&(R=e),e>P&&(P=e)}function Y(t,e){var n=O([t*a.r,e*a.r]);if(j){var i=T(j,n),r=T([i[1],-i[0],0],i);L(r),r=S(r);var o,s=t-U,l=s>0?1:-1,u=r[0]*a.h*l,c=Object(a.a)(s)>180;c^(l*U<u&&u<l*t)?(o=r[1]*a.h)>P&&(P=o):c^(l*U<(u=(u+360)%360-180)&&u<l*t)?(o=-r[1]*a.h)<R&&(R=o):(e<R&&(R=e),e>P&&(P=e)),c?t<U?tt(F,t)>tt(F,D)&&(D=t):tt(t,D)>tt(F,D)&&(F=t):D>=F?(t<F&&(F=t),t>D&&(D=t)):t>U?tt(F,t)>tt(F,D)&&(D=t):tt(t,D)>tt(F,D)&&(F=t)}else z.push(K=[F=t,D=t]);e<R&&(R=e),e>P&&(P=e),j=n,U=t}function X(){q.point=Y}function V(){K[0]=F,K[1]=D,q.point=W,j=null}function J(t,e){if(j){var n=t-U;G.add(Object(a.a)(n)>180?n+(n>0?360:-360):n)}else Q=t,H=e;w.point(t,e),Y(t,e)}function Z(){w.lineStart()}function $(){J(Q,H),w.lineEnd(),Object(a.a)(G)>a.i&&(F=-(D=180)),K[0]=F,K[1]=D,j=null}function tt(t,e){return(e-=t)<0?e+360:e}function et(t,e){return t[0]-e[0]}function nt(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var it,rt,ot,st,at,lt,ut,ct,ht,ft,pt,dt,At,gt,mt,vt,yt=function(t){var e,n,i,r,o,s,a;if(P=D=-(F=R=1/0),z=[],y(t,q),n=z.length){for(z.sort(et),e=1,o=[i=z[0]];e<n;++e)nt(i,(r=z[e])[0])||nt(i,r[1])?(tt(i[0],r[1])>tt(i[0],i[1])&&(i[1]=r[1]),tt(r[0],i[1])>tt(i[0],i[1])&&(i[0]=r[0])):o.push(i=r);for(s=-1/0,e=0,i=o[n=o.length-1];e<=n;i=r,++e)r=o[e],(a=tt(i[1],r[0]))>s&&(s=a,F=r[0],D=i[1])}return z=K=null,F===1/0||R===1/0?[[NaN,NaN],[NaN,NaN]]:[[F,R],[D,P]]},_t={sphere:l,point:bt,lineStart:Et,lineEnd:Bt,polygonStart:function(){_t.lineStart=It,_t.lineEnd=St},polygonEnd:function(){_t.lineStart=Et,_t.lineEnd=Bt}};function bt(t,e){t*=a.r,e*=a.r;var n=Object(a.g)(e);wt(n*Object(a.g)(t),n*Object(a.t)(t),Object(a.t)(e))}function wt(t,e,n){ot+=(t-ot)/++it,st+=(e-st)/it,at+=(n-at)/it}function Et(){_t.point=xt}function xt(t,e){t*=a.r,e*=a.r;var n=Object(a.g)(e);gt=n*Object(a.g)(t),mt=n*Object(a.t)(t),vt=Object(a.t)(e),_t.point=Ct,wt(gt,mt,vt)}function Ct(t,e){t*=a.r,e*=a.r;var n=Object(a.g)(e),i=n*Object(a.g)(t),r=n*Object(a.t)(t),o=Object(a.t)(e),s=Object(a.e)(Object(a.u)((s=mt*o-vt*r)*s+(s=vt*i-gt*o)*s+(s=gt*r-mt*i)*s),gt*i+mt*r+vt*o);rt+=s,lt+=s*(gt+(gt=i)),ut+=s*(mt+(mt=r)),ct+=s*(vt+(vt=o)),wt(gt,mt,vt)}function Bt(){_t.point=bt}function It(){_t.point=Ot}function St(){Mt(dt,At),_t.point=bt}function Ot(t,e){dt=t,At=e,t*=a.r,e*=a.r,_t.point=Mt;var n=Object(a.g)(e);gt=n*Object(a.g)(t),mt=n*Object(a.t)(t),vt=Object(a.t)(e),wt(gt,mt,vt)}function Mt(t,e){t*=a.r,e*=a.r;var n=Object(a.g)(e),i=n*Object(a.g)(t),r=n*Object(a.t)(t),o=Object(a.t)(e),s=mt*o-vt*r,l=vt*i-gt*o,u=gt*r-mt*i,c=Object(a.u)(s*s+l*l+u*u),h=Object(a.c)(c),f=c&&-h/c;ht+=f*s,ft+=f*l,pt+=f*u,rt+=h,lt+=h*(gt+(gt=i)),ut+=h*(mt+(mt=r)),ct+=h*(vt+(vt=o)),wt(gt,mt,vt)}var Tt=function(t){it=rt=ot=st=at=lt=ut=ct=ht=ft=pt=0,y(t,_t);var e=ht,n=ft,i=pt,r=e*e+n*n+i*i;return r<a.j&&(e=lt,n=ut,i=ct,rt<a.i&&(e=ot,n=st,i=at),(r=e*e+n*n+i*i)<a.j)?[NaN,NaN]:[Object(a.e)(n,e)*a.h,Object(a.c)(i/Object(a.u)(r))*a.h]},Nt=function(t){return function(){return t}},kt=n(74);function Lt(t,e,n,i,r,o){if(n){var s=Object(a.g)(e),l=Object(a.t)(e),u=i*n;null==r?(r=e+i*a.w,o=e-u/2):(r=Ft(s,r),o=Ft(s,o),(i>0?r<o:r>o)&&(r+=i*a.w));for(var c,h=r;i>0?h>o:h<o;h-=u)c=S([s,-l*Object(a.g)(h),-l*Object(a.t)(h)]),t.point(c[0],c[1])}}function Ft(t,e){(e=O(e))[0]-=t,L(e);var n=Object(a.b)(-e[1]);return((-e[2]<0?-n:n)+a.w-a.i)%a.w}var Rt=function(){var t,e,n=Nt([0,0]),i=Nt(90),r=Nt(6),o={point:function(n,i){t.push(n=e(n,i)),n[0]*=a.h,n[1]*=a.h}};function s(){var s=n.apply(this,arguments),l=i.apply(this,arguments)*a.r,u=r.apply(this,arguments)*a.r;return t=[],e=Object(kt.b)(-s[0]*a.r,-s[1]*a.r,0).invert,Lt(o,l,u,1),s={type:"Polygon",coordinates:[t]},t=e=null,s}return s.center=function(t){return arguments.length?(n="function"==typeof t?t:Nt([+t[0],+t[1]]),s):n},s.radius=function(t){return arguments.length?(i="function"==typeof t?t:Nt(+t),s):i},s.precision=function(t){return arguments.length?(r="function"==typeof t?t:Nt(+t),s):r},s},Dt=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:l,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Pt=function(t,e){return Object(a.a)(t[0]-e[0])<a.i&&Object(a.a)(t[1]-e[1])<a.i};function Ut(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}var Qt=function(t,e,n,i,r){var o,s,a=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(Pt(i,s)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);r.lineEnd()}else a.push(n=new Ut(i,t,null,!0)),l.push(n.o=new Ut(i,null,n,!1)),a.push(n=new Ut(s,t,null,!1)),l.push(n.o=new Ut(s,null,n,!0))}})),a.length){for(l.sort(e),Ht(a),Ht(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var u,c,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;u=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=u.length;o<s;++o)r.point((c=u[o])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(u=f.p.z,o=u.length-1;o>=0;--o)r.point((c=u[o])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}u=(f=f.o).z,p=!p}while(!f.v);r.lineEnd()}}};function Ht(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}var jt=i(),zt=function(t,e){var n=e[0],i=e[1],r=Object(a.t)(i),o=[Object(a.t)(n),-Object(a.g)(n),0],s=0,l=0;jt.reset(),1===r?i=a.l+a.i:-1===r&&(i=-a.l-a.i);for(var u=0,c=t.length;u<c;++u)if(f=(h=t[u]).length)for(var h,f,p=h[f-1],d=p[0],A=p[1]/2+a.q,g=Object(a.t)(A),m=Object(a.g)(A),v=0;v<f;++v,d=_,g=w,m=E,p=y){var y=h[v],_=y[0],b=y[1]/2+a.q,w=Object(a.t)(b),E=Object(a.g)(b),x=_-d,C=x>=0?1:-1,B=C*x,I=B>a.o,S=g*w;if(jt.add(Object(a.e)(S*C*Object(a.t)(B),m*E+S*Object(a.g)(B))),s+=I?x+C*a.w:x,I^d>=n^_>=n){var M=T(O(p),O(y));L(M);var N=T(o,M);L(N);var k=(I^x>=0?-1:1)*Object(a.c)(N[2]);(i>k||i===k&&(M[0]||M[1]))&&(l+=I^x>=0?1:-1)}}return(s<-a.i||s<a.i&&jt<-a.i)^1&l},Kt=n(13),Gt=function(t,e,n,i){return function(r){var o,s,a,l=e(r),u=Dt(),c=e(u),h=!1,f={point:p,lineStart:A,lineEnd:g,polygonStart:function(){f.point=m,f.lineStart=v,f.lineEnd=y,s=[],o=[]},polygonEnd:function(){f.point=p,f.lineStart=A,f.lineEnd=g,s=Object(Kt.n)(s);var t=zt(o,i);s.length?(h||(r.polygonStart(),h=!0),Qt(s,Wt,t,n,r)):t&&(h||(r.polygonStart(),h=!0),r.lineStart(),n(null,null,1,r),r.lineEnd()),h&&(r.polygonEnd(),h=!1),s=o=null},sphere:function(){r.polygonStart(),r.lineStart(),n(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function p(e,n){t(e,n)&&r.point(e,n)}function d(t,e){l.point(t,e)}function A(){f.point=d,l.lineStart()}function g(){f.point=p,l.lineEnd()}function m(t,e){a.push([t,e]),c.point(t,e)}function v(){c.lineStart(),a=[]}function y(){m(a[0][0],a[0][1]),c.lineEnd();var t,e,n,i,l=c.clean(),f=u.result(),p=f.length;if(a.pop(),o.push(a),a=null,p)if(1&l){if((e=(n=f[0]).length-1)>0){for(h||(r.polygonStart(),h=!0),r.lineStart(),t=0;t<e;++t)r.point((i=n[t])[0],i[1]);r.lineEnd()}}else p>1&&2&l&&f.push(f.pop().concat(f.shift())),s.push(f.filter(qt))}return f}};function qt(t){return t.length>1}function Wt(t,e){return((t=t.x)[0]<0?t[1]-a.l-a.i:a.l-t[1])-((e=e.x)[0]<0?e[1]-a.l-a.i:a.l-e[1])}var Yt=Gt((function(){return!0}),(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var l=o>0?a.o:-a.o,u=Object(a.a)(o-n);Object(a.a)(u-a.o)<a.i?(t.point(n,i=(i+s)/2>0?a.l:-a.l),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(l,i),t.point(o,i),e=0):r!==l&&u>=a.o&&(Object(a.a)(n-r)<a.i&&(n-=r*a.i),Object(a.a)(o-l)<a.i&&(o-=l*a.i),i=function(t,e,n,i){var r,o,s=Object(a.t)(t-n);return Object(a.a)(s)>a.i?Object(a.d)((Object(a.t)(e)*(o=Object(a.g)(i))*Object(a.t)(n)-Object(a.t)(i)*(r=Object(a.g)(e))*Object(a.t)(t))/(r*o*s)):(e+i)/2}(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(l,i),e=0),t.point(n=o,i=s),r=l},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)r=n*a.l,i.point(-a.o,r),i.point(0,r),i.point(a.o,r),i.point(a.o,0),i.point(a.o,-r),i.point(0,-r),i.point(-a.o,-r),i.point(-a.o,0),i.point(-a.o,r);else if(Object(a.a)(t[0]-e[0])>a.i){var o=t[0]<e[0]?a.o:-a.o;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}),[-a.o,-a.l]);var Xt=function(t){var e=Object(a.g)(t),n=6*a.r,i=e>0,r=Object(a.a)(e)>a.i;function o(t,n){return Object(a.g)(t)*Object(a.g)(n)>e}function s(t,n,i){var r=[1,0,0],o=T(O(t),O(n)),s=M(o,o),l=o[0],u=s-l*l;if(!u)return!i&&t;var c=e*s/u,h=-e*l/u,f=T(r,o),p=k(r,c);N(p,k(o,h));var d=f,A=M(p,d),g=M(d,d),m=A*A-g*(M(p,p)-1);if(!(m<0)){var v=Object(a.u)(m),y=k(d,(-A-v)/g);if(N(y,p),y=S(y),!i)return y;var _,b=t[0],w=n[0],E=t[1],x=n[1];w<b&&(_=b,b=w,w=_);var C=w-b,B=Object(a.a)(C-a.o)<a.i;if(!B&&x<E&&(_=E,E=x,x=_),B||C<a.i?B?E+x>0^y[1]<(Object(a.a)(y[0]-b)<a.i?E:x):E<=y[1]&&y[1]<=x:C>a.o^(b<=y[0]&&y[0]<=w)){var I=k(d,(-A+v)/g);return N(I,p),[y,S(I)]}}}function l(e,n){var r=i?t:a.o-t,o=0;return e<-r?o|=1:e>r&&(o|=2),n<-r?o|=4:n>r&&(o|=8),o}return Gt(o,(function(t){var e,n,u,c,h;return{lineStart:function(){c=u=!1,h=1},point:function(f,p){var d,A=[f,p],g=o(f,p),m=i?g?0:l(f,p):g?l(f+(f<0?a.o:-a.o),p):0;if(!e&&(c=u=g)&&t.lineStart(),g!==u&&(!(d=s(e,A))||Pt(e,d)||Pt(A,d))&&(A[0]+=a.i,A[1]+=a.i,g=o(A[0],A[1])),g!==u)h=0,g?(t.lineStart(),d=s(A,e),t.point(d[0],d[1])):(d=s(e,A),t.point(d[0],d[1]),t.lineEnd()),e=d;else if(r&&e&&i^g){var v;m&n||!(v=s(A,e,!0))||(h=0,i?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&&Pt(e,A)||t.point(A[0],A[1]),e=A,u=g,n=m},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return h|(c&&u)<<1}}}),(function(e,i,r,o){Lt(o,t,n,r,e,i)}),i?[0,-t]:[-a.o,t-a.o])},Vt=function(t,e,n,i,r,o){var s,a=t[0],l=t[1],u=0,c=1,h=e[0]-a,f=e[1]-l;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<u)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>u&&(u=s)}if(s=r-a,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>u&&(u=s)}else if(h>0){if(s<u)return;s<c&&(c=s)}if(s=i-l,f||!(s>0)){if(s/=f,f<0){if(s<u)return;s<c&&(c=s)}else if(f>0){if(s>c)return;s>u&&(u=s)}if(s=o-l,f||!(s<0)){if(s/=f,f<0){if(s>c)return;s>u&&(u=s)}else if(f>0){if(s<u)return;s<c&&(c=s)}return u>0&&(t[0]=a+u*h,t[1]=l+u*f),c<1&&(e[0]=a+c*h,e[1]=l+c*f),!0}}}}},Jt=1e9,Zt=-Jt;function $t(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,a,l){var c=0,h=0;if(null==r||(c=s(r,a))!==(h=s(o,a))||u(r,o)<0^a>0)do{l.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+a+4)%4)!==h);else l.point(o[0],o[1])}function s(i,r){return Object(a.a)(i[0]-t)<a.i?r>0?0:3:Object(a.a)(i[0]-n)<a.i?r>0?2:1:Object(a.a)(i[1]-e)<a.i?r>0?1:0:r>0?3:2}function l(t,e){return u(t.x,e.x)}function u(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){var a,u,c,h,f,p,d,A,g,m,v,y=s,_=Dt(),b={point:w,lineStart:function(){b.point=E,u&&u.push(c=[]);m=!0,g=!1,d=A=NaN},lineEnd:function(){a&&(E(h,f),p&&g&&_.rejoin(),a.push(_.result()));b.point=w,g&&y.lineEnd()},polygonStart:function(){y=_,a=[],u=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=u.length;n<r;++n)for(var o,s,a=u[n],l=1,c=a.length,h=a[0],f=h[0],p=h[1];l<c;++l)o=f,s=p,h=a[l],f=h[0],p=h[1],s<=i?p>i&&(f-o)*(i-s)>(p-s)*(t-o)&&++e:p<=i&&(f-o)*(i-s)<(p-s)*(t-o)&&--e;return e}(),n=v&&e,r=(a=Object(Kt.n)(a)).length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),r&&Qt(a,l,e,o,s),s.polygonEnd());y=s,a=u=c=null}};function w(t,e){r(t,e)&&y.point(t,e)}function E(o,s){var a=r(o,s);if(u&&c.push([o,s]),m)h=o,f=s,p=a,m=!1,a&&(y.lineStart(),y.point(o,s));else if(a&&g)y.point(o,s);else{var l=[d=Math.max(Zt,Math.min(Jt,d)),A=Math.max(Zt,Math.min(Jt,A))],_=[o=Math.max(Zt,Math.min(Jt,o)),s=Math.max(Zt,Math.min(Jt,s))];Vt(l,_,t,e,n,i)?(g||(y.lineStart(),y.point(l[0],l[1])),y.point(_[0],_[1]),a||y.lineEnd(),v=!1):a&&(y.lineStart(),y.point(o,s),v=!1)}d=o,A=s,g=a}return b}}var te,ee,ne,ie=function(){var t,e,n,i=0,r=0,o=960,s=500;return n={stream:function(n){return t&&e===n?t:t=$t(i,r,o,s)(e=n)},extent:function(a){return arguments.length?(i=+a[0][0],r=+a[0][1],o=+a[1][0],s=+a[1][1],t=e=null,n):[[i,r],[o,s]]}}},re=i(),oe={sphere:l,point:l,lineStart:function(){oe.point=ae,oe.lineEnd=se},lineEnd:l,polygonStart:l,polygonEnd:l};function se(){oe.point=oe.lineEnd=l}function ae(t,e){t*=a.r,e*=a.r,te=t,ee=Object(a.t)(e),ne=Object(a.g)(e),oe.point=le}function le(t,e){t*=a.r,e*=a.r;var n=Object(a.t)(e),i=Object(a.g)(e),r=Object(a.a)(t-te),o=Object(a.g)(r),s=i*Object(a.t)(r),l=ne*n-ee*i*o,u=ee*n+ne*i*o;re.add(Object(a.e)(Object(a.u)(s*s+l*l),u)),te=t,ee=n,ne=i}var ue=function(t){return re.reset(),y(t,oe),+re},ce=[null,null],he={type:"LineString",coordinates:ce},fe=function(t,e){return ce[0]=t,ce[1]=e,ue(he)},pe={Feature:function(t,e){return Ae(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)if(Ae(n[i].geometry,e))return!0;return!1}},de={Sphere:function(){return!0},Point:function(t,e){return ge(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(ge(n[i],e))return!0;return!1},LineString:function(t,e){return me(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(me(n[i],e))return!0;return!1},Polygon:function(t,e){return ve(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)if(ve(n[i],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)if(Ae(n[i],e))return!0;return!1}};function Ae(t,e){return!(!t||!de.hasOwnProperty(t.type))&&de[t.type](t,e)}function ge(t,e){return 0===fe(t,e)}function me(t,e){var n=fe(t[0],t[1]);return fe(t[0],e)+fe(e,t[1])<=n+a.i}function ve(t,e){return!!zt(t.map(ye),_e(e))}function ye(t){return(t=t.map(_e)).pop(),t}function _e(t){return[t[0]*a.r,t[1]*a.r]}var be=function(t,e){return(t&&pe.hasOwnProperty(t.type)?pe[t.type]:Ae)(t,e)};function we(t,e,n){var i=Object(Kt.s)(t,e-a.i,n).concat(e);return function(t){return i.map((function(e){return[t,e]}))}}function Ee(t,e,n){var i=Object(Kt.s)(t,e-a.i,n).concat(e);return function(t){return i.map((function(e){return[e,t]}))}}function xe(){var t,e,n,i,r,o,s,l,u,c,h,f,p=10,d=p,A=90,g=360,m=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return Object(Kt.s)(Object(a.f)(i/A)*A,n,A).map(h).concat(Object(Kt.s)(Object(a.f)(l/g)*g,s,g).map(f)).concat(Object(Kt.s)(Object(a.f)(e/p)*p,t,p).filter((function(t){return Object(a.a)(t%A)>a.i})).map(u)).concat(Object(Kt.s)(Object(a.f)(o/d)*d,r,d).filter((function(t){return Object(a.a)(t%g)>a.i})).map(c))}return v.lines=function(){return y().map((function(t){return{type:"LineString",coordinates:t}}))},v.outline=function(){return{type:"Polygon",coordinates:[h(i).concat(f(s).slice(1),h(n).reverse().slice(1),f(l).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],l=+t[0][1],s=+t[1][1],i>n&&(t=i,i=n,n=t),l>s&&(t=l,l=s,s=t),v.precision(m)):[[i,l],[n,s]]},v.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],r=+n[1][1],e>t&&(n=e,e=t,t=n),o>r&&(n=o,o=r,r=n),v.precision(m)):[[e,o],[t,r]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(A=+t[0],g=+t[1],v):[A,g]},v.stepMinor=function(t){return arguments.length?(p=+t[0],d=+t[1],v):[p,d]},v.precision=function(a){return arguments.length?(m=+a,u=we(o,r,90),c=Ee(e,t,m),h=we(l,s,90),f=Ee(i,n,m),v):m},v.extentMajor([[-180,-90+a.i],[180,90-a.i]]).extentMinor([[-180,-80-a.i],[180,80+a.i]])}function Ce(){return xe()()}var Be,Ie,Se,Oe,Me=function(t,e){var n=t[0]*a.r,i=t[1]*a.r,r=e[0]*a.r,o=e[1]*a.r,s=Object(a.g)(i),l=Object(a.t)(i),u=Object(a.g)(o),c=Object(a.t)(o),h=s*Object(a.g)(n),f=s*Object(a.t)(n),p=u*Object(a.g)(r),d=u*Object(a.t)(r),A=2*Object(a.c)(Object(a.u)(Object(a.m)(o-i)+s*u*Object(a.m)(r-n))),g=Object(a.t)(A),m=A?function(t){var e=Object(a.t)(t*=A)/g,n=Object(a.t)(A-t)/g,i=n*h+e*p,r=n*f+e*d,o=n*l+e*c;return[Object(a.e)(r,i)*a.h,Object(a.e)(o,Object(a.u)(i*i+r*r))*a.h]}:function(){return[n*a.h,i*a.h]};return m.distance=A,m},Te=function(t){return t},Ne=i(),ke=i(),Le={point:l,lineStart:l,lineEnd:l,polygonStart:function(){Le.lineStart=Fe,Le.lineEnd=Pe},polygonEnd:function(){Le.lineStart=Le.lineEnd=Le.point=l,Ne.add(Object(a.a)(ke)),ke.reset()},result:function(){var t=Ne/2;return Ne.reset(),t}};function Fe(){Le.point=Re}function Re(t,e){Le.point=De,Be=Se=t,Ie=Oe=e}function De(t,e){ke.add(Oe*t-Se*e),Se=t,Oe=e}function Pe(){De(Be,Ie)}var Ue=Le,Qe=1/0,He=Qe,je=-Qe,ze=je;var Ke,Ge,qe,We,Ye={point:function(t,e){t<Qe&&(Qe=t);t>je&&(je=t);e<He&&(He=e);e>ze&&(ze=e)},lineStart:l,lineEnd:l,polygonStart:l,polygonEnd:l,result:function(){var t=[[Qe,He],[je,ze]];return je=ze=-(He=Qe=1/0),t}},Xe=0,Ve=0,Je=0,Ze=0,$e=0,tn=0,en=0,nn=0,rn=0,on={point:sn,lineStart:an,lineEnd:cn,polygonStart:function(){on.lineStart=hn,on.lineEnd=fn},polygonEnd:function(){on.point=sn,on.lineStart=an,on.lineEnd=cn},result:function(){var t=rn?[en/rn,nn/rn]:tn?[Ze/tn,$e/tn]:Je?[Xe/Je,Ve/Je]:[NaN,NaN];return Xe=Ve=Je=Ze=$e=tn=en=nn=rn=0,t}};function sn(t,e){Xe+=t,Ve+=e,++Je}function an(){on.point=ln}function ln(t,e){on.point=un,sn(qe=t,We=e)}function un(t,e){var n=t-qe,i=e-We,r=Object(a.u)(n*n+i*i);Ze+=r*(qe+t)/2,$e+=r*(We+e)/2,tn+=r,sn(qe=t,We=e)}function cn(){on.point=sn}function hn(){on.point=pn}function fn(){dn(Ke,Ge)}function pn(t,e){on.point=dn,sn(Ke=qe=t,Ge=We=e)}function dn(t,e){var n=t-qe,i=e-We,r=Object(a.u)(n*n+i*i);Ze+=r*(qe+t)/2,$e+=r*(We+e)/2,tn+=r,en+=(r=We*t-qe*e)*(qe+t),nn+=r*(We+e),rn+=3*r,sn(qe=t,We=e)}var An=on;function gn(t){this._context=t}gn.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,a.w)}},result:l};var mn,vn,yn,_n,bn,wn=i(),En={point:l,lineStart:function(){En.point=xn},lineEnd:function(){mn&&Cn(vn,yn),En.point=l},polygonStart:function(){mn=!0},polygonEnd:function(){mn=null},result:function(){var t=+wn;return wn.reset(),t}};function xn(t,e){En.point=Cn,vn=_n=t,yn=bn=e}function Cn(t,e){_n-=t,bn-=e,wn.add(Object(a.u)(_n*_n+bn*bn)),_n=t,bn=e}var Bn=En;function In(){this._string=[]}function Sn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}In.prototype={_radius:4.5,_circle:Sn(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Sn(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var On=function(t,e){var n,i,r=4.5;function o(t){return t&&("function"==typeof r&&i.pointRadius(+r.apply(this,arguments)),y(t,n(i))),i.result()}return o.area=function(t){return y(t,n(Ue)),Ue.result()},o.measure=function(t){return y(t,n(Bn)),Bn.result()},o.bounds=function(t){return y(t,n(Ye)),Ye.result()},o.centroid=function(t){return y(t,n(An)),An.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,Te):(t=e).stream,o):t},o.context=function(t){return arguments.length?(i=null==t?(e=null,new In):new gn(e=t),"function"!=typeof r&&i.pointRadius(r),o):e},o.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(i.pointRadius(+t),+t),o):r},o.projection(t).context(e)},Mn=n(111),Tn=function(t){return{stream:Nn(t)}};function Nn(t){return function(e){var n=new kn;for(var i in t)n[i]=t[i];return n.stream=e,n}}function kn(){}function Ln(t,e,n){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=i&&t.clipExtent(null),y(n,t.stream(Ye)),e(Ye.result()),null!=i&&t.clipExtent(i),t}function Fn(t,e,n){return Ln(t,(function(n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=Math.min(i/(n[1][0]-n[0][0]),r/(n[1][1]-n[0][1])),s=+e[0][0]+(i-o*(n[1][0]+n[0][0]))/2,a=+e[0][1]+(r-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([s,a])}),n)}function Rn(t,e,n){return Fn(t,[[0,0],e],n)}function Dn(t,e,n){return Ln(t,(function(n){var i=+e,r=i/(n[1][0]-n[0][0]),o=(i-r*(n[1][0]+n[0][0]))/2,s=-r*n[0][1];t.scale(150*r).translate([o,s])}),n)}function Pn(t,e,n){return Ln(t,(function(n){var i=+e,r=i/(n[1][1]-n[0][1]),o=-r*n[0][0],s=(i-r*(n[1][1]+n[0][1]))/2;t.scale(150*r).translate([o,s])}),n)}kn.prototype={constructor:kn,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Un=16,Qn=Object(a.g)(30*a.r),Hn=function(t,e){return+e?function(t,e){function n(i,r,o,s,l,u,c,h,f,p,d,A,g,m){var v=c-i,y=h-r,_=v*v+y*y;if(_>4*e&&g--){var b=s+p,w=l+d,E=u+A,x=Object(a.u)(b*b+w*w+E*E),C=Object(a.c)(E/=x),B=Object(a.a)(Object(a.a)(E)-1)<a.i||Object(a.a)(o-f)<a.i?(o+f)/2:Object(a.e)(w,b),I=t(B,C),S=I[0],O=I[1],M=S-i,T=O-r,N=y*M-v*T;(N*N/_>e||Object(a.a)((v*M+y*T)/_-.5)>.3||s*p+l*d+u*A<Qn)&&(n(i,r,o,s,l,u,S,O,B,b/=x,w/=x,E,g,m),m.point(S,O),n(S,O,B,b,w,E,c,h,f,p,d,A,g,m))}}return function(e){var i,r,o,s,a,l,u,c,h,f,p,d,A={point:g,lineStart:m,lineEnd:y,polygonStart:function(){e.polygonStart(),A.lineStart=_},polygonEnd:function(){e.polygonEnd(),A.lineStart=m}};function g(n,i){n=t(n,i),e.point(n[0],n[1])}function m(){c=NaN,A.point=v,e.lineStart()}function v(i,r){var o=O([i,r]),s=t(i,r);n(c,h,u,f,p,d,c=s[0],h=s[1],u=i,f=o[0],p=o[1],d=o[2],Un,e),e.point(c,h)}function y(){A.point=g,e.lineEnd()}function _(){m(),A.point=b,A.lineEnd=w}function b(t,e){v(i=t,e),r=c,o=h,s=f,a=p,l=d,A.point=v}function w(){n(c,h,u,f,p,d,r,o,i,s,a,l,Un,e),A.lineEnd=y,y()}return A}}(t,e):function(t){return Nn({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var jn=Nn({point:function(t,e){this.stream.point(t*a.r,e*a.r)}});function zn(t,e,n){function i(i,r){return[e+t*i,n-t*r]}return i.invert=function(i,r){return[(i-e)/t,(n-r)/t]},i}function Kn(t,e,n,i){var r=Object(a.g)(i),o=Object(a.t)(i),s=r*t,l=o*t,u=r/t,c=o/t,h=(o*n-r*e)/t,f=(o*e+r*n)/t;function p(t,i){return[s*t-l*i+e,n-l*t-s*i]}return p.invert=function(t,e){return[u*t-c*e+h,f-c*t-u*e]},p}function Gn(t){return qn((function(){return t}))()}function qn(t){var e,n,i,r,o,s,l,u,c,h,f=150,p=480,d=250,A=0,g=0,m=0,v=0,y=0,_=0,b=null,w=Yt,E=null,x=Te,C=.5;function B(t){return u(t[0]*a.r,t[1]*a.r)}function I(t){return(t=u.invert(t[0],t[1]))&&[t[0]*a.h,t[1]*a.h]}function S(){var t=Kn(f,0,0,_).apply(null,e(A,g)),i=(_?Kn:zn)(f,p-t[0],d-t[1],_);return n=Object(kt.b)(m,v,y),l=Object(Mn.a)(e,i),u=Object(Mn.a)(n,l),s=Hn(l,C),O()}function O(){return c=h=null,B}return B.stream=function(t){return c&&h===t?c:c=jn(function(t){return Nn({point:function(e,n){var i=t(e,n);return this.stream.point(i[0],i[1])}})}(n)(w(s(x(h=t)))))},B.preclip=function(t){return arguments.length?(w=t,b=void 0,O()):w},B.postclip=function(t){return arguments.length?(x=t,E=i=r=o=null,O()):x},B.clipAngle=function(t){return arguments.length?(w=+t?Xt(b=t*a.r):(b=null,Yt),O()):b*a.h},B.clipExtent=function(t){return arguments.length?(x=null==t?(E=i=r=o=null,Te):$t(E=+t[0][0],i=+t[0][1],r=+t[1][0],o=+t[1][1]),O()):null==E?null:[[E,i],[r,o]]},B.scale=function(t){return arguments.length?(f=+t,S()):f},B.translate=function(t){return arguments.length?(p=+t[0],d=+t[1],S()):[p,d]},B.center=function(t){return arguments.length?(A=t[0]%360*a.r,g=t[1]%360*a.r,S()):[A*a.h,g*a.h]},B.rotate=function(t){return arguments.length?(m=t[0]%360*a.r,v=t[1]%360*a.r,y=t.length>2?t[2]%360*a.r:0,S()):[m*a.h,v*a.h,y*a.h]},B.angle=function(t){return arguments.length?(_=t%360*a.r,S()):_*a.h},B.precision=function(t){return arguments.length?(s=Hn(l,C=t*t),O()):Object(a.u)(C)},B.fitExtent=function(t,e){return Fn(B,t,e)},B.fitSize=function(t,e){return Rn(B,t,e)},B.fitWidth=function(t,e){return Dn(B,t,e)},B.fitHeight=function(t,e){return Pn(B,t,e)},function(){return e=t.apply(this,arguments),B.invert=e.invert&&I,S()}}function Wn(t){var e=0,n=a.o/3,i=qn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*a.r,n=t[1]*a.r):[e*a.h,n*a.h]},r}function Yn(t,e){var n=Object(a.t)(t),i=(n+Object(a.t)(e))/2;if(Object(a.a)(i)<a.i)return function(t){var e=Object(a.g)(t);function n(t,n){return[t*e,Object(a.t)(n)/e]}return n.invert=function(t,n){return[t/e,Object(a.c)(n*e)]},n}(t);var r=1+n*(2*i-n),o=Object(a.u)(r)/i;function s(t,e){var n=Object(a.u)(r-2*i*Object(a.t)(e))/i;return[n*Object(a.t)(t*=i),o-n*Object(a.g)(t)]}return s.invert=function(t,e){var n=o-e;return[Object(a.e)(t,Object(a.a)(n))/i*Object(a.s)(n),Object(a.c)((r-(t*t+n*n)*i*i)/(2*i))]},s}var Xn=function(){return Wn(Yn).scale(155.424).center([0,33.6442])},Vn=function(){return Xn().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var Jn=function(){var t,e,n,i,r,o,s=Vn(),l=Xn().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=Xn().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function h(t){var e=t[0],s=t[1];return o=null,n.point(e,s),o||(i.point(e,s),o)||(r.point(e,s),o)}function f(){return t=e=null,h}return h.invert=function(t){var e=s.scale(),n=s.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?l:r>=.166&&r<.234&&i>=-.214&&i<-.115?u:s).invert(t)},h.stream=function(n){return t&&e===n?t:(i=[s.stream(e=n),l.stream(n),u.stream(n)],r=i.length,t={point:function(t,e){for(var n=-1;++n<r;)i[n].point(t,e)},sphere:function(){for(var t=-1;++t<r;)i[t].sphere()},lineStart:function(){for(var t=-1;++t<r;)i[t].lineStart()},lineEnd:function(){for(var t=-1;++t<r;)i[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<r;)i[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<r;)i[t].polygonEnd()}});var i,r},h.precision=function(t){return arguments.length?(s.precision(t),l.precision(t),u.precision(t),f()):s.precision()},h.scale=function(t){return arguments.length?(s.scale(t),l.scale(.35*t),u.scale(t),h.translate(s.translate())):s.scale()},h.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),o=+t[0],h=+t[1];return n=s.translate(t).clipExtent([[o-.455*e,h-.238*e],[o+.455*e,h+.238*e]]).stream(c),i=l.translate([o-.307*e,h+.201*e]).clipExtent([[o-.425*e+a.i,h+.12*e+a.i],[o-.214*e-a.i,h+.234*e-a.i]]).stream(c),r=u.translate([o-.205*e,h+.212*e]).clipExtent([[o-.214*e+a.i,h+.166*e+a.i],[o-.115*e-a.i,h+.234*e-a.i]]).stream(c),f()},h.fitExtent=function(t,e){return Fn(h,t,e)},h.fitSize=function(t,e){return Rn(h,t,e)},h.fitWidth=function(t,e){return Dn(h,t,e)},h.fitHeight=function(t,e){return Pn(h,t,e)},h.scale(1070)};function Zn(t){return function(e,n){var i=Object(a.g)(e),r=Object(a.g)(n),o=t(i*r);return[o*r*Object(a.t)(e),o*Object(a.t)(n)]}}function $n(t){return function(e,n){var i=Object(a.u)(e*e+n*n),r=t(i),o=Object(a.t)(r),s=Object(a.g)(r);return[Object(a.e)(e*o,i*s),Object(a.c)(i&&n*o/i)]}}var ti=Zn((function(t){return Object(a.u)(2/(1+t))}));ti.invert=$n((function(t){return 2*Object(a.c)(t/2)}));var ei=function(){return Gn(ti).scale(124.75).clipAngle(179.999)},ni=Zn((function(t){return(t=Object(a.b)(t))&&t/Object(a.t)(t)}));ni.invert=$n((function(t){return t}));var ii=function(){return Gn(ni).scale(79.4188).clipAngle(179.999)};function ri(t,e){return[t,Object(a.n)(Object(a.v)((a.l+e)/2))]}ri.invert=function(t,e){return[t,2*Object(a.d)(Object(a.k)(e))-a.l]};var oi=function(){return si(ri).scale(961/a.w)};function si(t){var e,n,i,r=Gn(t),o=r.center,s=r.scale,l=r.translate,u=r.clipExtent,c=null;function h(){var o=a.o*s(),l=r(Object(kt.a)(r.rotate()).invert([0,0]));return u(null==c?[[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]]:t===ri?[[Math.max(l[0]-o,c),e],[Math.min(l[0]+o,n),i]]:[[c,Math.max(l[1]-o,e)],[n,Math.min(l[1]+o,i)]])}return r.scale=function(t){return arguments.length?(s(t),h()):s()},r.translate=function(t){return arguments.length?(l(t),h()):l()},r.center=function(t){return arguments.length?(o(t),h()):o()},r.clipExtent=function(t){return arguments.length?(null==t?c=e=n=i=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],i=+t[1][1]),h()):null==c?null:[[c,e],[n,i]]},h()}function ai(t){return Object(a.v)((a.l+t)/2)}function li(t,e){var n=Object(a.g)(t),i=t===e?Object(a.t)(t):Object(a.n)(n/Object(a.g)(e))/Object(a.n)(ai(e)/ai(t)),r=n*Object(a.p)(ai(t),i)/i;if(!i)return ri;function o(t,e){r>0?e<-a.l+a.i&&(e=-a.l+a.i):e>a.l-a.i&&(e=a.l-a.i);var n=r/Object(a.p)(ai(e),i);return[n*Object(a.t)(i*t),r-n*Object(a.g)(i*t)]}return o.invert=function(t,e){var n=r-e,o=Object(a.s)(i)*Object(a.u)(t*t+n*n);return[Object(a.e)(t,Object(a.a)(n))/i*Object(a.s)(n),2*Object(a.d)(Object(a.p)(r/o,1/i))-a.l]},o}var ui=function(){return Wn(li).scale(109.5).parallels([30,30])};function ci(t,e){return[t,e]}ci.invert=ci;var hi=function(){return Gn(ci).scale(152.63)};function fi(t,e){var n=Object(a.g)(t),i=t===e?Object(a.t)(t):(n-Object(a.g)(e))/(e-t),r=n/i+t;if(Object(a.a)(i)<a.i)return ci;function o(t,e){var n=r-e,o=i*t;return[n*Object(a.t)(o),r-n*Object(a.g)(o)]}return o.invert=function(t,e){var n=r-e;return[Object(a.e)(t,Object(a.a)(n))/i*Object(a.s)(n),r-Object(a.s)(i)*Object(a.u)(t*t+n*n)]},o}var pi=function(){return Wn(fi).scale(131.154).center([0,13.9389])},di=1.340264,Ai=-.081106,gi=893e-6,mi=.003796,vi=Object(a.u)(3)/2;function yi(t,e){var n=Object(a.c)(vi*Object(a.t)(e)),i=n*n,r=i*i*i;return[t*Object(a.g)(n)/(vi*(di+3*Ai*i+r*(7*gi+9*mi*i))),n*(di+Ai*i+r*(gi+mi*i))]}yi.invert=function(t,e){for(var n,i=e,r=i*i,o=r*r*r,s=0;s<12&&(o=(r=(i-=n=(i*(di+Ai*r+o*(gi+mi*r))-e)/(di+3*Ai*r+o*(7*gi+9*mi*r)))*i)*r*r,!(Object(a.a)(n)<a.j));++s);return[vi*t*(di+3*Ai*r+o*(7*gi+9*mi*r))/Object(a.g)(i),Object(a.c)(Object(a.t)(i)/vi)]};var _i=function(){return Gn(yi).scale(177.158)};function bi(t,e){var n=Object(a.g)(e),i=Object(a.g)(t)*n;return[n*Object(a.t)(t)/i,Object(a.t)(e)/i]}bi.invert=$n(a.d);var wi=function(){return Gn(bi).scale(144.049).clipAngle(60)};function Ei(t,e,n,i){return 1===t&&1===e&&0===n&&0===i?Te:Nn({point:function(r,o){this.stream.point(r*t+n,o*e+i)}})}var xi=function(){var t,e,n,i,r,o,s=1,a=0,l=0,u=1,c=1,h=Te,f=null,p=Te;function d(){return i=r=null,o}return o={stream:function(t){return i&&r===t?i:i=h(p(r=t))},postclip:function(i){return arguments.length?(p=i,f=t=e=n=null,d()):p},clipExtent:function(i){return arguments.length?(p=null==i?(f=t=e=n=null,Te):$t(f=+i[0][0],t=+i[0][1],e=+i[1][0],n=+i[1][1]),d()):null==f?null:[[f,t],[e,n]]},scale:function(t){return arguments.length?(h=Ei((s=+t)*u,s*c,a,l),d()):s},translate:function(t){return arguments.length?(h=Ei(s*u,s*c,a=+t[0],l=+t[1]),d()):[a,l]},reflectX:function(t){return arguments.length?(h=Ei(s*(u=t?-1:1),s*c,a,l),d()):u<0},reflectY:function(t){return arguments.length?(h=Ei(s*u,s*(c=t?-1:1),a,l),d()):c<0},fitExtent:function(t,e){return Fn(o,t,e)},fitSize:function(t,e){return Rn(o,t,e)},fitWidth:function(t,e){return Dn(o,t,e)},fitHeight:function(t,e){return Pn(o,t,e)}}};function Ci(t,e){var n=e*e,i=n*n;return[t*(.8707-.131979*n+i*(i*(.003971*n-.001529*i)-.013791)),e*(1.007226+n*(.015085+i*(.028874*n-.044475-.005916*i)))]}Ci.invert=function(t,e){var n,i=e,r=25;do{var o=i*i,s=o*o;i-=n=(i*(1.007226+o*(.015085+s*(.028874*o-.044475-.005916*s)))-e)/(1.007226+o*(.045255+s*(.259866*o-.311325-.005916*11*s)))}while(Object(a.a)(n)>a.i&&--r>0);return[t/(.8707+(o=i*i)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),i]};var Bi=function(){return Gn(Ci).scale(175.295)};function Ii(t,e){return[Object(a.g)(e)*Object(a.t)(t),Object(a.t)(e)]}Ii.invert=$n(a.c);var Si=function(){return Gn(Ii).scale(249.5).clipAngle(90+a.i)};function Oi(t,e){var n=Object(a.g)(e),i=1+Object(a.g)(t)*n;return[n*Object(a.t)(t)/i,Object(a.t)(e)/i]}Oi.invert=$n((function(t){return 2*Object(a.d)(t)}));var Mi=function(){return Gn(Oi).scale(250).clipAngle(142)};function Ti(t,e){return[Object(a.n)(Object(a.v)((a.l+e)/2)),-t]}Ti.invert=function(t,e){return[-e,2*Object(a.d)(Object(a.k)(t))-a.l]};var Ni=function(){var t=si(Ti),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};n.d(e,"c",(function(){return I})),n.d(e,"h",(function(){return yt})),n.d(e,"i",(function(){return Tt})),n.d(e,"j",(function(){return Rt})),n.d(e,"k",(function(){return Yt})),n.d(e,"l",(function(){return Xt})),n.d(e,"m",(function(){return ie})),n.d(e,"n",(function(){return $t})),n.d(e,"u",(function(){return be})),n.d(e,"v",(function(){return fe})),n.d(e,"C",(function(){return xe})),n.d(e,"D",(function(){return Ce})),n.d(e,"F",(function(){return Me})),n.d(e,"G",(function(){return ue})),n.d(e,"N",(function(){return On})),n.d(e,"a",(function(){return Vn})),n.d(e,"b",(function(){return Jn})),n.d(e,"d",(function(){return ei})),n.d(e,"e",(function(){return ti})),n.d(e,"f",(function(){return ii})),n.d(e,"g",(function(){return ni})),n.d(e,"o",(function(){return ui})),n.d(e,"p",(function(){return li})),n.d(e,"q",(function(){return Xn})),n.d(e,"r",(function(){return Yn})),n.d(e,"s",(function(){return pi})),n.d(e,"t",(function(){return fi})),n.d(e,"w",(function(){return _i})),n.d(e,"x",(function(){return yi})),n.d(e,"y",(function(){return hi})),n.d(e,"z",(function(){return ci})),n.d(e,"A",(function(){return wi})),n.d(e,"B",(function(){return bi})),n.d(e,"E",(function(){return xi})),n.d(e,"O",(function(){return Gn})),n.d(e,"P",(function(){return qn})),n.d(e,"H",(function(){return oi})),n.d(e,"I",(function(){return ri})),n.d(e,"J",(function(){return Bi})),n.d(e,"K",(function(){return Ci})),n.d(e,"L",(function(){return Si})),n.d(e,"M",(function(){return Ii})),n.d(e,"R",(function(){return Mi})),n.d(e,"S",(function(){return Oi})),n.d(e,"V",(function(){return Ni})),n.d(e,"W",(function(){return Ti})),n.d(e,"Q",(function(){return kt.a})),n.d(e,"T",(function(){return y})),n.d(e,"U",(function(){return Tn}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return c})),n.d(e,"e",(function(){return h})),n.d(e,"d",(function(){return f}));var i=n(14);function r(t,e,n,i){for(var r,o=0,s=t.length;o<s;++o)if((r=t[o]).listener===e&&r.bindTo===n)return i&&(r.deleteIndex=o),r}function o(t,e){var n=s(t);return n?n[e]:void 0}function s(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function a(t,e){var n=o(t,e);if(n){for(var r=0,a=n.length;r<a;++r)t.removeEventListener(e,n[r].boundListener),Object(i.b)(n[r]);n.length=0;var l=s(t);l&&(delete l[e],0===Object.keys(l).length&&function(t){delete t.ol_lm}(t))}}function l(t,e,n,i,o){var a=s(t,!0),l=a[e];l||(l=a[e]=[]);var u=r(l,n,i,!1);return u?o||(u.callOnce=!1):(u={bindTo:i,callOnce:!!o,listener:n,target:t,type:e},t.addEventListener(e,function(t){var e=function(e){var n=t.listener,i=t.bindTo||t.target;return t.callOnce&&h(t),n.call(i,e)};return t.boundListener=e,e}(u)),l.push(u)),u}function u(t,e,n,i){return l(t,e,n,i,!0)}function c(t,e,n,i){var s=o(t,e);if(s){var a=r(s,n,i,!0);a&&h(a)}}function h(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=o(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&a(t.target,t.type)}Object(i.b)(t)}}function f(t){var e=s(t);if(e)for(var n in e)a(t,n)}},function(t,e,n){"use strict";function i(){return function(){throw new Error("Unimplemented abstract method.")}()}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return a}));var o=0;function s(t){return t.ol_uid||(t.ol_uid=String(++o))}var a="5.3.2"},function(t,e,n){"use strict";e.a={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"}},function(t,e,n){"use strict";n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return p})),n.d(e,"i",(function(){return d})),n.d(e,"k",(function(){return A})),n.d(e,"l",(function(){return g})),n.d(e,"m",(function(){return m})),n.d(e,"j",(function(){return v})),n.d(e,"h",(function(){return y})),n.d(e,"o",(function(){return _})),n.d(e,"a",(function(){return x})),n.d(e,"p",(function(){return S})),n.d(e,"q",(function(){return O})),n.d(e,"s",(function(){return M})),n.d(e,"r",(function(){return T})),n.d(e,"n",(function(){return N}));var i=n(28),r=n(17),o=n(14),s=n(123),a=n(12),l="10px sans-serif",u=[0,0,0,1],c="round",h=[],f=0,p="round",d=10,A=[0,0,0,1],g="center",m="middle",v=[0,0,0,0],y=1,_=new s.a,b={},w=null,E={},x=function(){var t,e,n=60,r=b,s="32px ",a=["monospace","serif"],l=a.length,u="wmytzilWMYTZIL@#/&?$%10";function c(t){for(var n=C(),i=100;i<=700;i+=300){for(var r=i+" ",o=!0,c=0;c<l;++c){var h=a[c];if(n.font=r+s+h,e=n.measureText(u).width,t!=h){n.font=r+s+t+","+h;var f=n.measureText(u).width;o=o&&f!=e}}if(o)return!0}return!1}function h(){var e=!0;for(var i in r)r[i]<n&&(c(i)?(r[i]=n,Object(o.b)(E),w=null,_.clear()):(++r[i],e=!1));e&&(clearInterval(t),t=void 0)}return function(e){var o=Object(i.g)(e);if(o)for(var s=0,a=o.length;s<a;++s){var l=o[s];l in r||(r[l]=n,c(l)||(r[l]=0,void 0===t&&(t=setInterval(h,32))))}}}();function C(){return w||(w=Object(r.a)(1,1)),w}var B,I,S=(I=E,function(t){var e=I[t];return null==e&&(B||((B=document.createElement("span")).textContent="M",B.style.margin=B.style.padding="0 !important",B.style.position="absolute !important",B.style.left="-99999px !important"),B.style.font=t,document.body.appendChild(B),e=I[t]=B.offsetHeight,document.body.removeChild(B)),e});function O(t,e){var n=C();return t!=n.font&&(n.font=t),n.measureText(e).width}function M(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}var T=Object(a.c)();function N(t,e,n,i,r,o,s,a,l,u,c){var h;1!=n&&(h=t.globalAlpha,t.globalAlpha=h*n),e&&t.setTransform.apply(t,e),t.drawImage(i,r,o,s,a,l,u,s*c,a*c),h&&(t.globalAlpha=h),e&&t.setTransform.apply(t,T)}},function(t,e,n){"use strict";(function(t,i,r){n.d(e,"l",(function(){return E})),n.d(e,"m",(function(){return x})),n.d(e,"o",(function(){return C})),n.d(e,"a",(function(){return B})),n.d(e,"b",(function(){return I})),n.d(e,"h",(function(){return S})),n.d(e,"i",(function(){return O})),n.d(e,"e",(function(){return T})),n.d(e,"j",(function(){return R})),n.d(e,"n",(function(){return D})),n.d(e,"g",(function(){return P})),n.d(e,"f",(function(){return U})),n.d(e,"k",(function(){return Q})),n.d(e,"d",(function(){return H})),n.d(e,"c",(function(){return j}));var o=n(42),s=n(94),a=n(30),l=n(72),u=n(25),c=n(44),h=n(95),f=(n(228),n(241),n(76)),p=n(27),d=n(32),A=n(68),g=n(50),m=n(178),v=n(77),y=n(179),_=n(79),b=(n(244),n(144)),w=n(87);n(141);function E(t,e){var n=t.getLayers().array_;for(var i in n)if(n[i].get("name")===e)return n[i];return null}function x(){var t=document.getElementById("tileLayersAdd").value;if("overlay"===t)var e=ListOverlayTileUrl[document.getElementById("tileLayersNameSelectorOptions").value];else if("base"===t)e=ListBaseTileUrl[document.getElementById("tileLayersNameSelectorOptions").value];else if("stamen"===t)e=ListStamenTileUrl[document.getElementById("tileLayersNameSelectorOptions").value];else if("text"===t)e=ListTextTileUrl[document.getElementById("tileLayersNameSelectorOptions").value];else if("carto"===t)e=ListCartoTileUrl[document.getElementById("tileLayersNameSelectorOptions").value];return e}function C(t){if(null!==document.getElementById("tileLayersNameSelector")&&i("#tileLayersNameSelector").children().remove(),i("#tileLayersNameSelector").append('<label for="tileLayersNameSelectorOptions">Tiles</label>').append(i("<select>").attr("class","custom-select").attr("id","tileLayersNameSelectorOptions")),"overlay"===t)var e=Object.keys(ListOverlayTileUrl);else if("base"===t)e=Object.keys(ListBaseTileUrl);else if("stamen"===t)e=Object.keys(ListStamenTileUrl);else if("text"===t)e=Object.keys(ListTextTileUrl);else if("carto"===t)e=Object.keys(ListCartoTileUrl);for(var n=0;n<e.length;n++)i("#tileLayersNameSelectorOptions").append(i("<option>",{text:String(e[n])}).attr("value",e[n]))}function B(t,e,n,i){var r=document.getElementById("layers"+n).value,s=document.getElementById("opacityLayer"+n).value,a=document.getElementById("strokeColorpicker"+n).value,l=document.getElementById("fillColorpicker"+n).value;Object.keys(e.base).includes(Object.keys(ListUrl))?t.removeLayer(E(t,r)):Object(o.b)(r),e.base[r]={};H(t,ListUrl[r],r,i,s,a,l);e.base[r].style={stroke:a,fill:l,opacity:s},e.base[r].attributions=i,e.base[r].added=!1}function I(t,e){var n=document.getElementById("URLBaseLayer").value,i=document.getElementById("NameBaseLayer").value,r=document.getElementById("attributionsBaseLayer").value,s=document.getElementById("opacityLayerURL").value,a=document.getElementById("strokeColorpickerURL").value,l=document.getElementById("fillColorpickerURL").value;Object.keys(e.base).includes(Object.keys(ListUrl))?t.removeLayer(E(t,i)):Object(o.b)(i),e.base[i]={};H(t,n,i,r,s,a,l);e.base[i].style={stroke:a,fill:l,opacity:s},e.base[i].url=n,e.base[i].attributions=r,e.base[i].added=!0}function S(t,e,n,i){var r=document.getElementById("opacityLayer"+n).value,o=document.getElementById("strokeColorpicker"+n).value,a=document.getElementById("fillColorpicker"+n).value;E(t,i).setStyle(Object(s.c)(r,o,a)),e.base[i].style={stroke:o,fill:a,opacity:r}}function O(t,e,n,i){var o=i[t].size.cat;return"Pow"===o?r["scale"+o]().exponent(2).domain([1,i[t].size.max]).range([0,i[t].size.ratio])(e+1)*Math.PI*n:"Sqrt"===o?r["scale"+o]().domain([1,i[t].size.max/Math.PI]).range([0,i[t].size.ratio])(e/Math.PI+1)*n:r["scale"+o]().domain([0,i[t].size.max]).range([0,i[t].size.ratio])(e)*n}function M(t,e,n,i){var o=i[t].size.cat;return"Log"===o?r["scale"+o]().domain([1,i[t].size.max]).range([1,i[t].size.ratio])(e+1)*n:"Pow"===o?r["scale"+o]().exponent(2).domain([1,i[t].size.max]).range([1,i[t].size.ratio])(e)*n:r["scale"+o]().domain([0,i[t].size.max]).range([1,i[t].size.ratio])(e)*n}function T(){var e,n=Q("node"),i=Q("link"),r=null,o=global_data.style;if(map.removeControl(global_data.legend.link.legend),map.removeControl(global_data.legend.link.color),map.removeControl(global_data.legend.node.legend),map.removeControl(global_data.legend.node.color),map.removeControl(global_data.legend.node.opa),map.removeControl(global_data.legend.link.opa),"fixed"!==global_data.style.link.size.var){var a=new h.a({title:global_data.style.link.size.var,style:F,target:r,margin:0});e=a,null===r&&e.setProperties({collapsible:!0}),map.addControl(a);var l=[global_data.style.link.size.max,(global_data.style.link.size.max-global_data.style.link.size.min)/2,global_data.style.link.size.min];for(var u in l)a.addRow(),a.addRow({title:N(l[u]),properties:{pop:l[u]},typeGeom:"LineString"});a.addRow(),r=a.element,global_data.legend.link.legend=a}if("fixed"!==global_data.style.link.color.var){var c=new h.a({title:global_data.style.link.color.var,target:r,margin:0});map.addControl(c),k(c,o.link.color.cat,"link",o,i.color),r=c.element,global_data.legend.link.color=c}if("fixed"!==global_data.style.link.opa.var){var f=new h.a({title:global_data.style.link.opa.var,target:r,margin:0});map.addControl(f),L(f,o.link.opa.cat,"link",o),r=f.element,global_data.legend.link.opa=f}if("fixed"!==global_data.style.node.size.var){var p=new h.a({title:global_data.style.node.size.var,style:s.b,target:r,margin:0});map.addControl(p);l=[global_data.style.node.size.max,(global_data.style.node.size.max-global_data.style.node.size.min)/2,global_data.style.node.size.min];for(var u in l)p.addRow(),p.addRow({title:N(l[u]),properties:{pop:l[u]},typeGeom:"Point"});p.addRow(),r=p.element,global_data.legend.node.legend=p}if("fixed"!==global_data.style.node.color.var){var d=new h.a({title:global_data.style.node.color.var,target:r,margin:0});map.addControl(d),k(d,o.node.color.cat,"node",o,n.color),r=d.element,global_data.legend.node.color=d}if("fixed"!==global_data.style.node.opa.var){var A=new h.a({title:global_data.style.node.opa.var,target:r,margin:0});map.addControl(A),L(A,o.node.opa.cat,"node",o),r=A.element,global_data.legend.node.opa=A}t.leg=a}function N(t){return t<=10&&t>=-10?Number(t).toFixed(2):t>=1e5||t<=-1e5?Number(t).toExponential(2):Math.round(t).toString()}function k(t,e,n,i,r){if("number"===e)for(var o=Object(u.g)(n),s=(i[n].color.max-i[n].color.min)/7,a=0;a<7;a++)0===a?t.addRow({title:N(i[n].color.max),typeGeom:"Polygon",style:new p.c({fill:new d.a({color:r(i[n].color.max)})})}):3===a?i[n].color.min<0||i[n].color.max<0?t.addRow({title:"0",typeGeom:"Polygon",style:new p.c({fill:new d.a({color:r(0)})})}):t.addRow({title:N((i[n].color.max-i[n].color.min)/2),typeGeom:"Polygon",style:new p.c({fill:new d.a({color:r(i[n].color.max-a*s)})})}):6===a?t.addRow({title:N(i[n].color.min),typeGeom:"Polygon",style:new p.c({fill:new d.a({color:r(i[n].color.min)})})}):t.addRow({typeGeom:"Polygon",style:new p.c({fill:new d.a({color:r(i[n].color.max-a*s)})})});else if("categorical"===e){o=Object(u.f)(n);for(var a in o)t.addRow({title:a,typeGeom:"Polygon",style:[new p.c({fill:new d.a({color:[255,255,255,1]})}),new p.c({fill:new d.a({color:o[a]})})]})}}function L(t,e,n,i){var r=Object(u.h)(n),o=0;for(var s in r)0===o?t.addRow({title:N(i[n].opa.vmax),typeGeom:"Polygon",style:new p.c({fill:new d.a({color:r[s][1]})})}):3===o?t.addRow({title:N(r[s][0]),typeGeom:"Polygon",style:new p.c({fill:new d.a({color:r[s][1]})})}):6===o?t.addRow({title:N(0),typeGeom:"Polygon",style:new p.c({fill:new d.a({color:r[s][1]})})}):t.addRow({typeGeom:"Polygon",style:new p.c({fill:new d.a({color:r[s][1]})})}),o+=1}function F(t){return[new p.c({stroke:new A.a({color:"grey",width:M("link",t.get("pop"),global_data.style.ratioBounds,global_data.style)/map.getView().getResolution(),opacity:.5})})]}function R(t,e,n,i,r,a,u,h){var p=0,d=0,A=0,m=1;if(null!==E(t,"link")){var y=E(t,"link");m=y.getOpacity();t.removeLayer(y)}else Object(o.e)("link");performance.now();for(var b,w=h[1],x=Object.keys(h[0]),C=D(e,u,r,a),B=Object.keys(C),I=[],S=0;S<B.length;S++)for(var T=Object.keys(C[B[S]]),N=0;N<T.length;N++){var k={ori:null,dest:null,layer:"link"};k.opa={name:i.link.opa.var,value:null},k.size={name:i.link.size.var,value:null},k.color={name:i.link.color.var,value:null};var L=C[B[S]][T[N]];A=L.length,k.ori=B[S],k.dest=T[N];var F=n[B[S]].properties.centroid,R=n[T[N]].properties.centroid,P=0,U=0;if("fixed"===i.node.size.var?(P=Number(i.node.size.ratio)*i.ratioBounds,U=Number(i.node.size.ratio)*i.ratioBounds):null!==i.node.size.var&&(P=x.includes(B[S])?O("node",Number(n[B[S]].properties[i.node.size.var]),i.ratioBounds,i):5*i.ratioBounds,U=x.includes(T[N])?O("node",Number(n[T[N]].properties[i.node.size.var]),i.ratioBounds,i):5*i.ratioBounds),"fixed"!==i.link.size.var)var Q=M("link",H=Object(c.f)(L.map((function(t){return Number(e[t][i.link.size.var])}))),i.ratioBounds,i);else{Q=Number(i.link.size.ratio)*i.ratioBounds;var H=Number(i.link.size.ratio)*i.ratioBounds}if("fixed"!==i.link.color.var)var j=Object(c.f)(L.map((function(t){return Number(e[t][i.link.color.var])})));else j=Number(i.link.size.ratio)*i.ratioBounds;var z=-1;if("fixed"!==i.link.opa.var)z=Object(c.f)(L.map((function(t){return Number(e[t][i.link.opa.var])})));k[global_data.ids.vol]=Object(c.f)(L.map((function(t){return Number(e[t][global_data.ids.vol])}))),b=Object(l.b)(i,F,R,P,U,Q);var K=new f.a(new g.a([b]));k.size.value=H,k.opa.value=z,k.color.value=j,K.setProperties(k),!x.includes(B[S])&&!x.includes(T[N])||w.includes(T[N])||w.includes(B[S])||(p+=A,d+=sum(L.map((function(t){return Number(e[t][global_data.ids.vol])}))),I.push(K))}document.getElementById("percentageVolumeData").innerHTML="Percentage of volume represented: "+(d/global_data.totalSum*100).toFixed(2)+"%",document.getElementById("percentageLinkData").innerHTML="Percentage of links represented: "+(p/data.links.length*100).toFixed(2)+"%";performance.now();var G=new _.a({features:I}),q=(performance.now(),new v.a({name:"link",source:G,style:s.d,renderMode:"image"}));performance.now();t.addLayer(q);performance.now();return q.setOpacity(m),q.changed(),q}function D(t,e,n,i){var r={};e.map((function(t){}));for(var o=0;o<e.length;o++){var s=t[e[o]];void 0===r[s[n]]?(r[s[n]]={},void 0===r[s[n]][s[i]]?r[s[n]][s[i]]=[e[o]]:r[s[n]][s[i]].push(e[o])):void 0===r[s[n]][s[i]]?r[s[n]][s[i]]=[e[o]]:r[s[n]][s[i]].push(e[o])}return r}function P(t,e,n,i,r){var s=new b.a({attributions:r,url:n,crossOrigin:"anonymous"}),a=new y.a({name:i,source:s});return e[i]={},e[i].url=n,e[i].attributions=r,t.addLayer(a),Object(o.c)(i),a}function U(t,e,n,i,r,l){var u=1;Q("node");if(null!==E(t,"node")){var c=E(t,"node");u=c.getOpacity(),t.removeLayer(c)}else Object(o.a)("node");Object(a.b)(n);var h=[],p=Object.keys(l[0]),d=function(t,e,n,i,r){var o=e.map((function(e){if(r.includes(t[e][n])||r.includes(t[e][i]))return[t[e][n],t[e][i]]}));return[...new Set(o.flat().filter((function(t){return t})))]}(e,r,global_data.ids.linkID[0],global_data.ids.linkID[1],p),A=Object.keys(n);document.getElementById("percentageNodeData").innerHTML="Percentage of nodes represented: "+(d.length/A.length*100).toFixed(2)+"%";for(var g=0;g<d.length;g++)if(p.includes(d[g])){var y=n[d[g]].properties.centroid;if("fixed"!==i.node.size.var)var b=O("node",Number(n[d[g]].properties[i.node.size.var]),i.ratioBounds,i);else b=Number(i.node.size.ratio)*i.ratioBounds;(w=new f.a(new m.a(y,b))).setProperties(n[d[g]].properties),w.setProperties({layer:"node"}),w.setProperties({selected:!0}),h.push(w)}else{var w;y=n[d[g]].properties.centroid,b=5*i.ratioBounds;(w=new f.a(new m.a(y,b))).setProperties(n[d[g]].properties),w.setProperties({layer:"node"}),w.setProperties({selected:!1}),h.push(w)}var x=new _.a({features:h}),C=new v.a({name:"node",source:x,renderMode:"image",style:s.a});return t.addLayer(C),C.setOpacity(u),C}function Q(t){var e={color:null,size:null,opa:null};return"number"===global_data.style[t].color.cat&&"fixed"!==global_data.style[t].color.var&&(global_data.style[t].color.min<0?e.color=r.scaleDiverging(r["interpolate"+global_data.style[t].color.palette]).domain([global_data.style[t].color.min,0,global_data.style[t].color.max]):e.color=r.scaleSequential(r["interpolate"+global_data.style[t].color.palette]).domain([global_data.style[t].color.min,global_data.style[t].color.max])),"fixed"!==global_data.style[t].opa.var&&(e.opa=r["scale"+global_data.style[t].opa.cat]().domain([0,Number(global_data.style[t].opa.vmax)]).range([Number(global_data.style[t].opa.min),Number(global_data.style[t].opa.max)])),e}function H(t,e,n,i,r,o,a){if(null!==global_data.projection.extent)var l=new v.a({name:n,source:new _.a({attributions:i,url:e,useSpatialIndex:!1,format:new w.a({})}),overlaps:!0});else l=new v.a({name:n,overlaps:!0,wrapX:!1,source:new _.a({attributions:i,url:e,useSpatialIndex:!1,format:new w.a({})})});return l.setOpacity(r),l.setStyle(Object(s.c)(r,o,a)),t.addLayer(l),l}function j(t,e,n,i,r,o){var a=new _.a({features:new w.a({featureProjection:global_data.projection.name}).readFeatures(e)}),l=new v.a({name:n,source:a});return l.setStyle(Object(s.c)(i,r,o)),t.addLayer(l),l}t.ListBaseTileUrl={OSM:{url:["https://a.tile.openstreetmap.org/{z}/{x}/{y}.png","https://b.tile.openstreetmap.org/{z}/{x}/{y}.png","https://c.tile.openstreetmap.org/{z}/{x}/{y}.png"],attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.']},Wikimedia:{url:"https://maps.wikimedia.org/osm-intl/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.']},"Humanitarian OSM":{url:"http://a.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.']},OSM_no_labels:{url:"https://tiles.wmflabs.org/osm-no-labels/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.']},wmflabs_OSM_BW:{url:"https://tiles.wmflabs.org/bw-mapnik/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.']},"Öpnvkarte_Transport_Map":{url:"http://tile.memomaps.de/tilegen/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.']}},t.ListStamenTileUrl={Toner:{url:"http://tile.stamen.com/toner/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.']},Toner_lite:{url:"http://tile.stamen.com/toner-lite/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.']},Toner_Lines:{url:"http://tile.stamen.com/toner-lines/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.']},Terrain:{url:"http://tile.stamen.com/terrain/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.']},Terrain_lines:{url:"http://tile.stamen.com/terrain-lines/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.']},Terrain_background:{url:"http://tile.stamen.com/terrain-background/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.']},WaterColor:{url:"http://tile.stamen.com/watercolor/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.']}},t.ListCartoTileUrl={Carto_Ligth_noLabels:{url:"https://a.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','© <a href="https://carto.com/attribution/">CARTO</a>']},Carto_Light:{url:"https://a.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','© <a href="https://carto.com/attribution/">CARTO</a>']},Carto_Light:{url:"https://a.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','© <a href="https://carto.com/attribution/">CARTO</a>']},Carto_Dark_noLabels:{url:"https://a.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','© <a href="https://carto.com/attribution/">CARTO</a>']},Carto_Dark:{url:"https://a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','© <a href="https://carto.com/attribution/">CARTO</a>']},voyager_nolabels:{url:"https://a.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','© <a href="https://carto.com/attribution/">CARTO</a>']},voyager:{url:"https://a.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','© <a href="https://carto.com/attribution/">CARTO</a>']}},t.ListOverlayTileUrl={OpenSeaMap:{url:"http://tiles.openseamap.org/seamark/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.']},"waymarkedtrails Cycling":{url:"https://tile.waymarkedtrails.org/cycling/{z}/{x}/{y}.png",attributions:['Données cartographiques © <a href="https://www.openstreetmap.org/#map=3/34.6/-7.9" class="osm-map-link ui-link">OpenStreetMap</a> sous <a href="https://www.openstreetmap.org/copyright" class="ui-link">ODbL</a> données altimétriques par <a href="help/acknowledgements" class="ui-link">SRTM/ASTER</a> Carte de fond: <span id="basemap-attribution"><a href="https://openstreetmap.org">OpenStreetMap</a>(<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-by-SA</a>)</span>']},"waymarkedtrails Hiking":{url:"https://tile.waymarkedtrails.org/hiking/{z}/{x}/{y}.png",attributions:['Données cartographiques © <a href="https://www.openstreetmap.org/#map=3/34.6/-7.9" class="osm-map-link ui-link">OpenStreetMap</a> sous <a href="https://www.openstreetmap.org/copyright" class="ui-link">ODbL</a> données altimétriques par <a href="help/acknowledgements" class="ui-link">SRTM/ASTER</a> Carte de fond: <span id="basemap-attribution"><a href="https://openstreetmap.org">OpenStreetMap</a>(<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-by-SA</a>)</span>']}},t.ListTextTileUrl={Stamen_Toner_labels:{url:"http://a.tile.stamen.com/toner-labels/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.']},Stamen_Terrain_Labels:{url:"http://a.tile.stamen.com/terrain-labels/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>. Data by <a href="http://openstreetmap.org">OpenStreetMap</a>, under <a href="http://www.openstreetmap.org/copyright">ODbL</a>.']},Carto_Dark_labels:{url:"https://a.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','© <a href="https://carto.com/attribution/">CARTO</a>']},Carto_Light_labels:{url:"https://a.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','© <a href="https://carto.com/attribution/">CARTO</a>']},voyager_nolabels:{url:"https://a.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}.png",attributions:['© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.','© <a href="https://carto.com/attribution/">CARTO</a>']}},t.ListUrl={graticules_20:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_graticules_20.geojson",countries:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_admin_0_countries.geojson",urban_area:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_urban_areas.geojson",bounding_box:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_wgs84_bounding_box.geojson",river:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_rivers_lake_centerlines_scale_rank.geojson",land:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_50m_land.geojson",lakes:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_lakes.geojson",graticules_5:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_graticules_5.geojson",airports:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_airports.geojson",disputed_borders:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_admin_0_boundary_lines_disputed_areas.geojson",disputed_area:"https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_admin_0_disputed_areas.geojson"}}).call(this,n(57),n(55),n(121))},function(t,e,n){"use strict";e.a={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"g",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return h}));n(16);function i(t,e,n){return Math.min(Math.max(t,e),n)}var r="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2};function o(t,e,n,i,r,o){var a=r-n,l=o-i;if(0!==a||0!==l){var u=((t-n)*a+(e-i)*l)/(a*a+l*l);u>1?(n=r,i=o):u>0&&(n+=a*u,i+=l*u)}return s(t,e,n,i)}function s(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function a(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var s=Math.abs(t[o][n]);s>r&&(r=s,i=o)}if(0===r)return null;var a=t[i];t[i]=t[n],t[n]=a;for(var l=n+1;l<e;l++)for(var u=-t[l][n]/t[n][n],c=n;c<e+1;c++)n==c?t[l][c]=0:t[l][c]+=u*t[n][c]}for(var h=new Array(e),f=e-1;f>=0;f--){h[f]=t[f][e]/t[f][f];for(var p=f-1;p>=0;p--)t[p][e]-=t[p][f]*h[f]}return h}function l(t){return 180*t/Math.PI}function u(t){return t*Math.PI/180}function c(t,e){var n=t%e;return n*e<0?n+e:n}function h(t,e,n){return t+n*(e-t)}},function(t,e,n){"use strict";var i=n(112),r=n(1),o=n(9),s=n(82),a=n(29),l=6378137,u=Math.PI*l,c=[-u,-u,u,u],h=[-180,-85,180,85],f=function(t){function e(e){t.call(this,{code:e,units:a.b.METERS,extent:c,global:!0,worldExtent:h,getPointResolution:function(t,e){return t/Object(o.b)(e[1]/l)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),p=[new f("EPSG:3857"),new f("EPSG:102100"),new f("EPSG:102113"),new f("EPSG:900913"),new f("urn:ogc:def:crs:EPSG:6.18:3:3857"),new f("urn:ogc:def:crs:EPSG::3857"),new f("http://www.opengis.net/gml/srs/epsg.xml#3857")];function d(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=u,a=0;a<i;a+=r){o[a]=s*t[a]/180;var c=l*Math.log(Math.tan(Math.PI*(t[a+1]+90)/360));c>s?c=s:c<-s&&(c=-s),o[a+1]=c}return o}function A(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=0;s<i;s+=r)o[s]=180*t[s]/u,o[s+1]=360*Math.atan(Math.exp(t[s+1]/l))/Math.PI-90;return o}var g=[-180,-90,180,90],m=6378137*Math.PI/180,v=function(t){function e(e,n){t.call(this,{code:e,units:a.b.DEGREES,extent:g,axisOrientation:n,global:!0,metersPerUnit:m,worldExtent:g})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),y=[new v("CRS:84"),new v("EPSG:4326","neu"),new v("urn:ogc:def:crs:EPSG::4326","neu"),new v("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new v("urn:ogc:def:crs:OGC:1.3:CRS84"),new v("urn:ogc:def:crs:OGC:2:84"),new v("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new v("urn:x-ogc:def:crs:EPSG:4326","neu")],_={};var b,w,E,x=n(67);function C(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function B(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function I(t){!function(t,e){_[t]=e}(t.getCode(),t),Object(x.a)(t,t,C)}function S(t){return"string"==typeof t?_[t]||null:t||null}function O(t,e,n,r){var o,s=(t=S(t)).getPointResolutionFunc();if(s)o=s(e,n);else if(t.getUnits()==a.b.DEGREES&&!r||r==a.b.DEGREES)o=e;else{var l=F(t,S("EPSG:4326")),u=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];u=l(u,u,2),o=(Object(i.a)(u.slice(0,2),u.slice(2,4))+Object(i.a)(u.slice(4,6),u.slice(6,8)))/2;var c=r?a.a[r]:t.getMetersPerUnit();void 0!==c&&(o/=c)}return o}function M(t){!function(t){t.forEach(I)}(t),t.forEach((function(e){t.forEach((function(t){e!==t&&Object(x.a)(e,t,C)}))}))}function T(t,e){return t?"string"==typeof t?S(t):t:S(e)}function N(t){return function(e,n,i){for(var r=e.length,o=void 0!==i?i:2,s=void 0!==n?n:new Array(r),a=0;a<r;a+=o){var l=t([e[a],e[a+1]]);s[a]=l[0],s[a+1]=l[1];for(var u=o-1;u>=2;--u)s[a+u]=e[a+u]}return s}}function k(t,e,n,i){var r=S(t),o=S(e);Object(x.a)(r,o,N(n)),Object(x.a)(o,r,N(i))}function L(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:F(t,e)===C&&n}function F(t,e){var n=t.getCode(),i=e.getCode(),r=Object(x.c)(n,i);return r||(r=B),r}function R(t,e){return F(S(t),S(e))}function D(t,e,n){return R(e,n)(t,void 0,t.length)}function P(t,e,n){var i=R(e,n);return Object(r.a)(t,i)}n.d(e,"e",(function(){return I})),n.d(e,"h",(function(){return S})),n.d(e,"i",(function(){return O})),n.d(e,"d",(function(){return M})),n.d(e,"f",(function(){return T})),n.d(e,"c",(function(){return k})),n.d(e,"g",(function(){return L})),n.d(e,"j",(function(){return R})),n.d(e,"k",(function(){return D})),n.d(e,"l",(function(){return P})),n.d(e,"a",(function(){return a.a})),n.d(e,"b",(function(){return s.a})),M(p),M(y),b=p,w=d,E=A,y.forEach((function(t){b.forEach((function(e){Object(x.a)(t,e,w),Object(x.a)(e,t,E)}))}))},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5}},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"a",(function(){return c})),n.d(e,"f",(function(){return h})),n.d(e,"h",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return d}));var i=n(16),r=new Array(6);function o(){return[1,0,0,1,0,0]}function s(t){return l(t,1,0,0,1,0,0)}function a(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],l=e[0],u=e[1],c=e[2],h=e[3],f=e[4],p=e[5];return t[0]=n*l+r*u,t[1]=i*l+o*u,t[2]=n*c+r*h,t[3]=i*c+o*h,t[4]=n*f+r*p+s,t[5]=i*f+o*p+a,t}function l(t,e,n,i,r,o,s){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t}function u(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function c(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function h(t,e,n){return a(t,l(r,e,0,0,n,0,0))}function f(t,e,n){return a(t,l(r,1,0,0,1,e,n))}function p(t,e,n,i,r,o,s,a){var l=Math.sin(o),u=Math.cos(o);return t[0]=i*u,t[1]=r*l,t[2]=-i*l,t[3]=r*u,t[4]=s*i*u-a*i*l+e,t[5]=s*r*l+a*r*u+n,t}function d(t){var e,n=(e=t)[0]*e[3]-e[1]*e[2];Object(i.a)(0!==n,32);var r=t[0],o=t[1],s=t[2],a=t[3],l=t[4],u=t[5];return t[0]=a/n,t[1]=-o/n,t[2]=-s/n,t[3]=r/n,t[4]=(s*u-a*l)/n,t[5]=-(r*u-o*l)/n,t}},function(t,e,n){"use strict";var i=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},r=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return i(e(t),n)}),{left:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)<0?i=o+1:r=o}return i},right:function(e,n,i,r){for(null==i&&(i=0),null==r&&(r=e.length);i<r;){var o=i+r>>>1;t(e[o],n)>0?r=o:i=o+1}return i}}};var o=r(i),s=o.right,a=o.left,l=s,u=function(t,e){null==e&&(e=c);for(var n=0,i=t.length-1,r=t[0],o=new Array(i<0?0:i);n<i;)o[n]=e(r,r=t[++n]);return o};function c(t,e){return[t,e]}var h=function(t,e,n){var i,r,o,s,a=t.length,l=e.length,u=new Array(a*l);for(null==n&&(n=c),i=o=0;i<a;++i)for(s=t[i],r=0;r<l;++r,++o)u[o]=n(s,e[r]);return u},f=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},p=function(t){return null===t?NaN:+t},d=function(t,e){var n,i,r=t.length,o=0,s=-1,a=0,l=0;if(null==e)for(;++s<r;)isNaN(n=p(t[s]))||(l+=(i=n-a)*(n-(a+=i/++o)));else for(;++s<r;)isNaN(n=p(e(t[s],s,t)))||(l+=(i=n-a)*(n-(a+=i/++o)));if(o>1)return l/(o-1)},A=function(t,e){var n=d(t,e);return n?Math.sqrt(n):n},g=function(t,e){var n,i,r,o=t.length,s=-1;if(null==e){for(;++s<o;)if(null!=(n=t[s])&&n>=n)for(i=r=n;++s<o;)null!=(n=t[s])&&(i>n&&(i=n),r<n&&(r=n))}else for(;++s<o;)if(null!=(n=e(t[s],s,t))&&n>=n)for(i=r=n;++s<o;)null!=(n=e(t[s],s,t))&&(i>n&&(i=n),r<n&&(r=n));return[i,r]},m=Array.prototype,v=m.slice,y=m.map,_=function(t){return function(){return t}},b=function(t){return t},w=function(t,e,n){t=+t,e=+e,n=(r=arguments.length)<2?(e=t,t=0,1):r<3?1:+n;for(var i=-1,r=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(r);++i<r;)o[i]=t+i*n;return o},E=Math.sqrt(50),x=Math.sqrt(10),C=Math.sqrt(2),B=function(t,e,n){var i,r,o,s,a=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((i=e<t)&&(r=t,t=e,e=r),0===(s=I(t,e,n))||!isFinite(s))return[];if(s>0)for(t=Math.ceil(t/s),e=Math.floor(e/s),o=new Array(r=Math.ceil(e-t+1));++a<r;)o[a]=(t+a)*s;else for(t=Math.floor(t*s),e=Math.ceil(e*s),o=new Array(r=Math.ceil(t-e+1));++a<r;)o[a]=(t-a)/s;return i&&o.reverse(),o};function I(t,e,n){var i=(e-t)/Math.max(0,n),r=Math.floor(Math.log(i)/Math.LN10),o=i/Math.pow(10,r);return r>=0?(o>=E?10:o>=x?5:o>=C?2:1)*Math.pow(10,r):-Math.pow(10,-r)/(o>=E?10:o>=x?5:o>=C?2:1)}function S(t,e,n){var i=Math.abs(e-t)/Math.max(0,n),r=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),o=i/r;return o>=E?r*=10:o>=x?r*=5:o>=C&&(r*=2),e<t?-r:r}var O=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},M=function(){var t=b,e=g,n=O;function i(i){var r,o,s=i.length,a=new Array(s);for(r=0;r<s;++r)a[r]=t(i[r],r,i);var u=e(a),c=u[0],h=u[1],f=n(a,c,h);Array.isArray(f)||(f=S(c,h,f),f=w(Math.ceil(c/f)*f,h,f));for(var p=f.length;f[0]<=c;)f.shift(),--p;for(;f[p-1]>h;)f.pop(),--p;var d,A=new Array(p+1);for(r=0;r<=p;++r)(d=A[r]=[]).x0=r>0?f[r-1]:c,d.x1=r<p?f[r]:h;for(r=0;r<s;++r)c<=(o=a[r])&&o<=h&&A[l(f,o,0,p)].push(i[r]);return A}return i.value=function(e){return arguments.length?(t="function"==typeof e?e:_(e),i):t},i.domain=function(t){return arguments.length?(e="function"==typeof t?t:_([t[0],t[1]]),i):e},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?_(v.call(t)):_(t),i):n},i},T=function(t,e,n){if(null==n&&(n=p),i=t.length){if((e=+e)<=0||i<2)return+n(t[0],0,t);if(e>=1)return+n(t[i-1],i-1,t);var i,r=(i-1)*e,o=Math.floor(r),s=+n(t[o],o,t);return s+(+n(t[o+1],o+1,t)-s)*(r-o)}},N=function(t,e,n){return t=y.call(t,p).sort(i),Math.ceil((n-e)/(2*(T(t,.75)-T(t,.25))*Math.pow(t.length,-1/3)))},k=function(t,e,n){return Math.ceil((n-e)/(3.5*A(t)*Math.pow(t.length,-1/3)))},L=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&n>i&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&n>i&&(i=n);return i},F=function(t,e){var n,i=t.length,r=i,o=-1,s=0;if(null==e)for(;++o<i;)isNaN(n=p(t[o]))?--r:s+=n;else for(;++o<i;)isNaN(n=p(e(t[o],o,t)))?--r:s+=n;if(r)return s/r},R=function(t,e){var n,r=t.length,o=-1,s=[];if(null==e)for(;++o<r;)isNaN(n=p(t[o]))||s.push(n);else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))||s.push(n);return T(s.sort(i),.5)},D=function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--s]=i[e];return n},P=function(t,e){var n,i,r=t.length,o=-1;if(null==e){for(;++o<r;)if(null!=(n=t[o])&&n>=n)for(i=n;++o<r;)null!=(n=t[o])&&i>n&&(i=n)}else for(;++o<r;)if(null!=(n=e(t[o],o,t))&&n>=n)for(i=n;++o<r;)null!=(n=e(t[o],o,t))&&i>n&&(i=n);return i},U=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},Q=function(t,e){if(n=t.length){var n,r,o=0,s=0,a=t[s];for(null==e&&(e=i);++o<n;)(e(r=t[o],a)<0||0!==e(a,a))&&(a=r,s=o);return 0===e(a,a)?s:void 0}},H=function(t,e,n){for(var i,r,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)r=Math.random()*o--|0,i=t[o+e],t[o+e]=t[r+e],t[r+e]=i;return t},j=function(t,e){var n,i=t.length,r=-1,o=0;if(null==e)for(;++r<i;)(n=+t[r])&&(o+=n);else for(;++r<i;)(n=+e(t[r],r,t))&&(o+=n);return o},z=function(t){if(!(r=t.length))return[];for(var e=-1,n=P(t,K),i=new Array(n);++e<n;)for(var r,o=-1,s=i[e]=new Array(r);++o<r;)s[o]=t[o][e];return i};function K(t){return t.length}var G=function(){return z(arguments)};n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return f})),n.d(e,"h",(function(){return A})),n.d(e,"i",(function(){return g})),n.d(e,"j",(function(){return M})),n.d(e,"w",(function(){return N})),n.d(e,"x",(function(){return k})),n.d(e,"y",(function(){return O})),n.d(e,"k",(function(){return L})),n.d(e,"l",(function(){return F})),n.d(e,"m",(function(){return R})),n.d(e,"n",(function(){return D})),n.d(e,"o",(function(){return P})),n.d(e,"p",(function(){return u})),n.d(e,"q",(function(){return U})),n.d(e,"r",(function(){return T})),n.d(e,"s",(function(){return w})),n.d(e,"t",(function(){return Q})),n.d(e,"u",(function(){return H})),n.d(e,"v",(function(){return j})),n.d(e,"B",(function(){return B})),n.d(e,"z",(function(){return I})),n.d(e,"A",(function(){return S})),n.d(e,"C",(function(){return z})),n.d(e,"D",(function(){return d})),n.d(e,"E",(function(){return G}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s}));var i="function"==typeof Object.assign?Object.assign:function(t,e){var n=arguments;if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1,o=arguments.length;r<o;++r){var s=n[r];if(null!=s)for(var a in s)s.hasOwnProperty(a)&&(i[a]=s[a])}return i};function r(t){for(var e in t)delete t[e]}function o(t){var e=[];for(var n in t)e.push(t[n]);return e}function s(t){var e;for(e in t)return!1;return!e}},function(t,e,n){"use strict";function i(t,e,n){for(var i,o,s=n||r,a=0,l=t.length,u=!1;a<l;)(o=+s(t[i=a+(l-a>>1)],e))<0?a=i+1:(l=i,u=!o);return u?a:~a}function r(t,e){return t>e?1:t<e?-1:0}function o(t,e){return t.indexOf(e)>=0}function s(t,e,n){var i,r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;if(n>0){for(i=1;i<r;++i)if(t[i]<e)return i-1}else if(n<0){for(i=1;i<r;++i)if(t[i]<=e)return i}else for(i=1;i<r;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return r-1}function a(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function l(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function u(t,e){var n=t.indexOf(e),i=n>-1;return i&&t.splice(n,1),i}function c(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function h(t,e){var n,i=t.length,r=Array(t.length);for(n=0;n<i;n++)r[n]={index:n,value:t[n]};for(r.sort((function(t,n){return e(t.value,n.value)||t.index-n.index})),n=0;n<t.length;n++)t[n]=r[n].value}function f(t,e,n){var i=e||r;return t.every((function(e,r){if(0===r)return!0;var o=i(t[r-1],e);return!(o>0||n&&0===o)}))}n.d(e,"a",(function(){return i})),n.d(e,"g",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"i",(function(){return a})),n.d(e,"c",(function(){return l})),n.d(e,"h",(function(){return u})),n.d(e,"b",(function(){return c})),n.d(e,"j",(function(){return h})),n.d(e,"e",(function(){return f}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(122);function r(t,e){if(!t)throw new i.a(e)}},function(t,e,n){"use strict";function i(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function r(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}function o(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}function s(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function a(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){for(;t.lastChild;)t.removeChild(t.lastChild)}n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"d",(function(){return l}))},function(t,e,n){"use strict";n.d(e,"b",(function(){return h}));var i=n(4),r=n(71),o=n(70),s=n(34),a=n(14),l=function(t){function e(e,n,i){t.call(this,e),this.key=n,this.oldValue=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),u=function(t){function e(e){t.call(this),Object(i.c)(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return Object(a.a)({},this.values_)},e.prototype.notify=function(t,e){var n;n=h(t),this.dispatchEvent(new l(n,t,e)),n=r.a.PROPERTYCHANGE,this.dispatchEvent(new l(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(o.a),c={};function h(t){return c.hasOwnProperty(t)?c[t]:c[t]="change:"+t}e.a=u},function(t,e,n){"use strict";e.a={ANIMATING:0,INTERACTING:1}},function(t,e,n){"use strict";function i(){return!0}function r(){return!1}function o(){}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return o}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return h})),n.d(e,"h",(function(){return f})),n.d(e,"j",(function(){return p})),n.d(e,"g",(function(){return d})),n.d(e,"i",(function(){return A})),n.d(e,"k",(function(){return g})),n.d(e,"e",(function(){return m}));var i=n(22),r=n(16),o=n(20),s=n(23),a=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},l=function(t){return t.target.getTargetElement()===document.activeElement},u=o.b,c=function(t){var e=t.originalEvent;return 0==e.button&&!(s.i&&s.d&&e.ctrlKey)},h=o.a,f=function(t){return"pointermove"==t.type},p=function(t){return t.type==i.a.SINGLECLICK},d=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},A=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},g=function(t){var e=t.originalEvent.target.tagName;return"INPUT"!==e&&"SELECT"!==e&&"TEXTAREA"!==e},m=function(t){var e=t.pointerEvent;return Object(r.a)(void 0!==e,56),"mouse"==e.pointerType}},function(t,e,n){"use strict";var i=n(8);e.a={SINGLECLICK:"singleclick",CLICK:i.a.CLICK,DBLCLICK:i.a.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"}},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"g",(function(){return o})),n.d(e,"i",(function(){return s})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"f",(function(){return h})),n.d(e,"e",(function(){return f}));var i="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",r=-1!==i.indexOf("firefox"),o=-1!==i.indexOf("safari")&&-1==i.indexOf("chrom"),s=-1!==i.indexOf("webkit")&&-1==i.indexOf("edge"),a=-1!==i.indexOf("macintosh"),l=window.devicePixelRatio||1,u=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),c=(navigator,"ontouchstart"in window),h="PointerEvent"in window,f=!!navigator.msPointerEnabled},function(t,e,n){"use strict";var i=n(18),r=n(39),o="active",s=n(9);n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return f})),n.d(e,"g",(function(){return p}));var a=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(o)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(o,t)},e.prototype.setMap=function(t){this.map_=t},e}(i.a);function l(t,e,n){var i=t.getCenter();if(i){var o=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);n?t.animate({duration:n,easing:r.d,center:o}):t.setCenter(o)}}function u(t,e,n,i){e=t.constrainRotation(e,0),c(t,e,n,i)}function c(t,e,n,i){if(void 0!==e){var o=t.getRotation(),s=t.getCenter();void 0!==o&&s&&i>0?t.animate({rotation:e,anchor:n,duration:i,easing:r.b}):t.rotate(e,n)}}function h(t,e,n,i,r){e=t.constrainResolution(e,0,r),p(t,e,n,i)}function f(t,e,n,i){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var a=t.getResolutions();o=Object(s.a)(o,t.getMinResolution()||a[a.length-1],t.getMaxResolution()||a[0])}if(n&&void 0!==o&&o!==r){var l=t.getCenter(),u=t.calculateCenterZoom(o,n);u=t.constrainCenter(u),n=[(o*l[0]-r*u[0])/(o-r),(o*l[1]-r*u[1])/(o-r)]}p(t,o,n,i)}function p(t,e,n,i){if(e){var o=t.getResolution(),s=t.getCenter();if(void 0!==o&&s&&e!==o&&i)t.animate({resolution:e,anchor:n,duration:i,easing:r.b});else{if(n){var a=t.calculateCenterZoom(e,n);t.setCenter(a)}t.setResolution(e)}}}e.a=a},function(t,e,n){"use strict";(function(t,i){n.d(e,"m",(function(){return f})),n.d(e,"g",(function(){return p})),n.d(e,"h",(function(){return d})),n.d(e,"f",(function(){return A})),n.d(e,"l",(function(){return m})),n.d(e,"a",(function(){return _})),n.d(e,"j",(function(){return b})),n.d(e,"i",(function(){return w})),n.d(e,"k",(function(){return E})),n.d(e,"e",(function(){return k})),n.d(e,"c",(function(){return L})),n.d(e,"n",(function(){return P})),n.d(e,"d",(function(){return U})),n.d(e,"b",(function(){return Q}));var r=n(42),o=n(7),s=n(30),a=(n(141),n(173),{Category10:t.schemeCategory10,Accent:t.schemeAccent,Dark2:t.schemeDark2,Paired:t.schemePaired,Pastel1:t.schemePastel1,Pastel2:t.schemePastel2,Set1:t.schemeSet1,Set2:t.schemeSet2,Set3:t.schemeSet3});const l={BrBG:t.schemeBrBG,PRGn:t.schemePRGn,PiYG:t.schemePiYG,PuOr:t.schemePuOr,RdBu:t.schemeRdBu,RdGy:t.schemeRdGy,RdYlBu:t.schemeRdYlBu,RdYlGn:t.schemeRdYlGn,Spectral:t.schemeSpectral},u={Blues:t.schemeBlues,Greens:t.schemeGreens,Greys:t.schemeGreys,Oranges:t.schemeOranges,Purples:t.schemePurples,Reds:t.schemeReds},c={BuGn:t.schemeBuGn,BuPu:t.schemeBuPu,GnBu:t.schemeGnBu,OrRd:t.schemeOrRd,PuBuGn:t.schemePuBuGn,PuBu:t.schemePuBu,PuRd:t.schemePuRd,RdPu:t.schemeRdPu,YlGnBu:t.schemeYlGnBu,YlGn:t.schemeYlGn,YlOrBr:t.schemeYlOrBr,YlOrRd:t.schemeYlOrRd},h={Viridis:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Inferno:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Magma:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Plasma:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Warm:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Cool:[[],[],[],[],[],[],[],[],[],[],[],[],[]],CubehelixDefault:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Rainbow:[[],[],[],[],[],[],[],[],[],[],[],[],[]],Sinebow:[[],[],[],[],[],[],[],[],[],[],[],[],[]]};function f(t,e,n,r,s){document.getElementById("strokeColorpickerChange").value=s.stroke,document.getElementById("fillColorpickerChange").value=s.fill,document.getElementById("opacityLayer"+n).value=s.opacity,i("#addNewLayerButtonChange").replaceWith(i("#addNewLayerButtonChange").clone()),document.getElementById("addNewLayerButtonChange").addEventListener("click",(function(){Object(o.h)(t,global_data.layers,"Change",r)}))}function p(e,n){for(var i=[],r=global_data.style[e].color.min,o=global_data.style[e].color.max,s=0;s<7;s++){var a=(r+(o-r)/7*(7-s)-r)/(o-r);i.push([Number(o/(s+1)).toString(),t.color(t["interpolate"+global_data.style[e].color.palette](a)).rgb().toString()])}return i}function d(e){for(var n=[],i=global_data.style[e].opa.min,r=global_data.style[e].opa.vmax,o=global_data.style[e].opa.max,s=t.color("grey"),a=0;a<7;a++)s.opacity=o-a*(o-i)/7,n.push([Number(r/(a+1)),s.rgb().toString()]);return n}function A(e){for(var n={},i=global_data.style[e].categorialOrderedColors,r=!1,o=Object.keys(global_data.style[e].categorialOrderedColors),s=0;s<o.length;s++)typeof t.color("grey").rgb()!=typeof i[o[s]]?n[o[s]]=i[o[s]]:r=!0;return r&&(n.Others=t.color("grey").rgb().toString()),n}function g(t){t.link.geometry.type=document.getElementById("arrowtype").value,"CurveArrow"===document.getElementById("arrowtype").value||"CurveOneArrow"===document.getElementById("arrowtype").value?(t.link.geometry.place.base=Number(document.getElementById("baseCurveArrow").value),t.link.geometry.place.height=Number(document.getElementById("heightCurveArrow").value)):"StraightArrow"===document.getElementById("arrowtype").value&&(t.link.geometry.place.base=null,t.link.geometry.place.height=null),"oriented"===document.getElementById("arrowData").value&&"TriangleArrow"!==document.getElementById("arrowtype").value&&"CurveOneArrow"!==document.getElementById("arrowtype").value?(t.link.geometry.oriented=document.getElementById("arrowData").value,t.link.geometry.head.width=Number(document.getElementById("widthArrow").value),t.link.geometry.head.height=Number(document.getElementById("heightArrow").value)):(t.link.geometry.oriented=document.getElementById("arrowData").value,t.link.geometry.head.width=null,t.link.geometry.head.height=null)}function m(t,e){"link"===e&&g(t);var n=e.toLowerCase();if("node"===n){var r=document.getElementById("semioSelectorTextAdd"+e).value;t[n].text=r}else g(t);if("fixed"===document.getElementById("semioOpaBaseTypeAdd"+e).value)t[n].opa.var="fixed",t[n].opa.vmax=Number(document.getElementById("ratioMaxOpaAdd"+e).value);else{var o=document.getElementById("semioSelectorOpaAdd"+e).value;t[n].opa.var=o,t[n].opa.vmax=v(o,n)[1],t[n].opa.min=document.getElementById("ratioMinOpaAdd"+e).value,t[n].opa.max=document.getElementById("ratioMaxOpaAdd"+e).value,t[n].opa.cat=document.getElementById("typeOpaAdd"+e).value}var s=[0,0],a=[0,0];if("fixed"!==document.getElementById("semioSizeBaseTypeAdd"+e).value){s=y(document.getElementById("semioSelectorSizeAdd"+e).value,n);document.getElementById("typeSizeAdd"+e).value;t[n].size.var=document.getElementById("semioSelectorSizeAdd"+e).value,t[n].size.cat=document.getElementById("typeSizeAdd"+e).value,t[n].size.ratio=document.getElementById("ratioMinMaxSizeAdd"+e).value,t[n].size.max=s[1],t[n].size.min=s[0]}else t[n].size.var="fixed",t[n].size.ratio=document.getElementById("ratioMinMaxSizeAdd"+e).value,t[n].size.max=s[1],t[n].size.min=s[0];if("fixed"===document.getElementById("semioColorBaseTypeAdd"+e).value)t[n].color.var="fixed",t[n].color.palette=document.getElementById("semioColorpickerAdd"+e).value;else{var l=document.getElementById("semioSelectorColorAdd"+e).value,u=document.getElementById("typeColorAdd"+e).value;t[n].color.palette=i("#colorPickerAdd"+e).find(".selected").attr("value"),t[n].color.cat=u,a=[0,0],"number"===u&&(a=v(l,n)),"categorical"===u&&window[n+"OrderedCategory"](l,t[n]),t[n].color.var=document.getElementById("semioSelectorColorAdd"+e).value,t[n].color.inversed=document.getElementById("inversedColorPalette").checked,document.getElementById("inversedColorPalette").checked?(t[n].color.max=a[0],t[n].color.min=a[1]):(t[n].color.max=a[1],t[n].color.min=a[0])}_(n)}function v(t,e){if("node"===e)var n=Object.keys(data.hashedStructureData).map((function(e){return Number(data.hashedStructureData[e].properties[t])}));else if("link"===e){var i=Object(o.n)(data.links,[...Array(data.links.length).keys()],global_data.ids.linkID[0],global_data.ids.linkID[1]);n=Object.keys(i).map((function(e){return Object.keys(i[e]).map((function(n){if("sum"===global_data.files.aggr)return i[e][n].reduce((function(e,n){return e+Number(data.links[n][t])}),0);Math.max(...i[e][n].map((function(e){return Number(data.links[e][t])})))}))})).flat()}return[Math.min(...n),Math.max(...n)]}function y(t,e){if("node"===e)var n=Object.keys(data.hashedStructureData).map((function(e){return Number(data.hashedStructureData[e].properties[t])}));else if("link"===e){var i=Object(o.n)(data.links,[...Array(data.links.length).keys()],global_data.ids.linkID[0],global_data.ids.linkID[1]);n=Object.keys(i).map((function(e){return Object.keys(i[e]).map((function(n){if("sum"===global_data.files.aggr)return i[e][n].reduce((function(e,n){return e+Number(data.links[n][t])}),0);Math.max(...i[e][n].map((function(e){return Number(data.links[e][t])})))}))})).flat()}return[Math.min(...n),Math.max(...n)]}function _(t){var e=0,n=0,r=Object(s.k)(global_data.filter.link,data),a=Object(s.b)(data.hashedStructureData);performance.now();null!==Object(o.l)(map,"node")&&(n=Object(o.l)(map,"node").getZIndex()),null!==Object(o.l)(map,"link")&&(e=Object(o.l)(map,"link").getZIndex()),"node"===t?(null!==Object(o.l)(map,"link")&&(Object(o.j)(map,data.links,data.hashedStructureData,global_data.style,global_data.ids.linkID[0],global_data.ids.linkID[1],r,a),Object(o.l)(map,"link").setZIndex(e)),Object(o.f)(map,data.links,data.hashedStructureData,global_data.style,r,a),Object(o.l)(map,"node").setZIndex(n)):"link"===t&&(Object(o.j)(map,data.links,data.hashedStructureData,global_data.style,global_data.ids.linkID[0],global_data.ids.linkID[1],r,a),Object(o.l)(map,"link").setZIndex(e));performance.now();var l=0;i("#accordionLayerControl").find("li").each((function(){var t=i(this).attr("value");null!==Object(o.l)(map,t)&&Object(o.l)(map,t).setZIndex(-l),l+=1})),Object(o.e)()}function b(e,n){n.categorialOrderedColors={};let i={};Object.keys(data.hashedStructureData).map((function(t){return data.hashedStructureData[t].properties[e]})).forEach(t=>i[t]=1+(i[t]||0));for(var r=Object.keys(i).sort((function(t,e){return i[t]-i[e]})),o=a[n.color.palette].length,s=0;s<r.length;s++)n.categorialOrderedColors[r[s]]=s<o?a[n.color.palette][s]:t.color("grey").rgb()}function w(e,n){n.categorialOrderedColors={};let i={};data.links.map((function(t){return t[e]})).forEach(t=>i[t]=1+(i[t]||0));for(var r=Object.keys(i).sort((function(t,e){return i[t]-i[e]})),o=a[n.color.palette].length,s=0;s<r.length;s++)n.categorialOrderedColors[r[s]]=s<o?a[n.color.palette][s]:t.color("grey").rgb()}function E(t,e){if("node"===e)var n=Object.keys(data.hashedStructureData).map((function(e){return Number(data.hashedStructureData[e].properties[t])}));else if("link"===e)n=data.links.map((function(e){return Number(e[t])}));return[Math.min(...n),Math.max(...n)]}function x(t,e,n,r){if(null!==i("#semioSelectorColor"+e)&&(i("#semioColor"+e).children().remove(),i("#typeColor"+e).remove(),i("#labelTypeColor"+e).remove(),i("#colorPicker"+e).children().remove()),"varied"===document.getElementById("semioColorBaseType"+e).value){i("#semioColor"+e).append('<label class="text-muted h5" for="semioSelectorColor"'+e+">Variable</label>").append(i("<select>").attr("class","custom-select").attr("id","semioSelectorColor"+e));for(var o=0;o<r.length;o++)i("#semioSelectorColor"+e).append(i("<option>",{text:r[o]}).attr("value",r[o]));document.getElementById("semioSelectorColor"+e).addEventListener("change",(function(){M(n,e)})),M(n,e)}else N(e,n)}function C(t,e,n,r){i("#"+n).append(i("<div>").attr("class","col-md-12").append('<label class="text-muted h5">Variable</label>').append(i("<select>").attr("class","custom-select").attr("id","semioSelectorText"+e).append("<option selected disable>Choose...</option>")));for(var o=0;o<r.length;o++)i("#semioSelectorText"+e).append(i("<option>",{text:r[o]}).attr("value",r[o]))}function B(t,e,n,r){if(null!==i("#semioSelectorSize"+e)&&(i("#semioSelectorSize"+e).parent().remove(),i("#semioSizeRatio"+e).remove(),i("#semioSizeRatioCat"+e).remove(),i("#labelTypeSize"+e).remove(),i("#typeSize"+e).remove()),"varied"===document.getElementById("semioSizeBaseType"+e).value){i("#"+n).append(i("<div>").attr("class","col-md-2").append('<label class="text-muted h5">Variable</label>').append(i("<select>").attr("class","custom-select").attr("id","semioSelectorSize"+e)));for(var o=0;o<r.length;o++)i("#semioSelectorSize"+e).append(i("<option>",{text:r[o]}).attr("value",r[o]));return document.getElementById("semioSelectorSize"+e).addEventListener("change",(function(){O(n,e,t)})),void O(n,e,t)}O(n,e,t)}function I(t,e,n,r){if(null!==i("#semioSelectorOpa"+e)&&(i("#semioSelectorOpa"+e).parent().remove(),i("#semioOpaMinRatio"+e).remove(),i("#semioOpaMaxRatio"+e).remove(),i("#semioOpaRatioCat"+e).remove()),"varied"===document.getElementById("semioOpaBaseType"+e).value){i("#"+n).append(i("<div>").attr("class","col-md-2").append('<label class="text-muted h5">Variable</label>').append(i("<select>").attr("class","custom-select").attr("id","semioSelectorOpa"+e)));for(var o=0;o<r.length;o++)i("#semioSelectorOpa"+e).append(i("<option>",{text:r[o]}).attr("value",r[o]));return document.getElementById("semioSelectorOpa"+e).addEventListener("change",(function(){S(n,e)})),void S(n,e)}S(n,e)}function S(t,e){if(null!==document.getElementById("semioSelectorOpa"+e)&&(i("#semioOpaMinRatio"+e).remove(),i("#semioOpaMaxRatio"+e).remove(),i("#semioOpaRatioCat"+e).remove()),"varied"===document.getElementById("semioOpaBaseType"+e).value)return i("#"+t).append(i("<div>").attr("id","semioOpaRatioCat"+e).attr("class","col-md-3").append('<label class="text-muted h5">Scale</label>').append(i("<select>").attr("class","custom-select").attr("id","typeOpa"+e).append(i("<option>",{text:"Linear",value:"Linear"})).append(i("<option>",{text:"Square",value:"Pow"})).append(i("<option>",{text:"SquareRoot",value:"Sqrt"})).append(i("<option>",{text:"Logarithmic",value:"Log"})))),i("#"+t).append(i("<div>").attr("id","semioOpaMinRatio"+e).attr("class","col-md-2").append('<label class="text-muted h5">Min</label>').append(i("<input>").attr("class","form-control").attr("id","ratioMinOpa"+e).attr("min",0).attr("step",.05).attr("max",1).attr("type","number").attr("value",.25))),i("#"+t).append(i("<div>").attr("id","semioOpaMaxRatio"+e).attr("class","col-md-2").append('<label class="text-muted h5">Max</label>').append(i("<input>").attr("class","form-control").attr("id","ratioMaxOpa"+e).attr("min",0).attr("step",.05).attr("max",1).attr("type","number").attr("value",.85))),document.getElementById("ratioMaxOpa"+e).addEventListener("change",(function(){Number(document.getElementById("ratioMaxOpa"+e).valueAsNumber)>1&&(document.getElementById("ratioMaxOpa"+e).value=1),Number(document.getElementById("ratioMaxOpa"+e).valueAsNumber)<0&&(document.getElementById("ratioMaxOpa"+e).value=0)})),void document.getElementById("ratioMinOpa"+e).addEventListener("change",(function(){Number(document.getElementById("ratioMinOpa"+e).valueAsNumber)<0&&(document.getElementById("ratioMinOpa"+e).value=0),Number(document.getElementById("ratioMinOpa"+e).valueAsNumber)>1&&(document.getElementById("ratioMinOpa"+e).value=1)}));i("#"+t).append(i("<div>").attr("id","semioOpaMaxRatio"+e).attr("class","col-md-3").append('<label class="text-muted h5">Value</label>').append(i("<input>").attr("class","form-control").attr("id","ratioMaxOpa"+e).attr("min",0).attr("step",.05).attr("max",1).attr("type","number").attr("value",.85))),document.getElementById("ratioMaxOpa"+e).addEventListener("change",(function(){Number(document.getElementById("ratioMaxOpa"+e).valueAsNumber)>1&&(document.getElementById("ratioMaxOpa"+e).value=1),Number(document.getElementById("ratioMaxOpa"+e).valueAsNumber)<0&&(document.getElementById("ratioMaxOpa"+e).value=0)}))}function O(t,e,n){if(null!==document.getElementById("semioSelectorSize"+e)&&(i("#semioSizeRatio"+e).remove(),i("#semioSizeRatioCat"+e).remove()),"varied"===document.getElementById("semioSizeBaseType"+e).value){"link"===n?i("#"+t).append(i("<div>").attr("id","semioSizeRatioCat"+e).attr("class","col-md-4").append('<label class="text-muted h5">Scale</label>').append(i("<select>").attr("class","custom-select").attr("id","typeSize"+e).append(i("<option>",{text:"Linear",value:"Linear"})).append(i("<option>",{text:"Square",value:"Pow"})).append(i("<option>",{text:"SquareRoot",value:"Sqrt"})).append(i("<option>",{text:"Logarithmic",value:"Log"})))):i("#"+t).append(i("<div>").attr("id","semioSizeRatioCat"+e).attr("class","col-md-4").append('<label class="text-muted h5">Scale</label>').append(i("<select>").attr("class","custom-select").attr("id","typeSize"+e).append(i("<option>",{text:"Square",value:"Pow"})).append(i("<option>",{text:"SquareRoot",value:"Sqrt"})).append(i("<option>",{text:"Logarithmic",value:"Log"}))));var r='"it represent the max width in pixel of the visualisation "';return i("#"+t).append(i("<div>").attr("id","semioSizeRatio"+e).attr("class","col-md-4").append('<label class="text-muted h5">Ratio  <img class="small-icon" src="assets/svg/si-glyph-circle-info.svg" data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content='+r+"/></label>").append(i("<input>").attr("class","form-control").attr("id","ratioMinMaxSize"+e).attr("type","number").attr("value",100))),void i('[data-toggle="popover"]').popover()}r='"It is the fixed width in pixel for each links"';i("#"+t).append(i("<div>").attr("id","semioSizeRatio"+e).attr("class","col-md-4").append('<label class="text-muted h5">Width  <img class="small-icon" src="assets/svg/si-glyph-circle-info.svg" data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content='+r+"/></label>").append(i("<input>").attr("class","form-control").attr("id","ratioMinMaxSize"+e).attr("type","number").attr("value",10)))}function M(t,e){null!==i("#typeColor"+e)&&(i("#inversedColorPalette").parent().remove(),i("#typeColor"+e).remove(),i("#labelTypeColor"+e).remove(),i("#colorPicker"+e).children().remove()),"fixed"!==document.getElementById("semioSelectorColor"+e).value&&(i("#"+t).append('<label class="text-muted h5 mt-2" for="typeColor'+e+'" id="labelTypeColor'+e+'">Type</label>').append(i("<select>").attr("class","custom-select").attr("id","typeColor"+e).append(i("<option>",{text:"quantitative",value:"number"})).append(i("<option>",{text:"qualitative",value:"categorical"}))),document.getElementById("typeColor"+e).addEventListener("change",(function(){T(e,t)}))),T(e,t)}function T(e,n){if("fixed"===document.getElementById("semioSelectorColor"+e).value)return i("#colorPicker"+e).children().remove(),void N(e,n);null!==document.getElementById("semioSelectorColor"+e).value&&i("#colorPicker"+e).children().remove();var r=document.getElementById("typeColor"+e).value;null!==document.getElementById("colorPicker"+e)&&i("#colorPicker"+e).children().remove(),"categorical"===r?function(e,n){var r=Object.keys(a)[0],o="colorPicker"+e;i("#"+o).append('<label class="text-muted h5">Palette</label>').append(i("<div>").attr("class","row"));for(var s=Object.keys(a),l=0;l<s.length;l++){i("#"+o+">div").append(i("<div>").attr("id",s[l]+e).attr("value",s[l])),r===s[l]?(i("#"+s[l]+e).attr("class","ramps selected"),!1,r=s[l]):i("#"+s[l]+e).attr("class","ramps");for(var u='<svg width="15" height="120">',c=0;c<8;c++)u+='<rect fill="'+t.rgb(a[s[l]][c])+'" width="15" height="15" y="'+15*c+'"></rect>';u+="</svg>",i("#"+s[l]+e).append(u).click((function(){F(i(this),e)}))}}(e):"number"===r&&function(t,e){null!==i("#inversedColorPalette")&&i("#inversedColorPalette").parent().remove();Object.keys(l)[0];i("#semioColor"+t).append('<div class="form-check mt-2"><input class="form-check-input position-static" type="checkbox" id="inversedColorPalette"><label class="form-check-label text-muted h5" for="inversedColorPalette"> Inverse</label></div>'),i("#colorPicker"+t).append(i("<table>").attr("class","table-borderless").append(i("<tbody>").append(i("<tr>").append(i("<td>").append('<label class="text-muted h5" for="diverging'+t+'">Diverging</label>')).append(i("<td>").append('<label class="text-muted h5" for="diverging'+t+'">Extra Palettes</label>'))).append(i("<tr>").append(i("<td>").attr("id","diverging"+t)).append(i("<td>").attr("class","ml-1").attr("id","diverColor"+t))).append(i("<tr>").append(i("<td>").append('<label class="text-muted h4">Sequential</label>'))).append(i("<tr>").append(i("<td>").append('<label class="text-muted h5" for="multi'+t+'">Multi Hue</label>')).append(i("<td>").append('<label class="text-muted h5" for="single'+t+'">Single Hue</label>'))).append(i("<tr>").append(i("<td>").attr("id","multi"+t)).append(i("<td>").attr("class","ml-1").attr("id","single"+t))))),R(u,8,"single"+t,t),R(c,8,"multi"+t,t),R(l,8,"diverging"+t,t),R(h,8,"diverColor"+t,t)}(e)}function N(t,e){i("#"+("colorPicker"+t)).append('<label class="text-muted h5" for="semioColorpicker'+t+'">Choose color</label>').append('<input type="color" class="form-control col-md-4" id="semioColorpicker'+t+'" onchange="clickColor(0, -1, -1, 5)" value="#ff0000" style="width:85%;">')}function k(){for(var e=[0,1.5,3,4.5,5.5,7,8.5,10],n=Object.keys(h),i=0;i<e.length;i++)for(var r=0;r<n.length;r++)h[n[r]][8].push(t["interpolate"+n[r]](.1*e[i]))}function L(t,e){!function(t){i("#"+t).find(":selected").prop("selected",!1)}(e),t.prop("selected",!0)}function F(t,e){if(!t.hasClass("selected")){!function(t){i("#colorPicker"+t).find("div.selected").removeClass("selected").attr("ramps")}(e),t.attr("class","ramps selected");t.attr("value")}}function R(t,e,n,r){for(var o=Object.keys(t),s=0;s<o.length;s++){if(i("#"+n).append(i("<div>").attr("id",o[s]+r).attr("value",o[s])),a===o[s]){i("#"+o[s]+r).attr("class","ramps selected");var a=o[s]}else i("#"+o[s]+r).attr("class","ramps");i("#"+o[s]+r).append(D(t[o[s]][8],e)).click((function(){F(i(this),r)}))}}function D(e,n){for(var i='<svg width="15" height="'+15*n+'">',r=0;r<n;r++)i+='<rect fill="'+t.rgb(e[r])+'" width="15" height="15" y="'+15*r+'"></rect>';return i+="</svg>"}function P(t){null!==document.getElementById("semioTextAdd"+t)&&i("#semioTextAdd"+t).children().remove();var e=Object(r.f)(t.toLowerCase());i("#semioColorBaseTypeAdd"+t).replaceWith(i("#semioColorBaseTypeAdd"+t).clone()),document.getElementById("semioColorBaseTypeAdd"+t).addEventListener("change",(function(){x(0,"Add"+t,"semioColorAdd"+t,e)})),x(0,"Add"+t,"semioColorAdd"+t,e),i("#semioSizeBaseTypeAdd"+t).replaceWith(i("#semioSizeBaseTypeAdd"+t).clone()),document.getElementById("semioSizeBaseTypeAdd"+t).addEventListener("change",(function(){B(t,"Add"+t,"semioSizeAdd"+t,e)})),B(t,"Add"+t,"semioSizeAdd"+t,e),i("#semioOpaBaseTypeAdd"+t).replaceWith(i("#semioOpaBaseTypeAdd"+t).clone()),document.getElementById("semioOpaBaseTypeAdd"+t).addEventListener("change",(function(){I(name,"Add"+t,"semioOpaAdd"+t,e)})),I(name,"Add"+t,"semioOpaAdd"+t,e),"node"===t&&C(0,"Add"+t,"semioTextAdd"+t,e)}function U(t,e){null!==document.getElementById("semioTextChange"+t)&&i("#semioTextChange"+t).children().remove();var n=Object(r.f)(t);i("#changeStyleButton"+t).replaceWith(i("#changeStyleButton"+t).clone()),document.getElementById("changeStyleButton"+t).addEventListener("click",(function(){!function(t,e,n){var r=t.toLowerCase();if("node"===r){var o=document.getElementById("semioSelectorTextChange"+r).value;e[r].text=o}if("fixed"===document.getElementById("semioOpaBaseTypeChange"+r).value)e[r].opa.var="fixed",e[r].opa.vmax=Number(document.getElementById("ratioMaxOpaChange"+r).value);else{var s=document.getElementById("semioSelectorOpaChange"+r).value;e[r].opa.var=s,e[r].opa.vmax=v(s,r)[1],e[r].opa.min=document.getElementById("ratioMinOpaChange"+r).value,e[r].opa.max=document.getElementById("ratioMaxOpaChange"+r).value,e[r].opa.cat=document.getElementById("typeOpaChange"+r).value}var a=[0,0],l=[0,0];if("fixed"!==document.getElementById("semioSizeBaseTypeChange"+r).value){var u=document.getElementById("semioSelectorSizeChange"+r).value;a=y(u,r);document.getElementById("typeSizeChange"+r).value;e[r].size.var=document.getElementById("semioSelectorSizeChange"+r).value,e[r].size.cat=document.getElementById("typeSizeChange"+r).value,e[r].size.ratio=document.getElementById("ratioMinMaxSizeChange"+r).value,e[r].size.max=a[1],e[r].size.min=a[0]}else e[r].size.var="fixed",e[r].size.ratio=document.getElementById("ratioMinMaxSizeChange"+r).value,e[r].size.max=a[1],e[r].size.min=a[0];if("fixed"===document.getElementById("semioColorBaseTypeChange"+r).value)e[r].color.var="fixed",e[r].color.palette=document.getElementById("semioColorpickerChange"+r).value;else{var c=document.getElementById("semioSelectorColorChange"+r).value,h=document.getElementById("typeColorChange"+r).value;e[r].color.palette=i("#colorPickerChange"+r).find(".selected").attr("value"),e[r].color.cat=h,l=[0,0],"number"===h&&(l=v(c,r)),"categorical"===h&&window[r+"OrderedCategory"](c,e[r]),e[r].color.var=document.getElementById("semioSelectorColorChange"+r).value,document.getElementById("inversedColorPalette").checked?(e[r].color.max=l[0],e[r].color.min=l[1]):(e[r].color.max=l[1],e[r].color.min=l[0])}_(r)}(t,e,global_data.layers.features)})),i("#semioColorBaseTypeChange"+t).replaceWith(i("#semioColorBaseTypeChange"+t).clone()),document.getElementById("semioColorBaseTypeChange"+t).addEventListener("change",(function(){x(0,"Change"+t,"semioColorChange"+t,n)})),i("#semioSizeBaseTypeChange"+t).replaceWith(i("#semioSizeBaseTypeChange"+t).clone()),document.getElementById("semioSizeBaseTypeChange"+t).addEventListener("change",(function(){B(t,"Change"+t,"semioSizeChange"+t,n)})),i("#semioOpaBaseTypeChange"+t).replaceWith(i("#semioOpaBaseTypeChange"+t).clone()),document.getElementById("semioOpaBaseTypeChange"+t).addEventListener("change",(function(){I(0,"Change"+t,"semioOpaChange"+t,n)})),"node"===t&&C(0,"Change"+t,"semioTextChange"+t,n),function(t,e,n){"node"===t&&L(i("#semioSelectorTextChange"+t).children('[value="'+e.text+'"]'),"semioSelectorTextChange"+t);"fixed"!==e.color.var?(L(i("#semioColorBaseTypeChange"+t).children('[value="varied"]'),"semioColorBaseTypeChange"+t),x(0,"Change"+t,"semioColorChange"+t,n),L(i("#semioSelectorColorChange"+t).children('[value="'+e.color.var+'"]'),"semioSelectorColorChange"+t),M("semioColorChange"+t,"Change"+t),L(i("#typeColorChange"+t).children('[value="'+e.color.cat+'"]'),"typeColorChange"+t),T("Change"+t,"semioColorChange"+t),F(i("#colorPickerChange"+t).find('[value="'+e.color.palette+'"]'),"Change"+t),e.inversed?document.getElementById("inversedColorPalette").checked=!0:document.getElementById("inversedColorPalette").checked=!1):(L(i("#semioColorBaseTypeChange"+t).children('[value="fixed"]'),"semioColorBaseTypeChange"+t),x(0,"Change"+t,"semioColorChange"+t,n),document.getElementById("semioColorpickerChange"+t).value=e.color.palette);"fixed"!==e.size.var?(L(i("#semioSizeBaseTypeChange"+t).children('[value="varied"]'),"semioSizeBaseTypeChange"+t),B(t,"Change"+t,"semioSizeChange"+t,n),L(i("#semioSelectorSizeChange"+t).children('[value="'+e.size.var+'"]'),"semioSelectorSizeChange"+t),O("semioSizeChange"+t,"Change"+t,t.charAt(0).toUpperCase()+t.slice(1)),L(i("#typeSizeChange"+t).children('[value="'+e.size.cat+'"]'),"typeSizeChange"+t),i("#ratioMinMaxSizeChange"+t).attr("value",e.size.ratio)):(L(i("#semioColorBaseTypeChange"+t).children('[value="fixed"]'),"semioColorBaseTypeChange"+t),B(t,"Change"+t,"semioSizeChange"+t,n),i("#ratioMinMaxSizeChange"+t).attr("value",e.size.ratio));"fixed"!==e.opa.var?(L(i("#semioOpaBaseTypeChange"+t).children('[value="fixed"]'),"semioOpaBaseTypeChange"+t),I(0,"Change"+t,"semioOpaChange"+t,n),L(i("#typeOpaChange"+t).children('[value="'+e.opa.cat+'"]'),"typeOpaChange"+t),i("#ratioMaxOpaChange"+t).attr("value",e.opa.max),i("#ratioMinOpaChange"+t).attr("value",e.opa.min)):(L(i("#semioOpaBaseTypeChange"+t).children('[value="fixed"]'),"semioOpaBaseTypeChange"+t),I(0,"Change"+t,"semioOpaChange"+t,n),i("#ratioMaxOpaChange"+t).attr("value",e.opa.vmax))}(t,e[t],n)}function Q(t){t.link.geometry.type=document.getElementById("arrowtypeChange").value,"CurveArrow"===document.getElementById("arrowtypeChange").value||"CurveOneArrow"===document.getElementById("arrowtypeChange").value?(t.link.geometry.place.base=Number(document.getElementById("baseCurveArrowChange").value),t.link.geometry.place.height=Number(document.getElementById("heightCurveArrowChange").value)):"StraightArrow"===document.getElementById("arrowtypeChange").value&&(t.link.geometry.place.base=null,t.link.geometry.place.height=null),"oriented"===document.getElementById("arrowDataChange").value&&"TriangleArrow"!==document.getElementById("arrowtypeChange").value&&"CurveOneArrow"!==document.getElementById("arrowtypeChange").value?(t.link.geometry.oriented=document.getElementById("arrowDataChange").value,t.link.geometry.head.width=Number(document.getElementById("widthArrowChange").value),t.link.geometry.head.height=Number(document.getElementById("heightArrowChange").value)):(t.link.geometry.oriented=document.getElementById("arrowDataChange").value,t.link.geometry.head.width=null,t.link.geometry.head.height=null),_("link")}window.linkOrderedCategory=w,window.nodeOrderedCategory=b}).call(this,n(121),n(55))},function(t,e,n){"use strict";e.a={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"}},function(t,e,n){"use strict";n.d(e,"d",(function(){return u})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return f}));var i=n(16),r=n(5),o=n(133),s=n(32),a=n(68),l=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=p,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};function u(t){var e;if("function"==typeof t)e=t;else{var n;if(Array.isArray(t))n=t;else Object(i.a)("function"==typeof t.getZIndex,41),n=[t];e=function(){return n}}return e}l.prototype.clone=function(){var t=this.getGeometry();return t&&"object"==typeof t&&(t=t.clone()),new l({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},l.prototype.getRenderer=function(){return this.renderer_},l.prototype.setRenderer=function(t){this.renderer_=t},l.prototype.getGeometry=function(){return this.geometry_},l.prototype.getGeometryFunction=function(){return this.geometryFunction_},l.prototype.getFill=function(){return this.fill_},l.prototype.setFill=function(t){this.fill_=t},l.prototype.getImage=function(){return this.image_},l.prototype.setImage=function(t){this.image_=t},l.prototype.getStroke=function(){return this.stroke_},l.prototype.setStroke=function(t){this.stroke_=t},l.prototype.getText=function(){return this.text_},l.prototype.setText=function(t){this.text_=t},l.prototype.getZIndex=function(){return this.zIndex_},l.prototype.setGeometry=function(t){"function"==typeof t?this.geometryFunction_=t:"string"==typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=p,this.geometry_=t},l.prototype.setZIndex=function(t){this.zIndex_=t};var c=null;function h(t,e){if(!c){var n=new s.a({color:"rgba(255,255,255,0.4)"}),i=new a.a({color:"#3399CC",width:1.25});c=[new l({image:new o.a({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return c}function f(){var t={},e=[255,255,255,1],n=[0,153,255,1];return t[r.a.POLYGON]=[new l({fill:new s.a({color:[255,255,255,.5]})})],t[r.a.MULTI_POLYGON]=t[r.a.POLYGON],t[r.a.LINE_STRING]=[new l({stroke:new a.a({color:e,width:5})}),new l({stroke:new a.a({color:n,width:3})})],t[r.a.MULTI_LINE_STRING]=t[r.a.LINE_STRING],t[r.a.CIRCLE]=t[r.a.POLYGON].concat(t[r.a.LINE_STRING]),t[r.a.POINT]=[new l({image:new o.a({radius:6,fill:new s.a({color:n}),stroke:new a.a({color:e,width:1.5})}),zIndex:1/0})],t[r.a.MULTI_POINT]=t[r.a.POINT],t[r.a.GEOMETRY_COLLECTION]=t[r.a.POLYGON].concat(t[r.a.LINE_STRING],t[r.a.POINT]),t}function p(t){return t.getGeometry()}e.c=l},function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return c})),n.d(e,"g",(function(){return h}));var i,r,o="ol-hidden",s="ol-selectable",a="ol-unselectable",l="ol-unsupported",u="ol-control",c="ol-collapsed",h=(r={},function(t){if(i||(i=document.createElement("div").style),!(t in r)){i.font=t;var e=i.fontFamily;if(i.font="",!e)return null;r[t]=e.split(/,\s?/)}return r[t]})},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},r={};r[i.DEGREES]=2*Math.PI*6370997/360,r[i.FEET]=.3048,r[i.METERS]=1,r[i.USFEET]=1200/3937,e.b=i},function(t,e,n){"use strict";(function(t,i){n.d(e,"j",(function(){return u})),n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return m})),n.d(e,"g",(function(){return B})),n.d(e,"f",(function(){return I})),n.d(e,"h",(function(){return S})),n.d(e,"i",(function(){return O})),n.d(e,"c",(function(){return M})),n.d(e,"e",(function(){return T})),n.d(e,"k",(function(){return F})),n.d(e,"b",(function(){return U}));var r=n(42),o=n(25),s=(n(65),n(44),n(7));n(233);function a(){"timeLapse"===document.getElementById("selectedFilter").value?t("#filterLayerBody>div").append(t("<div>").attr("class","col-md-4").append('<label for="selectedTimeFilter">Type Time</label>').append(t("<select>").attr("class","custom-select").attr("id","selectedTimeFilter").append(t("<option>",{text:"Date",value:"DateTime"})).append(t("<option>",{text:"Hours",value:"HoursTime"})).append(t("<option>",{text:"TimeStamp",value:"TimeStamp"})))):t("#selectedTimeFilter").parent().remove()}function l(e,n){null!==document.getElementById("selectedFilter")&&t("#selectedFilter").parent().remove(),"node"===e?(null!==document.getElementById("selectedTimeFilter")&&t("#selectedTimeFilter").parent().remove(),t("#filterLayerBody>div").append(t("<div>").attr("class","col-md-4").append('<label for="selectedFilter">Type <img class="small-icon" data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content="- Categorial => qualitative selector <br /> -Remove => qualitative removal <br /> - One Category => quick selector of one category <br />  - Numeral => quantitative selector <br /> Temporal => Select time area (must precise a time format)" title="Select the type of filter:" src="assets/svg/si-glyph-circle-info.svg"/></label>').append(t("<select>").attr("class","custom-select").attr("id","selectedFilter").append(t("<option selected>")).append(t("<option>",{text:"Numeral",value:"numeral"})).append(t("<option>",{text:"Categories",value:"categorial"})).append(t("<option>",{text:"Remove",value:"remove"})).append(t("<option>",{text:"One Category",value:"temporal"})))),document.getElementById("selectedFilter").addEventListener("change",(function(){a()})),t('[data-toggle="popover"]').popover({trigger:"focus"})):"link"===e&&(null!==document.getElementById("selectedTimeFilter")&&t("#selectedTimeFilter").parent().remove(),t("#filterLayerBody>div").append(t("<div>").attr("class","col-md-4").append('<label for="selectedFilter">Type <img class="small-icon" data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content="- Categorial => qualitative selector  <br />- Remove => qualitative removal <br /> - One Category => quick selector of one category <br />  - Numeral => quantitative selector <br /> Temporal => Select time area (must precise a time format)" title="Select the type of filter:" src="assets/svg/si-glyph-circle-info.svg"/></label>').append(t("<select>").attr("class","custom-select").attr("id","selectedFilter").append(t("<option selected>")).append(t("<option>",{text:"Categorial",value:"categorial"})).append(t("<option>",{text:"Numeral",value:"numeral"})).append(t("<option>",{text:"Remove",value:"remove"})).append(t("<option>",{text:"One Category",value:"temporal"})).append(t("<option>",{text:"Temporal",value:"timeLapse"})))),document.getElementById("selectedFilter").addEventListener("change",(function(){a()})),t('[data-toggle="popover"]').popover())}function u(){t("#filterLayerBody>div").remove()}function c(){var e=document.getElementById("filteredLayer").value,n=document.getElementById("valueTofilter").value,i=document.getElementById("selectedFilter").value;if("link"===e&&function(t,e,n,i){"numeral"===n&&g(t,e,i);"categorial"===n&&A(t,e,i);"remove"===n&&f(t,e,i);"temporal"===n&&p(t,e,i);"timeLapse"===n&&d(t,e,i,document.getElementById("selectedTimeFilter").value)}(e,n,i,data),"numeral"===i)return function(e,n){if(v(n,e),"node"===e)Object.keys(data.hashedStructureData).map((function(t){return Number(data.hashedStructureData[t].properties[n])}));else if("link"===e)data.links.map((function(t){return Number(t[n])}));var i=n.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterDiv").append(t("<div>").attr("class","row align-items-center m-3 border-top border-secondary filter-bar").append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("for","filterNum"+i).attr("class","h5")).append(t("<div>").attr("class","col-sm-11 p-0").attr("id","filterNum"+i)).append(t("<div>").attr("class","col-sm-1 p-0").append(t("<button>").attr("type","button").attr("class","close center-block").attr("id","buttonFilter"+i).attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>'))).append(t("<div>").attr("class","col-sm-6").append(t("<div>").attr("class","row").append('<div class="col-md-3">Min:</div>').append('<div class="col-md-9"><input class="form-control" id="numMinFilter'+i+'"  step=0.01 type="number" value="15"></div>'))).append(t("<div>").attr("class","col-sm-6").append(t("<div>").attr("class","row").append('<div class="col-md-3">Max:</div>').append('<div class="col-md-9"><input class="form-control" id="numMaxFilter'+i+'" step=0.01 type="number" value="15"></div>')))),document.getElementById("buttonFilter"+i).addEventListener("click",(function(){v(n,e)})),N(e,n,Object(o.k)(n,e))}(e,n),void u();if("categorial"===i)return w(e,n),void u();if("remove"===i)return C(e,n),void u();if("temporal"===i){E(e,n);var r=n.split(" ").join("").replace(/[^\w\s]/gi,"");return H(e,n,"temporal","temporalfilter"+r),void u()}return"timeLapse"===i?(function(e,n){b(n,e);document.getElementById("selectedTimeFilter").value;var i=n.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterDiv").append(t("<div>").attr("class","row align-items-center border-top border-secondary filter-bar").append(t("<div>").attr("class","col-sm-9 p-0").attr("id","filterTime"+i).append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("for","filterTime"+i).attr("class","h5"))).append(t("<div>").attr("class","col-sm-2 p-0").append(t("<label>").attr("for","filterLabelTime"+i).attr("class","h5"))).append(t("<div>").attr("class","col-sm-1 p-0").append(t("<button>").attr("type","button").attr("class","close center-block").attr("id","buttonTimeFilter"+i).attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>')))),document.getElementById("buttonTimeFilter"+i).addEventListener("click",(function(){b(n,e)})),h(e,n,[25,50])}(e,n),void u()):void 0}function h(e,n,r){for(var o=data.filter.link[n].timeLapse.order,s=o.map((function(t){return data.filter.link[n].timeLapse.index[t].length})),a=[],l=0;l<o.length;l++)a.push({date:o[l],value:s[l]});var u=n.split(" ").join("").replace(/[^\w\s]/gi,""),c=15,h=0,f=50,p=70,d=t("#filterTime"+u).width()-p-h,A=180-c-f,g=i.select("#filterTime"+u).append("svg").attr("width",d+p+h).attr("height",A+c+f).append("g").attr("transform","translate("+p+","+c+")");a=a.map(t=>(t.value=+t.value,t));var m=i.scaleBand().domain(a.map((function(t){return t.date}))).rangeRound([0,d]).padding(.2),v=i.scaleLinear().rangeRound([A,0]);v.domain([0,i.max(a,(function(t){return t.value}))]),g.append("g").call(i.axisLeft(v)),g.append("text").attr("transform","rotate(-90)").attr("y",0-p).attr("x",0-A/2).attr("dy","1em").style("text-anchor","middle").text("Count"),g.append("g").attr("class","axis axis--x").attr("transform","translate(0,"+A+")").call(i.axisBottom(m)).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-65)"),g.selectAll(".bar").data(a).enter().append("rect").attr("fill","grey").attr("class","bar").attr("x",(function(t){return m(t.date)})).attr("y",(function(t){return v(t.value)})).attr("width",m.bandwidth()).attr("height",(function(t){return A-v(t.value)}));var y=i.brushX().extent([[0,0],[d,A]]).on("end",(function(){if("end"===i.event.sourceEvent.type||null===typeof i.event.sourceEvent)return;var t=i.event.selection||m.range(),r=a.filter((function(e){var n=m(e.date),i=n+m.bandwidth();return t[0]-m.bandwidth()/2<=n&&t[1]+m.bandwidth()/2>=i}));0!==r.length&&i.select("#filterTime"+u).select(".brush").call(y.move,[m(r[0].date),m(r[r.length-1].date)+m.bandwidth()]);!function(t,e,n,i){var r=!0;if(0!==global_data.filter[t].length)for(var o=0;o<global_data.filter[t].length;o++)if(global_data.filter[t][o].variable===e&&global_data.filter[t][o].filter===n){r=!1,global_data.filter[t][o].values=i;break}r&&global_data.filter[t].push({variable:e,values:i,filter:n,format:data.filter[t][e].timeLapse.format});Q(t)}(e,n,"timeLapse",r.map((function(t){return t.date})))}));g.append("g").attr("class","brush").call(y);try{i.select("#filterTime"+u).select(".brush").call(y.move,[m(r[0]),m(r[1])+m.bandwidth()])}catch(t){console.error(t)}}function f(t,e,n){void 0===n.filter[t][e]?n.filter[t][e]={remove:{}}:n.filter[t][e].remove={};for(var i=[],r=n.filter[t][e].remove,o=n.links.length,s=0;s<o;s++){var a=n.links[s][e].toString();i.includes(a)?r[a].push(s):(i.push(a),r[a]=[],r[a].push(s))}}function p(t,e,n){void 0===n.filter[t][e]?n.filter[t][e]={temporal:{}}:n.filter[t][e].temporal={};var i=n.links.length,r=[];n.filter[t][e].temporal.data={};for(var o=n.filter[t][e].temporal.data,s=0;s<i;s++){var a=n.links[s][e].toString();r.includes(a)?o[a].push(s):(r.push(a),o[a]=[],o[a].push(s))}n.filter[t][e].temporal.index=Object.keys(o)}function d(t,e,n,i){var r=i;void 0===n.filter[t][e]?n.filter[t][e]={timeLapse:{}}:n.filter[t][e].timeLapse={};var o=[...new Set(n.links.map((function(t){return t[e]})))];n.filter[t][e].timeLapse.order=function(t,e){if("HoursTime"===e)return t.sort((function(t,e){return new Date("1970/01/01 "+t)-new Date("1970/01/01 "+e)}));if("TimeStamp"===e)return t.sort((function(t,e){return Number(t)-Number(e)}));if("DateTime"===e)return t.sort((function(t,e){return new Date(t.toString())-new Date(e.toString())}))}(o,r),n.filter[t][e].timeLapse.index={},n.filter[t][e].timeLapse.format=r;for(var s=[],a=n.filter[t][e].timeLapse.index,l=n.links.length,u=0;u<l;u++){var c=n.links[u][e].toString();s.includes(c)?a[c].push(u):(s.push(c),a[c]=[],a[c].push(u))}}function A(t,e,n){void 0===n.filter[t][e]?n.filter[t][e]={categorial:{}}:n.filter[t][e].categorial={};for(var i=[],r=n.filter[t][e].categorial,o=n.links.length,s=0;s<o;s++){var a=n.links[s][e].toString();i.includes(a)?r[a].push(s):(i.push(a),r[a]=[],r[a].push(s))}}function g(t,e,n){void 0===n.filter[t][e]?n.filter[t][e]={numeral:{index:[],minima:[]}}:n.filter[t][e].numeral={index:[],minima:[]};for(var i=0;i<150;i++)n.filter[t][e].numeral.index.push([]);var r=n.links.map((function(t){return Number(t[e])})),o=(Math.max(...r)-Math.min(...r))/150,s=Math.min(...r);n.filter[t][e].numeral.minima=[s,Math.max(...r)];for(var a=n.filter[t][e].numeral,l=n.links.length,u=0;u<l;u++){var c=Number(n.links[u][e]);for(i=0;i<150;i++)if(c<=s+(i+1)*o&&c>=s+i*o){a.index[i].push(u);break}}}function m(t,e,n,i){"numeral"===n.filter&&g(t,e,i),"categorial"===n.filter&&A(t,e,i),"remove"===n.filter&&f(t,e,i),"temporal"===n.filter&&p(t,e,i),"timeLapse"===n.filter&&d(t,e,i,n.format)}function v(e,n){var i=e.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterNum"+i).parent().remove();for(var r=0;r<global_data.filter[n].length;r++)if(global_data.filter[n][r].variable===e)return global_data.filter[n].splice(r,1),void Q(n)}function y(e,n){var i=e.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filter"+i).parent().parent().parent().remove();for(var r=0;r<global_data.filter[n].length;r++)if(global_data.filter[n][r].variable===e)return global_data.filter[n].splice(r,1),void Q(n)}function _(e,n){var i=e.split(" ").join("").replace(/[^\w\s]/gi,"");t("#removefilter"+i).parent().parent().parent().remove();for(var r=0;r<global_data.filter[n].length;r++)if(global_data.filter[n][r].variable===e)return global_data.filter[n].splice(r,1),void Q(n)}function b(e,n){var i=e.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterTime"+i).parent().remove();for(var r=0;r<global_data.filter[n].length;r++)if(global_data.filter[n][r].variable===e)return global_data.filter[n].splice(r,1),void Q(n)}function w(e,n){y(n,e);var i=n.split(" ").join("").replace(/[^\w\s]/gi,"");if(t("#filterDiv").append(t("<div>").attr("class","row align-items-center m-3 border-top border-secondary filter-bar").append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("for","filterCat").attr("class","h5")).append(t("<div>").attr("class","col-sm-11 align-items-center p-0").attr("id","filterCat").append(t("<select multiple>").attr("class","selectpicker").attr("id","filter"+i))).append(t("<div>").attr("class","col-sm-1 center-block p-0").append(t("<button>").attr("type","button").attr("id","removeCatFilterButton"+i).attr("class","close center-block").attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>')))),document.getElementById("removeCatFilterButton"+i).addEventListener("click",(function(){y(n,e)})),document.getElementById("filter"+i).addEventListener("change",(function(){j(e,n,"categorial","#filter"+i)})),"node"===e)var r=[...new Set(Object.keys(data.hashedStructureData).map((function(t){return data.hashedStructureData[t].properties[n]})))];else if("link"===e)r=[...new Set(data.links.map((function(t){return t[n]})))];for(var o=0;o<r.length;o++)t("#filter"+i).append(t("<option>",{text:String(r[o])}).attr("value",r[o]));t("#filter"+i).selectpicker()}function E(e,n){if("link"===e)var i=data.filter[e][n].temporal.index.length;else i=[...new Set(Object.keys(data.hashedStructureData).map((function(t){return data.hashedStructureData[t].properties[n]})))].length;var r=n.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterDiv").append(t("<div>").attr("class","row align-items-center m-3 border-top border-secondary filter-bar").append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("class","h5")).append(t("<div>").attr("class","col-md-11 align-items-center p-0").attr("id","temporalfilterCat").append(t("<div>").attr("class","col-md-12").append(t("<input>").attr("class","selectpicker").attr("min","0").attr("max",i-1).attr("step",1).attr("id","temporalfilter"+r).attr("type","range"))).append(t("<label>",{text:"PUT VALUE HERE"}).attr("class","h6").attr("id","h6_remove"+r))).append(t("<div>").attr("class","col-sm-1 center-block p-0").append(t("<button>").attr("type","button").attr("id","temporalCatFilterButton"+r).attr("class","close center-block").attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>')))),x(n,"h6_remove"+r,"temporalfilter"+r,e),document.getElementById("temporalCatFilterButton"+r).addEventListener("click",(function(){!function(e,n){var i=e.split(" ").join("").replace(/[^\w\s]/gi,"");t("#temporalfilter"+i).parent().parent().parent().remove();for(var r=0;r<global_data.filter[n].length;r++)if(global_data.filter[n][r].variable===e)return global_data.filter[n].splice(r,1),void Q(n)}(n,e)})),document.getElementById("temporalfilter"+r).addEventListener("change",(function(){H(e,n,"temporal","temporalfilter"+r)})),document.getElementById("temporalfilter"+r).addEventListener("change",(function(){x(n,"h6_remove"+r,"temporalfilter"+r,e)}))}function x(t,e,n,i){document.getElementById(e).innerHTML="link"===i?data.filter[i][t].temporal.index[Number(document.getElementById(n).value)]:[...new Set(Object.keys(data.hashedStructureData).map((function(e){return data.hashedStructureData[e].properties[t]})))][Number(document.getElementById(n).value)]}function C(e,n){_(n,e);var i=n.split(" ").join("").replace(/[^\w\s]/gi,"");if(t("#filterDiv").append(t("<div>").attr("class","row align-items-center m-3 border-top border-secondary filter-bar").append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("for","filter"+i).attr("class","h5")).append(t("<div>").attr("class","col-sm-11 align-items-center p-0").attr("id","removefilterCat").append(t("<select multiple>").attr("class","selectpicker").attr("id","removefilter"+i))).append(t("<div>").attr("class","col-sm-1 center-block p-0").append(t("<button>").attr("type","button").attr("id","removeRemoveCatFilterButton"+i).attr("class","close center-block").attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>')))),document.getElementById("removeRemoveCatFilterButton"+i).addEventListener("click",(function(){_(n,e)})),document.getElementById("removefilter"+i).addEventListener("change",(function(){j(e,n,"remove","#removefilter"+i)})),"node"===e)var r=[...new Set(Object.keys(data.hashedStructureData).map((function(t){return data.hashedStructureData[t].properties[n]})))];else if("link"===e)r=[...new Set(data.links.map((function(t){return t[n]})))];for(var o=0;o<r.length;o++)t("#removefilter"+i).append(t("<option>",{text:String(r[o])}).attr("value",r[o]));t("#removefilter"+i).selectpicker()}function B(e,n,i){var r=n.split(" ").join("").replace(/[^\w\s]/gi,"");w(e,n),t("#filter"+r).selectpicker("val",i)}function I(e,n,i){var r=n.split(" ").join("").replace(/[^\w\s]/gi,"");C(e,n),t("#removefilter"+r).selectpicker("val",i)}function S(e,n,i){var r=n.split(" ").join("").replace(/[^\w\s]/gi,"");E(e,n),t("#temporalfilter"+r).prop("value",data.filter[e][n].temporal.index.indexOf(i)),x(n,"h6_remove"+r,"temporalfilter"+r,e),H(e,n,"temporal","temporalfilter"+r)}function O(e,n,i){var r=n.split(" ").join("").replace(/[^\w\s]/gi,"");r=n.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterDiv").append(t("<div>").attr("class","row align-items-center m-3").append(t("<div>").attr("class","col-sm-11 p-0").attr("id","filterTime"+r).append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("for","filterTime"+r).attr("class","h5"))).append(t("<div>").attr("class","col-sm-1 p-0").append(t("<button>").attr("type","button").attr("class","close center-block").attr("id","buttonTimeFilter"+r).attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>')))),document.getElementById("buttonTimeFilter"+r).addEventListener("click",(function(){b(n,e)})),h(e,n,[i[0],i[i.length-1]])}function M(){t("#filterLayerBody").append(t("<div>").attr("class","row").append(t("<div>").attr("class","col-md-4").append('<label for="filteredLayer">Layer </label>').append(t("<select>").attr("class","custom-select").attr("id","filteredLayer").append(t("<option selected>",{text:"Choose ..."})).append(t("<option>",{text:"Link",value:"link"})).append(t("<option>",{text:"Node",value:"node"}))))),t('[data-toggle="popover"]').popover(),document.getElementById("filteredLayer").addEventListener("change",(function(){!function(){var e=document.getElementById("filteredLayer"),n=e.options[e.selectedIndex].value,i=Object(r.f)(n);null!==document.getElementById("valueTofilter")&&t("#valueTofilter").parent().remove();null!==document.getElementById("selectedFilter")&&t("#selectedFilter").parent().remove();i&&t("#filterLayerBody>div").append(t("<div>").attr("class","col-md-4").append('<label for="valueTofilter">Variable </label>').append(t("<select>").attr("class","custom-select").attr("id","valueTofilter").append("<option selected>Choose...</option>")));t('[data-toggle="popover"]').popover();for(var o=0;o<i.length;o++)t("#valueTofilter").append(t("<option>",{text:i[o]}).attr("value",i[o]));document.getElementById("valueTofilter").addEventListener("change",(function(){l(n,data)}))}()}))}function T(e,n,i){if("node"===e)var r=Object.keys(data.hashedStructureData).map((function(t){return Number(data.hashedStructureData[t].properties[n])}));else if("link"===e)r=data.links.map((function(t){return Number(t[n])}));var o=n.split(" ").join("").replace(/[^\w\s]/gi,"");t("#filterDiv").append(t("<div>").attr("class","row align-items-center m-3 border-top border-secondary filter-bar").append("<img class='icon-filter' src='assets/svg/si-glyph-"+e+".svg'/>").append(t("<label>",{text:"  "+n}).attr("for","filterNum"+o).attr("class","h5")).append(t("<div>").attr("class","col-sm-11 p-0").attr("id","filterNum"+o)).append(t("<div>").attr("class","col-sm-1 p-0").append(t("<button>").attr("type","button").attr("class","close center-block").attr("id","buttonFilter"+o).attr("aria-label","Close").append('<img class="icon" src="assets/svg/si-glyph-trash.svg"/>'))).append(t("<div>").attr("class","col-sm-6").append(t("<div>").attr("class","row").append('<div class="col-md-3">Min:</div>').append('<div class="col-md-9"><input class="form-control" id="numMinFilter'+o+'" min="'+Math.min(...r)+'" max="'+Math.max(...r)+'" step=0.01 type="number" ></div>'))).append(t("<div>").attr("class","col-sm-6").append(t("<div>").attr("class","row").append('<div class="col-md-3">Max:</div>').append('<div class="col-md-9"><input class="form-control" id="numMaxFilter'+o+'" min="'+Math.min(...r)+'" max="'+Math.max(...r)+'" step=0.01 type="number" ></div>')))),document.getElementById("buttonFilter"+o).addEventListener("click",(function(){v(n,e)})),N(e,n,i)}function N(e,n,r){if("node"===e)var o=Object.keys(data.hashedStructureData).map((function(t){return data.hashedStructureData[t].properties[n]}));else if("link"===e)o=data.links.map((function(t){return t[n]}));var s=n.split(" ").join("").replace(/[^\w\s]/gi,""),a=(i.format(",.0f"),15),l=0,u=30,c=70,h=t("#filterNum"+s).width()-c-l,f=150-a-u,p=i.select("#filterNum"+s).append("svg").attr("width",h+c+l).attr("height",f+a+u).append("g").attr("transform","translate("+c+","+a+")"),d=i.scaleLinear().domain([Math.min(...o),Math.max(...o)+1e-4]).rangeRound([0,h]);p.append("g").attr("transform","translate(0,"+f+")").call(i.axisBottom(d)),document.getElementById("numMaxFilter"+s).value=Number(r[1]).toFixed(2),document.getElementById("numMinFilter"+s).value=Number(r[0]).toFixed(2);var A=i.histogram().domain(d.domain()).thresholds(d.ticks(30))(o),g=i.scaleLinear().range([f,0]);g.domain([0,i.max(A,(function(t){return t.length}))]),p.append("g").call(i.axisLeft(g)),p.append("text").attr("transform","rotate(-90)").attr("y",0-c).attr("x",0-f/2).attr("dy","1em").style("text-anchor","middle").text("Count"),p.selectAll("rect").data(A).enter().append("rect").attr("x",1).attr("transform",(function(t){return"translate("+d(t.x0)+","+g(t.length)+")"})).attr("width",(function(t){return d(t.x1)-d(t.x0)-1})).attr("height",(function(t){return f-g(t.length)})).style("fill","#38291f");i.scaleBand().domain(i.range(-1,A.length)).range([0,h]);var m=i.brushX().extent([[0,0],[h,f]]).on("end",(function(){if(null!==i.event.sourceEvent){var t=i.event.selection||d.range(),r=t.map(d.invert,d);document.getElementById("numMaxFilter"+s).value=Math.round(r[1]),document.getElementById("numMinFilter"+s).value=Math.round(r[0]),z(e,n,"numeral",t.map(d.invert,d))}})),v=p.append("g").attr("class","brush").call(m).call(m.move,d.range());v.call(m.move,[d(r[0]),d(r[1])]),document.getElementById("numMaxFilter"+s).addEventListener("change",(function(){Number(document.getElementById("numMaxFilter"+s).max)<=document.getElementById("numMaxFilter"+s).valueAsNumber&&(document.getElementById("numMaxFilter"+s).value=document.getElementById("numMaxFilter"+s).max),v.call(m.move,[d(document.getElementById("numMinFilter"+s).value),d(document.getElementById("numMaxFilter"+s).value)]),z(e,n,"numeral",[document.getElementById("numMinFilter"+s).value,document.getElementById("numMaxFilter"+s).value])})),document.getElementById("numMinFilter"+s).addEventListener("change",(function(){Number(document.getElementById("numMinFilter"+s).max)>=Number(document.getElementById("numMinFilter"+s).value)&&(document.getElementById("numMinFilter"+s).value=document.getElementById("numMinFilter"+s).min),v.call(m.move,[d(document.getElementById("numMinFilter"+s).value),d(document.getElementById("numMaxFilter"+s).value)]),z(e,n,"numeral",[document.getElementById("numMinFilter"+s).value,document.getElementById("numMaxFilter"+s).value])}))}function k(t){if(0===global_data.filter.node.length)return!0;for(var e=0;e<global_data.filter.node.length;e++)if("remove"===global_data.filter.node[e].filter&&!window[global_data.filter.node[e].filter](t.properties[global_data.filter.node[e].variable],global_data.filter.node[e].values))return!0;return!1}function L(t){if(0===global_data.filter.node.length)return!0;for(var e=0;e<global_data.filter.node.length;e++)if(!window[global_data.filter.node[e].filter](t.properties[global_data.filter.node[e].variable],global_data.filter.node[e].values))return!1;return!0}function F(t,e){var n=Array.from(Array(e.links.length).keys());if(0===t.length)return Array.from(Array(e.links.length).keys());n=new Set(n);for(var i=t.length,r=0;r<i;r++)if("remove"!==t[r].filter){var o=new Set(R(t[r],e,"link"));n=new Set([...n].filter(t=>o.has(t)))}else{o=new Set(R(t[r],e,"link"));n=new Set([...n].filter(t=>!o.has(t)))}return[...n]}function R(t,e,n){return"numeral"===t.filter?function(t,e,n){for(var i=[],r=(t.values.length,(e.filter[n][t.variable][t.filter].minima[1]-e.filter[n][t.variable][t.filter].minima[0])/150),o=e.filter[n][t.variable][t.filter].minima[0],s=0;s<150;s++)t.values[0]<=o+r*s&&t.values[1]>=o+r*(s+1)?i=i.concat(e.filter[n][t.variable][t.filter].index[s]):t.values[0]>=o+r*s&&t.values[0]<=o+r*(s+1)?i=i.concat(P(e.filter[n][t.variable][t.filter].index[s],e.links,t.values[0],t.variable)):t.values[1]>=o+r*s&&t.values[1]<=o+r*(s+1)&&(i=i.concat(D(e.filter[n][t.variable][t.filter].index[s],e.links,t.values[1],t.variable)));return[...new Set([...i])]}(t,e,n):"temporal"===t.filter?function(t,e,n){return e.filter[n][t.variable][t.filter].data[t.values]}(t,e,n):"timeLapse"===t.filter?function(t,e,n){for(var i=e.filter[n][t.variable][t.filter].index[t.values[0]],r=1;r<t.values.length;r++)i=[...new Set([...i,...e.filter[n][t.variable][t.filter].index[t.values[r]]])];return i}(t,e,n):function(t,e,n){for(var i=e.filter[n][t.variable][t.filter][t.values[0]],r=1;r<t.values.length;r++)i=[...new Set([...i,...e.filter[n][t.variable][t.filter][t.values[r]]])];return i}(t,e,n)}function D(t,e,n,i){for(var r=[],o=0;o<t.length;o++)Number(e[t[o]][i])<=n&&r.push(t[o]);return r}function P(t,e,n,i){for(var r=[],o=0;o<t.length;o++)Number(e[t[o]][i])>=n&&r.push(t[o]);return r}function U(t){for(var e={},n=[],i=Object.keys(t),r=i.length,o=0;o<r;o++)L(t[i[o]])&&(e[i[o]]=t[i[o]]),k(t[i[o]])&&global_data.filter.node.length>0&&n.push(i[o]);return[e,n]}function Q(t){var e=F(global_data.filter.link,data),n=U(data.hashedStructureData);if(null!==Object(s.l)(map,"link")){var i=Object(s.l)(map,"link").getZIndex();Object(s.j)(map,data.links,data.hashedStructureData,global_data.style,global_data.ids.linkID[0],global_data.ids.linkID[1],e,n),Object(s.l)(map,"link").setZIndex(i)}if(null!==Object(s.l)(map,"node")){i=Object(s.l)(map,"node").getZIndex();Object(s.f)(map,data.links,data.hashedStructureData,global_data.style,e,n),Object(s.l)(map,"node").setZIndex(i)}null!==global_data.legend.node.legend&&Object(s.e)()}function H(t,e,n,i){if("link"===t)var r=data.filter[t][e].temporal.index[Number(document.getElementById(i).value)];else r=[...new Set(Object.keys(data.hashedStructureData).map((function(t){return data.hashedStructureData[t].properties[e]})))][Number(document.getElementById(i).value)];var o=-1;if(0!==global_data.filter[t].length)for(var s=0;s<global_data.filter[t].length;s++)if(global_data.filter[t][s].variable===e&&global_data.filter[t][s].filter===n){o=s,global_data.filter[t][s].values=r;break}-1===o&&global_data.filter[t].push({variable:e,values:r,filter:n}),Q()}function j(e,n,i,r){var o=Array.from(t(r).find(":selected")).map((function(e){return t(e).text()})),s=-1;if(0!==global_data.filter[e].length)for(var a=0;a<global_data.filter[e].length;a++)if(global_data.filter[e][a].variable===n&&global_data.filter[e][a].filter===i){s=a,global_data.filter[e][a].values=o;break}-1===s&&global_data.filter[e].push({variable:n,values:o,filter:i}),Q()}function z(t,e,n,i){var r=-1;if(0!==global_data.filter[t].length)for(var o=0;o<global_data.filter[t].length;o++)if(global_data.filter[t][o].variable===e&&global_data.filter[t][o].filter===n){r=o,global_data.filter[t][o].values=i;break}-1===r&&global_data.filter[t].push({variable:e,values:i,filter:n}),Q()}window.temporal=function(t,e){return e.includes(t)},window.remove=function(t,e){return!e.includes(t)},window.categorial=function(t,e){return e.includes(t)},window.numeral=function(t,e){return Number(t)>=Number(e[0])&&Number(t)<=e[1]}}).call(this,n(55),n(121))},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return h})),n.d(e,"c",(function(){return p}));var i=n(16),r=n(9),o=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,s=/^([a-z]*)$/i;function a(t){return"string"==typeof t?t:p(t)}var l,u,c=(l={},u=0,function(t){var e;if(l.hasOwnProperty(t))e=l[t];else{if(u>=1024){var n=0;for(var r in l)0==(3&n++)&&(delete l[r],--u)}e=function(t){var e,n,r,a,l;if(s.exec(t)&&(t=function(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}(t)),o.exec(t)){var u,c=t.length-1;u=c<=4?1:2;var h=4===c||8===c;e=parseInt(t.substr(1+0*u,u),16),n=parseInt(t.substr(1+1*u,u),16),r=parseInt(t.substr(1+2*u,u),16),a=h?parseInt(t.substr(1+3*u,u),16):255,1==u&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,h&&(a=(a<<4)+a)),l=[e,n,r,a/255]}else 0==t.indexOf("rgba(")?f(l=t.slice(5,-1).split(",").map(Number)):0==t.indexOf("rgb(")?((l=t.slice(4,-1).split(",").map(Number)).push(1),f(l)):Object(i.a)(!1,14);return l}(t),l[t]=e,++u}return e});function h(t){return Array.isArray(t)?t:c(t)}function f(t){return t[0]=Object(r.a)(t[0]+.5|0,0,255),t[1]=Object(r.a)(t[1]+.5|0,0,255),t[2]=Object(r.a)(t[2]+.5|0,0,255),t[3]=Object(r.a)(t[3],0,1),t}function p(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}},function(t,e,n){"use strict";var i=n(4),r=n(31),o=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};o.prototype.clone=function(){var t=this.getColor();return new o({color:Array.isArray(t)?t.slice():t||void 0})},o.prototype.getColor=function(){return this.color_},o.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},o.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+Object(r.b)(t):this.checksum_=Object(i.c)(this.color_):this.checksum_="f-"}return this.checksum_},e.a=o},function(t,e,n){"use strict";var i=n(80),r=n(156),o=n(120),s=n(204),a=n(109);function l(t){return t}function u(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}e.newBlob=function(t,n){e.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(n)}catch(t){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(t,e,n){var i=[],r=0,o=t.length;if(o<=n)return String.fromCharCode.apply(null,t);for(;r<o;)"array"===e||"nodebuffer"===e?i.push(String.fromCharCode.apply(null,t.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,t.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(t){return!1}}()}};function h(t){var n=65536,i=e.getTypeOf(t),r=!0;if("uint8array"===i?r=c.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=c.applyCanBeUsed.nodebuffer),r)for(;n>1;)try{return c.stringifyByChunk(t,i,n)}catch(t){n=Math.floor(n/2)}return c.stringifyByChar(t)}function f(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}e.applyFromCharCode=h;var p={};p.string={string:l,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return p.string.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:function(t){return u(t,o.allocBuffer(t.length))}},p.array={string:h,array:l,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(t)}},p.arraybuffer={string:function(t){return h(new Uint8Array(t))},array:function(t){return f(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:l,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return o.newBufferFrom(new Uint8Array(t))}},p.uint8array={string:h,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:l,nodebuffer:function(t){return o.newBufferFrom(t)}},p.nodebuffer={string:h,array:function(t){return f(t,new Array(t.length))},arraybuffer:function(t){return p.nodebuffer.uint8array(t).buffer},uint8array:function(t){return f(t,new Uint8Array(t.length))},nodebuffer:l},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var i=e.getTypeOf(n);return p[i][t](n)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":i.nodebuffer&&o.isBuffer(t)?"nodebuffer":i.uint8array&&t instanceof Uint8Array?"uint8array":i.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!i[t.toLowerCase()])throw new Error(t+" is not supported by this platform")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},e.delay=function(t,e,n){s((function(){t.apply(n||null,e||[])}))},e.inherits=function(t,e){var n=function(){};n.prototype=e.prototype,t.prototype=new n},e.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n},e.prepareContent=function(t,n,o,s,l){return a.Promise.resolve(n).then((function(t){return i.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)))&&"undefined"!=typeof FileReader?new a.Promise((function(e,n){var i=new FileReader;i.onload=function(t){e(t.target.result)},i.onerror=function(t){n(t.target.error)},i.readAsArrayBuffer(t)})):t})).then((function(n){var c,h=e.getTypeOf(n);return h?("arraybuffer"===h?n=e.transformTo("uint8array",n):"string"===h&&(l?n=r.decode(n):o&&!0!==s&&(n=u(c=n,i.uint8array?new Uint8Array(c.length):new Array(c.length)))),n):a.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));var i=function(t){this.propagationStopped,this.type=t,this.target=null};function r(t){t.stopPropagation()}i.prototype.preventDefault=function(){this.propagationStopped=!0},i.prototype.stopPropagation=function(){this.propagationStopped=!0},e.a=i},function(t,e,n){"use strict";e.a={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"}},function(t,e,n){"use strict";var i=n(20),r=n(84),o=n(18),s=n(17),a=n(3),l=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:i.c,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(s.e)(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(s.e)(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Object(a.e)(this.listenerKeys[e]);(this.listenerKeys.length=0,this.map_=t,this.map_)&&((this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==i.c&&this.listenerKeys.push(Object(a.a)(t,r.a.POSTRENDER,this.render,this)),t.render())},e.prototype.setTarget=function(t){this.target_="string"==typeof t?document.getElementById(t):t},e}(o.a);e.a=l},function(t,e,n){"use strict";e.a={ADD:"add",REMOVE:"remove"}},function(t,e,n){"use strict";e.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3}},function(t,e,n){"use strict";function i(t){return Math.pow(t,3)}function r(t){return 1-i(1-t)}function o(t){return 3*t*t-2*t*t*t}function s(t){return t}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s}))},function(t,e,n){"use strict";e.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(t,e,n){"use strict";n.d(e,"b",(function(){return h}));var i=n(4),r=n(1),o=n(124),s=n(26),a=n(48),l=n(14),u=function(t){function e(){t.call(this),this.layout=s.a.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return Object(r.o)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(i.b)()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(l.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=c(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(i.b)()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=c(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=s.a.XY,void(this.stride=2);e=e[0]}t=function(t){var e;2==t?e=s.a.XY:3==t?e=s.a.XYZ:4==t&&(e=s.a.XYZM);return(e)}(i=e.length)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Object(a.a)(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var o=n;o||(o=Object(r.x)(this.getExtent()));var s=this.getFlatCoordinates();if(s){var l=this.getStride();Object(a.b)(s,0,s.length,l,t,i,o,s),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();Object(a.d)(n,0,n.length,i,t,e,n),this.changed()}},e}(o.a);function c(t){var e;return t==s.a.XY?e=2:t==s.a.XYZ||t==s.a.XYM?e=3:t==s.a.XYZM&&(e=4),e}function h(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return Object(a.c)(i,0,i.length,r,e,n)}return null}e.a=u},function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return p})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return g}));var i=n(72),r=n(25),o=n(7);n(230);function s(t){map.removeLayer(Object(o.l)(map,t)),delete global_data.layers.base[t],A(t)}function a(t){map.removeLayer(Object(o.l)(map,t)),global_data.style[t].color={},global_data.style[t].size.var=null,global_data.style[t].text={},global_data.style[t].opa={},A(t),"node"===t&&null!==Object(o.l)(map,"link")&&Object(o.j)(map,data.links,data.hashedStructureData,global_data.style,global_data.ids.linkID[0],global_data.ids.linkID[1])}function l(e){t("#accordionLayerControl").prepend(t("<li>",{class:"card mt-2 border-dark",id:"card"+e,value:e}).append(t("<div>",{class:"card-header  text-dark panel-heading",text:e,id:"panel"+e}).append(t("<button>").attr("type","button").attr("id","buttonRemoveLayer"+e).attr("class","close center-block  ml-1").attr("aria-label","Close").attr("data-toggle","tooltip").attr("data-placement","right").attr("title","Remove the layer").attr("data-animation","false").append("<img class='icon' src='assets/svg/si-glyph-trash.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonHideLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("data-toggle","tooltip").attr("data-placement","right").attr("title","Hide the layer").attr("data-animation","false").append("<img class='icon' src='assets/svg/si-glyph-view.svg'/>")))),document.getElementById("buttonHideLayer"+e).addEventListener("click",(function(){!function(t){var e=Object(o.l)(map,t).getOpacity();e=e>0?0:1;Object(o.l)(map,t).setOpacity(e)}(e)})),document.getElementById("buttonRemoveLayer"+e).addEventListener("click",(function(){!function(t){map.removeLayer(Object(o.l)(map,t)),delete global_data.layers.osm[t],A(t)}(e)}))}function u(e){t("#accordionLayerControl").prepend(t("<li>",{class:"card mt-2 border-dark",id:"card"+e,value:e}).append(t("<div>",{class:"card-header  text-dark panel-heading",text:e,id:"panel"+e}).append(t("<button>").attr("type","button").attr("id","buttonRemoveLayer"+e).attr("class","close center-block  ml-1").attr("aria-label","Close").attr("rel","tooltip").attr("data-placement","right").attr("title","Remove the layer").append("<img class='icon' src='assets/svg/si-glyph-trash.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonChangeLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("data-target","#changeBaseLayerModal").attr("data-toggle","modal").attr("rel","tooltip").attr("data-placement","right").attr("title","Change the style layer").append("<img class='icon' src='assets/svg/si-glyph-brush-1.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonHideLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("rel","tooltip").attr("data-placement","right").attr("title","Hide the layer").append("<img class='icon' src='assets/svg/si-glyph-view.svg'/>")))),document.getElementById("buttonChangeLayer"+e).addEventListener("click",(function(){Object(r.m)(map,global_data.layers,"Change",e,global_data.layers.base[e].style)})),document.getElementById("buttonHideLayer"+e).addEventListener("click",(function(){f(e)})),document.getElementById("buttonRemoveLayer"+e).addEventListener("click",(function(){s(e)}))}function c(e){t("#accordionLayerControl").prepend(t("<li>",{class:"card mt-2 border-dark",id:"card"+e,value:e}).append(t("<div>",{class:"card-header  text-dark panel-heading",text:e,id:"panel"+e}).append(t("<button>").attr("type","button").attr("id","buttonRemoveLayer"+e).attr("class","close center-block  ml-1").attr("aria-label","Close").attr("rel","tooltip").attr("data-placement","right").attr("title","Remove the layer").append("<img class='icon' src='assets/svg/si-glyph-trash.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonChangeLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("data-target","#changeBaseLayerModal").attr("data-toggle","modal").attr("rel","tooltip").attr("data-placement","right").attr("title","Change the style layer").append("<img class='icon' src='assets/svg/si-glyph-brush-1.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonHideLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("rel","tooltip").attr("data-placement","right").attr("title","Hide the layer").append("<img class='icon' src='assets/svg/si-glyph-view.svg'/>")))),document.getElementById("buttonChangeLayer"+e).addEventListener("click",(function(){Object(r.m)(map,global_data.layers,"Change",e,global_data.layers.import[e].style)})),document.getElementById("buttonHideLayer"+e).addEventListener("click",(function(){f(e)})),document.getElementById("buttonRemoveLayer"+e).addEventListener("click",(function(){s(e)}))}function h(e){var n=Object(o.l)(map,e).getOpacity();n>0?(n=0,t("#buttonHideLayer"+e).children().remove(),t("#buttonHideLayer"+e).append("<img class='icon' src='assets/svg/si-glyph-noview.svg'/>")):(n=.8,t("#buttonHideLayer"+e).children().remove(),t("#buttonHideLayer"+e).append("<img class='icon' src='assets/svg/si-glyph-view.svg'/>")),Object(o.l)(map,e).setOpacity(n)}function f(e){var n=Object(o.l)(map,e).getOpacity();n>0?(n=0,t("#buttonHideLayer"+e).children().remove(),t("#buttonHideLayer"+e).append("<img class='icon' src='assets/svg/si-glyph-noview.svg'/>")):(n=global_data.layers.base[e].style.opacity,t("#buttonHideLayer"+e).children().remove(),t("#buttonHideLayer"+e).append("<img class='icon' src='assets/svg/si-glyph-view.svg'/>")),Object(o.l)(map,e).setOpacity(n)}function p(e){t("#accordionLayerControl").prepend(t("<li>",{class:"card mt-2 border-dark",id:"card"+e,value:e}).append(t("<div>",{class:"card-header text-dark h-5 panel-heading",text:e,id:"panel"+e}).append(t("<button>").attr("type","button").attr("id","buttonRemoveLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("data-toggle","tooltip").attr("data-placement","right").attr("title","Remove the layer").attr("data-animation","false").append("<img class='icon' src='assets/svg/si-glyph-trash.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonChangeLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("data-target","#changeSemioModal").attr("data-toggle","modal").attr("rel","tooltip").attr("data-placement","right").attr("title","Change style of the layer").append("<img class='icon' src='assets/svg/si-glyph-brush-1.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonHideLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("data-toggle","tooltip").attr("data-placement","right").attr("title","Hide the layer").attr("data-animation","false").append("<img class='icon' src='assets/svg/si-glyph-view.svg'/>")))),document.getElementById("buttonHideLayer"+e).addEventListener("click",(function(){h(e)})),document.getElementById("buttonRemoveLayer"+e).addEventListener("click",(function(){a(e)})),document.getElementById("buttonChangeLayer"+e).addEventListener("click",(function(){Object(r.d)(e,global_data.style)}))}function d(e){t("#accordionLayerControl").prepend(t("<li>",{class:"card mt-2 border-dark",id:"card"+e,value:e}).append(t("<div>",{class:"card-header text-dark h-5 panel-heading",text:e,id:"panel"+e}).append(t("<button>").attr("type","button").attr("id","buttonRemoveLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("rel","tooltip").attr("data-placement","right").attr("title","Remove the layer").append("<img class='icon' src='assets/svg/si-glyph-trash.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonChangeGeoLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("data-target","#changeGeometryModal").attr("data-toggle","modal").attr("rel","tooltip").attr("data-placement","right").attr("title","Change shape of the links").append("<img class='icon' src='assets/svg/si-glyph-ruler.svg' />")).append(t("<button>").attr("type","button").attr("id","buttonChangeLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("data-target","#changeSemioLinkModal").attr("data-toggle","modal").attr("rel","tooltip").attr("data-placement","right").attr("title","Change style of the links").append("<img class='icon' src='assets/svg/si-glyph-brush-1.svg'/>")).append(t("<button>").attr("type","button").attr("id","buttonHideLayer"+e).attr("class","close center-block ml-1").attr("aria-label","Close").attr("rel","tooltip").attr("data-placement","right").attr("title","Hide the layer").append("<img class='icon' src='assets/svg/si-glyph-view.svg'/>")))),document.getElementById("buttonHideLayer"+e).addEventListener("click",(function(){h(e)})),document.getElementById("buttonChangeGeoLayer"+e).addEventListener("click",(function(){Object(i.a)(e,global_data.style.link)})),document.getElementById("buttonRemoveLayer"+e).addEventListener("click",(function(){a(e)})),document.getElementById("buttonChangeLayer"+e).addEventListener("click",(function(){Object(r.d)(e,global_data.style)}))}function A(e){t("#card"+e).remove()}function g(t){return"node"===t?Object.keys(data.hashedStructureData[Object.keys(data.hashedStructureData)[0]].properties):"link"===t?Object.keys(data.links[0]):void 0}n(232),t((function(t){var e=t("#accordionLayerControl");e.sortable({handle:".card-header",update:function(){t(".card",e).each((function(e,n){var i=t(n);i.index();Object(o.l)(map,n.textContent).setZIndex(-i.index())}))}})}))}).call(this,n(55))},function(t,e,n){!function(t){"use strict";function e(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.bbox,r=n.id;if(void 0===t)throw new Error("geometry is required");if(e&&e.constructor!==Object)throw new Error("properties must be an Object");i&&C(i),r&&B(r);var o={type:"Feature"};return r&&(o.id=r),i&&(o.bbox=i),o.properties=e||{},o.geometry=t,o}function n(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r,s=n.bbox;if(!t)throw new Error("type is required");if(!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");switch(s&&C(s),t){case"Point":r=i(e).geometry;break;case"LineString":r=a(e).geometry;break;case"Polygon":r=o(e).geometry;break;case"MultiPoint":r=h(e).geometry;break;case"MultiLineString":r=c(e).geometry;break;case"MultiPolygon":r=f(e).geometry;break;default:throw new Error(t+" is invalid")}return s&&(r.bbox=s),r}function i(t,n,i){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");if(t.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!E(t[0])||!E(t[1]))throw new Error("coordinates must contain numbers");return e({type:"Point",coordinates:t},n,i)}function r(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return u(t.map((function(t){return i(t,e)})),n)}function o(t,n,i){if(!t)throw new Error("coordinates is required");for(var r=0;r<t.length;r++){var o=t[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++){if(0===r&&0===s&&!E(o[0][0])||!E(o[0][1]))throw new Error("coordinates must contain numbers");if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}}return e({type:"Polygon",coordinates:t},n,i)}function s(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return u(t.map((function(t){return o(t,e)})),n)}function a(t,n,i){if(!t)throw new Error("coordinates is required");if(t.length<2)throw new Error("coordinates must be an array of two or more positions");if(!E(t[0][1])||!E(t[0][1]))throw new Error("coordinates must contain numbers");return e({type:"LineString",coordinates:t},n,i)}function l(t,e,n){if(!t)throw new Error("coordinates is required");if(!Array.isArray(t))throw new Error("coordinates must be an Array");return u(t.map((function(t){return a(t,e)})),n)}function u(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.id;if(!t)throw new Error("No features passed");if(!Array.isArray(t))throw new Error("features must be an Array");n&&C(n),i&&B(i);var r={type:"FeatureCollection"};return i&&(r.id=i),n&&(r.bbox=n),r.features=t,r}function c(t,n,i){if(!t)throw new Error("coordinates is required");return e({type:"MultiLineString",coordinates:t},n,i)}function h(t,n,i){if(!t)throw new Error("coordinates is required");return e({type:"MultiPoint",coordinates:t},n,i)}function f(t,n,i){if(!t)throw new Error("coordinates is required");return e({type:"MultiPolygon",coordinates:t},n,i)}function p(t,n,i){if(!t)throw new Error("geometries is required");if(!Array.isArray(t))throw new Error("geometries must be an Array");return e({type:"GeometryCollection",geometries:t},n,i)}function d(t,e){if(null==t||isNaN(t))throw new Error("num is required");if(e&&!(e>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,e||0);return Math.round(t*n)/n}function A(t,e){if(null==t)throw new Error("radians is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=Eo[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t*n}function g(t,e){if(null==t)throw new Error("distance is required");if(e&&"string"!=typeof e)throw new Error("units must be a string");var n=Eo[e||"kilometers"];if(!n)throw new Error(e+" units is invalid");return t/n}function m(t,e){return y(g(t,e))}function v(t){if(null==t)throw new Error("bearing is required");var e=t%360;return e<0&&(e+=360),e}function y(t){if(null==t)throw new Error("radians is required");return t%(2*Math.PI)*180/Math.PI}function _(t){if(null==t)throw new Error("degrees is required");return t%360*Math.PI/180}function b(t,e,n){if(null==t)throw new Error("length is required");if(!(t>=0))throw new Error("length must be a positive number");return A(g(t,e),n||"kilometers")}function w(t,e,n){if(null==t)throw new Error("area is required");if(!(t>=0))throw new Error("area must be a positive number");var i=Co[e||"meters"];if(!i)throw new Error("invalid original units");var r=Co[n||"kilometers"];if(!r)throw new Error("invalid final units");return t/i*r}function E(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)}function x(t){return!!t&&t.constructor===Object}function C(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!E(t))throw new Error("bbox must only contain numbers")}))}function B(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof t))throw new Error("id must be a number or a string")}function I(t,e,n){if(null!==t)for(var i,r,o,s,a,l,u,c,h=0,f=0,p=t.type,d="FeatureCollection"===p,A="Feature"===p,g=d?t.features.length:1,m=0;m<g;m++){a=(c=!!(u=d?t.features[m].geometry:A?t.geometry:t)&&"GeometryCollection"===u.type)?u.geometries.length:1;for(var v=0;v<a;v++){var y=0,_=0;if(null!==(s=c?u.geometries[v]:u)){l=s.coordinates;var b=s.type;switch(h=!n||"Polygon"!==b&&"MultiPolygon"!==b?0:1,b){case null:break;case"Point":e(l,f,m,y,_),f++,y++;break;case"LineString":case"MultiPoint":for(i=0;i<l.length;i++)e(l[i],f,m,y,_),f++,"MultiPoint"===b&&y++;"LineString"===b&&y++;break;case"Polygon":case"MultiLineString":for(i=0;i<l.length;i++){for(r=0;r<l[i].length-h;r++)e(l[i][r],f,m,y,_),f++;"MultiLineString"===b&&y++,"Polygon"===b&&_++}"Polygon"===b&&y++;break;case"MultiPolygon":for(i=0;i<l.length;i++){for("MultiPolygon"===b&&(_=0),r=0;r<l[i].length;r++){for(o=0;o<l[i][r].length-h;o++)e(l[i][r][o],f,m,y,_),f++;_++}y++}break;case"GeometryCollection":for(i=0;i<s.geometries.length;i++)I(s.geometries[i],e,n);break;default:throw new Error("Unknown Geometry Type")}}}}}function S(t,e,n,i){var r=n;return I(t,(function(t,i,o,s,a){r=0===i&&void 0===n?t:e(r,t,i,o,s,a)}),i),r}function O(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++)e(t.features[n].properties,n);break;case"Feature":e(t.properties,0)}}function M(t,e,n){var i=n;return O(t,(function(t,r){i=0===r&&void 0===n?t:e(i,t,r)})),i}function T(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var n=0;n<t.features.length;n++)e(t.features[n],n)}function N(t,e,n){var i=n;return T(t,(function(t,r){i=0===r&&void 0===n?t:e(i,t,r)})),i}function k(t){var e=[];return I(t,(function(t){e.push(t)})),e}function L(t,e){var n,i,r,o,s,a,l,u,c,h,f=0,p="FeatureCollection"===t.type,d="Feature"===t.type,A=p?t.features.length:1;for(n=0;n<A;n++){for(a=p?t.features[n].geometry:d?t.geometry:t,u=p?t.features[n].properties:d?t.properties:{},c=p?t.features[n].bbox:d?t.bbox:void 0,h=p?t.features[n].id:d?t.id:void 0,s=(l=!!a&&"GeometryCollection"===a.type)?a.geometries.length:1,r=0;r<s;r++)if(null!==(o=l?a.geometries[r]:a))switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":e(o,f,u,c,h);break;case"GeometryCollection":for(i=0;i<o.geometries.length;i++)e(o.geometries[i],f,u,c,h);break;default:throw new Error("Unknown Geometry Type")}else e(null,f,u,c,h);f++}}function F(t,e,n){var i=n;return L(t,(function(t,r,o,s,a){i=0===r&&void 0===n?t:e(i,t,r,o,s,a)})),i}function R(t,n){L(t,(function(t,i,r,o,s){var a,l=null===t?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return void n(e(t,r,{bbox:o,id:s}),i,0)}switch(l){case"MultiPoint":a="Point";break;case"MultiLineString":a="LineString";break;case"MultiPolygon":a="Polygon"}t.coordinates.forEach((function(t,o){n(e({type:a,coordinates:t},r),i,o)}))}))}function D(t,e,n){var i=n;return R(t,(function(t,r,o){i=0===r&&0===o&&void 0===n?t:e(i,t,r,o)})),i}function P(t,e){R(t,(function(t,n,i){var r=0;if(t.geometry){var o=t.geometry.type;"Point"!==o&&"MultiPoint"!==o&&S(t,(function(o,s,l,u,c,h){var f=a([o,s],t.properties);return e(f,n,i,h,r),r++,s}))}}))}function U(t,e,n){var i=n,r=!1;return P(t,(function(t,o,s,a,l){i=!1===r&&void 0===n?t:e(i,t,o,s,a,l),r=!0})),i}function Q(t,e){if(!t)throw new Error("geojson is required");R(t,(function(t,n,i){if(null!==t.geometry){var r=t.geometry.type,o=t.geometry.coordinates;switch(r){case"LineString":e(t,n,i,0,0);break;case"Polygon":for(var s=0;s<o.length;s++)e(a(o[s],t.properties),n,i,s)}}}))}function H(t,e,n){var i=n;return Q(t,(function(t,r,o,s){i=0===r&&void 0===n?t:e(i,t,r,o,s)})),i}function j(t){var e=[1/0,1/0,-1/0,-1/0];return I(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function z(t){if(!t)throw new Error("obj is required");var e=K(t);if(e.length>1&&E(e[0])&&E(e[1]))return e;throw new Error("Coordinate is not a valid Point")}function K(t){if(!t)throw new Error("obj is required");var e;if(t.length?e=t:t.coordinates?e=t.coordinates:t.geometry&&t.geometry.coordinates&&(e=t.geometry.coordinates),e)return G(e),e;throw new Error("No valid coordinates")}function G(t){if(t.length>1&&E(t[0])&&E(t[1]))return!0;if(Array.isArray(t[0])&&t[0].length)return G(t[0]);throw new Error("coordinates must only contain numbers")}function q(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}function W(t,e,n){if(!t)throw new Error("No feature passed");if(!n)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}function Y(t,e,n){if(!t)throw new Error("No featureCollection passed");if(!n)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+n+", FeatureCollection required");for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||"Feature"!==r.type||!r.geometry)throw new Error("Invalid input to "+n+", Feature with geometry required");if(!r.geometry||r.geometry.type!==e)throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}}function X(t){if(!t)throw new Error("geojson is required");if(void 0!==t.geometry)return t.geometry;if(t.coordinates||t.geometries)return t;throw new Error("geojson must be a valid Feature or Geometry Object")}function V(){throw new Error("invariant.getGeomType has been deprecated in v5.0 in favor of invariant.getType")}function J(t,e){if(!t)throw new Error((e||"geojson")+" is required");if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error((e||"geojson")+" is invalid")}function Z(t,e,n){n=n||{};for(var i=Object.keys(Oo),r=0;r<i.length;r++){var o=i[r],s=n[o];s=null!=s?s:Oo[o],Mo[o]=s}Mo.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+e);var a=function(t){var e=[],n=0;return t.rows,t.cols,t.cells.forEach((function(i,r){i.forEach((function(i,o){if(void 0!==i&&!function(t){return 5===t.cval||10===t.cval}(i)&&!tt(i)){var s=function(t,e,n){var i,r,o,s=t.length,a=[],l=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],u=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],c=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],h=(t[e][n],t[e][n]),f=h.cval,p=nt(h,o=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"][f]);a.push([n+p[0],e+p[1]]),p=nt(h,o=c[f]),a.push([n+p[0],e+p[1]]),et(h);for(var d=n+l[f],A=e+u[f],g=f;d>=0&&A>=0&&A<s&&(d!=n||A!=e)&&void 0!==(h=t[A][d]);){if(0===(f=h.cval)||15===f)return{path:a,info:"mergeable"};o=c[f],i=l[f],r=u[f],5!==f&&10!==f||(5===f?h.flipped?-1===u[g]?(o="left",i=-1,r=0):(o="right",i=1,r=0):-1===l[g]&&(o="bottom",i=0,r=-1):10===f&&(h.flipped?-1===l[g]?(o="top",i=0,r=1):(o="bottom",i=0,r=-1):1===u[g]&&(o="left",i=-1,r=0))),p=nt(h,o),a.push([d+p[0],A+p[1]]),et(h),d+=i,A+=r,g=f}return{path:a,info:"closed"}}(t.cells,r,o),a=!1;if("mergeable"===s.info)for(var l=s.path[s.path.length-1][0],u=s.path[s.path.length-1][1],c=n-1;c>=0;c--)if(Math.abs(e[c][0][0]-l)<=1e-7&&Math.abs(e[c][0][1]-u)<=1e-7){for(var h=s.path.length-2;h>=0;--h)e[c].unshift(s.path[h]);a=!0;break}a||(e[n++]=s.path)}}))})),e}(function(t,e){for(var n=t.length-1,i=t[0].length-1,r={rows:n,cols:i,cells:[]},o=0;o<n;++o){r.cells[o]=[];for(var s=0;s<i;++s){var a=0,l=t[o+1][s],u=t[o+1][s+1],c=t[o][s+1],h=t[o][s];if(!(isNaN(l)||isNaN(u)||isNaN(c)||isNaN(h))){a|=l>=e?8:0,a|=u>=e?4:0,a|=c>=e?2:0;var f,p,d,A,g=!1;if(5==(a|=h>=e?1:0)||10===a){var m=(l+u+c+h)/4;5===a&&m<e?(a=10,g=!0):10===a&&m<e&&(a=5,g=!0)}0!==a&&15!==a&&(f=p=d=A=.5,1===a?(d=1-$(e,l,h),p=1-$(e,c,h)):2===a?(p=$(e,h,c),A=1-$(e,u,c)):3===a?(d=1-$(e,l,h),A=1-$(e,u,c)):4===a?(f=$(e,l,u),A=$(e,c,u)):5===a?(f=$(e,l,u),A=$(e,c,u),p=1-$(e,c,h),d=1-$(e,l,h)):6===a?(p=$(e,h,c),f=$(e,l,u)):7===a?(d=1-$(e,l,h),f=$(e,l,u)):8===a?(d=$(e,h,l),f=1-$(e,u,l)):9===a?(p=1-$(e,c,h),f=1-$(e,u,l)):10===a?(f=1-$(e,u,l),A=1-$(e,u,c),p=$(e,h,c),d=$(e,h,l)):11===a?(f=1-$(e,u,l),A=1-$(e,u,c)):12===a?(d=$(e,h,l),A=$(e,c,u)):13===a?(p=1-$(e,c,h),A=$(e,c,u)):14===a?(d=$(e,h,l),p=$(e,h,c)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+a),r.cells[o][s]={cval:a,flipped:g,top:f,right:A,bottom:p,left:d})}}}return r}(t,e));return"function"==typeof Mo.successCallback&&Mo.successCallback(a),a}function $(t,e,n){return(t-e)/(n-e)}function tt(t){return 0===t.cval||15===t.cval}function et(t){tt(t)||5===t.cval||10===t.cval||(t.cval=15)}function nt(t,e){return"top"===e?[t.top,1]:"bottom"===e?[t.bottom,0]:"right"===e?[1,t.right]:"left"===e?[0,t.left]:void 0}function it(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function rt(t,e){if(!(this instanceof rt))return new rt(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function ot(t,e){st(t,0,t.children.length,e,t)}function st(t,e,n,i,r){r||(r=dt(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],at(r,t.leaf?i(o):o);return r}function at(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function lt(t,e){return t.minX-e.minX}function ut(t,e){return t.minY-e.minY}function ct(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function ht(t){return t.maxX-t.minX+(t.maxY-t.minY)}function ft(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function pt(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function dt(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function At(t,e,n,i,r){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=i||(o=e+Math.ceil((n-e)/i/2)*i,To(t,o,e,n,r),s.push(e,o,o,n))}function gt(t,e){return t(e={exports:{}},e.exports),e.exports}function mt(t,e){if(!(this instanceof mt))return new mt(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||function(t,e){return t<e?-1:t>e?1:0},this.length>0)for(var n=(this.length>>1)-1;n>=0;n--)this._down(n)}function vt(t,e,n){e=Math.max(0,void 0===e?2:e),n=n||0;for(var i,r=function(t){for(var e=t[0],n=t[0],i=t[0],r=t[0],o=0;o<t.length;o++){var s=t[o];s[0]<e[0]&&(e=s),s[0]>i[0]&&(i=s),s[1]<n[1]&&(n=s),s[1]>r[1]&&(r=s)}var a=[e,n,i,r],l=a.slice();for(o=0;o<t.length;o++)Ko(t[o],a)||l.push(t[o]);var u=Qo(l),c=[];for(o=0;o<u.length;o++)c.push(l[u[o]]);return c}(t),o=No(16,["[0]","[1]","[0]","[1]"]).load(t),s=[],a=0;a<r.length;a++){var l=r[a];o.remove(l),i=Et(l,i),s.push(i)}var u=No(16);for(a=0;a<s.length;a++)u.insert(wt(s[a]));for(var c=e*e,h=n*n;s.length;){var f=s.shift(),p=f.p,d=f.next.p,A=xt(p,d);if(!(A<h)){var g=A/c;(l=function(t,e,n,i,r,o,s){for(var a=new jo(null,yt),l=t.data;l;){for(var u=0;u<l.children.length;u++){var c=l.children[u],h=l.leaf?Ct(c,n,i):function(t,e,n){if(_t(t,n)||_t(e,n))return 0;var i=Bt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.maxX,n.minY);if(0===i)return 0;var r=Bt(t[0],t[1],e[0],e[1],n.minX,n.minY,n.minX,n.maxY);if(0===r)return 0;var o=Bt(t[0],t[1],e[0],e[1],n.maxX,n.minY,n.maxX,n.maxY);if(0===o)return 0;var s=Bt(t[0],t[1],e[0],e[1],n.minX,n.maxY,n.maxX,n.maxY);return 0===s?0:Math.min(i,r,o,s)}(n,i,c);h>o||a.push({node:c,dist:h})}for(;a.length&&!a.peek().node.children;){var f=a.pop(),p=f.node,d=Ct(p,e,n),A=Ct(p,i,r);if(f.dist<d&&f.dist<A&&bt(n,p,s)&&bt(i,p,s))return p}(l=a.pop())&&(l=l.node)}return null}(o,f.prev.p,p,d,f.next.next.p,g,u))&&Math.min(xt(l,p),xt(l,d))<=g&&(s.push(f),s.push(Et(l,f)),o.remove(l),u.remove(f),u.insert(wt(f)),u.insert(wt(f.next)))}}f=i;var m=[];do{m.push(f.p),f=f.next}while(f!==i);return m.push(f.p),m}function yt(t,e){return t.dist-e.dist}function _t(t,e){return t[0]>=e.minX&&t[0]<=e.maxX&&t[1]>=e.minY&&t[1]<=e.maxY}function bt(t,e,n){for(var i=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]),o=Math.max(t[0],e[0]),s=Math.max(t[1],e[1]),a=n.search({minX:i,minY:r,maxX:o,maxY:s}),l=0;l<a.length;l++)if(function(t,e,n,i){return t!==i&&e!==n&&Go(t,e,n)>0!=Go(t,e,i)>0&&Go(n,i,t)>0!=Go(n,i,e)>0}(a[l].p,a[l].next.p,t,e))return!1;return!0}function wt(t){var e=t.p,n=t.next.p;return t.minX=Math.min(e[0],n[0]),t.minY=Math.min(e[1],n[1]),t.maxX=Math.max(e[0],n[0]),t.maxY=Math.max(e[1],n[1]),t}function Et(t,e){var n={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return e?(n.next=e.next,n.prev=e,e.next.prev=n,e.next=n):(n.prev=n,n.next=n),n}function xt(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function Ct(t,e,n){var i=e[0],r=e[1],o=n[0]-i,s=n[1]-r;if(0!==o||0!==s){var a=((t[0]-i)*o+(t[1]-r)*s)/(o*o+s*s);a>1?(i=n[0],r=n[1]):a>0&&(i+=o*a,r+=s*a)}return(o=t[0]-i)*o+(s=t[1]-r)*s}function Bt(t,e,n,i,r,o,s,a){var l,u,c,h,f=n-t,p=i-e,d=s-r,A=a-o,g=t-r,m=e-o,v=f*f+p*p,y=f*d+p*A,_=d*d+A*A,b=f*g+p*m,w=d*g+A*m,E=v*_-y*y,x=E,C=E;0===E?(u=0,x=1,h=w,C=_):(h=v*w-y*b,(u=y*w-_*b)<0?(u=0,h=w,C=_):u>x&&(u=x,h=w+y,C=_)),h<0?(h=0,-b<0?u=0:-b>v?u=x:(u=-b,x=v)):h>C&&(h=C,-b+y<0?u=0:-b+y>v?u=x:(u=-b+y,x=v));var B=(1-(c=0===h?0:h/C))*r+c*s-((1-(l=0===u?0:u/x))*t+l*n),I=(1-c)*o+c*a-((1-l)*e+l*i);return B*B+I*I}function It(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.concavity||1/0,i=[];if(I(t,(function(t){i.push([t[0],t[1]])})),!i.length)return null;var r=qo(i,n);return r.length>3?o([r]):null}function St(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.ignoreBoundary;if(!t)throw new Error("point is required");if(!e)throw new Error("polygon is required");var r=z(t),o=K(e),s=e.geometry?e.geometry.type:e.type,a=e.bbox;if(a&&!1===function(t,e){return e[0]<=t[0]&&e[1]<=t[1]&&e[2]>=t[0]&&e[3]>=t[1]}(r,a))return!1;"Polygon"===s&&(o=[o]);for(var l=0,u=!1;l<o.length&&!u;l++)if(Ot(r,o[l][0],i)){for(var c=!1,h=1;h<o[l].length&&!c;)Ot(r,o[l][h],!i)&&(c=!0),h++;c||(u=!0)}return u}function Ot(t,e,n){var i=!1;e[0][0]===e[e.length-1][0]&&e[0][1]===e[e.length-1][1]&&(e=e.slice(0,e.length-1));for(var r=0,o=e.length-1;r<e.length;o=r++){var s=e[r][0],a=e[r][1],l=e[o][0],u=e[o][1];if(t[1]*(s-l)+a*(l-t[0])+u*(t[0]-s)==0&&(s-t[0])*(l-t[0])<=0&&(a-t[1])*(u-t[1])<=0)return!n;a>t[1]!=u>t[1]&&t[0]<(l-s)*(t[1]-a)/(u-a)+s&&(i=!i)}return i}function Mt(t,e){var n=[];return L(e,(function(e){T(t,(function(t){St(t,e)&&n.push(t)}))})),u(n)}function Tt(t,e){if("FeatureCollection"!==t.type)throw new Error("points must be a FeatureCollection");var n=!1;return u(function(t){if(t.length<3)return[];t.sort(kt);for(var e,n,i,r,o,s,a=t.length-1,l=t[a].x,u=t[0].x,c=t[a].y,h=c;a--;)t[a].y<c&&(c=t[a].y),t[a].y>h&&(h=t[a].y);var f,p=u-l,d=h-c,A=p>d?p:d,g=.5*(u+l),m=.5*(h+c),v=[new Nt({x:g-20*A,y:m-A,__sentinel:!0},{x:g,y:m+20*A,__sentinel:!0},{x:g+20*A,y:m-A,__sentinel:!0})],y=[],_=[];for(a=t.length;a--;){for(_.length=0,f=v.length;f--;)(p=t[a].x-v[f].x)>0&&p*p>v[f].r?(y.push(v[f]),v.splice(f,1)):p*p+(d=t[a].y-v[f].y)*d>v[f].r||(_.push(v[f].a,v[f].b,v[f].b,v[f].c,v[f].c,v[f].a),v.splice(f,1));for(Lt(_),f=_.length;f;)n=_[--f],e=_[--f],i=t[a],r=n.x-e.x,o=n.y-e.y,s=2*(r*(i.y-n.y)-o*(i.x-n.x)),Math.abs(s)>1e-12&&v.push(new Nt(e,n,i))}for(Array.prototype.push.apply(y,v),a=y.length;a--;)(y[a].a.__sentinel||y[a].b.__sentinel||y[a].c.__sentinel)&&y.splice(a,1);return y}(t.features.map((function(t){var i={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};return e?i.z=t.properties[e]:3===t.geometry.coordinates.length&&(n=!0,i.z=t.geometry.coordinates[2]),i}))).map((function(t){var e=[t.a.x,t.a.y],i=[t.b.x,t.b.y],r=[t.c.x,t.c.y],s={};return n?(e.push(t.a.z),i.push(t.b.z),r.push(t.c.z)):s={a:t.a.z,b:t.b.z,c:t.c.z},o([[e,i,r,e]],s)})))}function Nt(t,e,n){this.a=t,this.b=e,this.c=n;var i,r,o=e.x-t.x,s=e.y-t.y,a=n.x-t.x,l=n.y-t.y,u=o*(t.x+e.x)+s*(t.y+e.y),c=a*(t.x+n.x)+l*(t.y+n.y),h=2*(o*(n.y-e.y)-s*(n.x-e.x));this.x=(l*u-s*c)/h,this.y=(o*c-a*u)/h,i=this.x-t.x,r=this.y-t.y,this.r=i*i+r*r}function kt(t,e){return e.x-t.x}function Lt(t){var e,n,i,r,o,s=t.length;t:for(;s;)for(n=t[--s],e=t[--s],i=s;i;)if(o=t[--i],r=t[--i],e===r&&n===o||e===o&&n===r){t.splice(s,2),t.splice(i,2),s-=2;continue t}}function Ft(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.units,r=z(t),o=z(e),s=_(o[1]-r[1]),a=_(o[0]-r[0]),l=_(r[1]),u=_(o[1]),c=Math.pow(Math.sin(s/2),2)+Math.pow(Math.sin(a/2),2)*Math.cos(l)*Math.cos(u);return A(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)),i)}function Rt(t){if(!t)throw new Error("geojson is required");switch(t.type){case"Feature":return Dt(t);case"FeatureCollection":return function(t){var e={type:"FeatureCollection"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"features":return;default:e[n]=t[n]}})),e.features=t.features.map((function(t){return Dt(t)})),e}(t);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Pt(t);default:throw new Error("unknown GeoJSON type")}}function Dt(t){var e={type:"Feature"};return Object.keys(t).forEach((function(n){switch(n){case"type":case"properties":case"geometry":return;default:e[n]=t[n]}})),e.properties=function t(e){var n={};return e?(Object.keys(e).forEach((function(i){var r=e[i];"object"==typeof r?null===r?n[i]=null:r.length?n[i]=r.map((function(t){return t})):n[i]=t(r):n[i]=r})),n):n}(t.properties),e.geometry=Pt(t.geometry),e}function Pt(t){var e={type:t.type};return t.bbox&&(e.bbox=t.bbox),"GeometryCollection"===t.type?(e.geometries=t.geometries.map((function(t){return Pt(t)})),e):(e.coordinates=function t(e){return"object"!=typeof e[0]?e.slice():e.map((function(e){return t(e)}))}(t.coordinates),e)}function Ut(t,e){function n(t,e){e.length&&e.pop();for(var n=l[t<0?~t:t],i=0,r=n.length;i<r;++i)e.push(a(n[i],i));t<0&&Vo(e,r)}function i(t){return a(t)}function r(t){for(var e=[],i=0,r=t.length;i<r;++i)n(t[i],e);return e.length<2&&e.push(e[0]),e}function o(t){for(var e=r(t);e.length<4;)e.push(e[0]);return e}function s(t){return t.map(o)}var a=Xo(t.transform),l=t.arcs;return function t(e){var n,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":n=i(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(i);break;case"LineString":n=r(e.arcs);break;case"MultiLineString":n=e.arcs.map(r);break;case"Polygon":n=s(e.arcs);break;case"MultiPolygon":n=e.arcs.map(s);break;default:return null}return{type:o,coordinates:n}}(e)}function Qt(t,e){function n(t){t.forEach((function(e){e.forEach((function(e){(r[e=e<0?~e:e]||(r[e]=[])).push(t)}))})),o.push(t)}function i(e){return function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[0]*r[1]-e[1]*r[0];return Math.abs(o)}(Ut(t,{type:"Polygon",arcs:[e]}).coordinates[0])}var r={},o=[],s=[];return e.forEach((function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}})),o.forEach((function(t){if(!t._){var e=[],n=[t];for(t._=1,s.push(e);t=n.pop();)e.push(t),t.forEach((function(t){t.forEach((function(t){r[t<0?~t:t].forEach((function(t){t._||(t._=1,n.push(t))}))}))}))}})),o.forEach((function(t){delete t._})),{type:"MultiPolygon",arcs:s.map((function(e){var n,o=[];if(e.forEach((function(t){t.forEach((function(t){t.forEach((function(t){r[t<0?~t:t].length<2&&o.push(t)}))}))})),(n=(o=Jo(t,o)).length)>1)for(var s,a,l=1,u=i(o[0]);l<n;++l)(s=i(o[l]))>u&&(a=o[0],o[0]=o[l],o[l]=a,u=s);return o}))}}function Ht(t,e,n){for(var i,r=e+(n---e>>1);e<r;++e,--n)i=t[e],t[e]=t[n],t[n]=i}function jt(t){return null==t?{type:null}:("FeatureCollection"===t.type?function(t){var e={type:"GeometryCollection",geometries:t.features.map(zt)};return null!=t.bbox&&(e.bbox=t.bbox),e}:"Feature"===t.type?zt:Kt)(t)}function zt(t){var e,n=Kt(t.geometry);for(e in null!=t.id&&(n.id=t.id),null!=t.bbox&&(n.bbox=t.bbox),t.properties){n.properties=t.properties;break}return n}function Kt(t){if(null==t)return{type:null};var e="GeometryCollection"===t.type?{type:"GeometryCollection",geometries:t.geometries.map(Kt)}:"Point"===t.type||"MultiPoint"===t.type?{type:t.type,coordinates:t.coordinates}:{type:t.type,arcs:t.coordinates};return null!=t.bbox&&(e.bbox=t.bbox),e}function Gt(t){var e,n=t[0],i=t[1];return i<n&&(e=n,n=i,i=e),n+31*i}function qt(t,e){var n,i=t[0],r=t[1],o=e[0],s=e[1];return r<i&&(n=i,i=r,r=n),s<o&&(n=o,o=s,s=n),i===o&&r===s}function Wt(t){return t[0].toString()+","+t[1].toString()}function Yt(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==J(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Rt(t));var i=function(t){var e={};R(t,(function(t){e[t.geometry.type]=!0}));var n=Object.keys(e);return 1===n.length?n[0]:null}(t);if(!i)throw new Error("geojson must be homogenous");switch(i){case"LineString":return function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==J(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Rt(t));var i=[],r=H(t,(function(t,e){return function(t,e){var n,i=t.geometry.coordinates,r=e.geometry.coordinates,o=Wt(i[0]),s=Wt(i[i.length-1]),l=Wt(r[0]),u=Wt(r[r.length-1]);if(o===u)n=r.concat(i.slice(1));else if(l===s)n=i.concat(r.slice(1));else if(o===l)n=i.slice(1).reverse().concat(r);else{if(s!==u)return null;n=i.concat(r.reverse().slice(1))}return a(n)}(t,e)||(i.push(t),e)}));return r&&i.push(r),i.length?1===i.length?i[0]:c(i.map((function(t){return t.coordinates}))):null}(t,e);case"Polygon":return function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if("FeatureCollection"!==J(t))throw new Error("geojson must be a FeatureCollection");if(!t.features.length)throw new Error("geojson is empty");!1!==n&&void 0!==n||(t=Rt(t));var i=[];R(t,(function(t){i.push(t.geometry)}));var r=ss({geoms:p(i).geometry});return Zo(r,r.objects.geoms.geometries)}(t,e);default:throw new Error(i+" is not supported")}}function Xt(t,n){var i="object"==typeof n?n.mutate:n;if(!t)throw new Error("geojson is required");var r=J(t),o=[];switch(r){case"LineString":o=Vt(t);break;case"MultiLineString":case"Polygon":K(t).forEach((function(t){o.push(Vt(t))}));break;case"MultiPolygon":K(t).forEach((function(t){var e=[];t.forEach((function(t){e.push(Vt(t))})),o.push(e)}));break;case"Point":return t;case"MultiPoint":var s={};K(t).forEach((function(t){var e=t.join("-");s.hasOwnProperty(e)||(o.push(t),s[e]=!0)}));break;default:throw new Error(r+" geometry not supported")}return t.coordinates?!0===i?(t.coordinates=o,t):{type:r,coordinates:o}:!0===i?(t.geometry.coordinates=o,t):e({type:r,coordinates:o},t.properties,t.bbox,t.id)}function Vt(t){var e=K(t);if(2===e.length&&!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(e[0],e[1]))return e;var n,i,r,o=[],s=e.length-1;o.push(e[0]);for(var a=1;a<s;a++)n=e[a-1],i=e[a],function(t,e,n){var i=n[0],r=n[1],o=t[0],s=t[1],a=e[0],l=e[1],u=a-o,c=l-s;return(i-o)*c-(r-s)*u==0&&(Math.abs(u)>=Math.abs(c)?u>0?o<=i&&i<=a:a<=i&&i<=o:c>0?s<=r&&r<=l:l<=r&&r<=s)}(n,r=e[a+1],i)||o.push(i);return o.push(r),o}function Jt(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function Zt(t,e,n){var i=e.x,r=e.y,o=n.x-i,s=n.y-r;if(0!==o||0!==s){var a=((t.x-i)*o+(t.y-r)*s)/(o*o+s*s);a>1?(i=n.x,r=n.y):a>0&&(i+=o*a,r+=s*a)}return(o=t.x-i)*o+(s=t.y-r)*s}function $t(t,e,n){if(t.length<=2)return t;var i=void 0!==e?e*e:1;return function(t,e){var n=t.length-1,i=[t[0]];return function t(e,n,i,r,o){for(var s,a=r,l=n+1;l<i;l++){var u=Zt(e[l],e[n],e[i]);u>a&&(s=l,a=u)}a>r&&(s-n>1&&t(e,n,s,r,o),o.push(e[s]),i-s>1&&t(e,s,i,r,o))}(t,0,n,e,i),i.push(t[n]),i}(t=n?t:function(t,e){for(var n,i=t[0],r=[i],o=1,s=t.length;o<s;o++)Jt(n=t[o],i)>e&&(r.push(n),i=n);return i!==n&&r.push(n),r}(t,i),i)}function te(t,e,n){return $t(t.map((function(t){return{x:t[0],y:t[1],z:t[2]}})),e,n).map((function(t){return t.z?[t.x,t.y,t.z]:[t.x,t.y]}))}function ee(t,e,n){return t.map((function(t){var i=t.map((function(t){return{x:t[0],y:t[1]}}));if(i.length<4)throw new Error("invalid polygon");for(var r=$t(i,e,n).map((function(t){return[t.x,t.y]}));!function(t){return!(t.length<3||3===t.length&&t[2][0]===t[0][0]&&t[2][1]===t[0][1])}(r);)r=$t(i,e-=.01*e,n).map((function(t){return[t.x,t.y]}));return r[r.length-1][0]===r[0][0]&&r[r.length-1][1]===r[0][1]||r.push(r[0]),r}))}function ne(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.resolution||1e4,i=e.sharpness||.85;if(!t)throw new Error("line is required");if(!E(n))throw new Error("resolution must be an number");if(!E(i))throw new Error("sharpness must be an number");for(var r=[],o=new as({points:X(t).coordinates.map((function(t){return{x:t[0],y:t[1]}})),duration:n,sharpness:i}),s=0;s<o.duration;s+=10){var l=o.pos(s);Math.floor(s/100)%2==0&&r.push([l.x,l.y])}return a(r,t.properties)}function ie(t){C(t);var e=Number(t[0]),n=Number(t[1]),i=Number(t[2]),r=Number(t[3]);if(6===t.length)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var s=[e,n];return o([[s,[i,n],[i,r],[e,r],s]])}function re(t){return ie(j(t))}function oe(t){var e=t[0],n=t[1],i=t[2],r=t[3];if(Ft(t.slice(0,2),[i,n])>=Ft(t.slice(0,2),[e,r])){var o=(n+r)/2;return[e,o-(i-e)/2,i,o+(i-e)/2]}var s=(e+i)/2;return[s-(r-n)/2,n,s+(r-n)/2,r]}function se(t,e,n,r){if(!x(r=r||{}))throw new Error("options is invalid");var o=r.units,s=r.properties,a=z(t),l=_(a[0]),u=_(a[1]),c=_(n),h=g(e,o),f=Math.asin(Math.sin(u)*Math.cos(h)+Math.cos(u)*Math.sin(h)*Math.cos(c));return i([y(l+Math.atan2(Math.sin(c)*Math.sin(h)*Math.cos(u),Math.cos(h)-Math.sin(u)*Math.sin(f))),y(f)],s)}function ae(t,e,n){var i=(n=n||{}).steps||64,r=n.properties;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof i)throw new Error("steps must be a number");i=i||64,r=r||t.properties||{};for(var s=[],a=0;a<i;a++)s.push(se(t,e,-360*a/i,n).geometry.coordinates);return s.push(s[0]),o([s],r)}function le(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");if(!0===n.final)return function(t,e){var n=le(e,t);return(n+180)%360}(t,e);var i=z(t),r=z(e),o=_(i[0]),s=_(r[0]),a=_(i[1]),l=_(r[1]),u=Math.sin(s-o)*Math.cos(l),c=Math.cos(a)*Math.sin(l)-Math.sin(a)*Math.cos(l)*Math.cos(s-o);return y(Math.atan2(u,c))}function ue(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.properties;if(!t)throw new Error("geojson is required");var r=j(t);return i([(r[0]+r[2])/2,(r[1]+r[3])/2],n)}function ce(t,e){var n=0,r=0,o=0;return I(t,(function(t){n+=t[0],r+=t[1],o++}),!0),i([n/o,r/o],e)}function he(t){var e=[];return"FeatureCollection"===t.type?T(t,(function(t){I(t,(function(n){e.push(i(n,t.properties))}))})):I(t,(function(n){e.push(i(n,t.properties))})),u(e)}function fe(t,e,n){n=n||2;var i,r,o,s,a,l,u,c=e&&e.length,h=c?e[0]*n:t.length,f=pe(t,0,h,n,!0),p=[];if(!f)return p;if(c&&(f=function(t,e,n,i){var r,o,s,a=[];for(r=0,o=e.length;r<o;r++)(s=pe(t,e[r]*i,r<o-1?e[r+1]*i:t.length,i,!1))===s.next&&(s.steiner=!0),a.push(function(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}(s));for(a.sort(Ae),r=0;r<a.length;r++)!function(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>s){if(s=a,a===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===s)return n.prev;var l,u=n,c=n.x,h=n.y,f=1/0;for(i=n.next;i!==u;)r>=i.x&&i.x>=c&&r!==i.x&&me(o<h?r:s,o,c,h,o<h?s:r,o,i.x,i.y)&&((l=Math.abs(o-i.y)/(r-i.x))<f||l===f&&i.x>n.x)&&be(i,t)&&(n=i,f=l),i=i.next;return n}(t,e)){var n=we(e,t);de(n,n.next)}}(a[r],n),n=de(n,n.next);return n}(t,e,f,n)),t.length>80*n){i=o=t[0],r=s=t[1];for(var d=n;d<h;d+=n)(a=t[d])<i&&(i=a),(l=t[d+1])<r&&(r=l),a>o&&(o=a),l>s&&(s=l);u=0!==(u=Math.max(o-i,s-r))?1/u:0}return function t(e,n,i,r,o,s,a){if(e){!a&&s&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=ge(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,s,a,l,u=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<u&&(a++,i=i.nextZ);e++);for(l=u;a>0||l>0&&i;)0!==a&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,u*=2}while(s>1)}(r)}(e,r,o,s);for(var l,u,c=e;e.prev!==e.next;)if(l=e.prev,u=e.next,s?function(t,e,n,i){var r=t.prev,o=t,s=t.next;if(ve(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,l=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,u=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,c=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,h=ge(a,l,e,n,i),f=ge(u,c,e,n,i),p=t.nextZ;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&me(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&ve(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&me(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&ve(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}(e,r,o,s):function(t){var e=t.prev,n=t,i=t.next;if(ve(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(me(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&ve(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}(e))n.push(l.i/i),n.push(e.i/i),n.push(u.i/i),xe(e),e=u.next,c=u.next;else if((e=u)===c){a?1===a?t(e=function(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!ye(r,o)&&_e(r,i,i.next,o)&&be(r,o)&&be(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),xe(i),xe(i.next),i=t=o),i=i.next}while(i!==t);return i}(e,n,i),n,i,r,o,s,2):2===a&&function(e,n,i,r,o,s){var a=e;do{for(var l=a.next.next;l!==a.prev;){if(a.i!==l.i&&function(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&_e(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&be(t,e)&&be(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)}(a,l)){var u=we(a,l);return a=de(a,a.next),u=de(u,u.next),t(a,n,i,r,o,s),void t(u,n,i,r,o,s)}l=l.next}a=a.next}while(a!==e)}(e,n,i,r,o,s):t(de(e),n,i,r,o,s,1);break}}}(f,p,n,i,r,u),p}function pe(t,e,n,i,r){var o,s;if(r===Be(t,e,n,i)>0)for(o=e;o<n;o+=i)s=Ee(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=Ee(o,t[o],t[o+1],s);return s&&ye(s,s.next)&&(xe(s),s=s.next),s}function de(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!ye(i,i.next)&&0!==ve(i.prev,i,i.next))i=i.next;else{if(xe(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function Ae(t,e){return t.x-e.x}function ge(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function me(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function ve(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function ye(t,e){return t.x===e.x&&t.y===e.y}function _e(t,e,n,i){return!!(ye(t,e)&&ye(n,i)||ye(t,i)&&ye(n,e))||ve(t,e,n)>0!=ve(t,e,i)>0&&ve(n,i,t)>0!=ve(n,i,e)>0}function be(t,e){return ve(t.prev,t,t.next)<0?ve(t,e,t.next)>=0&&ve(t,t.prev,e)>=0:ve(t,e,t.prev)<0||ve(t,t.next,e)<0}function we(t,e){var n=new Ce(t.i,t.x,t.y),i=new Ce(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function Ee(t,e,n,i){var r=new Ce(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function xe(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ce(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Be(t,e,n,i){for(var r=0,o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}function Ie(t){var e=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}(t),n=ls(e.vertices,e.holes,2),i=[],r=[];n.forEach((function(t,i){var o=n[i];r.push([e.vertices[2*o],e.vertices[2*o+1]])}));for(var s=0;s<r.length;s+=3){var a=r.slice(s,s+3);a.push(r[s]),i.push(o([a]))}return i}function Se(t,e){if(!t)throw new Error("targetPoint is required");if(!e)throw new Error("points is required");var n,i=1/0;return T(e,(function(e,r){var o=Ft(t,e);o<i&&((n=Rt(e)).properties.featureIndex=r,n.properties.distanceToPoint=o,i=o)})),n}function Oe(t,e,n,i,r){!function t(e,n,i,r,o){for(;r>i;){if(r-i>600){var s=r-i+1,a=n-i+1,l=Math.log(s),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(s-u)/s)*(a-s/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-a*u/s+c)),Math.min(r,Math.floor(n+(s-a)*u/s+c)),o)}var h=e[n],f=i,p=r;for(Me(e,i,n),o(e[r],h)>0&&Me(e,i,r);f<p;){for(Me(e,f,p),f++,p--;o(e[f],h)<0;)f++;for(;o(e[p],h)>0;)p--}0===o(e[i],h)?Me(e,i,p):Me(e,++p,r),p<=n&&(i=p+1),n<=p&&(r=p-1)}}(t,e,n||0,i||t.length-1,r||function(t,e){return t<e?-1:t>e?1:0})}function Me(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function Te(t,e){if(!(this instanceof Te))return new Te(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function Ne(t,e){ke(t,0,t.children.length,e,t)}function ke(t,e,n,i,r){r||(r=He(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],Le(r,t.leaf?i(o):o);return r}function Le(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function Fe(t,e){return t.minX-e.minX}function Re(t,e){return t.minY-e.minY}function De(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Pe(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Ue(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Qe(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function He(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function je(t,e,n,i,r){for(var o,s=[e,n];s.length;)(n=s.pop())-(e=s.pop())<=i||(Oe(t,o=e+Math.ceil((n-e)/i/2)*i,e,n,r),s.push(e,o,o,n))}function ze(t){var e=Te(t);return e.insert=function(t){if(Array.isArray(t)){var e=t;(t=Ke(e)).bbox=e}else t.bbox=t.bbox?t.bbox:Ge(t);return Te.prototype.insert.call(this,t)},e.load=function(t){var e=[];return Array.isArray(t)?t.forEach((function(t){var n=Ke(t);n.bbox=t,e.push(n)})):T(t,(function(t){t.bbox=t.bbox?t.bbox:Ge(t),e.push(t)})),Te.prototype.load.call(this,e)},e.remove=function(t){if(Array.isArray(t)){var e=t;(t=Ke(e)).bbox=e}return Te.prototype.remove.call(this,t)},e.clear=function(){return Te.prototype.clear.call(this)},e.search=function(t){return{type:"FeatureCollection",features:Te.prototype.search.call(this,this.toBBox(t))}},e.collides=function(t){return Te.prototype.collides.call(this,this.toBBox(t))},e.all=function(){return{type:"FeatureCollection",features:Te.prototype.all.call(this)}},e.toJSON=function(){return Te.prototype.toJSON.call(this)},e.fromJSON=function(t){return Te.prototype.fromJSON.call(this,t)},e.toBBox=function(t){var e;return{minX:(e=t.bbox?t.bbox:Array.isArray(t)&&4===t.length?t:Ge(t))[0],minY:e[1],maxX:e[2],maxY:e[3]}},e}function Ke(t){var e=[t[0],t[1]],n=[t[0],t[3]],i=[t[2],t[3]];return{type:"Feature",bbox:t,properties:{},geometry:{type:"Polygon",coordinates:[[e,[t[2],t[1]],i,n,e]]}}}function Ge(t){var e=[1/0,1/0,-1/0,-1/0];return I(t,(function(t){e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])})),e}function qe(t){if(!t)throw new Error("geojson is required");var e=[];return R(t,(function(t){!function(t,e){var n=[],i=t.geometry;switch(i.type){case"Polygon":n=K(i);break;case"LineString":n=[K(i)]}n.forEach((function(n){(function(t,e){var n=[];return t.reduce((function(t,i){var r=a([t,i],e);return r.bbox=function(t,e){var n=t[0],i=t[1],r=e[0],o=e[1];return[n<r?n:r,i<o?i:o,n>r?n:r,i>o?i:o]}(t,i),n.push(r),i})),n})(n,t.properties).forEach((function(t){t.id=e.length,e.push(t)}))}))}(t,e)})),u(e)}function We(t,n){var i={},r=[];if("LineString"===t.type&&(t=e(t)),"LineString"===n.type&&(n=e(n)),"Feature"===t.type&&"Feature"===n.type&&"LineString"===t.geometry.type&&"LineString"===n.geometry.type&&2===t.geometry.coordinates.length&&2===n.geometry.coordinates.length){var o=Ye(t,n);return o&&r.push(o),u(r)}var s=ze();return s.load(qe(n)),T(qe(t),(function(t){T(s.search(t),(function(e){var n=Ye(t,e);if(n){var o=K(n).join(",");i[o]||(i[o]=!0,r.push(n))}}))})),u(r)}function Ye(t,e){var n=K(t),r=K(e);if(2!==n.length)throw new Error("<intersects> line1 must only contain 2 coordinates");if(2!==r.length)throw new Error("<intersects> line2 must only contain 2 coordinates");var o=n[0][0],s=n[0][1],a=n[1][0],l=n[1][1],u=r[0][0],c=r[0][1],h=r[1][0],f=r[1][1],p=(f-c)*(a-o)-(h-u)*(l-s);if(0===p)return null;var d=((h-u)*(s-c)-(f-c)*(o-u))/p,A=((a-o)*(s-c)-(l-s)*(o-u))/p;return d>=0&&d<=1&&A>=0&&A<=1?i([o+d*(a-o),s+d*(l-s)]):null}function Xe(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=t.geometry?t.geometry.type:t.type;if("LineString"!==r&&"MultiLineString"!==r)throw new Error("lines must be LineString or MultiLineString");var o=i([1/0,1/0],{dist:1/0}),s=0;return R(t,(function(t){for(var r=K(t),l=0;l<r.length-1;l++){var u=i(r[l]);u.properties.dist=Ft(e,u,n);var c=i(r[l+1]);c.properties.dist=Ft(e,c,n);var h=Ft(u,c,n),f=Math.max(u.properties.dist,c.properties.dist),p=le(u,c),d=se(e,f,p+90,n),A=se(e,f,p-90,n),g=We(a([d.geometry.coordinates,A.geometry.coordinates]),a([u.geometry.coordinates,c.geometry.coordinates])),m=null;g.features.length>0&&((m=g.features[0]).properties.dist=Ft(e,m,n),m.properties.location=s+Ft(u,m,n)),u.properties.dist<o.properties.dist&&((o=u).properties.index=l,o.properties.location=s),c.properties.dist<o.properties.dist&&((o=c).properties.index=l+1,o.properties.location=s+h),m&&m.properties.dist<o.properties.dist&&((o=m).properties.index=l),s+=h}})),o}function Ve(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i,r=n.final;if(!t)throw new Error("start point is required");if(!e)throw new Error("end point is required");return(i=r?Je(z(e),z(t)):Je(z(t),z(e)))>180?-(360-i):i}function Je(t,e){var n=_(t[1]),i=_(e[1]),r=_(e[0]-t[0]);r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);var o=Math.log(Math.tan(i/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(y(Math.atan2(r,o))+360)%360}function Ze(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.units;if(!t)throw new Error("from point is required");if(!e)throw new Error("to point is required");var r=z(t),o=z(e);return o[0]+=o[0]-r[0]>180?-360:r[0]-o[0]>180?360:0,b(function(t,e,n){var i=n=void 0===n?wo:Number(n),r=t[1]*Math.PI/180,o=e[1]*Math.PI/180,s=o-r,a=Math.abs(e[0]-t[0])*Math.PI/180;a>Math.PI&&(a-=2*Math.PI);var l=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),u=Math.abs(l)>1e-11?s/l:Math.cos(r);return Math.sqrt(s*s+u*u*a*a)*i}(r,o),"meters",i)}function $e(t,e){return en(t,"mercator",e)}function tn(t,e){return en(t,"wgs84",e)}function en(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.mutate;if(!t)throw new Error("geojson is required");return Array.isArray(t)&&E(t[0])?t="mercator"===e?nn(t):rn(t):(!0!==i&&(t=Rt(t)),I(t,(function(t){var n="mercator"===e?nn(t):rn(t);t[0]=n[0],t[1]=n[1]}))),t}function nn(t){var e=Math.PI/180,n=20037508.342789244,i=[6378137*(Math.abs(t[0])<=180?t[0]:t[0]-360*function(t){return t<0?-1:t>0?1:0}(t[0]))*e,6378137*Math.log(Math.tan(.25*Math.PI+.5*t[1]*e))];return i[0]>n&&(i[0]=n),i[0]<-n&&(i[0]=-n),i[1]>n&&(i[1]=n),i[1]<-n&&(i[1]=-n),i}function rn(t){var e=180/Math.PI;return[t[0]*e/6378137,(.5*Math.PI-2*Math.atan(Math.exp(-t[1]/6378137)))*e]}function on(t,n,r){if(!x(r=r||{}))throw new Error("options is invalid");if(!t)throw new Error("pt is required");if(Array.isArray(t)?t=i(t):"Point"===t.type?t=e(t):W(t,"Point","point"),!n)throw new Error("line is required");Array.isArray(n)?n=a(n):"LineString"===n.type?n=e(n):W(n,"LineString","line");var o=1/0,s=t.geometry.coordinates;return P(n,(function(t){var e=t.geometry.coordinates[0],n=t.geometry.coordinates[1],a=function(t,e,n,r){var o=r.mercator,s=!0!==o?Ft(e,t,r):sn(e,t,r),a=v(!0!==o?le(e,t):Ve(e,t)),l=v(!0!==o?le(e,n):Ve(e,n)),u=Math.abs(a-l);if(u>90)return s;var c=(l+180)%360,h=v(!0!==o?le(n,t):Ve(n,t)),f=Math.abs(h-c);return f>180&&(f=Math.abs(f-360)),f>90?!0!==o?Ft(t,n,r):sn(t,n,r):!0!==o?s*Math.sin(_(u)):function(t,e,n,r){var o=0;(Math.abs(t[0])>=180||Math.abs(e[0])>=180||Math.abs(n[0])>=180)&&(o=t[0]>0||e[0]>0||n[0]>0?-180:180);var s=i(n),a=tn(function(t,e,n){var i=t[0],r=t[1],o=e[0]-i,s=e[1]-r,a=((n[0]-i)*o+(n[1]-r)*s)/(o*o+s*s);return[i+a*o,r+a*s]}($e([t[0]+o,t[1]]),$e([e[0]+o,e[1]]),$e([n[0]+o,n[1]])));return 0!==o&&(a[0]-=o),Ze(s,a,r)}(e,n,t,r)}(s,e,n,r);o>a&&(o=a)})),o}function sn(t,e,n){var i=n.units,r=0;Math.abs(t[0])>=180&&(r=t[0]>0?-180:180),Math.abs(e[0])>=180&&(r=e[0]>0?-180:180);var o=$e([t[0]+r,t[1]]),s=$e([e[0]+r,e[1]]),a=function(t){return t*t},l=a(o[0]-s[0])+a(o[1]-s[1]);return b(Math.sqrt(l),"meters",i)}function an(t){for(var n=function(t){return"FeatureCollection"!==t.type?"Feature"!==t.type?u([e(t)]):u([t]):t}(t),r=ue(n),o=!1,s=0;!o&&s<n.features.length;){var a,l=n.features[s].geometry,c=!1;if("Point"===l.type)r.geometry.coordinates[0]===l.coordinates[0]&&r.geometry.coordinates[1]===l.coordinates[1]&&(o=!0);else if("MultiPoint"===l.type){var h=!1;for(a=0;!h&&a<l.coordinates.length;)r.geometry.coordinates[0]===l.coordinates[a][0]&&r.geometry.coordinates[1]===l.coordinates[a][1]&&(o=!0,h=!0),a++}else if("LineString"===l.type)for(a=0;!c&&a<l.coordinates.length-1;)ln(r.geometry.coordinates[0],r.geometry.coordinates[1],l.coordinates[a][0],l.coordinates[a][1],l.coordinates[a+1][0],l.coordinates[a+1][1])&&(c=!0,o=!0),a++;else if("MultiLineString"===l.type)for(var f=0;f<l.coordinates.length;){c=!1,a=0;for(var p=l.coordinates[f];!c&&a<p.length-1;)ln(r.geometry.coordinates[0],r.geometry.coordinates[1],p[a][0],p[a][1],p[a+1][0],p[a+1][1])&&(c=!0,o=!0),a++;f++}else"Polygon"!==l.type&&"MultiPolygon"!==l.type||St(r,l)&&(o=!0);s++}if(o)return r;var d=u([]);for(s=0;s<n.features.length;s++)d.features=d.features.concat(he(n.features[s]).features);return i(Se(r,d).geometry.coordinates)}function ln(t,e,n,i,r,o){return Math.sqrt((r-n)*(r-n)+(o-i)*(o-i))===Math.sqrt((t-n)*(t-n)+(e-i)*(e-i))+Math.sqrt((r-t)*(r-t)+(o-e)*(o-e))}function un(t){return F(t,(function(t,e){return t+function t(e){var n,i=0;switch(e.type){case"Polygon":return cn(e.coordinates);case"MultiPolygon":for(n=0;n<e.coordinates.length;n++)i+=cn(e.coordinates[n]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<e.geometries.length;n++)i+=t(e.geometries[n]);return i}}(e)}),0)}function cn(t){var e=0;if(t&&t.length>0){e+=Math.abs(hn(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(hn(t[n]))}return e}function hn(t){var e,n,i,r,o,s,a=0,l=t.length;if(l>2){for(s=0;s<l;s++)s===l-2?(i=l-2,r=l-1,o=0):s===l-1?(i=l-1,r=0,o=1):(i=s,r=s+1,o=s+2),e=t[i],n=t[r],a+=(fn(t[o][0])-fn(e[0]))*Math.sin(fn(n[1]));a=a*hs*hs/2}return a}function fn(t){return t*Math.PI/180}function pn(t,e){if(!x(e=e||{}))throw new Error("options is invalid");if(!t)throw new Error("geojson is required");return U(t,(function(t,n){var i=n.geometry.coordinates;return t+Ft(i[0],i[1],e)}),0)}function dn(t,e,n,i){if(!x(i=i||{}))throw new Error("options is invalid");var r,o=[];if("Feature"===t.type)r=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");r=t.coordinates}for(var s,l,u,c=0,h=0;h<r.length&&!(e>=c&&h===r.length-1);h++){if(c>e&&0===o.length){if(!(s=e-c))return o.push(r[h]),a(o);l=le(r[h],r[h-1])-180,u=se(r[h],s,l,i),o.push(u.geometry.coordinates)}if(c>=n)return(s=n-c)?(l=le(r[h],r[h-1])-180,u=se(r[h],s,l,i),o.push(u.geometry.coordinates),a(o)):(o.push(r[h]),a(o));if(c>=e&&o.push(r[h]),h===r.length-1)return a(o);c+=Ft(r[h],r[h+1],i)}return a(r[r.length-1])}function An(t,e,n){var i=(n=n||{}).ignoreEndVertices;if(!x(n))throw new Error("invalid options");if(!t)throw new Error("pt is required");if(!e)throw new Error("line is required");for(var r=z(t),o=K(e),s=0;s<o.length-1;s++){var a=!1;if(i&&(0===s&&(a="start"),s===o.length-2&&(a="end"),0===s&&s+1===o.length-1&&(a="both")),function(t,e,n,i){var r=n[0],o=n[1],s=t[0],a=t[1],l=e[0],u=e[1],c=l-s,h=u-a;return(n[0]-s)*h-(n[1]-a)*c==0&&(i?"start"===i?Math.abs(c)>=Math.abs(h)?c>0?s<r&&r<=l:l<=r&&r<s:h>0?a<o&&o<=u:u<=o&&o<a:"end"===i?Math.abs(c)>=Math.abs(h)?c>0?s<=r&&r<l:l<r&&r<=s:h>0?a<=o&&o<u:u<o&&o<=a:"both"===i?Math.abs(c)>=Math.abs(h)?c>0?s<r&&r<l:l<r&&r<s:h>0?a<o&&o<u:u<o&&o<a:void 0:Math.abs(c)>=Math.abs(h)?c>0?s<=r&&r<=l:l<=r&&r<=s:h>0?a<=o&&o<=u:u<=o&&o<=a)}(o[s],o[s+1],r,a))return!0}return!1}function gn(t,e){var n=J(t),i=J(e),r=X(t),o=X(e);switch(n){case"Point":switch(i){case"MultiPoint":return function(t,e){var n,i=!1;for(n=0;n<e.coordinates.length;n++)if(vn(e.coordinates[n],t.coordinates)){i=!0;break}return i}(r,o);case"LineString":return An(r,o,{ignoreEndVertices:!0});case"Polygon":return St(r,o,{ignoreBoundary:!0});default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"MultiPoint":return function(t,e){for(var n=0;n<t.coordinates.length;n++){for(var i=!1,r=0;r<e.coordinates.length;r++)vn(t.coordinates[n],e.coordinates[r])&&(i=!0);if(!i)return!1}return!0}(r,o);case"LineString":return function(t,e){for(var n=!1,i=0;i<t.coordinates.length;i++){if(!An(t.coordinates[i],e))return!1;n||(n=An(t.coordinates[i],e,{ignoreEndVertices:!0}))}return n}(r,o);case"Polygon":return function(t,e){for(var n=!0,i=0;i<t.coordinates.length;i++){var r=St(t.coordinates[1],e);if(!r){n=!1;break}r=St(t.coordinates[1],e,{ignoreBoundary:!0})}return n&&r}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"LineString":return function(t,e){for(var n=0;n<t.coordinates.length;n++)if(!An(t.coordinates[n],e))return!1;return!0}(r,o);case"Polygon":return function(t,e){if(!mn(j(e),j(t)))return!1;for(var n=!1,i=0;i<t.coordinates.length-1;i++){if(!St(t.coordinates[i],e))return!1;n||(n=St(t.coordinates[i],e,{ignoreBoundary:!0})),n||(n=St(function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(t.coordinates[i],t.coordinates[i+1]),e,{ignoreBoundary:!0}))}return n}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Polygon":return function(t,e){var n=j(t);if(!mn(j(e),n))return!1;for(var i=0;i<t.coordinates[0].length;i++)if(!St(t.coordinates[0][i],e))return!1;return!0}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}}function mn(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function vn(t,e){return t[0]===e[0]&&t[1]===e[1]}function yn(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r=n.mask,o=n.properties,s=[];if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf(J(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],l=t[1],c=t[2],h=t[3],f=e/Ft([a,l],[c,l],n)*(c-a),p=e/Ft([a,l],[a,h],n)*(h-l),d=c-a,A=h-l,g=Math.floor(d/f),m=(A-Math.floor(A/p)*p)/2,v=a+(d-g*f)/2;v<=c;){for(var y=l+m;y<=h;){var _=i([v,y],o);r?gn(_,r)&&s.push(_):s.push(_),y+=p}v+=f}return u(s)}function _n(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.precision,i=e.coordinates,r=e.mutate;if(n=null==n||isNaN(n)?6:n,i=null==i||isNaN(i)?3:i,!t)throw new Error("<geojson> is required");if("number"!=typeof n)throw new Error("<precision> must be a number");if("number"!=typeof i)throw new Error("<coordinates> must be a number");!1!==r&&void 0!==r||(t=JSON.parse(JSON.stringify(t)));var o=Math.pow(10,n);return I(t,(function(t){!function(t,e,n){t.length>n&&t.splice(n,t.length);for(var i=0;i<t.length;i++)t[i]=Math.round(t[i]*e)/e}(t,o,i)})),t}function bn(t,e){if(!t||!e)return!1;if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!bn(t[n],e[n]))return!1}else if(t[n]!==e[n])return!1;return!0}function wn(t,e){if(void 0===e&&(e=!0),3!=t.length)throw new Error("This function requires an array of three points [x,y]");return(t[1][0]-t[0][0])*(t[2][1]-t[0][1])-(t[1][1]-t[0][1])*(t[2][0]-t[0][0])>=0==e}function En(t,e){if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!En(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function xn(t,e){var n=[],i=ze();return R(e,(function(e){if(n.forEach((function(t,e){t.id=e})),n.length){var r=i.search(e);if(r.features.length){var o=Bn(e,r);n=n.filter((function(t){return t.id!==o.id})),i.remove(o),T(Cn(o,e),(function(t){n.push(t),i.insert(t)}))}}else(n=Cn(t,e).features).forEach((function(t){t.bbox||(t.bbox=oe(j(t)))})),i.load(u(n))})),u(n)}function Cn(t,e){var n=[],i=K(t)[0],r=K(t)[t.geometry.coordinates.length-1];if(In(i,z(e))||In(r,z(e)))return u([t]);var o=ze(),s=qe(t);o.load(s);var l=o.search(e);if(!l.features.length)return u([t]);var c=Bn(e,l),h=N(s,(function(t,i,r){var o=K(i)[1],s=z(e);return r===c.id?(t.push(s),n.push(a(t)),In(s,o)?[s]:[s,o]):(t.push(o),t)}),[i]);return h.length>1&&n.push(a(h)),u(n)}function Bn(t,e){if(!e.features.length)throw new Error("lines must contain features");if(1===e.features.length)return e.features[0];var n,i=1/0;return T(e,(function(e){var r=Xe(e,t).properties.dist;r<i&&(n=e,i=r)})),n}function In(t,e){return t[0]===e[0]&&t[1]===e[1]}function Sn(t,e,n,i,r){if(!x(r=r||{}))throw new Error("options is invalid");var o=r.steps,s=r.units;if(!t)throw new Error("center is required");if(!e)throw new Error("radius is required");if(null==n)throw new Error("bearing1 is required");if(null==i)throw new Error("bearing2 is required");if("object"!=typeof r)throw new Error("options must be an object");o=o||64;var l=On(n),u=On(i),c=t.properties;if(l===u)return a(ae(t,e,r).geometry.coordinates[0],c);for(var h=l,f=l<u?u:u+360,p=h,d=[],A=0;p<f;)d.push(se(t,e,p,s).geometry.coordinates),p=h+360*++A/o;return p>f&&d.push(se(t,e,f,s).geometry.coordinates),a(d,c)}function On(t){var e=t%360;return e<0&&(e+=360),e}function Mn(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=J(t),r=K(t);if(n=n||t.properties||{},!r.length)throw new Error("polygon must contain coordinates");switch(i){case"Polygon":return Tn(r,n);case"MultiPolygon":var o=[];return r.forEach((function(t){o.push(Tn(t,n))})),u(o);default:throw new Error("geom "+i+" not supported")}}function Tn(t,e){return t.length>1?c(t,e):a(t[0],e)}function Nn(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.properties,i=e.autoComplete,r=e.orderCoords;if(!t)throw new Error("lines is required");switch(i=void 0===i||i,r=void 0===r||r,J(t)){case"FeatureCollection":case"GeometryCollection":var o=[];return(t.features?t.features:t.geometries).forEach((function(t){o.push(K(kn(t,{},i,r)))})),f(o,n)}return kn(t,n,i,r)}function kn(t,e,n,i){e=e||t.properties||{};var r=K(t),s=J(t);if(!r.length)throw new Error("line must contain coordinates");switch(s){case"LineString":return n&&(r=Ln(r)),o([r],e);case"MultiLineString":var l=[],u=0;return r.forEach((function(t){if(n&&(t=Ln(t)),i){var e=function(t){var e=t[0],n=t[1],i=t[2],r=t[3];return Math.abs(e-i)*Math.abs(n-r)}(j(a(t)));e>u?(l.unshift(t),u=e):l.push(t)}else l.push(t)})),o(l,e);default:throw new Error("geometry type "+s+" is not supported")}}function Ln(t){var e=t[0],n=e[0],i=e[1],r=t[t.length-1],o=r[0],s=r[1];return n===o&&i===s||t.push(e),t}function Fn(t,e,n){var i,r,o,s,a,l=t.length,u=Dn(t[0],e),c=[];for(n||(n=[]),i=1;i<l;i++){for(r=t[i-1],s=a=Dn(o=t[i],e);;){if(!(u|s)){c.push(r),s!==a?(c.push(o),i<l-1&&(n.push(c),c=[])):i===l-1&&c.push(o);break}if(u&s)break;u?u=Dn(r=Rn(r,o,u,e),e):s=Dn(o=Rn(r,o,s,e),e)}u=a}return c.length&&n.push(c),n}function Rn(t,e,n,i){return 8&n?[t[0]+(e[0]-t[0])*(i[3]-t[1])/(e[1]-t[1]),i[3]]:4&n?[t[0]+(e[0]-t[0])*(i[1]-t[1])/(e[1]-t[1]),i[1]]:2&n?[i[2],t[1]+(e[1]-t[1])*(i[2]-t[0])/(e[0]-t[0])]:1&n?[i[0],t[1]+(e[1]-t[1])*(i[0]-t[0])/(e[0]-t[0])]:null}function Dn(t,e){var n=0;return t[0]<e[0]?n|=1:t[0]>e[2]&&(n|=2),t[1]<e[1]?n|=4:t[1]>e[3]&&(n|=8),n}function Pn(t,e){for(var n=[],i=0;i<t.length;i++){var r=bs.polygon(t[i],e);r.length>0&&(r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]||r.push(r[0]),r.length>=4&&n.push(r))}return n}function Un(t){return"[object Arguments]"===Object.prototype.toString.call(t)}function Qn(t,e,n){return n||(n={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?(n.strict,t===e):function(t,e,n){var i,r;if(Hn(t)||Hn(e))return!1;if(t.prototype!==e.prototype)return!1;if(Un(t))return!!Un(e)&&Qn(t=ws.call(t),e=ws.call(e),n);if(jn(t)){if(!jn(e))return!1;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}try{var o=Object.keys(t),s=Object.keys(e)}catch(t){return!1}if(o.length!==s.length)return!1;for(o.sort(),s.sort(),i=o.length-1;i>=0;i--)if(o[i]!==s[i])return!1;for(i=o.length-1;i>=0;i--)if(!Qn(t[r=o[i]],e[r],n))return!1;return typeof t==typeof e}(t,e,n))}function Hn(t){return null==t}function jn(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}function zn(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i,r=n.tolerance||0,o=[],s=ze();return s.load(qe(t)),P(e,(function(t){var e=!1;T(s.search(t),(function(n){if(!1===e){var o=K(t).sort(),s=K(n).sort();Qn(o,s)?(e=!0,i=i?Kn(i,t):t):(0===r?An(o[0],n)&&An(o[1],n):Xe(n,o[0]).properties.dist<=r&&Xe(n,o[1]).properties.dist<=r)?(e=!0,i=i?Kn(i,t):t):(0===r?An(s[0],t)&&An(s[1],t):Xe(t,s[0]).properties.dist<=r&&Xe(t,s[1]).properties.dist<=r)&&(i=i?Kn(i,n):n)}})),!1===e&&i&&(o.push(i),i=void 0)})),i&&o.push(i),u(o)}function Kn(t,e){var n=K(e),i=K(t),r=i[0],o=i[i.length-1],s=t.geometry.coordinates;return Qn(n[0],r)?s.unshift(n[1]):Qn(n[0],o)?s.push(n[1]):Qn(n[1],r)?s.unshift(n[0]):Qn(n[1],o)&&s.push(n[0]),t}function Gn(t){var e=t%360;return e<0&&(e+=360),e}function qn(t,e,n,r){if(!x(r=r||{}))throw new Error("options is invalid");var o=r.units,s=r.properties;if(!t)throw new Error("origin is required");if(null==e)throw new Error("distance is required");if(null==n)throw new Error("bearing is required");if(!(e>=0))throw new Error("distance must be greater than 0");var a=b(e,o,"meters"),l=z(t),u=function(t,e,n,i){var r=e/(i=void 0===i?wo:Number(i)),o=t[0]*Math.PI/180,s=_(t[1]),a=_(n),l=r*Math.cos(a),u=s+l;Math.abs(u)>Math.PI/2&&(u=u>0?Math.PI-u:-Math.PI-u);var c=Math.log(Math.tan(u/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),h=Math.abs(c)>1e-11?l/c:Math.cos(s);return[(180*(o+r*Math.sin(a)/h)/Math.PI+540)%360-180,180*u/Math.PI]}(l,a,n);return u[0]+=u[0]-l[0]>180?-360:l[0]-u[0]>180?360:0,i(u,s)}function Wn(t,e,n,i,r,o){for(var s=0;s<t.length;s++){var a=t[s],l=t[s+1];s===t.length-1&&(l=t[0]),i=Yn(a,l,e),n<=0&&i>0?function(t,e,n){return Yn(t,e,n)<0}(e,a,r)||(r=a):n>0&&i<=0&&(function(t,e,n){return Yn(t,e,n)>0}(e,a,o)||(o=a)),n=i}return[r,o]}function Yn(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(n[0]-t[0])*(e[1]-t[1])}function Xn(t){if(!t)throw new Error("line is required");var e=t.geometry?t.geometry.type:t.type;if(!Array.isArray(t)&&"LineString"!==e)throw new Error("geometry must be a LineString");for(var n,i,r=K(t),o=0,s=1;s<r.length;)n=i||r[0],o+=((i=r[s])[0]-n[0])*(i[1]+n[1]),s++;return o>0}function Vn(t,e){switch("Feature"===t.type?t.geometry.type:t.type){case"GeometryCollection":return L(t,(function(t){Vn(t,e)})),t;case"LineString":return Jn(K(t),e),t;case"Polygon":return Zn(K(t),e),t;case"MultiLineString":return K(t).forEach((function(t){Jn(t,e)})),t;case"MultiPolygon":return K(t).forEach((function(t){Zn(t,e)})),t;case"Point":case"MultiPoint":return t}}function Jn(t,e){Xn(t)===e&&t.reverse()}function Zn(t,e){Xn(t[0])!==e&&t[0].reverse();for(var n=1;n<t.length;n++)Xn(t[n])===e&&t[n].reverse()}function $n(t,e,n,i){i=i||{};for(var r=Object.keys(Es),o=0;o<r.length;o++){var s=r[o],a=i[s];a=null!=a?a:Es[s],xs[s]=a}xs.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+e+":"+(e+n)+"]");var l,u=function(t,e,n){for(var i=t.length-1,r=t[0].length-1,o={rows:i,cols:r,cells:[]},s=e+Math.abs(n),a=0;a<i;++a){o.cells[a]=[];for(var l=0;l<r;++l){var u=0,c=t[a+1][l],h=t[a+1][l+1],f=t[a][l+1],p=t[a][l];if(!(isNaN(c)||isNaN(h)||isNaN(f)||isNaN(p))){u|=c<e?0:c>s?128:64,u|=h<e?0:h>s?32:16,u|=f<e?0:f>s?8:4;var d=+(u|=p<e?0:p>s?2:1),A=0;if(17===u||18===u||33===u||34===u||38===u||68===u||72===u||98===u||102===u||132===u||136===u||137===u||152===u||153===u){var g=(c+h+f+p)/4;A=g>s?2:g<e?0:1,34===u?1===A?u=35:0===A&&(u=136):136===u?1===A?(u=35,A=4):0===A&&(u=34):17===u?1===A?(u=155,A=4):0===A&&(u=153):68===u?1===A?(u=103,A=4):0===A&&(u=102):153===u?1===A&&(u=155):102===u?1===A&&(u=103):152===u?A<2&&(u=156,A=1):137===u?A<2&&(u=139,A=1):98===u?A<2&&(u=99,A=1):38===u?A<2&&(u=39,A=1):18===u?A>0?(u=156,A=4):u=152:33===u?A>0?(u=139,A=4):u=137:72===u?A>0?(u=99,A=4):u=98:132===u&&(A>0?(u=39,A=4):u=38)}if(0!=u&&170!=u){var m,v,y,_,b,w,E,x;m=v=y=_=b=w=E=x=.5;var C=[];1===u?(y=1-ti(e,f,p),x=1-ti(e,c,p),C.push(ca[u])):169===u?(y=ti(s,p,f),x=ti(s,p,c),C.push(ca[u])):4===u?(w=1-ti(e,h,f),_=ti(e,p,f),C.push(la[u])):166===u?(w=ti(s,f,h),_=1-ti(s,f,p),C.push(la[u])):16===u?(b=ti(e,f,h),v=ti(e,c,h),C.push(aa[u])):154===u?(b=1-ti(s,h,f),v=1-ti(s,h,c),C.push(aa[u])):64===u?(E=ti(e,p,c),m=1-ti(e,h,c),C.push(fa[u])):106===u?(E=1-ti(s,c,p),m=ti(s,c,h),C.push(fa[u])):168===u?(_=ti(s,p,f),y=ti(e,p,f),x=ti(e,p,c),E=ti(s,p,c),C.push(ua[u]),C.push(ca[u])):2===u?(_=1-ti(e,f,p),y=1-ti(s,f,p),x=1-ti(s,c,p),E=1-ti(e,c,p),C.push(ua[u]),C.push(ca[u])):162===u?(b=ti(s,f,h),w=ti(e,f,h),_=1-ti(e,f,p),y=1-ti(s,f,p),C.push(ua[u]),C.push(ca[u])):8===u?(b=1-ti(e,h,f),w=1-ti(s,h,f),_=ti(s,p,f),y=ti(e,p,f),C.push(aa[u]),C.push(la[u])):138===u?(b=1-ti(e,h,f),w=1-ti(s,h,f),m=1-ti(s,h,c),v=1-ti(e,h,c),C.push(aa[u]),C.push(la[u])):32===u?(b=ti(s,f,h),w=ti(e,f,h),m=ti(e,c,h),v=ti(s,c,h),C.push(aa[u]),C.push(la[u])):42===u?(x=1-ti(s,c,p),E=1-ti(e,c,p),m=ti(e,c,h),v=ti(s,c,h),C.push(ha[u]),C.push(fa[u])):128===u&&(x=ti(e,p,c),E=ti(s,p,c),m=1-ti(s,h,c),v=1-ti(e,h,c),C.push(ha[u]),C.push(fa[u])),5===u?(w=1-ti(e,h,f),x=1-ti(e,c,p),C.push(la[u])):165===u?(w=ti(s,f,h),x=ti(s,p,c),C.push(la[u])):20===u?(_=ti(e,p,f),v=ti(e,c,h),C.push(ua[u])):150===u?(_=1-ti(s,f,p),v=1-ti(s,h,c),C.push(ua[u])):80===u?(b=ti(e,f,h),E=ti(e,p,c),C.push(aa[u])):90===u?(b=1-ti(s,h,f),E=1-ti(s,c,p),C.push(aa[u])):65===u?(y=1-ti(e,f,p),m=1-ti(e,h,c),C.push(ca[u])):105===u?(y=ti(s,p,f),m=ti(s,c,h),C.push(ca[u])):160===u?(b=ti(s,f,h),w=ti(e,f,h),x=ti(e,p,c),E=ti(s,p,c),C.push(aa[u]),C.push(la[u])):10===u?(b=1-ti(e,h,f),w=1-ti(s,h,f),x=1-ti(s,c,p),E=1-ti(e,c,p),C.push(aa[u]),C.push(la[u])):130===u?(_=1-ti(e,f,p),y=1-ti(s,f,p),m=1-ti(s,h,c),v=1-ti(e,h,c),C.push(ua[u]),C.push(ca[u])):40===u?(_=ti(s,p,f),y=ti(e,p,f),m=ti(e,c,h),v=ti(s,c,h),C.push(ua[u]),C.push(ca[u])):101===u?(w=ti(s,f,h),m=ti(s,c,h),C.push(la[u])):69===u?(w=1-ti(e,h,f),m=1-ti(e,h,c),C.push(la[u])):149===u?(x=ti(s,p,c),v=1-ti(s,h,c),C.push(ha[u])):21===u?(x=1-ti(e,c,p),v=ti(e,c,h),C.push(ha[u])):86===u?(_=1-ti(s,f,p),E=1-ti(s,c,p),C.push(ua[u])):84===u?(_=ti(e,p,f),E=ti(e,p,c),C.push(ua[u])):89===u?(b=1-ti(s,h,f),y=ti(s,p,f),C.push(ca[u])):81===u?(b=ti(e,f,h),y=1-ti(e,f,p),C.push(ca[u])):96===u?(b=ti(s,f,h),w=ti(e,f,h),E=ti(e,p,c),m=ti(s,c,h),C.push(aa[u]),C.push(la[u])):74===u?(b=1-ti(e,h,f),w=1-ti(s,h,f),E=1-ti(s,c,p),m=1-ti(e,h,c),C.push(aa[u]),C.push(la[u])):24===u?(b=1-ti(s,h,f),_=ti(s,p,f),y=ti(e,p,f),v=ti(e,c,h),C.push(aa[u]),C.push(ca[u])):146===u?(b=ti(e,f,h),_=1-ti(e,f,p),y=1-ti(s,f,p),v=1-ti(s,h,c),C.push(aa[u]),C.push(ca[u])):6===u?(w=1-ti(e,h,f),_=1-ti(s,f,p),x=1-ti(s,c,p),E=1-ti(e,c,p),C.push(la[u]),C.push(ua[u])):164===u?(w=ti(s,f,h),_=ti(e,p,f),x=ti(e,p,c),E=ti(s,p,c),C.push(la[u]),C.push(ua[u])):129===u?(y=1-ti(e,f,p),x=ti(s,p,c),m=1-ti(s,h,c),v=1-ti(e,h,c),C.push(ca[u]),C.push(ha[u])):41===u?(y=ti(s,p,f),x=1-ti(e,c,p),m=ti(e,c,h),v=ti(s,c,h),C.push(ca[u]),C.push(ha[u])):66===u?(_=1-ti(e,f,p),y=1-ti(s,f,p),E=1-ti(s,c,p),m=1-ti(e,h,c),C.push(ua[u]),C.push(ca[u])):104===u?(_=ti(s,p,f),y=ti(e,p,f),E=ti(e,p,c),m=ti(s,c,h),C.push(ca[u]),C.push(pa[u])):144===u?(b=ti(e,f,h),x=ti(e,p,c),E=ti(s,p,c),v=1-ti(s,h,c),C.push(aa[u]),C.push(fa[u])):26===u?(b=1-ti(s,h,f),x=1-ti(s,c,p),E=1-ti(e,c,p),v=ti(e,c,h),C.push(aa[u]),C.push(fa[u])):36===u?(w=ti(s,f,h),_=ti(e,p,f),m=ti(e,c,h),v=ti(s,c,h),C.push(la[u]),C.push(ua[u])):134===u?(w=1-ti(e,h,f),_=1-ti(s,f,p),m=1-ti(s,h,c),v=1-ti(e,h,c),C.push(la[u]),C.push(ua[u])):9===u?(b=1-ti(e,h,f),w=1-ti(s,h,f),y=ti(s,p,f),x=1-ti(e,c,p),C.push(aa[u]),C.push(la[u])):161===u?(b=ti(s,f,h),w=ti(e,f,h),y=1-ti(e,f,p),x=ti(s,p,c),C.push(aa[u]),C.push(la[u])):37===u?(w=ti(s,f,h),x=1-ti(e,c,p),m=ti(e,c,h),v=ti(s,c,h),C.push(la[u]),C.push(ha[u])):133===u?(w=1-ti(e,h,f),x=ti(s,p,c),m=1-ti(s,h,c),v=1-ti(e,h,c),C.push(la[u]),C.push(ha[u])):148===u?(_=ti(e,p,f),x=ti(e,p,c),E=ti(s,p,c),v=1-ti(s,h,c),C.push(ua[u]),C.push(fa[u])):22===u?(_=1-ti(s,f,p),x=1-ti(s,c,p),E=1-ti(e,c,p),v=ti(e,c,h),C.push(ua[u]),C.push(fa[u])):82===u?(b=ti(e,f,h),_=1-ti(e,f,p),y=1-ti(s,f,p),E=1-ti(s,c,p),C.push(aa[u]),C.push(ca[u])):88===u?(b=1-ti(s,h,f),_=ti(s,p,f),y=ti(e,p,f),E=ti(e,p,c),C.push(aa[u]),C.push(ca[u])):73===u?(b=1-ti(e,h,f),w=1-ti(s,h,f),y=ti(s,p,f),m=1-ti(e,h,c),C.push(aa[u]),C.push(la[u])):97===u?(b=ti(s,f,h),w=ti(e,f,h),y=1-ti(e,f,p),m=ti(s,c,h),C.push(aa[u]),C.push(la[u])):145===u?(b=ti(e,f,h),y=1-ti(e,f,p),x=ti(s,p,c),v=1-ti(s,h,c),C.push(aa[u]),C.push(ha[u])):25===u?(b=1-ti(s,h,f),y=ti(s,p,f),x=1-ti(e,c,p),v=ti(e,c,h),C.push(aa[u]),C.push(ha[u])):70===u?(w=1-ti(e,h,f),_=1-ti(s,f,p),E=1-ti(s,c,p),m=1-ti(e,h,c),C.push(la[u]),C.push(ua[u])):100===u?(w=ti(s,f,h),_=ti(e,p,f),E=ti(e,p,c),m=ti(s,c,h),C.push(la[u]),C.push(ua[u])):34===u?(0===A?(b=1-ti(e,h,f),w=1-ti(s,h,f),_=ti(s,p,f),y=ti(e,p,f),x=ti(e,p,c),E=ti(s,p,c),m=1-ti(s,h,c),v=1-ti(e,h,c)):(b=ti(s,f,h),w=ti(e,f,h),_=1-ti(e,f,p),y=1-ti(s,f,p),x=1-ti(s,c,p),E=1-ti(e,c,p),m=ti(e,c,h),v=ti(s,c,h)),C.push(aa[u]),C.push(la[u]),C.push(ha[u]),C.push(fa[u])):35===u?(4===A?(b=1-ti(e,h,f),w=1-ti(s,h,f),_=ti(s,p,f),y=ti(e,p,f),x=ti(e,p,c),E=ti(s,p,c),m=1-ti(s,h,c),v=1-ti(e,h,c)):(b=ti(s,f,h),w=ti(e,f,h),_=1-ti(e,f,p),y=1-ti(s,f,p),x=1-ti(s,c,p),E=1-ti(e,c,p),m=ti(e,c,h),v=ti(s,c,h)),C.push(aa[u]),C.push(la[u]),C.push(ca[u]),C.push(fa[u])):136===u?(0===A?(b=ti(s,f,h),w=ti(e,f,h),_=1-ti(e,f,p),y=1-ti(s,f,p),x=1-ti(s,c,p),E=1-ti(e,c,p),m=ti(e,c,h),v=ti(s,c,h)):(b=1-ti(e,h,f),w=1-ti(s,h,f),_=ti(s,p,f),y=ti(e,p,f),x=ti(e,p,c),E=ti(s,p,c),m=1-ti(s,h,c),v=1-ti(e,h,c)),C.push(aa[u]),C.push(la[u]),C.push(ha[u]),C.push(fa[u])):153===u?(0===A?(b=ti(e,f,h),y=1-ti(e,f,p),x=1-ti(e,c,p),v=ti(e,c,h)):(b=1-ti(s,h,f),y=ti(s,p,f),x=ti(s,p,c),v=1-ti(s,h,c)),C.push(aa[u]),C.push(ca[u])):102===u?(0===A?(w=1-ti(e,h,f),_=ti(e,p,f),E=ti(e,p,c),m=1-ti(e,h,c)):(w=ti(s,f,h),_=1-ti(s,f,p),E=1-ti(s,c,p),m=ti(s,c,h)),C.push(la[u]),C.push(fa[u])):155===u?(4===A?(b=ti(e,f,h),y=1-ti(e,f,p),x=1-ti(e,c,p),v=ti(e,c,h)):(b=1-ti(s,h,f),y=ti(s,p,f),x=ti(s,p,c),v=1-ti(s,h,c)),C.push(aa[u]),C.push(ha[u])):103===u?(4===A?(w=1-ti(e,h,f),_=ti(e,p,f),E=ti(e,p,c),m=1-ti(e,h,c)):(w=ti(s,f,h),_=1-ti(s,f,p),E=1-ti(s,c,p),m=ti(s,c,h)),C.push(la[u]),C.push(ua[u])):152===u?(0===A?(b=ti(e,f,h),_=1-ti(e,f,p),y=1-ti(s,f,p),x=1-ti(s,c,p),E=1-ti(e,c,p),v=ti(e,c,h)):(b=1-ti(s,h,f),_=ti(s,p,f),y=ti(e,p,f),x=ti(e,p,c),E=ti(s,p,c),v=1-ti(s,h,c)),C.push(aa[u]),C.push(ua[u]),C.push(ca[u])):156===u?(4===A?(b=ti(e,f,h),_=1-ti(e,f,p),y=1-ti(s,f,p),x=1-ti(s,c,p),E=1-ti(e,c,p),v=ti(e,c,h)):(b=1-ti(s,h,f),_=ti(s,p,f),y=ti(e,p,f),x=ti(e,p,c),E=ti(s,p,c),v=1-ti(s,h,c)),C.push(aa[u]),C.push(ca[u]),C.push(fa[u])):137===u?(0===A?(b=ti(s,f,h),w=ti(e,f,h),y=1-ti(e,f,p),x=1-ti(e,c,p),m=ti(e,c,h),v=ti(s,c,h)):(b=1-ti(e,h,f),w=1-ti(s,h,f),y=ti(s,p,f),x=ti(s,p,c),m=1-ti(s,h,c),v=1-ti(e,h,c)),C.push(aa[u]),C.push(la[u]),C.push(ca[u])):139===u?(4===A?(b=ti(s,f,h),w=ti(e,f,h),y=1-ti(e,f,p),x=1-ti(e,c,p),m=ti(e,c,h),v=ti(s,c,h)):(b=1-ti(e,h,f),w=1-ti(s,h,f),y=ti(s,p,f),x=ti(s,p,c),m=1-ti(s,h,c),v=1-ti(e,h,c)),C.push(aa[u]),C.push(la[u]),C.push(ha[u])):98===u?(0===A?(b=1-ti(e,h,f),w=1-ti(s,h,f),_=ti(s,p,f),y=ti(e,p,f),E=ti(e,p,c),m=1-ti(e,h,c)):(b=ti(s,f,h),w=ti(e,f,h),_=1-ti(e,f,p),y=1-ti(s,f,p),E=1-ti(s,c,p),m=ti(s,c,h)),C.push(aa[u]),C.push(la[u]),C.push(fa[u])):99===u?(4===A?(b=1-ti(e,h,f),w=1-ti(s,h,f),_=ti(s,p,f),y=ti(e,p,f),E=ti(e,p,c),m=1-ti(e,h,c)):(b=ti(s,f,h),w=ti(e,f,h),_=1-ti(e,f,p),y=1-ti(s,f,p),E=1-ti(s,c,p),m=ti(s,c,h)),C.push(aa[u]),C.push(la[u]),C.push(ca[u])):38===u?(0===A?(w=1-ti(e,h,f),_=ti(e,p,f),x=ti(e,p,c),E=ti(s,p,c),m=1-ti(s,h,c),v=1-ti(e,h,c)):(w=ti(s,f,h),_=1-ti(s,f,p),x=1-ti(s,c,p),E=1-ti(e,c,p),m=ti(e,c,h),v=ti(s,c,h)),C.push(la[u]),C.push(ha[u]),C.push(fa[u])):39===u?(4===A?(w=1-ti(e,h,f),_=ti(e,p,f),x=ti(e,p,c),E=ti(s,p,c),m=1-ti(s,h,c),v=1-ti(e,h,c)):(w=ti(s,f,h),_=1-ti(s,f,p),x=1-ti(s,c,p),E=1-ti(e,c,p),m=ti(e,c,h),v=ti(s,c,h)),C.push(la[u]),C.push(ua[u]),C.push(fa[u])):85===u&&(b=1,w=0,_=1,y=0,x=0,E=1,m=0,v=1),(m<0||m>1||v<0||v>1||b<0||b>1||_<0||_>1||x<0||x>1||E<0||E>1)&&console.log("MarchingSquaresJS-isoBands: "+u+" "+d+" "+c+","+h+","+f+","+p+" "+A+" "+m+" "+v+" "+b+" "+w+" "+_+" "+y+" "+x+" "+E),o.cells[a][l]={cval:u,cval_real:d,flipped:A,topleft:m,topright:v,righttop:b,rightbottom:w,bottomright:_,bottomleft:y,leftbottom:x,lefttop:E,edges:C}}}}}return o}(t,e,n);return xs.polygons?(xs.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),l=function(t){var e=[],n=0;return t.cells.forEach((function(t,i){t.forEach((function(t,r){if(void 0!==t){var o=Aa[t.cval](t);"object"==typeof o&&ei(o)?"object"==typeof o[0]&&ei(o[0])?"object"==typeof o[0][0]&&ei(o[0][0])?o.forEach((function(t){t.forEach((function(t){t[0]+=r,t[1]+=i})),e[n++]=t})):(o.forEach((function(t){t[0]+=r,t[1]+=i})),e[n++]=o):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}}))})),e}(u)):(xs.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),l=function(t){for(var e=[],n=t.rows,i=t.cols,r=[],o=0;o<n;o++)for(var s=0;s<i;s++)if(void 0!==t.cells[o][s]&&t.cells[o][s].edges.length>0){var a=function(t){if(t.edges.length>0){var e=t.edges[t.edges.length-1],n=t.cval_real;switch(e){case 0:return n&Bs?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 1:return n&Is?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 2:return n&Is?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topleft,1],x:0,y:-1,o:0};case 3:return n&Ss?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 4:return n&Bs?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 5:return n&Is?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 6:return n&Is?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};case 7:return n&Ss?{p:[t.topright,1],x:0,y:-1,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 8:return n&Is?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.righttop],x:-1,y:0,o:1};case 9:return n&Ss?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 10:return n&Ss?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.righttop],x:-1,y:0,o:1};case 11:return n&Cs?{p:[1,t.righttop],x:-1,y:0,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 12:return n&Is?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 13:return n&Ss?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 14:return n&Ss?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[1,t.rightbottom],x:-1,y:0,o:0};case 15:return n&Cs?{p:[1,t.rightbottom],x:-1,y:0,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 16:return n&Is?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 17:return n&Cs?{p:[t.bottomright,0],x:0,y:1,o:1}:{p:[0,t.lefttop],x:1,y:0,o:1};case 18:return n&Ss?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.bottomleft,0],x:0,y:1,o:0};case 19:return n&Cs?{p:[t.bottomleft,0],x:0,y:1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 20:return n&Cs?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.leftbottom],x:1,y:0,o:0};case 21:return n&Bs?{p:[0,t.leftbottom],x:1,y:0,o:0}:{p:[t.topright,1],x:0,y:-1,o:1};case 22:return n&Cs?{p:[t.topleft,1],x:0,y:-1,o:0}:{p:[0,t.lefttop],x:1,y:0,o:1};case 23:return n&Bs?{p:[0,t.lefttop],x:1,y:0,o:1}:{p:[t.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t)}}return null}(t.cells[o][s]),l=null,u=s,c=o;null!==a&&r.push([a.p[0]+u,a.p[1]+c]);do{if(null===(l=function(t,e,n,i){var r,o,s,a,l,u=t.cval;switch(e){case-1:switch(i){case 0:r=la[u],s=Ps[u],a=Us[u],l=Qs[u];break;default:r=aa[u],s=Fs[u],a=Rs[u],l=Ds[u]}break;case 1:switch(i){case 0:r=ha[u],s=Vs[u],a=Js[u],l=Zs[u];break;default:r=fa[u],s=Ws[u],a=Ys[u],l=Xs[u]}break;default:switch(n){case-1:switch(i){case 0:r=pa[u],s=Os[u],a=Ms[u],l=Ts[u];break;default:r=da[u],s=Ns[u],a=ks[u],l=Ls[u]}break;case 1:switch(i){case 0:r=ca[u],s=Hs[u],a=js[u],l=zs[u];break;default:r=ua[u],s=Ks[u],a=Gs[u],l=qs[u]}}}if(o=t.edges.indexOf(r),void 0===t.edges[o])return null;switch(function(t,e){delete t.edges[e];for(var n=e+1;n<t.edges.length;n++)t.edges[n-1]=t.edges[n];t.edges.pop()}(t,o),u=t.cval_real,r){case 0:u&Bs?(e=t.topleft,n=1):(e=1,n=t.righttop);break;case 1:u&Is?(e=1,n=t.rightbottom):(e=t.topleft,n=1);break;case 2:u&Is?(e=t.topleft,n=1):(e=t.bottomright,n=0);break;case 3:u&Ss?(e=t.bottomleft,n=0):(e=t.topleft,n=1);break;case 4:u&Bs?(e=t.topright,n=1):(e=1,n=t.righttop);break;case 5:u&Is?(e=1,n=t.rightbottom):(e=t.topright,n=1);break;case 6:u&Is?(e=t.topright,n=1):(e=t.bottomright,n=0);break;case 7:u&Ss?(e=t.bottomleft,n=0):(e=t.topright,n=1);break;case 8:u&Is?(e=1,n=t.righttop):(e=t.bottomright,n=0);break;case 9:u&Ss?(e=t.bottomleft,n=0):(e=1,n=t.righttop);break;case 10:u&Ss?(e=1,n=t.righttop):(e=0,n=t.leftbottom);break;case 11:u&Cs?(e=0,n=t.lefttop):(e=1,n=t.righttop);break;case 12:u&Is?(e=1,n=t.rightbottom):(e=t.bottomright,n=0);break;case 13:u&Ss?(e=t.bottomleft,n=0):(e=1,n=t.rightbottom);break;case 14:u&Ss?(e=1,n=t.rightbottom):(e=0,n=t.leftbottom);break;case 15:u&Cs?(e=0,n=t.lefttop):(e=1,n=t.rightbottom);break;case 16:u&Is?(e=0,n=t.leftbottom):(e=t.bottomright,n=0);break;case 17:u&Cs?(e=0,n=t.lefttop):(e=t.bottomright,n=0);break;case 18:u&Ss?(e=t.bottomleft,n=0):(e=0,n=t.leftbottom);break;case 19:u&Cs?(e=0,n=t.lefttop):(e=t.bottomleft,n=0);break;case 20:u&Cs?(e=0,n=t.leftbottom):(e=t.topleft,n=1);break;case 21:u&Bs?(e=t.topright,n=1):(e=0,n=t.leftbottom);break;case 22:u&Cs?(e=0,n=t.lefttop):(e=t.topleft,n=1);break;case 23:u&Bs?(e=t.topright,n=1):(e=0,n=t.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(t),null}return void 0!==e&&void 0!==n&&void 0!==s&&void 0!==a&&void 0!==l||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(t),console.log(e+" "+n+" "+s+" "+a+" "+l)),{p:[e,n],x:s,y:a,o:l}}(t.cells[c][u],a.x,a.y,a.o)))break;if(r.push([l.p[0]+u,l.p[1]+c]),u+=l.x,a=l,(c+=l.y)<0||c>=n||u<0||u>=i||void 0===t.cells[c][u]){var h=function(t,e,n,i,r,o){for(var s=t.cells[n][e],a=s.cval_real,l=e+i,u=n+r,c=[],h=!1;!h;){if(void 0===t.cells[u]||void 0===t.cells[u][l])if(u-=r,l-=i,a=(s=t.cells[u][l]).cval_real,-1===r)if(0===o)if(a&Ss)c.push([l,u]),i=-1,r=0,o=0;else{if(!(a&Is)){c.push([l+s.bottomright,u]),i=0,r=1,o=1,h=!0;break}c.push([l+1,u]),i=1,r=0,o=0}else{if(!(a&Ss)){if(a&Is){c.push([l+s.bottomright,u]),i=0,r=1,o=1,h=!0;break}c.push([l+s.bottomleft,u]),i=0,r=1,o=0,h=!0;break}c.push([l,u]),i=-1,r=0,o=0}else if(1===r)if(0===o){if(!(a&Bs)){if(a&Cs){c.push([l+s.topleft,u+1]),i=0,r=-1,o=0,h=!0;break}c.push([l+s.topright,u+1]),i=0,r=-1,o=1,h=!0;break}c.push([l+1,u+1]),i=1,r=0,o=1}else c.push([l+1,u+1]),i=1,r=0,o=1;else if(-1===i)if(0===o){if(!(a&Cs)){if(a&Ss){c.push([l,u+s.leftbottom]),i=1,r=0,o=0,h=!0;break}c.push([l,u+s.lefttop]),i=1,r=0,o=1,h=!0;break}c.push([l,u+1]),i=0,r=1,o=0}else{if(!(a&Cs)){console.log("MarchingSquaresJS-isoBands: wtf");break}c.push([l,u+1]),i=0,r=1,o=0}else{if(1!==i){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(0===o){if(!(a&Is)){c.push([l+1,u+s.rightbottom]),i=-1,r=0,o=0,h=!0;break}c.push([l+1,u]),i=0,r=-1,o=1}else{if(!(a&Is)){if(a&Bs){c.push([l+1,u+s.righttop]),i=-1,r=0,o=1;break}c.push([l+1,u+s.rightbottom]),i=-1,r=0,o=0,h=!0;break}c.push([l+1,u]),i=0,r=-1,o=1}}else if(a=(s=t.cells[u][l]).cval_real,-1===i)if(0===o)if(void 0!==t.cells[u-1]&&void 0!==t.cells[u-1][l])i=0,r=-1,o=1;else{if(!(a&Ss)){c.push([l+s.bottomright,u]),i=0,r=1,o=1,h=!0;break}c.push([l,u])}else{if(!(a&Cs)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+l+","+u);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(1===i){if(0===o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[u+1]&&void 0!==t.cells[u+1][l])i=0,r=1,o=0;else{if(!(a&Bs)){c.push([l+s.topleft,u+1]),i=0,r=-1,o=0,h=!0;break}c.push([l+1,u+1]),i=1,r=0,o=1}}else if(-1===r){if(1!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[u][l+1])i=1,r=0,o=1;else{if(!(a&Is)){c.push([l+1,u+s.righttop]),i=-1,r=0,o=1,h=!0;break}c.push([l+1,u]),i=0,r=-1,o=1}}else{if(1!==r){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(0!==o){console.log("MarchingSquaresJS-isoBands: wtf");break}if(void 0!==t.cells[u][l-1])i=-1,r=0,o=0;else{if(!(a&Cs)){c.push([l,u+s.leftbottom]),i=1,r=0,o=0,h=!0;break}c.push([l,u+1]),i=0,r=1,o=0}}if(u+=r,(l+=i)===e&&u===n)break}return{path:c,i:l,j:u,x:i,y:r,o:o}}(t,u-=l.x,c-=l.y,l.x,l.y,l.o);if(null===h)break;h.path.forEach((function(t){r.push(t)})),u=h.i,c=h.j,a=h}}while(void 0!==t.cells[c][u]&&t.cells[c][u].edges.length>0);e.push(r),r=[],t.cells[o][s].edges.length>0&&s--}return e}(u)),"function"==typeof xs.successCallback&&xs.successCallback(l),l}function ti(t,e,n){return(t-e)/(n-e)}function ei(t){return t.constructor.toString().indexOf("Array")>-1}function ni(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.pivot,r=n.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("angle is required");return 0===e?t:(i||(i=ce(t)),!1!==r&&void 0!==r||(t=Rt(t)),I(t,(function(t){var n=Ve(i,t)+e,r=Ze(i,t),o=K(qn(i,r,n));t[0]=o[0],t[1]=o[1]})),t)}function ii(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.origin,r=n.mutate;if(!t)throw new Error("geojson required");if("number"!=typeof e||0===e)throw new Error("invalid factor");var o=Array.isArray(i)||"object"==typeof i;return!0!==r&&(t=Rt(t)),"FeatureCollection"!==t.type||o?ri(t,e,i):(T(t,(function(n,r){t.features[r]=ri(n,e,i)})),t)}function ri(t,e,n){var r="Point"===J(t);return n=function(t,e){if(null!=e||(e="centroid"),Array.isArray(e)||"object"==typeof e)return z(e);var n=t.bbox?t.bbox:j(t),r=n[0],o=n[1],s=n[2],a=n[3];switch(e){case"sw":case"southwest":case"westsouth":case"bottomleft":return i([r,o]);case"se":case"southeast":case"eastsouth":case"bottomright":return i([s,o]);case"nw":case"northwest":case"westnorth":case"topleft":return i([r,a]);case"ne":case"northeast":case"eastnorth":case"topright":return i([s,a]);case"center":return ue(t);case void 0:case null:case"centroid":return ce(t);default:throw new Error("invalid origin")}}(t,n),1===e||r?t:(I(t,(function(t){var i=Ze(n,t),r=Ve(n,t),o=K(qn(n,i*e,r));t[0]=o[0],t[1]=o[1],3===t.length&&(t[2]*=e)})),t)}function oi(t){var e=t[0],n=t[1];return[n[0]-e[0],n[1]-e[1]]}function si(t,e){return t[0]*e[1]-e[0]*t[1]}function ai(t,e,n){var i=[],r=m(e,n),o=K(t),s=[];return o.forEach((function(t,e){if(e!==o.length-1){var n=function(t,e,n){var i=Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])),r=t[0]+n*(e[1]-t[1])/i,o=e[0]+n*(e[1]-t[1])/i;return[[r,t[1]+n*(t[0]-e[0])/i],[o,e[1]+n*(t[0]-e[0])/i]]}(t,o[e+1],r);if(i.push(n),e>0){var a=i[e-1],l=function(t,e){return!function(t,e){return 0===si(oi(t),oi(e))}(t,e)&&function(t,e){var n=t[0],i=oi(t),r=e[0],o=oi(e),s=si(i,o);return function(t,e){return[t[0]+e[0],t[1]+e[1]]}(n,function(t,e){return[t*e[0],t*e[1]]}(si(function(t,e){return[t[0]-e[0],t[1]-e[1]]}(r,n),o)/s,i))}(t,e)}(n,a);!1!==l&&(a[1]=l,n[0]=l),s.push(a[0]),e===o.length-2&&(s.push(n[0]),s.push(n[1]))}2===o.length&&(s.push(n[0]),s.push(n[1]))}})),a(s,t.properties)}function li(t,e,n){var i=e[0]-t[0],r=e[1]-t[1],o=n[0]-e[0],s=n[1]-e[1];return Math.sign(i*s-o*r)}function ui(t,e){return e.geometry.coordinates[0].every((function(e){return St(i(e),t)}))}function ci(t,e){for(var n=0;n<t.coordinates.length-1;n++)if(function(t,e,n){var i=n[0]-t[0],r=n[1]-t[1],o=e[0]-t[0],s=e[1]-t[1];return i*s-r*o==0&&(Math.abs(o)>=Math.abs(s)?o>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:s>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1])}(t.coordinates[n],t.coordinates[n+1],e.coordinates))return!0;return!1}function hi(t,e){return We(e,Mn(t)).features.length>0}function fi(t,e){return!(t[0]>e[0]||t[2]<e[2]||t[1]>e[1]||t[3]<e[3])}function pi(t,e){return t[0]===e[0]&&t[1]===e[1]}function di(t,e){for(var n=!1,i=!1,r=t.coordinates.length,o=0;o<r&&!n&&!i;){for(var s=0;s<e.coordinates.length-1;s++){var a=!0;0!==s&&s!==e.coordinates.length-2||(a=!1),mi(e.coordinates[s],e.coordinates[s+1],t.coordinates[o],a)?n=!0:i=!0}o++}return n&&i}function Ai(t,e){return We(t,Mn(e)).features.length>0}function gi(t,e){for(var n=!1,r=!1,o=t.coordinates[0].length,s=0;s<o&&n&&r;)St(i(t.coordinates[0][s]),e)?n=!0:r=!0,s++;return r&&r}function mi(t,e,n,i){var r=n[0]-t[0],o=n[1]-t[1],s=e[0]-t[0],a=e[1]-t[1];return 0==r*a-o*s&&(i?Math.abs(s)>=Math.abs(a)?s>0?t[0]<=n[0]&&n[0]<=e[0]:e[0]<=n[0]&&n[0]<=t[0]:a>0?t[1]<=n[1]&&n[1]<=e[1]:e[1]<=n[1]&&n[1]<=t[1]:Math.abs(s)>=Math.abs(a)?s>0?t[0]<n[0]&&n[0]<e[0]:e[0]<n[0]&&n[0]<t[0]:a>0?t[1]<n[1]&&n[1]<e[1]:e[1]<n[1]&&n[1]<t[1])}function vi(t){return t.coordinates.map((function(e){return{type:t.type.replace("Multi",""),coordinates:e}}))}function yi(t,e){return t.hasOwnProperty("coordinates")?t.coordinates.length===e.coordinates.length:t.length===e.length}function _i(t,e){return Ea(t,e,{strict:!0})}function bi(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");var n=J(t);if(n!==J(e))throw new Error("features must be of the same type");if("Point"===n)throw new Error("Point geometry not supported");if(new Ca({precision:6}).compare(t,e))return!1;var i=0;switch(n){case"MultiPoint":var r=k(t),o=k(e);r.forEach((function(t){o.forEach((function(e){t[0]===e[0]&&t[1]===e[1]&&i++}))}));break;case"LineString":case"MultiLineString":P(t,(function(t){P(e,(function(e){zn(t,e).features.length&&i++}))}));break;case"Polygon":case"MultiPolygon":P(t,(function(t){P(e,(function(e){We(t,e).features.length&&i++}))}))}return i>0}function wi(t,e,n){n=n||[];for(var i=0;i<t;i++)n[i]=e;return n}function Ei(t,e){if(t.geometry&&t.geometry.type)return t.geometry.type;if(t.type)return t.type;throw new Error("Invalid GeoJSON object for "+e)}function xi(t){for(var e=t,n=[];e.parent;)n.unshift(e),e=e.parent;return n}function Ci(t,e){e=e||{},this.nodes=[],this.diagonal=!!e.diagonal,this.grid=[];for(var n=0;n<t.length;n++){this.grid[n]=[];for(var i=0,r=t[n];i<r.length;i++){var o=new Bi(n,i,r[i]);this.grid[n][i]=o,this.nodes.push(o)}}this.init()}function Bi(t,e,n){this.x=t,this.y=e,this.weight=n}function Ii(t){this.content=[],this.scoreFunction=t}function Si(t){return t[0]}function Oi(t){return t[1]}function Mi(){this._=null}function Ti(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Ni(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ki(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Li(t){for(;t.L;)t=t.L;return t}function Fi(t,e,n,i){var r=[null,null],o=ja.push(r)-1;return r.left=t,r.right=e,n&&Di(r,t,e,n),i&&Di(r,e,t,i),Qa[t.index].halfedges.push(o),Qa[e.index].halfedges.push(o),r}function Ri(t,e,n){var i=[e,n];return i.left=t,i}function Di(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function Pi(t,e,n,i,r){var o,s=t[0],a=t[1],l=s[0],u=s[1],c=0,h=1,f=a[0]-l,p=a[1]-u;if(o=e-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-u,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[l+c*f,u+c*p]),h<1&&(t[1]=[l+h*f,u+h*p]),!0)}}}}}function Ui(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,l=t[0],u=t.left,c=t.right,h=u[0],f=u[1],p=c[0],d=c[1],A=(h+p)/2,g=(f+d)/2;if(d===f){if(A<e||A>=i)return;if(h>p){if(l){if(l[1]>=r)return}else l=[A,n];o=[A,r]}else{if(l){if(l[1]<n)return}else l=[A,r];o=[A,n]}}else if(a=g-(s=(h-p)/(d-f))*A,s<-1||s>1)if(h>p){if(l){if(l[1]>=r)return}else l=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(l){if(l[1]<n)return}else l=[(r-a)/s,r];o=[(n-a)/s,n]}else if(f<d){if(l){if(l[0]>=i)return}else l=[e,s*e+a];o=[i,s*i+a]}else{if(l){if(l[0]<e)return}else l=[i,s*i+a];o=[e,s*e+a]}return t[0]=l,t[1]=o,!0}function Qi(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Hi(t,e){return e[+(e.left!==t.site)]}function ji(t,e){return e[+(e.left===t.site)]}function zi(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r[0],a=r[1],l=i[0]-s,u=i[1]-a,c=o[0]-s,h=o[1]-a,f=2*(l*h-u*c);if(!(f>=-qa)){var p=l*l+u*u,d=c*c+h*h,A=(h*p-u*d)/f,g=(l*d-c*p)/f,m=za.pop()||new function(){Ti(this),this.x=this.y=this.arc=this.site=this.cy=null};m.arc=t,m.site=r,m.x=A+s,m.y=(m.cy=g+a)+Math.sqrt(A*A+g*g),t.circle=m;for(var v=null,y=Ha._;y;)if(m.y<y.y||m.y===y.y&&m.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}Ha.insert(v,m),v||(Pa=m)}}}}function Ki(t){var e=t.circle;e&&(e.P||(Pa=e.N),Ha.remove(e),za.push(e),Ti(e),t.circle=null)}function Gi(t){var e=Ka.pop()||new function(){Ti(this),this.edge=this.site=this.circle=null};return e.site=t,e}function qi(t){Ki(t),Ua.remove(t),Ka.push(t),Ti(t)}function Wi(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];qi(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Ga&&Math.abs(i-l.circle.cy)<Ga;)o=l.P,a.unshift(l),qi(l),l=o;a.unshift(l),Ki(l);for(var u=s;u.circle&&Math.abs(n-u.circle.x)<Ga&&Math.abs(i-u.circle.cy)<Ga;)s=u.N,a.push(u),qi(u),u=s;a.push(u),Ki(u);var c,h=a.length;for(c=1;c<h;++c)u=a[c],l=a[c-1],Di(u.edge,l.site,u.site,r);l=a[0],(u=a[h-1]).edge=Fi(l.site,u.site,null,r),zi(l),zi(u)}function Yi(t){for(var e,n,i,r,o=t[0],s=t[1],a=Ua._;a;)if((i=Xi(a,s)-o)>Ga)a=a.L;else{if(!((r=o-function(t,e){var n=t.N;if(n)return Xi(n,e);var i=t.site;return i[1]===e?i[0]:1/0}(a,s))>Ga)){i>-Ga?(e=a.P,n=a):r>-Ga?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){Qa[t.index]={site:t,halfedges:[]}}(t);var l=Gi(t);if(Ua.insert(e,l),e||n){if(e===n)return Ki(e),n=Gi(e.site),Ua.insert(l,n),l.edge=n.edge=Fi(e.site,l.site),zi(e),void zi(n);if(n){Ki(e),Ki(n);var u=e.site,c=u[0],h=u[1],f=t[0]-c,p=t[1]-h,d=n.site,A=d[0]-c,g=d[1]-h,m=2*(f*g-p*A),v=f*f+p*p,y=A*A+g*g,_=[(g*v-p*y)/m+c,(f*y-A*v)/m+h];Di(n.edge,u,d,_),l.edge=Fi(u,t,null,_),n.edge=Fi(t,d,null,_),zi(e),zi(n)}else l.edge=Fi(e.site,l.site)}}function Xi(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],l=n[1],u=l-e;if(!u)return a;var c=a-i,h=1/o-1/u,f=c/u;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+i:(i+a)/2}function Vi(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Ji(t,e){return e[1]-t[1]||e[0]-t[0]}function Zi(t,e){var n,i,r,o=t.sort(Ji).pop();for(ja=[],Qa=new Array(t.length),Ua=new Mi,Ha=new Mi;;)if(r=Pa,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Yi(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Wi(r.arc)}if(function(){for(var t,e,n,i,r=0,o=Qa.length;r<o;++r)if((t=Qa[r])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=Qi(t,ja[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<i;++n)a[n]=e[s[n]];for(n=0;n<i;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],l=+e[1][0],u=+e[1][1];!function(t,e,n,i){for(var r,o=ja.length;o--;)Ui(r=ja[o],t,e,n,i)&&Pi(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Ga||Math.abs(r[0][1]-r[1][1])>Ga)||delete ja[o]}(s,a,l,u),function(t,e,n,i){var r,o,s,a,l,u,c,h,f,p,d,A,g=Qa.length,m=!0;for(r=0;r<g;++r)if(o=Qa[r]){for(s=o.site,a=(l=o.halfedges).length;a--;)ja[l[a]]||l.splice(a,1);for(a=0,u=l.length;a<u;)d=(p=ji(o,ja[l[a]]))[0],A=p[1],h=(c=Hi(o,ja[l[++a%u]]))[0],f=c[1],(Math.abs(d-h)>Ga||Math.abs(A-f)>Ga)&&(l.splice(a,0,ja.push(Ri(s,p,Math.abs(d-t)<Ga&&i-A>Ga?[t,Math.abs(h-t)<Ga?f:i]:Math.abs(A-i)<Ga&&n-d>Ga?[Math.abs(f-i)<Ga?h:n,i]:Math.abs(d-n)<Ga&&A-e>Ga?[n,Math.abs(h-n)<Ga?f:e]:Math.abs(A-e)<Ga&&d-t>Ga?[Math.abs(f-e)<Ga?h:t,e]:null))-1),++u);u&&(m=!1)}if(m){var v,y,_,b=1/0;for(r=0,m=null;r<g;++r)(o=Qa[r])&&(_=(v=(s=o.site)[0]-t)*v+(y=s[1]-e)*y)<b&&(b=_,m=o);if(m){var w=[t,e],E=[t,i],x=[n,i],C=[n,e];m.halfedges.push(ja.push(Ri(s=m.site,w,E))-1,ja.push(Ri(s,E,x))-1,ja.push(Ri(s,x,C))-1,ja.push(Ri(s,C,w))-1)}}for(r=0;r<g;++r)(o=Qa[r])&&(o.halfedges.length||delete Qa[r])}(s,a,l,u)}this.edges=ja,this.cells=Qa,Ua=Ha=ja=Qa=null}function $i(t){return(t=t.slice()).push(t[0]),o([t])}function tr(t,e,n,i){var r=(i=i||{}).steps||64,s=i.units||"kilometers",a=i.angle||0,l=i.pivot||t,u=i.properties||t.properties||{};if(!t)throw new Error("center is required");if(!e)throw new Error("xSemiAxis is required");if(!n)throw new Error("ySemiAxis is required");if(!x(i))throw new Error("options must be an object");if(!E(r))throw new Error("steps must be a number");if(!E(a))throw new Error("angle must be a number");var c=z(t);if("degrees"===s)var h=_(a);else e=qn(t,e,90,{units:s}),n=qn(t,n,0,{units:s}),e=z(e)[0]-c[0],n=z(n)[1]-c[1];for(var f=[],p=0;p<r;p+=1){var d=-360*p/r,A=e*n/Math.sqrt(Math.pow(n,2)+Math.pow(e,2)*Math.pow(er(d),2)),g=e*n/Math.sqrt(Math.pow(e,2)+Math.pow(n,2)/Math.pow(er(d),2));if(d<-90&&d>=-270&&(A=-A),d<-180&&d>=-360&&(g=-g),"degrees"===s){var m=A*Math.cos(h)+g*Math.sin(h),v=g*Math.cos(h)-A*Math.sin(h);A=m,g=v}f.push([A+c[0],g+c[1]])}return f.push(f[0]),"degrees"===s?o([f],u):ni(o([f],u),a,{pivot:l})}function er(t){var e=t*Math.PI/180;return Math.tan(e)}function nr(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.properties,r=e.weight;if(!t)throw new Error("geojson is required");var o=0,s=0,a=0;return L(t,(function(t,e,n){var i=n[r];if(!E(i=null==i?1:i))throw new Error("weight value must be a number for feature index "+e);(i=Number(i))>0&&I(t,(function(t){o+=t[0]*i,s+=t[1]*i,a+=i}))})),i([o/a,s/a],n)}function ir(t,e,n,r){var o=n.properties.tolerance||.001,s=0,a=0,l=0,u=0;if(T(n,(function(e){var n=e.properties.weight,i=null==n?1:n;if(!E(i=Number(i)))throw new Error("weight value must be a number");if(i>0){u+=1;var r=i*Ft(e,t);0===r&&(r=1);var o=i/r;s+=e.geometry.coordinates[0]*o,a+=e.geometry.coordinates[1]*o,l+=o}})),u<1)throw new Error("no features to measure");var c=s/l,h=a/l;return 1===u||0===r||Math.abs(c-e[0])<o&&Math.abs(h-e[1])<o?i([c,h],{medianCandidates:n.properties.medianCandidates}):(n.properties.medianCandidates.push([c,h]),ir([c,h],t,n,r-1))}function rr(t,e){return{x:t[0]-e[0],y:t[1]-e[1]}}function or(t){if(x(t)&&(t=t.bbox),t&&!Array.isArray(t))throw new Error("bbox is invalid");return t?function(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}(t):[360*ur(),180*ur()]}function sr(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.bbox;null!=t||(t=1);for(var r=[],o=0;o<t;o++)r.push(i(or(n)));return u(r)}function ar(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.num_vertices,r=e.max_radial_length;null!=t||(t=1),E(i)||(i=10),E(r)||(r=10);for(var s=[],a=0;a<t;a++){var l=[],c=Array.apply(null,new Array(i+1)).map(Math.random);c.forEach((function(t,e,n){n[e]=e>0?t+n[e-1]:t})),c.forEach((function(t){t=2*t*Math.PI/c[c.length-1];var e=Math.random();l.push([e*r*Math.sin(t),e*r*Math.cos(t)])})),l[l.length-1]=l[0],l=l.map(function(t){return function(e){return[e[0]+t[0],e[1]+t[1]]}}(or(n))),s.push(o([l]))}return u(s)}function lr(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.bbox,i=e.num_vertices,r=e.max_length,o=e.max_rotation;null!=t||(t=1),(!E(i)||i<2)&&(i=10),E(r)||(r=1e-4),E(o)||(o=Math.PI/8);for(var s=[],l=0;l<t;l++){for(var c=[or(n)],h=0;h<i-1;h++){var f=(0===h?2*Math.random()*Math.PI:Math.tan((c[h][1]-c[h-1][1])/(c[h][0]-c[h-1][0])))+(Math.random()-.5)*o*2,p=Math.random()*r;c.push([c[h][0]+p*Math.cos(f),c[h][1]+p*Math.sin(f)])}s.push(a(c))}return u(s)}function ur(){return Math.random()-.5}function cr(t,e){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("filter is required");var n=[];return T(t,(function(t){dr(t.properties,e)&&n.push(t)})),u(n)}function hr(t,e,n){if(!t)throw new Error("geojson is required");if("FeatureCollection"!==t.type)throw new Error("geojson must be a FeatureCollection");if(null==e)throw new Error("property is required");for(var i=pr(t,e),r=Object.keys(i),o=0;o<r.length;o++){for(var s=r[o],a=i[s],l=[],c=0;c<a.length;c++)l.push(t.features[a[c]]);n(u(l),s,o)}}function fr(t,e,n,i){var r=i;return hr(t,e,(function(t,e,o){r=0===o&&void 0===i?t:n(r,t,e,o)})),r}function pr(t,e){var n={};return T(t,(function(t,i){var r=t.properties||{};if(r.hasOwnProperty(e)){var o=r[e];n.hasOwnProperty(o)?n[o].push(i):n[o]=[i]}})),n}function dr(t,e){if(void 0===t)return!1;var n=typeof e;if("number"===n||"string"===n)return t.hasOwnProperty(e);if(Array.isArray(e)){for(var i=0;i<e.length;i++)if(!dr(t,e[i]))return!1;return!0}return Ar(t,e)}function Ar(t,e){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=n[i];if(t[r]!==e[r])return!1}return!0}function gr(t,e){if(!e)return{};if(!e.length)return{};for(var n={},i=0;i<e.length;i++){var r=e[i];t.hasOwnProperty(r)&&(n[r]=t[r])}return n}function mr(){}function vr(t){this.message=t||""}function yr(t){this.message=t||""}function _r(){}function br(t){return null===t?pu:t.color}function wr(t){return null===t?null:t.parent}function Er(t,e){null!==t&&(t.color=e)}function xr(t){return null===t?null:t.left}function Cr(t){return null===t?null:t.right}function Br(){this.root_=null,this.size_=0}function Ir(){}function Sr(){this.array_=[],arguments[0]instanceof Zl&&this.addAll(arguments[0])}function Or(){}function Mr(t){this.message=t||""}function Tr(){this.array_=[]}function Nr(t){switch(t.type){case"Polygon":return un(t)>1?t:null;case"MultiPolygon":var e=[];if(R(t,(function(t){un(t)>1&&e.push(t.geometry.coordinates)})),e.length)return{type:"MultiPolygon",coordinates:e}}}function kr(){this.reset()}function Lr(t,e,n){var i=t.s=e+n,r=i-e,o=i-r;t.t=e-o+(n-r)}function Fr(t){return t>1?yp:t<-1?-yp:Math.asin(t)}function Rr(){}function Dr(t,e){t&&Lp.hasOwnProperty(t.type)&&Lp[t.type](t,e)}function Pr(t,e,n){var i,r=-1,o=t.length-n;for(e.lineStart();++r<o;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function Ur(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)Pr(t[n],e,1);e.polygonEnd()}function Qr(t){return[Bp(t[1],t[0]),Fr(t[2])]}function Hr(t){var e=t[0],n=t[1],i=Ip(n);return[i*Ip(e),i*Mp(e),Mp(n)]}function jr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function zr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Kr(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Gr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function qr(t){var e=Tp(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Wr(t,e){return[t>vp?t-bp:t<-vp?t+bp:t,e]}function Yr(t,e,n){return(t%=bp)?e||n?Rp(Vr(t),Jr(e,n)):Vr(t):e||n?Jr(e,n):Wr}function Xr(t){return function(e,n){return[(e+=t)>vp?e-bp:e<-vp?e+bp:e,n]}}function Vr(t){var e=Xr(t);return e.invert=Xr(-t),e}function Jr(t,e){function n(t,e){var n=Ip(e),a=Ip(t)*n,l=Mp(t)*n,u=Mp(e),c=u*i+a*r;return[Bp(l*o-c*s,a*i-u*r),Fr(c*o+l*s)]}var i=Ip(t),r=Mp(t),o=Ip(e),s=Mp(e);return n.invert=function(t,e){var n=Ip(e),a=Ip(t)*n,l=Mp(t)*n,u=Mp(e),c=u*o-l*s;return[Bp(l*o+u*s,a*i+c*r),Fr(c*i-a*r)]},n}function Zr(t,e){(e=Hr(e))[0]-=t,qr(e);var n=function(t){return t>1?0:t<-1?vp:Math.acos(t)}(-e[1]);return((-e[2]<0?-n:n)+bp-mp)%bp}function $r(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function to(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function eo(t,e,n,i){function r(r,o){return t<=r&&r<=n&&e<=o&&o<=i}function o(r,o,a,u){var c=0,h=0;if(null==r||(c=s(r,a))!==(h=s(o,a))||l(r,o)<0^a>0)do{u.point(0===c||3===c?t:n,c>1?i:e)}while((c=(c+a+4)%4)!==h);else u.point(o[0],o[1])}function s(i,r){return xp(i[0]-t)<mp?r>0?0:3:xp(i[0]-n)<mp?r>0?2:1:xp(i[1]-e)<mp?r>0?1:0:r>0?3:2}function a(t,e){return l(t.x,e.x)}function l(t,e){var n=s(t,1),i=s(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t,e){r(t,e)&&b.point(t,e)}function u(o,s){var a=r(o,s);if(h&&f.push([o,s]),y)p=o,d=s,A=a,y=!1,a&&(b.lineStart(),b.point(o,s));else if(a&&v)b.point(o,s);else{var l=[g=Math.max(Gp,Math.min(Kp,g)),m=Math.max(Gp,Math.min(Kp,m))],u=[o=Math.max(Gp,Math.min(Kp,o)),s=Math.max(Gp,Math.min(Kp,s))];Up(l,u,t,e,n,i)?(v||(b.lineStart(),b.point(l[0],l[1])),b.point(u[0],u[1]),a||b.lineEnd(),_=!1):a&&(b.lineStart(),b.point(o,s),_=!1)}g=o,m=s,v=a}var c,h,f,p,d,A,g,m,v,y,_,b=s,w=Pp(),E={point:l,lineStart:function(){E.point=u,h&&h.push(f=[]),y=!0,v=!1,g=m=NaN},lineEnd:function(){c&&(u(p,d),A&&v&&w.rejoin(),c.push(w.result())),E.point=l,v&&b.lineEnd()},polygonStart:function(){b=w,c=[],h=[],_=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,r=h.length;n<r;++n)for(var o,s,a=h[n],l=1,u=a.length,c=a[0],f=c[0],p=c[1];l<u;++l)o=f,s=p,f=(c=a[l])[0],p=c[1],s<=i?p>i&&(f-o)*(i-s)>(p-s)*(t-o)&&++e:p<=i&&(f-o)*(i-s)<(p-s)*(t-o)&&--e;return e}(),n=_&&e,r=(c=zp(c)).length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),r&&Hp(c,a,e,o,s),s.polygonEnd()),b=s,c=h=f=null}};return E}}function no(t){return t.length>1}function io(t,e){return((t=t.x)[0]<0?t[1]-yp-mp:yp-t[1])-((e=e.x)[0]<0?e[1]-yp-mp:yp-e[1])}function ro(t){return function(e){var n=new oo;for(var i in t)n[i]=t[i];return n.stream=e,n}}function oo(){}function so(t,e,n){var i=e[1][0]-e[0][0],r=e[1][1]-e[0][1],o=t.clipExtent&&t.clipExtent();t.scale(150).translate([0,0]),null!=o&&t.clipExtent(null),Fp(n,t.stream(Zp));var s=Zp.result(),a=Math.min(i/(s[1][0]-s[0][0]),r/(s[1][1]-s[0][1])),l=+e[0][0]+(i-a*(s[1][0]+s[0][0]))/2,u=+e[0][1]+(r-a*(s[1][1]+s[0][1]))/2;return null!=o&&t.clipExtent(o),t.scale(150*a).translate([l,u])}function ao(t,e){return[t,Op(Np((yp+e)/2))]}function lo(t,e){return[Op(Np((yp+e)/2)),-t]}function uo(t,n,i,r){var o=t.properties||{},s="Feature"===t.type?t.geometry:t;if("GeometryCollection"===s.type){var a=[];return L(t,(function(t){var e=uo(t,n,i,r);e&&a.push(e)})),u(a)}var l,c=j(t),h=c[1]>50&&c[3]>50;l=h?{type:s.type,coordinates:co(s.coordinates,fo(s))}:$e(s);var f,p=(new nc).read(l),d=A(g(n,i),"meters"),m=Wh.bufferOp(p,d);if(!function t(e){return Array.isArray(e[0])?t(e[0]):isNaN(e[0])}((m=(new ic).write(m)).coordinates))return(f=h?{type:m.type,coordinates:ho(m.coordinates,fo(s))}:tn(m)).geometry?f:e(f,o)}function co(t,e){return"object"!=typeof t[0]?e(t):t.map((function(t){return co(t,e)}))}function ho(t,e){return"object"!=typeof t[0]?e.invert(t):t.map((function(t){return ho(t,e)}))}function fo(t){var e=ue(t).geometry.coordinates.reverse(),n=e.map((function(t){return-t}));return sd().center(e).rotate(n).scale(wo)}function po(){for(var t=new nc,e=t.read(JSON.stringify(arguments[0].geometry)),n=1;n<arguments.length;n++)e=dp.union(e,t.read(JSON.stringify(arguments[n].geometry)));return{type:"Feature",geometry:e=(new ic).write(e),properties:arguments[0].properties}}function Ao(t,n){var i=X(t),r=X(n);if(Xt(_n(r,{precision:4})).coordinates[0].length<4)return null;if(Xt(_n(i,{precision:4})).coordinates[0].length<4)return null;var o=new nc,s=o.read(_n(i)),a=o.read(_n(r)),l=op.intersection(s,a);return l.isEmpty()?null:e((new ic).write(l))}function go(t,e){return function(t,e,n){var i,r;if(!Array.isArray(e))throw new Error("Get closest expects an array as second argument");return e.forEach((function(e,n){var o=function(t,e){return t-e}(e,t);o>=0&&(void 0===r||o<r)&&(r=o,i=n)})),i}(t,e)}function mo(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.properties||{},r=n.triangles,s=n.mask;if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(s&&-1===["Polygon","MultiPolygon"].indexOf(J(s)))throw new Error("options.mask must be a (Multi)Polygon");var a=t[0],l=t[1],c=t[2],h=t[3],f=(l+h)/2,p=(a+c)/2,d=2*e/Ft([a,f],[c,f],n)*(c-a),A=2*e/Ft([p,l],[p,h],n)*(h-l),g=d/2,m=2*g,v=Math.sqrt(3)/2*A,y=c-a,_=h-l,b=.75*m,w=v,C=(y-m)/(m-g/2),B=Math.floor(C),I=(B*b-g/2-y)/2-g/2+b/2,S=Math.floor((_-v)/v),O=(_-S*v)/2,M=S*v-_>v/2;M&&(O-=v/4);for(var T=[],N=[],k=0;k<6;k++){var L=2*Math.PI/6*k;T.push(Math.cos(L)),N.push(Math.sin(L))}for(var F=[],R=0;R<=B;R++)for(var D=0;D<=S;D++){var P=R%2==1;if(!(0===D&&P||0===D&&M)){var U=R*b+a-I,Q=D*w+l+O;if(P&&(Q-=v/2),!0===r)(function(t,e,n,i,r,s){for(var a=[],l=0;l<6;l++){var u=[];u.push(t),u.push([t[0]+e*r[l],t[1]+n*s[l]]),u.push([t[0]+e*r[(l+1)%6],t[1]+n*s[(l+1)%6]]),u.push(t),a.push(o([u],i))}return a})([U,Q],d/2,A/2,i,T,N).forEach((function(t){s?Ao(s,t)&&F.push(t):F.push(t)}));else{var H=function(t,e,n,i,r,s){for(var a=[],l=0;l<6;l++){var u=t[0]+e*r[l],c=t[1]+n*s[l];a.push([u,c])}return a.push(a[0].slice()),o([a],i)}([U,Q],d/2,A/2,i,T,N);s?Ao(s,H)&&F.push(H):F.push(H)}}}return u(F)}function vo(t){if(t.features.length<=1)return t;var e=function(t){var e=No(),n=[];return R(t,(function(t,e){var i=j(t);n.push({minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],geojson:t,index:e})})),e.load(n),e}(t),n=[],i={};return R(t,(function(t,r){if(i[r])return!0;for(e.remove({index:r},yo),i[r]=!0;;){var o=j(t),s=e.search({minX:o[0],minY:o[1],maxX:o[2],maxY:o[3]});if(s.length>0){var a=s.map((function(t){return i[t.index]=!0,e.remove({index:t.index},yo),t.geojson}));a.push(t),t=po.apply(this,a)}if(0===s.length)break}n.push(t)})),u(n)}function yo(t,e){return t.index===e.index}function _o(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.properties,r=n.mask,s=[];if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf(J(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=t[0],l=t[1],c=t[2],h=t[3],f=e/Ft([a,l],[c,l],n)*(c-a),p=e/Ft([a,l],[a,h],n)*(h-l),d=c-a,A=h-l,g=Math.floor(d/f),m=Math.floor(A/p),v=(A-m*p)/2,y=a+(d-g*f)/2,_=0;_<g;_++){for(var b=l+v,w=0;w<m;w++){var C=o([[[y,b],[y,b+p],[y+f,b+p],[y+f,b],[y,b]]],i);r?Ao(r,C)&&s.push(C):s.push(C),b+=p}y+=f}return u(s)}function bo(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.properties,r=n.mask,s=[];if(null==e)throw new Error("cellSide is required");if(!E(e))throw new Error("cellSide is invalid");if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be array");if(4!==t.length)throw new Error("bbox must contain 4 numbers");if(r&&-1===["Polygon","MultiPolygon"].indexOf(J(r)))throw new Error("options.mask must be a (Multi)Polygon");for(var a=e/Ft([t[0],t[1]],[t[2],t[1]],n)*(t[2]-t[0]),l=e/Ft([t[0],t[1]],[t[0],t[3]],n)*(t[3]-t[1]),c=0,h=t[0];h<=t[2];){for(var f=0,p=t[1];p<=t[3];){var d=null,A=null;c%2==0&&f%2==0?(d=o([[[h,p],[h,p+l],[h+a,p],[h,p]]],i),A=o([[[h,p+l],[h+a,p+l],[h+a,p],[h,p+l]]],i)):c%2==0&&f%2==1?(d=o([[[h,p],[h+a,p+l],[h+a,p],[h,p]]],i),A=o([[[h,p],[h,p+l],[h+a,p+l],[h,p]]],i)):f%2==0&&c%2==1?(d=o([[[h,p],[h,p+l],[h+a,p+l],[h,p]]],i),A=o([[[h,p],[h+a,p+l],[h+a,p],[h,p]]],i)):f%2==1&&c%2==1&&(d=o([[[h,p],[h,p+l],[h+a,p],[h,p]]],i),A=o([[[h,p+l],[h+a,p+l],[h+a,p],[h,p+l]]],i)),r?(Ao(r,d)&&s.push(d),Ao(r,A)&&s.push(A)):(s.push(d),s.push(A)),p+=l,f++}c++,h+=a}return u(s)}var wo=6371008.8,Eo={meters:wo,metres:wo,millimeters:1e3*wo,millimetres:1e3*wo,centimeters:100*wo,centimetres:100*wo,kilometers:wo/1e3,kilometres:wo/1e3,miles:wo/1609.344,nauticalmiles:wo/1852,inches:39.37*wo,yards:wo/1.0936,feet:3.28084*wo,radians:1,degrees:wo/111325},xo={meters:1,metres:1,millimeters:1e3,millimetres:1e3,centimeters:100,centimetres:100,kilometers:.001,kilometres:.001,miles:1/1609.344,nauticalmiles:1/1852,inches:39.37,yards:1/1.0936,feet:3.28084,radians:1/wo,degrees:1/111325},Co={meters:1,metres:1,millimeters:1e6,millimetres:1e6,centimeters:1e4,centimetres:1e4,kilometers:1e-6,kilometres:1e-6,acres:247105e-9,miles:386e-9,yards:1.195990046,feet:10.763910417,inches:1550.003100006},Bo=Object.freeze({earthRadius:wo,factors:Eo,unitsFactors:xo,areaFactors:Co,feature:e,geometry:n,point:i,points:r,polygon:o,polygons:s,lineString:a,lineStrings:l,featureCollection:u,multiLineString:c,multiPoint:h,multiPolygon:f,geometryCollection:p,round:d,radiansToLength:A,lengthToRadians:g,lengthToDegrees:m,bearingToAzimuth:v,radiansToDegrees:y,degreesToRadians:_,convertLength:b,convertArea:w,isNumber:E,isObject:x,validateBBox:C,validateId:B,radians2degrees:function(){throw new Error("method has been renamed to `radiansToDegrees`")},degrees2radians:function(){throw new Error("method has been renamed to `degreesToRadians`")},distanceToDegrees:function(){throw new Error("method has been renamed to `lengthToDegrees`")},distanceToRadians:function(){throw new Error("method has been renamed to `lengthToRadians`")},radiansToDistance:function(){throw new Error("method has been renamed to `radiansToLength`")},bearingToAngle:function(){throw new Error("method has been renamed to `bearingToAzimuth`")},convertDistance:function(){throw new Error("method has been renamed to `convertLength`")}}),Io=Object.freeze({coordEach:I,coordReduce:S,propEach:O,propReduce:M,featureEach:T,featureReduce:N,coordAll:k,geomEach:L,geomReduce:F,flattenEach:R,flattenReduce:D,segmentEach:P,segmentReduce:U,lineEach:Q,lineReduce:H}),So=Object.freeze({getCoord:z,getCoords:K,containsNumber:G,geojsonType:q,featureOf:W,collectionOf:Y,getGeom:X,getGeomType:V,getType:J}),Oo={successCallback:null,verbose:!1},Mo={},To=function t(e,n,i,r,o){for(i=i||0,r=r||e.length-1,o=o||function(t,e){return t<e?-1:t>e?1:0};r>i;){if(r-i>600){var s=r-i+1,a=n-i+1,l=Math.log(s),u=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*u*(s-u)/s)*(a-s/2<0?-1:1);t(e,n,Math.max(i,Math.floor(n-a*u/s+c)),Math.min(r,Math.floor(n+(s-a)*u/s+c)),o)}var h=e[n],f=i,p=r;for(it(e,i,n),o(e[r],h)>0&&it(e,i,r);f<p;){for(it(e,f,p),f++,p--;o(e[f],h)<0;)f++;for(;o(e[p],h)>0;)p--}0===o(e[i],h)?it(e,i,p):it(e,++p,r),p<=n&&(i=p+1),n<=p&&(r=p-1)}},No=rt;rt.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!pt(t,e))return n;for(var r,o,s,a,l=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],pt(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):ft(t,a)?this._all(s,n):l.push(s));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!pt(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],pt(t,s=e.leaf?n(o):o)){if(e.leaf||ft(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=dt([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,o,s=this.data,a=this.toBBox(t),l=[],u=[];s||l.length;){if(s||(s=l.pop(),i=l[l.length-1],n=u.pop(),o=!0),s.leaf&&-1!==(r=function(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}(t,s.children,e)))return s.children.splice(r,1),l.push(s),this._condense(l),this;o||s.leaf||!ft(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(l.push(s),u.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:lt,compareMinY:ut,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,s=this._maxEntries;if(o<=s)return ot(r=dt(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(r=dt([])).leaf=!1,r.height=i;var a,l,u,c,h=Math.ceil(o/s),f=h*Math.ceil(Math.sqrt(s));for(At(t,e,n,f,this.compareMinX),a=e;a<=n;a+=f)for(At(t,a,u=Math.min(a+f-1,n),h,this.compareMinY),l=a;l<=u;l+=h)c=Math.min(l+h-1,u),r.children.push(this._build(t,l,c,i-1));return ot(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,l,u,c,h;i.push(e),!e.leaf&&i.length-1!==n;){for(c=h=1/0,r=0,o=e.children.length;r<o;r++)l=ct(s=e.children[r]),(u=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-l)<h?(h=u,c=l<c?l:c,a=s):u===h&&l<c&&(c=l,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),at(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),s=dt(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,ot(n,this.toBBox),ot(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=dt([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ot(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,a,l,u,c;for(l=u=1/0,i=e;i<=n-e;i++)s=function(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}(r=st(t,0,i,this.toBBox),o=st(t,i,n,this.toBBox)),a=ct(r)+ct(o),s<l?(l=s,c=i,u=a<u?a:u):s===l&&a<u&&(u=a,c=i);return c},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:lt,r=t.leaf?this.compareMinY:ut;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,a=st(t,0,e,s),l=st(t,n-e,n,s),u=ht(a)+ht(l);for(r=e;r<n-e;r++)o=t.children[r],at(a,t.leaf?s(o):o),u+=ht(a);for(r=n-e-1;r>=e;r--)o=t.children[r],at(l,t.leaf?s(o):o),u+=ht(l);return u},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)at(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():ot(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var ko=function(t,e,n){var i=t*e,r=Lo*t,o=r-(r-t),s=t-o,a=Lo*e,l=a-(a-e),u=e-l,c=s*u-(i-o*l-s*l-o*u);return n?(n[0]=c,n[1]=i,n):[c,i]},Lo=+(Math.pow(2,27)+1),Fo=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);return r?[r,n]:[n]}(t[0],e[0]);var r,o,s=new Array(n+i),a=0,l=0,u=0,c=Math.abs,h=t[l],f=c(h),p=e[u],d=c(p);f<d?(o=h,(l+=1)<n&&(f=c(h=t[l]))):(o=p,(u+=1)<i&&(d=c(p=e[u]))),l<n&&f<d||u>=i?(r=h,(l+=1)<n&&(f=c(h=t[l]))):(r=p,(u+=1)<i&&(d=c(p=e[u])));for(var A,g,m=r+o,v=m-r,y=o-v,_=y,b=m;l<n&&u<i;)f<d?(r=h,(l+=1)<n&&(f=c(h=t[l]))):(r=p,(u+=1)<i&&(d=c(p=e[u]))),(y=(o=_)-(v=(m=r+o)-r))&&(s[a++]=y),_=b-((A=b+m)-(g=A-b))+(m-g),b=A;for(;l<n;)(y=(o=_)-(v=(m=(r=h)+o)-r))&&(s[a++]=y),_=b-((A=b+m)-(g=A-b))+(m-g),b=A,(l+=1)<n&&(h=t[l]);for(;u<i;)(y=(o=_)-(v=(m=(r=p)+o)-r))&&(s[a++]=y),_=b-((A=b+m)-(g=A-b))+(m-g),b=A,(u+=1)<i&&(p=e[u]);return _&&(s[a++]=_),b&&(s[a++]=b),a||(s[a++]=0),s.length=a,s},Ro=function(t,e,n){var i=t+e,r=i-t,o=e-r,s=t-(i-r);return n?(n[0]=s+o,n[1]=i,n):[s+o,i]},Do=function(t,e){var n=t.length;if(1===n){var i=ko(t[0],e);return i[0]?i:[i[1]]}var r=new Array(2*n),o=[.1,.1],s=[.1,.1],a=0;ko(t[0],e,o),o[0]&&(r[a++]=o[0]);for(var l=1;l<n;++l){ko(t[l],e,s);var u=o[1];Ro(u,s[0],o),o[0]&&(r[a++]=o[0]);var c=s[1],h=o[1],f=c+h,p=h-(f-c);o[1]=f,p&&(r[a++]=p)}return o[1]&&(r[a++]=o[1]),0===a&&(r[a++]=0),r.length=a,r},Po=function(t,e){var n=0|t.length,i=0|e.length;if(1===n&&1===i)return function(t,e){var n=t+e,i=n-t,r=t-(n-i)+(e-i);return r?[r,n]:[n]}(t[0],-e[0]);var r,o,s=new Array(n+i),a=0,l=0,u=0,c=Math.abs,h=t[l],f=c(h),p=-e[u],d=c(p);f<d?(o=h,(l+=1)<n&&(f=c(h=t[l]))):(o=p,(u+=1)<i&&(d=c(p=-e[u]))),l<n&&f<d||u>=i?(r=h,(l+=1)<n&&(f=c(h=t[l]))):(r=p,(u+=1)<i&&(d=c(p=-e[u])));for(var A,g,m=r+o,v=m-r,y=o-v,_=y,b=m;l<n&&u<i;)f<d?(r=h,(l+=1)<n&&(f=c(h=t[l]))):(r=p,(u+=1)<i&&(d=c(p=-e[u]))),(y=(o=_)-(v=(m=r+o)-r))&&(s[a++]=y),_=b-((A=b+m)-(g=A-b))+(m-g),b=A;for(;l<n;)(y=(o=_)-(v=(m=(r=h)+o)-r))&&(s[a++]=y),_=b-((A=b+m)-(g=A-b))+(m-g),b=A,(l+=1)<n&&(h=t[l]);for(;u<i;)(y=(o=_)-(v=(m=(r=p)+o)-r))&&(s[a++]=y),_=b-((A=b+m)-(g=A-b))+(m-g),b=A,(u+=1)<i&&(p=-e[u]);return _&&(s[a++]=_),b&&(s[a++]=b),a||(s[a++]=0),s.length=a,s},Uo=gt((function(t){function e(t,e){for(var n=new Array(t.length-1),i=1;i<t.length;++i)for(var r=n[i-1]=new Array(t.length-1),o=0,s=0;o<t.length;++o)o!==e&&(r[s++]=t[i][o]);return n}function n(t){return 1&t?"-":""}function i(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var e=t.length>>1;return["sum(",i(t.slice(0,e)),",",i(t.slice(e)),")"].join("")}function r(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var o=[],s=0;s<t.length;++s)o.push(["scale(",i(r(e(t,s))),",",n(s),t[0][s],")"].join(""));return o}function o(t){for(var n=[],o=[],s=function(t){for(var e=new Array(t),n=0;n<t;++n){e[n]=new Array(t);for(var i=0;i<t;++i)e[n][i]=["m",i,"[",t-n-1,"]"].join("")}return e}(t),a=[],l=0;l<t;++l)0==(1&l)?n.push.apply(n,r(e(s,l))):o.push.apply(o,r(e(s,l))),a.push("m"+l);var u=i(n),c=i(o),h="orientation"+t+"Exact",f=["function ",h,"(",a.join(),"){var p=",u,",n=",c,",d=sub(p,n);return d[d.length-1];};return ",h].join("");return new Function("sum","prod","scale","sub",f)(Fo,ko,Do,Po)}var s=o(3),a=o(4),l=[function(){return 0},function(){return 0},function(t,e){return e[0]-t[0]},function(t,e,n){var i,r=(t[1]-n[1])*(e[0]-n[0]),o=(t[0]-n[0])*(e[1]-n[1]),a=r-o;if(r>0){if(o<=0)return a;i=r+o}else{if(!(r<0))return a;if(o>=0)return a;i=-(r+o)}var l=33306690738754716e-32*i;return a>=l||a<=-l?a:s(t,e,n)},function(t,e,n,i){var r=t[0]-i[0],o=e[0]-i[0],s=n[0]-i[0],l=t[1]-i[1],u=e[1]-i[1],c=n[1]-i[1],h=t[2]-i[2],f=e[2]-i[2],p=n[2]-i[2],d=o*c,A=s*u,g=s*l,m=r*c,v=r*u,y=o*l,_=h*(d-A)+f*(g-m)+p*(v-y),b=7771561172376103e-31*((Math.abs(d)+Math.abs(A))*Math.abs(h)+(Math.abs(g)+Math.abs(m))*Math.abs(f)+(Math.abs(v)+Math.abs(y))*Math.abs(p));return _>b||-_>b?_:a(t,e,n,i)}];!function(){for(;l.length<=5;)l.push(o(l.length));for(var e=[],n=["slow"],i=0;i<=5;++i)e.push("a"+i),n.push("o"+i);var r=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(i=2;i<=5;++i)r.push("case ",i,":return o",i,"(",e.slice(0,i).join(),");");r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),n.push(r.join(""));var s=Function.apply(void 0,n);for(t.exports=s.apply(void 0,[function(t){var e=l[t.length];return e||(e=l[t.length]=o(t.length)),e.apply(void 0,t)}].concat(l)),i=0;i<=5;++i)t.exports[i]=l[i]}()})),Qo=function(t){var e=t.length;if(e<3){for(var n=new Array(e),i=0;i<e;++i)n[i]=i;return 2===e&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:n}var r=new Array(e);for(i=0;i<e;++i)r[i]=i;r.sort((function(e,n){return t[e][0]-t[n][0]||t[e][1]-t[n][1]}));var o=[r[0],r[1]],s=[r[0],r[1]];for(i=2;i<e;++i){for(var a=r[i],l=t[a],u=o.length;u>1&&Ho(t[o[u-2]],t[o[u-1]],l)<=0;)u-=1,o.pop();for(o.push(a),u=s.length;u>1&&Ho(t[s[u-2]],t[s[u-1]],l)>=0;)u-=1,s.pop();s.push(a)}n=new Array(s.length+o.length-2);for(var c=0,h=(i=0,o.length);i<h;++i)n[c++]=o[i];for(var f=s.length-2;f>0;--f)n[c++]=s[f];return n},Ho=Uo[3],jo=mt,zo=mt;mt.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare,i=e[t];t>0;){var r=t-1>>1,o=e[r];if(n(i,o)>=0)break;e[t]=o,t=r}e[t]=i},_down:function(t){for(var e=this.data,n=this.compare,i=this.length>>1,r=e[t];t<i;){var o=1+(t<<1),s=o+1,a=e[o];if(s<this.length&&n(e[s],a)<0&&(o=s,a=e[s]),n(a,r)>=0)break;e[t]=a,t=o}e[t]=r}},jo.default=zo;var Ko=function(t,e){for(var n=t[0],i=t[1],r=!1,o=0,s=e.length-1;o<e.length;s=o++){var a=e[o][0],l=e[o][1],u=e[s][0],c=e[s][1];l>i!=c>i&&n<(u-a)*(i-l)/(c-l)+a&&(r=!r)}return r},Go=Uo[3],qo=vt,Wo=vt;qo.default=Wo;var Yo=function(t){return t},Xo=function(t){if(null==t)return Yo;var e,n,i=t.scale[0],r=t.scale[1],o=t.translate[0],s=t.translate[1];return function(t,a){a||(e=n=0);var l=2,u=t.length,c=new Array(u);for(c[0]=(e+=t[0])*i+o,c[1]=(n+=t[1])*r+s;l<u;)c[l]=t[l],++l;return c}},Vo=function(t,e){for(var n,i=t.length,r=i-e;r<--i;)n=t[r],t[r++]=t[i],t[i]=n},Jo=function(t,e){function n(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach((function(t){i[t<0?~t:t]=1})),s.push(r)}}var i={},r={},o={},s=[],a=-1;return e.forEach((function(n,i){var r,o=t.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=e[++a],e[a]=n,e[i]=r)})),e.forEach((function(e){var n,i,s=function(e){var n,i=t.arcs[e<0?~e:e],r=i[0];return t.transform?(n=[0,0],i.forEach((function(t){n[0]+=t[0],n[1]+=t[1]}))):n=i[i.length-1],e<0?[n,r]:[r,n]}(e),a=s[0],l=s[1];if(n=o[a])if(delete o[n.end],n.push(e),n.end=l,i=r[l]){delete r[i.start];var u=i===n?n:n.concat(i);r[u.start=n.start]=o[u.end=i.end]=u}else r[n.start]=o[n.end]=n;else if(n=r[l])if(delete r[n.start],n.unshift(e),n.start=a,i=o[a]){delete o[i.end];var c=i===n?n:i.concat(n);r[c.start=i.start]=o[c.end=n.end]=c}else r[n.start]=o[n.end]=n;else r[(n=[e]).start=a]=o[n.end=l]=n})),n(o,r),n(r,o),e.forEach((function(t){i[t<0?~t:t]||s.push([t])})),s},Zo=function(t){return Ut(t,Qt.apply(this,arguments))},$o=function(t,e,n,i,r,o){3===arguments.length&&(i=o=Array,r=null);for(var s=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),a=new o(t),l=t-1,u=0;u<t;++u)s[u]=r;return{set:function(i,o){for(var u=e(i)&l,c=s[u],h=0;c!=r;){if(n(c,i))return a[u]=o;if(++h>=t)throw new Error("full hashmap");c=s[u=u+1&l]}return s[u]=i,a[u]=o,o},maybeSet:function(i,o){for(var u=e(i)&l,c=s[u],h=0;c!=r;){if(n(c,i))return a[u];if(++h>=t)throw new Error("full hashmap");c=s[u=u+1&l]}return s[u]=i,a[u]=o,o},get:function(i,o){for(var u=e(i)&l,c=s[u],h=0;c!=r;){if(n(c,i))return a[u];if(++h>=t)break;c=s[u=u+1&l]}return o},keys:function(){for(var t=[],e=0,n=s.length;e<n;++e){var i=s[e];i!=r&&t.push(i)}return t}}},ts=function(t,e){return t[0]===e[0]&&t[1]===e[1]},es=new ArrayBuffer(16),ns=new Float64Array(es),is=new Uint32Array(es),rs=function(t){ns[0]=t[0],ns[1]=t[1];var e=is[0]^is[1];return 2147483647&(e<<5^e>>7^is[2]^is[3])},os=function(t){var e,n,i,r=function(t){function e(t,e,n,i){if(f[n]!==t){f[n]=t;var r=p[n];if(r>=0){var o=d[n];r===e&&o===i||r===i&&o===e||(++g,A[n]=1)}else p[n]=e,d[n]=i}}function n(t){return rs(l[t])}function i(t,e){return ts(l[t],l[e])}var r,o,s,a,l=t.coordinates,u=t.lines,c=t.rings,h=function(){for(var t=$o(1.4*l.length,n,i,Int32Array,-1,Int32Array),e=new Int32Array(l.length),r=0,o=l.length;r<o;++r)e[r]=t.maybeSet(r,r);return e}(),f=new Int32Array(l.length),p=new Int32Array(l.length),d=new Int32Array(l.length),A=new Int8Array(l.length),g=0;for(r=0,o=l.length;r<o;++r)f[r]=p[r]=d[r]=-1;for(r=0,o=u.length;r<o;++r){var m=u[r],v=m[0],y=m[1];for(s=h[v],a=h[++v],++g,A[s]=1;++v<=y;)e(r,s,s=a,a=h[v]);++g,A[a]=1}for(r=0,o=l.length;r<o;++r)f[r]=-1;for(r=0,o=c.length;r<o;++r){var _=c[r],b=_[0]+1,w=_[1];for(e(r,h[w-1],s=h[b-1],a=h[b]);++b<=w;)e(r,s,s=a,a=h[b])}f=p=d=null;var E,x=function(t,e,n,i,r){3===arguments.length&&(i=Array,r=null);for(var o=new i(t=1<<Math.max(4,Math.ceil(Math.log(t)/Math.LN2))),s=t-1,a=0;a<t;++a)o[a]=r;return{add:function(i){for(var a=e(i)&s,l=o[a],u=0;l!=r;){if(n(l,i))return!0;if(++u>=t)throw new Error("full hashset");l=o[a=a+1&s]}return o[a]=i,!0},has:function(i){for(var a=e(i)&s,l=o[a],u=0;l!=r;){if(n(l,i))return!0;if(++u>=t)break;l=o[a=a+1&s]}return!1},values:function(){for(var t=[],e=0,n=o.length;e<n;++e){var i=o[e];i!=r&&t.push(i)}return t}}}(1.4*g,rs,ts);for(r=0,o=l.length;r<o;++r)A[E=h[r]]&&x.add(l[E]);return x}(t),o=t.coordinates,s=t.lines,a=t.rings;for(n=0,i=s.length;n<i;++n)for(var l=s[n],u=l[0],c=l[1];++u<c;)r.has(o[u])&&(e={0:u,1:l[1]},l[1]=u,l=l.next=e);for(n=0,i=a.length;n<i;++n)for(var h=a[n],f=h[0],p=f,d=h[1],A=r.has(o[f]);++p<d;)r.has(o[p])&&(A?(e={0:p,1:h[1]},h[1]=p,h=h.next=e):(function(t,e,n,i){Ht(t,e,n),Ht(t,e,e+i),Ht(t,e+i,n)}(o,f,d,d-p),o[d]=o[f],A=!0,p=f));return t},ss=function(t,e){function n(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function i(t){var e=[];do{var n=u.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function r(t){return t.map(i)}var o=function(t){function e(t){null!=t&&u.hasOwnProperty(t.type)&&u[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),e>a&&(a=e),n<s&&(s=n),n>l&&(l=n)}function i(t){t.forEach(n)}function r(t){t.forEach(i)}var o=1/0,s=1/0,a=-1/0,l=-1/0,u={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){i(t.arcs)},MultiLineString:function(t){t.arcs.forEach(i)},Polygon:function(t){t.arcs.forEach(i)},MultiPolygon:function(t){t.arcs.forEach(r)}};for(var c in t)e(t[c]);return a>=o&&l>=s?[o,s,a,l]:void 0}(t=function(t){var e,n={};for(e in t)n[e]=jt(t[e]);return n}(t)),s=e>0&&o&&function(t,e,n){function i(t){return[Math.round((t[0]-u)*p),Math.round((t[1]-c)*d)]}function r(t,e){for(var n,i,r,o,s,a=-1,l=0,h=t.length,f=new Array(h);++a<h;)n=t[a],o=Math.round((n[0]-u)*p),s=Math.round((n[1]-c)*d),o===i&&s===r||(f[l++]=[i=o,r=s]);for(f.length=l;l<e;)l=f.push([f[0][0],f[0][1]]);return f}function o(t){return r(t,2)}function s(t){return r(t,4)}function a(t){return t.map(s)}function l(t){null!=t&&A.hasOwnProperty(t.type)&&A[t.type](t)}var u=e[0],c=e[1],h=e[2],f=e[3],p=h-u?(n-1)/(h-u):1,d=f-c?(n-1)/(f-c):1,A={GeometryCollection:function(t){t.geometries.forEach(l)},Point:function(t){t.coordinates=i(t.coordinates)},MultiPoint:function(t){t.coordinates=t.coordinates.map(i)},LineString:function(t){t.arcs=o(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(o)},Polygon:function(t){t.arcs=a(t.arcs)},MultiPolygon:function(t){t.arcs=t.arcs.map(a)}};for(var g in t)l(t[g]);return{scale:[1/p,1/d],translate:[u,c]}}(t,o,e),a=function(t){function e(t){var e,n,i,r,o,s,a,l;if(i=p.get(e=u[t[0]]))for(a=0,l=i.length;a<l;++a)if(function(t,e){var n=t[0],i=e[0],r=t[1];if(n-r!=i-e[1])return!1;for(;n<=r;++n,++i)if(!ts(u[n],u[i]))return!1;return!0}(r=i[a],t))return t[0]=r[0],void(t[1]=r[1]);if(o=p.get(n=u[t[1]]))for(a=0,l=o.length;a<l;++a)if(function(t,e){var n=t[0],i=e[0],r=t[1],o=e[1];if(n-r!=i-o)return!1;for(;n<=r;++n,--o)if(!ts(u[n],u[o]))return!1;return!0}(s=o[a],t))return t[1]=s[0],void(t[0]=s[1]);i?i.push(t):p.set(e,[t]),o?o.push(t):p.set(n,[t]),d.push(t)}function n(t,e){var n=t[0],i=e[0],o=t[1]-n;if(o!==e[1]-i)return!1;for(var s=r(t),a=r(e),l=0;l<o;++l)if(!ts(u[n+(l+s)%o],u[i+(l+a)%o]))return!1;return!0}function i(t,e){var n=t[0],i=e[0],o=t[1],s=e[1],a=o-n;if(a!==s-i)return!1;for(var l=r(t),c=a-r(e),h=0;h<a;++h)if(!ts(u[n+(h+l)%a],u[s-(h+c)%a]))return!1;return!0}function r(t){for(var e=t[0],n=t[1],i=e,r=i,o=u[i];++i<n;){var s=u[i];(s[0]<o[0]||s[0]===o[0]&&s[1]<o[1])&&(r=i,o=s)}return r-e}var o,s,a,l,u=t.coordinates,c=t.lines,h=t.rings,f=c.length+h.length;for(delete t.lines,delete t.rings,a=0,l=c.length;a<l;++a)for(o=c[a];o=o.next;)++f;for(a=0,l=h.length;a<l;++a)for(s=h[a];s=s.next;)++f;var p=$o(2*f*1.4,rs,ts),d=t.arcs=[];for(a=0,l=c.length;a<l;++a){o=c[a];do{e(o)}while(o=o.next)}for(a=0,l=h.length;a<l;++a)if((s=h[a]).next)do{e(s)}while(s=s.next);else!function(t){var e,o,s,a,l;if(o=p.get(u[t[0]]))for(a=0,l=o.length;a<l;++a){if(n(s=o[a],t))return t[0]=s[0],void(t[1]=s[1]);if(i(s,t))return t[0]=s[1],void(t[1]=s[0])}if(o=p.get(e=u[t[0]+r(t)]))for(a=0,l=o.length;a<l;++a){if(n(s=o[a],t))return t[0]=s[0],void(t[1]=s[1]);if(i(s,t))return t[0]=s[1],void(t[1]=s[0])}o?o.push(t):p.set(e,[t]),d.push(t)}(s);return t}(os(function(t){function e(t){t&&u.hasOwnProperty(t.type)&&u[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)l[++o]=t[e];var i={0:o-n+1,1:o};return s.push(i),i}function i(t){for(var e=0,n=t.length;e<n;++e)l[++o]=t[e];var i={0:o-n+1,1:o};return a.push(i),i}function r(t){return t.map(i)}var o=-1,s=[],a=[],l=[],u={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(n)},Polygon:function(t){t.arcs=t.arcs.map(i)},MultiPolygon:function(t){t.arcs=t.arcs.map(r)}};for(var c in t)e(t[c]);return{type:"Topology",coordinates:l,lines:s,rings:a,objects:t}}(t))),l=a.coordinates,u=$o(1.4*a.arcs.length,Gt,qt);t=a.objects,a.bbox=o,a.arcs=a.arcs.map((function(t,e){return u.set(t,e),l.slice(t[0],t[1]+1)})),delete a.coordinates,l=null;var c={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=i(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(i)},Polygon:function(t){t.arcs=t.arcs.map(i)},MultiPolygon:function(t){t.arcs=t.arcs.map(r)}};for(var h in t)n(t[h]);return s&&(a.transform=s,a.arcs=function(t){for(var e=-1,n=t.length;++e<n;){for(var i,r,o=t[e],s=0,a=1,l=o.length,u=o[0],c=u[0],h=u[1];++s<l;)i=(u=o[s])[0],r=u[1],i===c&&r===h||(o[a++]=[i-c,r-h],c=i,h=r);1===a&&(o[a++]=[0,0]),o.length=a}return t}(a.arcs)),a},as=function(t){this.points=t.points||[],this.duration=t.duration||1e4,this.sharpness=t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=t.stepLength||60,this.length=this.points.length,this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(e=0;e<this.length-1;e++){var n=this.points[e],i=this.points[e+1];this.centers.push({x:(n.x+i.x)/2,y:(n.y+i.y)/2,z:(n.z+i.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),e=0;e<this.centers.length-1;e++){n=this.centers[e],i=this.centers[e+1];var r=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2,o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2,s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this};as.prototype.cacheSteps=function(t){var e=[],n=this.pos(0);e.push(0);for(var i=0;i<this.duration;i+=10){var r=this.pos(i);Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)+(r.z-n.z)*(r.z-n.z))>t&&(e.push(i),n=r)}return e},as.prototype.vector=function(t){var e=this.pos(t+10),n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}},as.prototype.pos=function(t){var e=t-this.delay;e<0&&(e=0),e>this.duration&&(e=this.duration-1);var n=e/this.duration;if(n>=1)return this.points[this.length-1];var i=Math.floor((this.points.length-1)*n);return function(t,e,n,i,r){var o=function(t){var e=t*t;return[e*t,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]}(t);return{x:r.x*o[0]+i.x*o[1]+n.x*o[2]+e.x*o[3],y:r.y*o[0]+i.y*o[1]+n.y*o[2]+e.y*o[3],z:r.z*o[0]+i.z*o[1]+n.z*o[2]+e.z*o[3]}}((this.length-1)*n-i,this.points[i],this.controls[i][1],this.controls[i+1][0],this.points[i+1])};var ls=fe,us=fe;fe.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,s=Math.abs(Be(t,0,o,n));if(r)for(var a=0,l=e.length;a<l;a++){var u=e[a]*n,c=a<l-1?e[a+1]*n:t.length;s-=Math.abs(Be(t,u,c,n))}var h=0;for(a=0;a<i.length;a+=3){var f=i[a]*n,p=i[a+1]*n,d=i[a+2]*n;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},fe.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n},ls.default=us,Te.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!Qe(t,e))return n;for(var r,o,s,a,l=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],Qe(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):Ue(t,a)?this._all(s,n):l.push(s));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Qe(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],Qe(t,s=e.leaf?n(o):o)){if(e.leaf||Ue(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=He([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,o,s=this.data,a=this.toBBox(t),l=[],u=[];s||l.length;){if(s||(s=l.pop(),i=l[l.length-1],n=u.pop(),o=!0),s.leaf&&-1!==(r=function(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}(t,s.children,e)))return s.children.splice(r,1),l.push(s),this._condense(l),this;o||s.leaf||!Ue(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(l.push(s),u.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:Fe,compareMinY:Re,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,s=this._maxEntries;if(o<=s)return Ne(r=He(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),(r=He([])).leaf=!1,r.height=i;var a,l,u,c,h=Math.ceil(o/s),f=h*Math.ceil(Math.sqrt(s));for(je(t,e,n,f,this.compareMinX),a=e;a<=n;a+=f)for(je(t,a,u=Math.min(a+f-1,n),h,this.compareMinY),l=a;l<=u;l+=h)c=Math.min(l+h-1,u),r.children.push(this._build(t,l,c,i-1));return Ne(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,l,u,c,h;i.push(e),!e.leaf&&i.length-1!==n;){for(c=h=1/0,r=0,o=e.children.length;r<o;r++)l=De(s=e.children[r]),(u=function(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}(t,s)-l)<h?(h=u,c=l<c?l:c,a=s):u===h&&l<c&&(c=l,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),Le(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),s=He(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,Ne(n,this.toBBox),Ne(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=He([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Ne(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,a,l,u,c;for(l=u=1/0,i=e;i<=n-e;i++)s=function(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}(r=ke(t,0,i,this.toBBox),o=ke(t,i,n,this.toBBox)),a=De(r)+De(o),s<l?(l=s,c=i,u=a<u?a:u):s===l&&a<u&&(u=a,c=i);return c},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:Fe,r=t.leaf?this.compareMinY:Re;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,a=ke(t,0,e,s),l=ke(t,n-e,n,s),u=Pe(a)+Pe(l);for(r=e;r<n-e;r++)o=t.children[r],Le(a,t.leaf?s(o):o),u+=Pe(a);for(r=n-e-1;r>=e;r--)o=t.children[r],Le(l,t.leaf?s(o):o),u+=Pe(l);return u},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)Le(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():Ne(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};var cs=Object.freeze({toMercator:$e,toWgs84:tn}),hs=6378137,fs=function(t){function e(){for(var t=[],e=0;e<d.features.length;e++)-1==d.features[e].properties.parent&&t.push(e);if(t.length>1)for(e=0;e<t.length;e++){for(var n=-1,i=0;i<d.features.length;i++)t[e]!=i&&St(d.features[t[e]].geometry.coordinates[0][0],d.features[i],{ignoreBoundary:!0})&&un(d.features[i])<1/0&&(n=i);d.features[t[e]].properties.parent=n}}function n(){for(var t=0;t<d.features.length;t++)if(-1==d.features[t].properties.parent){var e=d.features[t].properties.winding;d.features[t].properties.netWinding=e,i(t,e)}}function i(t,e){for(var n=0;n<d.features.length;n++)if(d.features[n].properties.parent==t){var r=e+d.features[n].properties.winding;d.features[n].properties.netWinding=r,i(n,r)}}if("Feature"!=t.type)throw new Error("The input must a geojson object of type Feature");if(void 0===t.geometry||null==t.geometry)throw new Error("The input must a geojson object with a non-empty geometry");if("Polygon"!=t.geometry.type)throw new Error("The input must be a geojson Polygon");for(var r=t.geometry.coordinates.length,s=[],a=0;a<r;a++){var l=t.geometry.coordinates[a];En(l[0],l[l.length-1])||l.push(l[0]),s.push.apply(s,l.slice(0,l.length-1))}if(!function(t){for(var e={},n=1,i=0,r=t.length;i<r;++i){if(e.hasOwnProperty(t[i])){n=0;break}e[t[i]]=1}return n}(s))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var c=s.length,h=function(t,e,n){function i(t,n,i,r){var l,u,c=o[t][n],h=o[t][n+1],f=o[i][r],p=o[i][r+1],d=function(t,e,n,i){if(bn(t,n)||bn(t,i)||bn(e,n)||bn(i,n))return null;var r=t[0],o=t[1],s=e[0],a=e[1],l=n[0],u=n[1],c=i[0],h=i[1],f=(r-s)*(u-h)-(o-a)*(l-c);return 0===f?null:[((r*a-o*s)*(l-c)-(r-s)*(l*h-u*c))/f,((r*a-o*s)*(u-h)-(o-a)*(l*h-u*c))/f]}(c,h,f,p);if(null!==d&&(l=h[0]!==c[0]?(d[0]-c[0])/(h[0]-c[0]):(d[1]-c[1])/(h[1]-c[1]),u=p[0]!==f[0]?(d[0]-f[0])/(p[0]-f[0]):(d[1]-f[1])/(p[1]-f[1]),!(l>=1||l<=0||u>=1||u<=0))){var A=d,g=!a[A];g&&(a[A]=!0),e?s.push(e(d,t,n,c,h,l,i,r,f,p,u,g)):s.push(d)}}function r(t,e){var n,i,r,s,a=o[t][e],l=o[t][e+1];return a[0]<l[0]?(n=a[0],i=l[0]):(n=l[0],i=a[0]),a[1]<l[1]?(r=a[1],s=l[1]):(r=l[1],s=a[1]),{minX:n,minY:r,maxX:i,maxY:s,ring:t,edge:e}}if("Polygon"!==t.geometry.type)throw new Error("The input feature must be a Polygon");void 0===n&&(n=1);var o=t.geometry.coordinates,s=[],a={};if(n){for(var l=[],u=0;u<o.length;u++)for(var c=0;c<o[u].length-1;c++)l.push(r(u,c));var h=No();h.load(l)}for(var f=0;f<o.length;f++)for(var p=0;p<o[f].length-1;p++)if(n)h.search(r(f,p)).forEach((function(t){var e=t.ring,n=t.edge;i(f,p,e,n)}));else for(var d=0;d<o.length;d++)for(var A=0;A<o[d].length-1;A++)i(f,p,d,A);return e||(s={type:"Feature",geometry:{type:"MultiPoint",coordinates:s}}),s}(t,(function(t,e,n,i,r,o,s,a,l,u,c,h){return[t,e,n,i,r,o,s,a,l,u,c,h]})),f=h.length;if(0==f){var p=[];for(a=0;a<r;a++)p.push(o([t.geometry.coordinates[a]],{parent:-1,winding:function(t){for(var e=0,n=0;n<t.length-1;n++)t[n][0]<t[e][0]&&(e=n);if(wn([t[(e-1).modulo(t.length-1)],t[e],t[(e+1).modulo(t.length-1)]],!0))var i=1;else i=-1;return i}(t.geometry.coordinates[a])}));var d=u(p);return e(),n(),d}var A=[],g=[];for(a=0;a<r;a++){A.push([]);for(var m=0;m<t.geometry.coordinates[a].length-1;m++)A[a].push([new ps(t.geometry.coordinates[a][(m+1).modulo(t.geometry.coordinates[a].length-1)],1,[a,m],[a,(m+1).modulo(t.geometry.coordinates[a].length-1)],void 0)]),g.push(new ds(t.geometry.coordinates[a][m],[a,(m-1).modulo(t.geometry.coordinates[a].length-1)],[a,m],void 0,void 0,!1,!0))}for(a=0;a<f;a++)A[h[a][1]][h[a][2]].push(new ps(h[a][0],h[a][5],[h[a][1],h[a][2]],[h[a][6],h[a][7]],void 0)),h[a][11]&&g.push(new ds(h[a][0],[h[a][1],h[a][2]],[h[a][6],h[a][7]],void 0,void 0,!0,!0));var v=g.length;for(a=0;a<A.length;a++)for(m=0;m<A[a].length;m++)A[a][m].sort((function(t,e){return t.param<e.param?-1:1}));var y=[];for(a=0;a<v;a++)y.push({minX:g[a].coord[0],minY:g[a].coord[1],maxX:g[a].coord[0],maxY:g[a].coord[1],index:a});var _=No();for(_.load(y),a=0;a<A.length;a++)for(m=0;m<A[a].length;m++)for(var b=0;b<A[a][m].length;b++){E=b==A[a][m].length-1?A[a][(m+1).modulo(t.geometry.coordinates[a].length-1)][0].coord:A[a][m][b+1].coord;var w=_.search({minX:E[0],minY:E[1],maxX:E[0],maxY:E[1]})[0];A[a][m][b].nxtIsectAlongEdgeIn=w.index}for(a=0;a<A.length;a++)for(m=0;m<A[a].length;m++)for(b=0;b<A[a][m].length;b++){var E=A[a][m][b].coord,x=(w=_.search({minX:E[0],minY:E[1],maxX:E[0],maxY:E[1]})[0]).index;x<c?g[x].nxtIsectAlongRingAndEdge2=A[a][m][b].nxtIsectAlongEdgeIn:En(g[x].ringAndEdge1,A[a][m][b].ringAndEdgeIn)?g[x].nxtIsectAlongRingAndEdge1=A[a][m][b].nxtIsectAlongEdgeIn:g[x].nxtIsectAlongRingAndEdge2=A[a][m][b].nxtIsectAlongEdgeIn}var C=[];for(a=0,m=0;m<r;m++){var B=a;for(b=0;b<t.geometry.coordinates[m].length-1;b++)g[a].coord[0]<g[B].coord[0]&&(B=a),a++;var I=g[B].nxtIsectAlongRingAndEdge2;for(b=0;b<g.length;b++)if(g[b].nxtIsectAlongRingAndEdge1==B||g[b].nxtIsectAlongRingAndEdge2==B){var S=b;break}var O=wn([g[S].coord,g[B].coord,g[I].coord],!0)?1:-1;C.push({isect:B,parent:-1,winding:O})}for(C.sort((function(t,e){return g[t.isect].coord>g[e.isect].coord?-1:1})),p=[];C.length>0;){var M=C.pop(),T=M.isect,N=M.parent,k=M.winding,L=p.length,F=[g[T].coord],R=T;if(g[T].ringAndEdge1Walkable)var D=g[T].ringAndEdge1,P=g[T].nxtIsectAlongRingAndEdge1;else D=g[T].ringAndEdge2,P=g[T].nxtIsectAlongRingAndEdge2;for(;!En(g[T].coord,g[P].coord);){F.push(g[P].coord);var U=void 0;for(a=0;a<C.length;a++)if(C[a].isect==P){U=a;break}if(null!=U&&C.splice(U,1),En(D,g[P].ringAndEdge1)){if(D=g[P].ringAndEdge2,g[P].ringAndEdge2Walkable=!1,g[P].ringAndEdge1Walkable){var Q={isect:P};wn([g[R].coord,g[P].coord,g[g[P].nxtIsectAlongRingAndEdge2].coord],1==k)?(Q.parent=N,Q.winding=-k):(Q.parent=L,Q.winding=k),C.push(Q)}R=P,P=g[P].nxtIsectAlongRingAndEdge2}else D=g[P].ringAndEdge1,g[P].ringAndEdge1Walkable=!1,g[P].ringAndEdge2Walkable&&(Q={isect:P},wn([g[R].coord,g[P].coord,g[g[P].nxtIsectAlongRingAndEdge1].coord],1==k)?(Q.parent=N,Q.winding=-k):(Q.parent=L,Q.winding=k),C.push(Q)),R=P,P=g[P].nxtIsectAlongRingAndEdge1}F.push(g[P].coord),p.push(o([F],{index:L,parent:N,winding:k,netWinding:void 0}))}return d=u(p),e(),n(),d},ps=function(t,e,n,i,r){this.coord=t,this.param=e,this.ringAndEdgeIn=n,this.ringAndEdgeOut=i,this.nxtIsectAlongEdgeIn=r},ds=function(t,e,n,i,r,o,s){this.coord=t,this.ringAndEdge1=e,this.ringAndEdge2=n,this.nxtIsectAlongRingAndEdge1=i,this.nxtIsectAlongRingAndEdge2=r,this.ringAndEdge1Walkable=o,this.ringAndEdge2Walkable=s};Number.prototype.modulo=function(t){return(this%t+t)%t};var As=Math.PI/180,gs=180/Math.PI,ms=function(t,e){this.lon=t,this.lat=e,this.x=As*t,this.y=As*e};ms.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},ms.prototype.antipode=function(){var t=-1*this.lat,e=this.lon<0?180+this.lon:-1*(180-this.lon);return new ms(e,t)};var vs=function(){this.coords=[],this.length=0};vs.prototype.move_to=function(t){this.length++,this.coords.push(t)};var ys=function(t){this.properties=t||{},this.geometries=[]};ys.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(1===this.geometries.length)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var t=[],e=0;e<this.geometries.length;e++)t.push(this.geometries[e].coords);return{geometry:{type:"MultiLineString",coordinates:t},type:"Feature",properties:this.properties}},ys.prototype.wkt=function(){for(var t="",e="LINESTRING(",n=function(t){e+=t[0]+" "+t[1]+","},i=0;i<this.geometries.length;i++){if(0===this.geometries[i].coords.length)return"LINESTRING(empty)";this.geometries[i].coords.forEach(n),t+=e.substring(0,e.length-1)+")"}return t};var _s=function(t,e,n){if(!t||void 0===t.x||void 0===t.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!e||void 0===e.x||void 0===e.y)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new ms(t.x,t.y),this.end=new ms(e.x,e.y),this.properties=n||{};var i=this.start.x-this.end.x,r=this.start.y-this.end.y,o=Math.pow(Math.sin(r/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(i/2),2);if(this.g=2*Math.asin(Math.sqrt(o)),this.g===Math.PI)throw new Error("it appears "+t.view()+" and "+e.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+t+" and "+e)};_s.prototype.interpolate=function(t){var e=Math.sin((1-t)*this.g)/Math.sin(this.g),n=Math.sin(t*this.g)/Math.sin(this.g),i=e*Math.cos(this.start.y)*Math.cos(this.start.x)+n*Math.cos(this.end.y)*Math.cos(this.end.x),r=e*Math.cos(this.start.y)*Math.sin(this.start.x)+n*Math.cos(this.end.y)*Math.sin(this.end.x),o=e*Math.sin(this.start.y)+n*Math.sin(this.end.y),s=gs*Math.atan2(o,Math.sqrt(Math.pow(i,2)+Math.pow(r,2)));return[gs*Math.atan2(r,i),s]},_s.prototype.Arc=function(t,e){var n=[];if(!t||t<=2)n.push([this.start.lon,this.start.lat]),n.push([this.end.lon,this.end.lat]);else for(var i=1/(t-1),r=0;r<t;++r){var o=i*r,s=this.interpolate(o);n.push(s)}for(var a=!1,l=0,u=e&&e.offset?e.offset:10,c=180-u,h=-180+u,f=360-u,p=1;p<n.length;++p){var d=n[p-1][0],A=n[p][0],g=Math.abs(A-d);g>f&&(A>c&&d<h||d>c&&A<h)?a=!0:g>l&&(l=g)}var m=[];if(a&&l<u){var v=[];m.push(v);for(var y=0;y<n.length;++y){var _=parseFloat(n[y][0]);if(y>0&&Math.abs(_-n[y-1][0])>f){var b=parseFloat(n[y-1][0]),w=parseFloat(n[y-1][1]),E=parseFloat(n[y][0]),x=parseFloat(n[y][1]);if(b>-180&&b<h&&180===E&&y+1<n.length&&n[y-1][0]>-180&&n[y-1][0]<h){v.push([-180,n[y][1]]),y++,v.push([n[y][0],n[y][1]]);continue}if(b>c&&b<180&&-180===E&&y+1<n.length&&n[y-1][0]>c&&n[y-1][0]<180){v.push([180,n[y][1]]),y++,v.push([n[y][0],n[y][1]]);continue}if(b<h&&E>c){var C=b;b=E,E=C;var B=w;w=x,x=B}if(b>c&&E<h&&(E+=360),b<=180&&E>=180&&b<E){var I=(180-b)/(E-b),S=I*x+(1-I)*w;v.push([n[y-1][0]>c?180:-180,S]),(v=[]).push([n[y-1][0]>c?-180:180,S]),m.push(v)}else v=[],m.push(v);v.push([_,n[y][1]])}else v.push([n[y][0],n[y][1]])}}else{var O=[];m.push(O);for(var M=0;M<n.length;++M)O.push([n[M][0],n[M][1]])}for(var T=new ys(this.properties),N=0;N<m.length;++N){var k=new vs;T.geometries.push(k);for(var L=m[N],F=0;F<L.length;++F)k.move_to(L[F])}return T};var bs=Fn;Fn.polyline=Fn,Fn.polygon=function(t,e){var n,i,r,o,s,a,l;for(i=1;i<=8;i*=2){for(n=[],o=!(Dn(r=t[t.length-1],e)&i),s=0;s<t.length;s++)(l=!(Dn(a=t[s],e)&i))!==o&&n.push(Rn(r,a,i,e)),l&&n.push(a),r=a,o=l;if(!(t=n).length)break}return n};var ws=Array.prototype.slice,Es={successCallback:null,verbose:!1,polygons:!1},xs={},Cs=64,Bs=16,Is=4,Ss=1,Os=[],Ms=[],Ts=[],Ns=[],ks=[],Ls=[],Fs=[],Rs=[],Ds=[],Ps=[],Us=[],Qs=[],Hs=[],js=[],zs=[],Ks=[],Gs=[],qs=[],Ws=[],Ys=[],Xs=[],Vs=[],Js=[],Zs=[];Fs[85]=Ps[85]=-1,Rs[85]=Us[85]=0,Ds[85]=Qs[85]=1,Ws[85]=Vs[85]=1,Ys[85]=Js[85]=0,Xs[85]=Zs[85]=1,Os[85]=Ns[85]=0,Ms[85]=ks[85]=-1,Ts[85]=zs[85]=0,Ks[85]=Hs[85]=0,Gs[85]=js[85]=1,Ls[85]=qs[85]=1,Vs[1]=Vs[169]=0,Js[1]=Js[169]=-1,Zs[1]=Zs[169]=0,Hs[1]=Hs[169]=-1,js[1]=js[169]=0,zs[1]=zs[169]=0,Ps[4]=Ps[166]=0,Us[4]=Us[166]=-1,Qs[4]=Qs[166]=1,Ks[4]=Ks[166]=1,Gs[4]=Gs[166]=0,qs[4]=qs[166]=0,Fs[16]=Fs[154]=0,Rs[16]=Rs[154]=1,Ds[16]=Ds[154]=1,Ns[16]=Ns[154]=1,ks[16]=ks[154]=0,Ls[16]=Ls[154]=1,Ws[64]=Ws[106]=0,Ys[64]=Ys[106]=1,Xs[64]=Xs[106]=0,Os[64]=Os[106]=-1,Ms[64]=Ms[106]=0,Ts[64]=Ts[106]=1,Ws[2]=Ws[168]=0,Ys[2]=Ys[168]=-1,Xs[2]=Xs[168]=1,Vs[2]=Vs[168]=0,Js[2]=Js[168]=-1,Zs[2]=Zs[168]=0,Hs[2]=Hs[168]=-1,js[2]=js[168]=0,zs[2]=zs[168]=0,Ks[2]=Ks[168]=-1,Gs[2]=Gs[168]=0,qs[2]=qs[168]=1,Fs[8]=Fs[162]=0,Rs[8]=Rs[162]=-1,Ds[8]=Ds[162]=0,Ps[8]=Ps[162]=0,Us[8]=Us[162]=-1,Qs[8]=Qs[162]=1,Hs[8]=Hs[162]=1,js[8]=js[162]=0,zs[8]=zs[162]=1,Ks[8]=Ks[162]=1,Gs[8]=Gs[162]=0,qs[8]=qs[162]=0,Fs[32]=Fs[138]=0,Rs[32]=Rs[138]=1,Ds[32]=Ds[138]=1,Ps[32]=Ps[138]=0,Us[32]=Us[138]=1,Qs[32]=Qs[138]=0,Os[32]=Os[138]=1,Ms[32]=Ms[138]=0,Ts[32]=Ts[138]=0,Ns[32]=Ns[138]=1,ks[32]=ks[138]=0,Ls[32]=Ls[138]=1,Vs[128]=Vs[42]=0,Js[128]=Js[42]=1,Zs[128]=Zs[42]=1,Ws[128]=Ws[42]=0,Ys[128]=Ys[42]=1,Xs[128]=Xs[42]=0,Os[128]=Os[42]=-1,Ms[128]=Ms[42]=0,Ts[128]=Ts[42]=1,Ns[128]=Ns[42]=-1,ks[128]=ks[42]=0,Ls[128]=Ls[42]=0,Ps[5]=Ps[165]=-1,Us[5]=Us[165]=0,Qs[5]=Qs[165]=0,Vs[5]=Vs[165]=1,Js[5]=Js[165]=0,Zs[5]=Zs[165]=0,Ks[20]=Ks[150]=0,Gs[20]=Gs[150]=1,qs[20]=qs[150]=1,Ns[20]=Ns[150]=0,ks[20]=ks[150]=-1,Ls[20]=Ls[150]=1,Fs[80]=Fs[90]=-1,Rs[80]=Rs[90]=0,Ds[80]=Ds[90]=1,Ws[80]=Ws[90]=1,Ys[80]=Ys[90]=0,Xs[80]=Xs[90]=1,Hs[65]=Hs[105]=0,js[65]=js[105]=1,zs[65]=zs[105]=0,Os[65]=Os[105]=0,Ms[65]=Ms[105]=-1,Ts[65]=Ts[105]=0,Fs[160]=Fs[10]=-1,Rs[160]=Rs[10]=0,Ds[160]=Ds[10]=1,Ps[160]=Ps[10]=-1,Us[160]=Us[10]=0,Qs[160]=Qs[10]=0,Vs[160]=Vs[10]=1,Js[160]=Js[10]=0,Zs[160]=Zs[10]=0,Ws[160]=Ws[10]=1,Ys[160]=Ys[10]=0,Xs[160]=Xs[10]=1,Ks[130]=Ks[40]=0,Gs[130]=Gs[40]=1,qs[130]=qs[40]=1,Hs[130]=Hs[40]=0,js[130]=js[40]=1,zs[130]=zs[40]=0,Os[130]=Os[40]=0,Ms[130]=Ms[40]=-1,Ts[130]=Ts[40]=0,Ns[130]=Ns[40]=0,ks[130]=ks[40]=-1,Ls[130]=Ls[40]=1,Ps[37]=Ps[133]=0,Us[37]=Us[133]=1,Qs[37]=Qs[133]=1,Vs[37]=Vs[133]=0,Js[37]=Js[133]=1,Zs[37]=Zs[133]=0,Os[37]=Os[133]=-1,Ms[37]=Ms[133]=0,Ts[37]=Ts[133]=0,Ns[37]=Ns[133]=1,ks[37]=ks[133]=0,Ls[37]=Ls[133]=0,Ks[148]=Ks[22]=-1,Gs[148]=Gs[22]=0,qs[148]=qs[22]=0,Vs[148]=Vs[22]=0,Js[148]=Js[22]=-1,Zs[148]=Zs[22]=1,Ws[148]=Ws[22]=0,Ys[148]=Ys[22]=1,Xs[148]=Xs[22]=1,Ns[148]=Ns[22]=-1,ks[148]=ks[22]=0,Ls[148]=Ls[22]=1,Fs[82]=Fs[88]=0,Rs[82]=Rs[88]=-1,Ds[82]=Ds[88]=1,Ks[82]=Ks[88]=1,Gs[82]=Gs[88]=0,qs[82]=qs[88]=1,Hs[82]=Hs[88]=-1,js[82]=js[88]=0,zs[82]=zs[88]=1,Ws[82]=Ws[88]=0,Ys[82]=Ys[88]=-1,Xs[82]=Xs[88]=0,Fs[73]=Fs[97]=0,Rs[73]=Rs[97]=1,Ds[73]=Ds[97]=0,Ps[73]=Ps[97]=0,Us[73]=Us[97]=-1,Qs[73]=Qs[97]=0,Hs[73]=Hs[97]=1,js[73]=js[97]=0,zs[73]=zs[97]=0,Os[73]=Os[97]=1,Ms[73]=Ms[97]=0,Ts[73]=Ts[97]=1,Fs[145]=Fs[25]=0,Rs[145]=Rs[25]=-1,Ds[145]=Ds[25]=0,Hs[145]=Hs[25]=1,js[145]=js[25]=0,zs[145]=zs[25]=1,Vs[145]=Vs[25]=0,Js[145]=Js[25]=1,Zs[145]=Zs[25]=1,Ns[145]=Ns[25]=-1,ks[145]=ks[25]=0,Ls[145]=Ls[25]=0,Ps[70]=Ps[100]=0,Us[70]=Us[100]=1,Qs[70]=Qs[100]=0,Ks[70]=Ks[100]=-1,Gs[70]=Gs[100]=0,qs[70]=qs[100]=1,Ws[70]=Ws[100]=0,Ys[70]=Ys[100]=-1,Xs[70]=Xs[100]=1,Os[70]=Os[100]=1,Ms[70]=Ms[100]=0,Ts[70]=Ts[100]=0,Ps[101]=Ps[69]=0,Us[101]=Us[69]=1,Qs[101]=Qs[69]=0,Os[101]=Os[69]=1,Ms[101]=Ms[69]=0,Ts[101]=Ts[69]=0,Vs[149]=Vs[21]=0,Js[149]=Js[21]=1,Zs[149]=Zs[21]=1,Ns[149]=Ns[21]=-1,ks[149]=ks[21]=0,Ls[149]=Ls[21]=0,Ks[86]=Ks[84]=-1,Gs[86]=Gs[84]=0,qs[86]=qs[84]=1,Ws[86]=Ws[84]=0,Ys[86]=Ys[84]=-1,Xs[86]=Xs[84]=1,Fs[89]=Fs[81]=0,Rs[89]=Rs[81]=-1,Ds[89]=Ds[81]=0,Hs[89]=Hs[81]=1,js[89]=js[81]=0,zs[89]=zs[81]=1,Fs[96]=Fs[74]=0,Rs[96]=Rs[74]=1,Ds[96]=Ds[74]=0,Ps[96]=Ps[74]=-1,Us[96]=Us[74]=0,Qs[96]=Qs[74]=1,Ws[96]=Ws[74]=1,Ys[96]=Ys[74]=0,Xs[96]=Xs[74]=0,Os[96]=Os[74]=1,Ms[96]=Ms[74]=0,Ts[96]=Ts[74]=1,Fs[24]=Fs[146]=0,Rs[24]=Rs[146]=-1,Ds[24]=Ds[146]=1,Ks[24]=Ks[146]=1,Gs[24]=Gs[146]=0,qs[24]=qs[146]=1,Hs[24]=Hs[146]=0,js[24]=js[146]=1,zs[24]=zs[146]=1,Ns[24]=Ns[146]=0,ks[24]=ks[146]=-1,Ls[24]=Ls[146]=0,Ps[6]=Ps[164]=-1,Us[6]=Us[164]=0,Qs[6]=Qs[164]=1,Ks[6]=Ks[164]=-1,Gs[6]=Gs[164]=0,qs[6]=qs[164]=0,Vs[6]=Vs[164]=0,Js[6]=Js[164]=-1,Zs[6]=Zs[164]=1,Ws[6]=Ws[164]=1,Ys[6]=Ys[164]=0,Xs[6]=Xs[164]=0,Hs[129]=Hs[41]=0,js[129]=js[41]=1,zs[129]=zs[41]=1,Vs[129]=Vs[41]=0,Js[129]=Js[41]=1,Zs[129]=Zs[41]=0,Os[129]=Os[41]=-1,Ms[129]=Ms[41]=0,Ts[129]=Ts[41]=0,Ns[129]=Ns[41]=0,ks[129]=ks[41]=-1,Ls[129]=Ls[41]=0,Ks[66]=Ks[104]=0,Gs[66]=Gs[104]=1,qs[66]=qs[104]=0,Hs[66]=Hs[104]=-1,js[66]=js[104]=0,zs[66]=zs[104]=1,Ws[66]=Ws[104]=0,Ys[66]=Ys[104]=-1,Xs[66]=Xs[104]=0,Os[66]=Os[104]=0,Ms[66]=Ms[104]=-1,Ts[66]=Ts[104]=1,Fs[144]=Fs[26]=-1,Rs[144]=Rs[26]=0,Ds[144]=Ds[26]=0,Vs[144]=Vs[26]=1,Js[144]=Js[26]=0,Zs[144]=Zs[26]=1,Ws[144]=Ws[26]=0,Ys[144]=Ys[26]=1,Xs[144]=Xs[26]=1,Ns[144]=Ns[26]=-1,ks[144]=ks[26]=0,Ls[144]=Ls[26]=1,Ps[36]=Ps[134]=0,Us[36]=Us[134]=1,Qs[36]=Qs[134]=1,Ks[36]=Ks[134]=0,Gs[36]=Gs[134]=1,qs[36]=qs[134]=0,Os[36]=Os[134]=0,Ms[36]=Ms[134]=-1,Ts[36]=Ts[134]=1,Ns[36]=Ns[134]=1,ks[36]=ks[134]=0,Ls[36]=Ls[134]=0,Fs[9]=Fs[161]=-1,Rs[9]=Rs[161]=0,Ds[9]=Ds[161]=0,Ps[9]=Ps[161]=0,Us[9]=Us[161]=-1,Qs[9]=Qs[161]=0,Hs[9]=Hs[161]=1,js[9]=js[161]=0,zs[9]=zs[161]=0,Vs[9]=Vs[161]=1,Js[9]=Js[161]=0,Zs[9]=Zs[161]=1,Fs[136]=0,Rs[136]=1,Ds[136]=1,Ps[136]=0,Us[136]=1,Qs[136]=0,Ks[136]=-1,Gs[136]=0,qs[136]=1,Hs[136]=-1,js[136]=0,zs[136]=0,Vs[136]=0,Js[136]=-1,Zs[136]=0,Ws[136]=0,Ys[136]=-1,Xs[136]=1,Os[136]=1,Ms[136]=0,Ts[136]=0,Ns[136]=1,ks[136]=0,Ls[136]=1,Fs[34]=0,Rs[34]=-1,Ds[34]=0,Ps[34]=0,Us[34]=-1,Qs[34]=1,Ks[34]=1,Gs[34]=0,qs[34]=0,Hs[34]=1,js[34]=0,zs[34]=1,Vs[34]=0,Js[34]=1,Zs[34]=1,Ws[34]=0,Ys[34]=1,Xs[34]=0,Os[34]=-1,Ms[34]=0,Ts[34]=1,Ns[34]=-1,ks[34]=0,Ls[34]=0,Fs[35]=0,Rs[35]=1,Ds[35]=1,Ps[35]=0,Us[35]=-1,Qs[35]=1,Ks[35]=1,Gs[35]=0,qs[35]=0,Hs[35]=-1,js[35]=0,zs[35]=0,Vs[35]=0,Js[35]=-1,Zs[35]=0,Ws[35]=0,Ys[35]=1,Xs[35]=0,Os[35]=-1,Ms[35]=0,Ts[35]=1,Ns[35]=1,ks[35]=0,Ls[35]=1,Fs[153]=0,Rs[153]=1,Ds[153]=1,Hs[153]=-1,js[153]=0,zs[153]=0,Vs[153]=0,Js[153]=-1,Zs[153]=0,Ns[153]=1,ks[153]=0,Ls[153]=1,Ps[102]=0,Us[102]=-1,Qs[102]=1,Ks[102]=1,Gs[102]=0,qs[102]=0,Ws[102]=0,Ys[102]=1,Xs[102]=0,Os[102]=-1,Ms[102]=0,Ts[102]=1,Fs[155]=0,Rs[155]=-1,Ds[155]=0,Hs[155]=1,js[155]=0,zs[155]=1,Vs[155]=0,Js[155]=1,Zs[155]=1,Ns[155]=-1,ks[155]=0,Ls[155]=0,Ps[103]=0,Us[103]=1,Qs[103]=0,Ks[103]=-1,Gs[103]=0,qs[103]=1,Ws[103]=0,Ys[103]=-1,Xs[103]=1,Os[103]=1,Ms[103]=0,Ts[103]=0,Fs[152]=0,Rs[152]=1,Ds[152]=1,Ks[152]=-1,Gs[152]=0,qs[152]=1,Hs[152]=-1,js[152]=0,zs[152]=0,Vs[152]=0,Js[152]=-1,Zs[152]=0,Ws[152]=0,Ys[152]=-1,Xs[152]=1,Ns[152]=1,ks[152]=0,Ls[152]=1,Fs[156]=0,Rs[156]=-1,Ds[156]=1,Ks[156]=1,Gs[156]=0,qs[156]=1,Hs[156]=-1,js[156]=0,zs[156]=0,Vs[156]=0,Js[156]=-1,Zs[156]=0,Ws[156]=0,Ys[156]=1,Xs[156]=1,Ns[156]=-1,ks[156]=0,Ls[156]=1,Fs[137]=0,Rs[137]=1,Ds[137]=1,Ps[137]=0,Us[137]=1,Qs[137]=0,Hs[137]=-1,js[137]=0,zs[137]=0,Vs[137]=0,Js[137]=-1,Zs[137]=0,Os[137]=1,Ms[137]=0,Ts[137]=0,Ns[137]=1,ks[137]=0,Ls[137]=1,Fs[139]=0,Rs[139]=1,Ds[139]=1,Ps[139]=0,Us[139]=-1,Qs[139]=0,Hs[139]=1,js[139]=0,zs[139]=0,Vs[139]=0,Js[139]=1,Zs[139]=0,Os[139]=-1,Ms[139]=0,Ts[139]=0,Ns[139]=1,ks[139]=0,Ls[139]=1,Fs[98]=0,Rs[98]=-1,Ds[98]=0,Ps[98]=0,Us[98]=-1,Qs[98]=1,Ks[98]=1,Gs[98]=0,qs[98]=0,Hs[98]=1,js[98]=0,zs[98]=1,Ws[98]=0,Ys[98]=1,Xs[98]=0,Os[98]=-1,Ms[98]=0,Ts[98]=1,Fs[99]=0,Rs[99]=1,Ds[99]=0,Ps[99]=0,Us[99]=-1,Qs[99]=1,Ks[99]=1,Gs[99]=0,qs[99]=0,Hs[99]=-1,js[99]=0,zs[99]=1,Ws[99]=0,Ys[99]=-1,Xs[99]=0,Os[99]=1,Ms[99]=0,Ts[99]=1,Ps[38]=0,Us[38]=-1,Qs[38]=1,Ks[38]=1,Gs[38]=0,qs[38]=0,Vs[38]=0,Js[38]=1,Zs[38]=1,Ws[38]=0,Ys[38]=1,Xs[38]=0,Os[38]=-1,Ms[38]=0,Ts[38]=1,Ns[38]=-1,ks[38]=0,Ls[38]=0,Ps[39]=0,Us[39]=1,Qs[39]=1,Ks[39]=-1,Gs[39]=0,qs[39]=0,Vs[39]=0,Js[39]=-1,Zs[39]=1,Ws[39]=0,Ys[39]=1,Xs[39]=0,Os[39]=-1,Ms[39]=0,Ts[39]=1,Ns[39]=1,ks[39]=0,Ls[39]=0;var $s=function(t){return[[t.bottomleft,0],[0,0],[0,t.leftbottom]]},ta=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0]]},ea=function(t){return[[t.topright,1],[1,1],[1,t.righttop]]},na=function(t){return[[0,t.lefttop],[0,1],[t.topleft,1]]},ia=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop]]},ra=function(t){return[[t.bottomright,0],[t.bottomleft,0],[1,t.righttop],[1,t.rightbottom]]},oa=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.topleft,1],[t.topright,1]]},sa=function(t){return[[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},aa=[],la=[],ua=[],ca=[],ha=[],fa=[],pa=[],da=[];ca[1]=ha[1]=18,ca[169]=ha[169]=18,ua[4]=la[4]=12,ua[166]=la[166]=12,aa[16]=da[16]=4,aa[154]=da[154]=4,fa[64]=pa[64]=22,fa[106]=pa[106]=22,ua[2]=fa[2]=17,ca[2]=ha[2]=18,ua[168]=fa[168]=17,ca[168]=ha[168]=18,aa[8]=ca[8]=9,la[8]=ua[8]=12,aa[162]=ca[162]=9,la[162]=ua[162]=12,aa[32]=da[32]=4,la[32]=pa[32]=1,aa[138]=da[138]=4,la[138]=pa[138]=1,ha[128]=da[128]=21,fa[128]=pa[128]=22,ha[42]=da[42]=21,fa[42]=pa[42]=22,la[5]=ha[5]=14,la[165]=ha[165]=14,ua[20]=da[20]=6,ua[150]=da[150]=6,aa[80]=fa[80]=11,aa[90]=fa[90]=11,ca[65]=pa[65]=3,ca[105]=pa[105]=3,aa[160]=fa[160]=11,la[160]=ha[160]=14,aa[10]=fa[10]=11,la[10]=ha[10]=14,ua[130]=da[130]=6,ca[130]=pa[130]=3,ua[40]=da[40]=6,ca[40]=pa[40]=3,la[101]=pa[101]=1,la[69]=pa[69]=1,ha[149]=da[149]=21,ha[21]=da[21]=21,ua[86]=fa[86]=17,ua[84]=fa[84]=17,aa[89]=ca[89]=9,aa[81]=ca[81]=9,aa[96]=pa[96]=0,la[96]=fa[96]=15,aa[74]=pa[74]=0,la[74]=fa[74]=15,aa[24]=ua[24]=8,ca[24]=da[24]=7,aa[146]=ua[146]=8,ca[146]=da[146]=7,la[6]=fa[6]=15,ua[6]=ha[6]=16,la[164]=fa[164]=15,ua[164]=ha[164]=16,ca[129]=da[129]=7,ha[129]=pa[129]=20,ca[41]=da[41]=7,ha[41]=pa[41]=20,ua[66]=pa[66]=2,ca[66]=fa[66]=19,ua[104]=pa[104]=2,ca[104]=fa[104]=19,aa[144]=ha[144]=10,fa[144]=da[144]=23,aa[26]=ha[26]=10,fa[26]=da[26]=23,la[36]=da[36]=5,ua[36]=pa[36]=2,la[134]=da[134]=5,ua[134]=pa[134]=2,aa[9]=ha[9]=10,la[9]=ca[9]=13,aa[161]=ha[161]=10,la[161]=ca[161]=13,la[37]=da[37]=5,ha[37]=pa[37]=20,la[133]=da[133]=5,ha[133]=pa[133]=20,ua[148]=ha[148]=16,fa[148]=da[148]=23,ua[22]=ha[22]=16,fa[22]=da[22]=23,aa[82]=ua[82]=8,ca[82]=fa[82]=19,aa[88]=ua[88]=8,ca[88]=fa[88]=19,aa[73]=pa[73]=0,la[73]=ca[73]=13,aa[97]=pa[97]=0,la[97]=ca[97]=13,aa[145]=ca[145]=9,ha[145]=da[145]=21,aa[25]=ca[25]=9,ha[25]=da[25]=21,la[70]=pa[70]=1,ua[70]=fa[70]=17,la[100]=pa[100]=1,ua[100]=fa[100]=17,aa[34]=ca[34]=9,la[34]=ua[34]=12,ha[34]=da[34]=21,fa[34]=pa[34]=22,aa[136]=da[136]=4,la[136]=pa[136]=1,ua[136]=fa[136]=17,ca[136]=ha[136]=18,aa[35]=da[35]=4,la[35]=ua[35]=12,ca[35]=ha[35]=18,fa[35]=pa[35]=22,aa[153]=da[153]=4,ca[153]=ha[153]=18,la[102]=ua[102]=12,fa[102]=pa[102]=22,aa[155]=ca[155]=9,ha[155]=da[155]=23,la[103]=pa[103]=1,ua[103]=fa[103]=17,aa[152]=da[152]=4,ua[152]=fa[152]=17,ca[152]=ha[152]=18,aa[156]=ua[156]=8,ca[156]=ha[156]=18,fa[156]=da[156]=23,aa[137]=da[137]=4,la[137]=pa[137]=1,ca[137]=ha[137]=18,aa[139]=da[139]=4,la[139]=ca[139]=13,ha[139]=pa[139]=20,aa[98]=ca[98]=9,la[98]=ua[98]=12,fa[98]=pa[98]=22,aa[99]=pa[99]=0,la[99]=ua[99]=12,ca[99]=fa[99]=19,la[38]=ua[38]=12,ha[38]=da[38]=21,fa[38]=pa[38]=22,la[39]=da[39]=5,ua[39]=ha[39]=16,fa[39]=pa[39]=22;var Aa=[];Aa[1]=Aa[169]=$s,Aa[4]=Aa[166]=ta,Aa[16]=Aa[154]=ea,Aa[64]=Aa[106]=na,Aa[168]=Aa[2]=ia,Aa[162]=Aa[8]=ra,Aa[138]=Aa[32]=oa,Aa[42]=Aa[128]=sa,Aa[5]=Aa[165]=function(t){return[[0,0],[0,t.leftbottom],[1,t.rightbottom],[1,0]]},Aa[20]=Aa[150]=function(t){return[[1,0],[t.bottomright,0],[t.topright,1],[1,1]]},Aa[80]=Aa[90]=function(t){return[[1,1],[1,t.righttop],[0,t.lefttop],[0,1]]},Aa[65]=Aa[105]=function(t){return[[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Aa[160]=Aa[10]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.leftbottom],[0,t.lefttop]]},Aa[130]=Aa[40]=function(t){return[[t.topleft,1],[t.topright,1],[t.bottomright,0],[t.bottomleft,0]]},Aa[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Aa[101]=Aa[69]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,1],[t.topleft,1]]},Aa[149]=Aa[21]=function(t){return[[t.topright,1],[1,1],[1,0],[0,0],[0,t.leftbottom]]},Aa[86]=Aa[84]=function(t){return[[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[1,1]]},Aa[89]=Aa[81]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,1]]},Aa[96]=Aa[74]=function(t){return[[1,t.righttop],[1,t.rightbottom],[0,t.lefttop],[0,1],[t.topleft,1]]},Aa[24]=Aa[146]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[t.topright,1]]},Aa[6]=Aa[164]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop]]},Aa[129]=Aa[41]=function(t){return[[t.topright,1],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1]]},Aa[66]=Aa[104]=function(t){return[[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Aa[144]=Aa[26]=function(t){return[[1,1],[1,t.righttop],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Aa[36]=Aa[134]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[t.topleft,1],[t.topright,1]]},Aa[9]=Aa[161]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom]]},Aa[37]=Aa[133]=function(t){return[[1,t.rightbottom],[1,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Aa[148]=Aa[22]=function(t){return[[1,1],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Aa[82]=Aa[88]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1]]},Aa[73]=Aa[97]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,1],[t.topleft,1]]},Aa[145]=Aa[25]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Aa[70]=Aa[100]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Aa[34]=function(t){return[sa(t),ra(t)]},Aa[35]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]},Aa[136]=function(t){return[oa(t),ia(t)]},Aa[153]=function(t){return[ea(t),$s(t)]},Aa[102]=function(t){return[ta(t),na(t)]},Aa[155]=function(t){return[[1,1],[1,t.righttop],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topright,1]]},Aa[103]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Aa[152]=function(t){return[ea(t),ia(t)]},Aa[156]=function(t){return[[1,1],[1,t.righttop],[t.bottomright,0],[t.bottomleft,0],[0,t.leftbottom],[0,t.lefttop],[t.topright,1]]},Aa[137]=function(t){return[oa(t),$s(t)]},Aa[139]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomleft,0],[0,0],[0,t.leftbottom],[t.topleft,1],[t.topright,1]]},Aa[98]=function(t){return[ra(t),na(t)]},Aa[99]=function(t){return[[1,t.righttop],[1,t.rightbottom],[t.bottomright,0],[t.bottomleft,0],[0,t.lefttop],[0,1],[t.topleft,1]]},Aa[38]=function(t){return[ta(t),sa(t)]},Aa[39]=function(t){return[[1,t.rightbottom],[1,0],[t.bottomright,0],[0,t.leftbottom],[0,t.lefttop],[t.topleft,1],[t.topright,1]]};var ga=function t(e){this.id=t.buildId(e),this.coordinates=e,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1};ga.buildId=function(t){return t.join(",")},ga.prototype.removeInnerEdge=function(t){this.innerEdges=this.innerEdges.filter((function(e){return e.from.id!==t.from.id}))},ga.prototype.removeOuterEdge=function(t){this.outerEdges=this.outerEdges.filter((function(e){return e.to.id!==t.to.id}))},ga.prototype.addOuterEdge=function(t){this.outerEdges.push(t),this.outerEdgesSorted=!1},ga.prototype.sortOuterEdges=function(){var t=this;this.outerEdgesSorted||(this.outerEdges.sort((function(e,n){var i=e.to,r=n.to;if(i.coordinates[0]-t.coordinates[0]>=0&&r.coordinates[0]-t.coordinates[0]<0)return 1;if(i.coordinates[0]-t.coordinates[0]<0&&r.coordinates[0]-t.coordinates[0]>=0)return-1;if(i.coordinates[0]-t.coordinates[0]==0&&r.coordinates[0]-t.coordinates[0]==0)return i.coordinates[1]-t.coordinates[1]>=0||r.coordinates[1]-t.coordinates[1]>=0?i.coordinates[1]-r.coordinates[1]:r.coordinates[1]-i.coordinates[1];var o=li(t.coordinates,i.coordinates,r.coordinates);return o<0?1:o>0?-1:Math.pow(i.coordinates[0]-t.coordinates[0],2)+Math.pow(i.coordinates[1]-t.coordinates[1],2)-(Math.pow(r.coordinates[0]-t.coordinates[0],2)+Math.pow(r.coordinates[1]-t.coordinates[1],2))})),this.outerEdgesSorted=!0)},ga.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},ga.prototype.getOuterEdge=function(t){return this.sortOuterEdges(),this.outerEdges[t]},ga.prototype.addInnerEdge=function(t){this.innerEdges.push(t)};var ma=function(t,e){this.from=t,this.to=e,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)};ma.prototype.getSymetric=function(){return this.symetric||(this.symetric=new ma(this.to,this.from),this.symetric.symetric=this),this.symetric},ma.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},ma.prototype.isEqual=function(t){return this.from.id===t.from.id&&this.to.id===t.to.id},ma.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},ma.prototype.toLineString=function(){return a([this.from.coordinates,this.to.coordinates])},ma.prototype.compareTo=function(t){return li(t.from.coordinates,t.to.coordinates,this.to.coordinates)};var va=function(){this.edges=[],this.polygon=void 0,this.envelope=void 0},ya={length:{configurable:!0}};va.prototype.push=function(t){this[this.edges.length]=t,this.edges.push(t),this.polygon=this.envelope=void 0},va.prototype.get=function(t){return this.edges[t]},ya.length.get=function(){return this.edges.length},va.prototype.forEach=function(t){this.edges.forEach(t)},va.prototype.map=function(t){return this.edges.map(t)},va.prototype.some=function(t){return this.edges.some(t)},va.prototype.isValid=function(){return!0},va.prototype.isHole=function(){var t=this,e=this.edges.reduce((function(e,n,i){return n.from.coordinates[1]>t.edges[e].from.coordinates[1]&&(e=i),e}),0),n=(0===e?this.length:e)-1,i=(e+1)%this.length,r=li(this.edges[n].from.coordinates,this.edges[e].from.coordinates,this.edges[i].from.coordinates);return 0===r?this.edges[n].from.coordinates[0]>this.edges[i].from.coordinates[0]:r>0},va.prototype.toMultiPoint=function(){return h(this.edges.map((function(t){return t.from.coordinates})))},va.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var t=this.edges.map((function(t){return t.from.coordinates}));return t.push(this.edges[0].from.coordinates),this.polygon=o([t])},va.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=re(this.toPolygon())},va.findEdgeRingContaining=function(t,e){var n,r,o=t.getEnvelope();return e.forEach((function(e){var s=e.getEnvelope();if(r&&(n=r.getEnvelope()),!function(t,e){var n=t.geometry.coordinates.map((function(t){return t[0]})),i=t.geometry.coordinates.map((function(t){return t[1]})),r=e.geometry.coordinates.map((function(t){return t[0]})),o=e.geometry.coordinates.map((function(t){return t[1]}));return Math.max(null,n)===Math.max(null,r)&&Math.max(null,i)===Math.max(null,o)&&Math.min(null,n)===Math.min(null,r)&&Math.min(null,i)===Math.min(null,o)}(s,o)&&ui(s,o)){var a=t.map((function(t){return t.from.coordinates})).find((function(t){return!e.some((function(e){return function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t,e.from.coordinates)}))}));a&&e.inside(i(a))&&(r&&!ui(n,s)||(r=e))}})),r},va.prototype.inside=function(t){return St(t,this.toPolygon())},Object.defineProperties(va.prototype,ya);var _a=function(){this.edges=[],this.nodes={}};_a.fromGeoJson=function(t){!function(t){if(!t)throw new Error("No geojson passed");if("FeatureCollection"!==t.type&&"GeometryCollection"!==t.type&&"MultiLineString"!==t.type&&"LineString"!==t.type&&"Feature"!==t.type)throw new Error("Invalid input type '"+t.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")}(t);var e=new _a;return R(t,(function(t){W(t,"LineString","Graph::fromGeoJson"),S(t,(function(t,n){if(t){var i=e.getNode(t),r=e.getNode(n);e.addEdge(i,r)}return n}))})),e},_a.prototype.getNode=function(t){var e=ga.buildId(t),n=this.nodes[e];return n||(n=this.nodes[e]=new ga(t)),n},_a.prototype.addEdge=function(t,e){var n=new ma(t,e),i=n.getSymetric();this.edges.push(n),this.edges.push(i)},_a.prototype.deleteDangles=function(){var t=this;Object.keys(this.nodes).map((function(e){return t.nodes[e]})).forEach((function(e){return t._removeIfDangle(e)}))},_a.prototype._removeIfDangle=function(t){var e=this;if(t.innerEdges.length<=1){var n=t.getOuterEdges().map((function(t){return t.to}));this.removeNode(t),n.forEach((function(t){return e._removeIfDangle(t)}))}},_a.prototype.deleteCutEdges=function(){var t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach((function(e){e.label===e.symetric.label&&(t.removeEdge(e.symetric),t.removeEdge(e))}))},_a.prototype._computeNextCWEdges=function(t){var e=this;void 0===t?Object.keys(this.nodes).forEach((function(t){return e._computeNextCWEdges(e.nodes[t])})):t.getOuterEdges().forEach((function(e,n){t.getOuterEdge((0===n?t.getOuterEdges().length:n)-1).symetric.next=e}))},_a.prototype._computeNextCCWEdges=function(t,e){for(var n,i,r=t.getOuterEdges(),o=r.length-1;o>=0;--o){var s=r[o],a=s.symetric,l=void 0,u=void 0;s.label===e&&(l=s),a.label===e&&(u=a),l&&u&&(u&&(i=u),l&&(i&&(i.next=l,i=void 0),n||(n=l)))}i&&(i.next=n)},_a.prototype._findLabeledEdgeRings=function(){var t=[],e=0;return this.edges.forEach((function(n){if(!(n.label>=0)){t.push(n);var i=n;do{i.label=e,i=i.next}while(!n.isEqual(i));e++}})),t},_a.prototype.getEdgeRings=function(){var t=this;this._computeNextCWEdges(),this.edges.forEach((function(t){t.label=void 0})),this._findLabeledEdgeRings().forEach((function(e){t._findIntersectionNodes(e).forEach((function(n){t._computeNextCCWEdges(n,e.label)}))}));var e=[];return this.edges.forEach((function(n){n.ring||e.push(t._findEdgeRing(n))})),e},_a.prototype._findIntersectionNodes=function(t){var e=[],n=t,i=function(){var i=0;n.from.getOuterEdges().forEach((function(e){e.label===t.label&&++i})),i>1&&e.push(n.from),n=n.next};do{i()}while(!t.isEqual(n));return e},_a.prototype._findEdgeRing=function(t){var e=t,n=new va;do{n.push(e),e.ring=n,e=e.next}while(!t.isEqual(e));return n},_a.prototype.removeNode=function(t){var e=this;t.getOuterEdges().forEach((function(t){return e.removeEdge(t)})),t.innerEdges.forEach((function(t){return e.removeEdge(t)})),delete this.nodes[t.id]},_a.prototype.removeEdge=function(t){this.edges=this.edges.filter((function(e){return!e.isEqual(t)})),t.deleteEdge()};var ba=gt((function(t,e){function n(t){var e=[];for(var n in t)e.push(n);return e}(t.exports="function"==typeof Object.keys?Object.keys:n).shim=n})),wa=(ba.shim,gt((function(t,e){function n(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();(e=t.exports=r?n:i).supported=n,e.unsupported=i}))),Ea=(wa.supported,wa.unsupported,gt((function(t){function e(t){return null==t}function n(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}var i=Array.prototype.slice,r=t.exports=function(t,o,s){return s||(s={}),t===o||(t instanceof Date&&o instanceof Date?t.getTime()===o.getTime():!t||!o||"object"!=typeof t&&"object"!=typeof o?s.strict?t===o:t==o:function(t,o,s){var a,l;if(e(t)||e(o))return!1;if(t.prototype!==o.prototype)return!1;if(wa(t))return!!wa(o)&&(t=i.call(t),o=i.call(o),r(t,o,s));if(n(t)){if(!n(o))return!1;if(t.length!==o.length)return!1;for(a=0;a<t.length;a++)if(t[a]!==o[a])return!1;return!0}try{var u=ba(t),c=ba(o)}catch(t){return!1}if(u.length!=c.length)return!1;for(u.sort(),c.sort(),a=u.length-1;a>=0;a--)if(u[a]!=c[a])return!1;for(a=u.length-1;a>=0;a--)if(l=u[a],!r(t[l],o[l],s))return!1;return typeof t==typeof o}(t,o,s))}}))),xa=function(t){this.precision=t&&t.precision?t.precision:17,this.direction=!(!t||!t.direction)&&t.direction,this.pseudoNode=!(!t||!t.pseudoNode)&&t.pseudoNode,this.objectComparator=t&&t.objectComparator?t.objectComparator:_i};xa.prototype.compare=function(t,e){if(t.type!==e.type||!yi(t,e))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,e.coordinates);case"LineString":return this.compareLine(t.coordinates,e.coordinates,0,!1);case"Polygon":return this.comparePolygon(t,e);case"Feature":return this.compareFeature(t,e);default:if(0===t.type.indexOf("Multi")){var n=this,i=vi(t),r=vi(e);return i.every((function(t){return this.some((function(e){return n.compare(t,e)}))}),r)}}return!1},xa.prototype.compareCoord=function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(t[n].toFixed(this.precision)!==e[n].toFixed(this.precision))return!1;return!0},xa.prototype.compareLine=function(t,e,n,i){if(!yi(t,e))return!1;var r=this.pseudoNode?t:this.removePseudo(t),o=this.pseudoNode?e:this.removePseudo(e);if(!i||this.compareCoord(r[0],o[0])||(o=this.fixStartIndex(o,r))){var s=this.compareCoord(r[n],o[n]);return this.direction||s?this.comparePath(r,o):!!this.compareCoord(r[n],o[o.length-(1+n)])&&this.comparePath(r.slice().reverse(),o)}},xa.prototype.fixStartIndex=function(t,e){for(var n,i=-1,r=0;r<t.length;r++)if(this.compareCoord(t[r],e[0])){i=r;break}return i>=0&&(n=[].concat(t.slice(i,t.length),t.slice(1,i+1))),n},xa.prototype.comparePath=function(t,e){var n=this;return t.every((function(t,e){return n.compareCoord(t,this[e])}),e)},xa.prototype.comparePolygon=function(t,e){if(this.compareLine(t.coordinates[0],e.coordinates[0],1,!0)){var n=t.coordinates.slice(1,t.coordinates.length),i=e.coordinates.slice(1,e.coordinates.length),r=this;return n.every((function(t){return this.some((function(e){return r.compareLine(t,e,1,!0)}))}),i)}return!1},xa.prototype.compareFeature=function(t,e){return!(t.id!==e.id||!this.objectComparator(t.properties,e.properties)||!this.compareBBox(t,e))&&this.compare(t.geometry,e.geometry)},xa.prototype.compareBBox=function(t,e){return!!(!t.bbox&&!e.bbox||t.bbox&&e.bbox&&this.compareCoord(t.bbox,e.bbox))},xa.prototype.removePseudo=function(t){return t};var Ca=xa,Ba=gt((function(t){function e(t,e,n,i){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(t,e,n,i)}e.prototype.run=function(t,e,n,i){this._init(t,e,n,i);for(var r=0;r<this._datasetLength;r++)if(1!==this._visited[r]){this._visited[r]=1;var o=this._regionQuery(r);if(o.length<this.minPts)this.noise.push(r);else{var s=this.clusters.length;this.clusters.push([]),this._addToCluster(r,s),this._expandCluster(s,o)}}return this.clusters},e.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this.noise=[],this._datasetLength=t.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},e.prototype._expandCluster=function(t,e){for(var n=0;n<e.length;n++){var i=e[n];if(1!==this._visited[i]){this._visited[i]=1;var r=this._regionQuery(i);r.length>=this.minPts&&(e=this._mergeArrays(e,r))}1!==this._assigned[i]&&this._addToCluster(i,t)}},e.prototype._addToCluster=function(t,e){this.clusters[e].push(t),this._assigned[t]=1},e.prototype._regionQuery=function(t){for(var e=[],n=0;n<this._datasetLength;n++)this.distance(this.dataset[t],this.dataset[n])<this.epsilon&&e.push(n);return e},e.prototype._mergeArrays=function(t,e){for(var n=e.length,i=0;i<n;i++){var r=e[i];t.indexOf(r)<0&&t.push(r)}return t},e.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Ia=gt((function(t){function e(t,e,n){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(t,e,n)}e.prototype.init=function(t,e,n){this.assignments=[],this.centroids=[],void 0!==t&&(this.dataset=t),void 0!==e&&(this.k=e),void 0!==n&&(this.distance=n)},e.prototype.run=function(t,e){this.init(t,e);for(var n=this.dataset.length,i=0;i<this.k;i++)this.centroids[i]=this.randomCentroid();for(var r=!0;r;){r=this.assign();for(var o=0;o<this.k;o++){for(var s=new Array(c),a=0,l=0;l<c;l++)s[l]=0;for(var u=0;u<n;u++){var c=this.dataset[u].length;if(o===this.assignments[u]){for(l=0;l<c;l++)s[l]+=this.dataset[u][l];a++}}if(a>0){for(l=0;l<c;l++)s[l]/=a;this.centroids[o]=s}else this.centroids[o]=this.randomCentroid(),r=!0}}return this.getClusters()},e.prototype.randomCentroid=function(){var t,e,n=this.dataset.length-1;do{e=Math.round(Math.random()*n),t=this.dataset[e]}while(this.centroids.indexOf(t)>=0);return t},e.prototype.assign=function(){for(var t,e=!1,n=this.dataset.length,i=0;i<n;i++)(t=this.argmin(this.dataset[i],this.centroids,this.distance))!=this.assignments[i]&&(this.assignments[i]=t,e=!0);return e},e.prototype.getClusters=function(){for(var t,e=new Array(this.k),n=0;n<this.assignments.length;n++)void 0===e[t=this.assignments[n]]&&(e[t]=[]),e[t].push(n);return e},e.prototype.argmin=function(t,e,n){for(var i,r=Number.MAX_VALUE,o=0,s=e.length,a=0;a<s;a++)(i=n(t,e[a]))<r&&(r=i,o=a);return o},e.prototype.distance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;){var r=t[i]-e[i];n+=r*r}return Math.sqrt(n)},t.exports&&(t.exports=e)})),Sa=gt((function(t){function e(t,e,n){this._queue=[],this._priorities=[],this._sorting="desc",this._init(t,e,n)}e.prototype.insert=function(t,e){for(var n=this._queue.length,i=n;i--;){var r=this._priorities[i];"desc"===this._sorting?e>r&&(n=i):e<r&&(n=i)}this._insertAt(t,e,n)},e.prototype.remove=function(t){for(var e=this._queue.length;e--;)if(t===this._queue[e]){this._queue.splice(e,1),this._priorities.splice(e,1);break}},e.prototype.forEach=function(t){this._queue.forEach(t)},e.prototype.getElements=function(){return this._queue},e.prototype.getElementPriority=function(t){return this._priorities[t]},e.prototype.getPriorities=function(){return this._priorities},e.prototype.getElementsWithPriorities=function(){for(var t=[],e=0,n=this._queue.length;e<n;e++)t.push([this._queue[e],this._priorities[e]]);return t},e.prototype._init=function(t,e,n){if(t&&e){if(this._queue=[],this._priorities=[],t.length!==e.length)throw new Error("Arrays must have the same length");for(var i=0;i<t.length;i++)this.insert(t[i],e[i])}n&&(this._sorting=n)},e.prototype._insertAt=function(t,e,n){this._queue.length===n?(this._queue.push(t),this._priorities.push(e)):(this._queue.splice(n,0,t),this._priorities.splice(n,0,e))},t.exports&&(t.exports=e)})),Oa=gt((function(t){function e(t,e,n,i){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(t,e,n,i)}if(t.exports)var n=Sa;e.prototype.run=function(t,e,i,r){this._init(t,e,i,r);for(var o=0,s=this.dataset.length;o<s;o++)if(1!==this._processed[o]){this._processed[o]=1,this.clusters.push([o]);var a=this.clusters.length-1;this._orderedList.push(o);var l=new n(null,null,"asc"),u=this._regionQuery(o);void 0!==this._distanceToCore(o)&&(this._updateQueue(o,u,l),this._expandCluster(a,l))}return this.clusters},e.prototype.getReachabilityPlot=function(){for(var t=[],e=0,n=this._orderedList.length;e<n;e++){var i=this._orderedList[e],r=this._reachability[i];t.push([i,r])}return t},e.prototype._init=function(t,e,n,i){if(t){if(!(t instanceof Array))throw Error("Dataset must be of type array, "+typeof t+" given");this.dataset=t,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}e&&(this.epsilon=e),n&&(this.minPts=n),i&&(this.distance=i)},e.prototype._updateQueue=function(t,e,n){var i=this;this._coreDistance=this._distanceToCore(t),e.forEach((function(e){if(void 0===i._processed[e]){var r=i.distance(i.dataset[t],i.dataset[e]),o=Math.max(i._coreDistance,r);void 0===i._reachability[e]?(i._reachability[e]=o,n.insert(e,o)):o<i._reachability[e]&&(i._reachability[e]=o,n.remove(e),n.insert(e,o))}}))},e.prototype._expandCluster=function(t,e){for(var n=e.getElements(),i=0,r=n.length;i<r;i++){var o=n[i];if(void 0===this._processed[o]){var s=this._regionQuery(o);this._processed[o]=1,this.clusters[t].push(o),this._orderedList.push(o),void 0!==this._distanceToCore(o)&&(this._updateQueue(o,s,e),this._expandCluster(t,e))}}},e.prototype._distanceToCore=function(t){for(var e=this.epsilon,n=0;n<e;n++)if(this._regionQuery(t,n).length>=this.minPts)return n},e.prototype._regionQuery=function(t,e){e=e||this.epsilon;for(var n=[],i=0,r=this.dataset.length;i<r;i++)this.distance(this.dataset[t],this.dataset[i])<e&&n.push(i);return n},e.prototype._euclideanDistance=function(t,e){for(var n=0,i=Math.min(t.length,e.length);i--;)n+=(t[i]-e[i])*(t[i]-e[i]);return Math.sqrt(n)},t.exports&&(t.exports=e)})),Ma=gt((function(t){t.exports&&(t.exports={DBSCAN:Ba,KMEANS:Ia,OPTICS:Oa,PriorityQueue:Sa})})),Ta=(Ma.DBSCAN,Ma.KMEANS,Ma.OPTICS,Ma.PriorityQueue,function(t,e,n){for(var i=t.length,r=0,o=0;o<i;o++){var s=(t[o]||0)-(e[o]||0);r+=s*s}return n?Math.sqrt(r):r}),Na=Ta,ka=function(t,e,n){var i=Math.abs(t-e);return n?i:i*i},La=Ta,Fa=function(t,e,n,i){var r=[],o=[],s=[],a=[],l=!1,u=i||1e4,c=t.length,h=t[0].length,f=h>0,p=[];if(n)r="kmrand"==n?function(t,e){for(var n={},i=[],r=e<<2,o=t.length,s=t[0].length>0;i.length<e&&r-- >0;){var a=t[Math.floor(Math.random()*o)],l=s?a.join("_"):""+a;n[l]||(n[l]=!0,i.push(a))}if(i.length<e)throw new Error("Error initializating clusters");return i}(t,e):"kmpp"==n?function(t,e){var n=t[0].length?Na:ka,i=[],r=t.length,o=t[0].length>0,s=t[Math.floor(Math.random()*r)];for(o&&s.join("_"),i.push(s);i.length<e;){for(var a=[],l=i.length,u=0,c=[],h=0;h<r;h++){for(var f=1/0,p=0;p<l;p++){var d=n(t[h],i[p]);d<=f&&(f=d)}a[h]=f}for(var A=0;A<r;A++)u+=a[A];for(var g=0;g<r;g++)c[g]={i:g,v:t[g],pr:a[g]/u,cs:0};c.sort((function(t,e){return t.pr-e.pr})),c[0].cs=c[0].pr;for(var m=1;m<r;m++)c[m].cs=c[m-1].cs+c[m].pr;for(var v=Math.random(),y=0;y<r-1&&c[y++].cs<v;);i.push(c[y-1].v)}return i}(t,e):n;else for(var d={};r.length<e;){var A=Math.floor(Math.random()*c);d[A]||(d[A]=!0,r.push(t[A]))}do{wi(e,0,p);for(var g=0;g<c;g++){for(var m=1/0,v=0,y=0;y<e;y++)(a=f?La(t[g],r[y]):Math.abs(t[g]-r[y]))<=m&&(m=a,v=y);s[g]=v,p[v]++}for(var _=[],b=(o=[],0);b<e;b++)_[b]=f?wi(h,0,_[b]):0,o[b]=r[b];if(f){for(var w=0;w<e;w++)r[w]=[];for(var E=0;E<c;E++)for(var x=_[s[E]],C=t[E],B=0;B<h;B++)x[B]+=C[B];l=!0;for(var I=0;I<e;I++){for(var S=r[I],O=_[I],M=o[I],T=p[I],N=0;N<h;N++)S[N]=O[N]/T||0;if(l)for(var k=0;k<h;k++)if(M[k]!=S[k]){l=!1;break}}}else{for(var L=0;L<c;L++)_[s[L]]+=t[L];for(var F=0;F<e;F++)r[F]=_[F]/p[F]||0;l=!0;for(var R=0;R<e;R++)if(o[R]!=r[R]){l=!1;break}}l=l||--u<=0}while(!l);return{it:1e4-u,k:e,idxs:s,centroids:r}},Ra={search:function(t,e,n,i){t.cleanDirty();var r=(i=i||{}).heuristic||Ra.heuristics.manhattan,o=i.closest||!1,s=new Ii((function(t){return t.f})),a=e;for(e.h=r(e,n),s.push(e);s.size()>0;){var l=s.pop();if(l===n)return xi(l);l.closed=!0;for(var u=t.neighbors(l),c=0,h=u.length;c<h;++c){var f=u[c];if(!f.closed&&!f.isWall()){var p=l.g+f.getCost(l),d=f.visited;(!d||p<f.g)&&(f.visited=!0,f.parent=l,f.h=f.h||r(f,n),f.g=p,f.f=f.g+f.h,t.markDirty(f),o&&(f.h<a.h||f.h===a.h&&f.g<a.g)&&(a=f),d?s.rescoreElement(f):s.push(f))}}}return o?xi(a):[]},heuristics:{manhattan:function(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},diagonal:function(t,e){var n=Math.sqrt(2),i=Math.abs(e.x-t.x),r=Math.abs(e.y-t.y);return 1*(i+r)+(n-2)*Math.min(i,r)}},cleanNode:function(t){t.f=0,t.g=0,t.h=0,t.visited=!1,t.closed=!1,t.parent=null}};Ci.prototype.init=function(){this.dirtyNodes=[];for(var t=0;t<this.nodes.length;t++)Ra.cleanNode(this.nodes[t])},Ci.prototype.cleanDirty=function(){for(var t=0;t<this.dirtyNodes.length;t++)Ra.cleanNode(this.dirtyNodes[t]);this.dirtyNodes=[]},Ci.prototype.markDirty=function(t){this.dirtyNodes.push(t)},Ci.prototype.neighbors=function(t){var e=[],n=t.x,i=t.y,r=this.grid;return r[n-1]&&r[n-1][i]&&e.push(r[n-1][i]),r[n+1]&&r[n+1][i]&&e.push(r[n+1][i]),r[n]&&r[n][i-1]&&e.push(r[n][i-1]),r[n]&&r[n][i+1]&&e.push(r[n][i+1]),this.diagonal&&(r[n-1]&&r[n-1][i-1]&&e.push(r[n-1][i-1]),r[n+1]&&r[n+1][i-1]&&e.push(r[n+1][i-1]),r[n-1]&&r[n-1][i+1]&&e.push(r[n-1][i+1]),r[n+1]&&r[n+1][i+1]&&e.push(r[n+1][i+1])),e},Ci.prototype.toString=function(){for(var t,e,n,i,r=[],o=this.grid,s=0,a=o.length;s<a;s++){for(t=[],n=0,i=(e=o[s]).length;n<i;n++)t.push(e[n].weight);r.push(t.join(" "))}return r.join("\n")},Bi.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Bi.prototype.getCost=function(t){return t&&t.x!==this.x&&t.y!==this.y?1.41421*this.weight:this.weight},Bi.prototype.isWall=function(){return 0===this.weight},Ii.prototype={push:function(t){this.content.push(t),this.sinkDown(this.content.length-1)},pop:function(){var t=this.content[0],e=this.content.pop();return this.content.length>0&&(this.content[0]=e,this.bubbleUp(0)),t},remove:function(t){var e=this.content.indexOf(t),n=this.content.pop();e!==this.content.length-1&&(this.content[e]=n,this.scoreFunction(n)<this.scoreFunction(t)?this.sinkDown(e):this.bubbleUp(e))},size:function(){return this.content.length},rescoreElement:function(t){this.sinkDown(this.content.indexOf(t))},sinkDown:function(t){for(var e=this.content[t];t>0;){var n=(t+1>>1)-1,i=this.content[n];if(!(this.scoreFunction(e)<this.scoreFunction(i)))break;this.content[n]=e,this.content[t]=i,t=n}},bubbleUp:function(t){for(var e=this.content.length,n=this.content[t],i=this.scoreFunction(n);;){var r,o=t+1<<1,s=o-1,a=null;if(s<e){var l=this.content[s];(r=this.scoreFunction(l))<i&&(a=s)}if(o<e){var u=this.content[o];this.scoreFunction(u)<(null===a?i:r)&&(a=o)}if(null===a)break;this.content[t]=this.content[a],this.content[a]=n,t=a}}};var Da=function(t){return function(){return t}};Mi.prototype={constructor:Mi,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=Li(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(Ni(this,n),n=(t=n).U),n.C=!1,i.C=!0,ki(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ki(this,n),n=(t=n).U),n.C=!1,i.C=!0,Ni(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?Li(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,Ni(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ki(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,Ni(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,ki(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Ni(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ki(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var Pa,Ua,Qa,Ha,ja,za=[],Ka=[],Ga=1e-6,qa=1e-12;Zi.prototype={constructor:Zi,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Hi(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,i){if(o=(r=n.halfedges).length)for(var r,o,s,a=n.site,l=-1,u=e[r[o-1]],c=u.left===a?u.right:u.left;++l<o;)s=c,c=(u=e[r[l]]).left===a?u.right:u.left,s&&c&&i<s.index&&i<c.index&&Vi(a,s,c)<0&&t.push([a.data,s.data,c.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var i,r,o=this,s=o._found||0,a=o.cells.length;!(r=o.cells[s]);)if(++s>=a)return null;var l=t-r.site[0],u=e-r.site[1],c=l*l+u*u;do{r=o.cells[i=s],s=null,r.halfedges.forEach((function(n){var i=o.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var l=t-a[0],u=e-a[1],h=l*l+u*u;h<c&&(c=h,s=a.index)}}))}while(null!==s);return o._found=i,null==n||c<=n*n?r.site:null}};var Wa=Object.freeze({randomPosition:or,randomPoint:sr,randomPolygon:ar,randomLineString:lr}),Ya=Object.freeze({getCluster:cr,clusterEach:hr,clusterReduce:fr,createBins:pr,applyFilter:dr,propertiesContainsFilter:Ar,filterProperties:gr});"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(t){if(null==this)throw new TypeError(this+" is not an object");var e=Object(this),n=Math.max(Math.min(e.length,9007199254740991),0)||0,i=1 in arguments&&parseInt(Number(arguments[1]),10)||0;i=i<0?Math.max(n+i,0):Math.min(i,n);var r=2 in arguments&&void 0!==arguments[2]?parseInt(Number(arguments[2]),10)||0:n;for(r=r<0?Math.max(n+arguments[2],0):Math.min(r,n);i<r;)e[i]=t,++i;return e},writable:!0}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!=t},Math.trunc=Math.trunc||function(t){return t<0?Math.ceil(t):Math.floor(t)};var Xa=function(){};Xa.prototype.interfaces_=function(){return[]},Xa.prototype.getClass=function(){return Xa},Xa.prototype.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n};var Va=function(){},Ja=function(){},Za={MAX_VALUE:{configurable:!0}};Ja.isNaN=function(t){return Number.isNaN(t)},Ja.doubleToLongBits=function(t){return t},Ja.longBitsToDouble=function(t){return t},Ja.isInfinite=function(t){return!Number.isFinite(t)},Za.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Ja,Za);var $a=function(){},tl=function(){},el=function(){},nl=function t(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)this.x=0,this.y=0,this.z=t.NULL_ORDINATE;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.z=e.z}else 2===arguments.length?(this.x=arguments[0],this.y=arguments[1],this.z=t.NULL_ORDINATE):3===arguments.length&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},il={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};nl.prototype.setOrdinate=function(t,e){switch(t){case nl.X:this.x=e;break;case nl.Y:this.y=e;break;case nl.Z:this.z=e;break;default:throw new Va("Invalid ordinate index: "+t)}},nl.prototype.equals2D=function(){if(1===arguments.length){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!Xa.equalsWithTolerance(this.x,e.x,n)&&!!Xa.equalsWithTolerance(this.y,e.y,n)}},nl.prototype.getOrdinate=function(t){switch(t){case nl.X:return this.x;case nl.Y:return this.y;case nl.Z:return this.z}throw new Va("Invalid ordinate index: "+t)},nl.prototype.equals3D=function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||Ja.isNaN(this.z))&&Ja.isNaN(t.z)},nl.prototype.equals=function(t){return t instanceof nl&&this.equals2D(t)},nl.prototype.equalInZ=function(t,e){return Xa.equalsWithTolerance(this.z,t.z,e)},nl.prototype.compareTo=function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},nl.prototype.clone=function(){},nl.prototype.copy=function(){return new nl(this)},nl.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},nl.prototype.distance3D=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},nl.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},nl.prototype.hashCode=function(){var t=17;return 37*(t=37*t+nl.hashCode(this.x))+nl.hashCode(this.y)},nl.prototype.setCoordinate=function(t){this.x=t.x,this.y=t.y,this.z=t.z},nl.prototype.interfaces_=function(){return[$a,tl,mr]},nl.prototype.getClass=function(){return nl},nl.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=Ja.doubleToLongBits(t);return Math.trunc((e^e)>>>32)}},il.DimensionalComparator.get=function(){return rl},il.serialVersionUID.get=function(){return 0x5cbf2c235c7e5800},il.NULL_ORDINATE.get=function(){return Ja.NaN},il.X.get=function(){return 0},il.Y.get=function(){return 1},il.Z.get=function(){return 2},Object.defineProperties(nl,il);var rl=function(t){if(this._dimensionsToTest=2,0===arguments.length);else if(1===arguments.length){var e=arguments[0];if(2!==e&&3!==e)throw new Va("only 2 or 3 dimensions may be specified");this._dimensionsToTest=e}};rl.prototype.compare=function(t,e){var n=t,i=e,r=rl.compare(n.x,i.x);if(0!==r)return r;var o=rl.compare(n.y,i.y);return 0!==o?o:this._dimensionsToTest<=2?0:rl.compare(n.z,i.z)},rl.prototype.interfaces_=function(){return[el]},rl.prototype.getClass=function(){return rl},rl.compare=function(t,e){return t<e?-1:t>e?1:Ja.isNaN(t)?Ja.isNaN(e)?0:-1:Ja.isNaN(e)?1:0};var ol=function(){};ol.prototype.create=function(){},ol.prototype.interfaces_=function(){return[]},ol.prototype.getClass=function(){return ol};var sl=function(){},al={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};sl.prototype.interfaces_=function(){return[]},sl.prototype.getClass=function(){return sl},sl.toLocationSymbol=function(t){switch(t){case sl.EXTERIOR:return"e";case sl.BOUNDARY:return"b";case sl.INTERIOR:return"i";case sl.NONE:return"-"}throw new Va("Unknown location value: "+t)},al.INTERIOR.get=function(){return 0},al.BOUNDARY.get=function(){return 1},al.EXTERIOR.get=function(){return 2},al.NONE.get=function(){return-1},Object.defineProperties(sl,al);var ll=function(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1},ul=function(){},cl={LOG_10:{configurable:!0}};ul.prototype.interfaces_=function(){return[]},ul.prototype.getClass=function(){return ul},ul.log10=function(t){var e=Math.log(t);return Ja.isInfinite(e)?e:Ja.isNaN(e)?e:e/ul.LOG_10},ul.min=function(t,e,n,i){var r=t;return e<r&&(r=e),n<r&&(r=n),i<r&&(r=i),r},ul.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return t<e?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return i<r?r:i>o?o:i}},ul.wrap=function(t,e){return t<0?e- -t%e:t%e},ul.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t;return e>i&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],l=r;return o>l&&(l=o),s>l&&(l=s),a>l&&(l=a),l}},ul.average=function(t,e){return(t+e)/2},cl.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(ul,cl);var hl=function(t){this.str=t};hl.prototype.append=function(t){this.str+=t},hl.prototype.setCharAt=function(t,e){this.str=this.str.substr(0,t)+e+this.str.substr(t+1)},hl.prototype.toString=function(t){return this.str};var fl=function(t){this.value=t};fl.prototype.intValue=function(){return this.value},fl.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},fl.isNaN=function(t){return Number.isNaN(t)};var pl=function(){};pl.isWhitespace=function(t){return t<=32&&t>=0||127===t},pl.toUpperCase=function(t){return t.toUpperCase()};var dl=function t(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var e=arguments[0];this.init(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}else if("string"==typeof arguments[0]){var i=arguments[0];t.call(this,t.parse(i))}}else if(2===arguments.length){var r=arguments[0],o=arguments[1];this.init(r,o)}},Al={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};dl.prototype.le=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<=t._lo},dl.prototype.extractSignificantDigits=function(t,e){var n=this.abs(),i=dl.magnitude(n._hi),r=dl.TEN.pow(i);(n=n.divide(r)).gt(dl.TEN)?(n=n.divide(dl.TEN),i+=1):n.lt(dl.ONE)&&(n=n.multiply(dl.TEN),i-=1);for(var o=i+1,s=new hl,a=dl.MAX_PRINT_DIGITS-1,l=0;l<=a;l++){t&&l===o&&s.append(".");var u=Math.trunc(n._hi);if(u<0)break;var c=!1,h=0;u>9?(c=!0,h="9"):h="0"+u,s.append(h),n=n.subtract(dl.valueOf(u)).multiply(dl.TEN),c&&n.selfAdd(dl.TEN);var f=!0,p=dl.magnitude(n._hi);if(p<0&&Math.abs(p)>=a-l&&(f=!1),!f)break}return e[0]=i,s.toString()},dl.prototype.sqr=function(){return this.multiply(this)},dl.prototype.doubleValue=function(){return this._hi+this._lo},dl.prototype.subtract=function(){if(arguments[0]instanceof dl){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},dl.prototype.equals=function(){if(1===arguments.length){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}},dl.prototype.isZero=function(){return 0===this._hi&&0===this._lo},dl.prototype.selfSubtract=function(){if(arguments[0]instanceof dl){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},dl.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},dl.prototype.min=function(t){return this.le(t)?this:t},dl.prototype.selfDivide=function(){if(1===arguments.length){if(arguments[0]instanceof dl){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,l=null,u=null,c=null,h=null;return l=this._hi/n,h=(r=(u=dl.SPLIT*l)-(r=u-l))*(s=(h=dl.SPLIT*n)-(s=h-n))-(c=l*n)+r*(a=n-s)+(o=l-r)*s+o*a,h=l+(u=(this._hi-c-h+this._lo-l*i)/n),this._hi=h,this._lo=l-h+u,this}},dl.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},dl.prototype.divide=function(){if(arguments[0]instanceof dl){var t=arguments[0],e=null,n=null,i=null,r=null,o=null,s=null,a=null,l=null;return n=(o=this._hi/t._hi)-(e=(s=dl.SPLIT*o)-(e=s-o)),l=e*(i=(l=dl.SPLIT*t._hi)-(i=l-t._hi))-(a=o*t._hi)+e*(r=t._hi-i)+n*i+n*r,s=(this._hi-a-l+this._lo-o*t._lo)/t._hi,new dl(l=o+s,o-l+s)}if("number"==typeof arguments[0]){var u=arguments[0];return Ja.isNaN(u)?dl.createNaN():dl.copy(this).selfDivide(u,0)}},dl.prototype.ge=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>=t._lo},dl.prototype.pow=function(t){if(0===t)return dl.valueOf(1);var e=new dl(this),n=dl.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2==1&&n.selfMultiply(e),(i/=2)>0&&(e=e.sqr());else n=e;return t<0?n.reciprocal():n},dl.prototype.ceil=function(){if(this.isNaN())return dl.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new dl(t,e)},dl.prototype.compareTo=function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0},dl.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},dl.prototype.setValue=function(){if(arguments[0]instanceof dl){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},dl.prototype.max=function(t){return this.ge(t)?this:t},dl.prototype.sqrt=function(){if(this.isZero())return dl.valueOf(0);if(this.isNegative())return dl.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,n=dl.valueOf(e),i=this.subtract(n.sqr())._hi*(.5*t);return n.add(i)},dl.prototype.selfAdd=function(){if(1===arguments.length){if(arguments[0]instanceof dl){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,s=null,a=null;return o=(r=this._hi+e)-(s=r-this._hi),i=(a=(o=e-s+(this._hi-o))+this._lo)+(r-(n=r+a)),this._hi=n+i,this._lo=i+(n-this._hi),this}}else if(2===arguments.length){var l=arguments[0],u=arguments[1],c=null,h=null,f=null,p=null,d=null,A=null,g=null;p=this._hi+l,h=this._lo+u,d=p-(A=p-this._hi),f=h-(g=h-this._lo);var m=(c=p+(A=(d=l-A+(this._hi-d))+h))+(A=(f=u-g+(this._lo-f))+(A+(p-c))),v=A+(c-m);return this._hi=m,this._lo=v,this}},dl.prototype.selfMultiply=function(){if(1===arguments.length){if(arguments[0]instanceof dl){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,l=null,u=null;r=(l=dl.SPLIT*this._hi)-this._hi,u=dl.SPLIT*n,r=l-r,o=this._hi-r,s=u-n;var c=(l=this._hi*n)+(u=r*(s=u-s)-l+r*(a=n-s)+o*s+o*a+(this._hi*i+this._lo*n)),h=u+(r=l-c);return this._hi=c,this._lo=h,this}},dl.prototype.selfSqr=function(){return this.selfMultiply(this)},dl.prototype.floor=function(){if(this.isNaN())return dl.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new dl(t,e)},dl.prototype.negate=function(){return this.isNaN()?this:new dl(-this._hi,-this._lo)},dl.prototype.clone=function(){},dl.prototype.multiply=function(){if(arguments[0]instanceof dl){var t=arguments[0];return t.isNaN()?dl.createNaN():dl.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return Ja.isNaN(e)?dl.createNaN():dl.copy(this).selfMultiply(e,0)}},dl.prototype.isNaN=function(){return Ja.isNaN(this._hi)},dl.prototype.intValue=function(){return Math.trunc(this._hi)},dl.prototype.toString=function(){var t=dl.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()},dl.prototype.toStandardNotation=function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;if("."===n.charAt(0))r="0"+n;else if(i<0)r="0."+dl.stringOfChar("0",-i)+n;else if(-1===n.indexOf(".")){var o=i-n.length;r=n+dl.stringOfChar("0",o)+".0"}return this.isNegative()?"-"+r:r},dl.prototype.reciprocal=function(){var t,e,n,i,r=null,o=null,s=null,a=null;t=(n=1/this._hi)-(r=(s=dl.SPLIT*n)-(r=s-n)),o=(a=dl.SPLIT*this._hi)-this._hi;var l=n+(s=(1-(i=n*this._hi)-(a=r*(o=a-o)-i+r*(e=this._hi-o)+t*o+t*e)-n*this._lo)/this._hi);return new dl(l,n-l+s)},dl.prototype.toSciNotation=function(){if(this.isZero())return dl.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=dl.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new Error("Found leading zero: "+n);var r="";n.length>1&&(r=n.substring(1));var o=n.charAt(0)+"."+r;return this.isNegative()?"-"+o+i:o+i},dl.prototype.abs=function(){return this.isNaN()?dl.NaN:this.isNegative()?this.negate():new dl(this)},dl.prototype.isPositive=function(){return(this._hi>0||0===this._hi)&&this._lo>0},dl.prototype.lt=function(t){return(this._hi<t._hi||this._hi===t._hi)&&this._lo<t._lo},dl.prototype.add=function(){if(arguments[0]instanceof dl){var t=arguments[0];return dl.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return dl.copy(this).selfAdd(e)}},dl.prototype.init=function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof dl){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._hi=n,this._lo=i}},dl.prototype.gt=function(t){return(this._hi>t._hi||this._hi===t._hi)&&this._lo>t._lo},dl.prototype.isNegative=function(){return(this._hi<0||0===this._hi)&&this._lo<0},dl.prototype.trunc=function(){return this.isNaN()?dl.NaN:this.isPositive()?this.floor():this.ceil()},dl.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},dl.prototype.interfaces_=function(){return[mr,$a,tl]},dl.prototype.getClass=function(){return dl},dl.sqr=function(t){return dl.valueOf(t).selfMultiply(t)},dl.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return dl.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new dl(e)}},dl.sqrt=function(t){return dl.valueOf(t).sqrt()},dl.parse=function(t){for(var e=0,n=t.length;pl.isWhitespace(t.charAt(e));)e++;var i=!1;if(e<n){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(i=!0))}for(var o=new dl,s=0,a=0,l=0;!(e>=n);){var u=t.charAt(e);if(e++,pl.isDigit(u)){var c=u-"0";o.selfMultiply(dl.TEN),o.selfAdd(c),s++}else{if("."!==u){if("e"===u||"E"===u){var h=t.substring(e);try{l=fl.parseInt(h)}catch(e){throw e instanceof Error?new Error("Invalid exponent "+h+" in string "+t):e}break}throw new Error("Unexpected character '"+u+"' at position "+e+" in string "+t)}a=s}}var f=o,p=s-a-l;if(0===p)f=o;else if(p>0){var d=dl.TEN.pow(p);f=o.divide(d)}else if(p<0){var A=dl.TEN.pow(-p);f=o.multiply(A)}return i?f.negate():f},dl.createNaN=function(){return new dl(Ja.NaN,Ja.NaN)},dl.copy=function(t){return new dl(t)},dl.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n));return 10*Math.pow(10,i)<=e&&(i+=1),i},dl.stringOfChar=function(t,e){for(var n=new hl,i=0;i<e;i++)n.append(t);return n.toString()},Al.PI.get=function(){return new dl(3.141592653589793,12246467991473532e-32)},Al.TWO_PI.get=function(){return new dl(6.283185307179586,24492935982947064e-32)},Al.PI_2.get=function(){return new dl(1.5707963267948966,6123233995736766e-32)},Al.E.get=function(){return new dl(2.718281828459045,14456468917292502e-32)},Al.NaN.get=function(){return new dl(Ja.NaN,Ja.NaN)},Al.EPS.get=function(){return 123259516440783e-46},Al.SPLIT.get=function(){return 134217729},Al.MAX_PRINT_DIGITS.get=function(){return 32},Al.TEN.get=function(){return dl.valueOf(10)},Al.ONE.get=function(){return dl.valueOf(1)},Al.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},Al.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(dl,Al);var gl=function(){},ml={DP_SAFE_EPSILON:{configurable:!0}};gl.prototype.interfaces_=function(){return[]},gl.prototype.getClass=function(){return gl},gl.orientationIndex=function(t,e,n){var i=gl.orientationIndexFilter(t,e,n);if(i<=1)return i;var r=dl.valueOf(e.x).selfAdd(-t.x),o=dl.valueOf(e.y).selfAdd(-t.y),s=dl.valueOf(n.x).selfAdd(-e.x),a=dl.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},gl.signOfDet2x2=function(t,e,n,i){return t.multiply(i).selfSubtract(e.multiply(n)).signum()},gl.intersection=function(t,e,n,i){var r=dl.valueOf(i.y).selfSubtract(n.y).selfMultiply(dl.valueOf(e.x).selfSubtract(t.x)),o=dl.valueOf(i.x).selfSubtract(n.x).selfMultiply(dl.valueOf(e.y).selfSubtract(t.y)),s=r.subtract(o),a=dl.valueOf(i.x).selfSubtract(n.x).selfMultiply(dl.valueOf(t.y).selfSubtract(n.y)),l=dl.valueOf(i.y).selfSubtract(n.y).selfMultiply(dl.valueOf(t.x).selfSubtract(n.x)),u=a.subtract(l).selfDivide(s).doubleValue(),c=dl.valueOf(t.x).selfAdd(dl.valueOf(e.x).selfSubtract(t.x).selfMultiply(u)).doubleValue(),h=dl.valueOf(e.x).selfSubtract(t.x).selfMultiply(dl.valueOf(t.y).selfSubtract(n.y)),f=dl.valueOf(e.y).selfSubtract(t.y).selfMultiply(dl.valueOf(t.x).selfSubtract(n.x)),p=h.subtract(f).selfDivide(s).doubleValue(),d=dl.valueOf(n.y).selfAdd(dl.valueOf(i.y).selfSubtract(n.y).selfMultiply(p)).doubleValue();return new nl(c,d)},gl.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=r-o;if(r>0){if(o<=0)return gl.signum(s);i=r+o}else{if(!(r<0))return gl.signum(s);if(o>=0)return gl.signum(s);i=-r-o}var a=gl.DP_SAFE_EPSILON*i;return s>=a||-s>=a?gl.signum(s):2},gl.signum=function(t){return t>0?1:t<0?-1:0},ml.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(gl,ml);var vl=function(){},yl={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};yl.X.get=function(){return 0},yl.Y.get=function(){return 1},yl.Z.get=function(){return 2},yl.M.get=function(){return 3},vl.prototype.setOrdinate=function(t,e,n){},vl.prototype.size=function(){},vl.prototype.getOrdinate=function(t,e){},vl.prototype.getCoordinate=function(){},vl.prototype.getCoordinateCopy=function(t){},vl.prototype.getDimension=function(){},vl.prototype.getX=function(t){},vl.prototype.clone=function(){},vl.prototype.expandEnvelope=function(t){},vl.prototype.copy=function(){},vl.prototype.getY=function(t){},vl.prototype.toCoordinateArray=function(){},vl.prototype.interfaces_=function(){return[tl]},vl.prototype.getClass=function(){return vl},Object.defineProperties(vl,yl);var _l=function(){},bl=function(t){function e(){t.call(this,"Projective point not representable on the Cartesian plane.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(_l),wl=function(){};wl.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;s<e+r;s++)n[i+o]=t[s],o++},wl.getProperty=function(t){return{"line.separator":"\n"}[t]};var El=function t(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.x=n,this.y=i,this.w=1}else if(arguments[0]instanceof t&&arguments[1]instanceof t){var r=arguments[0],o=arguments[1];this.x=r.y*o.w-o.y*r.w,this.y=o.x*r.w-r.x*o.w,this.w=r.x*o.y-o.x*r.y}else if(arguments[0]instanceof nl&&arguments[1]instanceof nl){var s=arguments[0],a=arguments[1];this.x=s.y-a.y,this.y=a.x-s.x,this.w=s.x*a.y-a.x*s.y}}else if(3===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2];this.x=l,this.y=u,this.w=c}else if(4===arguments.length){var h=arguments[0],f=arguments[1],p=arguments[2],d=arguments[3],A=h.y-f.y,g=f.x-h.x,m=h.x*f.y-f.x*h.y,v=p.y-d.y,y=d.x-p.x,_=p.x*d.y-d.x*p.y;this.x=g*_-y*m,this.y=v*m-A*_,this.w=A*y-v*g}};El.prototype.getY=function(){var t=this.y/this.w;if(Ja.isNaN(t)||Ja.isInfinite(t))throw new bl;return t},El.prototype.getX=function(){var t=this.x/this.w;if(Ja.isNaN(t)||Ja.isInfinite(t))throw new bl;return t},El.prototype.getCoordinate=function(){var t=new nl;return t.x=this.getX(),t.y=this.getY(),t},El.prototype.interfaces_=function(){return[]},El.prototype.getClass=function(){return El},El.intersection=function(t,e,n,i){var r=t.y-e.y,o=e.x-t.x,s=t.x*e.y-e.x*t.y,a=n.y-i.y,l=i.x-n.x,u=n.x*i.y-i.x*n.y,c=r*l-a*o,h=(o*u-l*s)/c,f=(a*s-r*u)/c;if(Ja.isNaN(h)||Ja.isInfinite(h)||Ja.isNaN(f)||Ja.isInfinite(f))throw new bl;return new nl(h,f)};var xl=function t(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof nl){var e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof t){var n=arguments[0];this.init(n)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i.x,r.x,i.y,r.y)}else if(4===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],l=arguments[3];this.init(o,s,a,l)}},Cl={serialVersionUID:{configurable:!0}};xl.prototype.getArea=function(){return this.getWidth()*this.getHeight()},xl.prototype.equals=function(t){if(!(t instanceof xl))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()},xl.prototype.intersection=function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new xl;var e=this._minx>t._minx?this._minx:t._minx,n=this._miny>t._miny?this._miny:t._miny,i=this._maxx<t._maxx?this._maxx:t._maxx,r=this._maxy<t._maxy?this._maxy:t._maxy;return new xl(e,i,n,r)},xl.prototype.isNull=function(){return this._maxx<this._minx},xl.prototype.getMaxX=function(){return this._maxx},xl.prototype.covers=function(){if(1===arguments.length){if(arguments[0]instanceof nl){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof xl){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&n>=this._minx&&n<=this._maxx&&i>=this._miny&&i<=this._maxy}},xl.prototype.intersects=function(){if(1===arguments.length){if(arguments[0]instanceof xl){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof nl){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return!this.isNull()&&!(n>this._maxx||n<this._minx||i>this._maxy||i<this._miny)}},xl.prototype.getMinY=function(){return this._miny},xl.prototype.getMinX=function(){return this._minx},xl.prototype.expandToInclude=function(){if(1===arguments.length){if(arguments[0]instanceof nl){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof xl){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this._minx=n,this._maxx=n,this._miny=i,this._maxy=i):(n<this._minx&&(this._minx=n),n>this._maxx&&(this._maxx=n),i<this._miny&&(this._miny=i),i>this._maxy&&(this._maxy=i))}},xl.prototype.minExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e},xl.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},xl.prototype.compareTo=function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0},xl.prototype.translate=function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},xl.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},xl.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},xl.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},xl.prototype.maxExtent=function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},xl.prototype.expandBy=function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=n,this._maxy+=n,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},xl.prototype.contains=function(){if(1===arguments.length){if(arguments[0]instanceof xl){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof nl){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},xl.prototype.centre=function(){return this.isNull()?null:new nl((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},xl.prototype.init=function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof nl){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof xl){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];r<o?(this._minx=r,this._maxx=o):(this._minx=o,this._maxx=r),s<a?(this._miny=s,this._maxy=a):(this._miny=a,this._maxy=s)}},xl.prototype.getMaxY=function(){return this._maxy},xl.prototype.distance=function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var n=0;return this._maxy<t._miny?n=t._miny-this._maxy:this._miny>t._maxy&&(n=this._miny-t._maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},xl.prototype.hashCode=function(){var t=17;return 37*(t=37*(t=37*(t=37*t+nl.hashCode(this._minx))+nl.hashCode(this._maxx))+nl.hashCode(this._miny))+nl.hashCode(this._maxy)},xl.prototype.interfaces_=function(){return[$a,mr]},xl.prototype.getClass=function(){return xl},xl.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),l=Math.max(o.x,s.x),u=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return!(u>l||c<a||(a=Math.min(o.y,s.y),l=Math.max(o.y,s.y),u=Math.min(i.y,r.y),c=Math.max(i.y,r.y),u>l||c<a))}},Cl.serialVersionUID.get=function(){return 0x51845cd552189800},Object.defineProperties(xl,Cl);var Bl={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},Il=function(t){this.geometryFactory=t||new Vu};Il.prototype.read=function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var r=Bl.typeStr.exec(t);if(-1!==t.search("EMPTY")&&((r=Bl.emptyTypeStr.exec(t))[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],Ol[n]&&(e=Ol[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},Il.prototype.write=function(t){return this.extractGeometry(t)},Il.prototype.extractGeometry=function(t){var e=t.getGeometryType().toLowerCase();if(!Sl[e])return null;var n=e.toUpperCase();return t.isEmpty()?n+" EMPTY":n+"("+Sl[e].apply(this,[t])+")"};var Sl={coordinate:function(t){return t.x+" "+t.y},point:function(t){return Sl.coordinate.call(this,t._coordinates._coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Sl.point.apply(this,[t._geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(Sl.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t._points._coordinates.length;n<i;++n)e.push(Sl.coordinate.apply(this,[t._points._coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Sl.linestring.apply(this,[t._geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+Sl.linestring.apply(this,[t._shell])+")");for(var n=0,i=t._holes.length;n<i;++n)e.push("("+Sl.linestring.apply(this,[t._holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push("("+Sl.polygon.apply(this,[t._geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t._geometries.length;n<i;++n)e.push(this.extractGeometry(t._geometries[n]));return e.join(",")}},Ol={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(Bl.spaces);return this.geometryFactory.createPoint(new nl(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Bl.trimParens,"$1"),i.push(Ol.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Bl.spaces),i.push(new nl(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;r<o;++r)e=n[r].trim().split(Bl.spaces),i.push(new nl(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(Bl.parenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Bl.trimParens,"$1"),i.push(Ol.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(Bl.parenComma),s=[],a=0,l=o.length;a<l;++a)e=o[a].replace(Bl.trimParens,"$1"),n=Ol.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n._points),0===a?r=i:s.push(i);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(Bl.doubleParenComma),i=[],r=0,o=n.length;r<o;++r)e=n[r].replace(Bl.trimParens,"$1"),i.push(Ol.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();for(var e=(t=t.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),n=[],i=0,r=e.length;i<r;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}},Ml=function(t){this.parser=new Il(t)};Ml.prototype.write=function(t){return this.parser.write(t)},Ml.toLineString=function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"};var Tl=function(t){function e(e){t.call(this,e),this.name="RuntimeException",this.message=e,this.stack=(new t).stack}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Nl=function(t){function e(){if(t.call(this),0===arguments.length)t.call(this);else if(1===arguments.length){var e=arguments[0];t.call(this,e)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Tl),kl=function(){};kl.prototype.interfaces_=function(){return[]},kl.prototype.getClass=function(){return kl},kl.shouldNeverReachHere=function(){if(0===arguments.length)kl.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new Nl("Should never reach here"+(null!==t?": "+t:""))}},kl.isTrue=function(){var t,e;if(1===arguments.length)t=arguments[0],kl.isTrue(t,null);else if(2===arguments.length&&(t=arguments[0],e=arguments[1],!t))throw null===e?new Nl:new Nl(e)},kl.equals=function(){var t,e,n;if(2===arguments.length)t=arguments[0],e=arguments[1],kl.equals(t,e,null);else if(3===arguments.length&&(t=arguments[0],e=arguments[1],n=arguments[2],!e.equals(t)))throw new Nl("Expected "+t+" but encountered "+e+(null!==n?": "+n:""))};var Ll=function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new nl,this._intPt[1]=new nl,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Fl={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Ll.prototype.getIndexAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]},Ll.prototype.getTopologySummary=function(){var t=new hl;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},Ll.prototype.computeIntersection=function(t,e,n,i){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=n,this._inputLines[1][1]=i,this._result=this.computeIntersect(t,e,n,i)},Ll.prototype.getIntersectionNum=function(){return this._result},Ll.prototype.computeIntLineIndex=function(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}},Ll.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Ll.prototype.setPrecisionModel=function(t){this._precisionModel=t},Ll.prototype.isInteriorIntersection=function(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}},Ll.prototype.getIntersection=function(t){return this._intPt[t]},Ll.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Ll.prototype.hasIntersection=function(){return this._result!==Ll.NO_INTERSECTION},Ll.prototype.getEdgeDistance=function(t,e){return Ll.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])},Ll.prototype.isCollinear=function(){return this._result===Ll.COLLINEAR_INTERSECTION},Ll.prototype.toString=function(){return Ml.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+Ml.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Ll.prototype.getEndpoint=function(t,e){return this._inputLines[t][e]},Ll.prototype.isIntersection=function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1},Ll.prototype.getIntersectionAlongSegment=function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]},Ll.prototype.interfaces_=function(){return[]},Ll.prototype.getClass=function(){return Ll},Ll.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);0!==(o=i>r?s:a)||t.equals(e)||(o=Math.max(s,a))}return kl.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},Ll.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return kl.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},Fl.DONT_INTERSECT.get=function(){return 0},Fl.DO_INTERSECT.get=function(){return 1},Fl.COLLINEAR.get=function(){return 2},Fl.NO_INTERSECTION.get=function(){return 0},Fl.POINT_INTERSECTION.get=function(){return 1},Fl.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Ll,Fl);var Rl=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isInSegmentEnvelopes=function(t){var e=new xl(this._inputLines[0][0],this._inputLines[0][1]),n=new xl(this._inputLines[1][0],this._inputLines[1][1]);return e.contains(t)&&n.contains(t)},e.prototype.computeIntersection=function(){if(3!==arguments.length)return t.prototype.computeIntersection.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2];if(this._isProper=!1,xl.intersects(n,i,e)&&0===Ul.orientationIndex(n,i,e)&&0===Ul.orientationIndex(i,n,e))return this._isProper=!0,(e.equals(n)||e.equals(i))&&(this._isProper=!1),this._result=t.POINT_INTERSECTION,null;this._result=t.NO_INTERSECTION},e.prototype.normalizeToMinimum=function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.safeHCoordinateIntersection=function(t,n,i,r){var o=null;try{o=El.intersection(t,n,i,r)}catch(s){if(!(s instanceof bl))throw s;o=e.nearestEndpoint(t,n,i,r)}return o},e.prototype.intersection=function(t,n,i,r){var o=this.intersectionWithNormalization(t,n,i,r);return this.isInSegmentEnvelopes(o)||(o=new nl(e.nearestEndpoint(t,n,i,r))),null!==this._precisionModel&&this._precisionModel.makePrecise(o),o},e.prototype.smallestInAbsValue=function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},e.prototype.checkDD=function(t,e,n,i,r){var o=gl.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(o);wl.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&wl.out.println("Distance = "+r.distance(o))},e.prototype.intersectionWithNormalization=function(t,e,n,i){var r=new nl(t),o=new nl(e),s=new nl(n),a=new nl(i),l=new nl;this.normalizeToEnvCentre(r,o,s,a,l);var u=this.safeHCoordinateIntersection(r,o,s,a);return u.x+=l.x,u.y+=l.y,u},e.prototype.computeCollinearIntersection=function(e,n,i,r){var o=xl.intersects(e,n,i),s=xl.intersects(e,n,r),a=xl.intersects(i,r,e),l=xl.intersects(i,r,n);return o&&s?(this._intPt[0]=i,this._intPt[1]=r,t.COLLINEAR_INTERSECTION):a&&l?(this._intPt[0]=e,this._intPt[1]=n,t.COLLINEAR_INTERSECTION):o&&a?(this._intPt[0]=i,this._intPt[1]=e,!i.equals(e)||s||l?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):o&&l?(this._intPt[0]=i,this._intPt[1]=n,!i.equals(n)||s||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&a?(this._intPt[0]=r,this._intPt[1]=e,!r.equals(e)||o||l?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):s&&l?(this._intPt[0]=r,this._intPt[1]=n,!r.equals(n)||o||a?t.COLLINEAR_INTERSECTION:t.POINT_INTERSECTION):t.NO_INTERSECTION},e.prototype.normalizeToEnvCentre=function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,l=t.y>e.y?t.y:e.y,u=n.x<i.x?n.x:i.x,c=n.y<i.y?n.y:i.y,h=n.x>i.x?n.x:i.x,f=n.y>i.y?n.y:i.y,p=((o>u?o:u)+(a<h?a:h))/2,d=((s>c?s:c)+(l<f?l:f))/2;r.x=p,r.y=d,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},e.prototype.computeIntersect=function(e,n,i,r){if(this._isProper=!1,!xl.intersects(e,n,i,r))return t.NO_INTERSECTION;var o=Ul.orientationIndex(e,n,i),s=Ul.orientationIndex(e,n,r);if(o>0&&s>0||o<0&&s<0)return t.NO_INTERSECTION;var a=Ul.orientationIndex(i,r,e),l=Ul.orientationIndex(i,r,n);return a>0&&l>0||a<0&&l<0?t.NO_INTERSECTION:0===o&&0===s&&0===a&&0===l?this.computeCollinearIntersection(e,n,i,r):(0===o||0===s||0===a||0===l?(this._isProper=!1,e.equals2D(i)||e.equals2D(r)?this._intPt[0]=e:n.equals2D(i)||n.equals2D(r)?this._intPt[0]=n:0===o?this._intPt[0]=new nl(i):0===s?this._intPt[0]=new nl(r):0===a?this._intPt[0]=new nl(e):0===l&&(this._intPt[0]=new nl(n))):(this._isProper=!0,this._intPt[0]=this.intersection(e,n,i,r)),t.POINT_INTERSECTION)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.nearestEndpoint=function(t,e,n,i){var r=t,o=Ul.distancePointLine(t,n,i),s=Ul.distancePointLine(e,n,i);return s<o&&(o=s,r=e),(s=Ul.distancePointLine(n,t,e))<o&&(o=s,r=n),(s=Ul.distancePointLine(i,t,e))<o&&(o=s,r=i),r},e}(Ll),Dl=function(){};Dl.prototype.interfaces_=function(){return[]},Dl.prototype.getClass=function(){return Dl},Dl.orientationIndex=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return Dl.signOfDet2x2(i,r,o,s)},Dl.signOfDet2x2=function(t,e,n,i){var r=null,o=null,s=null;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(e>0?i>0?e<=i||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):e<=-i?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):i>0?-e<=i?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),t>0){if(!(n>0))return r;if(!(t<=n))return r}else{if(n>0)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if((i-=(s=Math.floor(n/t))*e)<0)return-r;if(i>e)return r;if(t>(n-=s*t)+n){if(e<i+i)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if((e-=(s=Math.floor(t/n))*i)<0)return r;if(e>i)return-r;if(n>(t-=s*n)+t){if(i<e+e)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}};var Pl=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t};Pl.prototype.countSegment=function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this._p.x>=n&&this._p.x<=i&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var r=t.x-this._p.x,o=t.y-this._p.y,s=e.x-this._p.x,a=e.y-this._p.y,l=Dl.signOfDet2x2(r,o,s,a);if(0===l)return this._isPointOnSegment=!0,null;a<o&&(l=-l),l>0&&this._crossingCount++}},Pl.prototype.isPointInPolygon=function(){return this.getLocation()!==sl.EXTERIOR},Pl.prototype.getLocation=function(){return this._isPointOnSegment?sl.BOUNDARY:this._crossingCount%2==1?sl.INTERIOR:sl.EXTERIOR},Pl.prototype.isOnSegment=function(){return this._isPointOnSegment},Pl.prototype.interfaces_=function(){return[]},Pl.prototype.getClass=function(){return Pl},Pl.locatePointInRing=function(){if(arguments[0]instanceof nl&&ll(arguments[1],vl)){for(var t=arguments[0],e=arguments[1],n=new Pl(t),i=new nl,r=new nl,o=1;o<e.size();o++)if(e.getCoordinate(o,i),e.getCoordinate(o-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof nl&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],l=new Pl(s),u=1;u<a.length;u++){var c=a[u],h=a[u-1];if(l.countSegment(c,h),l.isOnSegment())return l.getLocation()}return l.getLocation()}};var Ul=function(){},Ql={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Ul.prototype.interfaces_=function(){return[]},Ul.prototype.getClass=function(){return Ul},Ul.orientationIndex=function(t,e,n){return gl.orientationIndex(t,e,n)},Ul.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y;e+=r*(t[i-1].y-o)}return e/2}if(ll(arguments[0],vl)){var s=arguments[0],a=s.size();if(a<3)return 0;var l=new nl,u=new nl,c=new nl;s.getCoordinate(0,u),s.getCoordinate(1,c);var h=u.x;c.x-=h;for(var f=0,p=1;p<a-1;p++)l.y=u.y,u.x=c.x,u.y=c.y,s.getCoordinate(p+1,c),c.x-=h,f+=u.x*(l.y-c.y);return f/2}},Ul.distanceLineLine=function(t,e,n,i){if(t.equals(e))return Ul.distancePointLine(t,n,i);if(n.equals(i))return Ul.distancePointLine(i,t,e);var r=!1;if(xl.intersects(t,e,n,i)){var o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===o)r=!0;else{var s=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),a=((t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y))/o,l=s/o;(l<0||l>1||a<0||a>1)&&(r=!0)}}else r=!0;return r?ul.min(Ul.distancePointLine(t,n,i),Ul.distancePointLine(e,n,i),Ul.distancePointLine(n,t,e),Ul.distancePointLine(i,t,e)):0},Ul.isPointInRing=function(t,e){return Ul.locatePointInRing(t,e)!==sl.EXTERIOR},Ul.computeLength=function(t){var e=t.size();if(e<=1)return 0;var n=0,i=new nl;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;s<e;s++){t.getCoordinate(s,i);var a=i.x,l=i.y,u=a-r,c=l-o;n+=Math.sqrt(u*u+c*c),r=a,o=l}return n},Ul.isCCW=function(t){var e=t.length-1;if(e<3)throw new Va("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],i=0,r=1;r<=e;r++){var o=t[r];o.y>n.y&&(n=o,i=r)}var s=i;do{(s-=1)<0&&(s=e)}while(t[s].equals2D(n)&&s!==i);var a=i;do{a=(a+1)%e}while(t[a].equals2D(n)&&a!==i);var l=t[s],u=t[a];if(l.equals2D(n)||u.equals2D(n)||l.equals2D(u))return!1;var c=Ul.computeOrientation(l,n,u);return 0===c?l.x>u.x:c>0},Ul.locatePointInRing=function(t,e){return Pl.locatePointInRing(t,e)},Ul.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},Ul.computeOrientation=function(t,e,n){return Ul.orientationIndex(t,e,n)},Ul.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new Va("Line array must contain at least one vertex");for(var n=t.distance(e[0]),i=0;i<e.length-1;i++){var r=Ul.distancePointLine(t,e[i],e[i+1]);r<n&&(n=r)}return n}if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];if(s.x===a.x&&s.y===a.y)return o.distance(s);var l=(a.x-s.x)*(a.x-s.x)+(a.y-s.y)*(a.y-s.y),u=((o.x-s.x)*(a.x-s.x)+(o.y-s.y)*(a.y-s.y))/l;if(u<=0)return o.distance(s);if(u>=1)return o.distance(a);var c=((s.y-o.y)*(a.x-s.x)-(s.x-o.x)*(a.y-s.y))/l;return Math.abs(c)*Math.sqrt(l)}},Ul.isOnLine=function(t,e){for(var n=new Rl,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},Ql.CLOCKWISE.get=function(){return-1},Ql.RIGHT.get=function(){return Ul.CLOCKWISE},Ql.COUNTERCLOCKWISE.get=function(){return 1},Ql.LEFT.get=function(){return Ul.COUNTERCLOCKWISE},Ql.COLLINEAR.get=function(){return 0},Ql.STRAIGHT.get=function(){return Ul.COLLINEAR},Object.defineProperties(Ul,Ql);var Hl=function(){};Hl.prototype.filter=function(t){},Hl.prototype.interfaces_=function(){return[]},Hl.prototype.getClass=function(){return Hl};var jl=function(){var t=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=t,this._SRID=t.getSRID()},zl={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};jl.prototype.isGeometryCollection=function(){return this.getSortIndex()===jl.SORTINDEX_GEOMETRYCOLLECTION},jl.prototype.getFactory=function(){return this._factory},jl.prototype.getGeometryN=function(t){return this},jl.prototype.getArea=function(){return 0},jl.prototype.isRectangle=function(){return!1},jl.prototype.equals=function(){if(arguments[0]instanceof jl){var t=arguments[0];return null!==t&&this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof jl))return!1;var n=e;return this.equalsExact(n)}},jl.prototype.equalsExact=function(t){return this===t||this.equalsExact(t,0)},jl.prototype.geometryChanged=function(){this.apply(jl.geometryChangedFilter)},jl.prototype.geometryChangedAction=function(){this._envelope=null},jl.prototype.equalsNorm=function(t){return null!==t&&this.norm().equalsExact(t.norm())},jl.prototype.getLength=function(){return 0},jl.prototype.getNumGeometries=function(){return 1},jl.prototype.compareTo=function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.getSortIndex()!==n.getSortIndex()?this.getSortIndex()-n.getSortIndex():this.isEmpty()&&n.isEmpty()?0:this.isEmpty()?-1:n.isEmpty()?1:this.compareToSameClass(n,i)}},jl.prototype.getUserData=function(){return this._userData},jl.prototype.getSRID=function(){return this._SRID},jl.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},jl.prototype.checkNotGeometryCollection=function(t){if(t.getSortIndex()===jl.SORTINDEX_GEOMETRYCOLLECTION)throw new Va("This method does not support GeometryCollection arguments")},jl.prototype.equal=function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},jl.prototype.norm=function(){var t=this.copy();return t.normalize(),t},jl.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},jl.prototype.getEnvelopeInternal=function(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new xl(this._envelope)},jl.prototype.setSRID=function(t){this._SRID=t},jl.prototype.setUserData=function(t){this._userData=t},jl.prototype.compare=function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},jl.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},jl.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===jl.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===jl.SORTINDEX_MULTIPOINT||this.getSortIndex()===jl.SORTINDEX_MULTILINESTRING||this.getSortIndex()===jl.SORTINDEX_MULTIPOLYGON},jl.prototype.interfaces_=function(){return[tl,$a,mr]},jl.prototype.getClass=function(){return jl},jl.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},jl.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},zl.serialVersionUID.get=function(){return 0x799ea46522854c00},zl.SORTINDEX_POINT.get=function(){return 0},zl.SORTINDEX_MULTIPOINT.get=function(){return 1},zl.SORTINDEX_LINESTRING.get=function(){return 2},zl.SORTINDEX_LINEARRING.get=function(){return 3},zl.SORTINDEX_MULTILINESTRING.get=function(){return 4},zl.SORTINDEX_POLYGON.get=function(){return 5},zl.SORTINDEX_MULTIPOLYGON.get=function(){return 6},zl.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},zl.geometryChangedFilter.get=function(){return Kl},Object.defineProperties(jl,zl);var Kl=function(){};Kl.interfaces_=function(){return[Hl]},Kl.filter=function(t){t.geometryChangedAction()};var Gl=function(){};Gl.prototype.filter=function(t){},Gl.prototype.interfaces_=function(){return[]},Gl.prototype.getClass=function(){return Gl};var ql=function(){},Wl={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};ql.prototype.isInBoundary=function(t){},ql.prototype.interfaces_=function(){return[]},ql.prototype.getClass=function(){return ql},Wl.Mod2BoundaryNodeRule.get=function(){return Yl},Wl.EndPointBoundaryNodeRule.get=function(){return Xl},Wl.MultiValentEndPointBoundaryNodeRule.get=function(){return Vl},Wl.MonoValentEndPointBoundaryNodeRule.get=function(){return Jl},Wl.MOD2_BOUNDARY_RULE.get=function(){return new Yl},Wl.ENDPOINT_BOUNDARY_RULE.get=function(){return new Xl},Wl.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Vl},Wl.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new Jl},Wl.OGC_SFS_BOUNDARY_RULE.get=function(){return ql.MOD2_BOUNDARY_RULE},Object.defineProperties(ql,Wl);var Yl=function(){};Yl.prototype.isInBoundary=function(t){return t%2==1},Yl.prototype.interfaces_=function(){return[ql]},Yl.prototype.getClass=function(){return Yl};var Xl=function(){};Xl.prototype.isInBoundary=function(t){return t>0},Xl.prototype.interfaces_=function(){return[ql]},Xl.prototype.getClass=function(){return Xl};var Vl=function(){};Vl.prototype.isInBoundary=function(t){return t>1},Vl.prototype.interfaces_=function(){return[ql]},Vl.prototype.getClass=function(){return Vl};var Jl=function(){};Jl.prototype.isInBoundary=function(t){return 1===t},Jl.prototype.interfaces_=function(){return[ql]},Jl.prototype.getClass=function(){return Jl};var Zl=function(){};Zl.prototype.add=function(){},Zl.prototype.addAll=function(){},Zl.prototype.isEmpty=function(){},Zl.prototype.iterator=function(){},Zl.prototype.size=function(){},Zl.prototype.toArray=function(){},Zl.prototype.remove=function(){};var $l=function(t){function e(e){t.call(this),this.message=e||""}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={name:{configurable:!0}};return n.name.get=function(){return"IndexOutOfBoundsException"},Object.defineProperties(e,n),e}(Error),tu=function(){};tu.prototype.hasNext=function(){},tu.prototype.next=function(){},tu.prototype.remove=function(){};var eu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(){},e.prototype.set=function(){},e.prototype.isEmpty=function(){},e}(Zl);(vr.prototype=new Error).name="NoSuchElementException";var nu=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Zl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.ensureCapacity=function(){},e.prototype.interfaces_=function(){return[t,Zl]},e.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],arguments[1]),!0},e.prototype.clear=function(){this.array_=[]},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},e.prototype.iterator=function(){return new iu(this)},e.prototype.get=function(t){if(t<0||t>=this.size())throw new $l;return this.array_[t]},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.size=function(){return this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;n<i;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e},e}(eu),iu=function(t){function e(e){t.call(this),this.arrayList_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new vr;return this.arrayList_.get(this.position_++)},e.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},e.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},e.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},e}(tu),ru=function(t){function e(){if(t.call(this),0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.ensureCapacity(n.length),this.add(n,i)}}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={coordArrayType:{configurable:!0}};return n.coordArrayType.get=function(){return new Array(0).fill(null)},e.prototype.getCoordinate=function(t){return this.get(t)},e.prototype.addAll=function(){if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=!1,r=e.iterator();r.hasNext();)this.add(r.next(),n),i=!0;return i}return t.prototype.addAll.apply(this,arguments)},e.prototype.clone=function(){for(var e=t.prototype.clone.call(this),n=0;n<this.size();n++)e.add(n,this.get(n).copy());return e},e.prototype.toCoordinateArray=function(){return this.toArray(e.coordArrayType)},e.prototype.add=function(){if(1===arguments.length){var e=arguments[0];t.prototype.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var n=arguments[0],i=arguments[1];return this.add(n,i,!0),!0}if(arguments[0]instanceof nl&&"boolean"==typeof arguments[1]){var r=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(r))return null;t.prototype.add.call(this,r)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1];return this.add(o,s),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var a=arguments[0],l=arguments[1];if(arguments[2])for(var u=0;u<a.length;u++)this.add(a[u],l);else for(var c=a.length-1;c>=0;c--)this.add(a[c],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof nl){var h=arguments[0],f=arguments[1];if(!arguments[2]){var p=this.size();if(p>0){if(h>0&&this.get(h-1).equals2D(f))return null;if(h<p&&this.get(h).equals2D(f))return null}}t.prototype.add.call(this,h,f)}}else if(4===arguments.length){var d=arguments[0],A=arguments[1],g=arguments[2],m=arguments[3],v=1;g>m&&(v=-1);for(var y=g;y!==m;y+=v)this.add(d[y],A);return!0}},e.prototype.closeRing=function(){this.size()>0&&this.add(new nl(this.get(0)),!1)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},Object.defineProperties(e,n),e}(nu),ou=function(){},su={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};su.ForwardComparator.get=function(){return au},su.BidirectionalComparator.get=function(){return lu},su.coordArrayType.get=function(){return new Array(0).fill(null)},ou.prototype.interfaces_=function(){return[]},ou.prototype.getClass=function(){return ou},ou.isRing=function(t){return!(t.length<4||!t[0].equals2D(t[t.length-1]))},ou.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(ou.indexOf(i,e)<0)return i}return null},ou.scroll=function(t,e){var n=ou.indexOf(e,t);if(n<0)return null;var i=new Array(t.length).fill(null);wl.arraycopy(t,n,i,0,t.length-n),wl.arraycopy(t,0,i,t.length-n,n),wl.arraycopy(i,0,t,0,t.length)},ou.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var s=0;s<i.length;s++)if(0!==o.compare(i[s],r[s]))return!1;return!0}},ou.intersection=function(t,e){for(var n=new ru,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},ou.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},ou.removeRepeatedPoints=function(t){return ou.hasRepeatedPoints(t)?new ru(t,!1).toCoordinateArray():t},ou.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;i<=n;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},ou.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,o=0;o<t.length;o++)null!==t[o]&&(i[r++]=t[o]);return i},ou.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new nl(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],l=0;l<a;l++)o[s+l]=new nl(i[r+l])},ou.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},ou.envelope=function(t){for(var e=new xl,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},ou.toCoordinateArray=function(t){return t.toArray(ou.coordArrayType)},ou.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},ou.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},ou.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},ou.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},ou.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},ou.extract=function(t,e,n){e=ul.clamp(e,0,t.length);var i=(n=ul.clamp(n,-1,t.length))-e+1;n<0&&(i=0),e>=t.length&&(i=0),n<e&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=e;s<=n;s++)r[o++]=t[s];return r},Object.defineProperties(ou,su);var au=function(){};au.prototype.compare=function(t,e){return ou.compare(t,e)},au.prototype.interfaces_=function(){return[el]},au.prototype.getClass=function(){return au};var lu=function(){};lu.prototype.compare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=ou.compare(n,i);return ou.isEqualReversed(n,i)?0:r},lu.prototype.OLDcompare=function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=ou.increasingDirection(n),o=ou.increasingDirection(i),s=r>0?0:n.length-1,a=o>0?0:n.length-1,l=0;l<n.length;l++){var u=n[s].compareTo(i[a]);if(0!==u)return u;s+=r,a+=o}return 0},lu.prototype.interfaces_=function(){return[el]},lu.prototype.getClass=function(){return lu};var uu=function(){};uu.prototype.get=function(){},uu.prototype.put=function(){},uu.prototype.size=function(){},uu.prototype.values=function(){},uu.prototype.entrySet=function(){};var cu=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(uu);(yr.prototype=new Error).name="OperationNotSupported",(_r.prototype=new Zl).contains=function(){};var hu=function(t){function e(){t.call(this),this.array_=[],arguments[0]instanceof Zl&&this.addAll(arguments[0])}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(this.array_[e]===t)return!0;return!1},e.prototype.add=function(t){return!this.contains(t)&&(this.array_.push(t),!0)},e.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},e.prototype.remove=function(t){throw new Error},e.prototype.size=function(){return this.array_.length},e.prototype.isEmpty=function(){return 0===this.array_.length},e.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},e.prototype.iterator=function(){return new fu(this)},e}(_r),fu=function(t){function e(e){t.call(this),this.hashSet_=e,this.position_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new vr;return this.hashSet_.array_[this.position_++]},e.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},e.prototype.remove=function(){throw new yr},e}(tu),pu=0;(Br.prototype=new cu).get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(n<0)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},Br.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:pu,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,(i=t.compareTo(r.key))<0)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:n,color:pu,getValue:function(){return this.value},getKey:function(){return this.key}};return i<0?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},Br.prototype.fixAfterInsertion=function(t){for(t.color=1;null!=t&&t!==this.root_&&1===t.parent.color;)if(wr(t)===xr(wr(wr(t)))){var e=Cr(wr(wr(t)));1===br(e)?(Er(wr(t),pu),Er(e,pu),Er(wr(wr(t)),1),t=wr(wr(t))):(t===Cr(wr(t))&&(t=wr(t),this.rotateLeft(t)),Er(wr(t),pu),Er(wr(wr(t)),1),this.rotateRight(wr(wr(t))))}else{var n=xr(wr(wr(t)));1===br(n)?(Er(wr(t),pu),Er(n,pu),Er(wr(wr(t)),1),t=wr(wr(t))):(t===xr(wr(t))&&(t=wr(t),this.rotateRight(t)),Er(wr(t),pu),Er(wr(wr(t)),1),this.rotateLeft(wr(wr(t))))}this.root_.color=pu},Br.prototype.values=function(){var t=new nu,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=Br.successor(e));)t.add(e.value);return t},Br.prototype.entrySet=function(){var t=new hu,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=Br.successor(e));)t.add(e);return t},Br.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.left===t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},Br.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null===t.parent?this.root_=e:t.parent.right===t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},Br.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},Br.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var n=t.parent,i=t;null!==n&&i===n.right;)i=n,n=n.parent;return n},Br.prototype.size=function(){return this.size_};var du=function(){};du.prototype.interfaces_=function(){return[]},du.prototype.getClass=function(){return du},Ir.prototype=new _r,(Sr.prototype=new Ir).contains=function(t){for(var e=0,n=this.array_.length;e<n;e++)if(0===this.array_[e].compareTo(t))return!0;return!1},Sr.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;e<n;e++)if(1===this.array_[e].compareTo(t))return this.array_.splice(e,0,t),!0;return this.array_.push(t),!0},Sr.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Sr.prototype.remove=function(t){throw new yr},Sr.prototype.size=function(){return this.array_.length},Sr.prototype.isEmpty=function(){return 0===this.array_.length},Sr.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t},Sr.prototype.iterator=function(){return new Au(this)};var Au=function(t){this.treeSet_=t,this.position_=0};Au.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new vr;return this.treeSet_.array_[this.position_++]},Au.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Au.prototype.remove=function(){throw new yr};var gu=function(){};gu.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)i=function(t,e){return t.compareTo(e)},r.sort(i);else if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else if(3===arguments.length){(e=r.slice(arguments[1],arguments[2])).sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])}else if(4===arguments.length)for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t])},gu.asList=function(t){for(var e=new nu,n=0,i=t.length;n<i;n++)e.add(t[n]);return e};var mu=function(){},vu={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};vu.P.get=function(){return 0},vu.L.get=function(){return 1},vu.A.get=function(){return 2},vu.FALSE.get=function(){return-1},vu.TRUE.get=function(){return-2},vu.DONTCARE.get=function(){return-3},vu.SYM_FALSE.get=function(){return"F"},vu.SYM_TRUE.get=function(){return"T"},vu.SYM_DONTCARE.get=function(){return"*"},vu.SYM_P.get=function(){return"0"},vu.SYM_L.get=function(){return"1"},vu.SYM_A.get=function(){return"2"},mu.prototype.interfaces_=function(){return[]},mu.prototype.getClass=function(){return mu},mu.toDimensionSymbol=function(t){switch(t){case mu.FALSE:return mu.SYM_FALSE;case mu.TRUE:return mu.SYM_TRUE;case mu.DONTCARE:return mu.SYM_DONTCARE;case mu.P:return mu.SYM_P;case mu.L:return mu.SYM_L;case mu.A:return mu.SYM_A}throw new Va("Unknown dimension value: "+t)},mu.toDimensionValue=function(t){switch(pl.toUpperCase(t)){case mu.SYM_FALSE:return mu.FALSE;case mu.SYM_TRUE:return mu.TRUE;case mu.SYM_DONTCARE:return mu.DONTCARE;case mu.SYM_P:return mu.P;case mu.SYM_L:return mu.L;case mu.SYM_A:return mu.A}throw new Va("Unknown dimension symbol: "+t)},Object.defineProperties(mu,vu);var yu=function(){};yu.prototype.filter=function(t){},yu.prototype.interfaces_=function(){return[]},yu.prototype.getClass=function(){return yu};var _u=function(){};_u.prototype.filter=function(t,e){},_u.prototype.isDone=function(){},_u.prototype.isGeometryChanged=function(){},_u.prototype.interfaces_=function(){return[]},_u.prototype.getClass=function(){return _u};var bu=function(t){function e(e,n){if(t.call(this,n),this._geometries=e||[],t.hasNullElements(this._geometries))throw new Va("geometries must not contain null elements")}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){for(var t=new xl,e=0;e<this._geometries.length;e++)t.expandToInclude(this._geometries[e].getEnvelopeInternal());return t},e.prototype.getGeometryN=function(t){return this._geometries[t]},e.prototype.getSortIndex=function(){return t.SORTINDEX_GEOMETRYCOLLECTION},e.prototype.getCoordinates=function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this._geometries.length;n++)for(var i=this._geometries[n].getCoordinates(),r=0;r<i.length;r++)t[++e]=i[r];return t},e.prototype.getArea=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getArea();return t},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._geometries.length!==i._geometries.length)return!1;for(var r=0;r<this._geometries.length;r++)if(!this._geometries[r].equalsExact(i._geometries[r],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<this._geometries.length;t++)this._geometries[t].normalize();gu.sort(this._geometries)},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},e.prototype.getBoundaryDimension=function(){for(var t=mu.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getBoundaryDimension());return t},e.prototype.getDimension=function(){for(var t=mu.FALSE,e=0;e<this._geometries.length;e++)t=Math.max(t,this._geometries[e].getDimension());return t},e.prototype.getLength=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=0,e=0;e<this._geometries.length;e++)t+=this._geometries[e].getNumPoints();return t},e.prototype.getNumGeometries=function(){return this._geometries.length},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=new Sr(gu.asList(this._geometries)),n=new Sr(gu.asList(t._geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o=i,s=this.getNumGeometries(),a=o.getNumGeometries(),l=0;l<s&&l<a;){var u=this.getGeometryN(l),c=o.getGeometryN(l),h=u.compareToSameClass(c,r);if(0!==h)return h;l++}return l<s?1:l<a?-1:0}},e.prototype.apply=function(){if(ll(arguments[0],Gl))for(var t=arguments[0],e=0;e<this._geometries.length;e++)this._geometries[e].apply(t);else if(ll(arguments[0],_u)){var n=arguments[0];if(0===this._geometries.length)return null;for(var i=0;i<this._geometries.length&&(this._geometries[i].apply(n),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else if(ll(arguments[0],yu)){var r=arguments[0];r.filter(this);for(var o=0;o<this._geometries.length;o++)this._geometries[o].apply(r)}else if(ll(arguments[0],Hl)){var s=arguments[0];s.filter(this);for(var a=0;a<this._geometries.length;a++)this._geometries[a].apply(s)}},e.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),kl.shouldNeverReachHere(),null},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._geometries=new Array(this._geometries.length).fill(null);for(var n=0;n<this._geometries.length;n++)e._geometries[n]=this._geometries[n].clone();return e},e.prototype.getGeometryType=function(){return"GeometryCollection"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.isEmpty=function(){for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isEmpty())return!1;return!0},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x4f07bcb1f857d800},Object.defineProperties(e,n),e}(jl),wu=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return jl.SORTINDEX_MULTILINESTRING},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?mu.FALSE:0},e.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var t=0;t<this._geometries.length;t++)if(!this._geometries[t].isClosed())return!1;return!0},e.prototype.getDimension=function(){return 1},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[t-1-n]=this._geometries[n].reverse();return this.getFactory().createMultiLineString(e)},e.prototype.getBoundary=function(){return new Eu(this).getBoundary()},e.prototype.getGeometryType=function(){return"MultiLineString"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[du]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x7155d2ab4afa8000},Object.defineProperties(e,n),e}(bu),Eu=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){var t=arguments[0],e=ql.MOD2_BOUNDARY_RULE;this._geom=t,this._geomFact=t.getFactory(),this._bnRule=e}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this._geom=n,this._geomFact=n.getFactory(),this._bnRule=i}};Eu.prototype.boundaryMultiLineString=function(t){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this._geomFact.createPoint(e[0]):this._geomFact.createMultiPointFromCoords(e)},Eu.prototype.getBoundary=function(){return this._geom instanceof Su?this.boundaryLineString(this._geom):this._geom instanceof wu?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Eu.prototype.boundaryLineString=function(t){return this._geom.isEmpty()?this.getEmptyMultiPoint():t.isClosed()?this._bnRule.isInBoundary(2)?t.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},Eu.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Eu.prototype.computeBoundaryCoordinates=function(t){var e=new nu;this._endpointMap=new Br;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this._endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue().count;this._bnRule.isInBoundary(s)&&e.add(o.getKey())}return ou.toCoordinateArray(e)},Eu.prototype.addEndpoint=function(t){var e=this._endpointMap.get(t);null===e&&(e=new xu,this._endpointMap.put(t,e)),e.count++},Eu.prototype.interfaces_=function(){return[]},Eu.prototype.getClass=function(){return Eu},Eu.getBoundary=function(){if(1===arguments.length){var t=arguments[0];return new Eu(t).getBoundary()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new Eu(e,n).getBoundary()}};var xu=function(){this.count=null};xu.prototype.interfaces_=function(){return[]},xu.prototype.getClass=function(){return xu};var Cu=function(){},Bu={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Cu.prototype.interfaces_=function(){return[]},Cu.prototype.getClass=function(){return Cu},Cu.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;i<e;i++)n[i]=t;return String(n)},Cu.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new function(){},n=new function(){}(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o="",s=new function(){}(new function(){}(Cu.getStackTrace(i))),a=0;a<r;a++)try{o+=s.readLine()+Cu.NEWLINE}catch(t){if(!(t instanceof Or))throw t;kl.shouldNeverReachHere()}return o}},Cu.split=function(t,e){for(var n=e.length,i=new nu,r=""+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);i.add(s),o=(r=r.substring(o+n)).indexOf(e)}r.length>0&&i.add(r);for(var a=new Array(i.size()).fill(null),l=0;l<a.length;l++)a[l]=i.get(l);return a},Cu.toString=function(){if(1===arguments.length){var t=arguments[0];return Cu.SIMPLE_ORDINATE_FORMAT.format(t)}},Cu.spaces=function(t){return Cu.chars(" ",t)},Bu.NEWLINE.get=function(){return wl.getProperty("line.separator")},Bu.SIMPLE_ORDINATE_FORMAT.get=function(){return new function(){}("0.#")},Object.defineProperties(Cu,Bu);var Iu=function(){};Iu.prototype.interfaces_=function(){return[]},Iu.prototype.getClass=function(){return Iu},Iu.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;o<r;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},Iu.isRing=function(t){var e=t.size();return 0===e||!(e<=3)&&t.getOrdinate(0,vl.X)===t.getOrdinate(e-1,vl.X)&&t.getOrdinate(0,vl.Y)===t.getOrdinate(e-1,vl.Y)},Iu.isEqual=function(t,e){var n=t.size();if(n!==e.size())return!1;for(var i=Math.min(t.getDimension(),e.getDimension()),r=0;r<n;r++)for(var o=0;o<i;o++){var s=t.getOrdinate(r,o),a=e.getOrdinate(r,o);if(!(t.getOrdinate(r,o)===e.getOrdinate(r,o)||Ja.isNaN(s)&&Ja.isNaN(a)))return!1}return!0},Iu.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(Iu.copy(e,0,i,0,r),r>0)for(var o=r;o<n;o++)Iu.copy(e,r-1,i,o,1);return i},Iu.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;i<=n;i++)Iu.swap(t,i,e-i)},Iu.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},Iu.copy=function(t,e,n,i,r){for(var o=0;o<r;o++)Iu.copyCoord(t,e+o,n,i+o)},Iu.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new hl;i.append("(");for(var r=0;r<e;r++){r>0&&i.append(" ");for(var o=0;o<n;o++)o>0&&i.append(","),i.append(Cu.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},Iu.ensureValidRing=function(t,e){var n=e.size();return 0===n?e:n<=3?Iu.createClosedRing(t,e,4):e.getOrdinate(0,vl.X)===e.getOrdinate(n-1,vl.X)&&e.getOrdinate(0,vl.Y)===e.getOrdinate(n-1,vl.Y)?e:Iu.createClosedRing(t,e,n+1)},Iu.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();Iu.copy(e,0,i,0,r);for(var o=r;o<n;o++)Iu.copy(e,0,i,o,1);return i};var Su=function(t){function e(e,n){t.call(this,n),this._points=null,this.init(e)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new xl:this._points.expandEnvelope(new xl)},e.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},e.prototype.getSortIndex=function(){return t.SORTINDEX_LINESTRING},e.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e;if(this._points.size()!==i._points.size())return!1;for(var r=0;r<this._points.size();r++)if(!this.equal(this._points.getCoordinate(r),i._points.getCoordinate(r),n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){for(var t=0;t<Math.trunc(this._points.size()/2);t++){var e=this._points.size()-1-t;if(!this._points.getCoordinate(t).equals(this._points.getCoordinate(e)))return this._points.getCoordinate(t).compareTo(this._points.getCoordinate(e))>0&&Iu.reverse(this._points),null}},e.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},e.prototype.getBoundaryDimension=function(){return this.isClosed()?mu.FALSE:0},e.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},e.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},e.prototype.getDimension=function(){return 1},e.prototype.getLength=function(){return Ul.computeLength(this._points)},e.prototype.getNumPoints=function(){return this._points.size()},e.prototype.reverse=function(){var t=this._points.copy();return Iu.reverse(t),this.getFactory().createLineString(t)},e.prototype.compareToSameClass=function(){if(1===arguments.length){for(var t=arguments[0],e=0,n=0;e<this._points.size()&&n<t._points.size();){var i=this._points.getCoordinate(e).compareTo(t._points.getCoordinate(n));if(0!==i)return i;e++,n++}return e<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){var r=arguments[0];return arguments[1].compare(this._points,r._points)}},e.prototype.apply=function(){if(ll(arguments[0],Gl))for(var t=arguments[0],e=0;e<this._points.size();e++)t.filter(this._points.getCoordinate(e));else if(ll(arguments[0],_u)){var n=arguments[0];if(0===this._points.size())return null;for(var i=0;i<this._points.size()&&(n.filter(this._points,i),!n.isDone());i++);n.isGeometryChanged()&&this.geometryChanged()}else ll(arguments[0],yu)?arguments[0].filter(this):ll(arguments[0],Hl)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return new Eu(this).getBoundary()},e.prototype.isEquivalentClass=function(t){return t instanceof e},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._points=this._points.clone(),e},e.prototype.getCoordinateN=function(t){return this._points.getCoordinate(t)},e.prototype.getGeometryType=function(){return"LineString"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._points},e.prototype.isEmpty=function(){return 0===this._points.size()},e.prototype.init=function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new Va("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this._points=t},e.prototype.isCoordinate=function(t){for(var e=0;e<this._points.size();e++)if(this._points.getCoordinate(e).equals(t))return!0;return!1},e.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},e.prototype.getPointN=function(t){return this.getFactory().createPoint(this._points.getCoordinate(t))},e.prototype.interfaces_=function(){return[du]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(e,n),e}(jl),Ou=function(){};Ou.prototype.interfaces_=function(){return[]},Ou.prototype.getClass=function(){return Ou};var Mu=function(t){function e(e,n){t.call(this,n),this._coordinates=e||null,this.init(this._coordinates)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new xl;var t=new xl;return t.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),t},e.prototype.getSortIndex=function(){return t.SORTINDEX_POINT},e.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),n))}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){},e.prototype.getCoordinate=function(){return 0!==this._coordinates.size()?this._coordinates.getCoordinate(0):null},e.prototype.getBoundaryDimension=function(){return mu.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getNumPoints=function(){return this.isEmpty()?0:1},e.prototype.reverse=function(){return this.copy()},e.prototype.getX=function(){if(null===this.getCoordinate())throw new Error("getX called on empty Point");return this.getCoordinate().x},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0];return this.getCoordinate().compareTo(t.getCoordinate())}if(2===arguments.length){var e=arguments[0];return arguments[1].compare(this._coordinates,e._coordinates)}},e.prototype.apply=function(){if(ll(arguments[0],Gl)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(ll(arguments[0],_u)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else ll(arguments[0],yu)?arguments[0].filter(this):ll(arguments[0],Hl)&&arguments[0].filter(this)},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e._coordinates=this._coordinates.clone(),e},e.prototype.getGeometryType=function(){return"Point"},e.prototype.copy=function(){return new e(this._coordinates.copy(),this._factory)},e.prototype.getCoordinateSequence=function(){return this._coordinates},e.prototype.getY=function(){if(null===this.getCoordinate())throw new Error("getY called on empty Point");return this.getCoordinate().y},e.prototype.isEmpty=function(){return 0===this._coordinates.size()},e.prototype.init=function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),kl.isTrue(t.size()<=1),this._coordinates=t},e.prototype.isSimple=function(){return!0},e.prototype.interfaces_=function(){return[Ou]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return 0x44077bad161cbc00},Object.defineProperties(e,n),e}(jl),Tu=function(){};Tu.prototype.interfaces_=function(){return[]},Tu.prototype.getClass=function(){return Tu};var Nu=function(t){function e(e,n,i){if(t.call(this,i),this._shell=null,this._holes=null,null===e&&(e=this.getFactory().createLinearRing()),null===n&&(n=[]),t.hasNullElements(n))throw new Va("holes must not contain null elements");if(e.isEmpty()&&t.hasNonEmptyElements(n))throw new Va("shell is empty but holes are not");this._shell=e,this._holes=n}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},e.prototype.getSortIndex=function(){return t.SORTINDEX_POLYGON},e.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this._shell.getCoordinates(),i=0;i<n.length;i++)t[++e]=n[i];for(var r=0;r<this._holes.length;r++)for(var o=this._holes[r].getCoordinates(),s=0;s<o.length;s++)t[++e]=o[s];return t},e.prototype.getArea=function(){var t=0;t+=Math.abs(Ul.signedArea(this._shell.getCoordinateSequence()));for(var e=0;e<this._holes.length;e++)t-=Math.abs(Ul.signedArea(this._holes[e].getCoordinateSequence()));return t},e.prototype.isRectangle=function(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;for(var t=this._shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;n<5;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),a=1;a<=4;a++){var l=t.getX(a),u=t.getY(a);if(l!==o==(u!==s))return!1;o=l,s=u}return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!this.isEquivalentClass(e))return!1;var i=e,r=this._shell,o=i._shell;if(!r.equalsExact(o,n))return!1;if(this._holes.length!==i._holes.length)return!1;for(var s=0;s<this._holes.length;s++)if(!this._holes[s].equalsExact(i._holes[s],n))return!1;return!0}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.normalize=function(){if(0===arguments.length){this.normalize(this._shell,!0);for(var t=0;t<this._holes.length;t++)this.normalize(this._holes[t],!1);gu.sort(this._holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);wl.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=ou.minCoordinate(e.getCoordinates());ou.scroll(i,r),wl.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],Ul.isCCW(e.getCoordinates())===n&&ou.reverse(e.getCoordinates())}},e.prototype.getCoordinate=function(){return this._shell.getCoordinate()},e.prototype.getNumInteriorRing=function(){return this._holes.length},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.getLength=function(){var t=0;t+=this._shell.getLength();for(var e=0;e<this._holes.length;e++)t+=this._holes[e].getLength();return t},e.prototype.getNumPoints=function(){for(var t=this._shell.getNumPoints(),e=0;e<this._holes.length;e++)t+=this._holes[e].getNumPoints();return t},e.prototype.reverse=function(){var t=this.copy();t._shell=this._shell.copy().reverse(),t._holes=new Array(this._holes.length).fill(null);for(var e=0;e<this._holes.length;e++)t._holes[e]=this._holes[e].copy().reverse();return t},e.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},e.prototype.compareToSameClass=function(){if(1===arguments.length){var t=arguments[0],e=this._shell,n=t._shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[0],r=arguments[1],o=i,s=this._shell,a=o._shell,l=s.compareToSameClass(a,r);if(0!==l)return l;for(var u=this.getNumInteriorRing(),c=o.getNumInteriorRing(),h=0;h<u&&h<c;){var f=this.getInteriorRingN(h),p=o.getInteriorRingN(h),d=f.compareToSameClass(p,r);if(0!==d)return d;h++}return h<u?1:h<c?-1:0}},e.prototype.apply=function(t){if(ll(t,Gl)){this._shell.apply(t);for(var e=0;e<this._holes.length;e++)this._holes[e].apply(t)}else if(ll(t,_u)){if(this._shell.apply(t),!t.isDone())for(var n=0;n<this._holes.length&&(this._holes[n].apply(t),!t.isDone());n++);t.isGeometryChanged()&&this.geometryChanged()}else if(ll(t,yu))t.filter(this);else if(ll(t,Hl)){t.filter(this),this._shell.apply(t);for(var i=0;i<this._holes.length;i++)this._holes[i].apply(t)}},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this._holes.length+1).fill(null);t[0]=this._shell;for(var e=0;e<this._holes.length;e++)t[e+1]=this._holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},e.prototype.clone=function(){var e=t.prototype.clone.call(this);e._shell=this._shell.clone(),e._holes=new Array(this._holes.length).fill(null);for(var n=0;n<this._holes.length;n++)e._holes[n]=this._holes[n].clone();return e},e.prototype.getGeometryType=function(){return"Polygon"},e.prototype.copy=function(){for(var t=this._shell.copy(),n=new Array(this._holes.length).fill(null),i=0;i<n.length;i++)n[i]=this._holes[i].copy();return new e(t,n,this._factory)},e.prototype.getExteriorRing=function(){return this._shell},e.prototype.isEmpty=function(){return this._shell.isEmpty()},e.prototype.getInteriorRingN=function(t){return this._holes[t]},e.prototype.interfaces_=function(){return[Tu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(e,n),e}(jl),ku=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return jl.SORTINDEX_MULTIPOINT},e.prototype.isValid=function(){return!0},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getCoordinate=function(){if(1===arguments.length){var e=arguments[0];return this._geometries[e].getCoordinate()}return t.prototype.getCoordinate.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return mu.FALSE},e.prototype.getDimension=function(){return 0},e.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},e.prototype.getGeometryType=function(){return"MultiPoint"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Ou]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x6fb1ed4162e0fc00},Object.defineProperties(e,n),e}(bu),Lu=function(t){function e(e,n){e instanceof nl&&n instanceof Vu&&(e=n.getCoordinateSequenceFactory().create(e)),t.call(this,e,n),this.validateConstruction()}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return jl.SORTINDEX_LINEARRING},e.prototype.getBoundaryDimension=function(){return mu.FALSE},e.prototype.isClosed=function(){return!!this.isEmpty()||t.prototype.isClosed.call(this)},e.prototype.reverse=function(){var t=this._points.copy();return Iu.reverse(t),this.getFactory().createLinearRing(t)},e.prototype.validateConstruction=function(){if(!this.isEmpty()&&!t.prototype.isClosed.call(this))throw new Va("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<e.MINIMUM_VALID_SIZE)throw new Va("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},e.prototype.getGeometryType=function(){return"LinearRing"},e.prototype.copy=function(){return new e(this._points.copy(),this._factory)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.MINIMUM_VALID_SIZE.get=function(){return 4},n.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(e,n),e}(Su),Fu=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={serialVersionUID:{configurable:!0}};return e.prototype.getSortIndex=function(){return jl.SORTINDEX_MULTIPOLYGON},e.prototype.equalsExact=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return!!this.isEquivalentClass(e)&&t.prototype.equalsExact.call(this,e,n)}return t.prototype.equalsExact.apply(this,arguments)},e.prototype.getBoundaryDimension=function(){return 1},e.prototype.getDimension=function(){return 2},e.prototype.reverse=function(){for(var t=this._geometries.length,e=new Array(t).fill(null),n=0;n<this._geometries.length;n++)e[n]=this._geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},e.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new nu,e=0;e<this._geometries.length;e++)for(var n=this._geometries[e].getBoundary(),i=0;i<n.getNumGeometries();i++)t.add(n.getGeometryN(i));var r=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(r))},e.prototype.getGeometryType=function(){return"MultiPolygon"},e.prototype.copy=function(){for(var t=new Array(this._geometries.length).fill(null),n=0;n<t.length;n++)t[n]=this._geometries[n].copy();return new e(t,this._factory)},e.prototype.interfaces_=function(){return[Tu]},e.prototype.getClass=function(){return e},n.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(e,n),e}(bu),Ru=function(t){this._factory=t||null,this._isUserDataCopied=!1},Du={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};Ru.prototype.setCopyUserData=function(t){this._isUserDataCopied=t},Ru.prototype.edit=function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this._isUserDataCopied&&n.setUserData(t.getUserData()),n},Ru.prototype.editInternal=function(t,e){return null===this._factory&&(this._factory=t.getFactory()),t instanceof bu?this.editGeometryCollection(t,e):t instanceof Nu?this.editPolygon(t,e):t instanceof Mu?e.edit(t,this._factory):t instanceof Su?e.edit(t,this._factory):(kl.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},Ru.prototype.editGeometryCollection=function(t,e){for(var n=e.edit(t,this._factory),i=new nu,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===ku?this._factory.createMultiPoint(i.toArray([])):n.getClass()===wu?this._factory.createMultiLineString(i.toArray([])):n.getClass()===Fu?this._factory.createMultiPolygon(i.toArray([])):this._factory.createGeometryCollection(i.toArray([]))},Ru.prototype.editPolygon=function(t,e){var n=e.edit(t,this._factory);if(null===n&&(n=this._factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this._factory.createPolygon();for(var r=new nu,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this._factory.createPolygon(i,r.toArray([]))},Ru.prototype.interfaces_=function(){return[]},Ru.prototype.getClass=function(){return Ru},Ru.GeometryEditorOperation=function(){},Du.NoOpGeometryOperation.get=function(){return Pu},Du.CoordinateOperation.get=function(){return Uu},Du.CoordinateSequenceOperation.get=function(){return Qu},Object.defineProperties(Ru,Du);var Pu=function(){};Pu.prototype.edit=function(t,e){return t},Pu.prototype.interfaces_=function(){return[Ru.GeometryEditorOperation]},Pu.prototype.getClass=function(){return Pu};var Uu=function(){};Uu.prototype.edit=function(t,e){var n=this.editCoordinates(t.getCoordinates(),t);return null===n?t:t instanceof Lu?e.createLinearRing(n):t instanceof Su?e.createLineString(n):t instanceof Mu?n.length>0?e.createPoint(n[0]):e.createPoint():t},Uu.prototype.interfaces_=function(){return[Ru.GeometryEditorOperation]},Uu.prototype.getClass=function(){return Uu};var Qu=function(){};Qu.prototype.edit=function(t,e){return t instanceof Lu?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Su?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof Mu?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},Qu.prototype.interfaces_=function(){return[Ru.GeometryEditorOperation]},Qu.prototype.getClass=function(){return Qu};var Hu=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var t=arguments[0];this._coordinates=new Array(t).fill(null);for(var e=0;e<t;e++)this._coordinates[e]=new nl}else if(ll(arguments[0],vl)){var n=arguments[0];if(null===n)return this._coordinates=new Array(0).fill(null),null;this._dimension=n.getDimension(),this._coordinates=new Array(n.size()).fill(null);for(var i=0;i<this._coordinates.length;i++)this._coordinates[i]=n.getCoordinateCopy(i)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this._coordinates=r,this._dimension=o,null===r&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this._coordinates=new Array(s).fill(null),this._dimension=a;for(var l=0;l<s;l++)this._coordinates[l]=new nl}},ju={serialVersionUID:{configurable:!0}};Hu.prototype.setOrdinate=function(t,e,n){switch(e){case vl.X:this._coordinates[t].x=n;break;case vl.Y:this._coordinates[t].y=n;break;case vl.Z:this._coordinates[t].z=n;break;default:throw new Va("invalid ordinateIndex")}},Hu.prototype.size=function(){return this._coordinates.length},Hu.prototype.getOrdinate=function(t,e){switch(e){case vl.X:return this._coordinates[t].x;case vl.Y:return this._coordinates[t].y;case vl.Z:return this._coordinates[t].z}return Ja.NaN},Hu.prototype.getCoordinate=function(){if(1===arguments.length){var t=arguments[0];return this._coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this._coordinates[e].x,n.y=this._coordinates[e].y,n.z=this._coordinates[e].z}},Hu.prototype.getCoordinateCopy=function(t){return new nl(this._coordinates[t])},Hu.prototype.getDimension=function(){return this._dimension},Hu.prototype.getX=function(t){return this._coordinates[t].x},Hu.prototype.clone=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].clone();return new Hu(t,this._dimension)},Hu.prototype.expandEnvelope=function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t},Hu.prototype.copy=function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++)t[e]=this._coordinates[e].copy();return new Hu(t,this._dimension)},Hu.prototype.toString=function(){if(this._coordinates.length>0){var t=new hl(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"},Hu.prototype.getY=function(t){return this._coordinates[t].y},Hu.prototype.toCoordinateArray=function(){return this._coordinates},Hu.prototype.interfaces_=function(){return[vl,mr]},Hu.prototype.getClass=function(){return Hu},ju.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Hu,ju);var zu=function(){},Ku={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};zu.prototype.readResolve=function(){return zu.instance()},zu.prototype.create=function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Hu(t)}if(ll(arguments[0],vl)){var e=arguments[0];return new Hu(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return i>3&&(i=3),i<2?new Hu(n):new Hu(n,i)}},zu.prototype.interfaces_=function(){return[ol,mr]},zu.prototype.getClass=function(){return zu},zu.instance=function(){return zu.instanceObject},Ku.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},Ku.instanceObject.get=function(){return new zu},Object.defineProperties(zu,Ku);var Gu=function(t){function e(){t.call(this),this.map_=new Map}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){return this.map_.get(t)||null},e.prototype.put=function(t,e){return this.map_.set(t,e),e},e.prototype.values=function(){for(var t=new nu,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},e.prototype.entrySet=function(){var t=new hu;return this.map_.entries().forEach((function(e){return t.add(e)})),t},e.prototype.size=function(){return this.map_.size()},e}(uu),qu=function t(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=t.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof Yu){var e=arguments[0];this._modelType=e,e===t.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var n=arguments[0];this._modelType=t.FIXED,this.setScale(n)}else if(arguments[0]instanceof t){var i=arguments[0];this._modelType=i._modelType,this._scale=i._scale}},Wu={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};qu.prototype.equals=function(t){if(!(t instanceof qu))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale},qu.prototype.compareTo=function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new fl(n).compareTo(new fl(i))},qu.prototype.getScale=function(){return this._scale},qu.prototype.isFloating=function(){return this._modelType===qu.FLOATING||this._modelType===qu.FLOATING_SINGLE},qu.prototype.getType=function(){return this._modelType},qu.prototype.toString=function(){var t="UNKNOWN";return this._modelType===qu.FLOATING?t="Floating":this._modelType===qu.FLOATING_SINGLE?t="Floating-Single":this._modelType===qu.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},qu.prototype.makePrecise=function(){if("number"==typeof arguments[0]){var t=arguments[0];return Ja.isNaN(t)?t:this._modelType===qu.FLOATING_SINGLE?t:this._modelType===qu.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof nl){var e=arguments[0];if(this._modelType===qu.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}},qu.prototype.getMaximumSignificantDigits=function(){var t=16;return this._modelType===qu.FLOATING?t=16:this._modelType===qu.FLOATING_SINGLE?t=6:this._modelType===qu.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},qu.prototype.setScale=function(t){this._scale=Math.abs(t)},qu.prototype.interfaces_=function(){return[mr,$a]},qu.prototype.getClass=function(){return qu},qu.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},Wu.serialVersionUID.get=function(){return 0x6bee6404e9a25c00},Wu.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(qu,Wu);var Yu=function t(e){this._name=e||null,t.nameToTypeMap.put(e,this)},Xu={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Yu.prototype.readResolve=function(){return Yu.nameToTypeMap.get(this._name)},Yu.prototype.toString=function(){return this._name},Yu.prototype.interfaces_=function(){return[mr]},Yu.prototype.getClass=function(){return Yu},Xu.serialVersionUID.get=function(){return-552860263173159e4},Xu.nameToTypeMap.get=function(){return new Gu},Object.defineProperties(Yu,Xu),qu.Type=Yu,qu.FIXED=new Yu("FIXED"),qu.FLOATING=new Yu("FLOATING"),qu.FLOATING_SINGLE=new Yu("FLOATING SINGLE");var Vu=function t(){this._precisionModel=new qu,this._SRID=0,this._coordinateSequenceFactory=t.getDefaultCoordinateSequenceFactory(),0===arguments.length||(1===arguments.length?ll(arguments[0],ol)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof qu&&(this._precisionModel=arguments[0]):2===arguments.length?(this._precisionModel=arguments[0],this._SRID=arguments[1]):3===arguments.length&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Ju={serialVersionUID:{configurable:!0}};Vu.prototype.toGeometry=function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new nl(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new nl(t.getMinX(),t.getMinY()),new nl(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new nl(t.getMinX(),t.getMinY()),new nl(t.getMinX(),t.getMaxY()),new nl(t.getMaxX(),t.getMaxY()),new nl(t.getMaxX(),t.getMinY()),new nl(t.getMinX(),t.getMinY())]),null)},Vu.prototype.createLineString=function(t){return t?t instanceof Array?new Su(this.getCoordinateSequenceFactory().create(t),this):ll(t,vl)?new Su(t,this):void 0:new Su(this.getCoordinateSequenceFactory().create([]),this)},Vu.prototype.createMultiLineString=function(){if(0===arguments.length)return new wu(null,this);if(1===arguments.length){var t=arguments[0];return new wu(t,this)}},Vu.prototype.buildGeometry=function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(Vu.toGeometryArray(t));var a=t.iterator().next();if(t.size()>1){if(a instanceof Nu)return this.createMultiPolygon(Vu.toPolygonArray(t));if(a instanceof Su)return this.createMultiLineString(Vu.toLineStringArray(t));if(a instanceof Mu)return this.createMultiPoint(Vu.toPointArray(t));kl.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},Vu.prototype.createMultiPointFromCoords=function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},Vu.prototype.createPoint=function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof nl){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(ll(arguments[0],vl)){var e=arguments[0];return new Mu(e,this)}}},Vu.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Vu.prototype.createPolygon=function(){if(0===arguments.length)return new Nu(null,null,this);if(1===arguments.length){if(ll(arguments[0],vl)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Lu){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return new Nu(i,r,this)}},Vu.prototype.getSRID=function(){return this._SRID},Vu.prototype.createGeometryCollection=function(){if(0===arguments.length)return new bu(null,this);if(1===arguments.length){var t=arguments[0];return new bu(t,this)}},Vu.prototype.createGeometry=function(t){return new Ru(this).edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];return this._coordinateSequenceFactory.create(t)}}})},Vu.prototype.getPrecisionModel=function(){return this._precisionModel},Vu.prototype.createLinearRing=function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(ll(arguments[0],vl)){var e=arguments[0];return new Lu(e,this)}}},Vu.prototype.createMultiPolygon=function(){if(0===arguments.length)return new Fu(null,this);if(1===arguments.length){var t=arguments[0];return new Fu(t,this)}},Vu.prototype.createMultiPoint=function(){if(0===arguments.length)return new ku(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new ku(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(ll(arguments[0],vl)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),r=0;r<n.size();r++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());Iu.copy(n,r,o,0,1),i[r]=this.createPoint(o)}return this.createMultiPoint(i)}}},Vu.prototype.interfaces_=function(){return[mr]},Vu.prototype.getClass=function(){return Vu},Vu.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Vu.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},Vu.getDefaultCoordinateSequenceFactory=function(){return zu.instance()},Vu.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Vu.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Vu.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Vu.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Vu.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Vu.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},Vu.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},Ju.serialVersionUID.get=function(){return-0x5ea75f2051eeb400},Object.defineProperties(Vu,Ju);var Zu=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],$u=function(t){this.geometryFactory=t||new Vu};$u.prototype.read=function(t){var e,n=(e="string"==typeof t?JSON.parse(t):t).type;if(!tc[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==Zu.indexOf(n)?tc[n].apply(this,[e.coordinates]):"GeometryCollection"===n?tc[n].apply(this,[e.geometries]):tc[n].apply(this,[e])},$u.prototype.write=function(t){var e=t.getGeometryType();if(!ec[e])throw new Error("Geometry is not supported");return ec[e].apply(this,[t])};var tc={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!tc[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=tc.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(new nl(i[0],i[1]))}return e},bbox:function(t){return this.geometryFactory.createLinearRing([new nl(t[0],t[1]),new nl(t[2],t[1]),new nl(t[2],t[3]),new nl(t[0],t[3]),new nl(t[0],t[1])])},Point:function(t){var e=new nl(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(tc.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=tc.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(tc.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=tc.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=t[r],s=tc.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(tc.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},ec={coordinate:function(t){return[t.x,t.y]},Point:function(t){return{type:"Point",coordinates:ec.coordinate.apply(this,[t.getCoordinate()])}},MultiPoint:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=ec.Point.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(ec.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=ec.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=ec.LineString.apply(this,[t._shell]);e.push(n.coordinates);for(var i=0;i<t._holes.length;++i){var r=t._holes[i],o=ec.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=ec.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t._geometries.length;++n){var i=t._geometries[n],r=i.getGeometryType();e.push(ec[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}},nc=function(t){this.geometryFactory=t||new Vu,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new $u(this.geometryFactory)};nc.prototype.read=function(t){var e=this.parser.read(t);return this.precisionModel.getType()===qu.FIXED&&this.reducePrecision(e),e},nc.prototype.reducePrecision=function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;e<n;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;e<n;e++)this.reducePrecision(t.geometries[e])};var ic=function(){this.parser=new $u(this.geometryFactory)};ic.prototype.write=function(t){return this.parser.write(t)};var rc=function(){},oc={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};rc.prototype.interfaces_=function(){return[]},rc.prototype.getClass=function(){return rc},rc.opposite=function(t){return t===rc.LEFT?rc.RIGHT:t===rc.RIGHT?rc.LEFT:t},oc.ON.get=function(){return 0},oc.LEFT.get=function(){return 1},oc.RIGHT.get=function(){return 2},Object.defineProperties(rc,oc),(Mr.prototype=new Error).name="EmptyStackException",(Tr.prototype=new eu).add=function(t){return this.array_.push(t),!0},Tr.prototype.get=function(t){if(t<0||t>=this.size())throw new Error;return this.array_[t]},Tr.prototype.push=function(t){return this.array_.push(t),t},Tr.prototype.pop=function(t){if(0===this.array_.length)throw new Mr;return this.array_.pop()},Tr.prototype.peek=function(){if(0===this.array_.length)throw new Mr;return this.array_[this.array_.length-1]},Tr.prototype.empty=function(){return 0===this.array_.length},Tr.prototype.isEmpty=function(){return this.empty()},Tr.prototype.search=function(t){return this.array_.indexOf(t)},Tr.prototype.size=function(){return this.array_.length},Tr.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;e<n;e++)t.push(this.array_[e]);return t};var sc=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};sc.prototype.getCoordinate=function(){return this._minCoord},sc.prototype.getRightmostSide=function(t,e){var n=this.getRightmostSideOfSegment(t,e);return n<0&&(n=this.getRightmostSideOfSegment(t,e-1)),n<0&&(this._minCoord=null,this.checkForRightmostCoordinate(t)),n},sc.prototype.findRightmostEdgeAtVertex=function(){var t=this._minDe.getEdge().getCoordinates();kl.isTrue(this._minIndex>0&&this._minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this._minIndex-1],n=t[this._minIndex+1],i=Ul.computeOrientation(this._minCoord,n,e),r=!1;e.y<this._minCoord.y&&n.y<this._minCoord.y&&i===Ul.COUNTERCLOCKWISE?r=!0:e.y>this._minCoord.y&&n.y>this._minCoord.y&&i===Ul.CLOCKWISE&&(r=!0),r&&(this._minIndex=this._minIndex-1)},sc.prototype.getRightmostSideOfSegment=function(t,e){var n=t.getEdge().getCoordinates();if(e<0||e+1>=n.length)return-1;if(n[e].y===n[e+1].y)return-1;var i=rc.LEFT;return n[e].y<n[e+1].y&&(i=rc.RIGHT),i},sc.prototype.getEdge=function(){return this._orientedDe},sc.prototype.checkForRightmostCoordinate=function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this._minCoord||e[n].x>this._minCoord.x)&&(this._minDe=t,this._minIndex=n,this._minCoord=e[n])},sc.prototype.findRightmostEdgeAtNode=function(){var t=this._minDe.getNode().getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},sc.prototype.findEdge=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}kl.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===rc.LEFT&&(this._orientedDe=this._minDe.getSym())},sc.prototype.interfaces_=function(){return[]},sc.prototype.getClass=function(){return sc};var ac=function(t){function e(n,i){t.call(this,e.msgWithCoord(n,i)),this.pt=i?new nl(i):null,this.name="TopologyException"}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCoordinate=function(){return this.pt},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.msgWithCoord=function(t,e){return e?t:t+" [ "+e+" ]"},e}(Tl),lc=function(){this.array_=[]};lc.prototype.addLast=function(t){this.array_.push(t)},lc.prototype.removeFirst=function(){return this.array_.shift()},lc.prototype.isEmpty=function(){return 0===this.array_.length};var uc=function(){this._finder=null,this._dirEdgeList=new nu,this._nodes=new nu,this._rightMostCoord=null,this._env=null,this._finder=new sc};uc.prototype.clearVisitedEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();)t.next().setVisited(!1)},uc.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},uc.prototype.computeNodeDepth=function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new ac("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var r=t.getEdges().iterator();r.hasNext();){var o=r.next();o.setVisited(!0),this.copySymDepths(o)}},uc.prototype.computeDepth=function(t){this.clearVisitedEdges();var e=this._finder.getEdge();e.setEdgeDepths(rc.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},uc.prototype.create=function(t){this.addReachable(t),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},uc.prototype.findResultEdges=function(){for(var t=this._dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(rc.RIGHT)>=1&&e.getDepth(rc.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},uc.prototype.computeDepths=function(t){var e=new hu,n=new lc,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next().getSym();if(!s.isVisited()){var a=s.getNode();e.contains(a)||(n.addLast(a),e.add(a))}}}},uc.prototype.compareTo=function(t){var e=t;return this._rightMostCoord.x<e._rightMostCoord.x?-1:this._rightMostCoord.x>e._rightMostCoord.x?1:0},uc.prototype.getEnvelope=function(){if(null===this._env){for(var t=new xl,e=this._dirEdgeList.iterator();e.hasNext();)for(var n=e.next().getEdge().getCoordinates(),i=0;i<n.length-1;i++)t.expandToInclude(n[i]);this._env=t}return this._env},uc.prototype.addReachable=function(t){var e=new Tr;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},uc.prototype.copySymDepths=function(t){var e=t.getSym();e.setDepth(rc.LEFT,t.getDepth(rc.RIGHT)),e.setDepth(rc.RIGHT,t.getDepth(rc.LEFT))},uc.prototype.add=function(t,e){t.setVisited(!0),this._nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this._dirEdgeList.add(i);var r=i.getSym().getNode();r.isVisited()||e.push(r)}},uc.prototype.getNodes=function(){return this._nodes},uc.prototype.getDirectedEdges=function(){return this._dirEdgeList},uc.prototype.interfaces_=function(){return[$a]},uc.prototype.getClass=function(){return uc};var cc=function t(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var e=arguments[0];this.init(e.length)}else if(Number.isInteger(arguments[0])){var n=arguments[0];this.init(1),this.location[rc.ON]=n}else if(arguments[0]instanceof t){var i=arguments[0];if(this.init(i.location.length),null!==i)for(var r=0;r<this.location.length;r++)this.location[r]=i.location[r]}}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.init(3),this.location[rc.ON]=o,this.location[rc.LEFT]=s,this.location[rc.RIGHT]=a}};cc.prototype.setAllLocations=function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},cc.prototype.isNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==sl.NONE)return!1;return!0},cc.prototype.setAllLocationsIfNull=function(t){for(var e=0;e<this.location.length;e++)this.location[e]===sl.NONE&&(this.location[e]=t)},cc.prototype.isLine=function(){return 1===this.location.length},cc.prototype.merge=function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[rc.ON]=this.location[rc.ON],e[rc.LEFT]=sl.NONE,e[rc.RIGHT]=sl.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===sl.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},cc.prototype.getLocations=function(){return this.location},cc.prototype.flip=function(){if(this.location.length<=1)return null;var t=this.location[rc.LEFT];this.location[rc.LEFT]=this.location[rc.RIGHT],this.location[rc.RIGHT]=t},cc.prototype.toString=function(){var t=new hl;return this.location.length>1&&t.append(sl.toLocationSymbol(this.location[rc.LEFT])),t.append(sl.toLocationSymbol(this.location[rc.ON])),this.location.length>1&&t.append(sl.toLocationSymbol(this.location[rc.RIGHT])),t.toString()},cc.prototype.setLocations=function(t,e,n){this.location[rc.ON]=t,this.location[rc.LEFT]=e,this.location[rc.RIGHT]=n},cc.prototype.get=function(t){return t<this.location.length?this.location[t]:sl.NONE},cc.prototype.isArea=function(){return this.location.length>1},cc.prototype.isAnyNull=function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===sl.NONE)return!0;return!1},cc.prototype.setLocation=function(){if(1===arguments.length){var t=arguments[0];this.setLocation(rc.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},cc.prototype.init=function(t){this.location=new Array(t).fill(null),this.setAllLocations(sl.NONE)},cc.prototype.isEqualOnSide=function(t,e){return this.location[e]===t.location[e]},cc.prototype.allPositionsEqual=function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},cc.prototype.interfaces_=function(){return[]},cc.prototype.getClass=function(){return cc};var hc=function t(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var e=arguments[0];this.elt[0]=new cc(e),this.elt[1]=new cc(e)}else if(arguments[0]instanceof t){var n=arguments[0];this.elt[0]=new cc(n.elt[0]),this.elt[1]=new cc(n.elt[1])}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.elt[0]=new cc(sl.NONE),this.elt[1]=new cc(sl.NONE),this.elt[i].setLocation(r)}else if(3===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2];this.elt[0]=new cc(o,s,a),this.elt[1]=new cc(o,s,a)}else if(4===arguments.length){var l=arguments[0],u=arguments[1],c=arguments[2],h=arguments[3];this.elt[0]=new cc(sl.NONE,sl.NONE,sl.NONE),this.elt[1]=new cc(sl.NONE,sl.NONE,sl.NONE),this.elt[l].setLocations(u,c,h)}};hc.prototype.getGeometryCount=function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},hc.prototype.setAllLocations=function(t,e){this.elt[t].setAllLocations(e)},hc.prototype.isNull=function(t){return this.elt[t].isNull()},hc.prototype.setAllLocationsIfNull=function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},hc.prototype.isLine=function(t){return this.elt[t].isLine()},hc.prototype.merge=function(t){for(var e=0;e<2;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new cc(t.elt[e]):this.elt[e].merge(t.elt[e])},hc.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},hc.prototype.getLocation=function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(rc.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},hc.prototype.toString=function(){var t=new hl;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},hc.prototype.isArea=function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},hc.prototype.isAnyNull=function(t){return this.elt[t].isAnyNull()},hc.prototype.setLocation=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(rc.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}},hc.prototype.isEqualOnSide=function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},hc.prototype.allPositionsEqual=function(t,e){return this.elt[t].allPositionsEqual(e)},hc.prototype.toLine=function(t){this.elt[t].isArea()&&(this.elt[t]=new cc(this.elt[t].location[0]))},hc.prototype.interfaces_=function(){return[]},hc.prototype.getClass=function(){return hc},hc.toLineLabel=function(t){for(var e=new hc(sl.NONE),n=0;n<2;n++)e.setLocation(n,t.getLocation(n));return e};var fc=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new nu,this._pts=new nu,this._label=new hc(sl.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new nu,this._geometryFactory=null;var t=arguments[0],e=arguments[1];this._geometryFactory=e,this.computePoints(t),this.computeRing()};fc.prototype.computeRing=function(){if(null!==this._ring)return null;for(var t=new Array(this._pts.size()).fill(null),e=0;e<this._pts.size();e++)t[e]=this._pts.get(e);this._ring=this._geometryFactory.createLinearRing(t),this._isHole=Ul.isCCW(this._ring.getCoordinates())},fc.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},fc.prototype.computePoints=function(t){this._startDe=t;var e=t,n=!0;do{if(null===e)throw new ac("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new ac("Directed Edge visited twice during ring-building at "+e.getCoordinate());this._edges.add(e);var i=e.getLabel();kl.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this._startDe)},fc.prototype.getLinearRing=function(){return this._ring},fc.prototype.getCoordinate=function(t){return this._pts.get(t)},fc.prototype.computeMaxNodeDegree=function(){this._maxNodeDegree=0;var t=this._startDe;do{var e=t.getNode().getEdges().getOutgoingDegree(this);e>this._maxNodeDegree&&(this._maxNodeDegree=e),t=this.getNext(t)}while(t!==this._startDe);this._maxNodeDegree*=2},fc.prototype.addPoints=function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this._pts.add(i[o])}else{var s=i.length-2;n&&(s=i.length-1);for(var a=s;a>=0;a--)this._pts.add(i[a])}},fc.prototype.isHole=function(){return this._isHole},fc.prototype.setInResult=function(){var t=this._startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this._startDe)},fc.prototype.containsPoint=function(t){var e=this.getLinearRing();if(!e.getEnvelopeInternal().contains(t))return!1;if(!Ul.isPointInRing(t,e.getCoordinates()))return!1;for(var n=this._holes.iterator();n.hasNext();)if(n.next().containsPoint(t))return!1;return!0},fc.prototype.addHole=function(t){this._holes.add(t)},fc.prototype.isShell=function(){return null===this._shell},fc.prototype.getLabel=function(){return this._label},fc.prototype.getEdges=function(){return this._edges},fc.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},fc.prototype.getShell=function(){return this._shell},fc.prototype.mergeLabel=function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e.getLocation(n,rc.RIGHT);if(i===sl.NONE)return null;if(this._label.getLocation(n)===sl.NONE)return this._label.setLocation(n,i),null}},fc.prototype.setShell=function(t){this._shell=t,null!==t&&t.addHole(this)},fc.prototype.toPolygon=function(t){for(var e=new Array(this._holes.size()).fill(null),n=0;n<this._holes.size();n++)e[n]=this._holes.get(n).getLinearRing();return t.createPolygon(this.getLinearRing(),e)},fc.prototype.interfaces_=function(){return[]},fc.prototype.getClass=function(){return fc};var pc=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setEdgeRing=function(t,e){t.setMinEdgeRing(e)},e.prototype.getNext=function(t){return t.getNextMin()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fc),dc=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildMinimalRings=function(){var t=new nu,e=this._startDe;do{if(null===e.getMinEdgeRing()){var n=new pc(e,this._geometryFactory);t.add(n)}e=e.getNext()}while(e!==this._startDe);return t},e.prototype.setEdgeRing=function(t,e){t.setEdgeRing(e)},e.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var t=this._startDe;do{t.getNode().getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this._startDe)},e.prototype.getNext=function(t){return t.getNext()},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(fc),Ac=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._label=t}};Ac.prototype.setVisited=function(t){this._isVisited=t},Ac.prototype.setInResult=function(t){this._isInResult=t},Ac.prototype.isCovered=function(){return this._isCovered},Ac.prototype.isCoveredSet=function(){return this._isCoveredSet},Ac.prototype.setLabel=function(t){this._label=t},Ac.prototype.getLabel=function(){return this._label},Ac.prototype.setCovered=function(t){this._isCovered=t,this._isCoveredSet=!0},Ac.prototype.updateIM=function(t){kl.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},Ac.prototype.isInResult=function(){return this._isInResult},Ac.prototype.isVisited=function(){return this._isVisited},Ac.prototype.interfaces_=function(){return[]},Ac.prototype.getClass=function(){return Ac};var gc=function(t){function e(){t.call(this),this._coord=null,this._edges=null;var e=arguments[0],n=arguments[1];this._coord=e,this._edges=n,this._label=new hc(0,sl.NONE)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isIncidentEdgeInResult=function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();)if(t.next().getEdge().isInResult())return!0;return!1},e.prototype.isIsolated=function(){return 1===this._label.getGeometryCount()},e.prototype.getCoordinate=function(){return this._coord},e.prototype.print=function(t){t.println("node "+this._coord+" lbl: "+this._label)},e.prototype.computeIM=function(t){},e.prototype.computeMergedLocation=function(t,e){var n=sl.NONE;if(n=this._label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==sl.BOUNDARY&&(n=i)}return n},e.prototype.setLabel=function(){if(2!==arguments.length)return t.prototype.setLabel.apply(this,arguments);var e=arguments[0],n=arguments[1];null===this._label?this._label=new hc(e,n):this._label.setLocation(e,n)},e.prototype.getEdges=function(){return this._edges},e.prototype.mergeLabel=function(){if(arguments[0]instanceof e){var t=arguments[0];this.mergeLabel(t._label)}else if(arguments[0]instanceof hc)for(var n=arguments[0],i=0;i<2;i++){var r=this.computeMergedLocation(n,i);this._label.getLocation(i)===sl.NONE&&this._label.setLocation(i,r)}},e.prototype.add=function(t){this._edges.insert(t),t.setNode(this)},e.prototype.setLabelBoundary=function(t){if(null===this._label)return null;var e=sl.NONE;null!==this._label&&(e=this._label.getLocation(t));var n=null;switch(e){case sl.BOUNDARY:n=sl.INTERIOR;break;case sl.INTERIOR:default:n=sl.BOUNDARY}this._label.setLocation(t,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Ac),mc=function(){this.nodeMap=new Br,this.nodeFact=null;var t=arguments[0];this.nodeFact=t};mc.prototype.find=function(t){return this.nodeMap.get(t)},mc.prototype.addNode=function(){if(arguments[0]instanceof nl){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof gc){var n=arguments[0],i=this.nodeMap.get(n.getCoordinate());return null===i?(this.nodeMap.put(n.getCoordinate(),n),n):(i.mergeLabel(n),i)}},mc.prototype.print=function(t){for(var e=this.iterator();e.hasNext();)e.next().print(t)},mc.prototype.iterator=function(){return this.nodeMap.values().iterator()},mc.prototype.values=function(){return this.nodeMap.values()},mc.prototype.getBoundaryNodes=function(t){for(var e=new nu,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===sl.BOUNDARY&&e.add(i)}return e},mc.prototype.add=function(t){var e=t.getCoordinate();this.addNode(e).add(t)},mc.prototype.interfaces_=function(){return[]},mc.prototype.getClass=function(){return mc};var vc=function(){},yc={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};vc.prototype.interfaces_=function(){return[]},vc.prototype.getClass=function(){return vc},vc.isNorthern=function(t){return t===vc.NE||t===vc.NW},vc.isOpposite=function(t,e){return t!==e&&2==(t-e+4)%4},vc.commonHalfPlane=function(t,e){if(t===e)return t;if(2==(t-e+4)%4)return-1;var n=t<e?t:e;return 0===n&&3===(t>e?t:e)?3:n},vc.isInHalfPlane=function(t,e){return e===vc.SE?t===vc.SE||t===vc.SW:t===e||t===e+1},vc.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Va("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?vc.NE:vc.SE:e>=0?vc.NW:vc.SW}if(arguments[0]instanceof nl&&arguments[1]instanceof nl){var n=arguments[0],i=arguments[1];if(i.x===n.x&&i.y===n.y)throw new Va("Cannot compute the quadrant for two identical points "+n);return i.x>=n.x?i.y>=n.y?vc.NE:vc.SE:i.y>=n.y?vc.NW:vc.SW}},yc.NE.get=function(){return 0},yc.NW.get=function(){return 1},yc.SW.get=function(){return 2},yc.SE.get=function(){return 3},Object.defineProperties(vc,yc);var _c=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){var t=arguments[0];this._edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];this._edge=e,this.init(n,i),this._label=null}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this._edge=r,this.init(o,s),this._label=a}};_c.prototype.compareDirection=function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Ul.computeOrientation(t._p0,t._p1,this._p1)},_c.prototype.getDy=function(){return this._dy},_c.prototype.getCoordinate=function(){return this._p0},_c.prototype.setNode=function(t){this._node=t},_c.prototype.print=function(t){var e=Math.atan2(this._dy,this._dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)},_c.prototype.compareTo=function(t){var e=t;return this.compareDirection(e)},_c.prototype.getDirectedCoordinate=function(){return this._p1},_c.prototype.getDx=function(){return this._dx},_c.prototype.getLabel=function(){return this._label},_c.prototype.getEdge=function(){return this._edge},_c.prototype.getQuadrant=function(){return this._quadrant},_c.prototype.getNode=function(){return this._node},_c.prototype.toString=function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),n=e.lastIndexOf(".");return"  "+e.substring(n+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label},_c.prototype.computeLabel=function(t){},_c.prototype.init=function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=vc.quadrant(this._dx,this._dy),kl.isTrue(!(0===this._dx&&0===this._dy),"EdgeEnd with identical endpoints found")},_c.prototype.interfaces_=function(){return[$a]},_c.prototype.getClass=function(){return _c};var bc=function(t){function e(){var e=arguments[0],n=arguments[1];if(t.call(this,e),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=n,n)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var i=e.getNumPoints()-1;this.init(e.getCoordinate(i),e.getCoordinate(i-1))}this.computeDirectedLabel()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getNextMin=function(){return this._nextMin},e.prototype.getDepth=function(t){return this._depth[t]},e.prototype.setVisited=function(t){this._isVisited=t},e.prototype.computeDirectedLabel=function(){this._label=new hc(this._edge.getLabel()),this._isForward||this._label.flip()},e.prototype.getNext=function(){return this._next},e.prototype.setDepth=function(t,e){if(-999!==this._depth[t]&&this._depth[t]!==e)throw new ac("assigned depths do not match",this.getCoordinate());this._depth[t]=e},e.prototype.isInteriorAreaEdge=function(){for(var t=!0,e=0;e<2;e++)this._label.isArea(e)&&this._label.getLocation(e,rc.LEFT)===sl.INTERIOR&&this._label.getLocation(e,rc.RIGHT)===sl.INTERIOR||(t=!1);return t},e.prototype.setNextMin=function(t){this._nextMin=t},e.prototype.print=function(e){t.prototype.print.call(this,e),e.print(" "+this._depth[rc.LEFT]+"/"+this._depth[rc.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")},e.prototype.setMinEdgeRing=function(t){this._minEdgeRing=t},e.prototype.isLineEdge=function(){var t=this._label.isLine(0)||this._label.isLine(1),e=!this._label.isArea(0)||this._label.allPositionsEqual(0,sl.EXTERIOR),n=!this._label.isArea(1)||this._label.allPositionsEqual(1,sl.EXTERIOR);return t&&e&&n},e.prototype.setEdgeRing=function(t){this._edgeRing=t},e.prototype.getMinEdgeRing=function(){return this._minEdgeRing},e.prototype.getDepthDelta=function(){var t=this._edge.getDepthDelta();return this._isForward||(t=-t),t},e.prototype.setInResult=function(t){this._isInResult=t},e.prototype.getSym=function(){return this._sym},e.prototype.isForward=function(){return this._isForward},e.prototype.getEdge=function(){return this._edge},e.prototype.printEdge=function(t){this.print(t),t.print(" "),this._isForward?this._edge.print(t):this._edge.printReverse(t)},e.prototype.setSym=function(t){this._sym=t},e.prototype.setVisitedEdge=function(t){this.setVisited(t),this._sym.setVisited(t)},e.prototype.setEdgeDepths=function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===rc.LEFT&&(i=-1);var r=rc.opposite(t),o=e+n*i;this.setDepth(t,e),this.setDepth(r,o)},e.prototype.getEdgeRing=function(){return this._edgeRing},e.prototype.isInResult=function(){return this._isInResult},e.prototype.setNext=function(t){this._next=t},e.prototype.isVisited=function(){return this._isVisited},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.depthFactor=function(t,e){return t===sl.EXTERIOR&&e===sl.INTERIOR?1:t===sl.INTERIOR&&e===sl.EXTERIOR?-1:0},e}(_c),wc=function(){};wc.prototype.createNode=function(t){return new gc(t,null)},wc.prototype.interfaces_=function(){return[]},wc.prototype.getClass=function(){return wc};var Ec=function(){if(this._edges=new nu,this._nodes=null,this._edgeEndList=new nu,0===arguments.length)this._nodes=new mc(new wc);else if(1===arguments.length){var t=arguments[0];this._nodes=new mc(t)}};Ec.prototype.printEdges=function(t){t.println("Edges:");for(var e=0;e<this._edges.size();e++){t.println("edge "+e+":");var n=this._edges.get(e);n.print(t),n.eiList.print(t)}},Ec.prototype.find=function(t){return this._nodes.find(t)},Ec.prototype.addNode=function(){if(arguments[0]instanceof gc){var t=arguments[0];return this._nodes.addNode(t)}if(arguments[0]instanceof nl){var e=arguments[0];return this._nodes.addNode(e)}},Ec.prototype.getNodeIterator=function(){return this._nodes.iterator()},Ec.prototype.linkResultDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()},Ec.prototype.debugPrintln=function(t){wl.out.println(t)},Ec.prototype.isBoundaryNode=function(t,e){var n=this._nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===sl.BOUNDARY},Ec.prototype.linkAllDirectedEdges=function(){for(var t=this._nodes.iterator();t.hasNext();)t.next().getEdges().linkAllDirectedEdges()},Ec.prototype.matchInSameDirection=function(t,e,n,i){return!!t.equals(n)&&Ul.computeOrientation(t,e,i)===Ul.COLLINEAR&&vc.quadrant(t,e)===vc.quadrant(n,i)},Ec.prototype.getEdgeEnds=function(){return this._edgeEndList},Ec.prototype.debugPrint=function(t){wl.out.print(t)},Ec.prototype.getEdgeIterator=function(){return this._edges.iterator()},Ec.prototype.findEdgeInSameDirection=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},Ec.prototype.insertEdge=function(t){this._edges.add(t)},Ec.prototype.findEdgeEnd=function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},Ec.prototype.addEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this._edges.add(n);var i=new bc(n,!0),r=new bc(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},Ec.prototype.add=function(t){this._nodes.add(t),this._edgeEndList.add(t)},Ec.prototype.getNodes=function(){return this._nodes.values()},Ec.prototype.findEdge=function(t,e){for(var n=0;n<this._edges.size();n++){var i=this._edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},Ec.prototype.interfaces_=function(){return[]},Ec.prototype.getClass=function(){return Ec},Ec.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();)e.next().getEdges().linkResultDirectedEdges()};var xc=function(){this._geometryFactory=null,this._shellList=new nu;var t=arguments[0];this._geometryFactory=t};xc.prototype.sortShellsAndHoles=function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},xc.prototype.computePolygons=function(t){for(var e=new nu,n=t.iterator();n.hasNext();){var i=n.next().toPolygon(this._geometryFactory);e.add(i)}return e},xc.prototype.placeFreeHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new ac("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},xc.prototype.buildMinimalEdgeRings=function(t,e,n){for(var i=new nu,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else i.add(o)}return i},xc.prototype.containsPoint=function(t){for(var e=this._shellList.iterator();e.hasNext();)if(e.next().containsPoint(t))return!0;return!1},xc.prototype.buildMaximalEdgeRings=function(t){for(var e=new nu,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new dc(i,this._geometryFactory);e.add(r),r.setInResult()}}return e},xc.prototype.placePolygonHoles=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},xc.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},xc.prototype.findEdgeRingContaining=function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var l=a.next(),u=l.getLinearRing(),c=u.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(i)&&Ul.isPointInRing(r,u.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(o=l)}return o},xc.prototype.findShell=function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return kl.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),n},xc.prototype.add=function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];Ec.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new nu,o=this.buildMinimalEdgeRings(i,this._shellList,r);this.sortShellsAndHoles(o,this._shellList,r),this.placeFreeHoles(this._shellList,r)}},xc.prototype.interfaces_=function(){return[]},xc.prototype.getClass=function(){return xc};var Cc=function(){};Cc.prototype.getBounds=function(){},Cc.prototype.interfaces_=function(){return[]},Cc.prototype.getClass=function(){return Cc};var Bc=function(){this._bounds=null,this._item=null;var t=arguments[0],e=arguments[1];this._bounds=t,this._item=e};Bc.prototype.getItem=function(){return this._item},Bc.prototype.getBounds=function(){return this._bounds},Bc.prototype.interfaces_=function(){return[Cc,mr]},Bc.prototype.getClass=function(){return Bc};var Ic=function(){this._size=null,this._items=null,this._size=0,this._items=new nu,this._items.add(null)};Ic.prototype.poll=function(){if(this.isEmpty())return null;var t=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),t},Ic.prototype.size=function(){return this._size},Ic.prototype.reorder=function(t){for(var e=null,n=this._items.get(t);2*t<=this._size&&((e=2*t)!==this._size&&this._items.get(e+1).compareTo(this._items.get(e))<0&&e++,this._items.get(e).compareTo(n)<0);t=e)this._items.set(t,this._items.get(e));this._items.set(t,n)},Ic.prototype.clear=function(){this._size=0,this._items.clear()},Ic.prototype.isEmpty=function(){return 0===this._size},Ic.prototype.add=function(t){this._items.add(null),this._size+=1;var e=this._size;for(this._items.set(0,t);t.compareTo(this._items.get(Math.trunc(e/2)))<0;e/=2)this._items.set(e,this._items.get(Math.trunc(e/2)));this._items.set(e,t)},Ic.prototype.interfaces_=function(){return[]},Ic.prototype.getClass=function(){return Ic};var Sc=function(){};Sc.prototype.visitItem=function(t){},Sc.prototype.interfaces_=function(){return[]},Sc.prototype.getClass=function(){return Sc};var Oc=function(){};Oc.prototype.insert=function(t,e){},Oc.prototype.remove=function(t,e){},Oc.prototype.query=function(){},Oc.prototype.interfaces_=function(){return[]},Oc.prototype.getClass=function(){return Oc};var Mc=function(){if(this._childBoundables=new nu,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this._level=t}},Tc={serialVersionUID:{configurable:!0}};Mc.prototype.getLevel=function(){return this._level},Mc.prototype.size=function(){return this._childBoundables.size()},Mc.prototype.getChildBoundables=function(){return this._childBoundables},Mc.prototype.addChildBoundable=function(t){kl.isTrue(null===this._bounds),this._childBoundables.add(t)},Mc.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Mc.prototype.getBounds=function(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds},Mc.prototype.interfaces_=function(){return[Cc,mr]},Mc.prototype.getClass=function(){return Mc},Tc.serialVersionUID.get=function(){return 0x5a1e55ec41369800},Object.defineProperties(Mc,Tc);var Nc=function(){};Nc.reverseOrder=function(){return{compare:function(t,e){return e.compareTo(t)}}},Nc.min=function(t){return Nc.sort(t),t.get(0)},Nc.sort=function(t,e){var n=t.toArray();e?gu.sort(n,e):gu.sort(n);for(var i=t.iterator(),r=0,o=n.length;r<o;r++)i.next(),i.set(n[r])},Nc.singletonList=function(t){var e=new nu;return e.add(t),e};var kc=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=n,this._distance=this.distance()};kc.prototype.expandToQueue=function(t,e){var n=kc.isComposite(this._boundable1),i=kc.isComposite(this._boundable2);if(n&&i)return kc.area(this._boundable1)>kc.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,t,e),null):(this.expand(this._boundable2,this._boundable1,t,e),null);if(n)return this.expand(this._boundable1,this._boundable2,t,e),null;if(i)return this.expand(this._boundable2,this._boundable1,t,e),null;throw new Va("neither boundable is composite")},kc.prototype.isLeaves=function(){return!(kc.isComposite(this._boundable1)||kc.isComposite(this._boundable2))},kc.prototype.compareTo=function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},kc.prototype.expand=function(t,e,n,i){for(var r=t.getChildBoundables().iterator();r.hasNext();){var o=r.next(),s=new kc(o,e,this._itemDistance);s.getDistance()<i&&n.add(s)}},kc.prototype.getBoundable=function(t){return 0===t?this._boundable1:this._boundable2},kc.prototype.getDistance=function(){return this._distance},kc.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},kc.prototype.interfaces_=function(){return[$a]},kc.prototype.getClass=function(){return kc},kc.area=function(t){return t.getBounds().getArea()},kc.isComposite=function(t){return t instanceof Mc};var Lc=function t(){if(this._root=null,this._built=!1,this._itemBoundables=new nu,this._nodeCapacity=null,0===arguments.length){var e=t.DEFAULT_NODE_CAPACITY;this._nodeCapacity=e}else if(1===arguments.length){var n=arguments[0];kl.isTrue(n>1,"Node capacity must be greater than 1"),this._nodeCapacity=n}},Fc={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};Lc.prototype.getNodeCapacity=function(){return this._nodeCapacity},Lc.prototype.lastNode=function(t){return t.get(t.size()-1)},Lc.prototype.size=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();n instanceof Mc?t+=this.size(n):n instanceof Bc&&(t+=1)}return t}},Lc.prototype.removeItem=function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof Bc&&r.getItem()===e&&(n=r)}return null!==n&&(t.getChildBoundables().remove(n),!0)},Lc.prototype.itemsTree=function(){if(0===arguments.length){this.build();var t=this.itemsTree(this._root);return null===t?new nu:t}if(1===arguments.length){for(var e=arguments[0],n=new nu,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof Mc){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof Bc?n.add(r.getItem()):kl.shouldNeverReachHere()}return n.size()<=0?null:n}},Lc.prototype.insert=function(t,e){kl.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Bc(t,e))},Lc.prototype.boundablesAtLevel=function(){if(1===arguments.length){var t=arguments[0],e=new nu;return this.boundablesAtLevel(t,this._root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(kl.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof Mc?this.boundablesAtLevel(n,s,r):(kl.isTrue(s instanceof Bc),-1===n&&r.add(s))}return null}},Lc.prototype.query=function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new nu;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.query(t,this._root,e),e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),n)&&this.query(n,this._root,i)}else if(3===arguments.length)if(ll(arguments[2],Sc)&&arguments[0]instanceof Object&&arguments[1]instanceof Mc)for(var r=arguments[0],o=arguments[1],s=arguments[2],a=o.getChildBoundables(),l=0;l<a.size();l++){var u=a.get(l);this.getIntersectsOp().intersects(u.getBounds(),r)&&(u instanceof Mc?this.query(r,u,s):u instanceof Bc?s.visitItem(u.getItem()):kl.shouldNeverReachHere())}else if(ll(arguments[2],eu)&&arguments[0]instanceof Object&&arguments[1]instanceof Mc)for(var c=arguments[0],h=arguments[1],f=arguments[2],p=h.getChildBoundables(),d=0;d<p.size();d++){var A=p.get(d);this.getIntersectsOp().intersects(A.getBounds(),c)&&(A instanceof Mc?this.query(c,A,f):A instanceof Bc?f.add(A.getItem()):kl.shouldNeverReachHere())}},Lc.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},Lc.prototype.getRoot=function(){return this.build(),this._root},Lc.prototype.remove=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var l=a.next();if(this.getIntersectsOp().intersects(l.getBounds(),n)&&l instanceof Mc&&(o=this.remove(n,l,r))){s=l;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}},Lc.prototype.createHigherLevels=function(t,e){kl.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},Lc.prototype.depth=function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var n=e.next();if(n instanceof Mc){var i=this.depth(n);i>t&&(t=i)}}return t+1}},Lc.prototype.createParentBoundables=function(t,e){kl.isTrue(!t.isEmpty());var n=new nu;n.add(this.createNode(e));var i=new nu(t);Nc.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},Lc.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},Lc.prototype.interfaces_=function(){return[mr]},Lc.prototype.getClass=function(){return Lc},Lc.compareDoubles=function(t,e){return t>e?1:t<e?-1:0},Fc.IntersectsOp.get=function(){return Rc},Fc.serialVersionUID.get=function(){return-0x35ef64c82d4c5400},Fc.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(Lc,Fc);var Rc=function(){},Dc=function(){};Dc.prototype.distance=function(t,e){},Dc.prototype.interfaces_=function(){return[]},Dc.prototype.getClass=function(){return Dc};var Pc=function(t){function e(n){n=n||e.DEFAULT_NODE_CAPACITY,t.call(this,n)}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return e.prototype.createParentBoundablesFromVerticalSlices=function(t,e){kl.isTrue(t.length>0);for(var n=new nu,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},e.prototype.createNode=function(t){return new Uc(t)},e.prototype.size=function(){return 0===arguments.length?t.prototype.size.call(this):t.prototype.size.apply(this,arguments)},e.prototype.insert=function(){if(2!==arguments.length)return t.prototype.insert.apply(this,arguments);var e=arguments[0],n=arguments[1];if(e.isNull())return null;t.prototype.insert.call(this,e,n)},e.prototype.getIntersectsOp=function(){return e.intersectsOp},e.prototype.verticalSlices=function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;o<e;o++){i[o]=new nu;for(var s=0;r.hasNext()&&s<n;){var a=r.next();i[o].add(a),s++}}return i},e.prototype.query=function(){if(1===arguments.length){var e=arguments[0];return t.prototype.query.call(this,e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];t.prototype.query.call(this,n,i)}else if(3===arguments.length)if(ll(arguments[2],Sc)&&arguments[0]instanceof Object&&arguments[1]instanceof Mc){var r=arguments[0],o=arguments[1],s=arguments[2];t.prototype.query.call(this,r,o,s)}else if(ll(arguments[2],eu)&&arguments[0]instanceof Object&&arguments[1]instanceof Mc){var a=arguments[0],l=arguments[1],u=arguments[2];t.prototype.query.call(this,a,l,u)}},e.prototype.getComparator=function(){return e.yComparator},e.prototype.createParentBoundablesFromVerticalSlice=function(e,n){return t.prototype.createParentBoundables.call(this,e,n)},e.prototype.remove=function(){if(2===arguments.length){var e=arguments[0],n=arguments[1];return t.prototype.remove.call(this,e,n)}return t.prototype.remove.apply(this,arguments)},e.prototype.depth=function(){return 0===arguments.length?t.prototype.depth.call(this):t.prototype.depth.apply(this,arguments)},e.prototype.createParentBoundables=function(t,n){kl.isTrue(!t.isEmpty());var i=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),r=new nu(t);Nc.sort(r,e.xComparator);var o=this.verticalSlices(r,Math.trunc(Math.ceil(Math.sqrt(i))));return this.createParentBoundablesFromVerticalSlices(o,n)},e.prototype.nearestNeighbour=function(){if(1===arguments.length){if(ll(arguments[0],Dc)){var t=arguments[0],n=new kc(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(n)}if(arguments[0]instanceof kc){var i=arguments[0];return this.nearestNeighbour(i,Ja.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof e&&ll(arguments[1],Dc)){var r=arguments[0],o=arguments[1],s=new kc(this.getRoot(),r.getRoot(),o);return this.nearestNeighbour(s)}if(arguments[0]instanceof kc&&"number"==typeof arguments[1]){var a=arguments[0],l=arguments[1],u=null,c=new Ic;for(c.add(a);!c.isEmpty()&&l>0;){var h=c.poll(),f=h.getDistance();if(f>=l)break;h.isLeaves()?(l=f,u=h):h.expandToQueue(c,l)}return[u.getBoundable(0).getItem(),u.getBoundable(1).getItem()]}}else if(3===arguments.length){var p=arguments[0],d=arguments[1],A=arguments[2],g=new Bc(p,d),m=new kc(this.getRoot(),g,A);return this.nearestNeighbour(m)[0]}},e.prototype.interfaces_=function(){return[Oc,mr]},e.prototype.getClass=function(){return e},e.centreX=function(t){return e.avg(t.getMinX(),t.getMaxX())},e.avg=function(t,e){return(t+e)/2},e.centreY=function(t){return e.avg(t.getMinY(),t.getMaxY())},n.STRtreeNode.get=function(){return Uc},n.serialVersionUID.get=function(){return 0x39920f7d5f261e0},n.xComparator.get=function(){return{interfaces_:function(){return[el]},compare:function(n,i){return t.compareDoubles(e.centreX(n.getBounds()),e.centreX(i.getBounds()))}}},n.yComparator.get=function(){return{interfaces_:function(){return[el]},compare:function(n,i){return t.compareDoubles(e.centreY(n.getBounds()),e.centreY(i.getBounds()))}}},n.intersectsOp.get=function(){return{interfaces_:function(){return[t.IntersectsOp]},intersects:function(t,e){return t.intersects(e)}}},n.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(e,n),e}(Lc),Uc=function(t){function e(){var e=arguments[0];t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeBounds=function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new xl(n.getBounds()):t.expandToInclude(n.getBounds())}return t},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Mc),Qc=function(){};Qc.prototype.interfaces_=function(){return[]},Qc.prototype.getClass=function(){return Qc},Qc.relativeSign=function(t,e){return t<e?-1:t>e?1:0},Qc.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=Qc.relativeSign(e.x,n.x),r=Qc.relativeSign(e.y,n.y);switch(t){case 0:return Qc.compareValue(i,r);case 1:return Qc.compareValue(r,i);case 2:return Qc.compareValue(r,-i);case 3:return Qc.compareValue(-i,r);case 4:return Qc.compareValue(-i,-r);case 5:return Qc.compareValue(-r,-i);case 6:return Qc.compareValue(-r,i);case 7:return Qc.compareValue(i,-r)}return kl.shouldNeverReachHere("invalid octant value"),0},Qc.compareValue=function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0};var Hc=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._segString=t,this.coord=new nl(e),this.segmentIndex=n,this._segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))};Hc.prototype.getCoordinate=function(){return this.coord},Hc.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},Hc.prototype.compareTo=function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:Qc.compare(this._segmentOctant,this.coord,e.coord)},Hc.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&!this._isInterior||this.segmentIndex===t},Hc.prototype.isInterior=function(){return this._isInterior},Hc.prototype.interfaces_=function(){return[$a]},Hc.prototype.getClass=function(){return Hc};var jc=function(){this._nodeMap=new Br,this._edge=null;var t=arguments[0];this._edge=t};jc.prototype.getSplitCoordinates=function(){var t=new ru;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},jc.prototype.addCollapsedNodes=function(){var t=new nu;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this._edge.getCoordinate(n),n)}},jc.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},jc.prototype.findCollapsesFromExistingVertices=function(t){for(var e=0;e<this._edge.size()-2;e++){var n=this._edge.getCoordinate(e),i=this._edge.getCoordinate(e+2);n.equals2D(i)&&t.add(new fl(e+1))}},jc.prototype.addEdgeCoordinates=function(t,e,n){var i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);n.add(new nl(t.coord),!1);for(var o=t.segmentIndex+1;o<=e.segmentIndex;o++)n.add(this._edge.getCoordinate(o));r&&n.add(new nl(e.coord))},jc.prototype.iterator=function(){return this._nodeMap.values().iterator()},jc.prototype.addSplitEdges=function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},jc.prototype.findCollapseIndex=function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i&&(n[0]=t.segmentIndex+1,!0)},jc.prototype.findCollapsesFromInsertedNodes=function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next();this.findCollapseIndex(i,r,e)&&t.add(new fl(e[0])),i=r}},jc.prototype.getEdge=function(){return this._edge},jc.prototype.addEndpoints=function(){var t=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(t),t)},jc.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this._edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new nl(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this._edge.getCoordinate(a);return r&&(o[s]=new nl(e.coord)),new qc(o,this._edge.getData())},jc.prototype.add=function(t,e){var n=new Hc(this._edge,t,e,this._edge.getSegmentOctant(e)),i=this._nodeMap.get(n);return null!==i?(kl.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this._nodeMap.put(n,n),n)},jc.prototype.checkSplitEdgesCorrectness=function(t){var e=this._edge.getCoordinates(),n=t.get(0).getCoordinate(0);if(!n.equals2D(e[0]))throw new Tl("bad split edge start point at "+n);var i=t.get(t.size()-1).getCoordinates(),r=i[i.length-1];if(!r.equals2D(e[e.length-1]))throw new Tl("bad split edge end point at "+r)},jc.prototype.interfaces_=function(){return[]},jc.prototype.getClass=function(){return jc};var zc=function(){};zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc},zc.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new Va("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),i=Math.abs(e);return t>=0?e>=0?n>=i?0:1:n>=i?7:6:e>=0?n>=i?3:2:n>=i?4:5}if(arguments[0]instanceof nl&&arguments[1]instanceof nl){var r=arguments[0],o=arguments[1],s=o.x-r.x,a=o.y-r.y;if(0===s&&0===a)throw new Va("Cannot compute the octant for two identical points "+r);return zc.octant(s,a)}};var Kc=function(){};Kc.prototype.getCoordinates=function(){},Kc.prototype.size=function(){},Kc.prototype.getCoordinate=function(t){},Kc.prototype.isClosed=function(){},Kc.prototype.setData=function(t){},Kc.prototype.getData=function(){},Kc.prototype.interfaces_=function(){return[]},Kc.prototype.getClass=function(){return Kc};var Gc=function(){};Gc.prototype.addIntersection=function(t,e){},Gc.prototype.interfaces_=function(){return[Kc]},Gc.prototype.getClass=function(){return Gc};var qc=function(){this._nodeList=new jc(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};qc.prototype.getCoordinates=function(){return this._pts},qc.prototype.size=function(){return this._pts.length},qc.prototype.getCoordinate=function(t){return this._pts[t]},qc.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},qc.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},qc.prototype.setData=function(t){this._data=t},qc.prototype.safeOctant=function(t,e){return t.equals2D(e)?0:zc.octant(t,e)},qc.prototype.getData=function(){return this._data},qc.prototype.addIntersection=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[3],o=new nl(n.getIntersection(r));this.addIntersection(o,i)}},qc.prototype.toString=function(){return Ml.toLineString(new Hu(this._pts))},qc.prototype.getNodeList=function(){return this._nodeList},qc.prototype.addIntersectionNode=function(t,e){var n=e,i=n+1;if(i<this._pts.length){var r=this._pts[i];t.equals2D(r)&&(n=i)}return this._nodeList.add(t,n)},qc.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},qc.prototype.interfaces_=function(){return[Gc]},qc.prototype.getClass=function(){return qc},qc.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new nu;return qc.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();)r.next().getNodeList().addSplitEdges(i)};var Wc=function(){if(this.p0=null,this.p1=null,0===arguments.length)this.p0=new nl,this.p1=new nl;else if(1===arguments.length){var t=arguments[0];this.p0=new nl(t.p0),this.p1=new nl(t.p1)}else if(2===arguments.length)this.p0=arguments[0],this.p1=arguments[1];else if(4===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3];this.p0=new nl(e,n),this.p1=new nl(i,r)}},Yc={serialVersionUID:{configurable:!0}};Wc.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},Wc.prototype.orientationIndex=function(){if(arguments[0]instanceof Wc){var t=arguments[0],e=Ul.orientationIndex(this.p0,this.p1,t.p0),n=Ul.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):e<=0&&n<=0?Math.max(e,n):0}if(arguments[0]instanceof nl){var i=arguments[0];return Ul.orientationIndex(this.p0,this.p1,i)}},Wc.prototype.toGeometry=function(t){return t.createLineString([this.p0,this.p1])},Wc.prototype.isVertical=function(){return this.p0.x===this.p1.x},Wc.prototype.equals=function(t){if(!(t instanceof Wc))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},Wc.prototype.intersection=function(t){var e=new Rl;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},Wc.prototype.project=function(){if(arguments[0]instanceof nl){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new nl(t);var e=this.projectionFactor(t),n=new nl;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof Wc){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(r>=1&&o>=1)return null;if(r<=0&&o<=0)return null;var s=this.project(i.p0);r<0&&(s=this.p0),r>1&&(s=this.p1);var a=this.project(i.p1);return o<0&&(a=this.p0),o>1&&(a=this.p1),new Wc(s,a)}},Wc.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},Wc.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},Wc.prototype.getCoordinate=function(t){return 0===t?this.p0:this.p1},Wc.prototype.distancePerpendicular=function(t){return Ul.distancePointLinePerpendicular(t,this.p0,this.p1)},Wc.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},Wc.prototype.midPoint=function(){return Wc.midPoint(this.p0,this.p1)},Wc.prototype.projectionFactor=function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;return i<=0?Ja.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i},Wc.prototype.closestPoints=function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=Ja.MAX_VALUE,r=null,o=this.closestPoint(t.p0);i=o.distance(t.p0),n[0]=o,n[1]=t.p0;var s=this.closestPoint(t.p1);(r=s.distance(t.p1))<i&&(i=r,n[0]=s,n[1]=t.p1);var a=t.closestPoint(this.p0);(r=a.distance(this.p0))<i&&(i=r,n[0]=this.p0,n[1]=a);var l=t.closestPoint(this.p1);return(r=l.distance(this.p1))<i&&(i=r,n[0]=this.p1,n[1]=l),n},Wc.prototype.closestPoint=function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1},Wc.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},Wc.prototype.getLength=function(){return this.p0.distance(this.p1)},Wc.prototype.compareTo=function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},Wc.prototype.reverse=function(){var t=this.p0;this.p0=this.p1,this.p1=t},Wc.prototype.equalsTopo=function(t){return this.p0.equals(t.p0)&&(this.p1.equals(t.p1)||this.p0.equals(t.p1))&&this.p1.equals(t.p0)},Wc.prototype.lineIntersection=function(t){try{return El.intersection(this.p0,this.p1,t.p0,t.p1)}catch(t){if(!(t instanceof bl))throw t}return null},Wc.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},Wc.prototype.pointAlongOffset=function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,l=0;if(0!==e){if(s<=0)throw new Error("Cannot compute offset from zero-length line segment");a=e*r/s,l=e*o/s}return new nl(n-l,i+a)},Wc.prototype.setCoordinates=function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},Wc.prototype.segmentFraction=function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||Ja.isNaN(e))&&(e=1),e},Wc.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},Wc.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},Wc.prototype.distance=function(){if(arguments[0]instanceof Wc){var t=arguments[0];return Ul.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof nl){var e=arguments[0];return Ul.distancePointLine(e,this.p0,this.p1)}},Wc.prototype.pointAlong=function(t){var e=new nl;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},Wc.prototype.hashCode=function(){var t=Ja.doubleToLongBits(this.p0.x);t^=31*Ja.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=Ja.doubleToLongBits(this.p1.x);return n^=31*Ja.doubleToLongBits(this.p1.y),e^Math.trunc(n)^Math.trunc(n>>32)},Wc.prototype.interfaces_=function(){return[$a,mr]},Wc.prototype.getClass=function(){return Wc},Wc.midPoint=function(t,e){return new nl((t.x+e.x)/2,(t.y+e.y)/2)},Yc.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(Wc,Yc);var Xc=function(){this.tempEnv1=new xl,this.tempEnv2=new xl,this._overlapSeg1=new Wc,this._overlapSeg2=new Wc};Xc.prototype.overlap=function(){if(2===arguments.length);else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];t.getLineSegment(e,this._overlapSeg1),n.getLineSegment(i,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}},Xc.prototype.interfaces_=function(){return[]},Xc.prototype.getClass=function(){return Xc};var Vc=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this._pts=t,this._start=e,this._end=n,this._context=i};Vc.prototype.getLineSegment=function(t,e){e.p0=this._pts[t],e.p1=this._pts[t+1]},Vc.prototype.computeSelect=function(t,e,n,i){var r=this._pts[e],o=this._pts[n];if(i.tempEnv1.init(r,o),n-e==1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((e+n)/2);e<s&&this.computeSelect(t,e,s,i),s<n&&this.computeSelect(t,s,n,i)},Vc.prototype.getCoordinates=function(){for(var t=new Array(this._end-this._start+1).fill(null),e=0,n=this._start;n<=this._end;n++)t[e++]=this._pts[n];return t},Vc.prototype.computeOverlaps=function(t,e){this.computeOverlapsInternal(this._start,this._end,t,t._start,t._end,e)},Vc.prototype.setId=function(t){this._id=t},Vc.prototype.select=function(t,e){this.computeSelect(t,this._start,this._end,e)},Vc.prototype.getEnvelope=function(){if(null===this._env){var t=this._pts[this._start],e=this._pts[this._end];this._env=new xl(t,e)}return this._env},Vc.prototype.getEndIndex=function(){return this._end},Vc.prototype.getStartIndex=function(){return this._start},Vc.prototype.getContext=function(){return this._context},Vc.prototype.getId=function(){return this._id},Vc.prototype.computeOverlapsInternal=function(t,e,n,i,r,o){var s=this._pts[t],a=this._pts[e],l=n._pts[i],u=n._pts[r];if(e-t==1&&r-i==1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(l,u),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((i+r)/2);t<c&&(i<h&&this.computeOverlapsInternal(t,c,n,i,h,o),h<r&&this.computeOverlapsInternal(t,c,n,h,r,o)),c<e&&(i<h&&this.computeOverlapsInternal(c,e,n,i,h,o),h<r&&this.computeOverlapsInternal(c,e,n,h,r,o))},Vc.prototype.interfaces_=function(){return[]},Vc.prototype.getClass=function(){return Vc};var Jc=function(){};Jc.prototype.interfaces_=function(){return[]},Jc.prototype.getClass=function(){return Jc},Jc.getChainStartIndices=function(t){var e=0,n=new nu;n.add(new fl(e));do{var i=Jc.findChainEnd(t,e);n.add(new fl(i)),e=i}while(e<t.length-1);return Jc.toIntArray(n)},Jc.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=vc.quadrant(t[n],t[n+1]),r=e+1;r<t.length&&(t[r-1].equals2D(t[r])||vc.quadrant(t[r-1],t[r])===i);)r++;return r-1},Jc.getChains=function(){if(1===arguments.length){var t=arguments[0];return Jc.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new nu,r=Jc.getChainStartIndices(e),o=0;o<r.length-1;o++){var s=new Vc(e,r[o],r[o+1],n);i.add(s)}return i}},Jc.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Zc=function(){};Zc.prototype.computeNodes=function(t){},Zc.prototype.getNodedSubstrings=function(){},Zc.prototype.interfaces_=function(){return[]},Zc.prototype.getClass=function(){return Zc};var $c=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}};$c.prototype.setSegmentIntersector=function(t){this._segInt=t},$c.prototype.interfaces_=function(){return[Zc]},$c.prototype.getClass=function(){return $c};var th=function(t){function e(e){e?t.call(this,e):t.call(this),this._monoChains=new nu,this._index=new Pc,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e;var n={SegmentOverlapAction:{configurable:!0}};return e.prototype.getMonotoneChains=function(){return this._monoChains},e.prototype.getNodedSubstrings=function(){return qc.getNodedSubstrings(this._nodedSegStrings)},e.prototype.getIndex=function(){return this._index},e.prototype.add=function(t){for(var e=Jc.getChains(t.getCoordinates(),t).iterator();e.hasNext();){var n=e.next();n.setId(this._idCounter++),this._index.insert(n.getEnvelope(),n),this._monoChains.add(n)}},e.prototype.computeNodes=function(t){this._nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},e.prototype.intersectChains=function(){for(var t=new eh(this._segInt),e=this._monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this._index.query(n.getEnvelope()).iterator();i.hasNext();){var r=i.next();if(r.getId()>n.getId()&&(n.computeOverlaps(r,t),this._nOverlaps++),this._segInt.isDone())return null}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},n.SegmentOverlapAction.get=function(){return eh},Object.defineProperties(e,n),e}($c),eh=function(t){function e(){t.call(this),this._si=null;var e=arguments[0];this._si=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.overlap=function(){if(4!==arguments.length)return t.prototype.overlap.apply(this,arguments);var e=arguments[0],n=arguments[1],i=arguments[2],r=arguments[3],o=e.getContext(),s=i.getContext();this._si.processIntersections(o,n,s,r)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Xc),nh=function t(){if(this._quadrantSegments=t.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=t.CAP_ROUND,this._joinStyle=t.JOIN_ROUND,this._mitreLimit=t.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=t.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.setQuadrantSegments(n),this.setEndCapStyle(i)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.setQuadrantSegments(r),this.setEndCapStyle(o),this.setJoinStyle(s),this.setMitreLimit(a)}},ih={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};nh.prototype.getEndCapStyle=function(){return this._endCapStyle},nh.prototype.isSingleSided=function(){return this._isSingleSided},nh.prototype.setQuadrantSegments=function(t){this._quadrantSegments=t,0===this._quadrantSegments&&(this._joinStyle=nh.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=nh.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==nh.JOIN_ROUND&&(this._quadrantSegments=nh.DEFAULT_QUADRANT_SEGMENTS)},nh.prototype.getJoinStyle=function(){return this._joinStyle},nh.prototype.setJoinStyle=function(t){this._joinStyle=t},nh.prototype.setSimplifyFactor=function(t){this._simplifyFactor=t<0?0:t},nh.prototype.getSimplifyFactor=function(){return this._simplifyFactor},nh.prototype.getQuadrantSegments=function(){return this._quadrantSegments},nh.prototype.setEndCapStyle=function(t){this._endCapStyle=t},nh.prototype.getMitreLimit=function(){return this._mitreLimit},nh.prototype.setMitreLimit=function(t){this._mitreLimit=t},nh.prototype.setSingleSided=function(t){this._isSingleSided=t},nh.prototype.interfaces_=function(){return[]},nh.prototype.getClass=function(){return nh},nh.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},ih.CAP_ROUND.get=function(){return 1},ih.CAP_FLAT.get=function(){return 2},ih.CAP_SQUARE.get=function(){return 3},ih.JOIN_ROUND.get=function(){return 1},ih.JOIN_MITRE.get=function(){return 2},ih.JOIN_BEVEL.get=function(){return 3},ih.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},ih.DEFAULT_MITRE_LIMIT.get=function(){return 5},ih.DEFAULT_SIMPLIFY_FACTOR.get=function(){return.01},Object.defineProperties(nh,ih);var rh=function(t){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Ul.COUNTERCLOCKWISE,this._inputLine=t||null},oh={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};rh.prototype.isDeletable=function(t,e,n,i){var r=this._inputLine[t],o=this._inputLine[e],s=this._inputLine[n];return!!this.isConcave(r,o,s)&&!!this.isShallow(r,o,s,i)&&this.isShallowSampled(r,o,t,n,i)},rh.prototype.deleteShallowConcavities=function(){for(var t=1,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e),i=!1;n<this._inputLine.length;){var r=!1;this.isDeletable(t,e,n,this._distanceTol)&&(this._isDeleted[e]=rh.DELETE,r=!0,i=!0),t=r?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},rh.prototype.isShallowConcavity=function(t,e,n,i){return Ul.computeOrientation(t,e,n)===this._angleOrientation&&Ul.distancePointLine(e,t,n)<i},rh.prototype.isShallowSampled=function(t,e,n,i,r){var o=Math.trunc((i-n)/rh.NUM_PTS_TO_CHECK);o<=0&&(o=1);for(var s=n;s<i;s+=o)if(!this.isShallow(t,e,this._inputLine[s],r))return!1;return!0},rh.prototype.isConcave=function(t,e,n){return Ul.computeOrientation(t,e,n)===this._angleOrientation},rh.prototype.simplify=function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Ul.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},rh.prototype.findNextNonDeletedIndex=function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===rh.DELETE;)e++;return e},rh.prototype.isShallow=function(t,e,n,i){return Ul.distancePointLine(e,t,n)<i},rh.prototype.collapseLine=function(){for(var t=new ru,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==rh.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()},rh.prototype.interfaces_=function(){return[]},rh.prototype.getClass=function(){return rh},rh.simplify=function(t,e){return new rh(t).simplify(e)},oh.INIT.get=function(){return 0},oh.DELETE.get=function(){return 1},oh.KEEP.get=function(){return 1},oh.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(rh,oh);var sh=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new nu},ah={COORDINATE_ARRAY_TYPE:{configurable:!0}};sh.prototype.getCoordinates=function(){return this._ptList.toArray(sh.COORDINATE_ARRAY_TYPE)},sh.prototype.setPrecisionModel=function(t){this._precisionModel=t},sh.prototype.addPt=function(t){var e=new nl(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)},sh.prototype.revere=function(){},sh.prototype.addPts=function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var i=t.length-1;i>=0;i--)this.addPt(t[i])},sh.prototype.isRedundant=function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance},sh.prototype.toString=function(){return(new Vu).createLineString(this.getCoordinates()).toString()},sh.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var t=new nl(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)},sh.prototype.setMinimumVertexDistance=function(t){this._minimimVertexDistance=t},sh.prototype.interfaces_=function(){return[]},sh.prototype.getClass=function(){return sh},ah.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(sh,ah);var lh=function(){},uh={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};lh.prototype.interfaces_=function(){return[]},lh.prototype.getClass=function(){return lh},lh.toDegrees=function(t){return 180*t/Math.PI},lh.normalize=function(t){for(;t>Math.PI;)t-=lh.PI_TIMES_2;for(;t<=-Math.PI;)t+=lh.PI_TIMES_2;return t},lh.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},lh.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)>0},lh.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y;return i*(n.x-e.x)+r*(n.y-e.y)<0},lh.interiorAngle=function(t,e,n){var i=lh.angle(e,t),r=lh.angle(e,n);return Math.abs(r-i)},lh.normalizePositive=function(t){if(t<0){for(;t<0;)t+=lh.PI_TIMES_2;t>=lh.PI_TIMES_2&&(t=0)}else{for(;t>=lh.PI_TIMES_2;)t-=lh.PI_TIMES_2;t<0&&(t=0)}return t},lh.angleBetween=function(t,e,n){var i=lh.angle(e,t),r=lh.angle(e,n);return lh.diff(i,r)},lh.diff=function(t,e){var n=null;return(n=t<e?e-t:t-e)>Math.PI&&(n=2*Math.PI-n),n},lh.toRadians=function(t){return t*Math.PI/180},lh.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?lh.COUNTERCLOCKWISE:n<0?lh.CLOCKWISE:lh.NONE},lh.angleBetweenOriented=function(t,e,n){var i=lh.angle(e,t),r=lh.angle(e,n)-i;return r<=-Math.PI?r+lh.PI_TIMES_2:r>Math.PI?r-lh.PI_TIMES_2:r},uh.PI_TIMES_2.get=function(){return 2*Math.PI},uh.PI_OVER_2.get=function(){return Math.PI/2},uh.PI_OVER_4.get=function(){return Math.PI/4},uh.COUNTERCLOCKWISE.get=function(){return Ul.COUNTERCLOCKWISE},uh.CLOCKWISE.get=function(){return Ul.CLOCKWISE},uh.NONE.get=function(){return Ul.COLLINEAR},Object.defineProperties(lh,uh);var ch=function t(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new Wc,this._seg1=new Wc,this._offset0=new Wc,this._offset1=new Wc,this._side=0,this._hasNarrowConcaveAngle=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._precisionModel=e,this._bufParams=n,this._li=new Rl,this._filletAngleQuantum=Math.PI/2/n.getQuadrantSegments(),n.getQuadrantSegments()>=8&&n.getJoinStyle()===nh.JOIN_ROUND&&(this._closingSegLengthFactor=t.MAX_CLOSING_SEG_LEN_FACTOR),this.init(i)},hh={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};ch.prototype.addNextSegment=function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var n=Ul.computeOrientation(this._s0,this._s1,this._s2),i=n===Ul.CLOCKWISE&&this._side===rc.LEFT||n===Ul.COUNTERCLOCKWISE&&this._side===rc.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},ch.prototype.addLineEndCap=function(t,e){var n=new Wc(t,e),i=new Wc;this.computeOffsetSegment(n,rc.LEFT,this._distance,i);var r=new Wc;this.computeOffsetSegment(n,rc.RIGHT,this._distance,r);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this._bufParams.getEndCapStyle()){case nh.CAP_ROUND:this._segList.addPt(i.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,Ul.CLOCKWISE,this._distance),this._segList.addPt(r.p1);break;case nh.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(r.p1);break;case nh.CAP_SQUARE:var l=new nl;l.x=Math.abs(this._distance)*Math.cos(a),l.y=Math.abs(this._distance)*Math.sin(a);var u=new nl(i.p1.x+l.x,i.p1.y+l.y),c=new nl(r.p1.x+l.x,r.p1.y+l.y);this._segList.addPt(u),this._segList.addPt(c)}},ch.prototype.getCoordinates=function(){return this._segList.getCoordinates()},ch.prototype.addMitreJoin=function(t,e,n,i){var r=!0,o=null;try{o=El.intersection(e.p0,e.p1,n.p0,n.p1),(i<=0?1:o.distance(t)/Math.abs(i))>this._bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof bl))throw t;o=new nl(0,0),r=!1}r?this._segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this._bufParams.getMitreLimit())},ch.prototype.addFilletCorner=function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),l=n.x-t.x,u=n.y-t.y,c=Math.atan2(u,l);i===Ul.CLOCKWISE?a<=c&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this._segList.addPt(e),this.addFilletArc(t,a,c,i,r),this._segList.addPt(n)},ch.prototype.addOutsideTurn=function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*ch.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===nh.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===nh.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))},ch.prototype.createSquare=function(t){this._segList.addPt(new nl(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new nl(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new nl(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new nl(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()},ch.prototype.addSegments=function(t,e){this._segList.addPts(t,e)},ch.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},ch.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},ch.prototype.initSideSegments=function(t,e,n){this._s1=t,this._s2=e,this._side=n,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,n,this._distance,this._offset1)},ch.prototype.addLimitedMitreJoin=function(t,e,n,i){var r=this._seg0.p1,o=lh.angle(r,this._seg0.p0),s=lh.angleBetweenOriented(this._seg0.p0,r,this._seg1.p1)/2,a=lh.normalize(o+s),l=lh.normalize(a+Math.PI),u=i*n,c=n-u*Math.abs(Math.sin(s)),h=r.x+u*Math.cos(l),f=r.y+u*Math.sin(l),p=new nl(h,f),d=new Wc(r,p),A=d.pointAlongOffset(1,c),g=d.pointAlongOffset(1,-c);this._side===rc.LEFT?(this._segList.addPt(A),this._segList.addPt(g)):(this._segList.addPt(g),this._segList.addPt(A))},ch.prototype.computeOffsetSegment=function(t,e,n,i){var r=e===rc.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),l=r*n*o/a,u=r*n*s/a;i.p0.x=t.p0.x-u,i.p0.y=t.p0.y+l,i.p1.x=t.p1.x-u,i.p1.y=t.p1.y+l},ch.prototype.addFilletArc=function(t,e,n,i,r){var o=i===Ul.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this._filletAngleQuantum+.5);if(a<1)return null;for(var l=s/a,u=0,c=new nl;u<s;){var h=e+o*u;c.x=t.x+r*Math.cos(h),c.y=t.y+r*Math.sin(h),this._segList.addPt(c),u+=l}},ch.prototype.addInsideTurn=function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*ch.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var n=new nl((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(n);var i=new nl((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(i)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},ch.prototype.createCircle=function(t){var e=new nl(t.x+this._distance,t.y);this._segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},ch.prototype.addBevelJoin=function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)},ch.prototype.init=function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new sh,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*ch.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},ch.prototype.addCollinear=function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===nh.JOIN_BEVEL||this._bufParams.getJoinStyle()===nh.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Ul.CLOCKWISE,this._distance))},ch.prototype.closeRing=function(){this._segList.closeRing()},ch.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch},hh.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return.001},hh.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return.001},hh.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},hh.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(ch,hh);var fh=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e};fh.prototype.getOffsetCurve=function(t,e){if(this._distance=e,0===e)return null;var n=e<0,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&ou.reverse(o),o},fh.prototype.computeSingleSidedBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){n.addSegments(t,!0);var r=rh.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],rc.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(t,!1);var a=rh.simplify(t,i),l=a.length-1;n.initSideSegments(a[0],a[1],rc.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(a[u],!0)}n.addLastSegment(),n.closeRing()},fh.prototype.computeRingBufferCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);e===rc.RIGHT&&(i=-i);var r=rh.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;s<=o;s++){var a=1!==s;n.addNextSegment(r[s],a)}n.closeRing()},fh.prototype.computeLineBufferCurve=function(t,e){var n=this.simplifyTolerance(this._distance),i=rh.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],rc.LEFT);for(var o=2;o<=r;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=rh.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],rc.LEFT);for(var l=a-2;l>=0;l--)e.addNextSegment(s[l],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},fh.prototype.computePointCurve=function(t,e){switch(this._bufParams.getEndCapStyle()){case nh.CAP_ROUND:e.createCircle(t);break;case nh.CAP_SQUARE:e.createSquare(t)}},fh.prototype.getLineCurve=function(t,e){if(this._distance=e,e<0&&!this._bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this._bufParams.isSingleSided()){var r=e<0;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);return i.getCoordinates()},fh.prototype.getBufferParameters=function(){return this._bufParams},fh.prototype.simplifyTolerance=function(t){return t*this._bufParams.getSimplifyFactor()},fh.prototype.getRingCurve=function(t,e,n){if(this._distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return fh.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},fh.prototype.computeOffsetCurve=function(t,e,n){var i=this.simplifyTolerance(this._distance);if(e){var r=rh.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],rc.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{var a=rh.simplify(t,i),l=a.length-1;n.initSideSegments(a[0],a[1],rc.LEFT),n.addFirstSegment();for(var u=2;u<=l;u++)n.addNextSegment(a[u],!0)}n.addLastSegment()},fh.prototype.getSegGen=function(t){return new ch(this._precisionModel,this._bufParams,t)},fh.prototype.interfaces_=function(){return[]},fh.prototype.getClass=function(){return fh},fh.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new nl(t[n]);return e};var ph=function(){this._subgraphs=null,this._seg=new Wc,this._cga=new Ul;var t=arguments[0];this._subgraphs=t},dh={DepthSegment:{configurable:!0}};ph.prototype.findStabbedSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=new nu,n=this._subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(ll(arguments[2],eu)&&arguments[0]instanceof nl&&arguments[1]instanceof bc){for(var o=arguments[0],s=arguments[1],a=arguments[2],l=s.getEdge().getCoordinates(),u=0;u<l.length-1;u++)if(this._seg.p0=l[u],this._seg.p1=l[u+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<o.x||this._seg.isHorizontal()||o.y<this._seg.p0.y||o.y>this._seg.p1.y||Ul.computeOrientation(this._seg.p0,this._seg.p1,o)===Ul.RIGHT)){var c=s.getDepth(rc.LEFT);this._seg.p0.equals(l[u])||(c=s.getDepth(rc.RIGHT));var h=new Ah(this._seg,c);a.add(h)}}else if(ll(arguments[2],eu)&&arguments[0]instanceof nl&&ll(arguments[1],eu))for(var f=arguments[0],p=arguments[1],d=arguments[2],A=p.iterator();A.hasNext();){var g=A.next();g.isForward()&&this.findStabbedSegments(f,g,d)}},ph.prototype.getDepth=function(t){var e=this.findStabbedSegments(t);return 0===e.size()?0:Nc.min(e)._leftDepth},ph.prototype.interfaces_=function(){return[]},ph.prototype.getClass=function(){return ph},dh.DepthSegment.get=function(){return Ah},Object.defineProperties(ph,dh);var Ah=function(){this._upwardSeg=null,this._leftDepth=null;var t=arguments[0],e=arguments[1];this._upwardSeg=new Wc(t),this._leftDepth=e};Ah.prototype.compareTo=function(t){var e=t;if(this._upwardSeg.minX()>=e._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=e._upwardSeg.minX())return-1;var n=this._upwardSeg.orientationIndex(e._upwardSeg);return 0!==n?n:0!=(n=-1*e._upwardSeg.orientationIndex(this._upwardSeg))?n:this._upwardSeg.compareTo(e._upwardSeg)},Ah.prototype.compareX=function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},Ah.prototype.toString=function(){return this._upwardSeg.toString()},Ah.prototype.interfaces_=function(){return[$a]},Ah.prototype.getClass=function(){return Ah};var gh=function(t,e,n){this.p0=t||null,this.p1=e||null,this.p2=n||null};gh.prototype.area=function(){return gh.area(this.p0,this.p1,this.p2)},gh.prototype.signedArea=function(){return gh.signedArea(this.p0,this.p1,this.p2)},gh.prototype.interpolateZ=function(t){if(null===t)throw new Va("Supplied point is null.");return gh.interpolateZ(t,this.p0,this.p1,this.p2)},gh.prototype.longestSideLength=function(){return gh.longestSideLength(this.p0,this.p1,this.p2)},gh.prototype.isAcute=function(){return gh.isAcute(this.p0,this.p1,this.p2)},gh.prototype.circumcentre=function(){return gh.circumcentre(this.p0,this.p1,this.p2)},gh.prototype.area3D=function(){return gh.area3D(this.p0,this.p1,this.p2)},gh.prototype.centroid=function(){return gh.centroid(this.p0,this.p1,this.p2)},gh.prototype.inCentre=function(){return gh.inCentre(this.p0,this.p1,this.p2)},gh.prototype.interfaces_=function(){return[]},gh.prototype.getClass=function(){return gh},gh.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},gh.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},gh.det=function(t,e,n,i){return t*i-e*n},gh.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,l=n.y-o,u=i.y-o,c=s*u-a*l,h=t.x-r,f=t.y-o,p=(u*h-a*f)/c,d=(-l*h+s*f)/c;return e.z+p*(n.z-e.z)+d*(i.z-e.z)},gh.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),s=i;return r>s&&(s=r),o>s&&(s=o),s},gh.isAcute=function(t,e,n){return!!lh.isAcute(t,e,n)&&!!lh.isAcute(e,n,t)&&!!lh.isAcute(n,t,e)},gh.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,s=t.y-r,a=e.x-i,l=e.y-r,u=2*gh.det(o,s,a,l),c=gh.det(s,o*o+s*s,l,a*a+l*l),h=gh.det(o,o*o+s*s,a,a*a+l*l);return new nl(i-c/u,r+h/u)},gh.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new El(t.x+n/2,t.y+i/2,1),o=new El(t.x-i+n/2,t.y+n+i/2,1);return new El(r,o)},gh.angleBisector=function(t,e,n){var i=e.distance(t),r=i/(i+e.distance(n)),o=n.x-t.x,s=n.y-t.y;return new nl(t.x+r*o,t.y+r*s)},gh.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,l=n.z-t.z,u=r*l-o*a,c=o*s-i*l,h=i*a-r*s,f=u*u+c*c+h*h;return Math.sqrt(f)/2},gh.centroid=function(t,e,n){var i=(t.x+e.x+n.x)/3,r=(t.y+e.y+n.y)/3;return new nl(i,r)},gh.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),s=i+r+o,a=(i*t.x+r*e.x+o*n.x)/s,l=(i*t.y+r*e.y+o*n.y)/s;return new nl(a,l)};var mh=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new nu;var t=arguments[0],e=arguments[1],n=arguments[2];this._inputGeom=t,this._distance=e,this._curveBuilder=n};mh.prototype.addPoint=function(t){if(this._distance<=0)return null;var e=t.getCoordinates(),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,sl.EXTERIOR,sl.INTERIOR)},mh.prototype.addPolygon=function(t){var e=this._distance,n=rc.LEFT;this._distance<0&&(e=-this._distance,n=rc.RIGHT);var i=t.getExteriorRing(),r=ou.removeRepeatedPoints(i.getCoordinates());if(this._distance<0&&this.isErodedCompletely(i,this._distance))return null;if(this._distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,sl.EXTERIOR,sl.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=ou.removeRepeatedPoints(s.getCoordinates());this._distance>0&&this.isErodedCompletely(s,-this._distance)||this.addPolygonRing(a,e,rc.opposite(n),sl.INTERIOR,sl.EXTERIOR)}},mh.prototype.isTriangleErodedCompletely=function(t,e){var n=new gh(t[0],t[1],t[2]),i=n.inCentre();return Ul.distancePointLine(i,n.p0,n.p1)<Math.abs(e)},mh.prototype.addLineString=function(t){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var e=ou.removeRepeatedPoints(t.getCoordinates()),n=this._curveBuilder.getLineCurve(e,this._distance);this.addCurve(n,sl.EXTERIOR,sl.INTERIOR)},mh.prototype.addCurve=function(t,e,n){if(null===t||t.length<2)return null;var i=new qc(t,new hc(0,sl.BOUNDARY,e,n));this._curveList.add(i)},mh.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},mh.prototype.addPolygonRing=function(t,e,n,i,r){if(0===e&&t.length<Lu.MINIMUM_VALID_SIZE)return null;var o=i,s=r;t.length>=Lu.MINIMUM_VALID_SIZE&&Ul.isCCW(t)&&(o=r,s=i,n=rc.opposite(n));var a=this._curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},mh.prototype.add=function(t){if(t.isEmpty())return null;t instanceof Nu?this.addPolygon(t):t instanceof Su?this.addLineString(t):t instanceof Mu?this.addPoint(t):t instanceof ku?this.addCollection(t):t instanceof wu?this.addCollection(t):t instanceof Fu?this.addCollection(t):t instanceof bu&&this.addCollection(t)},mh.prototype.isErodedCompletely=function(t,e){var n=t.getCoordinates();if(n.length<4)return e<0;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return e<0&&2*Math.abs(e)>r},mh.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},mh.prototype.interfaces_=function(){return[]},mh.prototype.getClass=function(){return mh};var vh=function(){};vh.prototype.locate=function(t){},vh.prototype.interfaces_=function(){return[]},vh.prototype.getClass=function(){return vh};var yh=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()};yh.prototype.next=function(){if(this._atStart)return this._atStart=!1,yh.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new vr;var t=this._parent.getGeometryN(this._index++);return t instanceof bu?(this._subcollectionIterator=new yh(t),this._subcollectionIterator.next()):t},yh.prototype.remove=function(){throw new Error(this.getClass().getName())},yh.prototype.hasNext=function(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},yh.prototype.interfaces_=function(){return[tu]},yh.prototype.getClass=function(){return yh},yh.isAtomic=function(t){return!(t instanceof bu)};var _h=function(){this._geom=null;var t=arguments[0];this._geom=t};_h.prototype.locate=function(t){return _h.locate(t,this._geom)},_h.prototype.interfaces_=function(){return[vh]},_h.prototype.getClass=function(){return _h},_h.isPointInRing=function(t,e){return!!e.getEnvelopeInternal().intersects(t)&&Ul.isPointInRing(t,e.getCoordinates())},_h.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!_h.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(_h.isPointInRing(t,r))return!1}return!0},_h.containsPoint=function(t,e){if(e instanceof Nu)return _h.containsPointInPolygon(t,e);if(e instanceof bu)for(var n=new yh(e);n.hasNext();){var i=n.next();if(i!==e&&_h.containsPoint(t,i))return!0}return!1},_h.locate=function(t,e){return e.isEmpty()?sl.EXTERIOR:_h.containsPoint(t,e)?sl.INTERIOR:sl.EXTERIOR};var bh=function(){this._edgeMap=new Br,this._edgeList=null,this._ptInAreaLocation=[sl.NONE,sl.NONE]};bh.prototype.getNextCW=function(t){this.getEdges();var e=this._edgeList.indexOf(t),n=e-1;return 0===e&&(n=this._edgeList.size()-1),this._edgeList.get(n)},bh.prototype.propagateSideLabels=function(t){for(var e=sl.NONE,n=this.iterator();n.hasNext();){var i=n.next().getLabel();i.isArea(t)&&i.getLocation(t,rc.LEFT)!==sl.NONE&&(e=i.getLocation(t,rc.LEFT))}if(e===sl.NONE)return null;for(var r=e,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getLabel();if(a.getLocation(t,rc.ON)===sl.NONE&&a.setLocation(t,rc.ON,r),a.isArea(t)){var l=a.getLocation(t,rc.LEFT),u=a.getLocation(t,rc.RIGHT);if(u!==sl.NONE){if(u!==r)throw new ac("side location conflict",s.getCoordinate());l===sl.NONE&&kl.shouldNeverReachHere("found single null side (at "+s.getCoordinate()+")"),r=l}else kl.isTrue(a.getLocation(t,rc.LEFT)===sl.NONE,"found single null side"),a.setLocation(t,rc.RIGHT,r),a.setLocation(t,rc.LEFT,r)}}},bh.prototype.getCoordinate=function(){var t=this.iterator();return t.hasNext()?t.next().getCoordinate():null},bh.prototype.print=function(t){wl.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();)e.next().print(t)},bh.prototype.isAreaLabelsConsistent=function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},bh.prototype.checkAreaLabelsConsistent=function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel().getLocation(t,rc.LEFT);kl.isTrue(i!==sl.NONE,"Found unlabelled area edge");for(var r=i,o=this.iterator();o.hasNext();){var s=o.next().getLabel();kl.isTrue(s.isArea(t),"Found non-area edge");var a=s.getLocation(t,rc.LEFT),l=s.getLocation(t,rc.RIGHT);if(a===l)return!1;if(l!==r)return!1;r=a}return!0},bh.prototype.findIndex=function(t){this.iterator();for(var e=0;e<this._edgeList.size();e++)if(this._edgeList.get(e)===t)return e;return-1},bh.prototype.iterator=function(){return this.getEdges().iterator()},bh.prototype.getEdges=function(){return null===this._edgeList&&(this._edgeList=new nu(this._edgeMap.values())),this._edgeList},bh.prototype.getLocation=function(t,e,n){return this._ptInAreaLocation[t]===sl.NONE&&(this._ptInAreaLocation[t]=_h.locate(e,n[t].getGeometry())),this._ptInAreaLocation[t]},bh.prototype.toString=function(){var t=new hl;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},bh.prototype.computeEdgeEndLabels=function(t){for(var e=this.iterator();e.hasNext();)e.next().computeLabel(t)},bh.prototype.computeLabelling=function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next().getLabel(),r=0;r<2;r++)i.isLine(r)&&i.getLocation(r)===sl.BOUNDARY&&(e[r]=!0);for(var o=this.iterator();o.hasNext();)for(var s=o.next(),a=s.getLabel(),l=0;l<2;l++)if(a.isAnyNull(l)){var u=sl.NONE;if(e[l])u=sl.EXTERIOR;else{var c=s.getCoordinate();u=this.getLocation(l,c,t)}a.setAllLocationsIfNull(l,u)}},bh.prototype.getDegree=function(){return this._edgeMap.size()},bh.prototype.insertEdgeEnd=function(t,e){this._edgeMap.put(t,e),this._edgeList=null},bh.prototype.interfaces_=function(){return[]},bh.prototype.getClass=function(){return bh};var wh=function(t){function e(){t.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.linkResultDirectedEdges=function(){this.getResultAreaEdges();for(var t=null,e=null,n=this._SCANNING_FOR_INCOMING,i=0;i<this._resultAreaEdgeList.size();i++){var r=this._resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this._SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this._SCANNING_FOR_INCOMING}}if(n===this._LINKING_TO_OUTGOING){if(null===t)throw new ac("no outgoing dirEdge found",this.getCoordinate());kl.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},e.prototype.insert=function(t){var e=t;this.insertEdgeEnd(e,e)},e.prototype.getRightmostEdge=function(){var t=this.getEdges(),e=t.size();if(e<1)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();return vc.isNorthern(r)&&vc.isNorthern(o)?n:vc.isNorthern(r)||vc.isNorthern(o)?0!==n.getDy()?n:0!==i.getDy()?i:(kl.shouldNeverReachHere("found two horizontal edges incident on node"),null):i},e.prototype.print=function(t){wl.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},e.prototype.getResultAreaEdges=function(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new nu;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this._resultAreaEdgeList.add(e)}return this._resultAreaEdgeList},e.prototype.updateLabelling=function(t){for(var e=this.iterator();e.hasNext();){var n=e.next().getLabel();n.setAllLocationsIfNull(0,t.getLocation(0)),n.setAllLocationsIfNull(1,t.getLocation(1))}},e.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var t=null,e=null,n=this._edgeList.size()-1;n>=0;n--){var i=this._edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},e.prototype.computeDepths=function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=t.getDepth(rc.LEFT),i=t.getDepth(rc.RIGHT),r=this.computeDepths(e+1,this._edgeList.size(),n);if(this.computeDepths(0,e,r)!==i)throw new ac("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var o=arguments[0],s=arguments[1],a=arguments[2],l=o;l<s;l++){var u=this._edgeList.get(l);u.setEdgeDepths(rc.RIGHT,a),a=u.getDepth(rc.LEFT)}return a}},e.prototype.mergeSymLabels=function(){for(var t=this.iterator();t.hasNext();){var e=t.next();e.getLabel().merge(e.getSym().getLabel())}},e.prototype.linkMinimalDirectedEdges=function(t){for(var e=null,n=null,i=this._SCANNING_FOR_INCOMING,r=this._resultAreaEdgeList.size()-1;r>=0;r--){var o=this._resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this._SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,i=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this._SCANNING_FOR_INCOMING}}i===this._LINKING_TO_OUTGOING&&(kl.isTrue(null!==e,"found null for first outgoing dirEdge"),kl.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},e.prototype.getOutgoingDegree=function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();)e.next().isInResult()&&t++;return t}if(1===arguments.length){for(var n=arguments[0],i=0,r=this.iterator();r.hasNext();)r.next().getEdgeRing()===n&&i++;return i}},e.prototype.getLabel=function(){return this._label},e.prototype.findCoveredLineEdges=function(){for(var t=sl.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=sl.INTERIOR;break}if(i.isInResult()){t=sl.EXTERIOR;break}}}if(t===sl.NONE)return null;for(var r=t,o=this.iterator();o.hasNext();){var s=o.next(),a=s.getSym();s.isLineEdge()?s.getEdge().setCovered(r===sl.INTERIOR):(s.isInResult()&&(r=sl.EXTERIOR),a.isInResult()&&(r=sl.INTERIOR))}},e.prototype.computeLabelling=function(e){t.prototype.computeLabelling.call(this,e),this._label=new hc(sl.NONE);for(var n=this.iterator();n.hasNext();)for(var i=n.next().getEdge().getLabel(),r=0;r<2;r++){var o=i.getLocation(r);o!==sl.INTERIOR&&o!==sl.BOUNDARY||this._label.setLocation(r,sl.INTERIOR)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(bh),Eh=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createNode=function(t){return new gc(t,new wh)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(wc),xh=function t(){this._pts=null,this._orientation=null;var e=arguments[0];this._pts=e,this._orientation=t.orientation(e)};xh.prototype.compareTo=function(t){var e=t;return xh.compareOriented(this._pts,this._orientation,e._pts,e._orientation)},xh.prototype.interfaces_=function(){return[$a]},xh.prototype.getClass=function(){return xh},xh.orientation=function(t){return 1===ou.increasingDirection(t)},xh.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,l=e?0:t.length-1,u=i?0:n.length-1;;){var c=t[l].compareTo(n[u]);if(0!==c)return c;var h=(l+=r)===s,f=(u+=o)===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}};var Ch=function(){this._edges=new nu,this._ocaMap=new Br};Ch.prototype.print=function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this._edges.size();e++){var n=this._edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},Ch.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},Ch.prototype.findEdgeIndex=function(t){for(var e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1},Ch.prototype.iterator=function(){return this._edges.iterator()},Ch.prototype.getEdges=function(){return this._edges},Ch.prototype.get=function(t){return this._edges.get(t)},Ch.prototype.findEqualEdge=function(t){var e=new xh(t.getCoordinates());return this._ocaMap.get(e)},Ch.prototype.add=function(t){this._edges.add(t);var e=new xh(t.getCoordinates());this._ocaMap.put(e,t)},Ch.prototype.interfaces_=function(){return[]},Ch.prototype.getClass=function(){return Ch};var Bh=function(){};Bh.prototype.processIntersections=function(t,e,n,i){},Bh.prototype.isDone=function(){},Bh.prototype.interfaces_=function(){return[]},Bh.prototype.getClass=function(){return Bh};var Ih=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t};Ih.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(Ih.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},Ih.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Ih.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Ih.prototype.getLineIntersector=function(){return this._li},Ih.prototype.hasProperIntersection=function(){return this._hasProper},Ih.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Ih.prototype.hasIntersection=function(){return this._hasIntersection},Ih.prototype.isDone=function(){return!1},Ih.prototype.hasInteriorIntersection=function(){return this._hasInterior},Ih.prototype.interfaces_=function(){return[Bh]},Ih.prototype.getClass=function(){return Ih},Ih.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Sh=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new nl(t),this.segmentIndex=e,this.dist=n};Sh.prototype.getSegmentIndex=function(){return this.segmentIndex},Sh.prototype.getCoordinate=function(){return this.coord},Sh.prototype.print=function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},Sh.prototype.compareTo=function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},Sh.prototype.isEndPoint=function(t){return 0===this.segmentIndex&&0===this.dist||this.segmentIndex===t},Sh.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Sh.prototype.getDistance=function(){return this.dist},Sh.prototype.compare=function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},Sh.prototype.interfaces_=function(){return[$a]},Sh.prototype.getClass=function(){return Sh};var Oh=function(){this._nodeMap=new Br,this.edge=null;var t=arguments[0];this.edge=t};Oh.prototype.print=function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();)e.next().print(t)},Oh.prototype.iterator=function(){return this._nodeMap.values().iterator()},Oh.prototype.addSplitEdges=function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},Oh.prototype.addEndpoints=function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},Oh.prototype.createSplitEdge=function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new nl(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new Lh(o,new hc(this.edge._label))},Oh.prototype.add=function(t,e,n){var i=new Sh(t,e,n),r=this._nodeMap.get(i);return null!==r?r:(this._nodeMap.put(i,i),i)},Oh.prototype.isIntersection=function(t){for(var e=this.iterator();e.hasNext();)if(e.next().coord.equals(t))return!0;return!1},Oh.prototype.interfaces_=function(){return[]},Oh.prototype.getClass=function(){return Oh};var Mh=function(){};Mh.prototype.getChainStartIndices=function(t){var e=0,n=new nu;n.add(new fl(e));do{var i=this.findChainEnd(t,e);n.add(new fl(i)),e=i}while(e<t.length-1);return Mh.toIntArray(n)},Mh.prototype.findChainEnd=function(t,e){for(var n=vc.quadrant(t[e],t[e+1]),i=e+1;i<t.length&&vc.quadrant(t[i-1],t[i])===n;)i++;return i-1},Mh.prototype.interfaces_=function(){return[]},Mh.prototype.getClass=function(){return Mh},Mh.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e};var Th=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new xl,this.env2=new xl;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Mh;this.startIndex=e.getChainStartIndices(this.pts)};Th.prototype.getCoordinates=function(){return this.pts},Th.prototype.getMaxX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},Th.prototype.getMinX=function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e<n?e:n},Th.prototype.computeIntersectsForChain=function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],l=arguments[4],u=arguments[5],c=this.pts[r],h=this.pts[o],f=s.pts[a],p=s.pts[l];if(o-r==1&&l-a==1)return u.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(c,h),this.env2.init(f,p),!this.env1.intersects(this.env2))return null;var d=Math.trunc((r+o)/2),A=Math.trunc((a+l)/2);r<d&&(a<A&&this.computeIntersectsForChain(r,d,s,a,A,u),A<l&&this.computeIntersectsForChain(r,d,s,A,l,u)),d<o&&(a<A&&this.computeIntersectsForChain(d,o,s,a,A,u),A<l&&this.computeIntersectsForChain(d,o,s,A,l,u))}},Th.prototype.getStartIndexes=function(){return this.startIndex},Th.prototype.computeIntersects=function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},Th.prototype.interfaces_=function(){return[]},Th.prototype.getClass=function(){return Th};var Nh=function t(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var e=0;e<2;e++)for(var n=0;n<3;n++)this._depth[e][n]=t.NULL_VALUE},kh={NULL_VALUE:{configurable:!0}};Nh.prototype.getDepth=function(t,e){return this._depth[t][e]},Nh.prototype.setDepth=function(t,e,n){this._depth[t][e]=n},Nh.prototype.isNull=function(){if(0===arguments.length){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==Nh.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this._depth[n][1]===Nh.NULL_VALUE}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._depth[i][r]===Nh.NULL_VALUE}},Nh.prototype.normalize=function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var n=1;n<3;n++){var i=0;this._depth[t][n]>e&&(i=1),this._depth[t][n]=i}}},Nh.prototype.getDelta=function(t){return this._depth[t][rc.RIGHT]-this._depth[t][rc.LEFT]},Nh.prototype.getLocation=function(t,e){return this._depth[t][e]<=0?sl.EXTERIOR:sl.INTERIOR},Nh.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Nh.prototype.add=function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<2;e++)for(var n=1;n<3;n++){var i=t.getLocation(e,n);i!==sl.EXTERIOR&&i!==sl.INTERIOR||(this.isNull(e,n)?this._depth[e][n]=Nh.depthAtLocation(i):this._depth[e][n]+=Nh.depthAtLocation(i))}else if(3===arguments.length){var r=arguments[0],o=arguments[1];arguments[2]===sl.INTERIOR&&this._depth[r][o]++}},Nh.prototype.interfaces_=function(){return[]},Nh.prototype.getClass=function(){return Nh},Nh.depthAtLocation=function(t){return t===sl.EXTERIOR?0:t===sl.INTERIOR?1:Nh.NULL_VALUE},kh.NULL_VALUE.get=function(){return-1},Object.defineProperties(Nh,kh);var Lh=function(t){function e(){if(t.call(this),this.pts=null,this._env=null,this.eiList=new Oh(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Nh,this._depthDelta=0,1===arguments.length){var n=arguments[0];e.call(this,n,null)}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.pts=i,this._label=r}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDepth=function(){return this._depth},e.prototype.getCollapsedEdge=function(){var t=new Array(2).fill(null);return t[0]=this.pts[0],t[1]=this.pts[1],new e(t,hc.toLineLabel(this._label))},e.prototype.isIsolated=function(){return this._isIsolated},e.prototype.getCoordinates=function(){return this.pts},e.prototype.setIsolated=function(t){this._isIsolated=t},e.prototype.setName=function(t){this._name=t},e.prototype.equals=function(t){if(!(t instanceof e))return!1;var n=t;if(this.pts.length!==n.pts.length)return!1;for(var i=!0,r=!0,o=this.pts.length,s=0;s<this.pts.length;s++)if(this.pts[s].equals2D(n.pts[s])||(i=!1),this.pts[s].equals2D(n.pts[--o])||(r=!1),!i&&!r)return!1;return!0},e.prototype.getCoordinate=function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},e.prototype.print=function(t){t.print("edge "+this._name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this._label+" "+this._depthDelta)},e.prototype.computeIM=function(t){e.updateIM(this._label,t)},e.prototype.isCollapsed=function(){return!!this._label.isArea()&&3===this.pts.length&&!!this.pts[0].equals(this.pts[2])},e.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},e.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},e.prototype.getDepthDelta=function(){return this._depthDelta},e.prototype.getNumPoints=function(){return this.pts.length},e.prototype.printReverse=function(t){t.print("edge "+this._name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},e.prototype.getMonotoneChainEdge=function(){return null===this._mce&&(this._mce=new Th(this)),this._mce},e.prototype.getEnvelope=function(){if(null===this._env){this._env=new xl;for(var t=0;t<this.pts.length;t++)this._env.expandToInclude(this.pts[t])}return this._env},e.prototype.addIntersection=function(t,e,n,i){var r=new nl(t.getIntersection(i)),o=e,s=t.getEdgeDistance(n,i),a=o+1;if(a<this.pts.length){var l=this.pts[a];r.equals2D(l)&&(o=a,s=0)}this.eiList.add(r,o,s)},e.prototype.toString=function(){var t=new hl;t.append("edge "+this._name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this._label+" "+this._depthDelta),t.toString()},e.prototype.isPointwiseEqual=function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},e.prototype.setDepthDelta=function(t){this._depthDelta=t},e.prototype.getEdgeIntersectionList=function(){return this.eiList},e.prototype.addIntersections=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.updateIM=function(){if(2!==arguments.length)return t.prototype.updateIM.apply(this,arguments);var e=arguments[0],n=arguments[1];n.setAtLeastIfValid(e.getLocation(0,rc.ON),e.getLocation(1,rc.ON),1),e.isArea()&&(n.setAtLeastIfValid(e.getLocation(0,rc.LEFT),e.getLocation(1,rc.LEFT),2),n.setAtLeastIfValid(e.getLocation(0,rc.RIGHT),e.getLocation(1,rc.RIGHT),2))},e}(Ac),Fh=function(t){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new Ch,this._bufParams=t||null};Fh.prototype.setWorkingPrecisionModel=function(t){this._workingPrecisionModel=t},Fh.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new hc(t.getLabel())).flip(),n.merge(i);var r=Fh.depthDelta(i),o=e.getDepthDelta()+r;e.setDepthDelta(o)}else this._edgeList.add(t),t.setDepthDelta(Fh.depthDelta(t.getLabel()))},Fh.prototype.buildSubgraphs=function(t,e){for(var n=new nu,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new ph(n).getDepth(o);r.computeDepth(s),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},Fh.prototype.createSubgraphs=function(t){for(var e=new nu,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new uc;r.create(i),e.add(r)}}return Nc.sort(e,Nc.reverseOrder()),e},Fh.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Fh.prototype.getNoder=function(t){if(null!==this._workingNoder)return this._workingNoder;var e=new th,n=new Rl;return n.setPrecisionModel(t),e.setSegmentIntersector(new Ih(n)),e},Fh.prototype.buffer=function(t,e){var n=this._workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this._geomFact=t.getFactory();var i=new fh(n,this._bufParams),r=new mh(t,e,i).getCurves();if(r.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(r,n),this._graph=new Ec(new Eh),this._graph.addEdges(this._edgeList.getEdges());var o=this.createSubgraphs(this._graph),s=new xc(this._geomFact);this.buildSubgraphs(o,s);var a=s.getPolygons();return a.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(a)},Fh.prototype.computeNodedEdges=function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings().iterator();i.hasNext();){var r=i.next(),o=r.getCoordinates();if(2!==o.length||!o[0].equals2D(o[1])){var s=r.getData(),a=new Lh(r.getCoordinates(),new hc(s));this.insertUniqueEdge(a)}}},Fh.prototype.setNoder=function(t){this._workingNoder=t},Fh.prototype.interfaces_=function(){return[]},Fh.prototype.getClass=function(){return Fh},Fh.depthDelta=function(t){var e=t.getLocation(0,rc.LEFT),n=t.getLocation(0,rc.RIGHT);return e===sl.INTERIOR&&n===sl.EXTERIOR?1:e===sl.EXTERIOR&&n===sl.INTERIOR?-1:0},Fh.convertSegStrings=function(t){for(var e=new Vu,n=new nu;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)};var Rh=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this._noder=t,this._scaleFactor=e,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3];this._noder=n,this._scaleFactor=i,this._offsetX=r,this._offsetY=o,this._isScaled=!this.isIntegerPrecision()}};Rh.prototype.rescale=function(){if(ll(arguments[0],Zl))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var n=arguments[0],i=0;i<n.length;i++)n[i].x=n[i].x/this._scaleFactor+this._offsetX,n[i].y=n[i].y/this._scaleFactor+this._offsetY;2===n.length&&n[0].equals2D(n[1])&&wl.out.println(n)}},Rh.prototype.scale=function(){if(ll(arguments[0],Zl)){for(var t=arguments[0],e=new nu,n=t.iterator();n.hasNext();){var i=n.next();e.add(new qc(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),s=0;s<r.length;s++)o[s]=new nl(Math.round((r[s].x-this._offsetX)*this._scaleFactor),Math.round((r[s].y-this._offsetY)*this._scaleFactor),r[s].z);return ou.removeRepeatedPoints(o)}},Rh.prototype.isIntegerPrecision=function(){return 1===this._scaleFactor},Rh.prototype.getNodedSubstrings=function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t},Rh.prototype.computeNodes=function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)},Rh.prototype.interfaces_=function(){return[Zc]},Rh.prototype.getClass=function(){return Rh};var Dh=function(){this._li=new Rl,this._segStrings=null;var t=arguments[0];this._segStrings=t},Ph={fact:{configurable:!0}};Dh.prototype.checkEndPtVertexIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1].iterator();i.hasNext();)for(var r=i.next().getCoordinates(),o=1;o<r.length-1;o++)if(r[o].equals(n))throw new Tl("found endpt/interior pt intersection at index "+o+" :pt "+n)},Dh.prototype.checkInteriorIntersections=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this._segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),l=0;l<s.length-1;l++)for(var u=0;u<a.length-1;u++)this.checkInteriorIntersections(r,l,o,u);else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],p=arguments[3];if(c===f&&h===p)return null;var d=c.getCoordinates()[h],A=c.getCoordinates()[h+1],g=f.getCoordinates()[p],m=f.getCoordinates()[p+1];if(this._li.computeIntersection(d,A,g,m),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,d,A)||this.hasInteriorIntersection(this._li,g,m)))throw new Tl("found non-noded intersection at "+d+"-"+A+" and "+g+"-"+m)}},Dh.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},Dh.prototype.checkCollapses=function(){if(0===arguments.length)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0].getCoordinates(),i=0;i<n.length-2;i++)this.checkCollapse(n[i],n[i+1],n[i+2])},Dh.prototype.hasInteriorIntersection=function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},Dh.prototype.checkCollapse=function(t,e,n){if(t.equals(n))throw new Tl("found non-noded collapse at "+Dh.fact.createLineString([t,e,n]))},Dh.prototype.interfaces_=function(){return[]},Dh.prototype.getClass=function(){return Dh},Ph.fact.get=function(){return new Vu},Object.defineProperties(Dh,Ph);var Uh=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=n,e<=0)throw new Va("Scale factor must be non-zero");1!==e&&(this._pt=new nl(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new nl,this._p1Scaled=new nl),this.initCorners(this._pt)},Qh={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};Uh.prototype.intersectsScaled=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this._maxx<n||this._minx>i||this._maxy<r||this._miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return kl.isTrue(!(s&&a),"Found bad envelope test"),a},Uh.prototype.initCorners=function(t){this._minx=t.x-.5,this._maxx=t.x+.5,this._miny=t.y-.5,this._maxy=t.y+.5,this._corner[0]=new nl(this._maxx,this._maxy),this._corner[1]=new nl(this._minx,this._maxy),this._corner[2]=new nl(this._minx,this._miny),this._corner[3]=new nl(this._maxx,this._miny)},Uh.prototype.intersects=function(t,e){return 1===this._scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},Uh.prototype.scale=function(t){return Math.round(t*this._scaleFactor)},Uh.prototype.getCoordinate=function(){return this._originalPt},Uh.prototype.copyScaled=function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},Uh.prototype.getSafeEnvelope=function(){if(null===this._safeEnv){var t=Uh.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new xl(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv},Uh.prototype.intersectsPixelClosure=function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.hasIntersection()))))},Uh.prototype.intersectsToleranceSquare=function(t,e){var n=!1,i=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!(this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),this._li.isProper()||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),this._li.isProper()||(this._li.hasIntersection()&&(i=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),this._li.isProper()||n&&i||t.equals(this._pt)||e.equals(this._pt)))))},Uh.prototype.addSnappedNode=function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return!!this.intersects(n,i)&&(t.addIntersection(this.getCoordinate(),e),!0)},Uh.prototype.interfaces_=function(){return[]},Uh.prototype.getClass=function(){return Uh},Qh.SAFE_ENV_EXPANSION_FACTOR.get=function(){return.75},Object.defineProperties(Uh,Qh);var Hh=function(){this.tempEnv1=new xl,this.selectedSegment=new Wc};Hh.prototype.select=function(){if(1===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},Hh.prototype.interfaces_=function(){return[]},Hh.prototype.getClass=function(){return Hh};var jh=function(){this._index=null;var t=arguments[0];this._index=t},zh={HotPixelSnapAction:{configurable:!0}};jh.prototype.snap=function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),o=new Kh(e,n,i);return this._index.query(r,{interfaces_:function(){return[Sc]},visitItem:function(t){t.select(r,o)}}),o.isNodeAdded()}},jh.prototype.interfaces_=function(){return[]},jh.prototype.getClass=function(){return jh},zh.HotPixelSnapAction.get=function(){return Kh},Object.defineProperties(jh,zh);var Kh=function(t){function e(){t.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],n=arguments[1],i=arguments[2];this._hotPixel=e,this._parentEdge=n,this._hotPixelVertexIndex=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isNodeAdded=function(){return this._isNodeAdded},e.prototype.select=function(){if(2!==arguments.length)return t.prototype.select.apply(this,arguments);var e=arguments[0],n=arguments[1],i=e.getContext();if(null!==this._parentEdge&&i===this._parentEdge&&n===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(i,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Hh),Gh=function(){this._li=null,this._interiorIntersections=null;var t=arguments[0];this._li=t,this._interiorIntersections=new nu};Gh.prototype.processIntersections=function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var l=0;l<this._li.getIntersectionNum();l++)this._interiorIntersections.add(this._li.getIntersection(l));t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)}},Gh.prototype.isDone=function(){return!1},Gh.prototype.getInteriorIntersections=function(){return this._interiorIntersections},Gh.prototype.interfaces_=function(){return[Bh]},Gh.prototype.getClass=function(){return Gh};var qh=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var t=arguments[0];this._pm=t,this._li=new Rl,this._li.setPrecisionModel(t),this._scaleFactor=t.getScale()};qh.prototype.checkCorrectness=function(t){var e=qc.getNodedSubstrings(t),n=new Dh(e);try{n.checkValid()}catch(t){if(!(t instanceof _l))throw t;t.printStackTrace()}},qh.prototype.getNodedSubstrings=function(){return qc.getNodedSubstrings(this._nodedSegStrings)},qh.prototype.snapRound=function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},qh.prototype.findInteriorIntersections=function(t,e){var n=new Gh(e);return this._noder.setSegmentIntersector(n),this._noder.computeNodes(t),n.getInteriorIntersections()},qh.prototype.computeVertexSnaps=function(){if(ll(arguments[0],Zl))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.computeVertexSnaps(e)}else if(arguments[0]instanceof qc)for(var n=arguments[0],i=n.getCoordinates(),r=0;r<i.length;r++){var o=new Uh(i[r],this._scaleFactor,this._li);this._pointSnapper.snap(o,n,r)&&n.addIntersection(i[r],r)}},qh.prototype.computeNodes=function(t){this._nodedSegStrings=t,this._noder=new th,this._pointSnapper=new jh(this._noder.getIndex()),this.snapRound(t,this._li)},qh.prototype.computeIntersectionSnaps=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new Uh(n,this._scaleFactor,this._li);this._pointSnapper.snap(i)}},qh.prototype.interfaces_=function(){return[Zc]},qh.prototype.getClass=function(){return qh};var Wh=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new nh,this._resultGeometry=null,this._saveException=null,1===arguments.length){var t=arguments[0];this._argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._argGeom=e,this._bufParams=n}},Yh={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};Wh.prototype.bufferFixedPrecision=function(t){var e=new Rh(new qh(new qu(1)),t.getScale()),n=new Fh(this._bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this._resultGeometry=n.buffer(this._argGeom,this._distance)},Wh.prototype.bufferReducedPrecision=function(){var t=this;if(0===arguments.length){for(var e=Wh.MAX_PRECISION_DIGITS;e>=0;e--){try{t.bufferReducedPrecision(e)}catch(e){if(!(e instanceof ac))throw e;t._saveException=e}if(null!==t._resultGeometry)return null}throw this._saveException}if(1===arguments.length){var n=arguments[0],i=Wh.precisionScaleFactor(this._argGeom,this._distance,n),r=new qu(i);this.bufferFixedPrecision(r)}},Wh.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===qu.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},Wh.prototype.setQuadrantSegments=function(t){this._bufParams.setQuadrantSegments(t)},Wh.prototype.bufferOriginalPrecision=function(){try{var t=new Fh(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(t){if(!(t instanceof Tl))throw t;this._saveException=t}},Wh.prototype.getResultGeometry=function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry},Wh.prototype.setEndCapStyle=function(t){this._bufParams.setEndCapStyle(t)},Wh.prototype.interfaces_=function(){return[]},Wh.prototype.getClass=function(){return Wh},Wh.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new Wh(t).getResultGeometry(e)}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof jl&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1],r=arguments[2],o=new Wh(n);return o.setQuadrantSegments(r),o.getResultGeometry(i)}if(arguments[2]instanceof nh&&arguments[0]instanceof jl&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],l=arguments[2];return new Wh(s,l).getResultGeometry(a)}}else if(4===arguments.length){var u=arguments[0],c=arguments[1],h=arguments[2],f=arguments[3],p=new Wh(u);return p.setQuadrantSegments(h),p.setEndCapStyle(f),p.getResultGeometry(c)}},Wh.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=ul.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY()))+2*(e>0?e:0),o=n-Math.trunc(Math.log(r)/Math.log(10)+1);return Math.pow(10,o)},Yh.CAP_ROUND.get=function(){return nh.CAP_ROUND},Yh.CAP_BUTT.get=function(){return nh.CAP_FLAT},Yh.CAP_FLAT.get=function(){return nh.CAP_FLAT},Yh.CAP_SQUARE.get=function(){return nh.CAP_SQUARE},Yh.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(Wh,Yh);var Xh=function(){this._pt=[new nl,new nl],this._distance=Ja.NaN,this._isNull=!0};Xh.prototype.getCoordinates=function(){return this._pt},Xh.prototype.getCoordinate=function(t){return this._pt[t]},Xh.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},Xh.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},Xh.prototype.getDistance=function(){return this._distance},Xh.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},Xh.prototype.interfaces_=function(){return[]},Xh.prototype.getClass=function(){return Xh};var Vh=function(){};Vh.prototype.interfaces_=function(){return[]},Vh.prototype.getClass=function(){return Vh},Vh.computeDistance=function(){if(arguments[2]instanceof Xh&&arguments[0]instanceof Su&&arguments[1]instanceof nl)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=t.getCoordinates(),r=new Wc,o=0;o<i.length-1;o++){r.setCoordinates(i[o],i[o+1]);var s=r.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof Xh&&arguments[0]instanceof Nu&&arguments[1]instanceof nl){var a=arguments[0],l=arguments[1],u=arguments[2];Vh.computeDistance(a.getExteriorRing(),l,u);for(var c=0;c<a.getNumInteriorRing();c++)Vh.computeDistance(a.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof Xh&&arguments[0]instanceof jl&&arguments[1]instanceof nl){var h=arguments[0],f=arguments[1],p=arguments[2];if(h instanceof Su)Vh.computeDistance(h,f,p);else if(h instanceof Nu)Vh.computeDistance(h,f,p);else if(h instanceof bu)for(var d=h,A=0;A<d.getNumGeometries();A++){var g=d.getGeometryN(A);Vh.computeDistance(g,f,p)}else p.setMinimum(h.getCoordinate(),f)}else if(arguments[2]instanceof Xh&&arguments[0]instanceof Wc&&arguments[1]instanceof nl){var m=arguments[0],v=arguments[1],y=arguments[2],_=m.closestPoint(v);y.setMinimum(_,v)}};var Jh=function(t){this._maxPtDist=new Xh,this._inputGeom=t||null},Zh={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Jh.prototype.computeMaxMidpointDistance=function(t){var e=new tf(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Jh.prototype.computeMaxVertexDistance=function(t){var e=new $h(this._inputGeom);t.apply(e),this._maxPtDist.setMaximum(e.getMaxPointDistance())},Jh.prototype.findDistance=function(t){return this.computeMaxVertexDistance(t),this.computeMaxMidpointDistance(t),this._maxPtDist.getDistance()},Jh.prototype.getDistancePoints=function(){return this._maxPtDist},Jh.prototype.interfaces_=function(){return[]},Jh.prototype.getClass=function(){return Jh},Zh.MaxPointDistanceFilter.get=function(){return $h},Zh.MaxMidpointDistanceFilter.get=function(){return tf},Object.defineProperties(Jh,Zh);var $h=function(t){this._maxPtDist=new Xh,this._minPtDist=new Xh,this._geom=t||null};$h.prototype.filter=function(t){this._minPtDist.initialize(),Vh.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},$h.prototype.getMaxPointDistance=function(){return this._maxPtDist},$h.prototype.interfaces_=function(){return[Gl]},$h.prototype.getClass=function(){return $h};var tf=function(t){this._maxPtDist=new Xh,this._minPtDist=new Xh,this._geom=t||null};tf.prototype.filter=function(t,e){if(0===e)return null;var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=new nl((n.x+i.x)/2,(n.y+i.y)/2);this._minPtDist.initialize(),Vh.computeDistance(this._geom,r,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},tf.prototype.isDone=function(){return!1},tf.prototype.isGeometryChanged=function(){return!1},tf.prototype.getMaxPointDistance=function(){return this._maxPtDist},tf.prototype.interfaces_=function(){return[_u]},tf.prototype.getClass=function(){return tf};var ef=function(t){this._comps=t||null};ef.prototype.filter=function(t){t instanceof Nu&&this._comps.add(t)},ef.prototype.interfaces_=function(){return[yu]},ef.prototype.getClass=function(){return ef},ef.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return ef.getPolygons(t,new nu)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Nu?n.add(e):e instanceof bu&&e.apply(new ef(n)),n}};var nf=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this._lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this._lines=e,this._isForcedToLineString=n}};nf.prototype.filter=function(t){if(this._isForcedToLineString&&t instanceof Lu){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this._lines.add(e),null}t instanceof Su&&this._lines.add(t)},nf.prototype.setForceToLineString=function(t){this._isForcedToLineString=t},nf.prototype.interfaces_=function(){return[Hl]},nf.prototype.getClass=function(){return nf},nf.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(nf.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(nf.getLines(e,n))}},nf.getLines=function(){if(1===arguments.length){var t=arguments[0];return nf.getLines(t,!1)}if(2===arguments.length){if(ll(arguments[0],Zl)&&ll(arguments[1],Zl)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var r=i.next();nf.getLines(r,n)}return n}if(arguments[0]instanceof jl&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new nu;return o.apply(new nf(a,s)),a}if(arguments[0]instanceof jl&&ll(arguments[1],Zl)){var l=arguments[0],u=arguments[1];return l instanceof Su?u.add(l):l.apply(new nf(u)),u}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&ll(arguments[0],Zl)&&ll(arguments[1],Zl)){for(var c=arguments[0],h=arguments[1],f=arguments[2],p=c.iterator();p.hasNext();){var d=p.next();nf.getLines(d,h,f)}return h}if("boolean"==typeof arguments[2]&&arguments[0]instanceof jl&&ll(arguments[1],Zl)){var A=arguments[0],g=arguments[1],m=arguments[2];return A.apply(new nf(g,m)),g}}};var rf=function(){if(this._boundaryRule=ql.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new Va("Rule must be non-null");this._boundaryRule=t}};rf.prototype.locateInternal=function(){if(arguments[0]instanceof nl&&arguments[1]instanceof Nu){var t=arguments[0],e=arguments[1];if(e.isEmpty())return sl.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===sl.EXTERIOR)return sl.EXTERIOR;if(i===sl.BOUNDARY)return sl.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),s=this.locateInPolygonRing(t,o);if(s===sl.INTERIOR)return sl.EXTERIOR;if(s===sl.BOUNDARY)return sl.BOUNDARY}return sl.INTERIOR}if(arguments[0]instanceof nl&&arguments[1]instanceof Su){var a=arguments[0],l=arguments[1];if(!l.getEnvelopeInternal().intersects(a))return sl.EXTERIOR;var u=l.getCoordinates();return l.isClosed()||!a.equals(u[0])&&!a.equals(u[u.length-1])?Ul.isOnLine(a,u)?sl.INTERIOR:sl.EXTERIOR:sl.BOUNDARY}if(arguments[0]instanceof nl&&arguments[1]instanceof Mu){var c=arguments[0];return arguments[1].getCoordinate().equals2D(c)?sl.INTERIOR:sl.EXTERIOR}},rf.prototype.locateInPolygonRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?Ul.locatePointInRing(t,e.getCoordinates()):sl.EXTERIOR},rf.prototype.intersects=function(t,e){return this.locate(t,e)!==sl.EXTERIOR},rf.prototype.updateLocationInfo=function(t){t===sl.INTERIOR&&(this._isIn=!0),t===sl.BOUNDARY&&this._numBoundaries++},rf.prototype.computeLocation=function(t,e){if(e instanceof Mu&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Su)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Nu)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof wu)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof Fu)for(var o=e,s=0;s<o.getNumGeometries();s++){var a=o.getGeometryN(s);this.updateLocationInfo(this.locateInternal(t,a))}else if(e instanceof bu)for(var l=new yh(e);l.hasNext();){var u=l.next();u!==e&&this.computeLocation(t,u)}},rf.prototype.locate=function(t,e){return e.isEmpty()?sl.EXTERIOR:e instanceof Su?this.locateInternal(t,e):e instanceof Nu?this.locateInternal(t,e):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(t,e),this._boundaryRule.isInBoundary(this._numBoundaries)?sl.BOUNDARY:this._numBoundaries>0||this._isIn?sl.INTERIOR:sl.EXTERIOR)},rf.prototype.interfaces_=function(){return[]},rf.prototype.getClass=function(){return rf};var of=function t(){if(this._component=null,this._segIndex=null,this._pt=null,2===arguments.length){var e=arguments[0],n=arguments[1];t.call(this,e,t.INSIDE_AREA,n)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._component=i,this._segIndex=r,this._pt=o}},sf={INSIDE_AREA:{configurable:!0}};of.prototype.isInsideArea=function(){return this._segIndex===of.INSIDE_AREA},of.prototype.getCoordinate=function(){return this._pt},of.prototype.getGeometryComponent=function(){return this._component},of.prototype.getSegmentIndex=function(){return this._segIndex},of.prototype.interfaces_=function(){return[]},of.prototype.getClass=function(){return of},sf.INSIDE_AREA.get=function(){return-1},Object.defineProperties(of,sf);var af=function(t){this._pts=t||null};af.prototype.filter=function(t){t instanceof Mu&&this._pts.add(t)},af.prototype.interfaces_=function(){return[yu]},af.prototype.getClass=function(){return af},af.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof Mu?Nc.singletonList(t):af.getPoints(t,new nu)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Mu?n.add(e):e instanceof bu&&e.apply(new af(n)),n}};var lf=function(){this._locations=null;var t=arguments[0];this._locations=t};lf.prototype.filter=function(t){(t instanceof Mu||t instanceof Su||t instanceof Nu)&&this._locations.add(new of(t,0,t.getCoordinate()))},lf.prototype.interfaces_=function(){return[yu]},lf.prototype.getClass=function(){return lf},lf.getLocations=function(t){var e=new nu;return t.apply(new lf(e)),e};var uf=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new rf,this._minDistanceLocation=null,this._minDistance=Ja.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];this._geom=[t,e],this._terminateDistance=0}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=n,this._geom[1]=i,this._terminateDistance=r}};uf.prototype.computeContainmentDistance=function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=ef.getPolygons(this._geom[e]);if(r.size()>0){var o=lf.getLocations(this._geom[i]);if(this.computeContainmentDistance(o,r,n),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[i]=n[0],this._minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&ll(arguments[0],eu)&&ll(arguments[1],eu)){for(var s=arguments[0],a=arguments[1],l=arguments[2],u=0;u<s.size();u++)for(var c=s.get(u),h=0;h<a.size();h++)if(this.computeContainmentDistance(c,a.get(h),l),this._minDistance<=this._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof of&&arguments[1]instanceof Nu){var f=arguments[0],p=arguments[1],d=arguments[2],A=f.getCoordinate();if(sl.EXTERIOR!==this._ptLocator.locate(A,p))return this._minDistance=0,d[0]=f,d[1]=new of(p,A),null}},uf.prototype.computeMinDistanceLinesPoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},uf.prototype.computeFacetDistance=function(){var t=new Array(2).fill(null),e=nf.getLines(this._geom[0]),n=nf.getLines(this._geom[1]),i=af.getPoints(this._geom[0]),r=af.getPoints(this._geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this._minDistance<=this._terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},uf.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},uf.prototype.updateMinDistance=function(t,e){if(null===t[0])return null;e?(this._minDistanceLocation[0]=t[1],this._minDistanceLocation[1]=t[0]):(this._minDistanceLocation[0]=t[0],this._minDistanceLocation[1]=t[1])},uf.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},uf.prototype.computeMinDistance=function(){if(0===arguments.length){if(null!==this._minDistanceLocation)return null;if(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Su&&arguments[1]instanceof Mu){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this._minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){var s=Ul.distancePointLine(r,i[o],i[o+1]);if(s<this._minDistance){this._minDistance=s;var a=new Wc(i[o],i[o+1]).closestPoint(r);n[0]=new of(t,o,a),n[1]=new of(e,0,r)}if(this._minDistance<=this._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Su&&arguments[1]instanceof Su){var l=arguments[0],u=arguments[1],c=arguments[2];if(l.getEnvelopeInternal().distance(u.getEnvelopeInternal())>this._minDistance)return null;for(var h=l.getCoordinates(),f=u.getCoordinates(),p=0;p<h.length-1;p++)for(var d=0;d<f.length-1;d++){var A=Ul.distanceLineLine(h[p],h[p+1],f[d],f[d+1]);if(A<this._minDistance){this._minDistance=A;var g=new Wc(h[p],h[p+1]),m=new Wc(f[d],f[d+1]),v=g.closestPoints(m);c[0]=new of(l,p,v[0]),c[1]=new of(u,d,v[1])}if(this._minDistance<=this._terminateDistance)return null}}},uf.prototype.computeMinDistancePoints=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this._minDistance&&(this._minDistance=a,n[0]=new of(r,0,r.getCoordinate()),n[1]=new of(s,0,s.getCoordinate())),this._minDistance<=this._terminateDistance)return null}},uf.prototype.distance=function(){if(null===this._geom[0]||null===this._geom[1])throw new Va("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},uf.prototype.computeMinDistanceLines=function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this._minDistance<=this._terminateDistance)return null}},uf.prototype.interfaces_=function(){return[]},uf.prototype.getClass=function(){return uf},uf.distance=function(t,e){return new uf(t,e).distance()},uf.isWithinDistance=function(t,e,n){return new uf(t,e,n).distance()<=n},uf.nearestPoints=function(t,e){return new uf(t,e).nearestPoints()};var cf=function(){this._pt=[new nl,new nl],this._distance=Ja.NaN,this._isNull=!0};cf.prototype.getCoordinates=function(){return this._pt},cf.prototype.getCoordinate=function(t){return this._pt[t]},cf.prototype.setMinimum=function(){if(1===arguments.length){var t=arguments[0];this.setMinimum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i<this._distance&&this.initialize(e,n,i)}},cf.prototype.initialize=function(){if(0===arguments.length)this._isNull=!0;else if(2===arguments.length){var t=arguments[0],e=arguments[1];this._pt[0].setCoordinate(t),this._pt[1].setCoordinate(e),this._distance=t.distance(e),this._isNull=!1}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this._pt[0].setCoordinate(n),this._pt[1].setCoordinate(i),this._distance=r,this._isNull=!1}},cf.prototype.toString=function(){return Ml.toLineString(this._pt[0],this._pt[1])},cf.prototype.getDistance=function(){return this._distance},cf.prototype.setMaximum=function(){if(1===arguments.length){var t=arguments[0];this.setMaximum(t._pt[0],t._pt[1])}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this._isNull)return this.initialize(e,n),null;var i=e.distance(n);i>this._distance&&this.initialize(e,n,i)}},cf.prototype.interfaces_=function(){return[]},cf.prototype.getClass=function(){return cf};var hf=function(){};hf.prototype.interfaces_=function(){return[]},hf.prototype.getClass=function(){return hf},hf.computeDistance=function(){if(arguments[2]instanceof cf&&arguments[0]instanceof Su&&arguments[1]instanceof nl)for(var t=arguments[0],e=arguments[1],n=arguments[2],i=new Wc,r=t.getCoordinates(),o=0;o<r.length-1;o++){i.setCoordinates(r[o],r[o+1]);var s=i.closestPoint(e);n.setMinimum(s,e)}else if(arguments[2]instanceof cf&&arguments[0]instanceof Nu&&arguments[1]instanceof nl){var a=arguments[0],l=arguments[1],u=arguments[2];hf.computeDistance(a.getExteriorRing(),l,u);for(var c=0;c<a.getNumInteriorRing();c++)hf.computeDistance(a.getInteriorRingN(c),l,u)}else if(arguments[2]instanceof cf&&arguments[0]instanceof jl&&arguments[1]instanceof nl){var h=arguments[0],f=arguments[1],p=arguments[2];if(h instanceof Su)hf.computeDistance(h,f,p);else if(h instanceof Nu)hf.computeDistance(h,f,p);else if(h instanceof bu)for(var d=h,A=0;A<d.getNumGeometries();A++){var g=d.getGeometryN(A);hf.computeDistance(g,f,p)}else p.setMinimum(h.getCoordinate(),f)}else if(arguments[2]instanceof cf&&arguments[0]instanceof Wc&&arguments[1]instanceof nl){var m=arguments[0],v=arguments[1],y=arguments[2],_=m.closestPoint(v);y.setMinimum(_,v)}};var ff=function(){this._g0=null,this._g1=null,this._ptDist=new cf,this._densifyFrac=0;var t=arguments[0],e=arguments[1];this._g0=t,this._g1=e},pf={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};ff.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},ff.prototype.setDensifyFraction=function(t){if(t>1||t<=0)throw new Va("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=t},ff.prototype.compute=function(t,e){this.computeOrientedDistance(t,e,this._ptDist),this.computeOrientedDistance(e,t,this._ptDist)},ff.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},ff.prototype.computeOrientedDistance=function(t,e,n){var i=new df(e);if(t.apply(i),n.setMaximum(i.getMaxPointDistance()),this._densifyFrac>0){var r=new Af(e,this._densifyFrac);t.apply(r),n.setMaximum(r.getMaxPointDistance())}},ff.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},ff.prototype.interfaces_=function(){return[]},ff.prototype.getClass=function(){return ff},ff.distance=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return new ff(t,e).distance()}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new ff(n,i);return o.setDensifyFraction(r),o.distance()}},pf.MaxPointDistanceFilter.get=function(){return df},pf.MaxDensifiedByFractionDistanceFilter.get=function(){return Af},Object.defineProperties(ff,pf);var df=function(){this._maxPtDist=new cf,this._minPtDist=new cf,this._euclideanDist=new hf,this._geom=null;var t=arguments[0];this._geom=t};df.prototype.filter=function(t){this._minPtDist.initialize(),hf.computeDistance(this._geom,t,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},df.prototype.getMaxPointDistance=function(){return this._maxPtDist},df.prototype.interfaces_=function(){return[Gl]},df.prototype.getClass=function(){return df};var Af=function(){this._maxPtDist=new cf,this._minPtDist=new cf,this._geom=null,this._numSubSegs=0;var t=arguments[0],e=arguments[1];this._geom=t,this._numSubSegs=Math.trunc(Math.round(1/e))};Af.prototype.filter=function(t,e){if(0===e)return null;for(var n=t.getCoordinate(e-1),i=t.getCoordinate(e),r=(i.x-n.x)/this._numSubSegs,o=(i.y-n.y)/this._numSubSegs,s=0;s<this._numSubSegs;s++){var a=n.x+s*r,l=n.y+s*o,u=new nl(a,l);this._minPtDist.initialize(),hf.computeDistance(this._geom,u,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)}},Af.prototype.isDone=function(){return!1},Af.prototype.isGeometryChanged=function(){return!1},Af.prototype.getMaxPointDistance=function(){return this._maxPtDist},Af.prototype.interfaces_=function(){return[_u]},Af.prototype.getClass=function(){return Af};var gf=function(t,e,n){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._bufDistance=e||null,this._result=n||null},mf={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};gf.prototype.checkMaximumDistance=function(t,e,n){var i=new ff(e,t);if(i.setDensifyFraction(.25),this._maxDistanceFound=i.orientedDistance(),this._maxDistanceFound>n){this._isValid=!1;var r=i.getCoordinates();this._errorLocation=r[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+Ml.toLineString(r[0],r[1])+")"}},gf.prototype.isValid=function(){var t=Math.abs(this._bufDistance),e=gf.MAX_DISTANCE_DIFF_FRAC*t;return this._minValidDistance=t-e,this._maxValidDistance=t+e,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),gf.VERBOSE&&wl.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},gf.prototype.checkNegativeValid=function(){if(!(this._input instanceof Nu||this._input instanceof Fu||this._input instanceof bu))return null;var t=this.getPolygonLines(this._input);if(this.checkMinimumDistance(t,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(t,this._result,this._maxValidDistance)},gf.prototype.getErrorIndicator=function(){return this._errorIndicator},gf.prototype.checkMinimumDistance=function(t,e,n){var i=new uf(t,e,n);if(this._minDistanceFound=i.distance(),this._minDistanceFound<n){this._isValid=!1;var r=i.nearestPoints();this._errorLocation=i.nearestPoints()[1],this._errorIndicator=t.getFactory().createLineString(r),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+Ml.toLineString(r[0],r[1])+" )"}},gf.prototype.checkPositiveValid=function(){var t=this._result.getBoundary();if(this.checkMinimumDistance(this._input,t,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,t,this._maxValidDistance)},gf.prototype.getErrorLocation=function(){return this._errorLocation},gf.prototype.getPolygonLines=function(t){for(var e=new nu,n=new nf(e),i=ef.getPolygons(t).iterator();i.hasNext();)i.next().apply(n);return t.getFactory().buildGeometry(e)},gf.prototype.getErrorMessage=function(){return this._errMsg},gf.prototype.interfaces_=function(){return[]},gf.prototype.getClass=function(){return gf},mf.VERBOSE.get=function(){return!1},mf.MAX_DISTANCE_DIFF_FRAC.get=function(){return.012},Object.defineProperties(gf,mf);var vf=function(t,e,n){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=t||null,this._distance=e||null,this._result=n||null},yf={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};vf.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},vf.prototype.checkEnvelope=function(){if(this._distance<0)return null;var t=this._distance*vf.MAX_ENV_DIFF_FRAC;0===t&&(t=.001);var e=new xl(this._input.getEnvelopeInternal());e.expandBy(this._distance);var n=new xl(this._result.getEnvelopeInternal());n.expandBy(t),n.contains(e)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(n)),this.report("Envelope")},vf.prototype.checkDistance=function(){var t=new gf(this._input,this._distance,this._result);t.isValid()||(this._isValid=!1,this._errorMsg=t.getErrorMessage(),this._errorLocation=t.getErrorLocation(),this._errorIndicator=t.getErrorIndicator()),this.report("Distance")},vf.prototype.checkArea=function(){var t=this._input.getArea(),e=this._result.getArea();this._distance>0&&t>e&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&t<e&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},vf.prototype.checkPolygonal=function(){this._result instanceof Nu||this._result instanceof Fu||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},vf.prototype.getErrorIndicator=function(){return this._errorIndicator},vf.prototype.getErrorLocation=function(){return this._errorLocation},vf.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2?null:this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},vf.prototype.report=function(t){if(!vf.VERBOSE)return null;wl.out.println("Check "+t+": "+(this._isValid?"passed":"FAILED"))},vf.prototype.getErrorMessage=function(){return this._errorMsg},vf.prototype.interfaces_=function(){return[]},vf.prototype.getClass=function(){return vf},vf.isValidMsg=function(t,e,n){var i=new vf(t,e,n);return i.isValid()?null:i.getErrorMessage()},vf.isValid=function(t,e,n){return!!new vf(t,e,n).isValid()},yf.VERBOSE.get=function(){return!1},yf.MAX_ENV_DIFF_FRAC.get=function(){return.012},Object.defineProperties(vf,yf);var _f=function(){this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e};_f.prototype.getCoordinates=function(){return this._pts},_f.prototype.size=function(){return this._pts.length},_f.prototype.getCoordinate=function(t){return this._pts[t]},_f.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},_f.prototype.getSegmentOctant=function(t){return t===this._pts.length-1?-1:zc.octant(this.getCoordinate(t),this.getCoordinate(t+1))},_f.prototype.setData=function(t){this._data=t},_f.prototype.getData=function(){return this._data},_f.prototype.toString=function(){return Ml.toLineString(new Hu(this._pts))},_f.prototype.interfaces_=function(){return[Kc]},_f.prototype.getClass=function(){return _f};var bf=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new nu,this._intersectionCount=0,this._keepIntersections=!0;var t=arguments[0];this._li=t,this._interiorIntersection=null};bf.prototype.getInteriorIntersection=function(){return this._interiorIntersection},bf.prototype.setCheckEndSegmentsOnly=function(t){this._isCheckEndSegmentsOnly=t},bf.prototype.getIntersectionSegments=function(){return this._intSegments},bf.prototype.count=function(){return this._intersectionCount},bf.prototype.getIntersections=function(){return this._intersections},bf.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},bf.prototype.setKeepIntersections=function(t){this._keepIntersections=t},bf.prototype.processIntersections=function(t,e,n,i){if(!this._findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this._isCheckEndSegmentsOnly&&!this.isEndSegment(t,e)&&!this.isEndSegment(n,i))return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=r,this._intSegments[1]=o,this._intSegments[2]=s,this._intSegments[3]=a,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},bf.prototype.isEndSegment=function(t,e){return 0===e||e>=t.size()-2},bf.prototype.hasIntersection=function(){return null!==this._interiorIntersection},bf.prototype.isDone=function(){return!this._findAllIntersections&&null!==this._interiorIntersection},bf.prototype.interfaces_=function(){return[Bh]},bf.prototype.getClass=function(){return bf},bf.createAllIntersectionsFinder=function(t){var e=new bf(t);return e.setFindAllIntersections(!0),e},bf.createAnyIntersectionFinder=function(t){return new bf(t)},bf.createIntersectionCounter=function(t){var e=new bf(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e};var wf=function(){this._li=new Rl,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var t=arguments[0];this._segStrings=t};wf.prototype.execute=function(){if(null!==this._segInt)return null;this.checkInteriorIntersections()},wf.prototype.getIntersections=function(){return this._segInt.getIntersections()},wf.prototype.isValid=function(){return this.execute(),this._isValid},wf.prototype.setFindAllIntersections=function(t){this._findAllIntersections=t},wf.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new bf(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var t=new th;if(t.setSegmentIntersector(this._segInt),t.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},wf.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new ac(this.getErrorMessage(),this._segInt.getInteriorIntersection())},wf.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var t=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+Ml.toLineString(t[0],t[1])+" and "+Ml.toLineString(t[2],t[3])},wf.prototype.interfaces_=function(){return[]},wf.prototype.getClass=function(){return wf},wf.computeIntersections=function(t){var e=new wf(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()};var Ef=function t(){this._nv=null;var e=arguments[0];this._nv=new wf(t.toSegmentStrings(e))};Ef.prototype.checkValid=function(){this._nv.checkValid()},Ef.prototype.interfaces_=function(){return[]},Ef.prototype.getClass=function(){return Ef},Ef.toSegmentStrings=function(t){for(var e=new nu,n=t.iterator();n.hasNext();){var i=n.next();e.add(new _f(i.getCoordinates(),i))}return e},Ef.checkValid=function(t){new Ef(t).checkValid()};var xf=function(t){this._mapOp=t};xf.prototype.map=function(t){for(var e=new nu,n=0;n<t.getNumGeometries();n++){var i=this._mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(Vu.toGeometryArray(e))},xf.prototype.interfaces_=function(){return[]},xf.prototype.getClass=function(){return xf},xf.map=function(t,e){return new xf(e).map(t)};var Cf=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new nu,this._resultLineList=new nu;var t=arguments[0],e=arguments[1],n=arguments[2];this._op=t,this._geometryFactory=e,this._ptLocator=n};Cf.prototype.collectLines=function(t){for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this._lineEdgesList),this.collectBoundaryTouchEdge(n,t,this._lineEdgesList)}},Cf.prototype.labelIsolatedLine=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,n)},Cf.prototype.build=function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this._resultLineList},Cf.prototype.collectLineEdge=function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!op.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},Cf.prototype.findCoveredLineEdges=function(){for(var t=this._op.getGraph().getNodes().iterator();t.hasNext();)t.next().getEdges().findCoveredLineEdges();for(var e=this._op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getEdge();if(n.isLineEdge()&&!i.isCoveredSet()){var r=this._op.isCoveredByA(n.getCoordinate());i.setCovered(r)}}},Cf.prototype.labelIsolatedLines=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},Cf.prototype.buildLines=function(t){for(var e=this._lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=this._geometryFactory.createLineString(n.getCoordinates());this._resultLineList.add(i),n.setInResult(!0)}},Cf.prototype.collectBoundaryTouchEdge=function(t,e,n){var i=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(kl.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(op.isResultOfOp(i,e)&&e===op.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},Cf.prototype.interfaces_=function(){return[]},Cf.prototype.getClass=function(){return Cf};var Bf=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new nu;var t=arguments[0],e=arguments[1];this._op=t,this._geometryFactory=e};Bf.prototype.filterCoveredNodeToPoint=function(t){var e=t.getCoordinate();if(!this._op.isCoveredByLA(e)){var n=this._geometryFactory.createPoint(e);this._resultPointList.add(n)}},Bf.prototype.extractNonCoveredResultNodes=function(t){for(var e=this._op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==op.INTERSECTION)){var i=n.getLabel();op.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},Bf.prototype.build=function(t){return this.extractNonCoveredResultNodes(t),this._resultPointList},Bf.prototype.interfaces_=function(){return[]},Bf.prototype.getClass=function(){return Bf};var If=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};If.prototype.transformPoint=function(t,e){return this._factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},If.prototype.transformPolygon=function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof Lu&&!i.isEmpty()||(n=!1);for(var r=new nu,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof Lu||(n=!1),r.add(s))}if(n)return this._factory.createPolygon(i,r.toArray([]));var a=new nu;return null!==i&&a.add(i),a.addAll(r),this._factory.buildGeometry(a)},If.prototype.createCoordinateSequence=function(t){return this._factory.getCoordinateSequenceFactory().create(t)},If.prototype.getInputGeometry=function(){return this._inputGeom},If.prototype.transformMultiLineString=function(t,e){for(var n=new nu,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},If.prototype.transformCoordinates=function(t,e){return this.copy(t)},If.prototype.transformLineString=function(t,e){return this._factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},If.prototype.transformMultiPoint=function(t,e){for(var n=new nu,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},If.prototype.transformMultiPolygon=function(t,e){for(var n=new nu,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this._factory.buildGeometry(n)},If.prototype.copy=function(t){return t.copy()},If.prototype.transformGeometryCollection=function(t,e){for(var n=new nu,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this._pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Vu.toGeometryArray(n)):this._factory.buildGeometry(n)},If.prototype.transform=function(t){if(this._inputGeom=t,this._factory=t.getFactory(),t instanceof Mu)return this.transformPoint(t,null);if(t instanceof ku)return this.transformMultiPoint(t,null);if(t instanceof Lu)return this.transformLinearRing(t,null);if(t instanceof Su)return this.transformLineString(t,null);if(t instanceof wu)return this.transformMultiLineString(t,null);if(t instanceof Nu)return this.transformPolygon(t,null);if(t instanceof Fu)return this.transformMultiPolygon(t,null);if(t instanceof bu)return this.transformGeometryCollection(t,null);throw new Va("Unknown Geometry subtype: "+t.getClass().getName())},If.prototype.transformLinearRing=function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this._factory.createLinearRing(null);var i=n.size();return i>0&&i<4&&!this._preserveType?this._factory.createLineString(n):this._factory.createLinearRing(n)},If.prototype.interfaces_=function(){return[]},If.prototype.getClass=function(){return If};var Sf=function t(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new Wc,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Su&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];t.call(this,e.getCoordinates(),n)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var i=arguments[0],r=arguments[1];this._srcPts=i,this._isClosed=t.isClosed(i),this._snapTolerance=r}};Sf.prototype.snapVertices=function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;i<n;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new nl(o)),0===i&&this._isClosed&&t.set(t.size()-1,new nl(o)))}},Sf.prototype.findSnapForVertex=function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this._snapTolerance)return e[n]}return null},Sf.prototype.snapTo=function(t){var e=new ru(this._srcPts);return this.snapVertices(e,t),this.snapSegments(e,t),e.toCoordinateArray()},Sf.prototype.snapSegments=function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;i<n;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new nl(r),!1)}},Sf.prototype.findSegmentIndexToSnap=function(t,e){for(var n=Ja.MAX_VALUE,i=-1,r=0;r<e.size()-1;r++){if(this._seg.p0=e.get(r),this._seg.p1=e.get(r+1),this._seg.p0.equals2D(t)||this._seg.p1.equals2D(t)){if(this._allowSnappingToSourceVertices)continue;return-1}var o=this._seg.distance(t);o<this._snapTolerance&&o<n&&(n=o,i=r)}return i},Sf.prototype.setAllowSnappingToSourceVertices=function(t){this._allowSnappingToSourceVertices=t},Sf.prototype.interfaces_=function(){return[]},Sf.prototype.getClass=function(){return Sf},Sf.isClosed=function(t){return!(t.length<=1)&&t[0].equals2D(t[t.length-1])};var Of=function(t){this._srcGeom=t||null},Mf={SNAP_PRECISION_FACTOR:{configurable:!0}};Of.prototype.snapTo=function(t,e){var n=this.extractTargetCoordinates(t);return new Tf(e,n).transform(this._srcGeom)},Of.prototype.snapToSelf=function(t,e){var n=this.extractTargetCoordinates(this._srcGeom),i=new Tf(t,n,!0).transform(this._srcGeom),r=i;return e&&ll(r,Tu)&&(r=i.buffer(0)),r},Of.prototype.computeSnapTolerance=function(t){return this.computeMinimumSegmentLength(t)/10},Of.prototype.extractTargetCoordinates=function(t){for(var e=new Sr,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},Of.prototype.computeMinimumSegmentLength=function(t){for(var e=Ja.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);i<e&&(e=i)}return e},Of.prototype.interfaces_=function(){return[]},Of.prototype.getClass=function(){return Of},Of.snap=function(t,e,n){var i=new Array(2).fill(null),r=new Of(t);i[0]=r.snapTo(e,n);var o=new Of(e);return i[1]=o.snapTo(i[0],n),i},Of.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=Of.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===qu.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1];return Math.min(Of.computeOverlaySnapTolerance(r),Of.computeOverlaySnapTolerance(o))}},Of.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal();return Math.min(e.getHeight(),e.getWidth())*Of.SNAP_PRECISION_FACTOR},Of.snapToSelf=function(t,e,n){return new Of(t).snapToSelf(e,n)},Mf.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(Of,Mf);var Tf=function(t){function e(e,n,i){t.call(this),this._snapTolerance=e||null,this._snapPts=n||null,this._isSelfSnap=void 0!==i&&i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.snapLine=function(t,e){var n=new Sf(t,this._snapTolerance);return n.setAllowSnappingToSourceVertices(this._isSelfSnap),n.snapTo(e)},e.prototype.transformCoordinates=function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(i)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(If),Nf=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Nf.prototype.getCommon=function(){return Ja.longBitsToDouble(this._commonBits)},Nf.prototype.add=function(t){var e=Ja.doubleToLongBits(t);return this._isFirst?(this._commonBits=e,this._commonSignExp=Nf.signExpBits(this._commonBits),this._isFirst=!1,null):Nf.signExpBits(e)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Nf.numCommonMostSigMantissaBits(this._commonBits,e),void(this._commonBits=Nf.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Nf.prototype.toString=function(){if(1===arguments.length){var t=arguments[0],e=Ja.longBitsToDouble(t),n="0000000000000000000000000000000000000000000000000000000000000000"+Ja.toBinaryString(t),i=n.substring(n.length-64);return i.substring(0,1)+"  "+i.substring(1,12)+"(exp) "+i.substring(12)+" [ "+e+" ]"}},Nf.prototype.interfaces_=function(){return[]},Nf.prototype.getClass=function(){return Nf},Nf.getBit=function(t,e){return 0!=(t&1<<e)?1:0},Nf.signExpBits=function(t){return t>>52},Nf.zeroLowerBits=function(t,e){return t&~((1<<e)-1)},Nf.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(Nf.getBit(t,i)!==Nf.getBit(e,i))return n;n++}return 52};var kf=function(){this._commonCoord=null,this._ccFilter=new Ff},Lf={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};kf.prototype.addCommonBits=function(t){var e=new Rf(this._commonCoord);t.apply(e),t.geometryChanged()},kf.prototype.removeCommonBits=function(t){if(0===this._commonCoord.x&&0===this._commonCoord.y)return t;var e=new nl(this._commonCoord);e.x=-e.x,e.y=-e.y;var n=new Rf(e);return t.apply(n),t.geometryChanged(),t},kf.prototype.getCommonCoordinate=function(){return this._commonCoord},kf.prototype.add=function(t){t.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},kf.prototype.interfaces_=function(){return[]},kf.prototype.getClass=function(){return kf},Lf.CommonCoordinateFilter.get=function(){return Ff},Lf.Translater.get=function(){return Rf},Object.defineProperties(kf,Lf);var Ff=function(){this._commonBitsX=new Nf,this._commonBitsY=new Nf};Ff.prototype.filter=function(t){this._commonBitsX.add(t.x),this._commonBitsY.add(t.y)},Ff.prototype.getCommonCoordinate=function(){return new nl(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Ff.prototype.interfaces_=function(){return[Gl]},Ff.prototype.getClass=function(){return Ff};var Rf=function(){this.trans=null;var t=arguments[0];this.trans=t};Rf.prototype.filter=function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},Rf.prototype.isDone=function(){return!1},Rf.prototype.isGeometryChanged=function(){return!0},Rf.prototype.interfaces_=function(){return[_u]},Rf.prototype.getClass=function(){return Rf};var Df=function(t,e){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=t,this._geom[1]=e,this.computeSnapTolerance()};Df.prototype.selfSnap=function(t){return new Of(t).snapTo(t,this._snapTolerance)},Df.prototype.removeCommonBits=function(t){this._cbr=new kf,this._cbr.add(t[0]),this._cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this._cbr.removeCommonBits(t[0].copy()),e[1]=this._cbr.removeCommonBits(t[1].copy()),e},Df.prototype.prepareResult=function(t){return this._cbr.addCommonBits(t),t},Df.prototype.getResultGeometry=function(t){var e=this.snap(this._geom),n=op.overlayOp(e[0],e[1],t);return this.prepareResult(n)},Df.prototype.checkValid=function(t){t.isValid()||wl.out.println("Snapped geometry is invalid")},Df.prototype.computeSnapTolerance=function(){this._snapTolerance=Of.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Df.prototype.snap=function(t){var e=this.removeCommonBits(t);return Of.snap(e[0],e[1],this._snapTolerance)},Df.prototype.interfaces_=function(){return[]},Df.prototype.getClass=function(){return Df},Df.overlayOp=function(t,e,n){return new Df(t,e).getResultGeometry(n)},Df.union=function(t,e){return Df.overlayOp(t,e,op.UNION)},Df.intersection=function(t,e){return Df.overlayOp(t,e,op.INTERSECTION)},Df.symDifference=function(t,e){return Df.overlayOp(t,e,op.SYMDIFFERENCE)},Df.difference=function(t,e){return Df.overlayOp(t,e,op.DIFFERENCE)};var Pf=function(t,e){this._geom=new Array(2).fill(null),this._geom[0]=t,this._geom[1]=e};Pf.prototype.getResultGeometry=function(t){var e=null,n=!1,i=null;try{e=op.overlayOp(this._geom[0],this._geom[1],t),n=!0}catch(t){if(!(t instanceof Tl))throw t;i=t}if(!n)try{e=Df.overlayOp(this._geom[0],this._geom[1],t)}catch(t){throw t instanceof Tl?i:t}return e},Pf.prototype.interfaces_=function(){return[]},Pf.prototype.getClass=function(){return Pf},Pf.overlayOp=function(t,e,n){return new Pf(t,e).getResultGeometry(n)},Pf.union=function(t,e){return Pf.overlayOp(t,e,op.UNION)},Pf.intersection=function(t,e){return Pf.overlayOp(t,e,op.INTERSECTION)},Pf.symDifference=function(t,e){return Pf.overlayOp(t,e,op.SYMDIFFERENCE)},Pf.difference=function(t,e){return Pf.overlayOp(t,e,op.DIFFERENCE)};var Uf=function(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e};Uf.prototype.computeIntersections=function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},Uf.prototype.interfaces_=function(){return[]},Uf.prototype.getClass=function(){return Uf};var Qf=function t(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){var e=arguments[0],n=arguments[1];this._eventType=t.DELETE,this._xValue=e,this._insertEvent=n}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._eventType=t.INSERT,this._label=i,this._xValue=r,this._obj=o}},Hf={INSERT:{configurable:!0},DELETE:{configurable:!0}};Qf.prototype.isDelete=function(){return this._eventType===Qf.DELETE},Qf.prototype.setDeleteEventIndex=function(t){this._deleteEventIndex=t},Qf.prototype.getObject=function(){return this._obj},Qf.prototype.compareTo=function(t){var e=t;return this._xValue<e._xValue?-1:this._xValue>e._xValue?1:this._eventType<e._eventType?-1:this._eventType>e._eventType?1:0},Qf.prototype.getInsertEvent=function(){return this._insertEvent},Qf.prototype.isInsert=function(){return this._eventType===Qf.INSERT},Qf.prototype.isSameLabel=function(t){return null!==this._label&&this._label===t._label},Qf.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Qf.prototype.interfaces_=function(){return[$a]},Qf.prototype.getClass=function(){return Qf},Hf.INSERT.get=function(){return 1},Hf.DELETE.get=function(){return 2},Object.defineProperties(Qf,Hf);var jf=function(){};jf.prototype.interfaces_=function(){return[]},jf.prototype.getClass=function(){return jf};var zf=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this._li=t,this._includeProper=e,this._recordIsolated=n};zf.prototype.isTrivialIntersection=function(t,e,n,i){if(t===n&&1===this._li.getIntersectionNum()){if(zf.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},zf.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},zf.prototype.setIsDoneIfProperInt=function(t){this._isDoneWhenProperInt=t},zf.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},zf.prototype.isBoundaryPointInternal=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next().getCoordinate();if(t.isIntersection(i))return!0}return!1},zf.prototype.hasProperIntersection=function(){return this._hasProper},zf.prototype.hasIntersection=function(){return this._hasIntersection},zf.prototype.isDone=function(){return this._isDone},zf.prototype.isBoundaryPoint=function(t,e){return!(null===e||!this.isBoundaryPointInternal(t,e[0])&&!this.isBoundaryPointInternal(t,e[1]))},zf.prototype.setBoundaryNodes=function(t,e){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=t,this._bdyNodes[1]=e},zf.prototype.addIntersections=function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this._li.computeIntersection(r,o,s,a),this._li.hasIntersection()&&(this._recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(t.addIntersections(this._li,e,0),n.addIntersections(this._li,i,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},zf.prototype.interfaces_=function(){return[]},zf.prototype.getClass=function(){return zf},zf.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)};var Kf=function(t){function e(){t.call(this),this.events=new nu,this.nOverlaps=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvents=function(){Nc.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},e.prototype.computeIntersections=function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof zf&&ll(arguments[0],eu)&&ll(arguments[1],eu)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&ll(arguments[0],eu)&&arguments[1]instanceof zf){var s=arguments[0],a=arguments[1];arguments[2]?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},e.prototype.addEdge=function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new Uf(n,r),s=new Qf(e,n.getMinX(r),o);this.events.add(s),this.events.add(new Qf(n.getMaxX(r),s))}},e.prototype.processOverlaps=function(t,e,n,i){for(var r=n.getObject(),o=t;o<e;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(r.computeIntersections(a,i),this.nOverlaps++)}}},e.prototype.addEdges=function(){if(1===arguments.length)for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.addEdge(e,e)}else if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();){var o=r.next();this.addEdge(o,i)}},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(jf),Gf=function(){this._min=Ja.POSITIVE_INFINITY,this._max=Ja.NEGATIVE_INFINITY},qf={NodeComparator:{configurable:!0}};Gf.prototype.getMin=function(){return this._min},Gf.prototype.intersects=function(t,e){return!(this._min>e||this._max<t)},Gf.prototype.getMax=function(){return this._max},Gf.prototype.toString=function(){return Ml.toLineString(new nl(this._min,0),new nl(this._max,0))},Gf.prototype.interfaces_=function(){return[]},Gf.prototype.getClass=function(){return Gf},qf.NodeComparator.get=function(){return Wf},Object.defineProperties(Gf,qf);var Wf=function(){};Wf.prototype.compare=function(t,e){var n=t,i=e,r=(n._min+n._max)/2,o=(i._min+i._max)/2;return r<o?-1:r>o?1:0},Wf.prototype.interfaces_=function(){return[el]},Wf.prototype.getClass=function(){return Wf};var Yf=function(t){function e(){t.call(this),this._item=null;var e=arguments[0],n=arguments[1],i=arguments[2];this._min=e,this._max=n,this._item=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;n.visitItem(this._item)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Gf),Xf=function(t){function e(){t.call(this),this._node1=null,this._node2=null;var e=arguments[0],n=arguments[1];this._node1=e,this._node2=n,this.buildExtent(this._node1,this._node2)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.buildExtent=function(t,e){this._min=Math.min(t._min,e._min),this._max=Math.max(t._max,e._max)},e.prototype.query=function(t,e,n){if(!this.intersects(t,e))return null;null!==this._node1&&this._node1.query(t,e,n),null!==this._node2&&this._node2.query(t,e,n)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(Gf),Vf=function(){this._leaves=new nu,this._root=null,this._level=0};Vf.prototype.buildTree=function(){Nc.sort(this._leaves,new Gf.NodeComparator);for(var t=this._leaves,e=null,n=new nu;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},Vf.prototype.insert=function(t,e,n){if(null!==this._root)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Yf(t,e,n))},Vf.prototype.query=function(t,e,n){this.init(),this._root.query(t,e,n)},Vf.prototype.buildRoot=function(){if(null!==this._root)return null;this._root=this.buildTree()},Vf.prototype.printNode=function(t){wl.out.println(Ml.toLineString(new nl(t._min,this._level),new nl(t._max,this._level)))},Vf.prototype.init=function(){if(null!==this._root)return null;this.buildRoot()},Vf.prototype.buildLevel=function(t,e){this._level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n);if(null===(n+1<t.size()?t.get(n):null))e.add(i);else{var r=new Xf(t.get(n),t.get(n+1));e.add(r)}}},Vf.prototype.interfaces_=function(){return[]},Vf.prototype.getClass=function(){return Vf};var Jf=function(){this._items=new nu};Jf.prototype.visitItem=function(t){this._items.add(t)},Jf.prototype.getItems=function(){return this._items},Jf.prototype.interfaces_=function(){return[Sc]},Jf.prototype.getClass=function(){return Jf};var Zf=function(){this._index=null;var t=arguments[0];if(!ll(t,Tu))throw new Va("Argument must be Polygonal");this._index=new ep(t)},$f={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};Zf.prototype.locate=function(t){var e=new Pl(t),n=new tp(e);return this._index.query(t.y,t.y,n),e.getLocation()},Zf.prototype.interfaces_=function(){return[vh]},Zf.prototype.getClass=function(){return Zf},$f.SegmentVisitor.get=function(){return tp},$f.IntervalIndexedGeometry.get=function(){return ep},Object.defineProperties(Zf,$f);var tp=function(){this._counter=null;var t=arguments[0];this._counter=t};tp.prototype.visitItem=function(t){var e=t;this._counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},tp.prototype.interfaces_=function(){return[Sc]},tp.prototype.getClass=function(){return tp};var ep=function(){this._index=new Vf;var t=arguments[0];this.init(t)};ep.prototype.init=function(t){for(var e=nf.getLines(t).iterator();e.hasNext();){var n=e.next().getCoordinates();this.addLine(n)}},ep.prototype.addLine=function(t){for(var e=1;e<t.length;e++){var n=new Wc(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this._index.insert(i,r,n)}},ep.prototype.query=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Jf;return this._index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this._index.query(i,r,o)}},ep.prototype.interfaces_=function(){return[]},ep.prototype.getClass=function(){return ep};var np=function(t){function e(){if(t.call(this),this._parentGeom=null,this._lineEdgeMap=new Gu,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new rf,2===arguments.length){var e=arguments[0],n=arguments[1],i=ql.OGC_SFS_BOUNDARY_RULE;this._argIndex=e,this._parentGeom=n,this._boundaryNodeRule=i,null!==n&&this.add(n)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this._argIndex=r,this._parentGeom=o,this._boundaryNodeRule=s,null!==o&&this.add(o)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertBoundaryPoint=function(t,n){var i=this._nodes.addNode(n).getLabel(),r=1;sl.NONE,i.getLocation(t,rc.ON)===sl.BOUNDARY&&r++;var o=e.determineBoundary(this._boundaryNodeRule,r);i.setLocation(t,o)},e.prototype.computeSelfNodes=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new zf(n,!0,!1);o.setIsDoneIfProperInt(r);var s=this.createEdgeSetIntersector(),a=this._parentGeom instanceof Lu||this._parentGeom instanceof Nu||this._parentGeom instanceof Fu,l=i||!a;return s.computeIntersections(this._edges,o,l),this.addSelfIntersectionNodes(this._argIndex),o}},e.prototype.computeSplitEdges=function(t){for(var e=this._edges.iterator();e.hasNext();)e.next().eiList.addSplitEdges(t)},e.prototype.computeEdgeIntersections=function(t,e,n){var i=new zf(e,n,!0);return i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,t._edges,i),i},e.prototype.getGeometry=function(){return this._parentGeom},e.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},e.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},e.prototype.addPoint=function(){if(arguments[0]instanceof Mu){var t=arguments[0].getCoordinate();this.insertPoint(this._argIndex,t,sl.INTERIOR)}else if(arguments[0]instanceof nl){var e=arguments[0];this.insertPoint(this._argIndex,e,sl.INTERIOR)}},e.prototype.addPolygon=function(t){this.addPolygonRing(t.getExteriorRing(),sl.EXTERIOR,sl.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,sl.INTERIOR,sl.EXTERIOR)}},e.prototype.addEdge=function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],sl.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],sl.BOUNDARY)},e.prototype.addLineString=function(t){var e=ou.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=e[0],null;var n=new Lh(e,new hc(this._argIndex,sl.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),kl.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,e[0]),this.insertBoundaryPoint(this._argIndex,e[e.length-1])},e.prototype.getInvalidPoint=function(){return this._invalidPoint},e.prototype.getBoundaryPoints=function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},e.prototype.getBoundaryNodes=function(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},e.prototype.addSelfIntersectionNode=function(t,e,n){if(this.isBoundaryNode(t,e))return null;n===sl.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n)},e.prototype.addPolygonRing=function(t,e,n){if(t.isEmpty())return null;var i=ou.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;var r=e,o=n;Ul.isCCW(i)&&(r=n,o=e);var s=new Lh(i,new hc(this._argIndex,sl.BOUNDARY,r,o));this._lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this._argIndex,i[0],sl.BOUNDARY)},e.prototype.insertPoint=function(t,e,n){var i=this._nodes.addNode(e),r=i.getLabel();null===r?i._label=new hc(t,n):r.setLocation(t,n)},e.prototype.createEdgeSetIntersector=function(){return new Kf},e.prototype.addSelfIntersectionNodes=function(t){for(var e=this._edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},e.prototype.add=function(){if(1!==arguments.length)return t.prototype.add.apply(this,arguments);var e=arguments[0];if(e.isEmpty())return null;if(e instanceof Fu&&(this._useBoundaryDeterminationRule=!1),e instanceof Nu)this.addPolygon(e);else if(e instanceof Su)this.addLineString(e);else if(e instanceof Mu)this.addPoint(e);else if(e instanceof ku)this.addCollection(e);else if(e instanceof wu)this.addCollection(e);else if(e instanceof Fu)this.addCollection(e);else{if(!(e instanceof bu))throw new Error(e.getClass().getName());this.addCollection(e)}},e.prototype.addCollection=function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},e.prototype.locate=function(t){return ll(this._parentGeom,Tu)&&this._parentGeom.getNumGeometries()>50?(null===this._areaPtLocator&&(this._areaPtLocator=new Zf(this._parentGeom)),this._areaPtLocator.locate(t)):this._ptLocator.locate(t,this._parentGeom)},e.prototype.findEdge=function(){if(1===arguments.length){var e=arguments[0];return this._lineEdgeMap.get(e)}return t.prototype.findEdge.apply(this,arguments)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e.determineBoundary=function(t,e){return t.isInBoundary(e)?sl.BOUNDARY:sl.INTERIOR},e}(Ec),ip=function(){if(this._li=new Rl,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new np(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=ql.OGC_SFS_BOUNDARY_RULE;e.getPrecisionModel().compareTo(n.getPrecisionModel())>=0?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(n.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new np(0,e,i),this._arg[1]=new np(1,n,i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];r.getPrecisionModel().compareTo(o.getPrecisionModel())>=0?this.setComputationPrecision(r.getPrecisionModel()):this.setComputationPrecision(o.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new np(0,r,s),this._arg[1]=new np(1,o,s)}};ip.prototype.getArgGeometry=function(t){return this._arg[t].getGeometry()},ip.prototype.setComputationPrecision=function(t){this._resultPrecisionModel=t,this._li.setPrecisionModel(this._resultPrecisionModel)},ip.prototype.interfaces_=function(){return[]},ip.prototype.getClass=function(){return ip};var rp=function(){};rp.prototype.interfaces_=function(){return[]},rp.prototype.getClass=function(){return rp},rp.map=function(){if(arguments[0]instanceof jl&&ll(arguments[1],rp.MapOp)){for(var t=arguments[0],e=arguments[1],n=new nu,i=0;i<t.getNumGeometries();i++){var r=e.map(t.getGeometryN(i));null!==r&&n.add(r)}return t.getFactory().buildGeometry(n)}if(ll(arguments[0],Zl)&&ll(arguments[1],rp.MapOp)){for(var o=arguments[0],s=arguments[1],a=new nu,l=o.iterator();l.hasNext();){var u=l.next(),c=s.map(u);null!==c&&a.add(c)}return a}},rp.MapOp=function(){};var op=function(t){function e(){var e=arguments[0],n=arguments[1];t.call(this,e,n),this._ptLocator=new rf,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new Ch,this._resultPolyList=new nu,this._resultLineList=new nu,this._resultPointList=new nu,this._graph=new Ec(new Eh),this._geomFact=e.getFactory()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.insertUniqueEdge=function(t){var e=this._edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new hc(t.getLabel())).flip();var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this._edgeList.add(t)},e.prototype.getGraph=function(){return this._graph},e.prototype.cancelDuplicateResultEdges=function(){for(var t=this._graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},e.prototype.isCoveredByLA=function(t){return!!this.isCovered(t,this._resultLineList)||!!this.isCovered(t,this._resultPolyList)},e.prototype.computeGeometry=function(t,n,i,r){var o=new nu;return o.addAll(t),o.addAll(n),o.addAll(i),o.isEmpty()?e.createEmptyResult(r,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(o)},e.prototype.mergeSymLabels=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().mergeSymLabels()},e.prototype.isCovered=function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(this._ptLocator.locate(t,i)!==sl.EXTERIOR)return!0}return!1},e.prototype.replaceCollapsedEdges=function(){for(var t=new nu,e=this._edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)},e.prototype.updateNodeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},e.prototype.getResultGeometry=function(t){return this.computeOverlay(t),this._resultGeom},e.prototype.insertUniqueEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},e.prototype.computeOverlay=function(t){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var e=new nu;this._arg[0].computeSplitEdges(e),this._arg[1].computeSplitEdges(e),this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),Ef.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new xc(this._geomFact);n.add(this._graph),this._resultPolyList=n.getPolygons();var i=new Cf(this,this._geomFact,this._ptLocator);this._resultLineList=i.build(t);var r=new Bf(this,this._geomFact,this._ptLocator);this._resultPointList=r.build(t),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,t)},e.prototype.labelIncompleteNode=function(t,e){var n=this._ptLocator.locate(t.getCoordinate(),this._arg[e].getGeometry());t.getLabel().setLocation(e,n)},e.prototype.copyPoints=function(t){for(var e=this._arg[t].getNodeIterator();e.hasNext();){var n=e.next();this._graph.addNode(n.getCoordinate()).setLabel(t,n.getLabel().getLocation(t))}},e.prototype.findResultAreaEdges=function(t){for(var n=this._graph.getEdgeEnds().iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea()&&!i.isInteriorAreaEdge()&&e.isResultOfOp(r.getLocation(0,rc.RIGHT),r.getLocation(1,rc.RIGHT),t)&&i.setInResult(!0)}},e.prototype.computeLabelsFromDepths=function(){for(var t=this._edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;r<2;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(kl.isTrue(!i.isNull(r,rc.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,rc.LEFT,i.getLocation(r,rc.LEFT)),kl.isTrue(!i.isNull(r,rc.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,rc.RIGHT,i.getLocation(r,rc.RIGHT))))}}},e.prototype.computeLabelling=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();)t.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},e.prototype.labelIncompleteNodes=function(){for(var t=this._graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getLabel();e.isIsolated()&&(n.isNull(0)?this.labelIncompleteNode(e,0):this.labelIncompleteNode(e,1)),e.getEdges().updateLabelling(n)}},e.prototype.isCoveredByA=function(t){return!!this.isCovered(t,this._resultPolyList)},e.prototype.interfaces_=function(){return[]},e.prototype.getClass=function(){return e},e}(ip);op.overlayOp=function(t,e,n){return new op(t,e).getResultGeometry(n)},op.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return op.createEmptyResult(op.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return xf.map(t,{interfaces_:function(){return[rp.MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Pf.overlayOp(t,e,op.INTERSECTION)},op.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return op.createEmptyResult(op.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Pf.overlayOp(t,e,op.SYMDIFFERENCE)},op.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case op.INTERSECTION:o=Math.min(i,r);break;case op.UNION:o=Math.max(i,r);break;case op.DIFFERENCE:o=i;break;case op.SYMDIFFERENCE:o=Math.max(i,r)}return o},op.createEmptyResult=function(t,e,n,i){var r=null;switch(op.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},op.difference=function(t,e){return t.isEmpty()?op.createEmptyResult(op.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Pf.overlayOp(t,e,op.DIFFERENCE))},op.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return op.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];switch(r===sl.BOUNDARY&&(r=sl.INTERIOR),o===sl.BOUNDARY&&(o=sl.INTERIOR),s){case op.INTERSECTION:return r===sl.INTERIOR&&o===sl.INTERIOR;case op.UNION:return r===sl.INTERIOR||o===sl.INTERIOR;case op.DIFFERENCE:return r===sl.INTERIOR&&o!==sl.INTERIOR;case op.SYMDIFFERENCE:return r===sl.INTERIOR&&o!==sl.INTERIOR||r!==sl.INTERIOR&&o===sl.INTERIOR}return!1}},op.INTERSECTION=1,op.UNION=2,op.DIFFERENCE=3,op.SYMDIFFERENCE=4;var sp=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new rf,this._seg=new Wc;var t=arguments[0],e=arguments[1];this._g=t,this._boundaryDistanceTolerance=e,this._linework=this.extractLinework(t)};sp.prototype.isWithinToleranceOfBoundary=function(t){for(var e=0;e<this._linework.getNumGeometries();e++)for(var n=this._linework.getGeometryN(e).getCoordinateSequence(),i=0;i<n.size()-1;i++)if(n.getCoordinate(i,this._seg.p0),n.getCoordinate(i+1,this._seg.p1),this._seg.distance(t)<=this._boundaryDistanceTolerance)return!0;return!1},sp.prototype.getLocation=function(t){return this.isWithinToleranceOfBoundary(t)?sl.BOUNDARY:this._ptLocator.locate(t,this._g)},sp.prototype.extractLinework=function(t){var e=new ap;t.apply(e);var n=e.getLinework(),i=Vu.toLineStringArray(n);return t.getFactory().createMultiLineString(i)},sp.prototype.interfaces_=function(){return[]},sp.prototype.getClass=function(){return sp};var ap=function(){this._linework=null,this._linework=new nu};ap.prototype.getLinework=function(){return this._linework},ap.prototype.filter=function(t){if(t instanceof Nu){var e=t;this._linework.add(e.getExteriorRing());for(var n=0;n<e.getNumInteriorRing();n++)this._linework.add(e.getInteriorRingN(n))}},ap.prototype.interfaces_=function(){return[yu]},ap.prototype.getClass=function(){return ap};var lp=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var t=arguments[0];this._g=t};lp.prototype.extractPoints=function(t,e,n){for(var i=t.getCoordinates(),r=0;r<i.length-1;r++)this.computeOffsetPoints(i[r],i[r+1],e,n)},lp.prototype.setSidesToGenerate=function(t,e){this._doLeft=t,this._doRight=e},lp.prototype.getPoints=function(t){for(var e=new nu,n=nf.getLines(this._g).iterator();n.hasNext();){var i=n.next();this.extractPoints(i,t,e)}return e},lp.prototype.computeOffsetPoints=function(t,e,n,i){var r=e.x-t.x,o=e.y-t.y,s=Math.sqrt(r*r+o*o),a=n*r/s,l=n*o/s,u=(e.x+t.x)/2,c=(e.y+t.y)/2;if(this._doLeft){var h=new nl(u-l,c+a);i.add(h)}if(this._doRight){var f=new nl(u+l,c-a);i.add(f)}},lp.prototype.interfaces_=function(){return[]},lp.prototype.getClass=function(){return lp};var up=function t(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=t.TOLERANCE,this._testCoords=new nu;var e=arguments[0],n=arguments[1],i=arguments[2];this._boundaryDistanceTolerance=t.computeBoundaryDistanceTolerance(e,n),this._geom=[e,n,i],this._locFinder=[new sp(this._geom[0],this._boundaryDistanceTolerance),new sp(this._geom[1],this._boundaryDistanceTolerance),new sp(this._geom[2],this._boundaryDistanceTolerance)]},cp={TOLERANCE:{configurable:!0}};up.prototype.reportResult=function(t,e,n){wl.out.println("Overlay result invalid - A:"+sl.toLocationSymbol(e[0])+" B:"+sl.toLocationSymbol(e[1])+" expected:"+(n?"i":"e")+" actual:"+sl.toLocationSymbol(e[2]))},up.prototype.isValid=function(t){return this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]),this.checkValid(t)},up.prototype.checkValid=function(){if(1===arguments.length){for(var t=arguments[0],e=0;e<this._testCoords.size();e++){var n=this._testCoords.get(e);if(!this.checkValid(t,n))return this._invalidLocation=n,!1}return!0}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this._location[0]=this._locFinder[0].getLocation(r),this._location[1]=this._locFinder[1].getLocation(r),this._location[2]=this._locFinder[2].getLocation(r),!!up.hasLocation(this._location,sl.BOUNDARY)||this.isValidResult(i,this._location)}},up.prototype.addTestPts=function(t){var e=new lp(t);this._testCoords.addAll(e.getPoints(5*this._boundaryDistanceTolerance))},up.prototype.isValidResult=function(t,e){var n=op.isResultOfOp(e[0],e[1],t),i=!(n^e[2]===sl.INTERIOR);return i||this.reportResult(t,e,n),i},up.prototype.getInvalidLocation=function(){return this._invalidLocation},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up},up.hasLocation=function(t,e){for(var n=0;n<3;n++)if(t[n]===e)return!0;return!1},up.computeBoundaryDistanceTolerance=function(t,e){return Math.min(Of.computeSizeBasedSnapTolerance(t),Of.computeSizeBasedSnapTolerance(e))},up.isValid=function(t,e,n,i){return new up(t,e,i).isValid(n)},cp.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(up,cp);var hp=function t(e){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=t.extractFactory(e),this._inputGeoms=e};hp.prototype.extractElements=function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this._skipEmpty&&i.isEmpty()||e.add(i)}},hp.prototype.combine=function(){for(var t=new nu,e=this._inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this._geomFactory?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(t)},hp.prototype.interfaces_=function(){return[]},hp.prototype.getClass=function(){return hp},hp.combine=function(){if(1===arguments.length){var t=arguments[0];return new hp(t).combine()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return new hp(hp.createList(e,n)).combine()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];return new hp(hp.createList(i,r,o)).combine()}},hp.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},hp.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new nu;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=new nu;return s.add(i),s.add(r),s.add(o),s}};var fp=function(){this._inputPolys=null,this._geomFactory=null;var t=arguments[0];this._inputPolys=t,null===this._inputPolys&&(this._inputPolys=new nu)},pp={STRTREE_NODE_CAPACITY:{configurable:!0}};fp.prototype.reduceToGeometries=function(t){for(var e=new nu,n=t.iterator();n.hasNext();){var i=n.next(),r=null;ll(i,eu)?r=this.unionTree(i):i instanceof jl&&(r=i),e.add(r)}return e},fp.prototype.extractByEnvelope=function(t,e,n){for(var i=new nu,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this._geomFactory.buildGeometry(i)},fp.prototype.unionOptimized=function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i))return hp.combine(t,e);if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var r=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,r)},fp.prototype.union=function(){if(null===this._inputPolys)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var t=new Pc(fp.STRTREE_NODE_CAPACITY),e=this._inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this._inputPolys=null;var i=t.itemsTree();return this.unionTree(i)},fp.prototype.binaryUnion=function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(i-n<=1){var r=fp.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n==2)return this.unionSafe(fp.getGeometry(e,n),fp.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),s=this.binaryUnion(e,n,o),a=this.binaryUnion(e,o,i);return this.unionSafe(s,a)}},fp.prototype.repeatedUnion=function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},fp.prototype.unionSafe=function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},fp.prototype.unionActual=function(t,e){return fp.restrictToPolygons(t.union(e))},fp.prototype.unionTree=function(t){var e=this.reduceToGeometries(t);return this.binaryUnion(e)},fp.prototype.unionUsingEnvelopeIntersection=function(t,e,n){var i=new nu,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),s=this.unionActual(r,o);return i.add(s),hp.combine(i)},fp.prototype.bufferUnion=function(){if(1===arguments.length){var t=arguments[0];return t.get(0).getFactory().buildGeometry(t).buffer(0)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().createGeometryCollection([e,n]).buffer(0)}},fp.prototype.interfaces_=function(){return[]},fp.prototype.getClass=function(){return fp},fp.restrictToPolygons=function(t){if(ll(t,Tu))return t;var e=ef.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(Vu.toPolygonArray(e))},fp.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},fp.union=function(t){return new fp(t).union()},pp.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(fp,pp);var dp=function(){};dp.prototype.interfaces_=function(){return[]},dp.prototype.getClass=function(){return dp},dp.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return op.createEmptyResult(op.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Pf.overlayOp(t,e,op.UNION)};var Ap=function(){return new kr};kr.prototype={constructor:kr,reset:function(){this.s=this.t=0},add:function(t){Lr(gp,t,this.t),Lr(this,gp.s,this.s),this.s?this.t+=gp.t:this.s=gp.t},valueOf:function(){return this.s}};var gp=new kr,mp=1e-6,vp=Math.PI,yp=vp/2,_p=vp/4,bp=2*vp,wp=180/vp,Ep=vp/180,xp=Math.abs,Cp=Math.atan,Bp=Math.atan2,Ip=Math.cos,Sp=Math.exp,Op=Math.log,Mp=Math.sin,Tp=Math.sqrt,Np=Math.tan,kp={Feature:function(t,e){Dr(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)Dr(n[i].geometry,e)}},Lp={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){Pr(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Pr(n[i],e,0)},Polygon:function(t,e){Ur(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)Ur(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)Dr(n[i],e)}},Fp=function(t,e){t&&kp.hasOwnProperty(t.type)?kp[t.type](t,e):Dr(t,e)},Rp=(Ap(),Ap(),Ap(),function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n});Wr.invert=Wr;var Dp=function(t){function e(e){return(e=t(e[0]*Ep,e[1]*Ep))[0]*=wp,e[1]*=wp,e}return t=Yr(t[0]*Ep,t[1]*Ep,t.length>2?t[2]*Ep:0),e.invert=function(e){return(e=t.invert(e[0]*Ep,e[1]*Ep))[0]*=wp,e[1]*=wp,e},e},Pp=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:Rr,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},Up=function(t,e,n,i,r,o){var s,a=t[0],l=t[1],u=0,c=1,h=e[0]-a,f=e[1]-l;if(s=n-a,h||!(s>0)){if(s/=h,h<0){if(s<u)return;s<c&&(c=s)}else if(h>0){if(s>c)return;s>u&&(u=s)}if(s=r-a,h||!(s<0)){if(s/=h,h<0){if(s>c)return;s>u&&(u=s)}else if(h>0){if(s<u)return;s<c&&(c=s)}if(s=i-l,f||!(s>0)){if(s/=f,f<0){if(s<u)return;s<c&&(c=s)}else if(f>0){if(s>c)return;s>u&&(u=s)}if(s=o-l,f||!(s<0)){if(s/=f,f<0){if(s>c)return;s>u&&(u=s)}else if(f>0){if(s<u)return;s<c&&(c=s)}return u>0&&(t[0]=a+u*h,t[1]=l+u*f),c<1&&(e[0]=a+c*h,e[1]=l+c*f),!0}}}}},Qp=function(t,e){return xp(t[0]-e[0])<mp&&xp(t[1]-e[1])<mp},Hp=function(t,e,n,i,r){var o,s,a=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,i=t[0],s=t[e];if(Qp(i,s)){for(r.lineStart(),o=0;o<e;++o)r.point((i=t[o])[0],i[1]);r.lineEnd()}else a.push(n=new $r(i,t,null,!0)),l.push(n.o=new $r(i,null,n,!1)),a.push(n=new $r(s,t,null,!1)),l.push(n.o=new $r(s,null,n,!0))}})),a.length){for(l.sort(e),to(a),to(l),o=0,s=l.length;o<s;++o)l[o].e=n=!n;for(var u,c,h=a[0];;){for(var f=h,p=!0;f.v;)if((f=f.n)===h)return;u=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(o=0,s=u.length;o<s;++o)r.point((c=u[o])[0],c[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p)for(u=f.p.z,o=u.length-1;o>=0;--o)r.point((c=u[o])[0],c[1]);else i(f.x,f.p.x,-1,r);f=f.p}u=(f=f.o).z,p=!p}while(!f.v);r.lineEnd()}}},jp=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},zp=(function(t){1===t.length&&(t=function(t){return function(e,n){return jp(t(e),n)}}(t))}(jp),function(t){for(var e,n,i,r=t.length,o=-1,s=0;++o<r;)s+=t[o].length;for(n=new Array(s);--r>=0;)for(e=(i=t[r]).length;--e>=0;)n[--s]=i[e];return n}),Kp=1e9,Gp=-Kp,qp=Ap(),Wp=(Ap(),function(t){return t}),Yp=(Ap(),Ap(),1/0),Xp=Yp,Vp=-Yp,Jp=Vp,Zp={point:function(t,e){t<Yp&&(Yp=t),t>Vp&&(Vp=t),e<Xp&&(Xp=e),e>Jp&&(Jp=e)},lineStart:Rr,lineEnd:Rr,polygonStart:Rr,polygonEnd:Rr,result:function(){var t=[[Yp,Xp],[Vp,Jp]];return Vp=Jp=-(Xp=Yp=1/0),t}},$p=(Ap(),function(t,e,n,i){return function(r,o){function s(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&o.point(e,n)}function a(t,e){var n=r(t,e);g.point(n[0],n[1])}function l(){b.point=a,g.lineStart()}function u(){b.point=s,g.lineEnd()}function c(t,e){A.push([t,e]);var n=r(t,e);y.point(n[0],n[1])}function h(){y.lineStart(),A=[]}function f(){c(A[0][0],A[0][1]),y.lineEnd();var t,e,n,i,r=y.clean(),s=v.result(),a=s.length;if(A.pop(),p.push(A),A=null,a)if(1&r){if((e=(n=s[0]).length-1)>0){for(_||(o.polygonStart(),_=!0),o.lineStart(),t=0;t<e;++t)o.point((i=n[t])[0],i[1]);o.lineEnd()}}else a>1&&2&r&&s.push(s.pop().concat(s.shift())),d.push(s.filter(no))}var p,d,A,g=e(o),m=r.invert(i[0],i[1]),v=Pp(),y=e(v),_=!1,b={point:s,lineStart:l,lineEnd:u,polygonStart:function(){b.point=c,b.lineStart=h,b.lineEnd=f,d=[],p=[]},polygonEnd:function(){b.point=s,b.lineStart=l,b.lineEnd=u,d=zp(d);var t=function(t,e){var n=e[0],i=e[1],r=[Mp(n),-Ip(n),0],o=0,s=0;qp.reset();for(var a=0,l=t.length;a<l;++a)if(c=(u=t[a]).length)for(var u,c,h=u[c-1],f=h[0],p=h[1]/2+_p,d=Mp(p),A=Ip(p),g=0;g<c;++g,f=v,d=_,A=b,h=m){var m=u[g],v=m[0],y=m[1]/2+_p,_=Mp(y),b=Ip(y),w=v-f,E=w>=0?1:-1,x=E*w,C=x>vp,B=d*_;if(qp.add(Bp(B*E*Mp(x),A*b+B*Ip(x))),o+=C?w+E*bp:w,C^f>=n^v>=n){var I=zr(Hr(h),Hr(m));qr(I);var S=zr(r,I);qr(S);var O=(C^w>=0?-1:1)*Fr(S[2]);(i>O||i===O&&(I[0]||I[1]))&&(s+=C^w>=0?1:-1)}}return(o<-mp||o<mp&&qp<-mp)^1&s}(p,m);d.length?(_||(o.polygonStart(),_=!0),Hp(d,io,t,n,o)):t&&(_||(o.polygonStart(),_=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),_&&(o.polygonEnd(),_=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};return b}}),td=$p((function(){return!0}),(function(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,s){var a=o>0?vp:-vp,l=xp(o-n);xp(l-vp)<mp?(t.point(n,i=(i+s)/2>0?yp:-yp),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),t.point(o,i),e=0):r!==a&&l>=vp&&(xp(n-r)<mp&&(n-=r*mp),xp(o-a)<mp&&(o-=a*mp),i=function(t,e,n,i){var r,o,s=Mp(t-n);return xp(s)>mp?Cp((Mp(e)*(o=Ip(i))*Mp(n)-Mp(i)*(r=Ip(e))*Mp(t))/(r*o*s)):(e+i)/2}(n,i,o,s),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(a,i),e=0),t.point(n=o,i=s),r=a},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}),(function(t,e,n,i){var r;if(null==t)r=n*yp,i.point(-vp,r),i.point(0,r),i.point(vp,r),i.point(vp,0),i.point(vp,-r),i.point(0,-r),i.point(-vp,-r),i.point(-vp,0),i.point(-vp,r);else if(xp(t[0]-e[0])>mp){var o=t[0]<e[0]?vp:-vp;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(e[0],e[1])}),[-vp,-yp]),ed=function(t,e){function n(t,e){return Ip(t)*Ip(e)>o}function i(t,e,n){var i=[1,0,0],r=zr(Hr(t),Hr(e)),s=jr(r,r),a=r[0],l=s-a*a;if(!l)return!n&&t;var u=o*s/l,c=-o*a/l,h=zr(i,r),f=Gr(i,u);Kr(f,Gr(r,c));var p=h,d=jr(f,p),A=jr(p,p),g=d*d-A*(jr(f,f)-1);if(!(g<0)){var m=Tp(g),v=Gr(p,(-d-m)/A);if(Kr(v,f),v=Qr(v),!n)return v;var y,_=t[0],b=e[0],w=t[1],E=e[1];b<_&&(y=_,_=b,b=y);var x=b-_,C=xp(x-vp)<mp;if(!C&&E<w&&(y=w,w=E,E=y),C||x<mp?C?w+E>0^v[1]<(xp(v[0]-_)<mp?w:E):w<=v[1]&&v[1]<=E:x>vp^(_<=v[0]&&v[0]<=b)){var B=Gr(p,(-d+m)/A);return Kr(B,f),[v,Qr(B)]}}}function r(e,n){var i=s?t:vp-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var o=Ip(t),s=o>0,a=xp(o)>mp;return $p(n,(function(t){var e,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,f){var p,d=[h,f],A=n(h,f),g=s?A?0:r(h,f):A?r(h+(h<0?vp:-vp),f):0;if(!e&&(u=l=A)&&t.lineStart(),A!==l&&(!(p=i(e,d))||Qp(e,p)||Qp(d,p))&&(d[0]+=mp,d[1]+=mp,A=n(d[0],d[1])),A!==l)c=0,A?(t.lineStart(),p=i(d,e),t.point(p[0],p[1])):(p=i(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(a&&e&&s^A){var m;g&o||!(m=i(d,e,!0))||(c=0,s?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!A||e&&Qp(e,d)||t.point(d[0],d[1]),e=d,l=A,o=g},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return c|(u&&l)<<1}}}),(function(n,i,r,o){!function(t,e,n,i,r,o){if(n){var s=Ip(e),a=Mp(e),l=i*n;null==r?(r=e+i*bp,o=e-l/2):(r=Zr(s,r),o=Zr(s,o),(i>0?r<o:r>o)&&(r+=i*bp));for(var u,c=r;i>0?c>o:c<o;c-=l)u=Qr([s,-a*Ip(c),-a*Mp(c)]),t.point(u[0],u[1])}}(o,t,e,r,n,i)}),s?[0,-t]:[-vp,t-vp])};oo.prototype={constructor:oo,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var nd=16,id=Ip(30*Ep),rd=function(t,e){return+e?function(t,e){function n(i,r,o,s,a,l,u,c,h,f,p,d,A,g){var m=u-i,v=c-r,y=m*m+v*v;if(y>4*e&&A--){var _=s+f,b=a+p,w=l+d,E=Tp(_*_+b*b+w*w),x=Fr(w/=E),C=xp(xp(w)-1)<mp||xp(o-h)<mp?(o+h)/2:Bp(b,_),B=t(C,x),I=B[0],S=B[1],O=I-i,M=S-r,T=v*O-m*M;(T*T/y>e||xp((m*O+v*M)/y-.5)>.3||s*f+a*p+l*d<id)&&(n(i,r,o,s,a,l,I,S,C,_/=E,b/=E,w,A,g),g.point(I,S),n(I,S,C,_,b,w,u,c,h,f,p,d,A,g))}}return function(e){function i(n,i){n=t(n,i),e.point(n[0],n[1])}function r(){m=NaN,w.point=o,e.lineStart()}function o(i,r){var o=Hr([i,r]),s=t(i,r);n(m,v,g,y,_,b,m=s[0],v=s[1],g=i,y=o[0],_=o[1],b=o[2],nd,e),e.point(m,v)}function s(){w.point=i,e.lineEnd()}function a(){r(),w.point=l,w.lineEnd=u}function l(t,e){o(c=t,e),h=m,f=v,p=y,d=_,A=b,w.point=o}function u(){n(m,v,g,y,_,b,h,f,c,p,d,A,nd,e),w.lineEnd=s,s()}var c,h,f,p,d,A,g,m,v,y,_,b,w={point:i,lineStart:r,lineEnd:s,polygonStart:function(){e.polygonStart(),w.lineStart=a},polygonEnd:function(){e.polygonEnd(),w.lineStart=r}};return w}}(t,e):function(t){return ro({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)},od=ro({point:function(t,e){this.stream.point(t*Ep,e*Ep)}});ao.invert=function(t,e){return[t,2*Cp(Sp(e))-yp]},lo.invert=function(t,e){return[-e,2*Cp(Sp(t))-yp]};var sd=function(){var t=function(t){function e(){var e=vp*a(),s=o(Dp(o.rotate()).invert([0,0]));return u(null==c?[[s[0]-e,s[1]-e],[s[0]+e,s[1]+e]]:t===ao?[[Math.max(s[0]-e,c),n],[Math.min(s[0]+e,i),r]]:[[c,Math.max(s[1]-e,n)],[i,Math.min(s[1]+e,r)]])}var n,i,r,o=function(t){return function(t){function e(t){return[(t=u(t[0]*Ep,t[1]*Ep))[0]*A+s,a-t[1]*A]}function n(t,e){return[(t=o(t,e))[0]*A+s,a-t[1]*A]}function i(){u=Rp(l=Yr(_,b,w),o);var t=o(v,y);return s=g-t[0]*A,a=m+t[1]*A,r()}function r(){return p=d=null,e}var o,s,a,l,u,c,h,f,p,d,A=150,g=480,m=250,v=0,y=0,_=0,b=0,w=0,E=null,x=td,C=null,B=Wp,I=.5,S=rd(n,I);return e.stream=function(t){return p&&d===t?p:p=od(x(l,S(B(d=t))))},e.clipAngle=function(t){return arguments.length?(x=+t?ed(E=t*Ep,6*Ep):(E=null,td),r()):E*wp},e.clipExtent=function(t){return arguments.length?(B=null==t?(C=c=h=f=null,Wp):eo(C=+t[0][0],c=+t[0][1],h=+t[1][0],f=+t[1][1]),r()):null==C?null:[[C,c],[h,f]]},e.scale=function(t){return arguments.length?(A=+t,i()):A},e.translate=function(t){return arguments.length?(g=+t[0],m=+t[1],i()):[g,m]},e.center=function(t){return arguments.length?(v=t[0]%360*Ep,y=t[1]%360*Ep,i()):[v*wp,y*wp]},e.rotate=function(t){return arguments.length?(_=t[0]%360*Ep,b=t[1]%360*Ep,w=t.length>2?t[2]%360*Ep:0,i()):[_*wp,b*wp,w*wp]},e.precision=function(t){return arguments.length?(S=rd(n,I=t*t),r()):Tp(I)},e.fitExtent=function(t,n){return so(e,t,n)},e.fitSize=function(t,n){return function(t,e,n){return so(t,[[0,0],e],n)}(e,t,n)},function(){return o=t.apply(this,arguments),e.invert=o.invert&&function(t){return(t=u.invert((t[0]-s)/A,(a-t[1])/A))&&[t[0]*wp,t[1]*wp]},i()}}((function(){return t}))()}(t),s=o.center,a=o.scale,l=o.translate,u=o.clipExtent,c=null;return o.scale=function(t){return arguments.length?(a(t),e()):a()},o.translate=function(t){return arguments.length?(l(t),e()):l()},o.center=function(t){return arguments.length?(s(t),e()):s()},o.clipExtent=function(t){return arguments.length?(null==t?c=n=i=r=null:(c=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),e()):null==c?null:[[c,n],[i,r]]},e()}(lo),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};t.projection=cs,t.random=Wa,t.clusters=Ya,t.helpers=Bo,t.invariant=So,t.meta=Io,t.isolines=function(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.zProperty||"elevation",r=n.commonProperties||{},o=n.breaksProperties||[];if(Y(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks must be an Array");if(!x(r))throw new Error("commonProperties must be an Object");if(!Array.isArray(o))throw new Error("breaksProperties must be an Array");var s=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",i=e.flip,r=e.flags;Y(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return T(t,(function(t){var e=K(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return K(t)[0]-K(e)[0]}))})).sort((function(t,n){return e?K(t[0])[1]-K(n[0])[1]:K(n[0])[1]-K(t[0])[1]}))}(t,i),s=[],a=0;a<o.length;a++){for(var l=o[a],u=[],c=0;c<l.length;c++){var h=l[c];h.properties[n]?u.push(h.properties[n]):u.push(0),!0===r&&(h.properties.matrixPosition=[a,c])}s.push(u)}return s}(t,{zProperty:i,flip:!0});return u(function(t,e,n){var i=j(n),r=i[2]-i[0],o=i[3]-i[1],s=i[0],a=i[1],l=e[0].length-1,u=e.length-1,c=r/l,h=o/u,f=function(t){t[0]=t[0]*c+s,t[1]=t[1]*h+a};return t.forEach((function(t){I(t,f)})),t}(function(t,e,n,i,r){for(var o=[],s=1;s<e.length;s++){var a=+e[s],l=Object.assign({},i,r[s]);l[n]=a;var u=c(Z(t,a),l);o.push(u)}return o}(s,e,i,r,o),s,t))},t.convex=It,t.pointsWithinPolygon=Mt,t.concave=function(t,n){if(!x(n=n||{}))throw new Error("options is invalid");if(!t)throw new Error("points is required");var i=n.maxEdge||1/0;if(!E(i))throw new Error("maxEdge is invalid");var r=Tt(function(t){var e=[],n={};return T(t,(function(t){if(t.geometry){var i=t.geometry.coordinates.join("-");n.hasOwnProperty(i)||(e.push(t),n[i]=!0)}})),u(e)}(t));if(r.features=r.features.filter((function(t){var e=t.geometry.coordinates[0][0],r=t.geometry.coordinates[0][1],o=t.geometry.coordinates[0][2],s=Ft(e,r,n),a=Ft(r,o,n),l=Ft(e,o,n);return s<=i&&a<=i&&l<=i})),r.features.length<1)return null;var o=Yt(r,n);return 1===o.coordinates.length&&(o.coordinates=o.coordinates[0],o.type="Polygon"),e(o)},t.collect=function(t,e,n,i){var r=No(6),o=e.features.map((function(t){return{minX:t.geometry.coordinates[0],minY:t.geometry.coordinates[1],maxX:t.geometry.coordinates[0],maxY:t.geometry.coordinates[1],property:t.properties[n]}}));return r.load(o),t.features.forEach((function(t){t.properties||(t.properties={});var e=j(t),n=[];r.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]}).forEach((function(e){St([e.minX,e.minY],t)&&n.push(e.property)})),t.properties[i]=n})),t},t.flip=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.mutate;if(!t)throw new Error("geojson is required");return!1!==n&&void 0!==n||(t=Rt(t)),I(t,(function(t){var e=t[0],n=t[1];t[0]=n,t[1]=e})),t},t.simplify=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=void 0!==e.tolerance?e.tolerance:1,i=e.highQuality||!1,r=e.mutate||!1;if(!t)throw new Error("geojson is required");if(n&&n<0)throw new Error("invalid tolerance");return!0!==r&&(t=Rt(t)),L(t,(function(t){!function(t,e,n){var i=t.type;if("Point"===i||"MultiPoint"===i)return t;Xt(t,!0);var r=t.coordinates;switch(i){case"LineString":t.coordinates=te(r,e,n);break;case"MultiLineString":t.coordinates=r.map((function(t){return te(t,e,n)}));break;case"Polygon":t.coordinates=ee(r,e,n);break;case"MultiPolygon":t.coordinates=r.map((function(t){return ee(t,e,n)}))}}(t,n,i)})),t},t.bezierSpline=ne,t.tag=function(t,e,n,i){return t=Rt(t),e=Rt(e),T(t,(function(t){t.properties||(t.properties={}),T(e,(function(e){void 0===t.properties[i]&&St(t,e)&&(t.properties[i]=e.properties[n])}))})),t},t.sample=function(t,e){if(!t)throw new Error("featurecollection is required");if(null==e)throw new Error("num is required");if("number"!=typeof e)throw new Error("num must be a number");return u(function(t,e){for(var n,i,r=t.slice(0),o=t.length,s=o-e;o-- >s;)n=r[i=Math.floor((o+1)*Math.random())],r[i]=r[o],r[o]=n;return r.slice(s)}(t.features,e))},t.envelope=re,t.square=oe,t.circle=ae,t.midpoint=function(t,e){return se(t,Ft(t,e)/2,le(t,e))},t.center=ue,t.centerOfMass=function t(e,n){switch(J(e)){case"Point":return e;case"Polygon":var r=[];I(e,(function(t){r.push(t)}));var o,s,a,l,u,c,h,f,p=ce(e,n),d=p.geometry.coordinates,A=0,g=0,m=0,v=r.map((function(t){return[t[0]-d[0],t[1]-d[1]]}));for(o=0;o<r.length-1;o++)l=(s=v[o])[0],c=s[1],u=(a=v[o+1])[0],m+=f=l*(h=a[1])-u*c,A+=(l+u)*f,g+=(c+h)*f;if(0===m)return p;var y=1/(.5*m*6);return i([d[0]+y*A,d[1]+y*g],n);default:var _=It(e);return _?t(_,n):ce(e,n)}},t.centroid=ce,t.combine=function(t){function n(t,e,n){n?i[e].coordinates=i[e].coordinates.concat(t.geometry.coordinates):i[e].coordinates.push(t.geometry.coordinates),i[e].properties.push(t.properties)}var i={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}},r=Object.keys(i).reduce((function(t,e){return t[e.replace("Multi","")]=e,t}),{});return T(t,(function(t){t.geometry&&(i[t.geometry.type]?n(t,t.geometry.type,!0):r[t.geometry.type]&&n(t,r[t.geometry.type],!1))})),u(Object.keys(i).filter((function(t){return i[t].coordinates.length})).sort().map((function(t){return e({type:t,coordinates:i[t].coordinates},{collectedProperties:i[t].properties})})))},t.distance=Ft,t.explode=he,t.bbox=j,t.tesselate=function(t){if(!t.geometry||"Polygon"!==t.geometry.type&&"MultiPolygon"!==t.geometry.type)throw new Error("input must be a Polygon or MultiPolygon");var e={type:"FeatureCollection",features:[]};return"Polygon"===t.geometry.type?e.features=Ie(t.geometry.coordinates):t.geometry.coordinates.forEach((function(t){e.features=e.features.concat(Ie(t))})),e},t.bboxPolygon=ie,t.booleanPointInPolygon=St,t.nearestPoint=Se,t.nearestPointOnLine=Xe,t.nearestPointToLine=function(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.units,r=n.properties||{};if(!t)throw new Error("points is required");if(!(t=function(t){var e=[];switch(t.geometry?t.geometry.type:t.type){case"GeometryCollection":return L(t,(function(t){"Point"===t.type&&e.push({type:"Feature",properties:{},geometry:t})})),{type:"FeatureCollection",features:e};case"FeatureCollection":return t.features=t.features.filter((function(t){return"Point"===t.geometry.type})),t;default:throw new Error("points must be a Point Collection")}}(t)).features.length)throw new Error("points must contain features");if(!e)throw new Error("line is required");if("LineString"!==J(e))throw new Error("line must be a LineString");var o=1/0,s=null;return T(t,(function(t){var n=on(t,e,{units:i});n<o&&(o=n,s=t)})),s&&(s.properties=Object.assign({dist:o},s.properties,r)),s},t.planepoint=function(t,e){var n=z(t),i=X(e).coordinates[0];if(i.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var r=e.properties||{},o=r.a,s=r.b,a=r.c,l=n[0],u=n[1],c=i[0][0],h=i[0][1],f=void 0!==o?o:i[0][2],p=i[1][0],d=i[1][1],A=void 0!==s?s:i[1][2],g=i[2][0],m=i[2][1],v=void 0!==a?a:i[2][2];return(v*(l-c)*(u-d)+f*(l-p)*(u-m)+A*(l-g)*(u-h)-A*(l-c)*(u-m)-v*(l-p)*(u-h)-f*(l-g)*(u-d))/((l-c)*(u-d)+(l-p)*(u-m)+(l-g)*(u-h)-(l-c)*(u-m)-(l-p)*(u-h)-(l-g)*(u-d))},t.tin=Tt,t.bearing=le,t.destination=se,t.kinks=function(t){var e,n,r={type:"FeatureCollection",features:[]};if("LineString"===(n="Feature"===t.type?t.geometry:t).type)e=[n.coordinates];else if("MultiLineString"===n.type)e=n.coordinates;else if("MultiPolygon"===n.type)e=[].concat.apply([],n.coordinates);else{if("Polygon"!==n.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=n.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var n=0;n<t.length-1;n++)for(var o=n;o<e.length-1;o++){if(t===e){if(1===Math.abs(n-o))continue;if(0===n&&o===t.length-2&&t[n][0]===t[t.length-1][0]&&t[n][1]===t[t.length-1][1])continue}var s=function(t,e,n,i,r,o,s,a){var l,u,c,h,f={x:null,y:null,onLine1:!1,onLine2:!1};return 0==(l=(a-o)*(n-t)-(s-r)*(i-e))?null!==f.x&&null!==f.y&&f:(h=(n-t)*(u=e-o)-(i-e)*(c=t-r),u=((s-r)*u-(a-o)*c)/l,c=h/l,f.x=t+u*(n-t),f.y=e+u*(i-e),u>=0&&u<=1&&(f.onLine1=!0),c>=0&&c<=1&&(f.onLine2=!0),!(!f.onLine1||!f.onLine2)&&[f.x,f.y])}(t[n][0],t[n][1],t[n+1][0],t[n+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);s&&r.features.push(i([s[0],s[1]]))}}))})),r},t.pointOnFeature=an,t.area=un,t.along=function(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var r;if("Feature"===t.type)r=t.geometry.coordinates;else{if("LineString"!==t.type)throw new Error("input must be a LineString Feature or Geometry");r=t.coordinates}if(!E(e))throw new Error("distance must be a number");for(var o=0,s=0;s<r.length&&!(e>=o&&s===r.length-1);s++){if(o>=e){var a=e-o;if(a){var l=le(r[s],r[s-1])-180;return se(r[s],a,l,n)}return i(r[s])}o+=Ft(r[s],r[s+1],n)}return i(r[r.length-1])},t.length=pn,t.lineSlice=function(t,e,n){var i=K(n);if("LineString"!==J(n))throw new Error("line must be a LineString");for(var r,o=Xe(n,t),s=Xe(n,e),l=[(r=o.properties.index<=s.properties.index?[o,s]:[s,o])[0].geometry.coordinates],u=r[0].properties.index+1;u<r[1].properties.index+1;u++)l.push(i[u]);return l.push(r[1].geometry.coordinates),a(l,n.properties)},t.lineSliceAlong=dn,t.pointGrid=yn,t.truncate=_n,t.flatten=function(t){if(!t)throw new Error("geojson is required");var e=[];return R(t,(function(t){e.push(t)})),u(e)},t.lineIntersect=We,t.lineChunk=function(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.units,r=n.reverse;if(!t)throw new Error("geojson is required");if(e<=0)throw new Error("segmentLength must be greater than 0");var o=[];return R(t,(function(t){r&&(t.geometry.coordinates=t.geometry.coordinates.reverse()),function(t,e,n,i){var r=pn(t,{units:n});if(r<=e)return i(t);var o=r/e;Number.isInteger(o)||(o=Math.floor(o)+1);for(var s=0;s<o;s++)i(dn(t,e*s,e*(s+1),{units:n}))}(t,e,i,(function(t){o.push(t)}))})),u(o)},t.unkinkPolygon=function(t){var e=[];return R(t,(function(t){"Polygon"===t.geometry.type&&T(fs(t),(function(n){e.push(o(n.geometry.coordinates,t.properties))}))})),u(e)},t.greatCircle=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.properties,r=n.npoints,o=n.offset;return t=z(t),e=z(e),i=i||{},r=r||100,o=o||10,new _s({x:t[0],y:t[1]},{x:e[0],y:e[1]},i).Arc(r,{offset:o}).json()},t.lineSegment=qe,t.lineSplit=function(t,e){if(!t)throw new Error("line is required");if(!e)throw new Error("splitter is required");var n=J(t),i=J(e);if("LineString"!==n)throw new Error("line must be LineString");if("FeatureCollection"===i)throw new Error("splitter cannot be a FeatureCollection");if("GeometryCollection"===i)throw new Error("splitter cannot be a GeometryCollection");var r=_n(e,{precision:7});switch(i){case"Point":return Cn(t,r);case"MultiPoint":return xn(t,r);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return xn(t,We(t,r))}},t.lineArc=Sn,t.polygonToLine=Mn,t.lineToPolygon=Nn,t.bboxClip=function(t,e){var n=function(t){return t.geometry?t.geometry.type:t.type}(t),i=K(t),r=t.properties;switch(n){case"LineString":case"MultiLineString":var s=[];return"LineString"===n&&(i=[i]),i.forEach((function(t){bs(t,e,s)})),1===s.length?a(s[0],r):c(s,r);case"Polygon":return o(Pn(i,e),r);case"MultiPolygon":return f(i.map((function(t){return Pn(t,e)})),r);default:throw new Error("geometry "+n+" not supported")}},t.lineOverlap=zn,t.sector=function(t,e,n,i,r){if(!x(r=r||{}))throw new Error("options is invalid");if(!t)throw new Error("center is required");if(null==n)throw new Error("bearing1 is required");if(null==i)throw new Error("bearing2 is required");if(!e)throw new Error("radius is required");if("object"!=typeof r)throw new Error("options must be an object");if(Gn(n)===Gn(i))return ae(t,e,r);var s=K(t),a=[[s]];return I(Sn(t,e,n,i,r),(function(t){a[0].push(t)})),a[0].push(s),o(a)},t.rhumbBearing=Ve,t.rhumbDistance=Ze,t.rhumbDestination=qn,t.polygonTangents=function(t,e){var n,r,o,s=K(t),a=K(e);switch(J(e)){case"Polygon":n=a[0][0],r=a[0][0],o=Yn(a[0][0],a[0][a[0].length-1],s);var l=Wn(a[0],s,o,void 0,n,r);n=l[0],r=l[1];break;case"MultiPolygon":n=a[0][0][0],r=a[0][0][0],o=Yn(a[0][0][0],a[0][0][a[0][0].length-1],s),a.forEach((function(t){var e=Wn(t[0],s,o,void 0,n,r);n=e[0],r=e[1]}))}return u([i(n),i(r)])},t.rewind=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.reverse||!1,i=e.mutate||!1;if(!t)throw new Error("<geojson> is required");if("boolean"!=typeof n)throw new Error("<reverse> must be a boolean");if("boolean"!=typeof i)throw new Error("<mutate> must be a boolean");!1===i&&(t=Rt(t));var r=[];switch(t.type){case"GeometryCollection":return L(t,(function(t){Vn(t,n)})),t;case"FeatureCollection":return T(t,(function(t){T(Vn(t,n),(function(t){r.push(t)}))})),u(r)}return Vn(t,n)},t.isobands=function(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.zProperty||"elevation",r=n.commonProperties||{},s=n.breaksProperties||[];if(Y(t,"Point","Input must contain Points"),!e)throw new Error("breaks is required");if(!Array.isArray(e))throw new Error("breaks is not an Array");if(!x(r))throw new Error("commonProperties is not an Object");if(!Array.isArray(s))throw new Error("breaksProperties is not an Array");var a=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.zProperty||"elevation",i=e.flip,r=e.flags;Y(t,"Point","input must contain Points");for(var o=function(t,e){var n={};return T(t,(function(t){var e=K(t)[1];n[e]||(n[e]=[]),n[e].push(t)})),Object.keys(n).map((function(t){return n[t].sort((function(t,e){return K(t)[0]-K(e)[0]}))})).sort((function(t,n){return e?K(t[0])[1]-K(n[0])[1]:K(n[0])[1]-K(t[0])[1]}))}(t,i),s=[],a=0;a<o.length;a++){for(var l=o[a],u=[],c=0;c<l.length;c++){var h=l[c];h.properties[n]?u.push(h.properties[n]):u.push(0),!0===r&&(h.properties.matrixPosition=[a,c])}s.push(u)}return s}(t,{zProperty:i,flip:!0}),l=function(t,e,n){for(var i=[],r=1;r<e.length;r++){var s=+e[r-1],a=+e[r],l=function(t){for(var e=t.map((function(t){return{lrCoordinates:t,grouped:!1}})),n=[];!function(t){for(var e=0;e<t.length;e++)if(!1===t[e].grouped)return!1;return!0}(e);)for(var i=0;i<e.length;i++)if(!e[i].grouped){var r=[];r.push(e[i].lrCoordinates),e[i].grouped=!0;for(var s=o([e[i].lrCoordinates]),a=i+1;a<e.length;a++)e[a].grouped||function(t,e){for(var n=he(t),i=0;i<n.features.length;i++)if(!St(n.features[i],e))return!1;return!0}(o([e[a].lrCoordinates]),s)&&(r.push(e[a].lrCoordinates),e[a].grouped=!0);n.push(r)}return n}(function(t){var e=[],n=[];t.forEach((function(t){var i=un(o([t]));n.push(i),e.push({ring:t,area:i})})),n.sort((function(t,e){return e-t}));var i=[];return n.forEach((function(t){for(var n=0;n<e.length;n++)if(e[n].area===t){i.push(e[n].ring),e.splice(n,1);break}})),i}($n(t,s,a-s))),u={};u.groupedRings=l,u[n]=s+"-"+a,i.push(u)}return i}(a,e,i);return u((l=function(t,e,n){var i=j(n),r=i[2]-i[0],o=i[3]-i[1],s=i[0],a=i[1],l=e[0].length-1,u=e.length-1,c=r/l,h=o/u,f=function(t){t[0]=t[0]*c+s,t[1]=t[1]*h+a};return t.forEach((function(t){t.groupedRings.forEach((function(t){t.forEach((function(t){t.forEach(f)}))}))})),t}(l,a,t)).map((function(t,e){if(s[e]&&!x(s[e]))throw new Error("Each mappedProperty is required to be an Object");var n=Object.assign({},r,s[e]);return n[i]=t[i],f(t.groupedRings,n)})))},t.transformRotate=ni,t.transformScale=ii,t.transformTranslate=function(t,e,n,i){if(!x(i=i||{}))throw new Error("options is invalid");var r=i.units,o=i.zTranslation,s=i.mutate;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");if(o&&"number"!=typeof o&&isNaN(o))throw new Error("zTranslation is not a number");if(o=void 0!==o?o:0,0===e&&0===o)return t;if(null==n||isNaN(n))throw new Error("direction is required");return e<0&&(e=-e,n=-n),!1!==s&&void 0!==s||(t=Rt(t)),I(t,(function(t){var i=K(qn(t,e,n,{units:r}));t[0]=i[0],t[1]=i[1],o&&3===t.length&&(t[2]+=o)})),t},t.lineOffset=function(t,e,n){if(!x(n=n||{}))throw new Error("options is invalid");var i=n.units;if(!t)throw new Error("geojson is required");if(null==e||isNaN(e))throw new Error("distance is required");var r=J(t),o=t.properties;switch(r){case"LineString":return ai(t,e,i);case"MultiLineString":var s=[];return R(t,(function(t){s.push(ai(t,e,i).geometry.coordinates)})),c(s,o);default:throw new Error("geometry "+r+" is not supported")}},t.polygonize=function(t){var e=_a.fromGeoJson(t);e.deleteDangles(),e.deleteCutEdges();var n=[],i=[];return e.getEdgeRings().filter((function(t){return t.isValid()})).forEach((function(t){t.isHole()?n.push(t):i.push(t)})),n.forEach((function(t){va.findEdgeRingContaining(t,i)&&i.push(t)})),u(i.map((function(t){return t.toPolygon()})))},t.booleanDisjoint=function(t,e){var n;return R(t,(function(t){R(e,(function(e){if(!1===n)return!1;n=function(t,e){switch(t.type){case"Point":switch(e.type){case"Point":return!function(t,e){return t[0]===e[0]&&t[1]===e[1]}(t.coordinates,e.coordinates);case"LineString":return!ci(e,t);case"Polygon":return!St(t,e)}break;case"LineString":switch(e.type){case"Point":return!ci(t,e);case"LineString":return!function(t,e){return We(t,e).features.length>0}(t,e);case"Polygon":return!hi(e,t)}break;case"Polygon":switch(e.type){case"Point":return!St(e,t);case"LineString":return!hi(t,e);case"Polygon":return!function(t,e){for(var n=0;n<t.coordinates[0].length;n++)if(St(t.coordinates[0][n],e))return!0;for(var i=0;i<e.coordinates[0].length;i++)if(St(e.coordinates[0][i],t))return!0;return!1}(e,t)}}}(t.geometry,e.geometry)}))})),n},t.booleanContains=function(t,e){var n=J(t),i=J(e),r=X(t),o=X(e),s=K(t),a=K(e);switch(n){case"Point":switch(i){case"Point":return pi(s,a);default:throw new Error("feature2 "+i+" geometry not supported")}case"MultiPoint":switch(i){case"Point":return function(t,e){var n,i=!1;for(n=0;n<t.coordinates.length;n++)if(pi(t.coordinates[n],e.coordinates)){i=!0;break}return i}(r,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++){for(var i=!1,r=0;r<t.coordinates.length;r++)if(pi(e.coordinates[n],t.coordinates[r])){i=!0;break}if(!i)return!1}return!0}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"Point":return An(o,r,{ignoreEndVertices:!0});case"LineString":return function(t,e){for(var n=!1,i=0;i<e.coordinates.length;i++)if(An({type:"Point",coordinates:e.coordinates[i]},t,{ignoreEndVertices:!0})&&(n=!0),!An({type:"Point",coordinates:e.coordinates[i]},t,{ignoreEndVertices:!1}))return!1;return n}(r,o);case"MultiPoint":return function(t,e){for(var n=!1,i=0;i<e.coordinates.length;i++)if(An(e.coordinates[i],t,{ignoreEndVertices:!0})&&(n=!0),!An(e.coordinates[i],t))return!1;return!!n}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"Point":return St(o,r,{ignoreBoundary:!0});case"LineString":return function(t,e){var n=!1,i=0;if(!fi(j(t),j(e)))return!1;for(;i<e.coordinates.length-1;i++)if(St({type:"Point",coordinates:function(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2]}(e.coordinates[i],e.coordinates[i+1])},t,{ignoreBoundary:!0})){n=!0;break}return n}(r,o);case"Polygon":return function(t,e){if(!fi(j(t),j(e)))return!1;for(var n=0;n<e.coordinates[0].length;n++)if(!St(e.coordinates[0][n],t))return!1;return!0}(r,o);case"MultiPoint":return function(t,e){for(var n=0;n<e.coordinates.length;n++)if(!St(e.coordinates[n],t,{ignoreBoundary:!0}))return!1;return!0}(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanCrosses=function(t,e){var n=J(t),i=J(e),r=X(t),o=X(e);switch(n){case"MultiPoint":switch(i){case"LineString":return di(r,o);case"Polygon":return gi(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"LineString":switch(i){case"MultiPoint":return di(o,r);case"LineString":return function(t,e){if(We(t,e).features.length>0)for(var n=0;n<t.coordinates.length-1;n++)for(var i=0;i<e.coordinates.length-1;i++){var r=!0;if(0!==i&&i!==e.coordinates.length-2||(r=!1),mi(t.coordinates[n],t.coordinates[n+1],e.coordinates[i],r))return!0}return!1}(r,o);case"Polygon":return Ai(r,o);default:throw new Error("feature2 "+i+" geometry not supported")}case"Polygon":switch(i){case"MultiPoint":return gi(o,r);case"LineString":return Ai(o,r);default:throw new Error("feature2 "+i+" geometry not supported")}default:throw new Error("feature1 "+n+" geometry not supported")}},t.booleanClockwise=Xn,t.booleanOverlap=bi,t.booleanPointOnLine=An,t.booleanEqual=function(t,e){if(!t)throw new Error("feature1 is required");if(!e)throw new Error("feature2 is required");return J(t)===J(e)&&new Ca({precision:6}).compare(Xt(t),Xt(e))},t.booleanWithin=gn,t.clone=Rt,t.cleanCoords=Xt,t.clustersDbscan=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.minPoints,r=n.units;if(Y(t,"Point","Input must contain Points"),null==e)throw new Error("maxDistance is required");if(!(Math.sign(e)>0))throw new Error("Invalid maxDistance");if(!(null==i||Math.sign(i)>0))throw new Error("Invalid minPoints");t=Rt(t),i=i||3;var o=new Ma.DBSCAN,s=-1;return o.run(k(t),b(e,r),i,Ft).forEach((function(e){s++,e.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster=s,n.properties.dbscan="core"}))})),o.noise.forEach((function(e){var n=t.features[e];n.properties||(n.properties={}),n.properties.cluster?n.properties.dbscan="edge":n.properties.dbscan="noise"})),t},t.clustersKmeans=function(t,e){if("object"!=typeof(e=e||{}))throw new Error("options is invalid");var n=e.numberOfClusters,i=e.mutate;Y(t,"Point","Input must contain Points");var r=t.features.length;(n=n||Math.round(Math.sqrt(r/2)))>r&&(n=r),!1!==i&&void 0!==i||(t=Rt(t));var o=k(t),s=o.slice(0,n),a=Fa(o,n,s),l={};return a.centroids.forEach((function(t,e){l[e]=t})),T(t,(function(t,e){var n=a.idxs[e];t.properties.cluster=n,t.properties.centroid=l[n]})),t},t.pointToLineDistance=on,t.booleanParallel=function(t,e){if(!t)throw new Error("line1 is required");if(!e)throw new Error("line2 is required");if("LineString"!==Ei(t,"line1"))throw new Error("line1 must be a LineString");if("LineString"!==Ei(e,"line2"))throw new Error("line2 must be a LineString");for(var n=qe(Xt(t)).features,i=qe(Xt(e)).features,r=0;r<n.length;r++){var o=n[r].geometry.coordinates;if(!i[r])break;if(!function(t,e){return v(Ve(t[0],t[1]))===v(Ve(e[0],e[1]))}(o,i[r].geometry.coordinates))return!1}return!0},t.shortestPath=function(t,n,r){if(!x(r=r||{}))throw new Error("options is invalid");var o=r.resolution,s=r.minDistance,l=r.obstacles||u([]);if(!t)throw new Error("start is required");if(!n)throw new Error("end is required");if(o&&!E(o)||o<=0)throw new Error("options.resolution must be a number, greater than 0");if(s)throw new Error("options.minDistance is not yet implemented");var c=z(t),h=z(n);switch(t=i(c),n=i(h),J(l)){case"FeatureCollection":if(0===l.features.length)return a([c,h]);break;case"Polygon":l=u([e(X(l))]);break;default:throw new Error("invalid obstacles")}var f=l;f.features.push(t),f.features.push(n);var p=j(ii(ie(j(f)),1.15));o||(o=Ft([p[0],p[1]],[p[2],p[1]],r)/100),f.features.pop(),f.features.pop();for(var d=p[0],A=p[1],g=p[2],m=p[3],v=o/Ft([d,A],[g,A],r)*(g-d),y=o/Ft([d,A],[d,m],r)*(m-A),_=g-d,b=m-A,w=(_-Math.floor(_/v)*v)/2,C=[],B=[],I=[],S=[],O=1/0,M=1/0,T=m-(b-Math.floor(b/y)*y)/2,N=0;T>=A;){for(var k=[],L=[],F=d+w,R=0;F<=g;){var D=i([F,T]),P=function(t,e){for(var n=0;n<e.features.length;n++)if(St(t,e.features[n]))return!0;return!1}(D,l);k.push(P?0:1),L.push(F+"|"+T);var U=Ft(D,t);!P&&U<O&&(O=U,I={x:R,y:N});var Q=Ft(D,n);!P&&Q<M&&(M=Q,S={x:R,y:N}),F+=v,R++}B.push(k),C.push(L),T-=y,N++}var H=new Ci(B,{diagonal:!0}),K=H.grid[I.y][I.x],G=H.grid[S.y][S.x],q=[c];return Ra.search(H,K,G).forEach((function(t){var e=C[t.x][t.y].split("|");q.push([+e[0],+e[1]])})),q.push(h),Xt(a(q))},t.voronoi=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.bbox||[-180,-85,180,85];if(!t)throw new Error("points is required");if(!Array.isArray(n))throw new Error("bbox is invalid");return Y(t,"Point","points"),u(function(){function t(t){return new Zi(t.map((function(i,r){var o=[Math.round(e(i,r,t)/Ga)*Ga,Math.round(n(i,r,t)/Ga)*Ga];return o.index=r,o.data=i,o})),i)}var e=Si,n=Oi,i=null;return t.polygons=function(e){return t(e).polygons()},t.links=function(e){return t(e).links()},t.triangles=function(e){return t(e).triangles()},t.x=function(n){return arguments.length?(e="function"==typeof n?n:Da(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:Da(+e),t):n},t.extent=function(e){return arguments.length?(i=null==e?null:[[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]],t):i&&[[i[0][0],i[0][1]],[i[1][0],i[1][1]]]},t.size=function(e){return arguments.length?(i=null==e?null:[[0,0],[+e[0],+e[1]]],t):i&&[i[1][0]-i[0][0],i[1][1]-i[0][1]]},t}().x((function(t){return t.geometry.coordinates[0]})).y((function(t){return t.geometry.coordinates[1]})).extent([[n[0],n[1]],[n[2],n[3]]]).polygons(t.features).map($i))},t.ellipse=tr,t.centerMean=nr,t.centerMedian=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.counter||10;if(!E(n))throw new Error("counter must be a number");var i=e.weight,r=nr(t,{weight:e.weight}),o=u([]);return T(t,(function(t){o.features.push(ce(t,{weight:t.properties[i]}))})),o.properties={tolerance:e.tolerance,medianCandidates:[]},ir(r.geometry.coordinates,[0,0],o,n)},t.standardDeviationalEllipse=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.steps||64,i=e.weight,r=e.properties||{};if(!E(n))throw new Error("steps must be a number");if(!x(r))throw new Error("properties must be a number");var o=k(t).length,s=nr(t,{weight:i}),a=0,l=0,c=0;T(t,(function(t){var e=t.properties[i]||1,n=rr(K(t),K(s));a+=Math.pow(n.x,2)*e,l+=Math.pow(n.y,2)*e,c+=n.x*n.y*e}));var h=a-l,f=Math.sqrt(Math.pow(h,2)+4*Math.pow(c,2)),p=2*c,d=Math.atan((h+f)/p),A=180*d/Math.PI,g=0,m=0,v=0;T(t,(function(t){var e=t.properties[i]||1,n=rr(K(t),K(s));g+=Math.pow(n.x*Math.cos(d)-n.y*Math.sin(d),2)*e,m+=Math.pow(n.x*Math.sin(d)+n.y*Math.cos(d),2)*e,v+=e}));var y=Math.sqrt(2*g/v),_=Math.sqrt(2*m/v),b=tr(s,y,_,{units:"degrees",angle:A,steps:n,properties:r}),w=Mt(t,u([b])),C={meanCenterCoordinates:K(s),semiMajorAxis:y,semiMinorAxis:_,numberOfFeatures:o,angle:A,percentageWithinEllipse:100*k(w).length/o};return b.properties.standardDeviationalEllipse=C,b},t.difference=function(t,n){var i=X(t),r=X(n),o=t.properties||{};if(i=Nr(i),r=Nr(r),!i)return null;if(!r)return e(i,o);var s=new nc,a=s.read(i),l=s.read(r),u=op.difference(a,l);return u.isEmpty()?null:e((new ic).write(u),o)},t.buffer=function(t,e,n){var i=(n=n||{}).units,r=n.steps||64;if(!t)throw new Error("geojson is required");if("object"!=typeof n)throw new Error("options must be an object");if("number"!=typeof r)throw new Error("steps must be an number");if(void 0===e)throw new Error("radius is required");if(r<=0)throw new Error("steps must be greater than 0");r=r||64,i=i||"kilometers";var o=[];switch(t.type){case"GeometryCollection":return L(t,(function(t){var n=uo(t,e,i,r);n&&o.push(n)})),u(o);case"FeatureCollection":return T(t,(function(t){var n=uo(t,e,i,r);n&&T(n,(function(t){t&&o.push(t)}))})),u(o)}return uo(t,e,i,r)},t.union=po,t.intersect=Ao,t.dissolve=function(t,e){if(!x(e=e||{}))throw new Error("options is invalid");var n=e.propertyName;Y(t,"Polygon","dissolve");var i=Rt(t),r=i.features,o=[];r.forEach((function(t,e){t.properties.origIndexPosition=e}));var s=ze();for(var l in s.load(i),r){var u=r[l],c=!1;if(s.search(u).features.forEach((function(t){u=r[l];var e=t.properties.origIndexPosition;if(o.length>0&&0!==e)if(e>o[o.length-1])e-=o.length;else{var i=go(e,o);0!==i&&(e-=i)}if(e!==+l){var h=r[e];h&&u&&(void 0!==n&&h.properties[n]!==u.properties[n]||bi(u,h)&&function(t,e){return We(a(k(t)),a(k(e))).features.length>0}(u,h)&&(r[l]=po(u,h),o.push(t.properties.origIndexPosition),o.sort((function(t,e){return t-e})),s.remove(t),r.splice(e,1),u.properties.origIndexPosition=l,s.remove(u,(function(t,e){return t.properties.origIndexPosition===e.properties.origIndexPosition})),c=!0))}})),c){if(!u)continue;u.properties.origIndexPosition=l,s.insert(u),l--}}return r.forEach((function(t){delete t.properties.origIndexPosition,delete t.bbox})),i},t.hexGrid=mo,t.mask=function(t,e){var n=function(t){return o(t&&t.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}(e),i=function(t){var e=[],n=[];return R(t,(function(t){var i=t.geometry.coordinates,r=i[0],s=i.slice(1);e.push(o([r])),s.forEach((function(t){n.push(o([t]))}))})),[u(e),u(n)]}(t),r=i[0],s=i[1];return function(t,e,n){var i=[];return i.push(t.geometry.coordinates[0]),R(e,(function(t){i.push(t.geometry.coordinates[0])})),R(n,(function(t){i.push(t.geometry.coordinates[0])})),o(i)}(n,r=vo(r),s=vo(s))},t.squareGrid=_o,t.triangleGrid=bo,t.interpolate=function(t,e,n){if("object"!=typeof(n=n||{}))throw new Error("options is invalid");var i=n.gridType,r=n.property,o=n.weight;if(!t)throw new Error("points is required");if(Y(t,"Point","input must contain Points"),!e)throw new Error("cellSize is required");if(void 0!==o&&"number"!=typeof o)throw new Error("weight must be a number");r=r||"elevation",i=i||"square",o=o||1;var s,a=j(t);switch(i){case"point":case"points":s=yn(a,e,n);break;case"square":case"squares":s=_o(a,e,n);break;case"hex":case"hexes":s=mo(a,e,n);break;case"triangle":case"triangles":s=bo(a,e,n);break;default:throw new Error("invalid gridType")}var l=[];return T(s,(function(e){var s=0,a=0;T(t,(function(t){var l,u=Ft("point"===i?e:ce(e),t,n);if(void 0!==r&&(l=t.properties[r]),void 0===l&&(l=t.geometry.coordinates[2]),void 0===l)throw new Error("zValue is missing");0===u&&(s=l);var c=1/Math.pow(u,o);a+=c,s+=c*l}));var u=Rt(e);u.properties[r]=s/a,l.push(u)})),u(l)},t.pointOnSurface=an,t.polygonToLineString=Mn,t.lineStringToPolygon=Nn,t.inside=St,t.within=Mt,t.bezier=ne,t.nearest=Se,t.pointOnLine=Xe,t.lineDistance=pn,t.radians2degrees=y,t.degrees2radians=_,t.distanceToDegrees=m,t.distanceToRadians=g,t.radiansToDistance=A,t.bearingToAngle=v,t.convertDistance=b,t.toMercator=$e,t.toWgs84=tn,t.randomPosition=or,t.randomPoint=sr,t.randomPolygon=ar,t.randomLineString=lr,t.getCluster=cr,t.clusterEach=hr,t.clusterReduce=fr,t.createBins=pr,t.applyFilter=dr,t.propertiesContainsFilter=Ar,t.filterProperties=gr,t.earthRadius=wo,t.factors=Eo,t.unitsFactors=xo,t.areaFactors=Co,t.feature=e,t.geometry=n,t.point=i,t.points=r,t.polygon=o,t.polygons=s,t.lineString=a,t.lineStrings=l,t.featureCollection=u,t.multiLineString=c,t.multiPoint=h,t.multiPolygon=f,t.geometryCollection=p,t.round=d,t.radiansToLength=A,t.lengthToRadians=g,t.lengthToDegrees=m,t.bearingToAzimuth=v,t.radiansToDegrees=y,t.degreesToRadians=_,t.convertLength=b,t.convertArea=w,t.isNumber=E,t.isObject=x,t.validateBBox=C,t.validateId=B,t.getCoord=z,t.getCoords=K,t.containsNumber=G,t.geojsonType=q,t.featureOf=W,t.collectionOf=Y,t.getGeom=X,t.getGeomType=V,t.getType=J,t.coordEach=I,t.coordReduce=S,t.propEach=O,t.propReduce=M,t.featureEach=T,t.featureReduce=N,t.coordAll=k,t.geomEach=L,t.geomReduce=F,t.flattenEach=R,t.flattenReduce=D,t.segmentEach=P,t.segmentReduce=U,t.lineEach=Q,t.lineReduce=H,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return f})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return A}));var i=n(43),r=(n(10),n(30),n(7)),o=n(102),s=n.n(o),a=n(113),l=n(87);function u(t,e,n,i,r){for(var o=Object.keys(t),s=0;s<o.length;s++)t[o[s]].properties=Object.assign({"weigthed indegree":0},t[o[s]].properties),t[o[s]].properties=Object.assign({"weigthed outdegree":0},t[o[s]].properties),t[o[s]].properties=Object.assign({"weigthed degree":0},t[o[s]].properties),t[o[s]].properties=Object.assign({"weigthed balance":0},t[o[s]].properties),t[o[s]].properties=Object.assign({indegree:0},t[o[s]].properties),t[o[s]].properties=Object.assign({outdegree:0},t[o[s]].properties),t[o[s]].properties=Object.assign({degree:0},t[o[s]].properties),t[o[s]].properties=Object.assign({balance:0},t[o[s]].properties);var a=e.length;for(s=0;s<a;s++)t[e[s][i]].properties.indegree=1+t[e[s][i]].properties.indegree,t[e[s][n]].properties.outdegree=1+t[e[s][n]].properties.outdegree,t[e[s][i]].properties.degree=1+t[e[s][i]].properties.degree,t[e[s][n]].properties.degree=1+t[e[s][n]].properties.degree,t[e[s][i]].properties["weigthed balance"]=t[e[s][i]].properties["weigthed balance"]+Number(e[s][r]),t[e[s][n]].properties["weigthed balance"]=t[e[s][n]].properties["weigthed balance"]-Number(e[s][r]),t[e[s][i]].properties.balance=t[e[s][i]].properties.balance+1,t[e[s][n]].properties.balance=t[e[s][n]].properties.balance-1,t[e[s][i]].properties["weigthed indegree"]=Number(e[s][r])+t[e[s][i]].properties["weigthed indegree"],t[e[s][n]].properties["weigthed outdegree"]=Number(e[s][r])+t[e[s][n]].properties["weigthed outdegree"],t[e[s][i]].properties["weigthed degree"]=Number(e[s][r])+t[e[s][i]].properties["weigthed degree"],t[e[s][n]].properties["weigthed degree"]=Number(e[s][r])+t[e[s][n]].properties["weigthed degree"]}function c(t,e,n){for(var i=0,r=0;r<t.length;r++)i+=Number(t[r][e]);n.totalSum=i}function h(t,e,n,i,r){for(var o=[],s=!1,a=[],l=0,u=0;u<t.length;u++)e.includes(t[u][n])&&e.includes(t[u][i])&&0!==Number(t[u][global_data.ids.vol].replace(/\s/g,""))?(t[u][global_data.ids.vol]=Number(t[u][global_data.ids.vol].replace(/\s/g,"")),a.push(t[u])):(o.push(u),l++,s=!0);return s?alert(r+"\n\n"+l+" Links have been removed. No equivalent nodes have been found. \n The links number  "+o.toString()+" were removed \n"):0!==r.length&&alert(r),a}function f(t,e,n,r,o,s){for(var a=e.length,l=0;l<a;l++)e[l].distance=o?i.distance(t[e[l][n]],t[e[l][r]],{units:s}):i.distance(p(t[e[l][n]]),p(t[e[l][r]]),{units:s})}function p(t){if("MultiPolygon"==t.geometry.type){for(var e=0,n=-1,r=t.geometry.coordinates.length,o=0;o<r;o++){var s=i.polygon(t.geometry.coordinates[o]),a=i.area(s);n<a&&(e=o,n=a)}return i.centroid(i.polygon(t.geometry.coordinates[e]))}return"Point"==t.geometry.type?t.geometry.coordinates:i.centroid(t)}function d(t,e,n){var i=new l.a,o=new s.a,u={},c={};if(null!==Object(r.l)(map,"link")){var h=Object(r.l)(map,"link").getSource().getFeatures();u=i.writeFeatures(h)}if(null!==Object(r.l)(map,"node"))h=Object(r.l)(map,"node").getSource().getFeatures(),c=i.writeFeatures(h);console.log(u),console.log(c),o.file("links.json",u),o.file("nodes.json",c),o.file("crs.json",JSON.stringify(global_data.projection)),o.generateAsync({type:"blob"}).then((function(t){Object(a.saveAs)(t,"data.zip")}))}function A(t){var e=global_data.files.aggr;return window[e](t)}window.min=function(t){return Math.min(...t)},window.max=function(t){return Math.max(...t)},window.sum=function(t){return t.reduce((t,e)=>t+e)},window.median=function(t){t.sort((function(t,e){return t-e}));var e=Math.floor(t.length/2);return t.length%2?t[e]:(t[e-1]+t[e])/2},window.mean=function(t){return t.reduce((t,e)=>t+e)/t.length}},function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}function r(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var s=n[r],a=0;a<i;++a)t[e++]=s[a];return e}function o(t,e,n,i,o){for(var s=o||[],a=0,l=0,u=n.length;l<u;++l){var c=r(t,e,n[l],i);s[a++]=c,e=c}return s.length=a,s}function s(t,e,n,i,r){for(var s=r||[],a=0,l=0,u=n.length;l<u;++l){var c=o(t,e,n[l],i,s[a]);s[a++]=c,e=c[c.length-1]}return s.length=a,s}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s}))},function(t,e,n){"use strict";function i(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=e;a<n;a+=i)o[s++]=t.slice(a,a+i);return o.length=s,o}function r(t,e,n,r,o){for(var s=void 0!==o?o:[],a=0,l=0,u=n.length;l<u;++l){var c=n[l];s[a++]=i(t,e,c,r,s[a]),e=c}return s.length=a,s}function o(t,e,n,i,o){for(var s=void 0!==o?o:[],a=0,l=0,u=n.length;l<u;++l){var c=n[l];s[a++]=r(t,e,c,i,s[a]),e=c[c.length-1]}return s.length=a,s}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o}))},function(t,e,n){"use strict";var i=n(122),r=n(37),o=n(18),s=n(34),a="length",l=function(t){function e(e,n){t.call(this,e),this.element=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),u=function(t){function e(e,n){t.call(this);var i=n||{};if(this.unique_=!!i.unique,this.array_=e||[],this.unique_)for(var r=0,o=this.array_.length;r<o;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(a)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new l(r.a.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new l(r.a.REMOVE,e)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new l(r.a.REMOVE,i)),this.dispatchEvent(new l(r.a.ADD,e))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(a,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new i.a(58)},e}(o.a);e.a=u},function(t,e,n){"use strict";function i(t,e,n,i,r,o){for(var s=o||[],a=0,l=e;l<n;l+=i){var u=t[l],c=t[l+1];s[a++]=r[0]*u+r[2]*c+r[4],s[a++]=r[1]*u+r[3]*c+r[5]}return o&&s.length!=a&&(s.length=a),s}function r(t,e,n,i,r,o,s){for(var a=s||[],l=Math.cos(r),u=Math.sin(r),c=o[0],h=o[1],f=0,p=e;p<n;p+=i){var d=t[p]-c,A=t[p+1]-h;a[f++]=c+d*l-A*u,a[f++]=h+d*u+A*l;for(var g=p+2;g<p+i;++g)a[f++]=t[g]}return s&&a.length!=f&&(a.length=f),a}function o(t,e,n,i,r,o,s,a){for(var l=a||[],u=s[0],c=s[1],h=0,f=e;f<n;f+=i){var p=t[f]-u,d=t[f+1]-c;l[h++]=u+r*p,l[h++]=c+o*d;for(var A=f+2;A<f+i;++A)l[h++]=t[A]}return a&&l.length!=h&&(l.length=h),l}function s(t,e,n,i,r,o,s){for(var a=s||[],l=0,u=e;u<n;u+=i){a[l++]=t[u]+r,a[l++]=t[u+1]+o;for(var c=u+2;c<u+i;++c)a[l++]=t[c]}return s&&a.length!=l&&(a.length=l),a}n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"d",(function(){return s}))},function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return c}));var i=n(9);function r(t,e,n,r,o,s,a){var l,u=t[e],c=t[e+1],h=t[n]-u,f=t[n+1]-c;if(0===h&&0===f)l=e;else{var p=((o-u)*h+(s-c)*f)/(h*h+f*f);if(p>1)l=n;else{if(p>0){for(var d=0;d<r;++d)a[d]=Object(i.c)(t[e+d],t[n+d],p);return void(a.length=r)}l=e}}for(var A=0;A<r;++A)a[A]=t[l+A];a.length=r}function o(t,e,n,r,o){var s=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var l=t[e],u=t[e+1],c=Object(i.f)(s,a,l,u);c>o&&(o=c),s=l,a=u}return o}function s(t,e,n,i,r){for(var s=0,a=n.length;s<a;++s){var l=n[s];r=o(t,e,l,i,r),e=l}return r}function a(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){var l=n[o];r=s(t,e,l,i,r),e=l[l.length-1]}return r}function l(t,e,n,o,s,a,l,u,c,h,f){if(e==n)return h;var p,d;if(0===s){if((d=Object(i.f)(l,u,t[e],t[e+1]))<h){for(p=0;p<o;++p)c[p]=t[e+p];return c.length=o,d}return h}for(var A=f||[NaN,NaN],g=e+o;g<n;)if(r(t,g-o,g,o,l,u,A),(d=Object(i.f)(l,u,A[0],A[1]))<h){for(h=d,p=0;p<o;++p)c[p]=A[p];c.length=o,g+=o}else g+=o*Math.max((Math.sqrt(d)-Math.sqrt(h))/s|0,1);if(a&&(r(t,n-o,e,o,l,u,A),(d=Object(i.f)(l,u,A[0],A[1]))<h)){for(h=d,p=0;p<o;++p)c[p]=A[p];c.length=o}return h}function u(t,e,n,i,r,o,s,a,u,c,h){for(var f=h||[NaN,NaN],p=0,d=n.length;p<d;++p){var A=n[p];c=l(t,e,A,i,r,o,s,a,u,c,f),e=A}return c}function c(t,e,n,i,r,o,s,a,l,c,h){for(var f=h||[NaN,NaN],p=0,d=n.length;p<d;++p){var A=n[p];c=u(t,e,A,i,r,o,s,a,l,c,f),e=A[A.length-1]}return c}},function(t,e,n){"use strict";var i=n(15),r=n(1),o=n(26),s=n(5),a=n(41),l=n(99),u=n(49),c=n(45),h=n(46),f=n(60),p=function(t){function e(e,n){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(u.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(u.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,o.a.XY)},e.prototype.getType=function(){return s.a.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(c.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a),d=n(62),A=(n(112),n(63)),g=n(128),m=n(83),v=n(88);n(9);n.d(e,"b",(function(){return _}));var y=function(t){function e(e,n,i){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(u.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(u.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Object(A.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return Object(l.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(v.c)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,Object(h.b)(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=Object(r.x)(this.getExtent());this.flatInteriorPoint_=Object(g.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new d.a(this.getFlatInteriorPoint(),o.a.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new p(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o],l=new p(e.slice(r,a),t);i.push(l),r=a}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(v.a)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(v.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Object(f.c)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,o.a.XY,i)},e.prototype.getType=function(){return s.a.POLYGON},e.prototype.intersectsExtent=function(t){return Object(m.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(c.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(a.a);e.a=y;function _(t){var e=t[0],n=t[1],i=t[2],r=t[3],s=[e,n,e,r,i,r,i,n,e,n];return new y(s,o.a.XY,[s.length])}},function(t,e,n){"use strict";e.a={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"}},function(t,e,n){"use strict";e.a={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=n(31);function r(t){return Array.isArray(t)?Object(i.c)(t):t}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return r}));var i=.5,r=!0},function(t,e,n){var i;
/*!
 * jQuery JavaScript Library v3.4.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-04-10T19:48Z
 */!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,l=o.slice,u=o.concat,c=o.push,h=o.indexOf,f={},p=f.toString,d=f.hasOwnProperty,A=d.toString,g=A.call(Object),m={},v=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},y=function(t){return null!=t&&t===t.window},_={type:!0,src:!0,nonce:!0,noModule:!0};function b(t,e,n){var i,r,o=(n=n||s).createElement("script");if(o.text=t,e)for(i in _)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?f[p.call(t)]||"object":typeof t}var E=function(t,e){return new E.fn.init(t,e)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function C(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!v(t)&&!y(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}E.fn=E.prototype={jquery:"3.4.0",constructor:E,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=E.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return E.each(this,t)},map:function(t){return this.pushStack(E.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},E.extend=E.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=t[e],"__proto__"!==e&&s!==i&&(u&&i&&(E.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[e],o=r&&!Array.isArray(n)?[]:r||E.isPlainObject(n)?n:{},r=!1,s[e]=E.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},E.extend({expando:"jQuery"+("3.4.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==p.call(t))&&(!(e=a(t))||"function"==typeof(n=d.call(e,"constructor")&&e.constructor)&&A.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){b(t,{nonce:e&&e.nonce})},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(x,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?E.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:h.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(C(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return u.apply([],s)},guid:1,support:m}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=o[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){f["[object "+e+"]"]=e.toLowerCase()}));var B=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(t){var e,n,i,r,o,s,a,l,u,c,h,f,p,d,A,g,m,v,y,_="sizzle"+1*new Date,b=t.document,w=0,E=0,x=lt(),C=lt(),B=lt(),I=lt(),S=function(t,e){return t===e&&(h=!0),0},O={}.hasOwnProperty,M=[],T=M.pop,N=M.push,k=M.push,L=M.slice,F=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="[\\x20\\t\\r\\n\\f]",P="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",U="\\["+D+"*("+P+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+P+"))|)"+D+"*\\]",Q=":("+P+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",H=new RegExp(D+"+","g"),j=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),z=new RegExp("^"+D+"*,"+D+"*"),K=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),G=new RegExp(D+"|>"),q=new RegExp(Q),W=new RegExp("^"+P+"$"),Y={ID:new RegExp("^#("+P+")"),CLASS:new RegExp("^\\.("+P+")"),TAG:new RegExp("^("+P+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,V=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+D+"?|("+D+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){f()},st=_t((function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{k.apply(M=L.call(b.childNodes),b.childNodes),M[b.childNodes.length].nodeType}catch(t){k={apply:M.length?function(t,e){N.apply(t,L.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function at(t,e,i,r){var o,a,u,c,h,d,m,v=e&&e.ownerDocument,w=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return i;if(!r&&((e?e.ownerDocument||e:b)!==p&&f(e),e=e||p,A)){if(11!==w&&(h=$.exec(t)))if(o=h[1]){if(9===w){if(!(u=e.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(v&&(u=v.getElementById(o))&&y(e,u)&&u.id===o)return i.push(u),i}else{if(h[2])return k.apply(i,e.getElementsByTagName(t)),i;if((o=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return k.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!I[t+" "]&&(!g||!g.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(m=t,v=e,1===w&&G.test(t)){for((c=e.getAttribute("id"))?c=c.replace(it,rt):e.setAttribute("id",c=_),a=(d=s(t)).length;a--;)d[a]="#"+c+" "+yt(d[a]);m=d.join(","),v=tt.test(t)&&mt(e.parentNode)||e}try{return k.apply(i,v.querySelectorAll(m)),i}catch(e){I(t,!0)}finally{c===_&&e.removeAttribute("id")}}}return l(t.replace(j,"$1"),e,i,r)}function lt(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function ut(t){return t[_]=!0,t}function ct(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ft(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function pt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function At(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ut((function(e){return e=+e,ut((function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=at.support={},o=at.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!X.test(e||n&&n.nodeName||"HTML")},f=at.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:b;return s!==p&&9===s.nodeType&&s.documentElement?(d=(p=s).documentElement,A=!o(p),b!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ot,!1):r.attachEvent&&r.attachEvent("onunload",ot)),n.attributes=ct((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=ct((function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(p.getElementsByClassName),n.getById=ct((function(t){return d.appendChild(t).id=_,!p.getElementsByName||!p.getElementsByName(_).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&A){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&A){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&A)return e.getElementsByClassName(t)},m=[],g=[],(n.qsa=Z.test(p.querySelectorAll))&&(ct((function(t){d.appendChild(t).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+D+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+D+"*(?:value|"+R+")"),t.querySelectorAll("[id~="+_+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")})),ct((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+D+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=Z.test(v=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ct((function(t){n.disconnectedMatch=v.call(t,"*"),v.call(t,"[s!='']:x"),m.push("!=",Q)})),g=g.length&&new RegExp(g.join("|")),m=m.length&&new RegExp(m.join("|")),e=Z.test(d.compareDocumentPosition),y=e||Z.test(d.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},S=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===p||t.ownerDocument===b&&y(b,t)?-1:e===p||e.ownerDocument===b&&y(b,e)?1:c?F(c,t)-F(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===p?-1:e===p?1:r?-1:o?1:c?F(c,t)-F(c,e):0;if(r===o)return ft(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ft(s[i],a[i]):s[i]===b?-1:a[i]===b?1:0},p):p},at.matches=function(t,e){return at(t,null,null,e)},at.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&f(t),n.matchesSelector&&A&&!I[e+" "]&&(!m||!m.test(e))&&(!g||!g.test(e)))try{var i=v.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){I(e,!0)}return at(e,p,null,[t]).length>0},at.contains=function(t,e){return(t.ownerDocument||t)!==p&&f(t),y(t,e)},at.attr=function(t,e){(t.ownerDocument||t)!==p&&f(t);var r=i.attrHandle[e.toLowerCase()],o=r&&O.call(i.attrHandle,e.toLowerCase())?r(t,e,!A):void 0;return void 0!==o?o:n.attributes||!A?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},at.escape=function(t){return(t+"").replace(it,rt)},at.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},at.uniqueSort=function(t){var e,i=[],r=0,o=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(S),h){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=at.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=at.selectors={cacheLength:50,createPseudo:ut,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||at.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&at.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&q.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=x[t+" "];return e||(e=new RegExp("(^|"+D+")"+t+"("+D+"|$)"))&&x(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=at.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(H," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,f,p,d,A=o!==s?"nextSibling":"previousSibling",g=e.parentNode,m=a&&e.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(g){if(o){for(;A;){for(f=e;f=f[A];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;d=A="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?g.firstChild:g.lastChild],s&&v){for(y=(p=(u=(c=(h=(f=g)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&u[1])&&u[2],f=p&&g.childNodes[p];f=++p&&f&&f[A]||(y=p=0)||d.pop();)if(1===f.nodeType&&++y&&f===e){c[t]=[w,p,y];break}}else if(v&&(y=p=(u=(c=(h=(f=e)[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]||[])[0]===w&&u[1]),!1===y)for(;(f=++p&&f&&f[A]||(y=p=0)||d.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++y||(v&&((c=(h=f[_]||(f[_]={}))[f.uniqueID]||(h[f.uniqueID]={}))[t]=[w,y]),f!==e)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||at.error("unsupported pseudo: "+t);return r[_]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ut((function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=F(t,o[s])]=!(n[i]=o[s])})):function(t){return r(t,0,n)}):r}},pseudos:{not:ut((function(t){var e=[],n=[],i=a(t.replace(j,"$1"));return i[_]?ut((function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:ut((function(t){return function(e){return at(t,e).length>0}})),contains:ut((function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}})),lang:ut((function(t){return W.test(t||"")||at.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=A?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:At(!1),disabled:At(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return V.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt((function(){return[0]})),last:gt((function(t,e){return[e-1]})),eq:gt((function(t,e,n){return[n<0?n+e:n]})),even:gt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:gt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:gt((function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t})),gt:gt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=pt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=dt(e);function vt(){}function yt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function _t(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=E++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,l){var u,c,h,f=[w,a];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(h=e[_]||(e[_]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===w&&u[1]===a)return f[2]=u[2];if(c[o]=f,f[2]=t(e,n,l))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function wt(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function Et(t,e,n,i,r,o){return i&&!i[_]&&(i=Et(i)),r&&!r[_]&&(r=Et(r,o)),ut((function(o,s,a,l){var u,c,h,f=[],p=[],d=s.length,A=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)at(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),g=!t||!o&&e?A:wt(A,f,t,a,l),m=n?r||(o?t:d||i)?[]:s:g;if(n&&n(g,m,a,l),i)for(u=wt(m,p),i(u,[],a,l),c=u.length;c--;)(h=u[c])&&(m[p[c]]=!(g[p[c]]=h));if(o){if(r||t){if(r){for(u=[],c=m.length;c--;)(h=m[c])&&u.push(g[c]=h);r(null,m=[],u,l)}for(c=m.length;c--;)(h=m[c])&&(u=r?F(o,h):f[c])>-1&&(o[u]=!(s[u]=h))}}else m=wt(m===s?m.splice(d,m.length):m),r?r(null,s,m,l):k.apply(s,m)}))}function xt(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],l=s?1:0,c=_t((function(t){return t===e}),a,!0),h=_t((function(t){return F(e,t)>-1}),a,!0),f=[function(t,n,i){var r=!s&&(i||n!==u)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];l<o;l++)if(n=i.relative[t[l].type])f=[_t(bt(f),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[_]){for(r=++l;r<o&&!i.relative[t[r].type];r++);return Et(l>1&&bt(f),l>1&&yt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(j,"$1"),n,l<r&&xt(t.slice(l,r)),r<o&&xt(t=t.slice(r)),r<o&&yt(t))}f.push(n)}return bt(f)}return vt.prototype=i.filters=i.pseudos,i.setFilters=new vt,s=at.tokenize=function(t,e){var n,r,o,s,a,l,u,c=C[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=i.preFilter;a;){for(s in n&&!(r=z.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=K.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(j," ")}),a=a.slice(n.length)),i.filter)!(r=Y[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?at.error(t):C(t,l).slice(0)},a=at.compile=function(t,e){var n,r=[],o=[],a=B[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=xt(e[n]))[_]?r.push(a):o.push(a);(a=B(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,l,c){var h,d,g,m=0,v="0",y=o&&[],_=[],b=u,E=o||r&&i.find.TAG("*",c),x=w+=null==b?1:Math.random()||.1,C=E.length;for(c&&(u=s===p||s||c);v!==C&&null!=(h=E[v]);v++){if(r&&h){for(d=0,s||h.ownerDocument===p||(f(h),a=!A);g=t[d++];)if(g(h,s||p,a)){l.push(h);break}c&&(w=x)}n&&((h=!g&&h)&&m--,o&&y.push(h))}if(m+=v,n&&v!==m){for(d=0;g=e[d++];)g(y,_,s,a);if(o){if(m>0)for(;v--;)y[v]||_[v]||(_[v]=T.call(l));_=wt(_)}k.apply(l,_),c&&!o&&_.length>0&&m+e.length>1&&at.uniqueSort(l)}return c&&(w=x,u=b),y};return n?ut(o):o}(o,r))).selector=t}return a},l=at.select=function(t,e,n,r){var o,l,u,c,h,f="function"==typeof t&&t,p=!r&&s(t=f.selector||t);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&A&&i.relative[l[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(et,nt),e)||[])[0]))return n;f&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=Y.needsContext.test(t)?0:l.length;o--&&(u=l[o],!i.relative[c=u.type]);)if((h=i.find[c])&&(r=h(u.matches[0].replace(et,nt),tt.test(l[0].type)&&mt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&yt(l)))return k.apply(n,r),n;break}}return(f||a(t,p))(r,e,!A,n,!e||tt.test(t)&&mt(e.parentNode)||e),n},n.sortStable=_.split("").sort(S).join("")===_,n.detectDuplicates=!!h,f(),n.sortDetached=ct((function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))})),ct((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ht("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&ct((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ht("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),ct((function(t){return null==t.getAttribute("disabled")}))||ht(R,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),at}(n);E.find=B,E.expr=B.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=B.uniqueSort,E.text=B.getText,E.isXMLDoc=B.isXML,E.contains=B.contains,E.escapeSelector=B.escape;var I=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&E(t).is(n))break;i.push(t)}return i},S=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},O=E.expr.match.needsContext;function M(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var T=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function N(t,e,n){return v(e)?E.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?E.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?E.grep(t,(function(t){return h.call(e,t)>-1!==n})):E.filter(e,t,n)}E.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?E.find.matchesSelector(i,t)?[i]:[]:E.find.matches(t,E.grep(e,(function(t){return 1===t.nodeType})))},E.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(E(t).filter((function(){for(e=0;e<i;e++)if(E.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)E.find(t,r[e],n);return i>1?E.uniqueSort(n):n},filter:function(t){return this.pushStack(N(this,t||[],!1))},not:function(t){return this.pushStack(N(this,t||[],!0))},is:function(t){return!!N(this,"string"==typeof t&&O.test(t)?E(t):t||[],!1).length}});var k,L=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||k,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:L.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),T.test(i[1])&&E.isPlainObject(e))for(i in e)v(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):v(t)?void 0!==n.ready?n.ready(t):t(E):E.makeArray(t,this)}).prototype=E.fn,k=E(s);var F=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function D(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}E.fn.extend({has:function(t){var e=E(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(E.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&E(t);if(!O.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?h.call(E(t),this[0]):h.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return I(t,"parentNode")},parentsUntil:function(t,e,n){return I(t,"parentNode",n)},next:function(t){return D(t,"nextSibling")},prev:function(t){return D(t,"previousSibling")},nextAll:function(t){return I(t,"nextSibling")},prevAll:function(t){return I(t,"previousSibling")},nextUntil:function(t,e,n){return I(t,"nextSibling",n)},prevUntil:function(t,e,n){return I(t,"previousSibling",n)},siblings:function(t){return S((t.parentNode||{}).firstChild,t)},children:function(t){return S(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(M(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},(function(t,e){E.fn[t]=function(n,i){var r=E.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=E.filter(i,r)),this.length>1&&(R[t]||E.uniqueSort(r),F.test(t)&&r.reverse()),this.pushStack(r)}}));var P=/[^\x20\t\r\n\f]+/g;function U(t){return t}function Q(t){throw t}function H(t,e,n,i){var r;try{t&&v(r=t.promise)?r.call(t).done(e).fail(n):t&&v(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}E.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return E.each(t.match(P)||[],(function(t,n){e[n]=!0})),e}(t):E.extend({},t);var e,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){E.each(n,(function(n,i){v(i)?t.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==w(i)&&e(i)}))}(arguments),n&&!e&&l()),this},remove:function(){return E.each(arguments,(function(t,e){for(var n;(n=E.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(t){return t?E.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},E.extend({Deferred:function(t){var e=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return E.Deferred((function(n){E.each(e,(function(e,i){var r=v(t[i[4]])&&t[i[4]];o[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&v(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){var a=this,l=arguments,u=function(){var n,u;if(!(t<o)){if((n=i.apply(a,l))===e.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(u)?r?u.call(n,s(o,e,U,r),s(o,e,Q,r)):(o++,u.call(n,s(o,e,U,r),s(o,e,Q,r),s(o,e,U,e.notifyWith))):(i!==U&&(a=void 0,l=[n]),(r||e.resolveWith)(a,l))}},c=r?u:function(){try{u()}catch(n){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==Q&&(a=void 0,l=[n]),e.rejectWith(a,l))}};t?c():(E.Deferred.getStackHook&&(c.stackTrace=E.Deferred.getStackHook()),n.setTimeout(c))}}return E.Deferred((function(n){e[0][3].add(s(0,n,v(r)?r:U,n.notifyWith)),e[1][3].add(s(0,n,v(t)?t:U)),e[2][3].add(s(0,n,v(i)?i:Q))})).promise()},promise:function(t){return null!=t?E.extend(t,r):r}},o={};return E.each(e,(function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add((function(){i=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=l.call(arguments),o=E.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?l.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(H(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||v(r[n]&&r[n].then)))return o.then();for(;n--;)H(r[n],s(n),o.reject);return o.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&j.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},E.readyException=function(t){n.setTimeout((function(){throw t}))};var z=E.Deferred();function K(){s.removeEventListener("DOMContentLoaded",K),n.removeEventListener("load",K),E.ready()}E.fn.ready=function(t){return z.then(t).catch((function(t){E.readyException(t)})),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==t&&--E.readyWait>0||z.resolveWith(s,[E]))}}),E.ready.then=z.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(E.ready):(s.addEventListener("DOMContentLoaded",K),n.addEventListener("load",K));var G=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===w(n))for(a in r=!0,n)G(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,v(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(E(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},q=/^-ms-/,W=/-([a-z])/g;function Y(t,e){return e.toUpperCase()}function X(t){return t.replace(q,"ms-").replace(W,Y)}var V=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function J(){this.expando=E.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},V(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[X(e)]=n;else for(i in e)r[X(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][X(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(X):(e=X(e))in i?[e]:e.match(P)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||E.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var Z=new J,$=new J,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}$.set(t,e,n)}else n=void 0;return n}E.extend({hasData:function(t){return $.hasData(t)||Z.hasData(t)},data:function(t,e,n){return $.access(t,e,n)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,n){return Z.access(t,e,n)},_removeData:function(t,e){Z.remove(t,e)}}),E.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=$.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=X(i.slice(5)),nt(o,i,r[i]));Z.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){$.set(this,t)})):G(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=$.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each((function(){$.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){$.remove(this,t)}))}}),E.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Z.get(t,e),n&&(!i||Array.isArray(n)?i=Z.access(t,e,E.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=E.queue(t,e),i=n.length,r=n.shift(),o=E._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){E.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z.get(t,n)||Z.access(t,n,{empty:E.Callbacks("once memory").add((function(){Z.remove(t,[e+"queue",n])}))})}}),E.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?E.queue(this[0],t):void 0===e?this:this.each((function(){var n=E.queue(this,t,e);E._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&E.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){E.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=E.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Z.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=s.documentElement,at=function(t){return E.contains(t.ownerDocument,t)},lt={composed:!0};st.attachShadow&&(at=function(t){return E.contains(t.ownerDocument,t)||t.getRootNode(lt)===t.ownerDocument});var ut=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&at(t)&&"none"===E.css(t,"display")},ct=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function ht(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return E.css(t,e,"")},l=a(),u=n&&n[3]||(E.cssNumber[e]?"":"px"),c=t.nodeType&&(E.cssNumber[e]||"px"!==u&&+l)&&rt.exec(E.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)E.style(t,e,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,E.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var ft={};function pt(t){var e,n=t.ownerDocument,i=t.nodeName,r=ft[i];return r||(e=n.body.appendChild(n.createElement(i)),r=E.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ft[i]=r,r)}function dt(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=Z.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&ut(i)&&(r[o]=pt(i))):"none"!==n&&(r[o]="none",Z.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}E.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){ut(this)?E(this).show():E(this).hide()}))}});var At=/^(?:checkbox|radio)$/i,gt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,mt=/^$|^module$|\/(?:java|ecma)script/i,vt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function yt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&M(t,e)?E.merge([t],n):n}function _t(t,e){for(var n=0,i=t.length;n<i;n++)Z.set(t[n],"globalEval",!e||Z.get(e[n],"globalEval"))}vt.optgroup=vt.option,vt.tbody=vt.tfoot=vt.colgroup=vt.caption=vt.thead,vt.th=vt.td;var bt,wt,Et=/<|&#?\w+;/;function xt(t,e,n,i,r){for(var o,s,a,l,u,c,h=e.createDocumentFragment(),f=[],p=0,d=t.length;p<d;p++)if((o=t[p])||0===o)if("object"===w(o))E.merge(f,o.nodeType?[o]:o);else if(Et.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(gt.exec(o)||["",""])[1].toLowerCase(),l=vt[a]||vt._default,s.innerHTML=l[1]+E.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;E.merge(f,s.childNodes),(s=h.firstChild).textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(i&&E.inArray(o,i)>-1)r&&r.push(o);else if(u=at(o),s=yt(h.appendChild(o),"script"),u&&_t(s),n)for(c=0;o=s[c++];)mt.test(o.type||"")&&n.push(o);return h}bt=s.createDocumentFragment().appendChild(s.createElement("div")),(wt=s.createElement("input")).setAttribute("type","radio"),wt.setAttribute("checked","checked"),wt.setAttribute("name","t"),bt.appendChild(wt),m.checkClone=bt.cloneNode(!0).cloneNode(!0).lastChild.checked,bt.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!bt.cloneNode(!0).lastChild.defaultValue;var Ct=/^key/,Bt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,It=/^([^.]*)(?:\.(.+)|)/;function St(){return!0}function Ot(){return!1}function Mt(t,e){return t===function(){try{return s.activeElement}catch(t){}}()==("focus"===e)}function Tt(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Tt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ot;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return E().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=E.guid++)),t.each((function(){E.event.add(this,e,r,i,n)}))}function Nt(t,e,n){n?(Z.set(t,e,!1),E.event.add(t,e,{namespace:!1,handler:function(t){var i,r,o=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(o)(E.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=l.call(arguments),Z.set(this,e,o),i=n(this,e),this[e](),o!==(r=Z.get(this,e))||i?Z.set(this,e,!1):r=void 0,o!==r)return t.stopImmediatePropagation(),t.preventDefault(),r}else o&&(Z.set(this,e,E.event.trigger(E.extend(o.shift(),E.Event.prototype),o,this)),t.stopImmediatePropagation())}})):E.event.add(t,e,St)}E.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d,A,g=Z.get(t);if(g)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&E.find.matchesSelector(st,r),n.guid||(n.guid=E.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(P)||[""]).length;u--;)p=A=(a=It.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p&&(h=E.event.special[p]||{},p=(r?h.delegateType:h.bindType)||p,h=E.event.special[p]||{},c=E.extend({type:p,origType:A,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&E.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=l[p])||((f=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,i,d,s)||t.addEventListener&&t.addEventListener(p,s)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),E.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d,A,g=Z.hasData(t)&&Z.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(P)||[""]).length;u--;)if(p=A=(a=It.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p){for(h=E.event.special[p]||{},f=l[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)c=f[o],!r&&A!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));s&&!f.length&&(h.teardown&&!1!==h.teardown.call(t,d,g.handle)||E.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)E.event.remove(t,p+e[u],n,i,!0);E.isEmptyObject(l)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=E.event.fix(t),l=new Array(arguments.length),u=(Z.get(this,"events")||{})[a.type]||[],c=E.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=E.event.handlers.call(this,a,u),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((E.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?E(r,this).index(u)>-1:E.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return At.test(e.type)&&e.click&&M(e,"input")&&void 0===Z.get(e,"click")&&Nt(e,"click",St),!1},trigger:function(t){var e=this||t;return At.test(e.type)&&e.click&&M(e,"input")&&void 0===Z.get(e,"click")&&Nt(e,"click"),!0},_default:function(t){var e=t.target;return At.test(e.type)&&e.click&&M(e,"input")&&Z.get(e,"click")||M(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},E.Event=function(t,e){if(!(this instanceof E.Event))return new E.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?St:Ot,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Ot,isPropagationStopped:Ot,isImmediatePropagationStopped:Ot,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=St,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=St,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=St,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Bt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},(function(t,e){E.event.special[t]={setup:function(){return Nt(this,t,Mt),!1},trigger:function(){return Nt(this,t),!0},delegateType:e}})),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){E.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||E.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),E.fn.extend({on:function(t,e,n,i){return Tt(this,t,e,n,i)},one:function(t,e,n,i){return Tt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,E(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ot),this.each((function(){E.event.remove(this,t,n,e)}))}});var kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Lt=/<script|<style|<link/i,Ft=/checked\s*(?:[^=]|=\s*.checked.)/i,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Dt(t,e){return M(t,"table")&&M(11!==e.nodeType?e:e.firstChild,"tr")&&E(t).children("tbody")[0]||t}function Pt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ut(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Qt(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(Z.hasData(t)&&(o=Z.access(t),s=Z.set(e,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)E.event.add(e,r,u[r][n]);$.hasData(t)&&(a=$.access(t),l=E.extend({},a),$.set(e,l))}}function Ht(t,e){var n=e.nodeName.toLowerCase();"input"===n&&At.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function jt(t,e,n,i){e=u.apply([],e);var r,o,s,a,l,c,h=0,f=t.length,p=f-1,d=e[0],A=v(d);if(A||f>1&&"string"==typeof d&&!m.checkClone&&Ft.test(d))return t.each((function(r){var o=t.eq(r);A&&(e[0]=d.call(this,r,o.html())),jt(o,e,n,i)}));if(f&&(o=(r=xt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=E.map(yt(r,"script"),Pt)).length;h<f;h++)l=r,h!==p&&(l=E.clone(l,!0,!0),a&&E.merge(s,yt(l,"script"))),n.call(t[h],l,h);if(a)for(c=s[s.length-1].ownerDocument,E.map(s,Ut),h=0;h<a;h++)l=s[h],mt.test(l.type||"")&&!Z.access(l,"globalEval")&&E.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&!l.noModule&&E._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):b(l.textContent.replace(Rt,""),l,c))}return t}function zt(t,e,n){for(var i,r=e?E.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||E.cleanData(yt(i)),i.parentNode&&(n&&at(i)&&_t(yt(i,"script")),i.parentNode.removeChild(i));return t}E.extend({htmlPrefilter:function(t){return t.replace(kt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=at(t);if(!(m.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(s=yt(a),i=0,r=(o=yt(t)).length;i<r;i++)Ht(o[i],s[i]);if(e)if(n)for(o=o||yt(t),s=s||yt(a),i=0,r=o.length;i<r;i++)Qt(o[i],s[i]);else Qt(t,a);return(s=yt(a,"script")).length>0&&_t(s,!l&&yt(t,"script")),a},cleanData:function(t){for(var e,n,i,r=E.event.special,o=0;void 0!==(n=t[o]);o++)if(V(n)){if(e=n[Z.expando]){if(e.events)for(i in e.events)r[i]?E.event.remove(n,i):E.removeEvent(n,i,e.handle);n[Z.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),E.fn.extend({detach:function(t){return zt(this,t,!0)},remove:function(t){return zt(this,t)},text:function(t){return G(this,(function(t){return void 0===t?E.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return jt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Dt(this,t).appendChild(t)}))},prepend:function(){return jt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Dt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return jt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return jt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(E.cleanData(yt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return E.clone(this,t,e)}))},html:function(t){return G(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Lt.test(t)&&!vt[(gt.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(E.cleanData(yt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return jt(this,arguments,(function(e){var n=this.parentNode;E.inArray(this,t)<0&&(E.cleanData(yt(this)),n&&n.replaceChild(e,this))}),t)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){E.fn[t]=function(t){for(var n,i=[],r=E(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),E(r[s])[e](n),c.apply(i,n.get());return this.pushStack(i)}}));var Kt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Gt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},qt=new RegExp(ot.join("|"),"i");function Wt(t,e,n){var i,r,o,s,a=t.style;return(n=n||Gt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||at(t)||(s=E.style(t,e)),!m.pixelBoxStyles()&&Kt.test(s)&&qt.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Yt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",st.appendChild(u).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=12===e(c.offsetWidth/3),st.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,l,u=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===c.style.backgroundClip,E.extend(m,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o}}))}();var Xt=["Webkit","Moz","ms"],Vt=s.createElement("div").style,Jt={};function Zt(t){var e=E.cssProps[t]||Jt[t];return e||(t in Vt?t:Jt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Xt.length;n--;)if((t=Xt[n]+e)in Vt)return t}(t)||t)}var $t=/^(none|table(?!-c[ea]).+)/,te=/^--/,ee={position:"absolute",visibility:"hidden",display:"block"},ne={letterSpacing:"0",fontWeight:"400"};function ie(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function re(t,e,n,i,r,o){var s="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=E.css(t,n+ot[s],!0,r)),i?("content"===n&&(l-=E.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(l-=E.css(t,"border"+ot[s]+"Width",!0,r))):(l+=E.css(t,"padding"+ot[s],!0,r),"padding"!==n?l+=E.css(t,"border"+ot[s]+"Width",!0,r):a+=E.css(t,"border"+ot[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))||0),l}function oe(t,e,n){var i=Gt(t),r=(!m.boxSizingReliable()||n)&&"border-box"===E.css(t,"boxSizing",!1,i),o=r,s=Wt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(Kt.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&r||"auto"===s||!parseFloat(s)&&"inline"===E.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===E.css(t,"boxSizing",!1,i),(o=a in t)&&(s=t[a])),(s=parseFloat(s)||0)+re(t,e,n||(r?"border":"content"),o,i,s)+"px"}function se(t,e,n,i,r){return new se.prototype.init(t,e,n,i,r)}E.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Wt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=X(e),l=te.test(e),u=t.style;if(l||(e=Zt(a)),s=E.cssHooks[e]||E.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=ht(t,e,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(E.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,s,a=X(e);return te.test(e)||(e=Zt(a)),(s=E.cssHooks[e]||E.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=Wt(t,e,i)),"normal"===r&&e in ne&&(r=ne[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),E.each(["height","width"],(function(t,e){E.cssHooks[e]={get:function(t,n,i){if(n)return!$t.test(E.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?oe(t,e,i):ct(t,ee,(function(){return oe(t,e,i)}))},set:function(t,n,i){var r,o=Gt(t),s=!m.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===E.css(t,"boxSizing",!1,o),l=i?re(t,e,i,a,o):0;return a&&s&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-re(t,e,"border",!1,o)-.5)),l&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=E.css(t,e)),ie(0,n,l)}}})),E.cssHooks.marginLeft=Yt(m.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(Wt(t,"marginLeft"))||t.getBoundingClientRect().left-ct(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),E.each({margin:"",padding:"",border:"Width"},(function(t,e){E.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(E.cssHooks[t+e].set=ie)})),E.fn.extend({css:function(t,e){return G(this,(function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Gt(t),r=e.length;s<r;s++)o[e[s]]=E.css(t,e[s],!1,i);return o}return void 0!==n?E.style(t,e,n):E.css(t,e)}),t,e,arguments.length>1)}}),E.Tween=se,se.prototype={constructor:se,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var t=se.propHooks[this.prop];return t&&t.get?t.get(this):se.propHooks._default.get(this)},run:function(t){var e,n=se.propHooks[this.prop];return this.options.duration?this.pos=e=E.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):se.propHooks._default.set(this),this}},se.prototype.init.prototype=se.prototype,se.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=E.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1!==t.elem.nodeType||!E.cssHooks[t.prop]&&null==t.elem.style[Zt(t.prop)]?t.elem[t.prop]=t.now:E.style(t.elem,t.prop,t.now+t.unit)}}},se.propHooks.scrollTop=se.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=se.prototype.init,E.fx.step={};var ae,le,ue=/^(?:toggle|show|hide)$/,ce=/queueHooks$/;function he(){le&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(he):n.setTimeout(he,E.fx.interval),E.fx.tick())}function fe(){return n.setTimeout((function(){ae=void 0})),ae=Date.now()}function pe(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function de(t,e,n){for(var i,r=(Ae.tweeners[e]||[]).concat(Ae.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function Ae(t,e,n){var i,r,o=0,s=Ae.prefilters.length,a=E.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=ae||fe(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),i<1&&s?n:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:e,originalOptions:n,startTime:ae||fe(),duration:n.duration,tweens:[],createTween:function(e,n){var i=E.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=X(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=E.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);o<s;o++)if(i=Ae.prefilters[o].call(u,t,c,u.opts))return v(i.stop)&&(E._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return E.map(c,de,u),v(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),E.fx.timer(E.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}E.Animation=E.extend(Ae,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ht(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){v(t)?(e=t,t=["*"]):t=t.match(P);for(var n,i=0,r=t.length;i<r;i++)n=t[i],Ae.tweeners[n]=Ae.tweeners[n]||[],Ae.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,l,u,c,h="width"in e||"height"in e,f=this,p={},d=t.style,A=t.nodeType&&ut(t),g=Z.get(t,"fxshow");for(i in n.queue||(null==(s=E._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always((function(){f.always((function(){s.unqueued--,E.queue(t,"fx").length||s.empty.fire()}))}))),e)if(r=e[i],ue.test(r)){if(delete e[i],o=o||"toggle"===r,r===(A?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;A=!0}p[i]=g&&g[i]||E.style(t,i)}if((l=!E.isEmptyObject(e))||!E.isEmptyObject(p))for(i in h&&1===t.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(u=g&&g.display)&&(u=Z.get(t,"display")),"none"===(c=E.css(t,"display"))&&(u?c=u:(dt([t],!0),u=t.style.display||u,c=E.css(t,"display"),dt([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===E.css(t,"float")&&(l||(f.done((function(){d.display=u})),null==u&&(c=d.display,u="none"===c?"":c)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always((function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}))),l=!1,p)l||(g?"hidden"in g&&(A=g.hidden):g=Z.access(t,"fxshow",{display:u}),o&&(g.hidden=!A),A&&dt([t],!0),f.done((function(){for(i in A||dt([t]),Z.remove(t,"fxshow"),p)E.style(t,i,p[i])}))),l=de(A?g[i]:0,i,f),i in g||(g[i]=l.start,A&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?Ae.prefilters.unshift(t):Ae.prefilters.push(t)}}),E.speed=function(t,e,n){var i=t&&"object"==typeof t?E.extend({},t):{complete:n||!n&&e||v(t)&&t,duration:t,easing:n&&e||e&&!v(e)&&e};return E.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in E.fx.speeds?i.duration=E.fx.speeds[i.duration]:i.duration=E.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&E.dequeue(this,i.queue)},i},E.fn.extend({fadeTo:function(t,e,n,i){return this.filter(ut).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=E.isEmptyObject(t),o=E.speed(e,n,i),s=function(){var e=Ae(this,E.extend({},t),o);(r||Z.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=E.timers,s=Z.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ce.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||E.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Z.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=E.timers,s=i?i.length:0;for(n.finish=!0,E.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),E.each(["toggle","show","hide"],(function(t,e){var n=E.fn[e];E.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(pe(e,!0),t,i,r)}})),E.each({slideDown:pe("show"),slideUp:pe("hide"),slideToggle:pe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){E.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),E.timers=[],E.fx.tick=function(){var t,e=0,n=E.timers;for(ae=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||E.fx.stop(),ae=void 0},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){le||(le=!0,he())},E.fx.stop=function(){le=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(t,e){return t=E.fx&&E.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}}))},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",m.checkOn=""!==t.value,m.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",m.radioValue="t"===t.value}();var ge,me=E.expr.attrHandle;E.fn.extend({attr:function(t,e){return G(this,E.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){E.removeAttr(this,t)}))}}),E.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?E.prop(t,e,n):(1===o&&E.isXMLDoc(t)||(r=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void E.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=E.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!m.radioValue&&"radio"===e&&M(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(P);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return!1===e?E.removeAttr(t,n):t.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=me[e]||E.find.attr;me[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=me[s],me[s]=r,r=null!=n(t,e,i)?s:null,me[s]=o),r}}));var ve=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;function _e(t){return(t.match(P)||[]).join(" ")}function be(t){return t.getAttribute&&t.getAttribute("class")||""}function we(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(P)||[]}E.fn.extend({prop:function(t,e){return G(this,E.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[E.propFix[t]||t]}))}}),E.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(t)||(e=E.propFix[e]||e,r=E.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=E.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(E.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){E.propFix[this.toLowerCase()]=this})),E.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(v(t))return this.each((function(e){E(this).addClass(t.call(this,e,be(this)))}));if((e=we(t)).length)for(;n=this[l++];)if(r=be(n),i=1===n.nodeType&&" "+_e(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=_e(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(v(t))return this.each((function(e){E(this).removeClass(t.call(this,e,be(this)))}));if(!arguments.length)return this.attr("class","");if((e=we(t)).length)for(;n=this[l++];)if(r=be(n),i=1===n.nodeType&&" "+_e(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=_e(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):v(t)?this.each((function(n){E(this).toggleClass(t.call(this,n,be(this),e),e)})):this.each((function(){var e,r,o,s;if(i)for(r=0,o=E(this),s=we(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=be(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+_e(be(n))+" ").indexOf(e)>-1)return!0;return!1}});var Ee=/\r/g;E.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=v(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,E(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=E.map(r,(function(t){return null==t?"":t+""}))),(e=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=E.valHooks[r.type]||E.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(Ee,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(t){var e=E.find.attr(t,"value");return null!=e?e:_e(E.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!M(n.parentNode,"optgroup"))){if(e=E(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=E.makeArray(e),s=r.length;s--;)((i=r[s]).selected=E.inArray(E.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],(function(){E.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=E.inArray(E(t).val(),e)>-1}},m.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),m.focusin="onfocusin"in n;var xe=/^(?:focusinfocus|focusoutblur)$/,Ce=function(t){t.stopPropagation()};E.extend(E.event,{trigger:function(t,e,i,r){var o,a,l,u,c,h,f,p,A=[i||s],g=d.call(t,"type")?t.type:t,m=d.call(t,"namespace")?t.namespace.split("."):[];if(a=p=l=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!xe.test(g+E.event.triggered)&&(g.indexOf(".")>-1&&(m=g.split("."),g=m.shift(),m.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[E.expando]?t:new E.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:E.makeArray(e,[t]),f=E.event.special[g]||{},r||!f.trigger||!1!==f.trigger.apply(i,e))){if(!r&&!f.noBubble&&!y(i)){for(u=f.delegateType||g,xe.test(u+g)||(a=a.parentNode);a;a=a.parentNode)A.push(a),l=a;l===(i.ownerDocument||s)&&A.push(l.defaultView||l.parentWindow||n)}for(o=0;(a=A[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?u:f.bindType||g,(h=(Z.get(a,"events")||{})[t.type]&&Z.get(a,"handle"))&&h.apply(a,e),(h=c&&a[c])&&h.apply&&V(a)&&(t.result=h.apply(a,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||f._default&&!1!==f._default.apply(A.pop(),e)||!V(i)||c&&v(i[g])&&!y(i)&&((l=i[c])&&(i[c]=null),E.event.triggered=g,t.isPropagationStopped()&&p.addEventListener(g,Ce),i[g](),t.isPropagationStopped()&&p.removeEventListener(g,Ce),E.event.triggered=void 0,l&&(i[c]=l)),t.result}},simulate:function(t,e,n){var i=E.extend(new E.Event,n,{type:t,isSimulated:!0});E.event.trigger(i,null,e)}}),E.fn.extend({trigger:function(t,e){return this.each((function(){E.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return E.event.trigger(t,e,n,!0)}}),m.focusin||E.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){E.event.simulate(e,t.target,E.event.fix(t))};E.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Z.access(i,e);r||i.addEventListener(t,n,!0),Z.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Z.access(i,e)-1;r?Z.access(i,e,r):(i.removeEventListener(t,n,!0),Z.remove(i,e))}}}));var Be=n.location,Ie=Date.now(),Se=/\?/;E.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+t),e};var Oe=/\[\]$/,Me=/\r?\n/g,Te=/^(?:submit|button|image|reset|file)$/i,Ne=/^(?:input|select|textarea|keygen)/i;function ke(t,e,n,i){var r;if(Array.isArray(e))E.each(e,(function(e,r){n||Oe.test(t)?i(t,r):ke(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==w(e))i(t,e);else for(r in e)ke(t+"["+r+"]",e[r],n,i)}E.param=function(t,e){var n,i=[],r=function(t,e){var n=v(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,(function(){r(this.name,this.value)}));else for(n in t)ke(n,t[n],e,r);return i.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&Ne.test(this.nodeName)&&!Te.test(t)&&(this.checked||!At.test(t))})).map((function(t,e){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,(function(t){return{name:e.name,value:t.replace(Me,"\r\n")}})):{name:e.name,value:n.replace(Me,"\r\n")}})).get()}});var Le=/%20/g,Fe=/#.*$/,Re=/([?&])_=[^&]*/,De=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Ue=/^\/\//,Qe={},He={},je="*/".concat("*"),ze=s.createElement("a");function Ke(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(P)||[];if(v(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function Ge(t,e,n,i){var r={},o=t===He;function s(a){var l;return r[a]=!0,E.each(t[a]||[],(function(t,a){var u=a(e,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),s(u),!1)})),l}return s(e.dataTypes[0])||!r["*"]&&s("*")}function qe(t,e){var n,i,r=E.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&E.extend(!0,t,i),t}ze.href=Be.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Be.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Be.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?qe(qe(t,E.ajaxSettings),e):qe(E.ajaxSettings,t)},ajaxPrefilter:Ke(Qe),ajaxTransport:Ke(He),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,l,u,c,h,f,p,d=E.ajaxSetup({},e),A=d.context||d,g=d.context&&(A.nodeType||A.jquery)?E(A):E.event,m=E.Deferred(),v=E.Callbacks("once memory"),y=d.statusCode||{},_={},b={},w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=De.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=b[t.toLowerCase()]=b[t.toLowerCase()]||t,_[t]=e),this},overrideMimeType:function(t){return null==c&&(d.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)x.always(t[x.status]);else for(e in t)y[e]=[y[e],t[e]];return this},abort:function(t){var e=t||w;return i&&i.abort(e),C(0,e),this}};if(m.promise(x),d.url=((t||d.url||Be.href)+"").replace(Ue,Be.protocol+"//"),d.type=e.method||e.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(P)||[""],null==d.crossDomain){u=s.createElement("a");try{u.href=d.url,u.href=u.href,d.crossDomain=ze.protocol+"//"+ze.host!=u.protocol+"//"+u.host}catch(t){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=E.param(d.data,d.traditional)),Ge(Qe,d,e,x),c)return x;for(f in(h=E.event&&d.global)&&0==E.active++&&E.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Pe.test(d.type),r=d.url.replace(Fe,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(Le,"+")):(p=d.url.slice(r.length),d.data&&(d.processData||"string"==typeof d.data)&&(r+=(Se.test(r)?"&":"?")+d.data,delete d.data),!1===d.cache&&(r=r.replace(Re,"$1"),p=(Se.test(r)?"&":"?")+"_="+Ie+++p),d.url=r+p),d.ifModified&&(E.lastModified[r]&&x.setRequestHeader("If-Modified-Since",E.lastModified[r]),E.etag[r]&&x.setRequestHeader("If-None-Match",E.etag[r])),(d.data&&d.hasContent&&!1!==d.contentType||e.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+je+"; q=0.01":""):d.accepts["*"]),d.headers)x.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(A,x,d)||c))return x.abort();if(w="abort",v.add(d.complete),x.done(d.success),x.fail(d.error),i=Ge(He,d,e,x)){if(x.readyState=1,h&&g.trigger("ajaxSend",[x,d]),c)return x;d.async&&d.timeout>0&&(l=n.setTimeout((function(){x.abort("timeout")}),d.timeout));try{c=!1,i.send(_,C)}catch(t){if(c)throw t;C(-1,t)}}else C(-1,"No Transport");function C(t,e,s,a){var u,f,p,_,b,w=e;c||(c=!0,l&&n.clearTimeout(l),i=void 0,o=a||"",x.readyState=t>0?4:0,u=t>=200&&t<300||304===t,s&&(_=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(d,x,s)),_=function(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(d,_,x,u),u?(d.ifModified&&((b=x.getResponseHeader("Last-Modified"))&&(E.lastModified[r]=b),(b=x.getResponseHeader("etag"))&&(E.etag[r]=b)),204===t||"HEAD"===d.type?w="nocontent":304===t?w="notmodified":(w=_.state,f=_.data,u=!(p=_.error))):(p=w,!t&&w||(w="error",t<0&&(t=0))),x.status=t,x.statusText=(e||w)+"",u?m.resolveWith(A,[f,w,x]):m.rejectWith(A,[x,w,p]),x.statusCode(y),y=void 0,h&&g.trigger(u?"ajaxSuccess":"ajaxError",[x,d,u?f:p]),v.fireWith(A,[x,w]),h&&(g.trigger("ajaxComplete",[x,d]),--E.active||E.event.trigger("ajaxStop")))}return x},getJSON:function(t,e,n){return E.get(t,e,n,"json")},getScript:function(t,e){return E.get(t,void 0,e,"script")}}),E.each(["get","post"],(function(t,e){E[e]=function(t,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),E.ajax(E.extend({url:t,type:e,dataType:r,data:n,success:i},E.isPlainObject(t)&&t))}})),E._evalUrl=function(t,e){return E.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){E.globalEval(t,e)}})},E.fn.extend({wrapAll:function(t){var e;return this[0]&&(v(t)&&(t=t.call(this[0])),e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return v(t)?this.each((function(e){E(this).wrapInner(t.call(this,e))})):this.each((function(){var e=E(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=v(t);return this.each((function(n){E(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){E(this).replaceWith(this.childNodes)})),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var We={0:200,1223:204},Ye=E.ajaxSettings.xhr();m.cors=!!Ye&&"withCredentials"in Ye,m.ajax=Ye=!!Ye,E.ajaxTransport((function(t){var e,i;if(m.cors||Ye&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(We[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){e&&i()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),E.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),E.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=E("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Xe,Ve=[],Je=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ve.pop()||E.expando+"_"+Ie++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",(function(t,e,i){var r,o,s,a=!1!==t.jsonp&&(Je.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Je.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=v(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Je,"$1"+r):!1!==t.jsonp&&(t.url+=(Se.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||E.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always((function(){void 0===o?E(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ve.push(r)),s&&v(o)&&o(s[0]),s=o=void 0})),"script"})),m.createHTMLDocument=((Xe=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Xe.childNodes.length),E.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(m.createHTMLDocument?((i=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(i)):e=s),o=!n&&[],(r=T.exec(t))?[e.createElement(r[1])]:(r=xt([t],e,o),o&&o.length&&E(o).remove(),E.merge([],r.childNodes)));var i,r,o},E.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=_e(t.slice(a)),t=t.slice(0,a)),v(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&E.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(i?E("<div>").append(E.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){E.fn[e]=function(t){return this.on(e,t)}})),E.expr.pseudos.animated=function(t){return E.grep(E.timers,(function(e){return t===e.elem})).length},E.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u=E.css(t,"position"),c=E(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=E.css(t,"top"),l=E.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),v(e)&&(e=e.call(t,n,E.extend({},a))),null!=e.top&&(h.top=e.top-a.top+s),null!=e.left&&(h.left=e.left-a.left+r),"using"in e?e.using.call(t,h):c.css(h)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){E.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===E.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===E.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=E(t).offset()).top+=E.css(t,"borderTopWidth",!0),r.left+=E.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-E.css(i,"marginTop",!0),left:e.left-r.left-E.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||st}))}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;E.fn[t]=function(i){return G(this,(function(t,i,r){var o;if(y(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r}),t,i,arguments.length)}})),E.each(["top","left"],(function(t,e){E.cssHooks[e]=Yt(m.pixelPosition,(function(t,n){if(n)return n=Wt(t,e),Kt.test(n)?E(t).position()[e]+"px":n}))})),E.each({Height:"height",Width:"width"},(function(t,e){E.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){E.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return G(this,(function(e,n,r){var o;return y(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?E.css(e,n,a):E.style(e,n,r,a)}),e,s?r:void 0,s)}}))})),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){E.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}})),E.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),E.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),E.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),v(t))return i=l.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(l.call(arguments)))}).guid=t.guid=t.guid||E.guid++,r},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=M,E.isFunction=v,E.isWindow=y,E.camelCase=X,E.type=w,E.now=Date.now,E.isNumeric=function(t){var e=E.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return E}.apply(e,[]))||(t.exports=i);var Ze=n.jQuery,$e=n.$;return E.noConflict=function(t){return n.$===E&&(n.$=$e),t&&n.jQuery===E&&(n.jQuery=Ze),E},r||(n.jQuery=n.$=E),E}))},function(t,e,n){"use strict";function i(t){return t[0]>0&&t[1]>0}function r(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function o(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o}))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function i(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var n=0;n<this._listeners[t].length;n++)this._listeners[t][n].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.end()})),t.on("error",(function(t){e.error(t)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},t.exports=i},function(t,e,n){"use strict";var i=n(98),r=n(3),o=n(20),s=n(34),a=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"==typeof t?new s.a(t):t,n=e.type;e.target=this;var i,r=this.listeners_[n];if(r){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var a=0,l=r.length;a<l;++a)if(!1===r[a].call(this,e)||e.propagationStopped){i=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var u=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];u--;)this.removeEventListener(n,o.c);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){Object(r.d)(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);t in this.pendingRemovals_?(n[i]=o.c,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t])}},e}(i.a);e.a=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"e",(function(){return s})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return u}));var i=n(9);function r(t,e,n,r,o,s,a){var l=(n-e)/r;if(l<3){for(;e<n;e+=r)s[a++]=t[e],s[a++]=t[e+1];return a}var u=new Array(l);u[0]=1,u[l-1]=1;for(var c=[e,n-r],h=0;c.length>0;){for(var f=c.pop(),p=c.pop(),d=0,A=t[p],g=t[p+1],m=t[f],v=t[f+1],y=p+r;y<f;y+=r){var _=t[y],b=t[y+1],w=Object(i.g)(_,b,A,g,m,v);w>d&&(h=y,d=w)}d>o&&(u[(h-e)/r]=1,p+r<h&&c.push(p,h),h+r<f&&c.push(h,f))}for(var E=0;E<l;++E)u[E]&&(s[a++]=t[e+E*r],s[a++]=t[e+E*r+1]);return a}function o(t,e,n,i,o,s,a,l){for(var u=0,c=n.length;u<c;++u){var h=n[u];a=r(t,e,h,i,o,s,a),l.push(a),e=h}return a}function s(t,e){return e*Math.round(t/e)}function a(t,e,n,i,r,o,a){if(e==n)return a;var l,u,c=s(t[e],r),h=s(t[e+1],r);e+=i,o[a++]=c,o[a++]=h;do{if(l=s(t[e],r),u=s(t[e+1],r),(e+=i)==n)return o[a++]=l,o[a++]=u,a}while(l==c&&u==h);for(;e<n;){var f=s(t[e],r),p=s(t[e+1],r);if(e+=i,f!=l||p!=u){var d=l-c,A=u-h,g=f-c,m=p-h;d*m==A*g&&(d<0&&g<d||d==g||d>0&&g>d)&&(A<0&&m<A||A==m||A>0&&m>A)?(l=f,u=p):(o[a++]=l,o[a++]=u,c=l,h=u,l=f,u=p)}}return o[a++]=l,o[a++]=u,a}function l(t,e,n,i,r,o,s,l){for(var u=0,c=n.length;u<c;++u){var h=n[u];s=a(t,e,h,i,r,o,s),l.push(s),e=h}return s}function u(t,e,n,i,r,o,s,a){for(var u=0,c=n.length;u<c;++u){var h=n[u],f=[];s=l(t,e,h,i,r,o,s,f),a.push(f),e=h[h.length-1]}return s}},function(t,e,n){"use strict";e.a={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"}},function(t,e,n){"use strict";var i=n(1),r=n(5),o=n(41),s=n(45),a=n(9),l=function(t){function e(e,n){t.call(this),this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=Object(a.f)(t,e,r[0],r[1]);if(o<i){for(var s=this.stride,l=0;l<s;++l)n[l]=r[l];return n.length=s,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return Object(i.m)(this.flatCoordinates,t)},e.prototype.getType=function(){return r.a.POINT},e.prototype.intersectsExtent=function(t){return Object(i.h)(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(s.a)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(o.a);e.a=l},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s})),n.d(e,"d",(function(){return a}));var i=n(1);function r(t,e,n,r,s){return!Object(i.t)(s,(function(i){return!o(t,e,n,r,i[0],i[1])}))}function o(t,e,n,i,r,o){for(var s=0,a=t[n-i],l=t[n-i+1];e<n;e+=i){var u=t[e],c=t[e+1];l<=o?c>o&&(u-a)*(o-l)-(r-a)*(c-l)>0&&s++:c<=o&&(u-a)*(o-l)-(r-a)*(c-l)<0&&s--,a=u,l=c}return 0!==s}function s(t,e,n,i,r,s){if(0===n.length)return!1;if(!o(t,e,n[0],i,r,s))return!1;for(var a=1,l=n.length;a<l;++a)if(o(t,n[a-1],n[a],i,r,s))return!1;return!0}function a(t,e,n,i,r,o){if(0===n.length)return!1;for(var a=0,l=n.length;a<l;++a){var u=n[a];if(s(t,e,u,i,r,o))return!0;e=u[u.length-1]}return!1}},function(t,e,n){"use strict";n(9);function i(t,e){return t[0]+=e[0],t[1]+=e[1],t}function r(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function o(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function s(t,e){return t[0]*=e,t[1]*=e,t}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return s}))},function(t,e,n){"use strict";(function(t){n.d(e,"d",(function(){return f})),n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return g})),n.d(e,"b",(function(){return m})),n.d(e,"e",(function(){return b})),n.d(e,"g",(function(){return w})),n.d(e,"f",(function(){return x}));var i=n(43),r=n(78),o=n(7),s=n(30),a=n(177),l=(n(74),n(104)),u=n(1),c=n(10),h=n(132);function f(){for(var t in Proj){if(null!==Proj[t].extent)Object(c.h)(t).setExtent(Proj[t].extent)}var e=new c.b({code:"testdf",units:"m"});Object(c.e)(e),Object(c.c)("EPSG:4326",e,(function(t){return[C(t[1],t[0]),B(t[1],t[0])]}),(function(t){return[S(t[0],t[1]),I(t[0],t[1])]}));var n=new c.b({code:"PeirceQuincuncial",units:"m"});Object(c.e)(n);var i=a.a();Object(c.c)("EPSG:4326",n,(function(t){var e=i([t[0],t[1]]);return[e[0],-e[1]]}),(function(t){return t}))}function p(){map.getView().fit(Object(o.l)(map,"link").getSource().getExtent())}function d(t,e){for(var n in e)t.removeLayer(Object(o.l)(t,n)),Object(o.d)(t,ListUrl[n],n,e[n].attributions,e[n].style.opacity,e[n].style.stroke,e[n].style.fill)}function A(t,e,n,i){!function(t,e,n){for(var i=Object.keys(t).length,r=Object.keys(t),o=0;o<i;o++)t[r[o]].properties.centroid=g(t[r[o]],n)}(data.hashedStructureData,0,i),global_data.style.ratioBounds=function(t){var e=-1/0,n=1/0,i=-1/0,r=1/0,o=[];Object.keys(t).map((function(s){o=t[s].properties.centroid,e<o[0]&&(e=o[0]),n>o[0]&&(n=o[0]),i<o[1]&&(i=o[1]),r>o[1]&&(r=o[1])}));var s=e-n,a=i-r;return 2e-4*Math.max(s,a)}(data.hashedStructureData);var r=Object(s.k)(global_data.filter.link,data),a=Object(s.b)(data.hashedStructureData);null!==Object(o.l)(t,"link")&&Object(o.j)(t,data.links,data.hashedStructureData,global_data.style,global_data.ids.linkID[0],global_data.ids.linkID[1],r,a),null!==Object(o.l)(t,"node")&&Object(o.f)(t,data.links,data.hashedStructureData,global_data.style,r,a),p()}function g(t,e){if("MultiPolygon"==t.geometry.type){for(var n=0,r=-1,o=t.geometry.coordinates.length,s=0;s<o;s++){var a=i.polygon(t.geometry.coordinates[s]),l=i.area(a);r<l&&(n=s,r=l)}var u=i.polygon(t.geometry.coordinates[n]),h=i.centroid(u),f=Object(c.k)(h.geometry.coordinates,"EPSG:4326",e)}else{if("Point"==t.geometry.type)return Object(c.k)(t.geometry.coordinates,"EPSG:4326",e);h=i.centroid(t),f=Object(c.k)(h.geometry.coordinates,"EPSG:4326",e)}return f}function m(t,e){var n=document.getElementById("projection").value,i=Proj[n].name,o=new r.a({projection:i,center:Object(c.k)(global_data.center,"EPSG:4326",i),zoom:map.getView().getZoom(),maxZoom:50,minZoom:-25});map.setView(o),d(map,t.base),A(map,0,global_data.projection.name,i),global_data.projection=Proj[n],null!==global_data.projection.extent&&(o.setCenter(Object(u.x)(global_data.projection.extent)),o.setZoom(0),y(t,global_data.projection.extent),_(global_data.layers.base,global_data.projection.extent),o.fit(global_data.projection.extent))}function v(t,e,n){Object(c.h)(global_data.projection.name);var i=new r.a({projection:global_data.projection.name,maxZoom:50,minZoom:-2});map.setView(i),null!==global_data.projection.extent&&i.fit(global_data.projection.extent)}function y(t,e){null!==Object(o.l)(map,"node")&&Object(o.l)(map,"node").setExtent(e),null!==Object(o.l)(map,"link")&&Object(o.l)(map,"link").setExtent(e)}function _(t,e){for(var n in t)Object(o.l)(map,n).setExtent(e)}function b(t,e,n){v(global_data.layers)}function w(t,e){Object(c.h)(e);var n=new r.a({projection:e,zoom:4,maxZoom:50,minZoom:-2});t.setView(n),null!==Proj[e].extent&&(n.setExtent(global_data.projection.extent),y(layers,global_data.projection.extent),_(global_data.layers.base,global_data.projection.extent),n.fit(Proj[e].extent))}function E(t,e,n,i){var o=document.getElementById("epsg-result");if(null===t||null===e||null===n||null===i)return o.innerHTML="Nothing usable found, using EPSG:3857...",map.setView(new r.a({projection:"EPSG:3857",center:Object(c.k)(global_data.center,"EPSG:4326","EPSG:3857"),zoom:1,maxZoom:50,minZoom:-10})),d(map,global_data.layers.base),A(map,global_data.layers,global_data.projection.name,s),global_data.projection.name=s,void(global_data.projection.extent=i);o.innerHTML="("+t+") "+e;var s="EPSG:"+t;l.a.defs(s,n),Object(h.a)(l.a);var a=Object(c.h)(s),f=Object(c.j)("EPSG:4326",a),p=Object(u.a)([i[1],i[2],i[3],i[0]],f);a.setExtent(p);var g=new r.a({projection:a,center:Object(c.k)(global_data.center,"EPSG:4326",s),maxZoom:50,minZoom:-10});map.setView(g),g.fit(p),d(map,global_data.layers.base),A(map,global_data.layers,global_data.projection.name,s),global_data.projection.name=s,global_data.projection.proj4=n,global_data.projection.extent=i}function x(t){document.getElementById("epsg-result").innerHTML="Searching ...",fetch("https://epsg.io/?format=json&q="+t).then((function(t){return t.json()})).then((function(t){var e=t.results;if(e&&e.length>0)for(var n=0,i=e.length;n<i;n++){var r=e[n];if(console.log(r),r){var o=r.code,s=r.name,a=r.proj4,l=r.bbox;if(o&&o.length>0&&a&&a.length>0&&l&&4==l.length)return void E(o,s,a,l)}}E(null,null,null,null)}))}function C(t,e){t=O(t),e=O(e);var n=((t=M(t))-169028.66)/1e4,i=((e=M(e))-26782.5)/1e4;return 600072.37+211455.93*i-10938.51*i*n-.36*i*Math.pow(n,2)-44.54*Math.pow(i,3)}function B(t,e){t=O(t),e=O(e);var n=((t=M(t))-169028.66)/1e4,i=((e=M(e))-26782.5)/1e4;return 200147.07+308807.95*n+3745.25*Math.pow(i,2)+76.63*Math.pow(n,2)-194.56*Math.pow(i,2)*n+119.79*Math.pow(n,3)}function I(t,e){var n=(t-6e5)/1e6,i=(e-2e5)/1e6,r=16.9023892+3.238272*i-.270978*Math.pow(n,2)-.002528*Math.pow(i,2)-.0447*Math.pow(n,2)*i-.014*Math.pow(i,3);return r=100*r/36}function S(t,e){var n=(t-6e5)/1e6,i=(e-2e5)/1e6,r=2.6779094+4.728982*n+.791484*n*i+.1306*n*Math.pow(i,2)-.0436*Math.pow(n,3);return r=100*r/36}function O(t){var e=parseInt(t,10),n=parseInt(60*(t-e),10);return e+n/100+60*(60*(t-e)-n)/1e4}function M(t){var e=parseInt(t,10),n=parseInt(100*(t-e),10),i=100*(100*(t-e)-n),r=String(t).split(".");return 2==r.length&&2==r[1].length&&(n=Number(r[1]),i=0),i+60*n+3600*e}t.Proj={"Mercator / EPSG:3857":{name:"Mercator / EPSG:3857",proj4:"+proj=merc +a=6371000 +b=6371000 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +no_defs",extent:null},"Sphere Mollweide / ESRI:53009":{name:"Sphere Mollweide / ESRI:53009",proj4:"+proj=moll +lon_0=0 +x_0=0 +y_0=0 +a=6371000 +b=6371000 +units=m +no_defs",extent:null},"RGF93 / Lambert-93 -- France":{name:"RGF93 / Lambert-93 -- France",proj4:"+proj=lcc +lat_1=49 +lat_2=44 +lat_0=46.5 +lon_0=3 +x_0=700000 +y_0=6600000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[-378305.81,6093283.21,1212610.74,7186901.68]},"ETRS89 / LAEA Europe":{name:"ETRS89 / LAEA Europe",proj4:"+proj=laea +lat_0=52 +lon_0=10 +x_0=4321000 +y_0=3210000 +ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[1896628.62,1507846.05,4662111.45,6829874.45]},"World Azimuthal Equidistant":{name:"World Azimuthal Equidistant",proj4:"+proj=aeqd +lat_0=0 +lon_0=0 +x_0=0 +y_0=0 +a=6371000 +b=6371000  +units=m ",extent:null},"Transversal Mercator":{name:"Transversal Mercator",proj4:"+proj=tmerc +lat_0=0 +lon_0=6 +k=1 +x_0=2500000 +y_0=0 +ellps=bessel +towgs84=598.1,73.7,418.2,0.202,0.045,-2.455,6.7 +units=m +no_defs",extent:[370753.1145,6382922.7769,739245.6,6624811.0577]},Gnomonic:{name:"Gnomonic",proj4:"+proj=gnom +lat_0=90 +lon_0=0 +x_0=6300000 +y_0=6300000 +ellps=WGS84 +datum=WGS84 +units=m +no_defs",extent:null},"United Kingdom / EPSG:27700":{name:"EPSG:27700",proj4:"+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +towgs84=446.448,-125.157,542.06,0.15,0.247,0.842,-20.489 +units=m +no_defs",extent:[0,0,7e5,13e5]},"EPSG:23032":{name:"EPSG:23032",proj4:"+proj=utm +zone=32 +ellps=intl +towgs84=-87,-98,-121,0,0,0,0 +units=m +no_defs",extent:[-1206118.71,4021309.92,1295389,8051813.28]},"EPSG:5479":{name:"EPSG:5479",proj4:"+proj=lcc +lat_1=-76.66666666666667 +lat_2=-79.33333333333333 +lat_0=-78 +lon_0=163 +x_0=7000000 +y_0=5000000 ellps=GRS80 +towgs84=0,0,0,0,0,0,0 +units=m +no_defs",extent:[6825737.53,4189159.8,9633741.96,5782472.71]},"SWITZERLAND /EPSG:21781":{name:"SWITZERLAND/EPSG:21781",proj4:"+proj=somerc +lat_0=46.95240555555556 +lon_0=7.439583333333333 +k_0=1 +x_0=600000 +y_0=200000 +ellps=bessel +towgs84=674.4,15.1,405.3,0,0,0,0 +units=m +no_defs",extent:[485071.54,75346.36,828515.78,299941.84]},"NORTH POLE/ EPSG:3413":{name:"NORTH POLE/EPSG:3413",proj4:"+proj=stere +lat_0=90 +lat_ts=70 +lon_0=-45 +k=1 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs",extent:[-4194304,-4194304,4194304,4194304]},"World Mollweide / EPSG:54009":{name:"World Mollweide / EPSG:54009",proj4:"+proj=moll +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m +no_defs",extent:[-18e6,-9e6,18e6,9e6]},"Quadrilateralized Spherical Cube":{name:"Quadrilateralized Spherical Cube",proj4:"+proj=qsc +units=m +ellps=WGS84  +lat_0=0 +lon_0=0",extent:null},PeirceQuincuncial:{name:"PeirceQuincuncial",proj4:null,extent:null}}}).call(this,n(57))},function(t,e,n){"use strict";n.d(e,"b",(function(){return p}));var i=n(3),r=n(8),o=n(4),s=n(18),a=n(85),l=n(35),u=n(14),c=n(52),h=n(61),f=function(t){function e(e){var n=Object(u.a)({},e);delete n.source,t.call(this,n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),Object(i.a)(this,Object(s.b)(l.a.SOURCE),this.handleSourcePropertyChange_,this);var r=e.source?e.source:null;this.setSource(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(l.a.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():h.a.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(i.e)(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(i.a)(t,r.a.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(i.e)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(i.e)(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(i.a)(t,c.a.PRECOMPOSE,(function(t){var e=t,n=this.getLayerState();n.managed=!1,void 0===this.getZIndex()&&(n.zIndex=1/0),e.frameState.layerStatesArray.push(n),e.frameState.layerStates[Object(o.c)(this)]=n}),this),this.mapRenderKey_=Object(i.a)(this,r.a.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(l.a.SOURCE,t)},e}(a.a);function p(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}e.a=f},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return s}));n(14);var i={};function r(){i={}}function o(t,e,n){var r=t.getCode(),o=e.getCode();r in i||(i[r]={}),i[r][o]=n}function s(t,e){var n;return t in i&&e in i[t]&&(n=i[t][e]),n}},function(t,e,n){"use strict";var i=n(4),r=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};r.prototype.clone=function(){var t=this.getColor();return new r({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},r.prototype.getColor=function(){return this.color_},r.prototype.getLineCap=function(){return this.lineCap_},r.prototype.getLineDash=function(){return this.lineDash_},r.prototype.getLineDashOffset=function(){return this.lineDashOffset_},r.prototype.getLineJoin=function(){return this.lineJoin_},r.prototype.getMiterLimit=function(){return this.miterLimit_},r.prototype.getWidth=function(){return this.width_},r.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},r.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},r.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},r.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},r.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},r.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},r.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},r.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=Object(i.c)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_},e.a=r},,function(t,e,n){"use strict";n.d(e,"b",(function(){return a}));var i=n(3),r=n(59),o=n(8),s=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o.a.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=Object(i.a)(this,t[o],e);return r}return Object(i.a)(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=Object(i.b)(this,t[o],e);return r}return Object(i.b)(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)Object(i.c)(this,t[n],e);else Object(i.c)(this,t,e)},e}(r.a);function a(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)Object(i.e)(t[e]);else Object(i.e)(t)}e.a=s},function(t,e,n){"use strict";e.a={PROPERTYCHANGE:"propertychange"}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return d})),n.d(e,"e",(function(){return A})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return m}));var i=n(175),r=n.n(i),o=n(25);function s(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1],a=Math.atan2(s-r,o-i);return[[Math.sin(a)*n+i,-Math.cos(a)*n+r],[Math.sin(a)*n+o,-Math.cos(a)*n+s]]}function a(t,e,n){var i=e[0][0],r=e[0][1],o=e[1][0],s=e[1][1],a=Math.atan2(s-r,o-i);return[Math.sin(a)*n+t[0],-Math.cos(a)*n+t[1]]}function l(t,e,n,i,r,o){var a=e[0],l=e[1],u=n[0],c=n[1],h=(Math.atan2(c-l,u-a),p(n,e,r)),f=p(e,n,i),d=t.link.geometry.head.height,A=(t.link.geometry.head.width,Math.sqrt((h[0]-f[0])*(h[0]-f[0])+(h[1]-f[1])*(h[1]-f[1]))),g=s(f,h,2.5*t.ratioBounds),m=Math.min(d*o+o,.5*A),v=p(g[1],g[0],m),y=s(g[0],v,o);return[g[0],g[1],y[1],y[0],g[0]]}function u(t,e,n,i,r,o){var a=e[0],l=e[1],u=n[0],c=n[1],h=(Math.atan2(c-l,u-a),p(n,e,r)),f=p(e,n,i),d=t.link.geometry.head.height,A=(t.link.geometry.head.width,Math.sqrt((h[0]-f[0])*(h[0]-f[0])+(h[1]-f[1])*(h[1]-f[1]))),g=s(f,h,t.ratioBounds/2),m=p(h,f,Math.min(d*o+o,A)),v=s(g[0],m,o);return[g[0],g[1],v[0],g[0]]}function c(t,e,n,i,r,o){var s=t.link.geometry.place.base,l=t.link.geometry.place.height,u=(t.link.geometry.head.height,t.link.geometry.head.width,e[0]),c=e[1],f=n[0],d=n[1],A=Math.atan2(d-c,f-u),g=p(n,e,r),m=p(e,n,i),v=s*Math.sqrt((g[0]-m[0])*(g[0]-m[0])+(g[1]-m[1])*(g[1]-m[1])),y=[-Math.cos(A)*v+g[0],-Math.sin(A)*v+g[1]],_=a(y,[e,n],l*v),b=a(y,[e,n],l*v+o/2),w=a(y,[e,n],l*v-o/2),E=p(e,_,i),x=(p(n,_,r),p(n,_,r)),C=(Math.atan2(_[1]-e[1],_[0]-e[0]),Math.atan2(_[1]-n[1],_[0]-n[0]),[(E=[a(E,[E,_],o),a(E,[E,_],-o)])[1],w,x]),B=[x,b,E[0]];return C=h(C,5),(B=h(B,5)).concat(C)}function h(t,e){for(var n=e;n>0;)t=r()(t),n--;return t}function f(e,n){Object(o.c)(t("#arrowDataChange").children('[value="'+n.geometry.oriented+'"]'),"arrowDataChange"),Object(o.c)(t("#arrowtypeChange").children('[value="'+n.geometry.type+'"]'),"arrowtypeChange"),A("Change"),"CurveArrow"!==n.geometry.type&&"CurveOneArrow"!==n.geometry.type||(document.getElementById("baseCurveArrowChange").value=n.geometry.place.base,document.getElementById("heightCurveArrowChange").value=n.geometry.place.height),"oriented"===n.geometry.oriented&&"TriangleArrow"!==n.geometry.type&&"CurveOneArrow"!==n.geometry.type&&(document.getElementById("widthArrowChange").value=n.geometry.head.width,document.getElementById("heightArrowChange").value=n.geometry.head.height)}function p(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1],a=Math.atan2(s-r,o-i);return[Math.cos(a)*n+i,Math.sin(a)*n+r]}function d(t,e,n,i,r,o){var s=t.link.geometry.type,a=t.link.geometry.oriented;return window[a+s](t,e,n,i,r,o)}function A(t=""){m(t),g(t)}function g(e=""){"CurveArrow"===document.getElementById("arrowtype"+e).value||"CurveOneArrow"===document.getElementById("arrowtype"+e).value?function(e=""){null!==t("ArrowPlaceSize"+e).children()&&t("#ArrowPlaceSize"+e).children().remove(),t("#ArrowPlaceSize"+e).append('<label class="h5 p-2">Curve Arrow  <img class="small-icon" src="assets/svg/si-glyph-circle-info.svg" data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content="The curve is created by the chaikin algorithm </br /></br /> - Heigth: The value is the percentage of the distance between the origin and the destination used to define the maximum height of the link </br /> - Base: The value ([0,1]) is the center of the curve, the point is select by select a percentage of the distance from the origin node of the link " title="Arrow Size Parameter"/></label>'),t("#ArrowPlaceSize"+e).append(t("<div>").attr("class","row p-2")),t("#ArrowPlaceSize"+e+">div").append(t("<div>").attr("class","col-md-6").append('<label class="text-muted h5">Heigth Curve</label>').append(t("<input>").attr("class","form-control").attr("id","heightCurveArrow"+e).attr("min",0).attr("step",.1).attr("max",10).attr("type","number").attr("value",.5))),t("#ArrowPlaceSize"+e+">div").append(t("<div>").attr("class","col-md-6").append('<label class="text-muted h5">Center Curve</label>').append(t("<input>").attr("class","form-control").attr("id","baseCurveArrow"+e).attr("min",0).attr("step",.1).attr("max",1).attr("type","number").attr("value",.5))),t('[data-toggle="popover"]').popover()}(e):null!==t("ArrowPlaceSize"+e).children()&&t("#ArrowPlaceSize"+e).children().remove(),m(e)}function m(e=""){"oriented"===document.getElementById("arrowData"+e).value&&"TriangleArrow"!==document.getElementById("arrowtype"+e).value&&"CurveOneArrow"!==document.getElementById("arrowtype"+e).value?function(e=""){null!==t("ArrowHeadSize"+e).children()&&t("#ArrowHeadSize"+e).children().remove(),t("#ArrowHeadSize"+e).append('<label class="p-2 h5">Arrow Head <img class="small-icon" src="assets/svg/si-glyph-circle-info.svg" data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content=" - Heigth: Choose the distance between the base and the arrow tip, the value is a percentage of the width of the link</br /> - Width: choose the base width of the arrow, the value represent a percentage of the arrow width" title="Arrow Size Parameter"/></label>'),t("#ArrowHeadSize"+e).append(t("<div>").attr("class","row p-2")),t("#ArrowHeadSize"+e+">div").append(t("<div>").attr("class","col-md-6").append('<label class="text-muted h5">Heigth</label>').append(t("<input>").attr("class","form-control").attr("id","heightArrow"+e).attr("min",0).attr("step",.1).attr("max",10).attr("type","number").attr("value",.5))),t("#ArrowHeadSize"+e+">div").append(t("<div>").attr("class","col-md-6").append('<label class="text-muted h5">Width</label>').append(t("<input>").attr("class","form-control").attr("id","widthArrow"+e).attr("min",0).attr("step",.1).attr("max",10).attr("type","number").attr("value",.5))),t('[data-toggle="popover"]').popover()}(e):null!==t("ArrowHeadSize"+e).children()&&t("#ArrowHeadSize"+e).children().remove()}window.noOrientedStraightArrow=function(t,e,n,i,r,o){var a=e[0],l=e[1],u=n[0],c=n[1],h=(Math.atan2(c-l,u-a),p(n,e,r)),f=p(e,n,i),d=s(f,h,o/2),A=s(h,f,o/2);return d.concat(A).concat([d[0]])},window.noOrientedCurveArrow=function(t,e,n,i,r,o){var s=t.link.geometry.place.base,l=t.link.geometry.place.height,u=e[0],c=e[1],f=n[0],d=n[1],A=Math.atan2(d-c,f-u),g=p(n,e,r),m=p(e,n,i),v=s*Math.sqrt((g[0]-m[0])*(g[0]-m[0])+(g[1]-m[1])*(g[1]-m[1])),y=[-Math.cos(A)*v+g[0],-Math.sin(A)*v+g[1]],_=a(y,[e,n],l*v),b=a(y,[e,n],l*v+o/2),w=a(y,[e,n],l*v-o/2),E=p(e,_,i),x=p(n,_,r);Math.atan2(_[1]-e[1],_[0]-e[0]),Math.atan2(_[1]-n[1],_[0]-n[0]),E=[a(E,[e,_],o/2),a(E,[e,_],-o/2)],x=[a(x,[n,_],o/2),a(x,[n,_],-o/2)];var C=[E[1],w,x[0]],B=[x[1],b,E[0]];return C=h(C,5),B=h(B,5),C.concat(B).concat([C[0]])},window.orientedStraightArrow=function(t,e,n,i,r,o){var a=e[0],l=e[1],u=n[0],c=n[1],h=(Math.atan2(c-l,u-a),p(n,e,r)),f=p(e,n,i),d=t.link.geometry.head.height,A=t.link.geometry.head.width,g=Math.sqrt((h[0]-f[0])*(h[0]-f[0])+(h[1]-f[1])*(h[1]-f[1])),m=s(f,h,2.5*t.ratioBounds),v=Math.min(d*o+o,.5*g),y=p(m[1],m[0],v),_=s(m[0],y,o);return y=s(m[0],y,o+A*o)[1],[m[0],m[1],y,_[1],_[0],m[0]]},window.orientedCurveArrow=function(t,e,n,i,r,o){var s=t.link.geometry.place.base,l=t.link.geometry.place.height,u=t.link.geometry.head.height,c=t.link.geometry.head.width,f=e[0],d=e[1],A=n[0],g=n[1],m=Math.atan2(g-d,A-f),v=p(n,e,r),y=p(e,n,i),_=s*Math.sqrt((v[0]-y[0])*(v[0]-y[0])+(v[1]-y[1])*(v[1]-y[1])),b=[-Math.cos(m)*_+v[0],-Math.sin(m)*_+v[1]],w=a(b,[e,n],l*_),E=a(b,[e,n],l*_+o/2),x=a(b,[e,n],l*_-o/2),C=p(e,w,i),B=p(n,w,r+(u=Math.min(u*o+o,.5*_))),I=p(n,w,r),S=(Math.atan2(w[1]-e[1],w[0]-e[0]),Math.atan2(w[1]-n[1],w[0]-n[0]),[a(B,[B,w],o/2+c*(o/2)),a(B,[B,w],-(o/2+c*o/2))]);C=[a(C,[C,w],o/2),a(C,[C,w],-o/2)],B=[a(B,[B,w],o/2),a(B,[B,w],-o/2)];var O=[C[1],x,B[0]],M=[B[1],E,C[0]];return O=h(O,5),M=h(M,5),O.concat([S[0]]).concat([I]).concat([S[1]]).concat(M).concat([O[0]])},window.orientedCurveOneArrow=c,window.noOrientedCurveOneArrow=c,window.orientedTriangleArrow=u,window.noOrientedTriangleArrow=u,window.orientedStraightNoHookArrow=l,window.noOrientedStraightNoHookArrow=l}).call(this,n(55))},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a}));var i=n(9);function r(t,e){return void 0!==t?0:void 0}function o(t,e){return void 0!==t?t+e:void 0}function s(t){var e=2*Math.PI/t;return(function(t,n){return void 0!==t?t=Math.floor((t+n)/e+.5)*e:void 0})}function a(t){var e=t||Object(i.i)(5);return(function(t,n){return void 0!==t?Math.abs(t+n)<=e?0:t+n:void 0})}},function(t,e,n){"use strict";n.d(e,"b",(function(){return s}));var i=n(111),r=n(0);function o(t,e){return[Object(r.a)(t)>r.o?t+Math.round(-t/r.w)*r.w:t,e]}function s(t,e,n){return(t%=r.w)?e||n?Object(i.a)(l(t),u(e,n)):l(t):e||n?u(e,n):o}function a(t){return function(e,n){return[(e+=t)>r.o?e-r.w:e<-r.o?e+r.w:e,n]}}function l(t){var e=a(t);return e.invert=a(-t),e}function u(t,e){var n=Object(r.g)(t),i=Object(r.t)(t),o=Object(r.g)(e),s=Object(r.t)(e);function a(t,e){var a=Object(r.g)(e),l=Object(r.g)(t)*a,u=Object(r.t)(t)*a,c=Object(r.t)(e),h=c*n+l*i;return[Object(r.e)(u*o-h*s,l*n-c*i),Object(r.c)(h*o+u*s)]}return a.invert=function(t,e){var a=Object(r.g)(e),l=Object(r.g)(t)*a,u=Object(r.t)(t)*a,c=Object(r.t)(e),h=c*o-u*s;return[Object(r.e)(u*o+c*s,l*n+h*i),Object(r.c)(h*n-l*i)]},a}o.invert=o,e.a=function(t){function e(e){return(e=t(e[0]*r.r,e[1]*r.r))[0]*=r.h,e[1]*=r.h,e}return t=s(t[0]*r.r,t[1]*r.r,t.length>2?t[2]*r.r:0),e.invert=function(e){return(e=t.invert(e[0]*r.r,e[1]*r.r))[0]*=r.h,e[1]*=r.h,e},e}},function(t,e,n){"use strict";var i=n(15),r=n(1),o=n(26),s=n(5),a=n(41),l=n(49),u=n(45),c=n(46),h=n(103),f=n(83),p=n(127),d=n(126),A=n(60),g=function(t){function e(e,n){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(i.c)(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(r.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(l.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return Object(d.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=o.a.XYM&&this.layout!=o.a.XYZM)return null;var n=void 0!==e&&e;return Object(h.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Object(h.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Object(A.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,o.a.XY)},e.prototype.getType=function(){return s.a.LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(f.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(u.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(a.a);e.a=g},function(t,e,n){"use strict";var i=n(16),r=n(3),o=n(8),s=n(18),a=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,Object(r.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"==typeof e.getSimplifiedGeometry){var n=e;this.setGeometry(n)}else{var i=e;this.setProperties(i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(r.e)(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(r.a)(t,o.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?function(t){if("function"==typeof t)return t;var e;Array.isArray(t)?e=t:(Object(i.a)("function"==typeof t.getZIndex,41),e=[t]);return function(){return e}}(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){Object(r.c)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,Object(r.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(s.a);e.a=a},function(t,e,n){"use strict";var i=n(51),r=n(66),o=n(130),s=n(14),a=n(27),l="renderOrder",u=function(t){function e(e){var n=e||{},r=Object(s.a)({},n);delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,t.call(this,r),this.declutter_=void 0!==n.declutter&&n.declutter,this.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(n.style),this.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,this.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,this.renderMode_=n.renderMode||o.a.VECTOR,this.type=i.a.VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(l)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(l,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:a.a,this.styleFunction_=null===t?void 0:Object(a.d)(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(r.a);u.prototype.getSource,e.a=u},function(t,e,n){"use strict";var i=n(90),r=n(4),o=n(20),s=n(9);function a(t){return t}var l=n(18),u=n(15);var c=n(73),h=n(19),f="center",p="resolution",d="rotation",A=n(16),g=n(64),m=n(39),v=n(1),y=n(5),_=n(50),b=n(14),w=n(10),E=n(29),x=0,C=function(t){function e(e){t.call(this);var n=Object(b.a)({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Object(w.f)(n.projection,"EPSG:3857"),this.applyOptions_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[f]=void 0!==t.center?t.center:null;var n=function(t){var e,n,r,o=void 0!==t.minZoom?t.minZoom:x,a=void 0!==t.maxZoom?t.maxZoom:28,l=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var c=t.resolutions;n=c[o],r=void 0!==c[a]?c[a]:c[c.length-1],e=function(t){return function(e,n,i){if(void 0!==e){var r=Object(u.f)(t,e,i);r=Object(s.a)(r+n,0,t.length-1);var o=Math.floor(r);if(r!=o&&o<t.length-1){var a=t[o]/t[o+1];return t[o]/Math.pow(a,r-o)}return t[o]}}}(c)}else{var h=Object(w.f)(t.projection,"EPSG:3857"),f=h.getExtent(),p=(f?Math.max(Object(v.E)(f),Object(v.A)(f)):360*w.a[E.b.DEGREES]/h.getMetersPerUnit())/i.b/Math.pow(2,x),d=p/Math.pow(2,28-x);void 0!==(n=t.maxResolution)?o=0:n=p/Math.pow(l,o),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(l,a):p/Math.pow(l,a):d),a=o+Math.floor(Math.log(n/r)/Math.log(l)),r=n/Math.pow(l,a-o),e=function(t,e,n){return function(i,r,o){if(void 0!==i){var s=-o/2+.5,a=Math.floor(Math.log(e/i)/Math.log(t)+s),l=Math.max(a+r,0);return void 0!==n&&(l=Math.min(l,n)),e/Math.pow(t,l)}}}(l,n,a-o)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:o,zoomFactor:l}}(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var r=function(t){return void 0!==t.extent?(e=t.extent,function(t){return t?[Object(s.a)(t[0],e[0],e[2]),Object(s.a)(t[1],e[1],e[3])]:void 0}):a;var e}(t),o=n.constraint,l=function(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?Object(c.b)():!1===e?c.d:"number"==typeof e?Object(c.a)(e):c.d}return c.c}(t);this.constraints_={center:r,resolution:o,rotation:l},void 0!==t.resolution?e[p]=t.resolution:void 0!==t.zoom&&(e[p]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[p]=Object(s.a)(Number(this.getResolution()||e[p]),this.minResolution_,this.maxResolution_))),e[d]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=Object(b.a)({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),Object(b.a)({},e,t)},e.prototype.animate=function(t){var e,n=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var r=arguments[i-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&B(e,!0))}for(var o=Date.now(),a=this.getCenter().slice(),l=this.getResolution(),u=this.getRotation(),c=[],f=0;f<i;++f){var p=n[f],d={start:o,complete:!1,anchor:p.anchor,duration:void 0!==p.duration?p.duration:1e3,easing:p.easing||m.c};if(p.center&&(d.sourceCenter=a,d.targetCenter=p.center,a=d.targetCenter),void 0!==p.zoom?(d.sourceResolution=l,d.targetResolution=this.constrainResolution(this.maxResolution_,p.zoom-this.minZoom_,0),l=d.targetResolution):p.resolution&&(d.sourceResolution=l,d.targetResolution=p.resolution,l=d.targetResolution),void 0!==p.rotation){d.sourceRotation=u;var A=Object(s.d)(p.rotation-u+Math.PI,2*Math.PI)-Math.PI;d.targetRotation=u+A,u=d.targetRotation}d.callback=e,I(d)?d.complete=!0:o+=d.duration,c.push(d)}this.animations_.push(c),this.setHint(h.a.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[h.a.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[h.a.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(h.a.ANIMATING,-this.hints_[h.a.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&B(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,o=0,a=i.length;o<a;++o){var l=i[o];if(!l.complete){var u=t-l.start,c=l.duration>0?u/l.duration:1;c>=1?(l.complete=!0,c=1):r=!1;var A=l.easing(c);if(l.sourceCenter){var g=l.sourceCenter[0],m=l.sourceCenter[1],v=g+A*(l.targetCenter[0]-g),y=m+A*(l.targetCenter[1]-m);this.set(f,[v,y])}if(l.sourceResolution&&l.targetResolution){var _=1===A?l.targetResolution:l.sourceResolution+A*(l.targetResolution-l.sourceResolution);l.anchor&&this.set(f,this.calculateCenterZoom(_,l.anchor)),this.set(p,_)}if(void 0!==l.sourceRotation&&void 0!==l.targetRotation){var b=1===A?Object(s.d)(l.targetRotation+Math.PI,2*Math.PI)-Math.PI:l.sourceRotation+A*(l.targetRotation-l.sourceRotation);l.anchor&&this.set(f,this.calculateCenterRotate(b,l.anchor)),this.set(d,b)}if(e=!0,!l.complete)break}}if(r){this.animations_[n]=null,this.setHint(h.a.ANIMATING,-1);var w=i[0].callback;w&&B(w,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var n,i=this.getCenter();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],Object(g.c)(n,t-this.getRotation()),Object(g.a)(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenter(),r=this.getResolution();void 0!==i&&void 0!==r&&(n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]);return n},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+Object(r.c)(this)+'"]',n=document.querySelector(e);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,n){var i=e||0,r=n||0;return this.constraints_.resolution(t,i,r)},e.prototype.constrainRotation=function(t,e){var n=e||0;return this.constraints_.rotation(t,n)},e.prototype.getCenter=function(){return this.get(f)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();Object(A.a)(n,1);var i=this.getResolution();Object(A.a)(void 0!==i,2);var r=this.getRotation();return Object(A.a)(void 0!==r,3),Object(v.z)(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(p)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),i=Object(v.E)(t)/n[0],r=Object(v.A)(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(d)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/r}},e.prototype.getState=function(t){var e=this.getCenter(),n=this.getProjection(),i=this.getResolution(),r=i/t,o=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==n?n:null,resolution:i,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=Object(u.f)(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var n,i=e||{},r=i.size;r||(r=this.getSizeFromViewport_()),Object(A.a)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(Object(A.a)(!Object(v.H)(t),25),n=Object(_.b)(t)):t.getType()===y.a.CIRCLE?(t=t.getExtent(),(n=Object(_.b)(t)).rotate(this.getRotation(),Object(v.x)(t))):n=t;var s,a=void 0!==i.padding?i.padding:[0,0,0,0],l=void 0===i.constrainResolution||i.constrainResolution,u=void 0!==i.nearest&&i.nearest;s=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.maxResolution_,i.maxZoom-this.minZoom_,0):0;for(var c=n.getFlatCoordinates(),h=this.getRotation(),f=Math.cos(-h),p=Math.sin(-h),d=1/0,g=1/0,m=-1/0,b=-1/0,w=n.getStride(),E=0,x=c.length;E<x;E+=w){var C=c[E]*f-c[E+1]*p,I=c[E]*p+c[E+1]*f;d=Math.min(d,C),g=Math.min(g,I),m=Math.max(m,C),b=Math.max(b,I)}var S=this.getResolutionForExtent([d,g,m,b],[r[0]-a[1]-a[3],r[1]-a[0]-a[2]]);if(S=isNaN(S)?s:Math.max(S,s),l){var O=this.constrainResolution(S,0,0);!u&&O<S&&(O=this.constrainResolution(O,-1,0)),S=O}p=-p;var M=(d+m)/2,T=(g+b)/2,N=[(M+=(a[1]-a[3])/2*S)*f-(T+=(a[0]-a[2])/2*S)*p,T*f+M*p],k=i.callback?i.callback:o.c;void 0!==i.duration?this.animate({resolution:S,center:N,duration:i.duration,easing:i.easing},k):(this.setResolution(S),this.setCenter(N),B(k,!0))},e.prototype.centerOn=function(t,e,n){var i=this.getRotation(),r=Math.cos(-i),o=Math.sin(-i),s=t[0]*r-t[1]*o,a=t[1]*r+t[0]*o,l=this.getResolution(),u=(s+=(e[0]/2-n[0])*l)*r-(a+=(n[1]-e[1]/2)*l)*(o=-o),c=a*r+s*o;this.setCenter([u,c])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(f,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(p,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(d,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(l.a);function B(t,e){setTimeout((function(){t(e)}),0)}function I(t){return!(t.sourceCenter&&t.targetCenter&&!Object(g.b)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}e.a=C},function(t,e,n){"use strict";var i=n(4),r=n(47),o=n(37),s=n(71),a=n(15),l=n(16),u=n(3),c=n(34),h=n(8),f=n(1),p=n(20),d=n(86);function A(t,e){return function(t,e,n,i){return function(r,o,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(r,o,s):t,!0),e.getType()==d.a.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var r,o=e.getType();o==d.a.JSON||o==d.a.TEXT?r=a.responseText:o==d.a.XML?(r=a.responseXML)||(r=(new DOMParser).parseFromString(a.responseText,"application/xml")):o==d.a.ARRAY_BUFFER&&(r=a.response),r?n.call(this,e.readFeatures(r,{featureProjection:s}),e.readProjection(r),e.getLastExtent()):i.call(this)}else i.call(this)}.bind(this),a.onerror=function(){i.call(this)}.bind(this),a.send()}}(t,e,(function(t,e){"function"==typeof this.addFeatures&&this.addFeatures(t)}),p.c)}var g=n(142),m=n(14),v=n(131),y=n(61),_="addfeature",b="changefeature",w="clear",E="removefeature",x=n(101),C=n.n(x),B=function(t){this.rbush_=C()(t,void 0),this.items_={}};B.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Object(i.c)(e)]=n},B.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,o=e.length;r<o;r++){var s=t[r],a=e[r],l={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:a};n[r]=l,this.items_[Object(i.c)(a)]=l}this.rbush_.load(n)},B.prototype.remove=function(t){var e=Object(i.c)(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},B.prototype.update=function(t,e){var n=this.items_[Object(i.c)(e)],r=[n.minX,n.minY,n.maxX,n.maxY];Object(f.p)(r,t)||(this.remove(e),this.insert(t,e))},B.prototype.getAll=function(){return this.rbush_.all().map((function(t){return t.value}))},B.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map((function(t){return t.value}))},B.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},B.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},B.prototype.forEach_=function(t,e,n){for(var i,r=0,o=t.length;r<o;r++)if(i=e.call(n,t[r]))return i;return i},B.prototype.isEmpty=function(){return Object(m.d)(this.items_)},B.prototype.clear=function(){this.rbush_.clear(),this.items_={}},B.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Object(f.k)(e.minX,e.minY,e.maxX,e.maxY,t)},B.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};var I=B,S=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(c.a),O=function(t){function e(e){var n=e||{};t.call(this,{attributions:n.attributions,projection:void 0,state:y.a.READY,wrapX:void 0===n.wrapX||n.wrapX}),this.loader_=p.c,this.format_=n.format,this.overlaps_=null==n.overlaps||n.overlaps,this.url_=n.url,void 0!==n.loader?this.loader_=n.loader:void 0!==this.url_&&(Object(l.a)(this.format_,7),this.loader_=A(this.url_,this.format_)),this.strategy_=void 0!==n.strategy?n.strategy:g.a;var i,o,s=void 0===n.useSpatialIndex||n.useSpatialIndex;this.featuresRtree_=s?new I:null,this.loadedExtentsRtree_=new I,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(n.features)?o=n.features:n.features&&(o=(i=n.features).getArray()),s||void 0!==i||(i=new r.a(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==i&&this.bindFeaturesCollection_(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(i.c)(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new S(_,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(u.a)(e,h.a.CHANGE,this.handleFeatureChange_,this),Object(u.a)(e,s.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i?i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e:(Object(l.a)(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],o=0,s=t.length;o<s;o++){var a=t[o],l=Object(i.c)(a);this.addToIndex_(l,a)&&n.push(a)}for(var u=0,c=n.length;u<c;u++){var h=n[u],f=Object(i.c)(h);this.setupChangeEvents_(f,h);var p=h.getGeometry();if(p){var d=p.getExtent();e.push(d),r.push(h)}else this.nullGeometryFeatures_[f]=h}this.featuresRtree_&&this.featuresRtree_.load(e,r);for(var A=0,g=n.length;A<g;A++)this.dispatchEvent(new S(_,n[A]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;Object(u.a)(this,_,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),Object(u.a)(this,E,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),Object(u.a)(t,o.a.ADD,(function(t){e||(e=!0,this.addFeature(t.element),e=!1)}),this),Object(u.a)(t,o.a.REMOVE,(function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}),this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(u.e)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var i=new S(w);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(m.d)(this.nullGeometryFeatures_)||Object(a.c)(t,Object(m.c)(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],l=e||p.b;return this.featuresRtree_.forEachInExtent(a,(function(t){if(l(t)){var e=t.getGeometry(),u=s;if((s=e.closestPointXY(n,i,o,s))<u){r=t;var c=Math.sqrt(s);a[0]=n-c,a[1]=i-c,a[2]=n+c,a[3]=i+c}}})),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Object(i.c)(e),r=e.getGeometry();if(r){var o=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var s=e.getId();if(void 0!==s){var a=s.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[a]=e):this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new S(b,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(i.c)(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(m.d)(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this,r=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var s=function(t,s){var a=o[t];r.forEachInExtent(a,(function(t){return Object(f.g)(t.extent,a)}))||(i.loader_.call(i,a,e,n),r.insert(a,{extent:a.slice()}),i.loading=i.loader_!==p.c)},a=0,l=o.length;a<l;++a)s(a)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(Object(f.p)(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=Object(i.c)(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(i.c)(t);this.featureChangeKeys_[e].forEach(u.e),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new S(E,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(v.a);e.a=O},function(t,e,n){"use strict";(function(t){if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer=void 0!==t,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var i=new ArrayBuffer(0);try{e.blob=0===new Blob([i],{type:"application/zip"}).size}catch(t){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),e.blob=0===r.getBlob("application/zip").size}catch(t){e.blob=!1}}}try{e.nodestream=!!n(149).Readable}catch(t){e.nodestream=!1}}).call(this,n(107).Buffer)},function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)r(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){var e,n,i,r,o,s;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(s=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o=t[e],s.set(o,r),r+=o.length;return s}},s={arraySet:function(t,e,n,i,r){for(var o=0;o<i;o++)t[r+o]=e[n+o]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(i)},function(t,e,n){"use strict";var i=n(29),r=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};r.prototype.canWrapX=function(){return this.canWrapX_},r.prototype.getCode=function(){return this.code_},r.prototype.getExtent=function(){return this.extent_},r.prototype.getUnits=function(){return this.units_},r.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||i.a[this.units_]},r.prototype.getWorldExtent=function(){return this.worldExtent_},r.prototype.getAxisOrientation=function(){return this.axisOrientation_},r.prototype.isGlobal=function(){return this.global_},r.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},r.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},r.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},r.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},r.prototype.setWorldExtent=function(t){this.worldExtent_=t},r.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},r.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e.a=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return u}));var i=n(1),r=n(63),o=n(126);function s(t,e,n,r,s){var a=Object(i.s)(Object(i.j)(),t,e,n,r);return!!Object(i.F)(s,a)&&(!!Object(i.g)(s,a)||(a[0]>=s[0]&&a[2]<=s[2]||(a[1]>=s[1]&&a[3]<=s[3]||Object(o.a)(t,e,n,r,(function(t,e){return Object(i.G)(s,t,e)})))))}function a(t,e,n,i,r){for(var o=0,a=n.length;o<a;++o){if(s(t,e,n[o],i,r))return!0;e=n[o]}return!1}function l(t,e,n,i,o){if(!function(t,e,n,i,o){return!!s(t,e,n,i,o)||(!!Object(r.b)(t,e,n,i,o[0],o[1])||(!!Object(r.b)(t,e,n,i,o[0],o[3])||(!!Object(r.b)(t,e,n,i,o[2],o[1])||!!Object(r.b)(t,e,n,i,o[2],o[3]))))}(t,e,n[0],i,o))return!1;if(1===n.length)return!0;for(var a=1,l=n.length;a<l;++a)if(Object(r.a)(t,n[a-1],n[a],i,o)&&!s(t,n[a-1],n[a],i,o))return!1;return!0}function u(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(l(t,e,a,i,r))return!0;e=a[a.length-1]}return!1}},function(t,e,n){"use strict";e.a={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},function(t,e,n){"use strict";var i=n(4),r=n(18),o=n(35),s=n(9),a=n(14),l=function(t){function e(e){t.call(this);var n=Object(a.a)({},e);n[o.a.OPACITY]=void 0!==e.opacity?e.opacity:1,n[o.a.VISIBLE]=void 0===e.visible||e.visible,n[o.a.Z_INDEX]=e.zIndex,n[o.a.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,n[o.a.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(n),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=Object(s.a)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return Object(i.b)()},e.prototype.getLayerStatesArray=function(t){return Object(i.b)()},e.prototype.getExtent=function(){return this.get(o.a.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(o.a.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(o.a.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(o.a.OPACITY)},e.prototype.getSourceState=function(){return Object(i.b)()},e.prototype.getVisible=function(){return this.get(o.a.VISIBLE)},e.prototype.getZIndex=function(){return this.get(o.a.Z_INDEX)},e.prototype.setExtent=function(t){this.set(o.a.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(o.a.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(o.a.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(o.a.OPACITY,t)},e.prototype.setVisible=function(t){this.set(o.a.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(o.a.Z_INDEX,t)},e}(r.a);e.a=l},function(t,e,n){"use strict";e.a={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"}},function(t,e,n){"use strict";var i=n(16),r=n(76),o=n(14),s=n(4),a=n(10),l=function(){this.dataProjection=null,this.defaultFeatureProjection=null};l.prototype.getReadOptions=function(t,e){var n;return e&&(n={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(n)},l.prototype.adaptOptions=function(t){return Object(o.a)({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},l.prototype.getLastExtent=function(){return null},l.prototype.getType=function(){return Object(s.b)()},l.prototype.readFeature=function(t,e){return Object(s.b)()},l.prototype.readFeatures=function(t,e){return Object(s.b)()},l.prototype.readGeometry=function(t,e){return Object(s.b)()},l.prototype.readProjection=function(t){return Object(s.b)()},l.prototype.writeFeature=function(t,e){return Object(s.b)()},l.prototype.writeFeatures=function(t,e){return Object(s.b)()},l.prototype.writeGeometry=function(t,e){return Object(s.b)()};var u=l;function c(t,e,n){var i,r=n?Object(a.h)(n.featureProjection):null,o=n?Object(a.h)(n.dataProjection):null;if(i=r&&o&&!Object(a.g)(r,o)?Array.isArray(t)?Object(a.l)(t,o,r):(e?t.clone():t).transform(e?r:o,e?o:r):t,e&&n&&void 0!==n.decimals&&!Array.isArray(i)){var s=Math.pow(10,n.decimals);i===t&&(i=t.clone()),i.applyTransform((function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*s)/s;return t}))}return i}var h=n(86);function f(t){if("string"==typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}var p=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return h.a.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(f(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(f(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Object(s.b)()},e.prototype.readFeaturesFromObject=function(t,e){return Object(s.b)()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(f(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Object(s.b)()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(f(t))},e.prototype.readProjectionFromObject=function(t){return Object(s.b)()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Object(s.b)()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Object(s.b)()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Object(s.b)()},e}(u),d=n(3),A=n(8),g=n(1),m=n(124),v=n(5);function y(t){for(var e=[],n=0,i=t.length;n<i;++n)e.push(t[n].clone());return e}var _=function(t){function e(e){t.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(d.c)(this.geometries_[t],A.a.CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)Object(d.a)(this.geometries_[t],A.a.CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,n,i){if(i<Object(g.e)(this.getExtent(),t,e))return i;for(var r=this.geometries_,o=0,s=r.length;o<s;++o)i=r[o].closestPointXY(t,e,n,i);return i},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){Object(g.l)(t);for(var e=this.geometries_,n=0,i=e.length;n<i;++n)Object(g.q)(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return y(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(o.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(n))return this.simplifiedGeometryCache[n];for(var i=[],r=this.geometries_,s=!1,a=0,l=r.length;a<l;++a){var u=r[a],c=u.getSimplifiedGeometry(t);i.push(c),c!==u&&(s=!0)}if(s){var h=new e(null);return h.setGeometriesArray(i),this.simplifiedGeometryCache[n]=h,h}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return v.a.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var i=n;i||(i=Object(g.x)(this.getExtent()));for(var r=this.geometries_,o=0,s=r.length;o<s;++o)r[o].scale(t,e,i);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(y(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(m.a),b=n(75),w=n(15),E=n(26),x=n(41),C=n(49),B=n(45),I=n(46),S=n(103),O=n(83),M=n(60),T=function(t){function e(e,n,i){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(void 0!==n&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{for(var r=this.getLayout(),o=e,s=[],a=[],l=0,u=o.length;l<u;++l){var c=o[l];0===l&&(r=c.getLayout()),Object(w.c)(s,c.getFlatCoordinates()),a.push(s.length)}this.setFlatCoordinates(r,s),this.ends_=a}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?Object(w.c)(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(g.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(C.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(C.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=E.a.XYM&&this.layout!=E.a.XYZM||0===this.flatCoordinates.length)return null;var i=void 0!==e&&e,r=void 0!==n&&n;return Object(S.c)(this.flatCoordinates,0,this.ends_,this.stride,t,i,r)},e.prototype.getCoordinates=function(){return Object(I.b)(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new b.a(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,o=0,s=e.length;o<s;++o){var a=e[o],l=new b.a(t.slice(r,a),n);i.push(l),r=a}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,o=0,s=i.length;o<s;++o){var a=i[o],l=Object(S.a)(e,n,a,r,.5);Object(w.c)(t,l),n=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Object(M.b)(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,E.a.XY,i)},e.prototype.getType=function(){return v.a.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Object(O.b)(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(B.c)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(x.a),N=n(62),k=n(9),L=function(t){function e(e,n){t.call(this),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?Object(w.c)(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){if(i<Object(g.e)(this.getExtent(),t,e))return i;for(var r=this.flatCoordinates,o=this.stride,s=0,a=r.length;s<a;s+=o){var l=Object(k.f)(t,e,r[s],r[s+1]);if(l<i){i=l;for(var u=0;u<o;++u)n[u]=r[s+u];n.length=o}}return i},e.prototype.getCoordinates=function(){return Object(I.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new N.a(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,o=t.length;r<o;r+=n){var s=new N.a(t.slice(r,r+n),e);i.push(s)}return i},e.prototype.getType=function(){return v.a.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n){var o=e[i],s=e[i+1];if(Object(g.h)(t,o,s))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(B.b)(this.flatCoordinates,0,t,this.stride),this.changed()},e}(x.a),F=n(50),R=n(99);var D=n(63),P=n(128),U=n(88),Q=function(t){function e(e,n,i){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var r=this.getLayout(),o=e,s=[],a=[],l=0,u=o.length;l<u;++l){var c=o[l];0===l&&(r=c.getLayout());for(var h=s.length,f=c.getEnds(),p=0,d=f.length;p<d;++p)f[p]+=h;Object(w.c)(s,c.getFlatCoordinates()),a.push(f)}n=r,e=s,i=a}void 0!==n&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;Object(w.c)(this.flatCoordinates,t.getFlatCoordinates());for(var i=0,r=(e=t.getEnds().slice()).length;i<r;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,i){return i<Object(g.e)(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Object(C.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(C.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return Object(D.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Object(R.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Object(U.d)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Object(I.c)(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=function(t,e,n,i){for(var r=[],o=Object(g.j)(),s=0,a=n.length;s<a;++s){var l=n[s];o=Object(g.o)(t,e,l[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=l[l.length-1]}return r}(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(P.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new L(this.getFlatInteriorPoints().slice(),E.a.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Object(U.b)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Object(U.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Object(M.d)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,E.a.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),r=i[i.length-1];if(0!==e)for(var o=0,s=i.length;o<s;++o)i[o]-=e;return new F.a(this.flatCoordinates.slice(e,r),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o].slice(),l=a[a.length-1];if(0!==r)for(var u=0,c=a.length;u<c;++u)a[u]-=r;var h=new F.a(e.slice(r,l),t,a);i.push(h),r=l}return i},e.prototype.getType=function(){return v.a.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Object(O.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=Object(B.d)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(x.a),H=function(t){function e(e){var n=e||{};t.call(this),this.dataProjection=Object(a.h)(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(this.defaultFeatureProjection=Object(a.h)(n.featureProjection)),this.geometryName_=n.geometryName,this.extractGeometryName_=n.extractGeometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var n=null,i=j((n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null}).geometry,e),o=new r.a;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&o.setGeometryName(n.geometry_name),o.setGeometry(i),"id"in n&&o.setId(n.id),n.properties&&o.setProperties(n.properties),o},e.prototype.readFeaturesFromObject=function(t,e){var n=null;if("FeatureCollection"===t.type){n=[];for(var i=t.features,r=0,o=i.length;r<o;++r)n.push(this.readFeatureFromObject(i[r],e))}else n=[this.readFeatureFromObject(t,e)];return n},e.prototype.readGeometryFromObject=function(t,e){return j(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=Object(a.h)(n.properties.name):Object(i.a)(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},i=t.getId();void 0!==i&&(n.id=i);var r=t.getGeometry();r&&(n.geometry=z(r,e));var s=t.getProperties();return delete s[t.getGeometryName()],Object(o.d)(s)||(n.properties=s),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],i=0,r=t.length;i<r;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return z(t,this.adaptOptions(e))},e}(p);function j(t,e){if(!t)return null;var n;switch(t.type){case v.a.POINT:n=function(t){return new N.a(t.coordinates)}(t);break;case v.a.LINE_STRING:n=function(t){return new b.a(t.coordinates)}(t);break;case v.a.POLYGON:n=function(t){return new F.a(t.coordinates)}(t);break;case v.a.MULTI_POINT:n=function(t){return new L(t.coordinates)}(t);break;case v.a.MULTI_LINE_STRING:n=function(t){return new T(t.coordinates)}(t);break;case v.a.MULTI_POLYGON:n=function(t){return new Q(t.coordinates)}(t);break;case v.a.GEOMETRY_COLLECTION:n=function(t,e){var n=t.geometries.map((function(t){return j(t,e)}));return new _(n)}(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return(c(n,!1,e))}function z(t,e){var n,i=(t=c(t,!0,e)).getType();switch(i){case v.a.POINT:n=function(t,e){return{type:"Point",coordinates:t.getCoordinates()}}(t);break;case v.a.LINE_STRING:n=function(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}(t);break;case v.a.POLYGON:n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"Polygon",coordinates:t.getCoordinates(n)}}(t,e);break;case v.a.MULTI_POINT:n=function(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}(t);break;case v.a.MULTI_LINE_STRING:n=function(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}(t);break;case v.a.MULTI_POLYGON:n=function(t,e){var n;e&&(n=e.rightHanded);return{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}(t,e);break;case v.a.GEOMETRY_COLLECTION:n=function(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map((function(t){var n=Object(o.a)({},e);return delete n.featureProjection,z(t,n)}))}}(t,e);break;case v.a.CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return n}e.a=H},function(t,e,n){"use strict";function i(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function r(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=(a-o)*(l+s),o=a,s=l}return r>0}function o(t,e,n,i,o){for(var s=void 0!==o&&o,a=0,l=n.length;a<l;++a){var u=n[a],c=r(t,e,u,i);if(0===a){if(s&&c||!s&&!c)return!1}else if(s&&!c||!s&&c)return!1;e=u}return!0}function s(t,e,n,i,r){for(var s=0,a=n.length;s<a;++s)if(!o(t,e,n[s],i,r))return!1;return!0}function a(t,e,n,o,s){for(var a=void 0!==s&&s,l=0,u=n.length;l<u;++l){var c=n[l],h=r(t,e,c,o);(0===l?a&&h||!a&&!h:a&&!h||!a&&h)&&i(t,e,c,o),e=c}return e}function l(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o)e=a(t,e,n[o],i,r);return e}n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return l}))},function(t,e,n){"use strict";var i=n(118),r=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=h;var o=n(108);o.inherits=n(97);var s=n(150),a=n(137);o.inherits(h,s);for(var l=r(a.prototype),u=0;u<l.length;u++){var c=l[u];h.prototype[c]||(h.prototype[c]=a.prototype[c])}function h(t){if(!(this instanceof h))return new h(t);s.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),h.prototype._destroy=function(t,e){this.push(null),this.end(),i.nextTick(e,t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r}));var i=42,r=256},function(t,n,i){"use strict";i.r(n),function(t,r){i.d(n,"readData",(function(){return tt})),i.d(n,"getZoomFromVerticalBounds",(function(){return it})),i.d(n,"createGeoJSON",(function(){return rt})),i.d(n,"prepareLinkData",(function(){return at}));var o=i(30),s=i(7),a=i(106),l=i(65),u=i(44),c=i(42),h=i(72),f=i(25),p=i(43),d=(i(234),i(10)),A=i(132),g=i(116),m=i(78),v=i(143),y=i(145),_=i(115),b=i(245),w=i(36),E=i(21),x=i(110),C=i(105),B=(i(235),i(242),i(176)),I=(i(236),i(114)),S=i(102),O=i.n(S),M=i(134),T=i.n(M),N=i(113),k=(i(237),i(239),i(141),i(173),i(240),i(104)),L=t(".container-fluid").height();document.getElementById("map").style.height=L+"px",document.getElementById("removeFilterLayout").addEventListener("click",(function(){var e=document.getElementById("removeFilterLayout"),n=t("#filterDiv").outerWidth();if("0px"===e.style.right){var i=t("#map").outerWidth()-n;n=t("#filterDiv").outerWidth();t("#removeFilterLayout").animate({right:n+"px"},1e3),t("#filterDiv").animate({right:"0px"},1e3),t("#map").animate({width:i+"px",right:n+"px"},1e3,(function(){map.updateSize()})),t(".right_icon").remove(),t("#removeFilterLayout").append('<img src="assets/svg/si-glyph-arrow-right.svg" class="right_icon"></img>')}else{i=t("#map").outerWidth()+n;t("#removeFilterLayout").animate({right:"0px"},1e3),t("#filterDiv").animate({right:"-"+n+"px"},1e3),t("#map").animate({width:i+"px",right:"0px"},1e3,(function(){map.updateSize()})),t(".right_icon").remove(),t("#removeFilterLayout").append('<img src="assets/svg/si-glyph-arrow-left.svg" class="right_icon"></img>')}})),document.getElementById("removeLayerLayout").addEventListener("click",(function(){var e=document.getElementById("removeLayerLayout"),n=t("#layerLayout").outerWidth(),i=t("#layerLayout").outerWidth();if("0px"===e.style.left){document.getElementById("map").style.position="absolute";var r=t("#map").outerWidth()-n;t("#removeLayerLayout").animate({left:i+"px"},1e3),t("#layerLayout").animate({left:"0px"},1e3),t("#map").animate({width:r+"px",left:"0px"},1e3,(function(){map.updateSize()})),t(".left_icon").remove(),t("#removeLayerLayout").append('<img src="assets/svg/si-glyph-arrow-left.svg" class="left_icon"></img>')}else{document.getElementById("map").style.position="absolute";r=t("#map").outerWidth()+n;t("#removeLayerLayout").animate({left:"0px"},1e3),t("#layerLayout").animate({left:"-"+n+"px"},1e3),t("#map").animate({width:r+"px",left:"-"+n+"px"},1e3,(function(){map.updateSize()})),t(".left_icon").remove(),t("#removeLayerLayout").append('<img src="assets/svg/si-glyph-arrow-right.svg" class="left_icon"></img>')}}));var F=t("#layerLayout").outerWidth();document.getElementById("removeLayerLayout").style.left=F+"px";F=t("#filterDiv").outerWidth();document.getElementById("removeFilterLayout").style.right=F+"px",Object(f.e)();var R=document.getElementById("projection");for(var D in Proj){null!==Proj[D].proj4&&k.a.defs(D,Proj[D].proj4),(U=document.createElement("option")).textContent=Proj[D].name,U.value=D,R.appendChild(U)}try{Object(A.a)(k.a),Object(l.d)()}catch(t){console.error(t)}r.data={hashedStructureData:{},filter:{link:{},node:{}}},r.global_data={files:{node:null,link:null,Ltype:null,Ntype:null,aggr:"sum"},layers:{features:{},base:{},osm:{},import:{}},style:{link:{color:{palette:null,cat:null,var:null,max:null,min:null},opa:{cat:null,var:null,max:null,min:null,vmax:null},size:{cat:null,var:null,max:null,min:null,ratio:null},geometry:{oriented:!0,type:null,head:{height:null,width:null},place:{base:null,height:null}}},node:{color:{palette:null,cat:null,var:null,max:null,min:null},size:{cat:null,ratio:null,var:null,max:null,min:null},opa:{cat:null,var:null,vmax:null,max:null,min:null},text:null,ratioBounds:null}},filter:{link:[],node:[]},ids:{nodeID:null,linkID:[null,null],vol:"count",long:"lat",lat:"lon"},projection:{},legend:{link:{legend:null,color:null,opa:null},node:{legend:null,color:null,opa:null}}},global_data.projection=Proj["Mercator / EPSG:3857"],document.getElementById("importDataButton").addEventListener("click",(function(){!function(){data.links=tt(data.rawLinkData,global_data.files.Ltype);for(var e=Object.keys(data.links[0]),n=0;n<e.length;n++)t("#importIDOri").append(t("<option>",{text:e[n]}).attr("value",e[n])),t("#importIDDest").append(t("<option>",{text:e[n]}).attr("value",e[n])),t("#importIDVol").append(t("<option>",{text:e[n]}).attr("value",e[n]))}()})),document.getElementById("localMap").addEventListener("click",(function(){Object(a.b)("local",map,global_data,data)})),document.getElementById("countryMap").addEventListener("click",(function(){Object(a.b)("country",map,global_data,data)})),document.getElementById("worldMap").addEventListener("click",(function(){Object(a.b)("world",map,global_data,data)})),document.getElementById("LoadZipMapButton").addEventListener("click",(function(){Object(a.c)()})),document.getElementById("buttonProjection").addEventListener("click",(function(){Object(l.b)(global_data.layers,global_data.center),"Mercator / EPSG:3857"===global_data.projection.name?document.getElementById("OSMbutton").disabled=!1:document.getElementById("OSMbutton").disabled=!0})),document.getElementById("epsg-search").addEventListener("click",(function(){var t=document.getElementById("epsg-query");Object(l.f)(t.value)})),document.getElementById("addNewNodeFeaturesButton").addEventListener("click",(function(){Object(f.n)("node")})),document.getElementById("addNewLinkFeaturesButton").addEventListener("click",(function(){Object(f.n)("link"),Object(h.e)()})),document.getElementById("arrowtypeChange").addEventListener("change",(function(){Object(h.c)("Change")})),document.getElementById("arrowDataChange").addEventListener("change",(function(){Object(h.d)("Change")})),document.getElementById("arrowtype").addEventListener("change",(function(){Object(h.c)()})),document.getElementById("arrowData").addEventListener("change",(function(){Object(h.d)()})),document.getElementById("selectFilterButton").addEventListener("click",(function(){Object(o.j)(),Object(o.c)()})),document.getElementById("addNewLayerButtonAdd").addEventListener("click",(function(){Object(s.a)(map,global_data.layers,"Add",'Made with <a href="https://www.naturalearthdata.com">Natural Earth.</a>')})),document.getElementById("addNewURLLayerButtonGeoJson").addEventListener("click",(function(){Object(s.b)(map,global_data.layers)})),document.getElementById("tileLayersAdd").addEventListener("change",(function(){Object(s.o)(document.getElementById("tileLayersAdd").value)})),document.getElementById("OSMbutton").addEventListener("click",(function(){Object(s.o)(document.getElementById("tileLayersAdd").value)})),document.getElementById("addNewTileLayerButtonAdd").addEventListener("click",(function(){var t=Object(s.m)();Object(s.g)(map,global_data.layers.osm,t.url,document.getElementById("tileLayersNameSelectorOptions").value,t.attributions)})),document.getElementById("addNewTileLayerURL").addEventListener("click",(function(){Object(s.g)(map,global_data.layers.osm,document.getElementById("URLTileLayer").value,document.getElementById("NameTileLayer").value,document.getElementById("ContributorsTileLayer").value)})),document.getElementById("addFilterButton").addEventListener("click",(function(){Object(o.a)()})),document.getElementById("addGeometryButtonLink").addEventListener("click",(function(){Object(f.b)(global_data.style)})),document.getElementById("addSemioButtonLink").addEventListener("click",(function(){Object(f.l)(global_data.style,"link")})),document.getElementById("addSemioButtonNode").addEventListener("click",(function(){Object(f.l)(global_data.style,"node")})),document.getElementById("addNewLayerButtonGeoJson").addEventListener("click",(function(){var t=document.getElementById("nameGeoJson").value,e=document.getElementById("opacityGeoJson").value,n=document.getElementById("strokeColorpickerGeoJson").value,i=document.getElementById("fillColorpickerGeoJson").value;Object(s.c)(map,data.geoJson,t,e,n,i),global_data.layers.import[t]={},global_data.layers.import[t].style={stroke:n,fill:i,opacity:e},data[t]=data.geoJson,Object(c.d)(t)})),document.getElementById("saveAndQuitButton").addEventListener("click",(function(){X(),$()})),document.getElementById("QuitButton").addEventListener("click",(function(){$()})),document.getElementById("importPresetLocationButton").addEventListener("click",(function(){ot(),document.getElementById("label_nodes").innerHTML="Levels",t.getJSON("public/data/save/saved_nodes.json",(function(e){data.saved_nodes=e;for(var n=Object.keys(e),i=0;i<n.length;i++)t("#importIDStruct").append(t("<option>",{text:n[i]}).attr("value",n[i]));document.getElementById("importIDStruct").addEventListener("change",(function(){et()})),et()}))})),document.getElementById("importUserLocationButton").addEventListener("click",(function(){ot()})),document.getElementById("importPresetMapButton").addEventListener("click",(function(){!function(){global_data.files.Ntype="geojson";var e=document.getElementById("importIDStruct").value,n=document.getElementById("importSubRegionsStruct").value,i=document.getElementById("importNodesStruct").value,r=data.saved_nodes[e][n][i].file;global_data.ids.nodeID=data.saved_nodes[e][n][i].id,t.getJSON(r,(function(t){data.nodes=t,st()}))}()})),document.getElementById("importedFileLocationButton").addEventListener("click",(function(){!function(){global_data.ids.nodeID=document.getElementById("importNodeID").value,"csv"===global_data.files.Ntype&&(global_data.ids.long=document.getElementById("importLatStruct").value,global_data.ids.lat=document.getElementById("importLonStruct").value,data.nodes=rt(data.nodes));st()}()})),document.getElementById("importDataButton").disabled=!0,document.getElementById("LoadZipMapButton").disabled=!0,function(){function e(e){data.rawStructureData=e.target.result,data.nodes=tt(data.rawStructureData,global_data.files.Ntype),function(){null===document.getElementById("importLatStruct")&&"geojson"!==global_data.files.Ntype||(t("#importLatStruct").parent().parent().remove(),t("#importLonStruct").parent().parent().remove());null!==document.getElementById("importIDNodeStruct")&&t("#importIDNodeStruct").children().remove();t("#importIDNodeStruct").append(t("<p>").append(t("<label>",{text:"ID"}).attr("for","select")).append(t("<select>").attr("class","custom-select").attr("id","importNodeID"))),"csv"===global_data.files.Ntype&&t("#importIDImportStructComplement").append(t("<div>").attr("class","col-md-6").append(t("<p>").append(t("<label>",{text:"Lat"}).attr("for","select")).append(t("<select>").attr("class","custom-select").attr("id","importLatStruct")))).append(t("<div>").attr("class","col-md-6").append(t("<p>").append(t("<label>",{text:"Long"}).attr("for","select")).append(t("<select>").attr("class","custom-select").attr("id","importLonStruct"))));if("csv"===global_data.files.Ntype)var e=Object.keys(data.nodes[0]);else e=Object.keys(data.nodes.features[0].properties);for(var n=0;n<e.length;n++)t("#importNodeID").append(t("<option>",{text:e[n]}).attr("value",e[n])),"csv"===global_data.files.Ntype&&(t("#importLatStruct").append(t("<option>",{text:e[n]}).attr("value",e[n])),t("#importLonStruct").append(t("<option>",{text:e[n]}).attr("value",e[n])))}()}document.getElementById("Node").addEventListener("change",(function(t){var n=new FileReader;n.onload=e,n.readAsText(t.target.files[0]),global_data.files.Ntype=t.target.files[0].name.split(".")[t.target.files[0].name.split(".").length-1],document.getElementById("label_node").innerHTML=t.target.files[0].name,document.getElementById("importDataButton").disabled=!1}))}(),function(){function e(e){data.geoJson=JSON.parse(e.target.result),t("#geoJsonModalBody").append('<hr><div class="row"><div class="col-md-12"><label class="text-muted h5" for="customRange3">Opacity</label><input type="range" class="custom-range" min="0" max="1" step="0.05" id="opacityGeoJson"></div></div><hr> <div class="row"><div class="col-md-6"><label class="text-muted h5" for="customRange3">Fill</label><input type="color" id="fillColorpickerGeoJson" onchange="clickColor(0, -1, -1, 5)" value="#ff0000"></div><div class="col-md-6"><label  class="text-muted h5" for="customRange3">Stroke</label><input type="color" id="strokeColorpickerGeoJson" onchange="clickColor(0, -1, -1, 5)" value="#ff0000"></div></div>')}document.getElementById("geoJson").addEventListener("change",(function(t){var n=new FileReader;n.onload=e,n.readAsText(t.target.files[0]),document.getElementById("label_geoJson").innerHTML=t.target.files[0].name}))}(),function(){function t(t){data.rawLinkData=t.target.result}document.getElementById("Link").addEventListener("change",(function(e){var n=new FileReader;n.onload=t,n.readAsText(e.target.files[0]),global_data.files.Ltype=e.target.files[0].name.split(".")[e.target.files[0].name.split(".").length-1],document.getElementById("label_link").innerHTML=e.target.files[0].name,document.getElementById("importDataButton").disabled=!1}))}(),function(){function t(t){new O.a;O.a.loadAsync(t.target.result).then((function(t){t.files["conf.json"].async("string").then((function(t){global_data=JSON.parse(t),global_data.legend={link:{legend:null,color:null,opa:null},node:{legend:null,color:null,opa:null}}})),t.files["data.json"].async("string").then((function(t){data=JSON.parse(t)}))})),document.getElementById("LoadZipMapButton").disabled=!1}document.getElementById("loadSavedZipMap").addEventListener("change",(function(e){var n=new FileReader;n.onload=t,n.readAsArrayBuffer(e.target.files[0]),document.getElementById("label_loadSavedZipMap").innerHTML=e.target.files[0].name}))}();R=document.getElementById("layersAdd");var P=Object.keys(ListUrl);for(D=0;D<P.length;D++){var U;(U=document.createElement("option")).textContent=P[D],U.value=P[D],R.appendChild(U)}var Q=document.getElementById("popup"),H=document.getElementById("popup-content"),j=new C.a({element:Q,autoPan:!0,autoPanAnimation:{duration:250}}),z=new v.a({collapsible:!1});r.map=new g.a({controls:Object(y.a)({attribution:!1}).extend([z]),renderer:"webgl",target:"map",loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,view:new m.a({center:[0,-0],zoom:0,minZoom:-2,maxZoom:50})});var K=new x.a({condition:function(t){return Object(E.h)(t)},layers:function(t){return"link"===t.get("name")||"node"===t.get("name")}}),G=new x.a({layers:function(t){return"link"===t.get("name")||"node"===t.get("name")}});K.on("select",(function(t){var e=K.getOverlay().getSource().getFeatures()[0];if("node"===e.get("layer")){var n=function(t){var e=Object(s.l)(map,"link");if(null===e)return;var n=[];return e.getSource().getFeatures().forEach((function(e){e.get("ori")!==t&&e.get("dest")!==t||n.push(e)})),n}(e.get(global_data.ids.nodeID));K.getOverlay().getSource().addFeatures(n)}})),map.addInteraction(K),map.addInteraction(G),map.on("singleclick",(function(t){R.getFeatures().clear();var n,i=map.getFeaturesAtPixel(t.pixel);for(var r in i)if(["node","Node","link"].includes(i[r].get("layer"))){n=i[r];break}void 0!==n?("link"===n.get("layer")?(H.innerHTML=function(t){var n=["fixed"],i="<b>"+t.get("ori")+' <img class="popup-icon" src="assets/svg/si-glyph-triangle-right.svg"/> '+t.get("dest")+"</b><br/>";n.includes(global_data.ids.vol)||(i=i+global_data.ids.vol+" : "+e.feature.get(global_data.ids.vol)+"<br/>",n.push(global_data.ids.vol));n.includes(t.get("size").name)||(i=i+e.feature.get("size").name+" : "+e.feature.get("size").value+"<br/>",n.push(t.get("size").name));n.includes(e.feature.get("color").name)||(i=i+e.feature.get("color").name+" : "+e.feature.get("color").value+"<br/>",n.push(t.get("color").name));n.includes(t.get("opa").name)||(i=i+e.feature.get("opa").name+" : "+e.feature.get("opa").value+"<br/>",n.push(t.get("opa").name));return i}(n),j.setPosition(t.coordinate)):"node"===n.get("layer")&&(H.innerHTML=function(t){var e=["fixed"],n="<b>"+t.get(global_data.ids.nodeID)+"</b><br/>";e.includes(global_data.style.node.size.var)||(n=n+global_data.style.node.size.var+" : "+t.get(global_data.style.node.size.var)+"<br/>",e.push(global_data.style.node.size.var));e.includes(global_data.style.node.color.var)||(n=n+global_data.style.node.color.var+" : "+t.get(global_data.style.node.color.var)+"<br/>",e.push(global_data.style.node.color.var));e.includes(global_data.style.node.opa.var)||(n=n+global_data.style.node.opa.var+" : "+t.get(global_data.style.node.opa.var)+"<br/>",e.push(global_data.style.node.opa.var));return n}(n)),j.setPosition(t.coordinate)):j.setPosition(void 0)}));var q=new _.a;map.addControl(q),map.addControl(new b.a);var W=new B.a;map.addControl(W),document.getElementById("titleMap").addEventListener("change",(function(){global_data.title=this.value,W.setTitle(this.value)}));var Y=function(t){function e(e){var n=e||{},i=document.createElement("button");i.innerHTML="<img class='icon-button-ol' rel='tooltip' title='Save the map as save file' data-placement='right' src='assets/svg/si-glyph-floppy-disk.svg'/>";var r=document.createElement("div");r.className="rotate-north ol-unselectable ol-control",r.appendChild(i),t.call(this,{element:r,target:n.target}),i.addEventListener("click",this.handleExport.bind(this),!1)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleExport=function(){X()},e}(w.a);function X(){var t=new O.a;let e=global_data.legend;delete global_data.legend,t.file("data.json",JSON.stringify(data)),t.file("conf.json",JSON.stringify(global_data)),t.generateAsync({type:"blob"}).then((function(t){Object(N.saveAs)(t,"Save_GFlowiz_Map.zip")})),global_data.legend=e}map.addControl(new Y);var V=function(e){function n(t){var n=t||{},i=document.createElement("button");i.innerHTML="<img class='icon-button-ol'  rel='tooltip' title='Print the map as png with legend' data-placement='right' src='assets/svg/si-glyph-print.svg'/>";var r=document.createElement("div");r.className="rotate-print ol-unselectable ol-control",r.appendChild(i),e.call(this,{element:r,target:n.target}),i.addEventListener("click",this.handlePrint.bind(this),!1)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.handlePrint=function(){!function(){!0===document.getElementsByClassName("ol-legend")[0].classList.toggle("ol-collapsed")&&document.getElementsByClassName("ol-legend")[0].classList.toggle("ol-collapsed");T()(document.getElementsByClassName("ol-legend")[0]).then(e=>{T()(document.getElementsByClassName("ol-attribution")[0]).then(n=>{T()(document.getElementsByClassName("ol-scale-line")[0]).then(i=>{var r=t("canvas")[0],o=document.createElement("canvas");o.width=Math.max(r.width,e.width),o.height=r.height+e.height;var s=o.getContext("2d");r.getContext("2d").getImageData(0,0,r.width,r.height);s.drawImage(r,0,0),s.drawImage(e,0,r.height),s.drawImage(n,o.width-n.width,r.height-n.height),s.drawImage(i,5,r.height-i.height-5);var a=o.toDataURL(1,{pixelRatio:150});Object(N.saveAs)(a,"stage.png")})})}),map.renderSync()}()},n}(w.a);map.addControl(new V);var J=function(t){function e(e){var n=e||{},i=document.createElement("button");i.innerHTML="<img class='icon-button-ol'  rel='tooltip' title='Center the map around the current links' data-placement='right' src='assets/svg/si-glyph-screen-ful.svg'/>";var r=document.createElement("div");r.className="rotate-center ol-unselectable ol-control",r.appendChild(i),t.call(this,{element:r,target:n.target}),i.addEventListener("click",this.handleCenter.bind(this),!1)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleCenter=function(){Object(l.a)()},e}(w.a);map.addControl(new J);var Z=function(t){function e(e){var n=e||{},i=document.createElement("button");i.innerHTML="<img class='icon-button-ol'  rel='tooltip' title='Export data as geojson' data-placement='right'  src='assets/svg/si-glyph-backward-page.svg'/>";var r=document.createElement("div");r.className="rotate-refresh ol-unselectable ol-control",r.appendChild(i),t.call(this,{element:r,target:n.target}),i.addEventListener("click",this.handlerefresh.bind(this),!1)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handlerefresh=function(){Object(u.e)(data,global_data.filter,global_data)},e}(w.a);function $(){t(".arrival").show(50),[...map.getLayers().getArray()].forEach(t=>map.removeLayer(t)),map.setView(new m.a({center:[0,-0],zoom:0,minZoom:-2,maxZoom:25})),t("#importIDOri").children().remove(),t("#importIDDest").children().remove(),t("#importIDVol").children().remove(),t("#importNodeID").children().remove(),null!==t("#importIDImportStructComplement")&&t("#importIDImportStructComplement").parent().remove(),delete global_data.filter.node,global_data.filter.node=[],delete global_data.filter.link,global_data.filter.link=[],t("#accordionLayerControl").children().remove(),t("#filterDiv").children().slice(3).remove()}function tt(t,e){return"json"===e?JSON.parse(t):"csv"===e?Object(I.parse)(t,{header:!0}).data:"geojson"===e?JSON.parse(t):void 0}function et(){null!==document.getElementById("importSubRegionsStruct")&&(t("#importSubRegionsStruct").parent().parent().remove(),t("#importNodesStruct").parent().parent().remove()),t("#importIDStruct").parent().parent().parent().append(t("<div>").attr("class","col-md-4").append(t("<p>").append(t("<label>",{text:"Region"}).attr("for","select")).append(t("<select>").attr("class","custom-select").attr("id","importSubRegionsStruct"))));for(var e=document.getElementById("importIDStruct").value,n=Object.keys(data.saved_nodes[e]),i=0;i<n.length;i++)t("#importSubRegionsStruct").append(t("<option>",{text:n[i]}).attr("value",n[i]));document.getElementById("importSubRegionsStruct").addEventListener("change",(function(){nt()})),nt()}function nt(){null!==document.getElementById("importNodesStruct")&&t("#importNodesStruct").parent().parent().remove();var e=document.getElementById("importIDStruct").value,n=document.getElementById("importSubRegionsStruct").value,i=Object.keys(data.saved_nodes[e][n]);data.saved_nodes[e][n];t("#importIDStruct").parent().parent().parent().append(t("<div>").attr("class","col-md-4").append(t("<p>").append('<label for="valueTofilter">Code <button  class="badge badge-pill badge-secondary"  id="buttonTypeMapToLoad" data-html="true" data-container="body" data-toggle="popover" data-placement="right" data-content="nothing"><img class="small-icon" src="assets/svg/si-glyph-info.svg"/></button></label>').append(t("<select>").attr("class","custom-select").attr("id","importNodesStruct"))));for(var r=0;r<i.length;r++)t("#importNodesStruct").append(t("<option>",{text:i[r]}).attr("value",i[r]));var o=document.getElementById("importNodesStruct").value;t("#buttonTypeMapToLoad").attr("data-content","Used ID : "+data.saved_nodes[e][n][o].code),t('[data-toggle="popover"]').popover(),document.getElementById("importNodesStruct").addEventListener("change",(function(){var e=document.getElementById("importIDStruct").value,n=document.getElementById("importSubRegionsStruct").value,i=document.getElementById("importNodesStruct").value;t("#buttonTypeMapToLoad").attr("data-content","Used ID : "+data.saved_nodes[e][n][i].code),t('[data-toggle="popover"]').popover()}))}function it(t){return t<5e4?13:t<25e4?8:t<125e4?6:t<625e4?3:1}function rt(t){try{for(var e=t.length,n=[],i=0;i<e;i++){var r=p.point([Number(t[i][global_data.ids.lat]),Number(t[i][global_data.ids.long])],t[i]);n.push(r)}return p.featureCollection(n)}catch{alert("The nodes file is not well standardised \n Please check your file")}}function ot(){global_data.ids.linkID[0]=document.getElementById("importIDOri").value,global_data.ids.linkID[1]=document.getElementById("importIDDest").value,global_data.ids.vol=document.getElementById("importIDVol").value,global_data.files.aggr=document.getElementById("importAggrFun").value}function st(){data.rawLinkData=null,data.rawStructureData=null;for(var e=-1/0,n=1/0,i=-1/0,r=1/0,c=data.links.length,h=[],f=0;f<c;f++)h.includes(data.links[f][global_data.ids.linkID[0]])||h.push(data.links[f][global_data.ids.linkID[0]]),h.includes(data.links[f][global_data.ids.linkID[1]])||h.push(data.links[f][global_data.ids.linkID[1]]);for(var p=[],A=[],g=(c=data.nodes.features.length,0);g<c;g++)if(!p.includes(data.nodes.features[g].properties[global_data.ids.nodeID])&&h.includes(data.nodes.features[g].properties[global_data.ids.nodeID])){data.hashedStructureData[data.nodes.features[g].properties[global_data.ids.nodeID]]=data.nodes.features[g];var m=Object(l.c)(data.nodes.features[g],global_data.projection.name);data.hashedStructureData[data.nodes.features[g].properties[global_data.ids.nodeID]].properties.centroid=m,data.hashedStructureData[data.nodes.features[g].properties[global_data.ids.nodeID]].properties[global_data.ids.vol]=0,p.push(data.nodes.features[g].properties[global_data.ids.nodeID]),e<m[0]&&(e=m[0]),n>m[0]&&(n=m[0]),i<m[1]&&(i=m[1]),r>m[1]&&(r=m[1])}else A.push(data.nodes.features[g].properties[global_data.ids.nodeID]);var v=e-n,y=i-r;global_data.style.ratioBounds=2e-4*Math.max(v,y);var _=[n+v/2,r+y/2];global_data.zoom=it(y),_=Object(d.k)(_,global_data.projection.name,"EPSG:4326"),global_data.center=_;var b="";0!==A.length&&(b=A.length+" nodes have been removed. \n No links have for origin or destination these nodes \n The removed nodes ID are "+A.toString()),data.links=Object(u.a)(data.links,Object.keys(data.hashedStructureData),global_data.ids.linkID[0],global_data.ids.linkID[1],b),Object(u.c)(data.hashedStructureData,data.links,global_data.ids.linkID[0],global_data.ids.linkID[1],global_data.ids.vol),data.links=at(data.links,global_data.ids.linkID[0],global_data.ids.linkID[1],data.hashedStructureData,global_data.ids.vol);var w="geojson"!==global_data.files.Ntype;Object(u.b)(data.hashedStructureData,data.links,global_data.ids.linkID[0],global_data.ids.linkID[1],w,"kilometers"),document.getElementById("addFilterButton").disabled=!1,t("#featureCard").toggle(),Object(u.d)(data.links,global_data.ids.vol,global_data),function(t,e,n){(function(t,e,n){var i=n.map((function(t){return t[e]}));t.color={palette:"YlGnBu",cat:"number",var:e,max:Math.max(...i),min:Math.min(...i)},t.opa={cat:null,var:"fixed",max:null,min:null,vmax:"0.85"},t.size={cat:"Linear",var:e,max:Math.max(...i),min:Math.min(...i),ratio:"100"},t.geometry={oriented:"oriented",type:"StraightArrow",head:{height:.5,width:.5},place:{base:.5,height:.5}}})(t.style.link,e,n.links),function(t,e,n){var i=n.map((function(t){return t[e]})).sort((function(t,e){return e-t}));t.push({variable:e,values:[i[parseInt(.1*i.length)],Math.max(...i)],filter:"numeral"})}(t.filter.link,e,n.links),function(t,e,n){var i=Object.keys(n).map((function(t){return n[t].properties.degree}));t.color={palette:"OrRd",cat:"number",var:"degree",max:Math.max(...i),min:Math.min(...i)},t.opa={cat:null,var:"fixed",max:null,min:null,vmax:"0.85"};i=Object.keys(n).map((function(t){return n[t].properties.degree}));t.size={cat:"Linear",ratio:"100",var:"degree",max:Math.max(...i),min:Math.min(...i)},t.text="Choose..."}(t.style.node,0,n.hashedStructureData),Object(a.a)(t.filter);var i=Object(o.k)(global_data.filter.link,n),r=Object(o.b)(n.hashedStructureData);Object(s.f)(map,n.links,n.hashedStructureData,t.style,i,r),Object(s.j)(map,n.links,n.hashedStructureData,t.style,t.ids.linkID[0],t.ids.linkID[1],i,r),Object(s.l)(map,"node").setZIndex(1),Object(s.e)()}(global_data,global_data.ids.vol,data),map.getView().fit(Object(s.l)(map,"link").getSource().getExtent()),!0===document.getElementsByClassName("ol-legend")[0].classList.toggle("ol-collapsed")&&document.getElementsByClassName("ol-legend")[0].classList.toggle("ol-collapsed"),t(".arrival").hide(50)}function at(t,e,n,i,r){for(var o=t.length,s=[],a=0;a<o;a++)t[a][e]===t[a][n]?i[t[a][e]].properties[r]=t[a][r]:s.push(t[a]);return s}map.addControl(new Z),map.on("moveend",(function(t){null!==global_data.legend.node.legend&&(global_data.legend.node.legend.refresh({force:!0}),global_data.legend.link.legend.refresh({force:!0}))})),t("#carouselDraw").carousel(),t("#carouselFilter").carousel(),t("#carouselExampleInterval").carousel(),t(".arrival").css("overflow-y","visible")}.call(this,i(55),i(57))},function(t,e,n){"use strict";e.a={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var i=function(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i};function r(t,e,n,r,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=r,o):new i(t,e,n,r)}i.prototype.contains=function(t){return this.containsXY(t[1],t[2])},i.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},i.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},i.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},i.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},i.prototype.getHeight=function(){return this.maxY-this.minY+1},i.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},i.prototype.getWidth=function(){return this.maxX-this.minX+1},i.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},e.b=i},function(t,e,n){"use strict";(function(t){n.d(e,"c",(function(){return f})),n.d(e,"b",(function(){return p})),n.d(e,"d",(function(){return d})),n.d(e,"a",(function(){return A}));var i=n(27),r=n(68),o=n(32),s=n(133),a=(n(146),n(243)),l=n(62),u=n(1),c=n(31),h=n(7);function f(t,e,n){var s=Object(c.a)(e),a=Object(c.a)(n);return new i.c({stroke:new r.a({color:"rgba("+s[0]+","+s[1]+","+s[2]+", "+t+")",width:1}),fill:new o.a({color:"rgba("+a[0]+","+a[1]+","+a[2]+", "+t+")"})})}function p(t){return[new i.c({image:new s.a({radius:Object(h.i)("node",t.get("pop"),global_data.style.ratioBounds,global_data.style)/map.getView().getResolution(),fill:new o.a({color:[169,169,169,.3]}),stroke:new r.a({width:2,color:[169,169,169,1]})}),geometry:new l.a(Object(u.x)(t.getGeometry().getExtent()))})]}function d(e){if("fixed"===global_data.style.link.size.var)var n=1;else if("noOriented"===global_data.style.link.geometry.oriented)n=-e.get("size").value;else n=e.get("size").value;if("fixed"===global_data.style.link.color.var)var r=t.color(global_data.style.link.color.palette);else if("categorical"===global_data.style.link.color.cat)r=t.color(global_data.style.link.categorialOrderedColors[e.get(global_data.style.link.color.var).toString()]);else if("number"===global_data.style.link.color.cat){var s=(e.get("color").value-global_data.style.link.color.min)/(global_data.style.link.color.max-global_data.style.link.color.min);r=t.color(t["interpolate"+global_data.style.link.color.palette](s))}if("fixed"===global_data.style.link.opa.var)r.opacity=global_data.style.link.opa.vmax;else{var a=t["scale"+global_data.style.link.opa.cat]().domain([0,Number(global_data.style.link.opa.vmax)]).range([Number(global_data.style.link.opa.min),Number(global_data.style.link.opa.max)]);r.opacity=a(e.get("opa").value)}return new i.c({fill:new o.a({color:r.rgb().toString()}),zIndex:n})}function A(e){return e.get("selected")?function(e,n){if("fixed"===global_data.style.node.size.cat)var s=1;else s=global_data.style.node.size.max-e.get(global_data.style.node.size.var);if("fixed"===global_data.style.node.color.var)var l=t.color(global_data.style.node.color.palette);else if("categorical"===global_data.style.node.color.cat)l=t.color(global_data.style.node.categorialOrderedColors[e.get(global_data.style.node.color.var).toString()]);else if("number"===global_data.style.node.color.cat)l=t.color(n.color(e.get(global_data.style.node.color.var)));"fixed"===global_data.style.node.opa.var?l.opacity=global_data.style.node.opa.vmax:l.opacity=n.opa(Number(e.get(global_data.style.node.opa.var)));var u=new i.c({fill:new o.a({color:l.rgb().toString()}),stroke:new r.a({color:l.rgb().toString(),width:0}),zIndex:s,text:new a.a});return u.getText().setText(e.get(global_data.style.node.text)),u}(e,Object(h.k)("node")):function(e){if("fixed"===global_data.style.node.size.cat)var n=1;else n=global_data.style.node.size.max-e.get(global_data.style.node.size.var);var r=t.color("#666666");return r.opacity=.4,new i.c({fill:new o.a({color:r.rgb().toString()}),zIndex:n})}(e)}}).call(this,n(121))},function(t,e,n){"use strict";var i=n(4),r=n(23),o=n(36),s=n(12),a=n(100);var l=n(76),u=n(62),c=n(75),h=n(50),f=n(1),p=function(t){t=t||{};var e=document.createElement("div");if(t.target)e.className=t.className||"ol-legend";else{e.className=(t.className||"ol-legend")+" ol-unselectable ol-control ol-collapsed"+(!1===t.collapsible?" ol-uncollapsible":"");var n=document.createElement("button");n.setAttribute("type","button"),n.addEventListener("click",(function(){e.classList.toggle("ol-collapsed")})),e.appendChild(n),(n=document.createElement("button")).setAttribute("type","button"),n.className="ol-closebox",n.addEventListener("click",(function(){e.classList.toggle("ol-collapsed")})),e.appendChild(n)}this._imgElement=document.createElement("div"),this._imgElement.className="ol-legendImg",e.appendChild(this._imgElement),this._tableElement=document.createElement("ul"),e.appendChild(this._tableElement),o.a.call(this,{element:e,target:t.target}),this._rows=[],this.set("size",t.size||[40,25]),this.set("margin",0===t.margin?0:t.margin||10),this.set("title",t.title||""),this._style=t.style,!1===t.collapsed&&this.show(),this.refresh()};Object(i.d)(p,o.a),p.prototype.setStyle=function(t){this._style=t,this.refresh()},p.prototype.addRow=function(t){this._rows.push(t||{}),this.refresh()},p.prototype.removeRow=function(t){this._rows.splice(t,1),this.refresh()},p.prototype.getRow=function(t){return this._rows[t]},p.prototype.getLength=function(){return this._rows.length},p.prototype.refresh=function(){var t=this,e=this._tableElement;e.innerHTML="";var n=this.get("size")[0]+2*this.get("margin"),i=this.get("size")[1]+2*this.get("margin");function o(r,o,s,a){var l=document.createElement("li");l.style.height=i+"px",l.addEventListener("click",(function(){t.dispatchEvent({type:"select",title:r,row:s,index:a})}));var u=document.createElement("div");l.appendChild(u),u.style.height=i+"px",u=document.createElement("div"),o?l.className="ol-title":u.style.paddingLeft=n+"px",u.innerHTML=r||"",l.appendChild(u),e.appendChild(l)}this.get("title")&&o(this.get("title"),!0,{},-1);var s=document.createElement("canvas");s.width=5*n,s.height=(this._rows.length+1)*i*r.b,this._imgElement.innerHTML="",this._imgElement.append(s),this._imgElement.style.height=(this._rows.length+1)*i+"px";for(var a,l=0;a=this._rows[l];l++)o(a.title,!1,a,l),s=this.getStyleImage(a,s,l+(this.get("title")?1:0))},p.prototype.show=function(){this.element.classList.remove("ol-collapsed")},p.prototype.hide=function(){this.element.classList.add("ol-collapsed")},p.prototype.toggle=function(){this.element.classList.toggle("ol-collapsed")},p.prototype.getStyleImage=function(t,e,n){t=t||{};var i=this.get("size"),o=i[0]+2*this.get("margin"),p=i[1]+2*this.get("margin"),d=e,A=r.b;d||((d=document.createElement("canvas")).width=o*A,d.height=p*A);var g=d.getContext("2d");g.save();var m,v=function(t,e){var n=t.canvas,i=e||{},o=i.pixelRatio||r.b,l=i.size;l&&(n.width=l[0]*o,n.height=l[1]*o,n.style.width=l[0]+"px",n.style.height=l[1]+"px");var u=[0,0,n.width,n.height],c=Object(s.f)(Object(s.c)(),o,o);return new a.a(t,o,u,c,0)}(g),y=t.typeGeom,_=t.feature;!_&&t.properties&&y&&(_=/Point/.test(y)?new l.a(new u.a([0,0])):/LineString/.test(y)?new l.a(new c.a([0,0])):new l.a(new h.a([[0,0]]))).setProperties(t.properties),_?((m=_.getStyle())||(m="function"==typeof this._style?this._style(_):this._style||[]),y=_.getGeometry().getType()):m=t.style,m instanceof Array||(m=[m]);var b,w,E=o/2,x=p/2,C=i[0]/2,B=i[1]/2;if("Point"===y){var I=null;for(b=0;w=m[b];b++){var S=w.getImage();if(S&&S.getAnchor){var O=S.getAnchor(),M=S.getSize(),T=O[0]-M[0],N=O[1]-M[1];I?Object(f.q)(I,[T,N,T+M[0],N+M[1]]):I=[T,N,T+M[0],N+M[1]]}}I&&(E+=(I[2]+I[0])/2,x+=(I[3]+I[1])/2)}for(x+=e?n*p:0,b=0;w=m[b];b++)switch(v.setStyle(w),y){case u.a:case"Point":v.drawGeometry(new u.a([E,x]));break;case c.a:case"LineString":g.save(),g.rect(this.get("margin")*A,0,i[0]*A,d.height),g.clip(),v.drawGeometry(new c.a([[E-C,x],[E+C,x]])),g.restore();break;case h.a:case"Polygon":v.drawGeometry(new h.a([[[E-C,x-B],[E+C,x-B],[E+C,x+B],[E-C,x+B],[E-C,x-B]]]))}return g.restore(),d};e.a=p},function(t,e,n){"use strict";for(var i=n(33),r=n(80),o=n(120),s=n(58),a=new Array(256),l=0;l<256;l++)a[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;a[254]=a[254]=1;function u(){s.call(this,"utf-8 decode"),this.leftOver=null}function c(){s.call(this,"utf-8 encode")}e.utf8encode=function(t){return r.nodebuffer?o.newBufferFrom(t,"utf-8"):function(t){var e,n,i,o,s,a=t.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=r.uint8array?new Uint8Array(l):new Array(l),s=0,o=0;s<l;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e}(t)},e.utf8decode=function(t){return r.nodebuffer?i.transformTo("nodebuffer",t).toString("utf-8"):function(t){var e,n,r,o,s=t.length,l=new Array(2*s);for(n=0,e=0;e<s;)if((r=t[e++])<128)l[n++]=r;else if((o=a[r])>4)l[n++]=65533,e+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&e<s;)r=r<<6|63&t[e++],o--;o>1?l[n++]=65533:r<65536?l[n++]=r:(r-=65536,l[n++]=55296|r>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(t=i.transformTo(r.uint8array?"uint8array":"array",t))},i.inherits(u,s),u.prototype.processChunk=function(t){var n=i.transformTo(r.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=n;(n=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),n.set(o,this.leftOver.length)}else n=this.leftOver.concat(n);this.leftOver=null}var s=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+a[t[n]]>e?n:e}(n),l=n;s!==n.length&&(r.uint8array?(l=n.subarray(0,s),this.leftOver=n.subarray(s,n.length)):(l=n.slice(0,s),this.leftOver=n.slice(s,n.length))),this.push({data:e.utf8decode(l),meta:t.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:e.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},e.Utf8DecodeWorker=u,i.inherits(c,s),c.prototype.processChunk=function(t){this.push({data:e.utf8encode(t.data),meta:t.meta})},e.Utf8EncodeWorker=c},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";var i=function(){this.disposed_=!1};i.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},i.prototype.disposeInternal=function(){},e.a=i},function(t,e,n){"use strict";function i(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],l=t[e+1];r+=s*a-o*l,o=a,s=l}return r/2}function r(t,e,n,r){for(var o=0,s=0,a=n.length;s<a;++s){var l=n[s];o+=i(t,e,l,r),e=l}return o}function o(t,e,n,i){for(var o=0,s=0,a=n.length;s<a;++s){var l=n[s];o+=r(t,e,l,i),e=l[l.length-1]}return o}n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return o}))},function(t,e,n){"use strict";var i=n(15),r=n(53),o=n(1),s=n(5),a=n(41),l=n(48),u=n(23),c=n(129),h=n(6),f=n(12),p=function(t){function e(e,n,i,r,o){t.call(this),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Object(f.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=Object(l.c)(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var c=0,h=r.length;c<h;c+=2){var p=r[c]-this.imageAnchorX_,d=r[c+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_){var A=p+this.imageAnchorX_,g=d+this.imageAnchorY_;Object(f.b)(s,A,g,this.imageScale_,this.imageScale_,u,-A,-g),o.setTransform.apply(o,s)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,d,this.imageWidth_,this.imageHeight_)}0===u&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=Object(l.c)(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){var a=r[e]+this.textOffsetX_,u=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var c=Object(f.b)(this.tmpLocalTransform_,a,u,this.textScale_,this.textScale_,s,-a,-u);o.setTransform.apply(o,c)}this.textStrokeState_&&o.strokeText(this.text_,a,u),this.textFillState_&&o.fillText(this.text_,a,u)}0===s&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,s=Object(l.c)(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;r&&(a-=2);for(var u=2;u<a;u+=2)o.lineTo(s[u],s[u+1]);return r&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=Object(a.b)(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),s=this.context_;s.beginPath(),s.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&s.fill(),this.strokeState_&&s.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case s.a.POINT:this.drawPoint(t);break;case s.a.LINE_STRING:this.drawLineString(t);break;case s.a.POLYGON:this.drawPolygon(t);break;case s.a.MULTI_POINT:this.drawMultiPoint(t);break;case s.a.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case s.a.MULTI_POLYGON:this.drawMultiPolygon(t);break;case s.a.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case s.a.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Object(o.F)(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(Object(o.F)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,s=t.getEnds(),a=t.getStride();n.beginPath();for(var l=0,u=s.length;l<u;++l)r=this.moveToLineTo_(i,r,s[l],a,!1);n.stroke()}if(""!==this.text_){var c=t.getFlatMidpoints();this.drawText_(c,0,c.length,2)}}},e.prototype.drawPolygon=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(Object(o.F)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),s=t.getStride();e.beginPath();for(var a=0,l=r.length;a<l;++a){var u=r[a];i=this.drawRings_(n,i,u,s)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var c=t.getFlatInteriorPoints();this.drawText_(c,0,c.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),u.a&&(Object(i.b)(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,u.a&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:h.l;n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=i&&(n.textAlign=e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Object(r.a)(n||h.b)}}else this.fillState_=null;if(e){var i=e.getColor(),o=e.getLineCap(),s=e.getLineDash(),a=e.getLineDashOffset(),l=e.getLineJoin(),u=e.getWidth(),c=e.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:h.d,lineDash:s||h.e,lineDashOffset:a||h.f,lineJoin:void 0!==l?l:h.g,lineWidth:this.pixelRatio_*(void 0!==u?u:h.h),miterLimit:void 0!==c?c:h.i,strokeStyle:Object(r.a)(i||h.k)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Object(r.a)(n||h.b)}}else this.textFillState_=null;var i=t.getStroke();if(i){var o=i.getColor(),s=i.getLineCap(),a=i.getLineDash(),l=i.getLineDashOffset(),u=i.getLineJoin(),c=i.getWidth(),f=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==s?s:h.d,lineDash:a||h.e,lineDashOffset:l||h.f,lineJoin:void 0!==u?u:h.g,lineWidth:void 0!==c?c:h.h,miterLimit:void 0!==f?f:h.i,strokeStyle:Object(r.a)(o||h.k)}}else this.textStrokeState_=null;var p=t.getFont(),d=t.getOffsetX(),A=t.getOffsetY(),g=t.getRotateWithView(),m=t.getRotation(),v=t.getScale(),y=t.getText(),_=t.getTextAlign(),b=t.getTextBaseline();this.textState_={font:void 0!==p?p:h.c,textAlign:void 0!==_?_:h.l,textBaseline:void 0!==b?b:h.m},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==d?this.pixelRatio_*d:0,this.textOffsetY_=void 0!==A?this.pixelRatio_*A:0,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0!==m?m:0,this.textScale_=this.pixelRatio_*(void 0!==v?v:1)}else this.text_=""},e}(c.a);e.a=p},function(t,e,n){"use strict";t.exports=r,t.exports.default=r;var i=n(229);function r(t,e){if(!(this instanceof r))return new r(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function o(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function s(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,i,r){r||(r=A(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],l(r,t.leaf?i(o):o);return r}function l(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function h(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function f(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function d(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function A(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(t,e,n,r,o){for(var s,a=[e,n];a.length;)(n=a.pop())-(e=a.pop())<=r||(s=e+Math.ceil((n-e)/r/2)*r,i(t,s,e,n,o),a.push(e,s,s,n))}r.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!d(t,e))return n;for(var r,o,s,a,l=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],d(t,a=e.leaf?i(s):s)&&(e.leaf?n.push(s):p(t,a)?this._all(s,n):l.push(s));e=l.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!d(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],d(t,s=e.leaf?n(o):o)){if(e.leaf||p(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=A([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,s,a=this.data,l=this.toBBox(t),u=[],c=[];a||u.length;){if(a||(a=u.pop(),i=u[u.length-1],n=c.pop(),s=!0),a.leaf&&-1!==(r=o(t,a.children,e)))return a.children.splice(r,1),u.push(a),this._condense(u),this;s||a.leaf||!p(a,l)?i?(n++,a=i.children[n],s=!1):a=null:(u.push(a),c.push(n),n=0,i=a,a=a.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,a=this._maxEntries;if(o<=a)return s(r=A(t.slice(e,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=A([])).leaf=!1,r.height=i;var l,u,c,h,f=Math.ceil(o/a),p=f*Math.ceil(Math.sqrt(a));for(g(t,e,n,p,this.compareMinX),l=e;l<=n;l+=p)for(g(t,l,c=Math.min(l+p-1,n),f,this.compareMinY),u=l;u<=c;u+=f)h=Math.min(u+f-1,c),r.children.push(this._build(t,u,h,i-1));return s(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,l,u,c,f,p,d;i.push(e),!e.leaf&&i.length-1!==n;){for(c=f=1/0,r=0,o=e.children.length;r<o;r++)l=h(s=e.children[r]),p=t,d=s,(u=(Math.max(d.maxX,p.maxX)-Math.min(d.minX,p.minX))*(Math.max(d.maxY,p.maxY)-Math.min(d.minY,p.minY))-l)<f?(f=u,c=l<c?l:c,a=s):u===f&&l<c&&(c=l,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),l(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=A(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,s(n,this.toBBox),s(a,this.toBBox),e?t[e-1].children.push(a):this._splitRoot(n,a)},_splitRoot:function(t,e){this.data=A([t,e]),this.data.height=t.height+1,this.data.leaf=!1,s(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,l,u,c,f,p,d,A,g,m,v;for(u=c=1/0,i=e;i<=n-e;i++)r=a(t,0,i,this.toBBox),o=a(t,i,n,this.toBBox),p=r,d=o,A=void 0,g=void 0,m=void 0,v=void 0,A=Math.max(p.minX,d.minX),g=Math.max(p.minY,d.minY),m=Math.min(p.maxX,d.maxX),v=Math.min(p.maxY,d.maxY),s=Math.max(0,m-A)*Math.max(0,v-g),l=h(r)+h(o),s<u?(u=s,f=i,c=l<c?l:c):s===u&&l<c&&(c=l,f=i);return f},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:u,r=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,u=a(t,0,e,s),c=a(t,n-e,n,s),h=f(u)+f(c);for(r=e;r<n-e;r++)o=t.children[r],l(u,t.leaf?s(o):o),h+=f(u);for(r=n-e-1;r>=e;r--)o=t.children[r],l(c,t.leaf?s(o):o),h+=f(c);return h},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)l(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children).splice(e.indexOf(t[n]),1):this.clear():s(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},function(t,e,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}i.prototype=n(190),i.prototype.loadAsync=n(223),i.support=n(80),i.defaults=n(158),i.version="3.2.0",i.loadAsync=function(t,e){return(new i).loadAsync(t,e)},i.external=n(109),t.exports=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return a}));var i=n(15),r=n(9);function o(t,e,n,o,s,a){var l=NaN,u=NaN,c=(n-e)/o;if(1===c)l=t[e],u=t[e+1];else if(2==c)l=(1-s)*t[e]+s*t[e+o],u=(1-s)*t[e+1]+s*t[e+o+1];else if(0!==c){for(var h=t[e],f=t[e+1],p=0,d=[0],A=e+o;A<n;A+=o){var g=t[A],m=t[A+1];p+=Math.sqrt((g-h)*(g-h)+(m-f)*(m-f)),d.push(p),h=g,f=m}var v=s*p,y=Object(i.a)(d,v);if(y<0){var _=(v-d[-y-2])/(d[-y-1]-d[-y-2]),b=e+(-y-2)*o;l=Object(r.c)(t[b],t[b+o],_),u=Object(r.c)(t[b+1],t[b+o+1],_)}else l=t[e+y*o],u=t[e+y*o+1]}return a?(a[0]=l,a[1]=u,a):[l,u]}function s(t,e,n,i,o,s){if(n==e)return null;var a;if(o<t[e+i-1])return s?((a=t.slice(e,e+i))[i-1]=o,a):null;if(t[n-1]<o)return s?((a=t.slice(n-i,n))[i-1]=o,a):null;if(o==t[e+i-1])return t.slice(e,e+i);for(var l=e/i,u=n/i;l<u;){var c=l+u>>1;o<t[(c+1)*i-1]?u=c:l=c+1}var h=t[l*i-1];if(o==h)return t.slice((l-1)*i,(l-1)*i+i);var f=(o-h)/(t[(l+1)*i-1]-h);a=[];for(var p=0;p<i-1;++p)a.push(Object(r.c)(t[(l-1)*i+p],t[l*i+p],f));return a.push(o),a}function a(t,e,n,i,r,o,a){if(a)return s(t,e,n[n.length-1],i,r,o);var l;if(r<t[i-1])return o?((l=t.slice(0,i))[i-1]=r,l):null;if(t[t.length-1]<r)return o?((l=t.slice(t.length-i))[i-1]=r,l):null;for(var u=0,c=n.length;u<c;++u){var h=n[u];if(e!=h){if(r<t[e+i-1])return null;if(r<=t[h-1])return s(t,e,h,i,r,!1);e=h}}return null}},function(t,e,n){"use strict";var i=1,r=2,o=4,s=5,a=484813681109536e-20,l=Math.PI/2,u=.16666666666666666,c=.04722222222222222,h=.022156084656084655,f=1e-10,p=.017453292519943295,d=57.29577951308232,A=Math.PI/4,g=2*Math.PI,m=3.14159265359,v={greenwich:0,lisbon:-9.131906111111,paris:2.337229166667,bogota:-74.080916666667,madrid:-3.687938888889,rome:12.452333333333,bern:7.439583333333,jakarta:106.807719444444,ferro:-17.666666666667,brussels:4.367975,stockholm:18.058277777778,athens:23.7163375,oslo:10.722916666667},y={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},_=/[\s_\-\/\(\)]/g;function b(t,e){if(t[e])return t[e];for(var n,i=Object.keys(t),r=e.toLowerCase().replace(_,""),o=-1;++o<i.length;)if((n=i[o]).toLowerCase().replace(_,"")===r)return t[n]}var w=function(t){var e,n,i,r={},o=t.split("+").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t}),{}),s={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*p},lat_1:function(t){r.lat1=t*p},lat_2:function(t){r.lat2=t*p},lat_ts:function(t){r.lat_ts=t*p},lon_0:function(t){r.long0=t*p},lon_1:function(t){r.long1=t*p},lon_2:function(t){r.long2=t*p},alpha:function(t){r.alpha=parseFloat(t)*p},lonc:function(t){r.longc=t*p},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map((function(t){return parseFloat(t)}))},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=b(y,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*p},pm:function(t){var e=b(v,t);r.from_greenwich=(e||parseFloat(t))*p},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(r.axis=t)}};for(e in o)n=o[e],e in s?"function"==typeof(i=s[e])?i(n):r[i]=n:r[e]=n;return"string"==typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r},E=function(t){return new M(t).output()},x=1,C=/\s/,B=/[A-Za-z]/,I=/[A-Za-z84]/,S=/[,\]]/,O=/[\d\.E\-\+]/;function M(t){if("string"!=typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=x}function T(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce((function(t,e){return N(e,t),t}),i);e&&(t[e]=r)}function N(t,e){if(Array.isArray(t)){var n,i=t.shift();if("PARAMETER"===i&&(i=t.shift()),1===t.length)return Array.isArray(t[0])?(e[i]={},void N(t[0],e[i])):void(e[i]=t[0]);if(t.length)if("TOWGS84"!==i)switch(Array.isArray(i)||(e[i]={}),i){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[i]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&N(t[2],e[i]));case"SPHEROID":case"ELLIPSOID":return e[i]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&N(t[3],e[i]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void T(e,i,t);default:for(n=-1;++n<t.length;)if(!Array.isArray(t[n]))return N(t,e[i]);return T(e,i,t)}else e[i]=t;else e[i]=!0}else e[t]=!0}M.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;C.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case x:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},M.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(S.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},M.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=x)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=x,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},M.prototype.number=function(t){if(!O.test(t)){if(S.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)}this.word+=t},M.prototype.quoted=function(t){'"'!==t?this.word+=t:this.state=5},M.prototype.keyword=function(t){if(I.test(t))this.word+=t;else{if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=x)}if(!S.test(t))throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place);this.afterItem(t)}},M.prototype.neutral=function(t){if(B.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(O.test(t))return this.word=t,void(this.state=3);if(!S.test(t))throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place);this.afterItem(t)},M.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var k=.017453292519943295;function L(t){return t*k}var F=function(t){var e=E(t),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return N(e,r),function(t){"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var e=t.GEOGCS;function n(e){return e*(t.to_meter||1)}"GEOGCS"===t.type&&(e=t),e&&(e.DATUM?t.datumCode=e.DATUM.name.toLowerCase():t.datumCode=e.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),e.DATUM&&e.DATUM.SPHEROID&&(t.ellps=e.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=e.DATUM.SPHEROID.a,t.rf=parseFloat(e.DATUM.SPHEROID.rf,10)),e.DATUM&&e.DATUM.TOWGS84&&(t.datum_params=e.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",L],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",L],["x0","false_easting",n],["y0","false_northing",n],["long0","central_meridian",L],["lat0","latitude_of_origin",L],["lat0","standard_parallel_1",L],["lat1","standard_parallel_1",L],["lat2","standard_parallel_2",L],["azimuth","Azimuth"],["alpha","azimuth",L],["srsCode","name"]].forEach((function(e){return n=t,r=(i=e)[0],o=i[1],void(!(r in n)&&o in n&&(n[r]=n[o],3===i.length&&(n[r]=i[2](n[r]))));var n,i,r,o})),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=L(t.lat1>0?90:-90),t.lat_ts=t.lat1)}(r),r};function R(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"==typeof n?"+"===n.charAt(0)?R[t]=w(arguments[1]):R[t]=F(arguments[1]):R[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map((function(t){Array.isArray(t)?R.apply(e,t):R(t)}));if("string"==typeof t){if(t in R)return R[t]}else"EPSG"in t?R["EPSG:"+t.EPSG]=t:"ESRI"in t?R["ESRI:"+t.ESRI]=t:"IAU2000"in t?R["IAU2000:"+t.IAU2000]=t:console.log(t);return}}!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(R);var D=R;var P=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"];var U=["3857","900913","3785","102113"];var Q=function(t){if(!function(t){return"string"==typeof t}(t))return t;if(function(t){return t in D}(t))return D[t];if(function(t){return P.some((function(e){return t.indexOf(e)>-1}))}(t)){var e=F(t);if(function(t){var e=b(t,"authority");if(e){var n=b(e,"epsg");return n&&U.indexOf(n)>-1}}(e))return D["EPSG:3857"];var n=function(t){var e=b(t,"extension");if(e)return b(e,"proj4")}(e);return n?w(n):e}return function(t){return"+"===t[0]}(t)?w(t):void 0},H=function(t,e){var n,i;if(t=t||{},!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t},j=function(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)},z=function(t){return t<0?-1:1},K=function(t){return Math.abs(t)<=m?t:t-z(t)*g},G=function(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(l-e))/i},q=function(t,e){for(var n,i,r=.5*t,o=l-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(o),o+=i=l-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-o,Math.abs(i)<=1e-10)return o;return-9999};function W(t){return t}var Y=[{init:function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=j(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},forward:function(t){var e,n,i=t.x,r=t.y;if(r*d>90&&r*d<-90&&i*d>180&&i*d<-180)return null;if(Math.abs(Math.abs(r)-l)<=f)return null;if(this.sphere)e=this.x0+this.a*this.k0*K(i-this.long0),n=this.y0+this.a*this.k0*Math.log(Math.tan(A+.5*r));else{var o=Math.sin(r),s=G(this.e,r,o);e=this.x0+this.a*this.k0*K(i-this.long0),n=this.y0-this.a*this.k0*Math.log(s)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=l-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(n=q(this.e,o)))return null}return e=K(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t},names:["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{init:function(){},forward:W,inverse:W,names:["longlat","identity"]}],X={},V=[];function J(t,e){var n=V.length;return t.names?(V[n]=t,t.names.forEach((function(t){X[t.toLowerCase()]=n})),this):(console.log(e),!0)}var Z={start:function(){Y.forEach(J)},add:J,get:function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==X[e]&&V[X[e]]?V[X[e]]:void 0}},$={MERIT:{a:6378137,rf:298.257,ellipseName:"MERIT 1983"},SGS85:{a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},GRS80:{a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},IAU76:{a:6378140,rf:298.257,ellipseName:"IAU 1976"},airy:{a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},APL4:{a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},NWL9D:{a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},mod_airy:{a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},andrae:{a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},aust_SA:{a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},GRS67:{a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},bessel:{a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},bess_nam:{a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},clrk66:{a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},clrk80:{a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},clrk58:{a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},CPM:{a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},delmbr:{a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},engelis:{a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},evrst30:{a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},evrst48:{a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},evrst56:{a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},evrst69:{a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},evrstSS:{a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},fschr60:{a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},fschr60m:{a:6378155,rf:298.3,ellipseName:"Fischer 1960"},fschr68:{a:6378150,rf:298.3,ellipseName:"Fischer 1968"},helmert:{a:6378200,rf:298.3,ellipseName:"Helmert 1906"},hough:{a:6378270,rf:297,ellipseName:"Hough"},intl:{a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},kaula:{a:6378163,rf:298.24,ellipseName:"Kaula 1961"},lerch:{a:6378139,rf:298.257,ellipseName:"Lerch 1979"},mprts:{a:6397300,rf:191,ellipseName:"Maupertius 1738"},new_intl:{a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},plessis:{a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},krass:{a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},SEasia:{a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},walbeck:{a:6376896,b:6355834.8467,ellipseName:"Walbeck"},WGS60:{a:6378165,rf:298.3,ellipseName:"WGS 60"},WGS66:{a:6378145,rf:298.25,ellipseName:"WGS 66"},WGS7:{a:6378135,rf:298.26,ellipseName:"WGS 72"}},tt=$.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};$.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var et={};et.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},et.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},et.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},et.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},et.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},et.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},et.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},et.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},et.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},et.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},et.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},et.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},et.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},et.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},et.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},et.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},et.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"};var nt=function(t,e,n,l,u,c){var h={};return h.datum_type=void 0===t||"none"===t?s:o,e&&(h.datum_params=e.map(parseFloat),0===h.datum_params[0]&&0===h.datum_params[1]&&0===h.datum_params[2]||(h.datum_type=i),h.datum_params.length>3&&(0===h.datum_params[3]&&0===h.datum_params[4]&&0===h.datum_params[5]&&0===h.datum_params[6]||(h.datum_type=r,h.datum_params[3]*=a,h.datum_params[4]*=a,h.datum_params[5]*=a,h.datum_params[6]=h.datum_params[6]/1e6+1))),h.a=n,h.b=l,h.es=u,h.ep2=c,h};function it(t,e){if(!(this instanceof it))return new it(t);e=e||function(t){if(t)throw t};var n=Q(t);if("object"==typeof n){var i=it.projections.get(n.projName);if(i){if(n.datumCode&&"none"!==n.datumCode){var r=b(et,n.datumCode);r&&(n.datum_params=r.towgs84?r.towgs84.split(","):null,n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o=function(t,e,n,i,r){if(!t){var o=b($,i);o||(o=tt),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<f)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}(n.a,n.b,n.rf,n.ellps,n.sphere),s=function(t,e,n,i){var r=t*t,o=e*e,s=(r-o)/r,a=0;return i?(r=(t*=1-s*(u+s*(c+s*h)))*t,s=0):a=Math.sqrt(s),{es:s,e:a,ep2:(r-o)/o}}(o.a,o.b,o.rf,n.R_A),a=n.datum||nt(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2);H(this,n),H(this,i),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=a,this.init(),e(null,this)}else e(t)}else e(t)}it.projections=Z,it.projections.start();var rt=it;function ot(t){return t===i||t===r}var st=function(t,e,n){return function(t,e){return t.datum_type===e.datum_type&&(!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===i?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==r||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]))}(t,e)?n:t.datum_type===s||e.datum_type===s?n:t.es!==e.es||t.a!==e.a||ot(t.datum_type)||ot(e.datum_type)?(n=function(t,e,n){var i,r,o,s,a=t.x,u=t.y,c=t.z?t.z:0;if(u<-l&&u>-1.001*l)u=-l;else if(u>l&&u<1.001*l)u=l;else{if(u<-l)return{x:-1/0,y:-1/0,z:t.z};if(u>l)return{x:1/0,y:1/0,z:t.z}}return a>Math.PI&&(a-=2*Math.PI),r=Math.sin(u),s=Math.cos(u),o=r*r,{x:((i=n/Math.sqrt(1-e*o))+c)*s*Math.cos(a),y:(i+c)*s*Math.sin(a),z:(i*(1-e)+c)*r}}(n,t.es,t.a),ot(t.datum_type)&&(n=function(t,e,n){if(e===i)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===r){var o=n[0],s=n[1],a=n[2],l=n[3],u=n[4],c=n[5],h=n[6];return{x:h*(t.x-c*t.y+u*t.z)+o,y:h*(c*t.x+t.y-l*t.z)+s,z:h*(-u*t.x+l*t.y+t.z)+a}}}(n,t.datum_type,t.datum_params)),ot(e.datum_type)&&(n=function(t,e,n){if(e===i)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===r){var o=n[0],s=n[1],a=n[2],l=n[3],u=n[4],c=n[5],h=n[6],f=(t.x-o)/h,p=(t.y-s)/h,d=(t.z-a)/h;return{x:f+c*p-u*d,y:-c*f+p+l*d,z:u*f-l*p+d}}}(n,e.datum_type,e.datum_params)),function(t,e,n,i){var r,o,s,a,u,c,h,f,p,d,A,g,m,v,y,_=t.x,b=t.y,w=t.z?t.z:0;if(r=Math.sqrt(_*_+b*b),o=Math.sqrt(_*_+b*b+w*w),r/n<1e-12){if(v=0,o/n<1e-12)return l,y=-i,{x:t.x,y:t.y,z:t.z}}else v=Math.atan2(b,_);s=w/o,f=(a=r/o)*(1-e)*(u=1/Math.sqrt(1-e*(2-e)*a*a)),p=s*u,m=0;do{m++,c=e*(h=n/Math.sqrt(1-e*p*p))/(h+(y=r*f+w*p-h*(1-e*p*p))),g=(A=s*(u=1/Math.sqrt(1-c*(2-c)*a*a)))*f-(d=a*(1-c)*u)*p,f=d,p=A}while(g*g>1e-24&&m<30);return{x:v,y:Math.atan(A/Math.abs(d)),z:y}}(n,e.es,e.a,e.b)):n},at=function(t,e,n){var i,r,o,s=n.x,a=n.y,l=n.z||0,u={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=s,r="x"):1===o?(i=a,r="y"):(i=l,r="z"),t.axis[o]){case"e":u[r]=i;break;case"w":u[r]=-i;break;case"n":u[r]=i;break;case"s":u[r]=-i;break;case"u":void 0!==n[r]&&(u.z=i);break;case"d":void 0!==n[r]&&(u.z=-i);break;default:return null}return u},lt=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e},ut=function(t){ct(t.x),ct(t.y)};function ct(t){if("function"==typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!=typeof t||t!=t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function ht(t,e,n){var o;return Array.isArray(n)&&(n=lt(n)),ut(n),t.datum&&e.datum&&function(t,e){return(t.datum.datum_type===i||t.datum.datum_type===r)&&"WGS84"!==e.datumCode||(e.datum.datum_type===i||e.datum.datum_type===r)&&"WGS84"!==t.datumCode}(t,e)&&(n=ht(t,o=new rt("WGS84"),n),t=o),"enu"!==t.axis&&(n=at(t,!1,n)),"longlat"===t.projName?n={x:n.x*p,y:n.y*p}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=st(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y}),"longlat"===e.projName?n={x:n.x*d,y:n.y*d}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter})),"enu"!==e.axis?at(e,!0,n):n}var ft=rt("WGS84");function pt(t,e,n){var i,r,o;return Array.isArray(n)?(i=ht(t,e,n),3===n.length?[i.x,i.y,i.z]:[i.x,i.y]):(r=ht(t,e,n),2===(o=Object.keys(n)).length?r:(o.forEach((function(t){"x"!==t&&"y"!==t&&(r[t]=n[t])})),r))}function dt(t){return t instanceof rt?t:t.oProj?t.oProj:rt(t)}var At=function(t,e,n){t=dt(t);var i,r=!1;return void 0===e?(e=t,t=ft,r=!0):(void 0!==e.x||Array.isArray(e))&&(n=e,e=t,t=ft,r=!0),e=dt(e),n?pt(t,e,n):(i={forward:function(n){return pt(t,e,n)},inverse:function(n){return pt(e,t,n)}},r&&(i.oProj=e),i)},gt=6,mt="AJSAJS",vt="AFAFAF",yt=65,_t=73,bt=79,wt=86,Et=90,xt={forward:Ct,inverse:function(t){var e=Ot(Nt(t.toUpperCase()));if(e.lat&&e.lon)return[e.lon,e.lat,e.lon,e.lat];return[e.left,e.bottom,e.right,e.top]},toPoint:Bt};function Ct(t,e){return e=e||5,function(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+(p=t.easting,d=t.northing,A=t.zoneNumber,g=Tt(A),m=Math.floor(p/1e5),v=Math.floor(d/1e5)%20,r=m,o=v,s=g,a=s-1,l=mt.charCodeAt(a),u=vt.charCodeAt(a),c=l+r-1,h=u+o,f=!1,c>Et&&(c=c-Et+yt-1,f=!0),(c===_t||l<_t&&c>_t||(c>_t||l<_t)&&f)&&c++,(c===bt||l<bt&&c>bt||(c>bt||l<bt)&&f)&&++c===_t&&c++,c>Et&&(c=c-Et+yt-1),h>wt?(h=h-wt+yt-1,f=!0):f=!1,(h===_t||u<_t&&h>_t||(h>_t||u<_t)&&f)&&h++,(h===bt||u<bt&&h>bt||(h>bt||u<bt)&&f)&&++h===_t&&h++,h>wt&&(h=h-wt+yt-1),String.fromCharCode(c)+String.fromCharCode(h))+n.substr(n.length-5,e)+i.substr(i.length-5,e);var r,o,s,a,l,u,c,h,f;var p,d,A,g,m,v}(function(t){var e,n,i,r,o,s,a,l=t.lat,u=t.lon,c=6378137,h=It(l),f=It(u);a=Math.floor((u+180)/6)+1,180===u&&(a=60);l>=56&&l<64&&u>=3&&u<12&&(a=32);l>=72&&l<84&&(u>=0&&u<9?a=31:u>=9&&u<21?a=33:u>=21&&u<33?a=35:u>=33&&u<42&&(a=37));s=It(6*(a-1)-180+3),.006739496752268451,e=c/Math.sqrt(1-.00669438*Math.sin(h)*Math.sin(h)),n=Math.tan(h)*Math.tan(h),i=.006739496752268451*Math.cos(h)*Math.cos(h),r=Math.cos(h)*(f-s),o=c*(.9983242984503243*h-.002514607064228144*Math.sin(2*h)+2639046602129982e-21*Math.sin(4*h)-3.418046101696858e-9*Math.sin(6*h));var p=.9996*e*(r+(1-n+i)*r*r*r/6+(5-18*n+n*n+72*i-.39089081163157013)*r*r*r*r*r/120)+5e5,d=.9996*(o+e*Math.tan(h)*(r*r/2+(5-n+9*i+4*i*i)*r*r*r*r/24+(61-58*n+n*n+600*i-2.2240339282485886)*r*r*r*r*r*r/720));l<0&&(d+=1e7);return{northing:Math.round(d),easting:Math.round(p),zoneNumber:a,zoneLetter:Mt(l)}}({lat:t[1],lon:t[0]}),e)}function Bt(t){var e=Ot(Nt(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function It(t){return t*(Math.PI/180)}function St(t){return t/Math.PI*180}function Ot(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,s,a,l,u,c,h,f,p=6378137,d=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),A=n-5e5,g=e;i<"N"&&(g-=1e7),c=6*(r-1)-180+3,f=(h=g/.9996/6367449.145945056)+(3*d/2-27*d*d*d/32)*Math.sin(2*h)+(21*d*d/16-55*d*d*d*d/32)*Math.sin(4*h)+151*d*d*d/96*Math.sin(6*h),o=p/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),s=Math.tan(f)*Math.tan(f),a=.006739496752268451*Math.cos(f)*Math.cos(f),l=.99330562*p/Math.pow(1-.00669438*Math.sin(f)*Math.sin(f),1.5),u=A/(.9996*o);var m=f-o*Math.tan(f)/l*(u*u/2-(5+3*s+10*a-4*a*a-.06065547077041606)*u*u*u*u/24+(61+90*s+298*a+45*s*s-1.6983531815716497-3*a*a)*u*u*u*u*u*u/720);m=St(m);var v,y=(u-(1+2*s+a)*u*u*u/6+(5-2*a+28*s-3*a*a+.05391597401814761+24*s*s)*u*u*u*u*u/120)/Math.cos(f);if(y=c+St(y),t.accuracy){var _=Ot({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});v={top:_.lat,right:_.lon,bottom:m,left:y}}else v={lat:m,lon:y};return v}function Mt(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function Tt(t){var e=t%gt;return 0===e&&(e=gt),e}function Nt(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;i=t.substring(o,o+=2);for(var l=Tt(s),u=function(t,e){var n=mt.charCodeAt(e-1),i=1e5,r=!1;for(;n!==t.charCodeAt(0);){if(++n===_t&&n++,n===bt&&n++,n>Et){if(r)throw"Bad character: "+t;n=yt,r=!0}i+=1e5}return i}(i.charAt(0),l),c=function(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;var n=vt.charCodeAt(e-1),i=0,r=!1;for(;n!==t.charCodeAt(0);){if(++n===_t&&n++,n===bt&&n++,n>wt){if(r)throw"Bad character: "+t;n=yt,r=!0}i+=1e5}return i}(i.charAt(1),l);c<kt(a);)c+=2e6;var h=n-o;if(h%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var f,p,d,A=h/2,g=0,m=0;return A>0&&(f=1e5/Math.pow(10,A),p=t.substring(o,o+A),g=parseFloat(p)*f,d=t.substring(o+A),m=parseFloat(d)*f),{easting:g+u,northing:m+c,zoneLetter:a,zoneNumber:s,accuracy:f}}function kt(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Lt(t,e,n){if(!(this instanceof Lt))return new Lt(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}Lt.fromMGRS=function(t){return new Lt(Bt(t))},Lt.prototype.toMGRS=function(t){return Ct([this.x,this.y],t)};var Ft=Lt,Rt=n(174),Dt=.01068115234375,Pt=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*Dt))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*Dt)));var n=t*t;return e[2]=n*(.46875-t*(.013020833333333334+.007120768229166667*t)),n*=t,e[3]=n*(.3645833333333333-.005696614583333333*t),e[4]=n*t*.3076171875,e},Ut=function(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))},Qt=function(t,e,n){for(var i=1/(1-e),r=t,o=20;o;--o){var s=Math.sin(r),a=1-e*s*s;if(r-=a=(Ut(r,s,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,Math.abs(a)<f)return r}return r};var Ht={init:function(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Pt(this.es),this.ml0=Ut(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))},forward:function(t){var e,n,i,r=t.x,o=t.y,s=K(r-this.long0),a=Math.sin(o),l=Math.cos(o);if(this.es){var u=l*s,c=Math.pow(u,2),h=this.ep2*Math.pow(l,2),p=Math.pow(h,2),d=Math.abs(l)>f?Math.tan(o):0,A=Math.pow(d,2),g=Math.pow(A,2);e=1-this.es*Math.pow(a,2),u/=Math.sqrt(e);var m=Ut(o,a,l,this.en);n=this.a*(this.k0*u*(1+c/6*(1-A+h+c/20*(5-18*A+g+14*h-58*A*h+c/42*(61+179*g-g*A-479*A)))))+this.x0,i=this.a*(this.k0*(m-this.ml0+a*s*u/2*(1+c/12*(5-A+9*h+4*p+c/30*(61+g-58*A+270*h-330*A*h+c/56*(1385+543*g-g*A-3111*A))))))+this.y0}else{var v=l*Math.sin(s);if(Math.abs(Math.abs(v)-1)<f)return 93;if(n=.5*this.a*this.k0*Math.log((1+v)/(1-v))+this.x0,i=l*Math.cos(s)/Math.sqrt(1-Math.pow(v,2)),(v=Math.abs(i))>=1){if(v-1>f)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t},inverse:function(t){var e,n,i,r,o=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,n=Qt(e,this.es,this.en),Math.abs(n)<l){var a=Math.sin(n),u=Math.cos(n),c=Math.abs(u)>f?Math.tan(n):0,h=this.ep2*Math.pow(u,2),p=Math.pow(h,2),d=Math.pow(c,2),A=Math.pow(d,2);e=1-this.es*Math.pow(a,2);var g=o*Math.sqrt(e)/this.k0,m=Math.pow(g,2);i=n-(e*=c)*m/(1-this.es)*.5*(1-m/12*(5+3*d-9*h*d+h-4*p-m/30*(61+90*d-252*h*d+45*A+46*h-m/56*(1385+3633*d+4095*A+1574*A*d)))),r=K(this.long0+g*(1-m/6*(1+2*d+h-m/20*(5+28*d+24*A+8*h*d+6*h-m/42*(61+662*d+1320*A+720*A*d))))/u)}else i=l*z(s),r=0;else{var v=Math.exp(o/this.k0),y=.5*(v-1/v),_=this.lat0+s/this.k0,b=Math.cos(_);e=Math.sqrt((1-Math.pow(b,2))/(1+Math.pow(y,2))),i=Math.asin(e),s<0&&(i=-i),r=0===y&&0===b?0:K(Math.atan2(y,b)+this.long0)}return t.x=r,t.y=i,t},names:["Transverse_Mercator","Transverse Mercator","tmerc"]},jt=function(t){var e=Math.exp(t);return e=(e-1/e)/2},zt=function(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))},Kt=function(t){var e=Math.abs(t);return e=function(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}(e*(1+e/(zt(1,e)+1))),t<0?-e:e},Gt=function(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return e+n*Math.sin(2*e)},qt=function(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return Math.sin(e)*n},Wt=function(t,e,n){for(var i,r,o=Math.sin(e),s=Math.cos(e),a=jt(n),l=function(t){var e=Math.exp(t);return e=(e+1/e)/2}(n),u=2*s*l,c=-2*o*a,h=t.length-1,f=t[h],p=0,d=0,A=0;--h>=0;)i=d,r=p,f=u*(d=f)-i-c*(p=A)+t[h],A=c*d-r+u*p;return[(u=o*l)*f-(c=s*a)*A,u*A+c*f]};var Yt={init:function(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var i=Gt(this.cbg,this.lat0);this.Zb=-this.Qn*(i+qt(this.gtu,2*i))},forward:function(t){var e=K(t.x-this.long0),n=t.y;n=Gt(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(i,s*r),e=Math.atan2(o*r,zt(i,r*s)),e=Kt(Math.tan(e));var a,l,u=Wt(this.gtu,2*n,2*e);return n+=u[0],e+=u[1],Math.abs(e)<=2.623395162778?(a=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(a=1/0,l=1/0),t.x=a,t.y=l,t},inverse:function(t){var e,n,i=(t.x-this.x0)*(1/this.a),r=(t.y-this.y0)*(1/this.a);if(r=(r-this.Zb)/this.Qn,i/=this.Qn,Math.abs(i)<=2.623395162778){var o=Wt(this.utg,2*r,2*i);r+=o[0],i+=o[1],i=Math.atan(jt(i));var s=Math.sin(r),a=Math.cos(r),l=Math.sin(i),u=Math.cos(i);r=Math.atan2(s*u,zt(l,u*a)),i=Math.atan2(l,u*a),e=K(i+this.long0),n=Gt(this.cgb,r)}else e=1/0,n=1/0;return t.x=e,t.y=n,t},names:["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"]},Xt=function(t,e){if(void 0===t){if((t=Math.floor(30*(K(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t};var Vt={init:function(){var t=Xt(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*p,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,Yt.init.apply(this),this.forward=Yt.forward,this.inverse=Yt.inverse},names:["Universal Transverse Mercator System","utm"],dependsOn:"etmerc"},Jt=function(t,e){return Math.pow((1-t)/(1+t),e)},Zt=20;var $t={init:function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+A)/(Math.pow(Math.tan(.5*this.lat0+A),this.C)*Jt(this.e*t,this.ratexp))},forward:function(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+A),this.C)*Jt(this.e*Math.sin(n),this.ratexp))-l,t.x=this.C*e,t},inverse:function(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+A)/this.K,1/this.C),r=Zt;r>0&&(n=2*Math.atan(i*Jt(this.e*Math.sin(t.y),-.5*this.e))-l,!(Math.abs(n-t.y)<1e-14));--r)t.y=n;return r?(t.x=e,t.y=n,t):null},names:["gauss"]};var te={init:function(){$t.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},forward:function(t){var e,n,i,r;return t.x=K(t.x-this.long0),$t.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},inverse:function(t){var e,n,i,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,$t.inverse.apply(this,[t]),t.x=K(t.x+this.long0),t},names:["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"]};var ee={init:function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=f&&(this.k0=.5*(1+z(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=f&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=f&&(this.k0=.5*this.cons*j(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/G(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=j(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-l,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},forward:function(t){var e,n,i,r,o,s,a=t.x,u=t.y,c=Math.sin(u),h=Math.cos(u),p=K(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=f&&Math.abs(u+this.lat0)<=f?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*c+this.coslat0*h*Math.cos(p)),t.x=this.a*e*h*Math.sin(p)+this.x0,t.y=this.a*e*(this.coslat0*c-this.sinlat0*h*Math.cos(p))+this.y0,t):(n=2*Math.atan(this.ssfn_(u,c,this.e))-l,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=f?(o=G(this.e,u*this.con,this.con*c),s=2*this.a*this.k0*o/this.cons,t.x=this.x0+s*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<f?(e=2*this.a*this.k0/(1+r*Math.cos(p)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(p))),t.y=e*(this.cosX0*i-this.sinX0*r*Math.cos(p))+this.y0),t.x=e*r*Math.sin(p)+this.x0,t))},inverse:function(t){var e,n,i,r,o;t.x-=this.x0,t.y-=this.y0;var s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,n=this.lat0,s<=f?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/s),e=Math.abs(this.coslat0)<f?this.lat0>0?K(this.long0+Math.atan2(t.x,-1*t.y)):K(this.long0+Math.atan2(t.x,t.y)):K(this.long0+Math.atan2(t.x*Math.sin(a),s*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=f){if(s<=f)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=s*this.cons/(2*this.a*this.k0),n=this.con*q(this.e,i),e=this.con*K(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=f?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/s),e=K(this.long0+Math.atan2(t.x*Math.sin(r),s*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*q(this.e,Math.tan(.5*(l+o)));return t.x=e,t.y=n,t},names:["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],ssfn_:function(t,e,n){return e*=n,Math.tan(.5*(l+t))*Math.pow((1-e)/(1+e),.5*n)}};var ne={init:function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=1/this.rf,r=2*i-Math.pow(i,2),o=this.e=Math.sqrt(r);this.R=this.k0*n*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*l},forward:function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},inverse:function(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+s/this.alpha,l=0,u=o,c=-1e3,h=0;Math.abs(u-c)>1e-7;){if(++h>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),c=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=u,t},names:["somerc"]};var ie={init:function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var i,r,o=G(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));if(s*s<1&&(s=1),isNaN(this.longc)){var a=G(this.e,this.lat1,Math.sin(this.lat1)),l=G(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(s+Math.sqrt(s*s-1))*Math.pow(o,this.bl):this.el=(s-Math.sqrt(s*s-1))*Math.pow(o,this.bl);var u=Math.pow(a,this.bl),c=Math.pow(l,this.bl);r=.5*((i=this.el/u)-1/i);var h=(this.el*this.el-c*u)/(this.el*this.el+c*u),f=(c-u)/(c+u),p=K(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*p)/f)/this.bl,this.long0=K(this.long0);var d=K(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/r),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else i=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=i*Math.pow(o,this.bl),r=.5*(i-1/i),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(r*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},forward:function(t){var e,n,i,r=t.x,o=t.y,s=K(r-this.long0);if(Math.abs(Math.abs(o)-l)<=f)i=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(A+i*this.gamma0*.5)),e=-1*i*l*this.al/this.bl;else{var a=G(this.e,o,Math.sin(o)),u=this.el/Math.pow(a,this.bl),c=.5*(u-1/u),h=.5*(u+1/u),p=Math.sin(this.bl*s),d=(c*Math.sin(this.gamma0)-p*Math.cos(this.gamma0))/h;n=Math.abs(Math.abs(d)-1)<=f?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-d)/(1+d))/this.bl,e=Math.abs(Math.cos(this.bl*s))<=f?this.al*this.bl*s:this.al*Math.atan2(c*Math.cos(this.gamma0)+p*Math.sin(this.gamma0),Math.cos(this.bl*s))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t},inverse:function(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),r=.5*(i-1/i),o=.5*(i+1/i),s=Math.sin(this.bl*e/this.al),a=(s*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/o,u=Math.pow(this.el/Math.sqrt((1+a)/(1-a)),1/this.bl);return Math.abs(a-1)<f?(t.x=this.long0,t.y=l):Math.abs(a+1)<f?(t.x=this.long0,t.y=-1*l):(t.y=q(this.e,u),t.x=K(this.long0-Math.atan2(r*Math.cos(this.gamma0)-s*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},names:["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]};var re={init:function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<f)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=j(this.e,e,n),r=G(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=j(this.e,o,s),l=G(this.e,this.lat2,o),u=G(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>f?this.ns=Math.log(i/a)/Math.log(r/l):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(u,this.ns),this.title||(this.title="Lambert Conformal Conic")}},forward:function(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=f&&(n=z(n)*(l-2*f));var i,r,o=Math.abs(Math.abs(n)-l);if(o>f)i=G(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if((o=n*this.ns)<=0)return null;r=0}var s=this.ns*K(e-this.long0);return t.x=this.k0*(r*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(s))+this.y0,t},inverse:function(t){var e,n,i,r,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),n=1):(e=-Math.sqrt(s*s+a*a),n=-1);var u=0;if(0!==e&&(u=Math.atan2(n*s,n*a)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(r=q(this.e,i)))return null}else r=-l;return o=K(u/this.ns+this.long0),t.x=o,t.y=r,t},names:["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]};var oe={init:function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},forward:function(t){var e,n,i,r,o,s,a,l=t.x,u=t.y,c=K(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),i=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t},inverse:function(t){var e,n,i,r,o,s,a,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,s=e,a=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,u+=1}while(0===a&&u<15);return u>=15?null:t},names:["Krovak","krovak"]},se=function(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)},ae=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))},le=function(t){return.375*t*(1+.25*t*(1+.46875*t))},ue=function(t){return.05859375*t*t*(1+.75*t)},ce=function(t){return t*t*t*(35/3072)},he=function(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)},fe=function(t){return Math.abs(t)<l?t:t-z(t)*Math.PI},pe=function(t,e,n,i,r){var o,s;o=t/e;for(var a=0;a<15;a++)if(o+=s=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),Math.abs(s)<=1e-10)return o;return NaN};var de={init:function(){this.sphere||(this.e0=ae(this.es),this.e1=le(this.es),this.e2=ue(this.es),this.e3=ce(this.es),this.ml0=this.a*se(this.e0,this.e1,this.e2,this.e3,this.lat0))},forward:function(t){var e,n,i=t.x,r=t.y;if(i=K(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),s=Math.cos(r),a=he(this.a,this.e,o),l=Math.tan(r)*Math.tan(r),u=i*Math.cos(r),c=u*u,h=this.es*s*s/(1-this.es);e=a*u*(1-c*l*(1/6-(8-l+8*h)*c/120)),n=this.a*se(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+a*o/s*c*(.5+(5-l+6*h)*c/24)}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var s=this.ml0/this.a+r,a=pe(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-l)<=f)return t.x=this.long0,t.y=l,r<0&&(t.y*=-1),t;var u=he(this.a,this.e,Math.sin(a)),c=u*u*u/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(a),2),p=i*this.a/u,d=p*p;e=a-u*Math.tan(a)/c*p*p*(.5-(1+3*h)*p*p/24),n=p*(1-d*(h/3+(1+3*h)*h*d/15))/Math.cos(a)}return t.x=K(n+this.long0),t.y=fe(e),t},names:["Cassini","Cassini_Soldner","cass"]},Ae=function(t,e){var n;return t>1e-7?(1-t*t)*(e/(1-(n=t*e)*n)-.5/t*Math.log((1-n)/(1+n))):2*e};var ge=.3333333333333333,me=.17222222222222222,ve=.10257936507936508,ye=.06388888888888888,_e=.0664021164021164,be=.016415012942191543;var we={init:function(){var t,e=Math.abs(this.lat0);if(Math.abs(e-l)<f?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(e)<f?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0)switch(this.qp=Ae(this.e,1),this.mmf=.5/(1-this.es),this.apa=function(t){var e,n=[];return n[0]=t*ge,e=t*t,n[0]+=e*me,n[1]=e*ye,e*=t,n[0]+=e*ve,n[1]+=e*_e,n[2]=e*be,n}(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),t=Math.sin(this.lat0),this.sinb1=Ae(this.e,t)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},forward:function(t){var e,n,i,r,o,s,a,u,c,h,p=t.x,d=t.y;if(p=K(p-this.long0),this.sphere){if(o=Math.sin(d),h=Math.cos(d),i=Math.cos(p),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+h*i:1+this.sinph0*o+this.cosph0*h*i)<=f)return null;e=(n=Math.sqrt(2/n))*h*Math.sin(p),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*h*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(d+this.phi0)<f)return null;n=A-.5*d,e=(n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)))*Math.sin(p),n*=i}}else{switch(a=0,u=0,c=0,i=Math.cos(p),r=Math.sin(p),o=Math.sin(d),s=Ae(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,u=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:c=1+this.sinb1*a+this.cosb1*u*i;break;case this.EQUIT:c=1+u*i;break;case this.N_POLE:c=l+d,s=this.qp-s;break;case this.S_POLE:c=d-l,s=this.qp+s}if(Math.abs(c)<f)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:c=Math.sqrt(2/c),n=this.mode===this.OBLIQ?this.ymf*c*(this.cosb1*a-this.sinb1*u*i):(c=Math.sqrt(2/(1+u*i)))*a*this.ymf,e=this.xmf*c*u*r;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(c=Math.sqrt(s))*r,n=i*(this.mode===this.S_POLE?c:-c)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,s,a,u,c,h,p=t.x/this.a,d=t.y/this.a;if(this.sphere){var A,g=0,m=0;if((n=.5*(A=Math.sqrt(p*p+d*d)))>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(m=Math.sin(n),g=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(A)<=f?0:Math.asin(d*m/A),p*=m,d=g*A;break;case this.OBLIQ:n=Math.abs(A)<=f?this.phi0:Math.asin(g*this.sinph0+d*m*this.cosph0/A),p*=m*this.cosph0,d=(g-Math.sin(n)*this.sinph0)*A;break;case this.N_POLE:d=-d,n=l-n;break;case this.S_POLE:n-=l}e=0!==d||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(p,d):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(p/=this.dd,d*=this.dd,(s=Math.sqrt(p*p+d*d))<f)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*s/this.rq),i=Math.cos(r),p*=r=Math.sin(r),this.mode===this.OBLIQ?(a=i*this.sinb1+d*r*this.cosb1/s,o=this.qp*a,d=s*this.cosb1*i-d*this.sinb1*r):(a=d*r/s,o=this.qp*a,d=s*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(d=-d),!(o=p*p+d*d))return t.x=0,t.y=this.phi0,t;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(p,d),u=Math.asin(a),c=this.apa,h=u+u,n=u+c[0]*Math.sin(h)+c[1]*Math.sin(h+h)+c[2]*Math.sin(h+h+h)}return t.x=K(this.long0+e),t.y=n,t},names:["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},Ee=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)};var xe={init:function(){Math.abs(this.lat1+this.lat2)<f||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=j(this.e3,this.sin_po,this.cos_po),this.qs1=Ae(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=j(this.e3,this.sin_po,this.cos_po),this.qs2=Ae(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Ae(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>f?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},forward:function(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=Ae(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*K(e-this.long0),s=r*Math.sin(o)+this.x0,a=this.rh-r*Math.cos(o)+this.y0;return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,0!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,n)),o=K(r/this.ns0+this.long0),t.x=o,t.y=s,t},names:["Albers_Conic_Equal_Area","Albers","aea"],phi1z:function(t,e){var n,i,r,o,s=Ee(.5*e);if(t<f)return s;for(var a=t*t,l=1;l<=25;l++)if(s+=o=.5*(r=1-(i=t*(n=Math.sin(s)))*i)*r/Math.cos(s)*(e/(1-a)-n/r+.5/t*Math.log((1-i)/(1+i))),Math.abs(o)<=1e-7)return s;return null}};var Ce={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},forward:function(t){var e,n,i,r,o,s,a,l=t.x,u=t.y;return i=K(l-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),1,(o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=f?(s=this.x0+1*this.a*n*Math.sin(i)/o,a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)/o):(s=this.x0+this.infinity_dist*n*Math.sin(i),a=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),s=Ee(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),o=K(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t},names:["gnom"]},Be=function(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*l:l;for(var i,r,o,s,a=Math.asin(.5*e),u=0;u<30;u++)if(r=Math.sin(a),o=Math.cos(a),s=t*r,a+=i=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-r/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),Math.abs(i)<=1e-10)return a;return NaN};var Ie={init:function(){this.sphere||(this.k0=j(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},forward:function(t){var e,n,i=t.x,r=t.y,o=K(i-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=Ae(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t},inverse:function(t){var e,n;return t.x-=this.x0,t.y-=this.y0,this.sphere?(e=K(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=Be(this.e,2*t.y*this.k0/this.a),e=K(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t},names:["cea"]};var Se={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},forward:function(t){var e=t.x,n=t.y,i=K(e-this.long0),r=fe(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t},inverse:function(t){var e=t.x,n=t.y;return t.x=K(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=fe(this.lat0+(n-this.y0)/this.a),t},names:["Equirectangular","Equidistant_Cylindrical","eqc"]},Oe=20;var Me={init:function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ae(this.es),this.e1=le(this.es),this.e2=ue(this.es),this.e3=ce(this.es),this.ml0=this.a*se(this.e0,this.e1,this.e2,this.e3,this.lat0)},forward:function(t){var e,n,i,r=t.x,o=t.y,s=K(r-this.long0);if(i=s*Math.sin(o),this.sphere)Math.abs(o)<=f?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),n=this.a*(fe(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=f)e=this.a*s,n=-1*this.ml0;else{var a=he(this.a,this.e,Math.sin(o))/Math.tan(o);e=a*Math.sin(i),n=this.a*se(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t},inverse:function(t){var e,n,i,r,o,s,a,l,u;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=f)e=K(i/this.a+this.long0),n=0;else{var c;for(s=this.lat0+r/this.a,a=i*i/this.a/this.a+s*s,l=s,o=Oe;o;--o)if(l+=u=-1*(s*(l*(c=Math.tan(l))+1)-l-.5*(l*l+a)*c)/((l-s)/c-1),Math.abs(u)<=f){n=l;break}e=K(this.long0+Math.asin(i*Math.tan(l)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=f)n=0,e=K(this.long0+i/this.a);else{var h,p,d,A,g;for(s=(this.ml0+r)/this.a,a=i*i/this.a/this.a+s*s,l=s,o=Oe;o;--o)if(g=this.e*Math.sin(l),h=Math.sqrt(1-g*g)*Math.tan(l),p=this.a*se(this.e0,this.e1,this.e2,this.e3,l),d=this.e0-2*this.e1*Math.cos(2*l)+4*this.e2*Math.cos(4*l)-6*this.e3*Math.cos(6*l),l-=u=(s*(h*(A=p/this.a)+1)-A-.5*h*(A*A+a))/(this.es*Math.sin(2*l)*(A*A+a-2*s*A)/(4*h)+(s-A)*(h*d-2/Math.sin(2*l))-d),Math.abs(u)<=f){n=l;break}h=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=K(this.long0+Math.asin(i*h/this.a)/Math.sin(n))}return t.x=e,t.y=n,t},names:["Polyconic","poly"]};var Te={init:function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},forward:function(t){var e,n=t.x,i=t.y-this.lat0,r=n-this.long0,o=i/a*1e-5,s=r,l=1,u=0;for(e=1;e<=10;e++)l*=o,u+=this.A[e]*l;var c,h=u,f=s,p=1,d=0,A=0,g=0;for(e=1;e<=6;e++)c=d*h+p*f,p=p*h-d*f,d=c,A=A+this.B_re[e]*p-this.B_im[e]*d,g=g+this.B_im[e]*p+this.B_re[e]*d;return t.x=g*this.a+this.x0,t.y=A*this.a+this.y0,t},inverse:function(t){var e,n,i=t.x,r=t.y,o=i-this.x0,s=(r-this.y0)/this.a,l=o/this.a,u=1,c=0,h=0,f=0;for(e=1;e<=6;e++)n=c*s+u*l,u=u*s-c*l,c=n,h=h+this.C_re[e]*u-this.C_im[e]*c,f=f+this.C_im[e]*u+this.C_re[e]*c;for(var p=0;p<this.iterations;p++){var d,A=h,g=f,m=s,v=l;for(e=2;e<=6;e++)d=g*h+A*f,A=A*h-g*f,g=d,m+=(e-1)*(this.B_re[e]*A-this.B_im[e]*g),v+=(e-1)*(this.B_im[e]*A+this.B_re[e]*g);A=1,g=0;var y=this.B_re[1],_=this.B_im[1];for(e=2;e<=6;e++)d=g*h+A*f,A=A*h-g*f,g=d,y+=e*(this.B_re[e]*A-this.B_im[e]*g),_+=e*(this.B_im[e]*A+this.B_re[e]*g);var b=y*y+_*_;h=(m*y+v*_)/b,f=(v*y-m*_)/b}var w=h,E=f,x=1,C=0;for(e=1;e<=9;e++)x*=w,C+=this.D[e]*x;var B=this.lat0+C*a*1e5,I=this.long0+E;return t.x=I,t.y=B,t},names:["New_Zealand_Map_Grid","nzmg"]};var Ne={init:function(){},forward:function(t){var e=t.x,n=t.y,i=K(e-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=o,t},inverse:function(t){t.x-=this.x0,t.y-=this.y0;var e=K(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t},names:["Miller_Cylindrical","mill"]},ke=20;var Le={init:function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Pt(this.es)},forward:function(t){var e,n,i=t.x,r=t.y;if(i=K(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),s=ke;s;--s){var a=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<f)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var l=Math.sin(r),u=Math.cos(r);n=this.a*Ut(r,l,u,this.en),e=this.a*i*u/Math.sqrt(1-this.es*l*l)}return t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=Ee((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Ee(Math.sin(e)/this.n)),i=K(i+this.long0),e=fe(e)):(e=Qt(t.y/this.a,this.es,this.en),(r=Math.abs(e))<l?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=K(n)):r-f<l&&(i=this.long0)),t.x=i,t.y=e,t},names:["Sinusoidal","sinu"]};var Fe={init:function(){},forward:function(t){for(var e=t.x,n=t.y,i=K(e-this.long0),r=n,o=Math.PI*Math.sin(n);;){var s=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=s,Math.abs(s)<f)break}r/=2,Math.PI/2-Math.abs(n)<f&&(i=0);var a=.900316316158*this.a*i*Math.cos(r)+this.x0,l=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=l,t},inverse:function(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=K(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t},names:["Mollweide","moll"]};var Re={init:function(){Math.abs(this.lat1+this.lat2)<f||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=ae(this.es),this.e1=le(this.es),this.e2=ue(this.es),this.e3=ce(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=j(this.e,this.sinphi,this.cosphi),this.ml1=se(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<f?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=j(this.e,this.sinphi,this.cosphi),this.ml2=se(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=se(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},forward:function(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=se(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*K(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r;t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=K(this.long0+o/this.ns),i=fe(this.g-n/this.a),t.x=r,t.y=i,t;var s=this.g-n/this.a;return i=pe(s,this.e0,this.e1,this.e2,this.e3),r=K(this.long0+o/this.ns),t.x=r,t.y=i,t},names:["Equidistant_Conic","eqdc"]};var De={init:function(){this.R=this.a},forward:function(t){var e,n,i=t.x,r=t.y,o=K(i-this.long0);Math.abs(r)<=f&&(e=this.x0+this.R*o,n=this.y0);var s=Ee(2*Math.abs(r/Math.PI));(Math.abs(o)<=f||Math.abs(Math.abs(r)-l)<=f)&&(e=this.x0,n=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/o-o/Math.PI),u=a*a,c=Math.sin(s),h=Math.cos(s),p=h/(c+h-1),d=p*p,A=p*(2/c-1),g=A*A,m=Math.PI*this.R*(a*(p-g)+Math.sqrt(u*(p-g)*(p-g)-(g+u)*(d-g)))/(g+u);o<0&&(m=-m),e=this.x0+m;var v=u+p;return m=Math.PI*this.R*(A*v-a*Math.sqrt((g+u)*(u+1)-v*v))/(g+u),n=r>=0?this.y0+m:this.y0-m,t.x=e,t.y=n,t},inverse:function(t){var e,n,i,r,o,s,a,l,u,c,h,p;return t.x-=this.x0,t.y-=this.y0,h=Math.PI*this.R,o=(i=t.x/h)*i+(r=t.y/h)*r,h=3*(r*r/(l=-2*(s=-Math.abs(r)*(1+o))+1+2*r*r+o*o)+(2*(a=s-2*r*r+i*i)*a*a/l/l/l-9*s*a/l/l)/27)/(u=(s-a*a/3/l)/l)/(c=2*Math.sqrt(-u/3)),Math.abs(h)>1&&(h=h>=0?1:-1),p=Math.acos(h)/3,n=t.y>=0?(-c*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI:-(-c*Math.cos(p+Math.PI/3)-a/3/l)*Math.PI,e=Math.abs(i)<f?this.long0:K(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),t.x=e,t.y=n,t},names:["Van_der_Grinten_I","VanDerGrinten","vandg"]};var Pe={init:function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,s,a,u,c,h,p,d,A,g,m,v,y,_,b,w,E,x,C=t.x,B=t.y,I=Math.sin(t.y),S=Math.cos(t.y),O=K(C-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=f?(t.x=this.x0+this.a*(l-B)*Math.sin(O),t.y=this.y0-this.a*(l-B)*Math.cos(O),t):Math.abs(this.sin_p12+1)<=f?(t.x=this.x0+this.a*(l+B)*Math.sin(O),t.y=this.y0+this.a*(l+B)*Math.cos(O),t):(_=this.sin_p12*I+this.cos_p12*S*Math.cos(O),y=(v=Math.acos(_))/Math.sin(v),t.x=this.x0+this.a*y*S*Math.sin(O),t.y=this.y0+this.a*y*(this.cos_p12*I-this.sin_p12*S*Math.cos(O)),t):(e=ae(this.es),n=le(this.es),i=ue(this.es),r=ce(this.es),Math.abs(this.sin_p12-1)<=f?(o=this.a*se(e,n,i,r,l),s=this.a*se(e,n,i,r,B),t.x=this.x0+(o-s)*Math.sin(O),t.y=this.y0-(o-s)*Math.cos(O),t):Math.abs(this.sin_p12+1)<=f?(o=this.a*se(e,n,i,r,l),s=this.a*se(e,n,i,r,B),t.x=this.x0+(o+s)*Math.sin(O),t.y=this.y0+(o+s)*Math.cos(O),t):(a=I/S,u=he(this.a,this.e,this.sin_p12),c=he(this.a,this.e,I),h=Math.atan((1-this.es)*a+this.es*u*this.sin_p12/(c*S)),b=0===(p=Math.atan2(Math.sin(O),this.cos_p12*Math.tan(h)-this.sin_p12*Math.cos(O)))?Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.abs(Math.abs(p)-Math.PI)<=f?-Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.asin(Math.sin(O)*Math.cos(h)/Math.sin(p)),d=this.e*this.sin_p12/Math.sqrt(1-this.es),v=u*b*(1-(w=b*b)*(m=(A=this.e*this.cos_p12*Math.cos(p)/Math.sqrt(1-this.es))*A)*(1-m)/6+(E=w*b)/8*(g=d*A)*(1-2*m)+(x=E*b)/120*(m*(4-7*m)-3*d*d*(1-7*m))-x*b/48*g),t.x=this.x0+v*Math.sin(p),t.y=this.y0+v*Math.cos(p),t))},inverse:function(t){var e,n,i,r,o,s,a,u,c,h,p,d,A,g,m,v,y,_,b,w,E,x;if(t.x-=this.x0,t.y-=this.y0,this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*l*this.a)return;return n=e/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=f?s=this.lat0:(s=Ee(r*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-l,o=Math.abs(a)<=f?this.lat0>=0?K(this.long0+Math.atan2(t.x,-t.y)):K(this.long0-Math.atan2(-t.x,t.y)):K(this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=o,t.y=s,t}return u=ae(this.es),c=le(this.es),h=ue(this.es),p=ce(this.es),Math.abs(this.sin_p12-1)<=f?(d=this.a*se(u,c,h,p,l),e=Math.sqrt(t.x*t.x+t.y*t.y),s=pe((d-e)/this.a,u,c,h,p),o=K(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=f?(d=this.a*se(u,c,h,p,l),e=Math.sqrt(t.x*t.x+t.y*t.y),s=pe((e-d)/this.a,u,c,h,p),o=K(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),m=Math.atan2(t.x,t.y),A=he(this.a,this.e,this.sin_p12),v=Math.cos(m),_=-(y=this.e*this.cos_p12*v)*y/(1-this.es),b=3*this.es*(1-_)*this.sin_p12*this.cos_p12*v/(1-this.es),x=1-_*(E=(w=e/A)-_*(1+_)*Math.pow(w,3)/6-b*(1+3*_)*Math.pow(w,4)/24)*E/2-w*E*E*E/6,g=Math.asin(this.sin_p12*Math.cos(E)+this.cos_p12*Math.sin(E)*v),o=K(this.long0+Math.asin(Math.sin(m)*Math.sin(E)/Math.cos(g))),s=Math.atan((1-this.es*x*this.sin_p12/Math.sin(g))*Math.tan(g)/(1-this.es)),t.x=o,t.y=s,t)},names:["Azimuthal_Equidistant","aeqd"]};var Ue={init:function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)},forward:function(t){var e,n,i,r,o,s,a,l=t.x,u=t.y;return i=K(l-this.long0),e=Math.sin(u),n=Math.cos(u),r=Math.cos(i),1,((o=this.sin_p14*e+this.cos_p14*n*r)>0||Math.abs(o)<=f)&&(s=1*this.a*n*Math.sin(i),a=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*n*r)),t.x=s,t.y=a,t},inverse:function(t){var e,n,i,r,o,s,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Ee(e/this.a),i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(e)<=f?(a=this.lat0,t.x=s,t.y=a,t):(a=Ee(r*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-l,Math.abs(o)<=f?(s=this.lat0>=0?K(this.long0+Math.atan2(t.x,-t.y)):K(this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=K(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=s,t.y=a,t))},names:["ortho"]},Qe={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},He={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4};function je(t,e,n,i){var r;return t<f?(i.value=He.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=A?i.value=He.AREA_0:r>A&&r<=l+A?(i.value=He.AREA_1,r-=l):r>l+A||r<=-(l+A)?(i.value=He.AREA_2,r=r>=0?r-m:r+m):(i.value=He.AREA_3,r+=l)),r}function ze(t,e){var n=t+e;return n<-m?n+=g:n>+m&&(n-=g),n}var Ke={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=l-A/2?this.face=Qe.TOP:this.lat0<=-(l-A/2)?this.face=Qe.BOTTOM:Math.abs(this.long0)<=A?this.face=Qe.FRONT:Math.abs(this.long0)<=l+A?this.face=this.long0>0?Qe.RIGHT:Qe.LEFT:this.face=Qe.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)},forward:function(t){var e,n,i,r,o,s,a={x:0,y:0},u={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===Qe.TOP)r=l-e,n>=A&&n<=l+A?(u.value=He.AREA_0,i=n-l):n>l+A||n<=-(l+A)?(u.value=He.AREA_1,i=n>0?n-m:n+m):n>-(l+A)&&n<=-A?(u.value=He.AREA_2,i=n+l):(u.value=He.AREA_3,i=n);else if(this.face===Qe.BOTTOM)r=l+e,n>=A&&n<=l+A?(u.value=He.AREA_0,i=-n+l):n<A&&n>=-A?(u.value=He.AREA_1,i=-n):n<-A&&n>=-(l+A)?(u.value=He.AREA_2,i=-n-l):(u.value=He.AREA_3,i=n>0?-n+m:-n-m);else{var c,h,f,p,d,g;this.face===Qe.RIGHT?n=ze(n,+l):this.face===Qe.BACK?n=ze(n,+m):this.face===Qe.LEFT&&(n=ze(n,-l)),p=Math.sin(e),d=Math.cos(e),g=Math.sin(n),c=d*Math.cos(n),h=d*g,f=p,this.face===Qe.FRONT?i=je(r=Math.acos(c),f,h,u):this.face===Qe.RIGHT?i=je(r=Math.acos(h),f,-c,u):this.face===Qe.BACK?i=je(r=Math.acos(-c),f,-h,u):this.face===Qe.LEFT?i=je(r=Math.acos(-h),f,c,u):(r=i=0,u.value=He.AREA_0)}return s=Math.atan(12/m*(i+Math.acos(Math.sin(i)*Math.cos(A))-l)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),u.value===He.AREA_1?s+=l:u.value===He.AREA_2?s+=m:u.value===He.AREA_3&&(s+=1.5*m),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t},inverse:function(t){var e,n,i,r,o,s,a,u,c,h,f,p,d={lam:0,phi:0},A={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?A.value=He.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(A.value=He.AREA_1,e-=l):t.x<0&&-t.x>=Math.abs(t.y)?(A.value=He.AREA_2,e=e<0?e+m:e-m):(A.value=He.AREA_3,e+=l),c=m/12*Math.tan(e),o=Math.sin(c)/(Math.cos(c)-1/Math.sqrt(2)),s=Math.atan(o),(a=1-(i=Math.cos(e))*i*(r=Math.tan(n))*r*(1-Math.cos(Math.atan(1/Math.cos(s)))))<-1?a=-1:a>1&&(a=1),this.face===Qe.TOP)u=Math.acos(a),d.phi=l-u,A.value===He.AREA_0?d.lam=s+l:A.value===He.AREA_1?d.lam=s<0?s+m:s-m:A.value===He.AREA_2?d.lam=s-l:d.lam=s;else if(this.face===Qe.BOTTOM)u=Math.acos(a),d.phi=u-l,A.value===He.AREA_0?d.lam=-s+l:A.value===He.AREA_1?d.lam=-s:A.value===He.AREA_2?d.lam=-s-l:d.lam=s<0?-s-m:-s+m;else{var g,v,y;c=(g=a)*g,v=(c+=(y=c>=1?0:Math.sqrt(1-c)*Math.sin(s))*y)>=1?0:Math.sqrt(1-c),A.value===He.AREA_1?(c=v,v=-y,y=c):A.value===He.AREA_2?(v=-v,y=-y):A.value===He.AREA_3&&(c=v,v=y,y=-c),this.face===Qe.RIGHT?(c=g,g=-v,v=c):this.face===Qe.BACK?(g=-g,v=-v):this.face===Qe.LEFT&&(c=g,g=v,v=-c),d.phi=Math.acos(-y)-l,d.lam=Math.atan2(v,g),this.face===Qe.RIGHT?d.lam=ze(d.lam,-l):this.face===Qe.BACK?d.lam=ze(d.lam,-m):this.face===Qe.LEFT&&(d.lam=ze(d.lam,+l))}return 0!==this.es&&(h=d.phi<0?1:0,f=Math.tan(d.phi),p=this.b/Math.sqrt(f*f+this.one_minus_f_squared),d.phi=Math.atan(Math.sqrt(this.a*this.a-p*p)/(this.one_minus_f*p)),h&&(d.phi=-d.phi)),d.lam+=this.long0,t.x=d.lam,t.y=d.phi,t},names:["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"]},Ge=[[1,22199e-21,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],qe=[[-520417e-23,.0124,121431e-23,-845284e-16],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],We=.8487,Ye=1.3523,Xe=d/5,Ve=1/Xe,Je=18,Ze=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},$e=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])};var tn,en={init:function(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"},forward:function(t){var e=K(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*Xe);i<0?i=0:i>=Je&&(i=Je-1),n=d*(n-Ve*i);var r={x:Ze(Ge[i],n)*e,y:Ze(qe[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*We+this.x0,r.y=r.y*this.a*Ye+this.y0,r},inverse:function(t){var e={x:(t.x-this.x0)/(this.a*We),y:Math.abs(t.y-this.y0)/(this.a*Ye)};if(e.y>=1)e.x/=Ge[Je][0],e.y=t.y<0?-l:l;else{var n=Math.floor(e.y*Je);for(n<0?n=0:n>=Je&&(n=Je-1);;)if(qe[n][0]>e.y)--n;else{if(!(qe[n+1][0]<=e.y))break;++n}var i=qe[n],r=5*(e.y-i[0])/(qe[n+1][0]-i[0]);r=function(t,e,n,i){for(var r=e;i;--i){var o=t(r);if(r-=o,Math.abs(o)<n)break}return r}((function(t){return(Ze(i,t)-e.y)/$e(i,t)}),r,f,100),e.x/=Ze(Ge[n],r),e.y=(5*n+r)*p,t.y<0&&(e.y=-e.y)}return e.x=K(e.x+this.long0),e},names:["Robinson","robin"]};At.defaultDatum="WGS84",At.Proj=rt,At.WGS84=new At.Proj("WGS84"),At.Point=Ft,At.toPoint=lt,At.defs=D,At.transform=ht,At.mgrs=xt,At.version=Rt.a,(tn=At).Proj.projections.add(Ht),tn.Proj.projections.add(Yt),tn.Proj.projections.add(Vt),tn.Proj.projections.add(te),tn.Proj.projections.add(ee),tn.Proj.projections.add(ne),tn.Proj.projections.add(ie),tn.Proj.projections.add(re),tn.Proj.projections.add(oe),tn.Proj.projections.add(de),tn.Proj.projections.add(we),tn.Proj.projections.add(xe),tn.Proj.projections.add(Ce),tn.Proj.projections.add(Ie),tn.Proj.projections.add(Se),tn.Proj.projections.add(Me),tn.Proj.projections.add(Te),tn.Proj.projections.add(Ne),tn.Proj.projections.add(Le),tn.Proj.projections.add(Fe),tn.Proj.projections.add(Re),tn.Proj.projections.add(De),tn.Proj.projections.add(Pe),tn.Proj.projections.add(Ue),tn.Proj.projections.add(Ke),tn.Proj.projections.add(en);e.a=At},function(t,e,n){"use strict";var i=n(84),r=n(18),o={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},s=n(28),a=n(17),l=n(3),u=n(1),c={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},h=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+s.d,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,Object(l.a)(this,Object(r.b)(c.ELEMENT),this.handleElementChanged,this),Object(l.a)(this,Object(r.b)(c.MAP),this.handleMapChanged,this),Object(l.a)(this,Object(r.b)(c.OFFSET),this.handleOffsetChanged,this),Object(l.a)(this,Object(r.b)(c.POSITION),this.handlePositionChanged,this),Object(l.a)(this,Object(r.b)(c.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:o.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(c.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(c.MAP)},e.prototype.getOffset=function(){return this.get(c.OFFSET)},e.prototype.getPosition=function(){return this.get(c.POSITION)},e.prototype.getPositioning=function(){return this.get(c.POSITIONING)},e.prototype.handleElementChanged=function(){Object(a.d)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(a.e)(this.element),Object(l.e)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(l.a)(t,i.a.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(c.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(c.ELEMENT,t)},e.prototype.setMap=function(t){this.set(c.MAP,t)},e.prototype.setOffset=function(t){this.set(c.OFFSET,t)},e.prototype.setPosition=function(t){this.set(c.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[Object(a.c)(n),Object(a.b)(n)]),r=this.autoPanMargin;if(!Object(u.g)(e,i)){var o=i[0]-e[0],s=e[2]-i[2],l=i[1]-e[1],c=e[3]-i[3],h=[0,0];if(o<0?h[0]=o-r:s<0&&(h[0]=Math.abs(s)+r),l<0?h[1]=l-r:c<0&&(h[1]=Math.abs(c)+r),0!==h[0]||0!==h[1]){var f=t.getView().getCenter(),p=t.getPixelFromCoordinate(f),d=[p[0]+h[0],p[1]+h[1]];t.getView().animate({center:t.getCoordinateFromPixel(d),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set(c.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var s=i[0],a=i[1];if(r==o.BOTTOM_RIGHT||r==o.CENTER_RIGHT||r==o.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var l=Math.round(e[0]-t[0]-s)+"px";this.rendered.right_!=l&&(this.rendered.right_=n.right=l)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),r!=o.BOTTOM_CENTER&&r!=o.CENTER_CENTER&&r!=o.TOP_CENTER||(s-=this.element.offsetWidth/2);var u=Math.round(t[0]+s)+"px";this.rendered.left_!=u&&(this.rendered.left_=n.left=u)}if(r==o.BOTTOM_LEFT||r==o.BOTTOM_CENTER||r==o.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var c=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=c&&(this.rendered.bottom_=n.bottom=c)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),r!=o.CENTER_LEFT&&r!=o.CENTER_CENTER&&r!=o.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var h=Math.round(t[1]+a)+"px";this.rendered.top_!=h&&(this.rendered.top_=n.top=h)}},e.prototype.getOptions=function(){return this.options},e}(r.a);e.a=h},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return p})),n.d(e,"c",(function(){return g}));var i=n(65),r=n(91),o=n(42),s=n(30),a=n(7),l=n(44),u=n(25),c=n(114),h=n(10);function f(e,n,o,s){t.getJSON("public/data/save/saved_example.json",(function(f){var g=f[e];t.get(g.files.node,(function(e){t.get(g.files.link,(function(f){o.projection=A(g.projection),d(g,o),function(t,e,n,i){"csv"===t.Ltype?i.links=Object(c.parse)(e,{header:!0}).data:i.links=e;"geojson"===t.Ntype?i.nodes=n:"json"===t.Ntype?i.nodes=Object(r.createGeoJSON)(n):"csv"===t.Ntype&&(i.nodes=Object(r.createGeoJSON)(Object(c.parse)(n,{header:!0}).data))}(g.files,f,e,s),function(t,e,n){console.log(e);for(var o=-1/0,s=1/0,a=-1/0,u=1/0,c=e.links.length,f=[],p=0;p<c;p++)f.includes(e.links[p][global_data.ids.linkID[0]])||f.push(e.links[p][global_data.ids.linkID[0]]),f.includes(e.links[p][global_data.ids.linkID[1]])||f.push(e.links[p][global_data.ids.linkID[1]]);var d=[];c=e.nodes.features.length;console.log(c);for(var A=0;A<c;A++)if(!d.includes(e.nodes.features[A].properties[global_data.ids.nodeID])&&f.includes(e.nodes.features[A].properties[global_data.ids.nodeID])){e.hashedStructureData[e.nodes.features[A].properties[n.ids.nodeID]]=e.nodes.features[A];var g=Object(i.c)(e.nodes.features[A],n.projection.name);e.hashedStructureData[e.nodes.features[A].properties[n.ids.nodeID]].properties.centroid=g,e.hashedStructureData[e.nodes.features[A].properties[n.ids.nodeID]].properties[n.ids.vol]=0,d.push(e.nodes.features[A].properties[global_data.ids.nodeID]),o<g[0]&&(o=g[0]),s>g[0]&&(s=g[0]),a<g[1]&&(a=g[1]),u>g[1]&&(u=g[1])}var m=o-s,v=a-u;n.style.ratioBounds=2e-4*Math.max(m,v),n.center=[s+m/2,u+v/2],data.links=Object(l.a)(e.links,d,n.ids.linkID[0],n.ids.linkID[1],""),t.getView().setCenter(n.center),n.center=Object(h.k)(n.center,global_data.projection.name,"EPSG:4326"),t.getView().setZoom(Object(r.getZoomFromVerticalBounds)(v)),n.zoom=Object(r.getZoomFromVerticalBounds)(v),e.hashedStructureData}(n,s,o),s.links=Object(r.prepareLinkData)(s.links,o.ids.linkID[0],o.ids.linkID[1],s.hashedStructureData,o.ids.vol),Object(l.c)(s.hashedStructureData,s.links,o.ids.linkID[0],o.ids.linkID[1],o.ids.vol),Object(l.b)(s.hashedStructureData,s.links,o.ids.linkID[0],o.ids.linkID[1],"geojson"!==g.files.Ntype,"kilometers"),p(g.filter),m(g.base_layer,o.layers.base),"categorical"===g.style.link.color.cat&&Object(u.i)(o.style.link.color.var,o.style.link),"categorical"===g.style.node.color.cat&&Object(u.j)(o.style.node.color.var,o.style.node),Object(l.d)(s.links,o.ids.vol,o),Object(u.a)("link"),Object(u.a)("node"),n.getView().fit(Object(a.l)(n,"link").getSource().getExtent()),!0===document.getElementsByClassName("ol-legend")[0].classList.toggle("ol-collapsed")&&document.getElementsByClassName("ol-legend")[0].classList.toggle("ol-collapsed"),document.getElementById("addFilterButton").disabled=!1,t(".arrival").hide(50)}))}))}))}function p(t){for(var e=t.link.length,n=0;n<e;n++){var i=t.link[n];Object(s.d)("link",i.variable,i,data)}for(n=0;n<e;n++){"numeral"===(i=t.link[n]).filter?Object(s.e)("link",i.variable,i.values):"categorial"===i.filter?Object(s.g)("link",i.variable,i.values):"remove"===i.filter?Object(s.f)("link",i.variable,i.values):"temporal"===i.filter?Object(s.h)("link",i.variable,i.values):"timeLapse"===i.filter&&Object(s.i)("link",i.variable,i.values)}e=t.node.length;for(var r=0;r<e;r++){"numeral"===(i=t.node[r]).filter?Object(s.e)("node",i.variable,i.values):"categorial"===i.filter?Object(s.g)("node",i.variable,i.values):"remove"===i.filter?Object(s.f)("node",i.variable,i.values):"temporal"===i.filter&&Object(s.f)("link",i.variable,i.values)}}function d(t,e){e.files=t.files,e.filter=t.filter,e.style=t.style,e.ids=t.ids}function A(t,e){return Object(i.g)(map,t.name,e),t}function g(){Object(i.e)(map,global_data.projection,global_data.center,global_data.zoom),p(global_data.filter),function(t){for(var e in t)Object(a.d)(map,ListUrl[e],e,t[e].attributions,t[e].style.opacity,t[e].style.stroke,t[e].style.fill),Object(o.b)(e)}(global_data.layers.base),function(t){for(var e in t)Object(a.c)(map,data[e],e,t[e].style.opacity,t[e].style.stroke,t[e].style.fill),Object(o.d)(e)}(global_data.layers.import),function(t){for(var e in t)Object(a.g)(map,t,t[e].url,e,t[e].attributions)}(global_data.layers.osm),Object(u.a)("link"),Object(u.a)("node"),map.getView().setCenter(Object(h.k)(global_data.center,"EPSG:4326",global_data.projection.name)),map.getView().setZoom(global_data.zoom),t("#featureCard").toggle(),t(".arrival").hide(50)}function m(t,e){for(var n=0;n<t.length;n++){var i=t[n];e[i.name]={},Object(a.d)(map,ListUrl[i.name],i.name,i.attributions,i.style.opacity,i.style.stroke,i.style.fill),e[i.name].style=i.style,Object(o.b)(i.name)}}}).call(this,n(55))},function(t,e,n){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
var i=n(191),r=n(192),o=n(148);function s(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(s()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,n);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,n)}function u(t,e,n,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,n,i){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(i||0))throw new RangeError("'length' is out of bounds");e=void 0===n&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,n):new Uint8Array(e,n,i);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=f(t,e);return t}(t,e,n,i):"string"==typeof e?function(t,e,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var i=0|d(e,n),r=(t=a(t,i)).write(e,n);r!==i&&(t=t.slice(0,r));return t}(t,e,n):function(t,e){if(l.isBuffer(e)){var n=0|p(e.length);return 0===(t=a(t,n)).length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(i=e.length)!=i?a(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var i;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(c(e),t=a(t,e<0?0:0|p(e)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e){var n=e.length<0?0:0|p(e.length);t=a(t,n);for(var i=0;i<n;i+=1)t[i]=255&e[i];return t}function p(t){if(t>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|t}function d(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return j(t).length;default:if(i)return H(t).length;e=(""+e).toLowerCase(),i=!0}}function A(t,e,n){var i=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return M(this,e,n);case"utf8":case"utf-8":return B(this,e,n);case"ascii":return S(this,e,n);case"latin1":case"binary":return O(this,e,n);case"base64":return C(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}function g(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function m(t,e,n,i,r){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=r?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(r)return-1;n=t.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof e&&(e=l.from(e,i)),l.isBuffer(e))return 0===e.length?-1:v(t,e,n,i,r);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):v(t,[e],n,i,r);throw new TypeError("val must be string, number or Buffer")}function v(t,e,n,i,r){var o,s=1,a=t.length,l=e.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||e.length<2)return-1;s=2,a/=2,l/=2,n/=2}function u(t,e){return 1===s?t[e]:t.readUInt16BE(e*s)}if(r){var c=-1;for(o=n;o<a;o++)if(u(t,o)===u(e,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===l)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(n+l>a&&(n=a-l),o=n;o>=0;o--){for(var h=!0,f=0;f<l;f++)if(u(t,o+f)!==u(e,f)){h=!1;break}if(h)return o}return-1}function y(t,e,n,i){n=Number(n)||0;var r=t.length-n;i?(i=Number(i))>r&&(i=r):i=r;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");i>o/2&&(i=o/2);for(var s=0;s<i;++s){var a=parseInt(e.substr(2*s,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function _(t,e,n,i){return z(H(e,t.length-n),t,n,i)}function b(t,e,n,i){return z(function(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,i)}function w(t,e,n,i){return b(t,e,n,i)}function E(t,e,n,i){return z(j(e),t,n,i)}function x(t,e,n,i){return z(function(t,e){for(var n,i,r,o=[],s=0;s<t.length&&!((e-=2)<0);++s)n=t.charCodeAt(s),i=n>>8,r=n%256,o.push(r),o.push(i);return o}(e,t.length-n),t,n,i)}function C(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function B(t,e,n){n=Math.min(t.length,n);for(var i=[],r=e;r<n;){var o,s,a,l,u=t[r],c=null,h=u>239?4:u>223?3:u>191?2:1;if(r+h<=n)switch(h){case 1:u<128&&(c=u);break;case 2:128==(192&(o=t[r+1]))&&(l=(31&u)<<6|63&o)>127&&(c=l);break;case 3:o=t[r+1],s=t[r+2],128==(192&o)&&128==(192&s)&&(l=(15&u)<<12|(63&o)<<6|63&s)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:o=t[r+1],s=t[r+2],a=t[r+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(l=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,i.push(c>>>10&1023|55296),c=56320|1023&c),i.push(c),r+=h}return function(t){var e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);var n="",i=0;for(;i<e;)n+=String.fromCharCode.apply(String,t.slice(i,i+=I));return n}(i)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=s(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,n){return u(null,t,e,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,n){return function(t,e,n,i){return c(e),e<=0?a(t,e):void 0!==n?"string"==typeof i?a(t,e).fill(n,i):a(t,e).fill(n):a(t,e)}(null,t,e,n)},l.allocUnsafe=function(t){return h(null,t)},l.allocUnsafeSlow=function(t){return h(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,r=0,o=Math.min(n,i);r<o;++r)if(t[r]!==e[r]){n=t[r],i=e[r];break}return n<i?-1:i<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=l.allocUnsafe(e),r=0;for(n=0;n<t.length;++n){var s=t[n];if(!l.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(i,r),r+=s.length}return i},l.byteLength=d,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?B(this,0,t):A.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,n,i,r){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),e<0||n>t.length||i<0||r>this.length)throw new RangeError("out of range index");if(i>=r&&e>=n)return 0;if(i>=r)return-1;if(e>=n)return 1;if(this===t)return 0;for(var o=(r>>>=0)-(i>>>=0),s=(n>>>=0)-(e>>>=0),a=Math.min(o,s),u=this.slice(i,r),c=t.slice(e,n),h=0;h<a;++h)if(u[h]!==c[h]){o=u[h],s=c[h];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return m(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return m(this,t,e,n,!1)},l.prototype.write=function(t,e,n,i){if(void 0===e)i="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)i=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-e;if((void 0===n||n>r)&&(n=r),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var o=!1;;)switch(i){case"hex":return y(this,t,e,n);case"utf8":case"utf-8":return _(this,t,e,n);case"ascii":return b(this,t,e,n);case"latin1":case"binary":return w(this,t,e,n);case"base64":return E(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var I=4096;function S(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(127&t[r]);return i}function O(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r)i+=String.fromCharCode(t[r]);return i}function M(t,e,n){var i=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>i)&&(n=i);for(var r="",o=e;o<n;++o)r+=Q(t[o]);return r}function T(t,e,n){for(var i=t.slice(e,n),r="",o=0;o<i.length;o+=2)r+=String.fromCharCode(i[o]+256*i[o+1]);return r}function N(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function k(t,e,n,i,r,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function L(t,e,n,i){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-n,2);r<o;++r)t[n+r]=(e&255<<8*(i?r:1-r))>>>8*(i?r:1-r)}function F(t,e,n,i){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-n,4);r<o;++r)t[n+r]=e>>>8*(i?r:3-r)&255}function R(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(t,e,n,i,o){return o||R(t,0,n,4),r.write(t,e,n,i,23,4),n+4}function P(t,e,n,i,o){return o||R(t,0,n,8),r.write(t,e,n,i,52,8),n+8}l.prototype.slice=function(t,e){var n,i=this.length;if((t=~~t)<0?(t+=i)<0&&(t=0):t>i&&(t=i),(e=void 0===e?i:~~e)<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=l.prototype;else{var r=e-t;n=new l(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},l.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i},l.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var i=this[t+--e],r=1;e>0&&(r*=256);)i+=this[t+--e]*r;return i},l.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var i=this[t],r=1,o=0;++o<e&&(r*=256);)i+=this[t+o]*r;return i>=(r*=128)&&(i-=Math.pow(2,8*e)),i},l.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var i=e,r=1,o=this[t+--i];i>0&&(r*=256);)o+=this[t+--i]*r;return o>=(r*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),r.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),r.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),r.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),r.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||k(this,t,e,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[e]=255&t;++o<n&&(r*=256);)this[e+o]=t/r&255;return e+n},l.prototype.writeUIntBE=function(t,e,n,i){(t=+t,e|=0,n|=0,i)||k(this,t,e,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[e+r]=255&t;--r>=0&&(o*=256);)this[e+r]=t/o&255;return e+n},l.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):F(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);k(this,t,e,n,r-1,-r)}var o=0,s=1,a=0;for(this[e]=255&t;++o<n&&(s*=256);)t<0&&0===a&&0!==this[e+o-1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},l.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e|=0,!i){var r=Math.pow(2,8*n-1);k(this,t,e,n,r-1,-r)}var o=n-1,s=1,a=0;for(this[e+o]=255&t;--o>=0&&(s*=256);)t<0&&0===a&&0!==this[e+o+1]&&(a=1),this[e+o]=(t/s>>0)-a&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):F(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||k(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):F(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,n){return D(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return D(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return P(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return P(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,i){if(n||(n=0),i||0===i||(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var r,o=i-n;if(this===t&&n<e&&e<i)for(r=o-1;r>=0;--r)t[r+e]=this[r+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o},l.prototype.fill=function(t,e,n,i){if("string"==typeof t){if("string"==typeof e?(i=e,e=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!l.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;var o;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(o=e;o<n;++o)this[o]=t;else{var s=l.isBuffer(t)?t:H(new l(t,i).toString()),a=s.length;for(o=0;o<n-e;++o)this[o+e]=s[o%a]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function Q(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){var n;e=e||1/0;for(var i=t.length,r=null,o=[],s=0;s<i;++s){if((n=t.charCodeAt(s))>55295&&n<57344){if(!r){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===i){(e-=3)>-1&&o.push(239,191,189);continue}r=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function j(t){return i.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,n,i){for(var r=0;r<i&&!(r+n>=e.length||r>=t.length);++r)e[r+n]=t[r];return r}}).call(this,n(57))},function(t,e,n){(function(t){function n(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===n(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===n(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===n(t)},e.isError=function(t){return"[object Error]"===n(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=t.isBuffer}).call(this,n(107).Buffer)},function(t,e,n){"use strict";var i=null;i="undefined"!=typeof Promise?Promise:n(205),t.exports={Promise:i}},function(t,e,n){"use strict";var i=n(4),r=n(37),o=n(15),s=n(3),a=n(34),l=n(21),u=n(20),c=n(5),h=n(24),f=n(77),p=n(14),d=n(79),A=n(27),g={SELECT:"select"},m=function(t){function e(e,n,i,r){t.call(this,e),this.selected=n,this.deselected=i,this.mapBrowserEvent=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.a),v=function(t){function e(e){t.call(this,{handleEvent:y});var n=e||{};this.condition_=n.condition?n.condition:l.j,this.addCondition_=n.addCondition?n.addCondition:l.f,this.removeCondition_=n.removeCondition?n.removeCondition:l.f,this.toggleCondition_=n.toggleCondition?n.toggleCondition:l.i,this.multi_=!!n.multi&&n.multi,this.filter_=n.filter?n.filter:u.b,this.hitTolerance_=n.hitTolerance?n.hitTolerance:0;var i,a=new f.a({source:new d.a({useSpatialIndex:!1,features:n.features,wrapX:n.wrapX}),style:n.style?n.style:_(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=a,n.layers)if("function"==typeof n.layers)i=n.layers;else{var c=n.layers;i=function(t){return Object(o.d)(c,t)}}else i=u.b;this.layerFilter_=i,this.featureLayerAssociation_={};var h=this.getFeatures();Object(s.a)(h,r.a.ADD,this.addFeature_,this),Object(s.a)(h,r.a.REMOVE,this.removeFeature_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(i.c)(t)]=e},e.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(i.c)(t)]},e.prototype.getOverlay=function(){return this.featureOverlay_},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var n=this.getMap(),i=this.getFeatures();n&&i.forEach(n.unskipFeature.bind(n)),t.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&i.forEach(e.skipFeature.bind(e))},e.prototype.addFeature_=function(t){var e=this.getMap();e&&e.skipFeature(t.element)},e.prototype.removeFeature_=function(t){var e=this.getMap();e&&e.unskipFeature(t.element)},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(i.c)(t)]},e}(h.a);function y(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),n=this.removeCondition_(t),i=this.toggleCondition_(t),r=!e&&!n&&!i,s=t.map,a=this.getFeatures(),u=[],c=[];if(r){Object(p.b)(this.featureLayerAssociation_),s.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return c.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var h=a.getLength()-1;h>=0;--h){var f=a.item(h),d=c.indexOf(f);d>-1?c.splice(d,1):(a.remove(f),u.push(f))}0!==c.length&&a.extend(c)}else{s.forEachFeatureAtPixel(t.pixel,function(t,r){if(this.filter_(t,r))return!e&&!i||Object(o.d)(a.getArray(),t)?(n||i)&&Object(o.d)(a.getArray(),t)&&(u.push(t),this.removeFeatureLayerAssociation_(t)):(c.push(t),this.addFeatureLayerAssociation_(t,r)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var A=u.length-1;A>=0;--A)a.remove(u[A]);a.extend(c)}return(c.length>0||u.length>0)&&this.dispatchEvent(new m(g.SELECT,c,u,t)),Object(l.h)(t)}function _(){var t=Object(A.b)();return Object(o.c)(t[c.a.POLYGON],t[c.a.LINE_STRING]),Object(o.c)(t[c.a.GEOMETRY_COLLECTION],t[c.a.LINE_STRING]),function(e,n){return e.getGeometry()?t[e.getGeometry().getType()]:null}}e.a=v},function(t,e,n){"use strict";e.a=function(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return(n=e.invert(n,i))&&t.invert(n[0],n[1])}),n}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var i=n(9),r=(n(5),6371008.8);function o(t,e,n){var o=n||r,s=Object(i.i)(t[1]),a=Object(i.i)(e[1]),l=(a-s)/2,u=Object(i.i)(e[0]-t[0])/2,c=Math.sin(l)*Math.sin(l)+Math.sin(u)*Math.sin(u)*Math.cos(s)*Math.cos(a);return 2*o*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))}function s(t,e,n,o){var s=o||r,a=Object(i.i)(t[1]),l=Object(i.i)(t[0]),u=e/s,c=Math.asin(Math.sin(a)*Math.cos(u)+Math.cos(a)*Math.sin(u)*Math.cos(n)),h=l+Math.atan2(Math.sin(n)*Math.sin(u)*Math.cos(a),Math.cos(u)-Math.sin(a)*Math.sin(c));return[Object(i.h)(h),Object(i.h)(c)]}},function(t,e,n){(function(n){var i,r,o;r=[],void 0===(o="function"==typeof(i=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){s(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function r(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var o="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,s=o.saveAs||("object"!=typeof window||window!==o?function(){}:"download"in HTMLAnchorElement.prototype?function(t,n,s){var a=o.URL||o.webkitURL,l=document.createElement("a");n=n||t.name||"download",l.download=n,l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?r(l):i(l.href)?e(t,n,s):r(l,l.target="_blank")):(l.href=a.createObjectURL(t),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){r(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,o){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,o),n);else if(i(t))e(t,n,o);else{var s=document.createElement("a");s.href=t,s.target="_blank",setTimeout((function(){r(s)}))}}:function(t,n,i,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var s="application/octet-stream"===t.type,a=/constructor/i.test(o.HTMLElement)||o.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&a)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var t=u.result;t=l?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},u.readAsDataURL(t)}else{var c=o.URL||o.webkitURL,h=c.createObjectURL(t);r?r.location=h:location.href=h,r=null,setTimeout((function(){c.revokeObjectURL(h)}),4e4)}});o.saveAs=s.saveAs=s,t.exports=s})?i.apply(e,r):i)||(t.exports=o)}).call(this,n(57))},function(t,e,n){var i,r,o;
/* @license
Papa Parse
v4.6.3
https://github.com/mholt/PapaParse
License: MIT
*/Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),r=[],void 0===(o="function"==typeof(i=function(){"use strict";var t,e,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},i=!n.document&&!!n.postMessage,r=i&&/(\?|&)papaworker(=|&|$)/.test(n.location.search),o=!1,s={},a=0,l={parse:function(e,i){var r=(i=i||{}).dynamicTyping||!1;if(E(r)&&(i.dynamicTypingFunction=r,r={}),i.dynamicTyping=r,i.transform=!!E(i.transform)&&i.transform,i.worker&&l.WORKERS_SUPPORTED){var u=function(){if(!l.WORKERS_SUPPORTED)return!1;if(!o&&null===l.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=l.SCRIPT_PATH||t;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var i=new n.Worker(e);return i.onmessage=v,i.id=a++,s[i.id]=i}();return u.userStep=i.step,u.userChunk=i.chunk,u.userComplete=i.complete,u.userError=i.error,i.step=E(i.step),i.chunk=E(i.chunk),i.complete=E(i.complete),i.error=E(i.error),delete i.worker,void u.postMessage({input:e,config:i,workerId:u.id})}var c=null;return l.NODE_STREAM_INPUT,"string"==typeof e?c=i.download?new h(i):new p(i):!0===e.readable&&E(e.read)&&E(e.on)?c=new d(i):(n.File&&e instanceof File||e instanceof Object)&&(c=new f(i)),c.stream(e)},unparse:function(t,e){var n=!1,i=!0,r=",",o="\r\n",s='"',a=!1;"object"==typeof e&&("string"!=typeof e.delimiter||l.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(r=e.delimiter),("boolean"==typeof e.quotes||Array.isArray(e.quotes))&&(n=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(a=e.skipEmptyLines),"string"==typeof e.newline&&(o=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(i=e.header));var u=new RegExp(g(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return h(null,t,a);if("object"==typeof t[0])return h(c(t[0]),t,a)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:c(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),h(t.fields||[],t.data||[],a);throw"exception: Unable to serialize unrecognized input";function c(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function h(t,e,n){var s="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&0<t.length,l=!Array.isArray(e[0]);if(a&&i){for(var u=0;u<t.length;u++)0<u&&(s+=r),s+=f(t[u],u);0<e.length&&(s+=o)}for(var c=0;c<e.length;c++){var h=a?t.length:e[c].length,p=!1,d=a?0===Object.keys(e[c]).length:0===e[c].length;if(n&&!a&&(p="greedy"===n?""===e[c].join("").trim():1===e[c].length&&0===e[c][0].length),"greedy"===n&&a){for(var A=[],g=0;g<h;g++){var m=l?t[g]:g;A.push(e[c][m])}p=""===A.join("").trim()}if(!p){for(var v=0;v<h;v++){0<v&&!d&&(s+=r);var y=a&&l?t[v]:v;s+=f(e[c][y],v)}c<e.length-1&&(!n||0<h&&!d)&&(s+=o)}}return s}function f(t,e){return null==t?"":t.constructor===Date?JSON.stringify(t).slice(1,25):(t=t.toString().replace(u,s+s),"boolean"==typeof n&&n||Array.isArray(n)&&n[e]||function(t,e){for(var n=0;n<e.length;n++)if(-1<t.indexOf(e[n]))return!0;return!1}(t,l.BAD_DELIMITERS)||-1<t.indexOf(r)||" "===t.charAt(0)||" "===t.charAt(t.length-1)?s+t+s:t)}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\ufeff",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!i&&!!n.Worker,l.SCRIPT_PATH=null,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=m,l.ParserHandle=A,l.NetworkStreamer=h,l.FileStreamer=f,l.StringStreamer=p,l.ReadableStreamStreamer=d,n.jQuery){var u=n.jQuery;u.fn.parse=function(t){var e=t.config||{},i=[];return this.each((function(t){if("INPUT"!==u(this).prop("tagName").toUpperCase()||"file"!==u(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var r=0;r<this.files.length;r++)i.push({file:this.files[r],inputElem:this,instanceConfig:u.extend({},e)})})),r(),this;function r(){if(0!==i.length){var e,n,r,s=i[0];if(E(t.before)){var a=t.before(s.file,s.inputElem);if("object"==typeof a){if("abort"===a.action)return e=s.file,n=s.inputElem,r=a.reason,void(E(t.error)&&t.error({name:"AbortError"},e,n,r));if("skip"===a.action)return void o();"object"==typeof a.config&&(s.instanceConfig=u.extend(s.instanceConfig,a.config))}else if("skip"===a)return void o()}var c=s.instanceConfig.complete;s.instanceConfig.complete=function(t){E(c)&&c(t,s.file,s.inputElem),o()},l.parse(s.file,s.instanceConfig)}else E(t.complete)&&t.complete()}function o(){i.splice(0,1),r()}}}function c(t){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=b(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new A(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,e){if(this.isFirstChunk&&E(this._config.beforeFirstChunk)){var i=this._config.beforeFirstChunk(t);void 0!==i&&(t=i)}this.isFirstChunk=!1;var o=this._partialLine+t;this._partialLine="";var s=this._handle.parse(o,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var a=s.meta.cursor;this._finished||(this._partialLine=o.substring(a-this._baseIndex),this._baseIndex=a),s&&s.data&&(this._rowCount+=s.data.length);var u=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(r)n.postMessage({results:s,workerId:l.WORKER_ID,finished:u});else if(E(this._config.chunk)&&!e){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return;s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!u||!E(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),u||s&&s.meta.paused||this._nextChunk(),s}},this._sendError=function(t){E(this._config.error)?this._config.error(t):r&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:t,finished:!1})}}function h(t){var e;(t=t||{}).chunkSize||(t.chunkSize=l.RemoteChunkSize),c.call(this,t),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),i||(e.onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)),e.open("GET",this._input,!i),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var n in t)e.setRequestHeader(n,t[n])}if(this._config.chunkSize){var r=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+r),e.setRequestHeader("If-None-Match","webkit-no-cache")}try{e.send()}catch(t){this._chunkError(t.message)}i&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var n=e.statusText||t;this._sendError(new Error(n))}}function f(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=l.LocalChunkSize),c.call(this,t);var i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?((e=new FileReader).onload=w(this._chunkLoaded,this),e.onerror=w(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var o=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function p(t){var e;c.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,n=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(n)}}}function d(t){c.call(this,t=t||{});var e=[],n=!0,i=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=w((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=w((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=w((function(){this._streamCleanUp(),i=!0,this._streamData("")}),this),this._streamCleanUp=w((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function A(t){var e,n,i,r=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,o=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,s=this,a=0,u=0,c=!1,h=!1,f=[],p={data:[],errors:[],meta:{}};if(E(t.step)){var d=t.step;t.step=function(e){if(p=e,y())v();else{if(v(),0===p.data.length)return;a+=e.data.length,t.preview&&a>t.preview?n.abort():d(p,s)}}}function A(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function v(){if(p&&i&&(w("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),i=!1),t.skipEmptyLines)for(var e=0;e<p.data.length;e++)A(p.data[e])&&p.data.splice(e--,1);return y()&&function(){if(p){for(var e=0;y()&&e<p.data.length;e++)for(var n=0;n<p.data[e].length;n++){var i=p.data[e][n];t.trimHeaders&&(i=i.trim()),f.push(i)}p.data.splice(0,1)}}(),function(){if(!p||!t.header&&!t.dynamicTyping&&!t.transform)return p;for(var e=0;e<p.data.length;e++){var n,i=t.header?{}:[];for(n=0;n<p.data[e].length;n++){var r=n,o=p.data[e][n];t.header&&(r=n>=f.length?"__parsed_extra":f[n]),t.transform&&(o=t.transform(o,r)),o=_(r,o),"__parsed_extra"===r?(i[r]=i[r]||[],i[r].push(o)):i[r]=o}p.data[e]=i,t.header&&(n>f.length?w("FieldMismatch","TooManyFields","Too many fields: expected "+f.length+" fields but parsed "+n,u+e):n<f.length&&w("FieldMismatch","TooFewFields","Too few fields: expected "+f.length+" fields but parsed "+n,u+e))}return t.header&&p.meta&&(p.meta.fields=f),u+=p.data.length,p}()}function y(){return t.header&&0===f.length}function _(e,n){return i=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[i]&&(t.dynamicTyping[i]=t.dynamicTypingFunction(i)),!0===(t.dynamicTyping[i]||t.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(r.test(n)?parseFloat(n):o.test(n)?new Date(n):""===n?null:n):n;var i}function w(t,e,n,i){p.errors.push({type:t,code:e,message:n,row:i})}this.parse=function(r,o,s){var a=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substr(0,1048576);var n=new RegExp(g(e)+"([^]*?)"+g(e),"gm"),i=(t=t.replace(n,"")).split("\r"),r=t.split("\n"),o=1<r.length&&r[0].length<i[0].length;if(1===i.length||o)return"\n";for(var s=0,a=0;a<i.length;a++)"\n"===i[a][0]&&s++;return s>=i.length/2?"\r\n":"\r"}(r,a)),i=!1,t.delimiter)E(t.delimiter)&&(t.delimiter=t.delimiter(r),p.meta.delimiter=t.delimiter);else{var u=function(e,n,i,r){for(var o,s,a,u=[",","\t","|",";",l.RECORD_SEP,l.UNIT_SEP],c=0;c<u.length;c++){var h=u[c],f=0,p=0,d=0;a=void 0;for(var g=new m({comments:r,delimiter:h,newline:n,preview:10}).parse(e),v=0;v<g.data.length;v++)if(i&&A(g.data[v]))d++;else{var y=g.data[v].length;p+=y,void 0!==a?1<y&&(f+=Math.abs(y-a),a=y):a=0}0<g.data.length&&(p/=g.data.length-d),(void 0===s||s<f)&&1.99<p&&(s=f,o=h)}return{successful:!!(t.delimiter=o),bestDelimiter:o}}(r,t.newline,t.skipEmptyLines,t.comments);u.successful?t.delimiter=u.bestDelimiter:(i=!0,t.delimiter=l.DefaultDelimiter),p.meta.delimiter=t.delimiter}var h=b(t);return t.preview&&t.header&&h.preview++,e=r,n=new m(h),p=n.parse(e,o,s),v(),c?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return c},this.pause=function(){c=!0,n.abort(),e=e.substr(n.getCharIndex())},this.resume=function(){c=!1,s.streamer.parseChunk(e,!0)},this.aborted=function(){return h},this.abort=function(){h=!0,n.abort(),p.meta.aborted=!0,E(t.complete)&&t.complete(p),e=""}}function g(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(t){var e,n=(t=t||{}).delimiter,i=t.newline,r=t.comments,o=t.step,s=t.preview,a=t.fastMode,u=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(u=t.escapeChar),("string"!=typeof n||-1<l.BAD_DELIMITERS.indexOf(n))&&(n=","),r===n)throw"Comment character same as delimiter";!0===r?r="#":("string"!=typeof r||-1<l.BAD_DELIMITERS.indexOf(r))&&(r=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var c=0,h=!1;this.parse=function(t,l,f){if("string"!=typeof t)throw"Input must be a string";var p=t.length,d=n.length,A=i.length,m=r.length,v=E(o),y=[],_=[],b=[],w=c=0;if(!t)return R();if(a||!1!==a&&-1===t.indexOf(e)){for(var x=t.split(i),C=0;C<x.length;C++){if(b=x[C],c+=b.length,C!==x.length-1)c+=i.length;else if(f)return R();if(!r||b.substr(0,m)!==r){if(v){if(y=[],N(b.split(n)),D(),h)return R()}else N(b.split(n));if(s&&s<=C)return y=y.slice(0,s),R(!0)}}return R()}for(var B,I=t.indexOf(n,c),S=t.indexOf(i,c),O=new RegExp(g(u)+g(e),"g");;)if(t[c]!==e)if(r&&0===b.length&&t.substr(c,m)===r){if(-1===S)return R();c=S+A,S=t.indexOf(i,c),I=t.indexOf(n,c)}else if(-1!==I&&(I<S||-1===S))b.push(t.substring(c,I)),c=I+d,I=t.indexOf(n,c);else{if(-1===S)break;if(b.push(t.substring(c,S)),F(S+A),v&&(D(),h))return R();if(s&&y.length>=s)return R(!0)}else for(B=c,c++;;){if(-1===(B=t.indexOf(e,B+1)))return f||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:y.length,index:c}),L();if(B===p-1)return L(t.substring(c,B).replace(O,e));if(e!==u||t[B+1]!==u){if(e===u||0===B||t[B-1]!==u){var M=k(-1===S?I:Math.min(I,S));if(t[B+1+M]===n){b.push(t.substring(c,B).replace(O,e)),c=B+1+M+d,I=t.indexOf(n,c),S=t.indexOf(i,c);break}var T=k(S);if(t.substr(B+1+T,A)===i){if(b.push(t.substring(c,B).replace(O,e)),F(B+1+T+A),I=t.indexOf(n,c),v&&(D(),h))return R();if(s&&y.length>=s)return R(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:y.length,index:c}),B++}}else B++}return L();function N(t){y.push(t),w=c}function k(e){var n=0;if(-1!==e){var i=t.substring(B+1,e);i&&""===i.trim()&&(n=i.length)}return n}function L(e){return f||(void 0===e&&(e=t.substr(c)),b.push(e),c=p,N(b),v&&D()),R()}function F(e){c=e,N(b),b=[],S=t.indexOf(i,c)}function R(t){return{data:y,errors:_,meta:{delimiter:n,linebreak:i,aborted:h,truncated:!!t,cursor:w+(l||0)}}}function D(){o(R()),y=[],_=[]}},this.abort=function(){h=!0},this.getCharIndex=function(){return c}}function v(t){var e=t.data,n=s[e.workerId],i=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var r={abort:function(){i=!0,y(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(E(n.userStep)){for(var o=0;o<e.results.data.length&&(n.userStep({data:[e.results.data[o]],errors:e.results.errors,meta:e.results.meta},r),!i);o++);delete e.results}else E(n.userChunk)&&(n.userChunk(e.results,r,e.file),delete e.results)}e.finished&&!i&&y(e.workerId,e.results)}function y(t,e){var n=s[t];E(n.userComplete)&&n.userComplete(e),n.terminate(),delete s[t]}function _(){throw"Not implemented."}function b(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=b(t[n]);return e}function w(t,e){return function(){t.apply(e,arguments)}}function E(t){return"function"==typeof t}return r?n.onmessage=function(t){var e=t.data;if(void 0===l.WORKER_ID&&e&&(l.WORKER_ID=e.workerId),"string"==typeof e.input)n.postMessage({workerId:l.WORKER_ID,results:l.parse(e.input,e.config),finished:!0});else if(n.File&&e.input instanceof File||e.input instanceof Object){var i=l.parse(e.input,e.config);i&&n.postMessage({workerId:l.WORKER_ID,results:i,finished:!0})}}:l.WORKERS_SUPPORTED&&(e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",(function(){o=!0}),!0):o=!0),(h.prototype=Object.create(c.prototype)).constructor=h,(f.prototype=Object.create(c.prototype)).constructor=f,(p.prototype=Object.create(p.prototype)).constructor=p,(d.prototype=Object.create(c.prototype)).constructor=d,l})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";var i=n(18),r=n(16),o=n(36),s=n(28),a=n(3),l=n(10),u=n(29),c="units",h={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},f=[1,2,5],p=function(t){function e(e){var n=e||{},r=void 0!==n.className?n.className:"ol-scale-line";t.call(this,{element:document.createElement("div"),render:n.render||d,target:n.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=r+"-inner",this.element.className=r+" "+s.e,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==n.minWidth?n.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",Object(a.a)(this,Object(i.b)(c),this.handleUnitsChanged_,this),this.setUnits(n.units||h.METRIC)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getUnits=function(){return this.get(c)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(c,t)},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,i=this.getUnits(),o=i==h.DEGREES?u.b.DEGREES:u.b.METERS,s=Object(l.i)(n,t.resolution,e,o);n.getUnits()!=u.b.DEGREES&&n.getMetersPerUnit()&&o==u.b.METERS&&(s*=n.getMetersPerUnit());var a=this.minWidth_*s,c="";if(i==h.DEGREES){var p=l.a[u.b.DEGREES];n.getUnits()==u.b.DEGREES?a*=p:s/=p,a<p/60?(c="″",s*=3600):a<p?(c="′",s*=60):c="°"}else i==h.IMPERIAL?a<.9144?(c="in",s/=.0254):a<1609.344?(c="ft",s/=.3048):(c="mi",s/=1609.344):i==h.NAUTICAL?(s/=1852,c="nm"):i==h.METRIC?a<.001?(c="μm",s*=1e6):a<1?(c="mm",s*=1e3):a<1e3?c="m":(c="km",s/=1e3):i==h.US?a<.9144?(c="in",s*=39.37):a<1609.344?(c="ft",s/=.30480061):(c="mi",s/=1609.3472):Object(r.a)(!1,33);for(var d,A,g=3*Math.floor(Math.log(this.minWidth_*s)/Math.log(10));;){if(d=f[(g%3+3)%3]*Math.pow(10,Math.floor(g/3)),A=Math.round(d/s),isNaN(A))return this.element.style.display="none",void(this.renderedVisible_=!1);if(A>=this.minWidth_)break;++g}var m=d+" "+c;this.renderedHTML_!=m&&(this.innerElement_.innerHTML=m,this.renderedHTML_=m),this.renderedWidth_!=A&&(this.innerElement_.style.width=A+"px",this.renderedWidth_=A),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e}(o.a);function d(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()}e.a=p},function(t,e,n){"use strict";var i=n(4),r=n(47),o=n(37),s=n(34),a=function(t){function e(e,n,i){t.call(this,e),this.map=n,this.frameState=void 0!==i?i:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),l=function(t){function e(e,n,i,r,o){t.call(this,e,n,o),this.originalEvent=i,this.pixel=n.getEventPixel(i),this.coordinate=n.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(a),u=n(23),c=n(22),h=function(t){function e(e,n,i,r,o){t.call(this,e,n,i.originalEvent,r,o),this.pointerEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(l),f=n(3),p=n(59),d={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},A=function(t,e){this.dispatcher=t,this.mapping_=e};A.prototype.getEvents=function(){return Object.keys(this.mapping_)},A.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var g=A,m=1,v="mouse";function y(t){if(!this.isEventSimulatedFromTouch_(t)){m.toString()in this.pointerMap&&this.cancel(t);var e=x(t,this.dispatcher);this.pointerMap[m.toString()]=t,this.dispatcher.down(e,t)}}function _(t){if(!this.isEventSimulatedFromTouch_(t)){var e=x(t,this.dispatcher);this.dispatcher.move(e,t)}}function b(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[m.toString()];if(e&&e.button===t.button){var n=x(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}}function w(t){if(!this.isEventSimulatedFromTouch_(t)){var e=x(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function E(t){if(!this.isEventSimulatedFromTouch_(t)){var e=x(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function x(t,e){var n=e.cloneEvent(t,t),i=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),i()},n.pointerId=m,n.isPrimary=!0,n.pointerType=v,n}var C=function(t){function e(e){var n={mousedown:y,mousemove:_,mouseup:b,mouseover:w,mouseout:E};t.call(this,e,n),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,n=t.clientX,i=t.clientY,r=0,o=e.length,s=void 0;r<o&&(s=e[r]);r++){var a=Math.abs(n-s[0]),l=Math.abs(i-s[1]);if(a<=25&&l<=25)return!0}return!1},e.prototype.cancel=function(t){var e=x(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[m.toString()]},e}(g),B=["","unavailable","touch","pen","mouse"];function I(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function S(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function O(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function M(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function T(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function N(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function k(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function L(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var F=function(t){function e(e){var n={MSPointerDown:I,MSPointerMove:S,MSPointerUp:O,MSPointerOut:M,MSPointerOver:T,MSPointerCancel:N,MSGotPointerCapture:L,MSLostPointerCapture:k};t.call(this,e,n),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=B[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(g);function R(t){this.dispatcher.fireNativeEvent(t)}function D(t){this.dispatcher.fireNativeEvent(t)}function P(t){this.dispatcher.fireNativeEvent(t)}function U(t){this.dispatcher.fireNativeEvent(t)}function Q(t){this.dispatcher.fireNativeEvent(t)}function H(t){this.dispatcher.fireNativeEvent(t)}function j(t){this.dispatcher.fireNativeEvent(t)}function z(t){this.dispatcher.fireNativeEvent(t)}var K=function(t){function e(e){var n={pointerdown:R,pointermove:D,pointerup:P,pointerout:U,pointerover:Q,pointercancel:H,gotpointercapture:z,lostpointercapture:j};t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g),G=!1,q=function(t){function e(e,n,i){t.call(this,e),this.originalEvent=n;var r=i||{};this.buttons=function(t){var e;if(t.buttons||G)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}(r),this.pressure=function(t,e){var n=0;n=t.pressure?t.pressure:e?.5:0;return n}(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,n.preventDefault&&(this.preventDefault=function(){n.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a);!function(){try{var t=new MouseEvent("click",{buttons:1});G=1===t.buttons}catch(t){}}();var W=q,Y=n(15);function X(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function V(t){this.processTouches_(t,this.moveOverOut_)}function J(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function Z(t){this.processTouches_(t,this.cancelOut_)}var $=function(t){function e(e,n){var i={touchstart:X,touchmove:V,touchend:J,touchcancel:Z};t.call(this,e,i),this.pointerMap=e.pointerMap,this.mouseSource=n,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&m.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.radiusX||0,n.height=e.radiusY||0,n.pressure=e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType="touch",n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},e.prototype.processTouches_=function(t,e){var n=Array.prototype.slice.call(t.changedTouches),i=n.length;function r(){t.preventDefault()}for(var o=0;o<i;++o){var s=this.touchToPointer_(t,n[o]);s.preventDefault=r,e.call(this,t,s)}},e.prototype.findTouch_=function(t,e){for(var n=t.length,i=0;i<n;i++){if(t[i].identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),i=n.length;if(i>=e.length){for(var r=[],o=0;o<i;++o){var s=Number(n[o]),a=this.pointerMap[s];s==m||this.findTouch_(e,s-2)||r.push(a.out)}for(var l=0;l<r.length;++l)this.cancelOut_(t,r[l])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var n=e,i=this.pointerMap[n.pointerId];if(i){var r=i.out,o=i.outTarget;this.dispatcher.move(n,t),r&&o!==n.target&&(r.relatedTarget=n.target,n.relatedTarget=o,r.target=o,n.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),i.out=n,i.outTarget=n.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var i=[n.clientX,n.clientY];e.push(i),setTimeout((function(){Object(Y.h)(e,i)}),this.dedupTimeout_)}},e}(g),tt=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],et=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(u.f)this.registerSource("native",new K(this));else if(u.e)this.registerSource("ms",new F(this));else{var t=new C(this);this.registerSource("mouse",t),u.h&&this.registerSource("touch",new $(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var n=e,i=n.getEvents();i&&(i.forEach(function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}.bind(this)),this.eventSourceList_.push(n))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.addEvents_(n.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.removeEvents_(n.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){Object(f.a)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){Object(f.c)(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var n={},i=0,r=tt.length;i<r;i++){var o=tt[i][0];n[o]=t[o]||e[o]||tt[i][1]}return n},e.prototype.down=function(t,e){this.fireEvent(d.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(d.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(d.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(d.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(d.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(d.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(d.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(d.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,n){return new W(t,n,e)},e.prototype.fireEvent=function(t,e,n){var i=this.makeEvent(t,e,n);this.dispatchEvent(i)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,x(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(p.a),nt=function(t){function e(e,n){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n?n*u.b:u.b,this.down_=null;var i=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new et(i),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=Object(f.a)(this.pointerEventHandler_,d.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=Object(f.a)(this.pointerEventHandler_,d.POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new h(c.a.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new h(c.a.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new h(c.a.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==c.a.POINTERUP||e.type==c.a.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==c.a.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new h(c.a.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(f.e),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new h(c.a.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new et(document),this.dragListenerKeys_.push(Object(f.a)(this.documentPointerEventHandler_,c.a.POINTERMOVE,this.handlePointerMove_,this),Object(f.a)(this.documentPointerEventHandler_,c.a.POINTERUP,this.handlePointerUp_,this),Object(f.a)(this.pointerEventHandler_,c.a.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new h(c.a.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new h(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(f.e)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(Object(f.e)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(f.e),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(p.a),it=n(84),rt={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},ot=n(52),st=n(18),at=n(71),lt=n(11),ut=n(8),ct=n(16),ht=n(14),ft=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};ft.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(ht.b)(this.queuedElements_)},ft.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},ft.prototype.enqueue=function(t){Object(ct.a)(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},ft.prototype.getCount=function(){return this.elements_.length},ft.prototype.getLeftChildIndex_=function(t){return 2*t+1},ft.prototype.getRightChildIndex_=function(t){return 2*t+2},ft.prototype.getParentIndex_=function(t){return t-1>>1},ft.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},ft.prototype.isEmpty=function(){return 0===this.elements_.length},ft.prototype.isKeyQueued=function(t){return t in this.queuedElements_},ft.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},ft.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],s=t;t<i>>1;){var a=this.getLeftChildIndex_(t),l=this.getRightChildIndex_(t),u=l<i&&n[l]<n[a]?l:a;e[t]=e[u],n[t]=n[u],t=u}e[t]=r,n[t]=o,this.siftDown_(s,t)},ft.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;n[e]=n[s],i[e]=i[s],e=s}n[e]=r,i[e]=o},ft.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,s=0,a=r.length;for(e=0;e<a;++e)(n=i(t=r[e]))==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[s]=n,r[s++]=t);r.length=s,o.length=s,this.heapify_()};var pt=function(t){function e(e,n){t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()})),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);if(n){var i=e[0];Object(f.a)(i,ut.a.CHANGE,this.handleTileChange,this)}return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===lt.a.LOADED||n===lt.a.ERROR||n===lt.a.EMPTY||n===lt.a.ABORT){Object(f.c)(e,ut.a.CHANGE,this.handleTileChange,this);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,r,o=0,s=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)r=(i=this.dequeue()[0]).getKey(),(n=i.getState())===lt.a.ABORT?s=!0:n!==lt.a.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,i.load());0===o&&s&&this.tileChangeCallback_()},e}(ft),dt=n(78),At=n(19),gt=n(17),mt=n(1),vt=n(20),yt=n(85),_t=n(61),bt={LAYERS:"layers"},wt=function(t){function e(e){var n=e||{},i=Object(ht.a)({},n);delete i.layers;var o=n.layers;t.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},Object(f.a)(this,Object(st.b)(bt.LAYERS),this.handleLayersChanged_,this),o?Array.isArray(o)?o=new r.a(o.slice(),{unique:!0}):Object(ct.a)("function"==typeof o.getArray,43):o=new r.a(void 0,{unique:!0}),this.setLayers(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(f.e),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(f.a)(t,o.a.ADD,this.handleLayersAdd_,this),Object(f.a)(t,o.a.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(f.e);Object(ht.b)(this.listenerKeys_);for(var n=t.getArray(),r=0,s=n.length;r<s;r++){var a=n[r];this.listenerKeys_[Object(i.c)(a)]=[Object(f.a)(a,at.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(f.a)(a,ut.a.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(i.c)(e)]=[Object(f.a)(e,at.a.PROPERTYCHANGE,this.handleLayerChange_,this),Object(f.a)(e,ut.a.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=Object(i.c)(e);this.listenerKeys_[n].forEach(f.e),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get(bt.LAYERS)},e.prototype.setLayers=function(t){this.set(bt.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));for(var i=this.getLayerState(),r=n,o=e.length;r<o;r++){var s=e[r];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),void 0!==i.extent&&(void 0!==s.extent?s.extent=Object(mt.B)(s.extent,i.extent):s.extent=i.extent)}return e},e.prototype.getSourceState=function(){return _t.a.READY},e}(yt.a),Et=n(56),xt=n(12);var Ct=function(t){function e(e){t.call(this);var n=function(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,i,o,s={},a=t.layers&&"function"==typeof t.layers.getLayers?t.layers:new wt({layers:t.layers});s[rt.LAYERGROUP]=a,s[rt.TARGET]=t.target,s[rt.VIEW]=void 0!==t.view?t.view:new dt.a,void 0!==t.controls&&(Array.isArray(t.controls)?n=new r.a(t.controls.slice()):(Object(ct.a)("function"==typeof t.controls.getArray,47),n=t.controls));void 0!==t.interactions&&(Array.isArray(t.interactions)?i=new r.a(t.interactions.slice()):(Object(ct.a)("function"==typeof t.interactions.getArray,48),i=t.interactions));void 0!==t.overlays?Array.isArray(t.overlays)?o=new r.a(t.overlays.slice()):(Object(ct.a)("function"==typeof t.overlays.getArray,49),o=t.overlays):o=new r.a;return{controls:n,interactions:i,keyboardEventTarget:e,overlays:o,values:s}}(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:u.b,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Object(xt.c)(),this.pixelToCoordinateTransform_=Object(xt.c)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(u.h?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var i=[ut.a.CLICK,ut.a.DBLCLICK,ut.a.MOUSEDOWN,ut.a.TOUCHSTART,ut.a.MSPOINTERDOWN,c.a.POINTERDOWN,ut.a.MOUSEWHEEL,ut.a.WHEEL],a=0,l=i.length;a<l;++a)Object(f.a)(this.overlayContainerStopEvent_,i[a],s.b);for(var h in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new nt(this,e.moveTolerance),c.a)Object(f.a)(this.mapBrowserEventHandler_,c.a[h],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=n.keyboardEventTarget,this.keyHandlerKeys_=null,Object(f.a)(this.viewport_,ut.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(f.a)(this.viewport_,ut.a.WHEEL,this.handleBrowserEvent,this),Object(f.a)(this.viewport_,ut.a.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=n.controls||new r.a,this.interactions=n.interactions||new r.a,this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new pt(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},Object(f.a)(this,Object(st.b)(rt.LAYERGROUP),this.handleLayerGroupChanged_,this),Object(f.a)(this,Object(st.b)(rt.VIEW),this.handleViewChanged_,this),Object(f.a)(this,Object(st.b)(rt.SIZE),this.handleSizeChanged_,this),Object(f.a)(this,Object(st.b)(rt.TARGET),this.handleTargetChanged_,this),this.setProperties(n.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),Object(f.a)(this.controls,o.a.ADD,(function(t){t.element.setMap(this)}),this),Object(f.a)(this.controls,o.a.REMOVE,(function(t){t.element.setMap(null)}),this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),Object(f.a)(this.interactions,o.a.ADD,(function(t){t.element.setMap(this)}),this),Object(f.a)(this.interactions,o.a.REMOVE,(function(t){t.element.setMap(null)}),this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),Object(f.a)(this.overlays_,o.a.ADD,(function(t){this.addOverlayInternal_(t.element)}),this),Object(f.a)(this.overlays_,o.a.REMOVE,(function(t){var e=t.element.getId();void 0!==e&&delete this.overlayIdIndex_[e.toString()],t.element.setMap(null)}),this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),Object(f.c)(this.viewport_,ut.a.CONTEXTMENU,this.handleBrowserEvent,this),Object(f.c)(this.viewport_,ut.a.WHEEL,this.handleBrowserEvent,this),Object(f.c)(this.viewport_,ut.a.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(ut.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixel(t),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:vt.b;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,(function(t){n||(n=[]),n.push(t)}),e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},r=void 0!==i.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=i.layerFilter||vt.b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t),i=void 0!==(e=void 0!==e?e:{}).layerFilter?e.layerFilter:vt.b,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(rt.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"==typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Object(xt.a)(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(rt.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Object(xt.a)(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(rt.SIZE)},e.prototype.getView=function(){return this.get(rt.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var r=this.frameState_;if(!(r&&e in r.wantedTiles))return 1/0;if(!r.wantedTiles[e][t.getKey()])return 1/0;var o=n[0]-r.focus[0],s=n[1]-r.focus[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new l(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.getActive())if(!i.handleEvent(t))break}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;r[At.a.ANIMATING]&&(n=this.loadTilesWhileAnimating_?8:0,i=2),r[At.a.INTERACTING]&&(n=this.loadTilesWhileInteracting_?8:0,i=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(ot.a.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||function t(e){for(var n=0,i=e.length;n<i;++n){var r=e[n];if("function"==typeof r.getLayers)return t(r.getLayers().getArray());var o=r.getSource();if(o&&o.loading)return!0}return!1}(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(ot.a.RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,s=0,a=o.length;s<a;++s)o[s](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Object(f.e)(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(f.a)(i,ut.a.KEYDOWN,this.handleBrowserEvent,this),Object(f.a)(i,ut.a.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(ut.a.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Object(gt.e)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(ut.a.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(f.e)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(f.e)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",Object(i.c)(t)),this.viewPropertyListenerKey_=Object(f.a)(t,at.a.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(f.a)(t,ut.a.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(f.e),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(f.a)(t,at.a.PROPERTYCHANGE,this.render,this),Object(f.a)(t,ut.a.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,n=this.getSize(),r=this.getView(),o=Object(mt.j)(),s=this.frameState_,l=null;if(void 0!==n&&Object(Et.a)(n)&&r&&r.isDef()){for(var u=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),c=this.getLayerGroup().getLayerStatesArray(),h={},f=0,p=c.length;f<p;++f)h[Object(i.c)(c[f].layer)]=c[f];e=r.getState(this.pixelRatio_),l={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:o,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:h,layerStatesArray:c,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:u,wantedTiles:{}}}if(l&&(l.extent=Object(mt.z)(e.center,e.resolution,e.rotation,l.size,o)),this.frameState_=l,this.renderer_.renderFrame(l),l){if(l.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,l.postRenderFunctions),s)(!this.previousExtent_||!Object(mt.H)(this.previousExtent_)&&!Object(mt.p)(l.extent,this.previousExtent_))&&(this.dispatchEvent(new a(it.a.MOVESTART,this,s)),this.previousExtent_=Object(mt.l)(this.previousExtent_));this.previousExtent_&&!l.viewHints[At.a.ANIMATING]&&!l.viewHints[At.a.INTERACTING]&&!Object(mt.p)(l.extent,this.previousExtent_)&&(this.dispatchEvent(new a(it.a.MOVEEND,this,l)),Object(mt.d)(l.extent,this.previousExtent_))}this.dispatchEvent(new a(it.a.POSTRENDER,this,l)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(rt.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(rt.SIZE,t)},e.prototype.setTarget=function(t){this.set(rt.TARGET,t)},e.prototype.setView=function(t){this.set(rt.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[Object(i.c)(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[Object(i.c)(t)],this.render()},e}(st.a);var Bt=n(145),It=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};It.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},It.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},It.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_},It.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},It.prototype.getAngle=function(){return this.angle_};var St=It,Ot=n(24);function Mt(t){var e=!1;if(t.type==c.a.DBLCLICK){var n=t.originalEvent,i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_,s=i.getView();Object(Ot.f)(s,o,r,this.duration_),t.preventDefault(),e=!0}return!e}var Tt=function(t){function e(e){t.call(this,{handleEvent:Mt});var n=e||{};this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot.a),Nt=n(64),kt=n(39),Lt=n(21);function Ft(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}var Rt=function(t){function e(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==c.a.POINTERDRAG)this.handleDragEvent(t);else if(t.type==c.a.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==c.a.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==c.a.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(function(t){var e=t.type;return e===c.a.POINTERDOWN||e===c.a.POINTERDRAG||e===c.a.POINTERUP}(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==c.a.POINTERUP?delete this.trackedPointers_[n]:t.type==c.a.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=Object(ht.c)(this.trackedPointers_)}},e}(Ot.a),Dt=function(t){function e(e){t.call(this,{stopDown:vt.a});var n=e||{};this.kinetic_=n.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=n.condition?n.condition:Lt.g,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(At.a.INTERACTING,1));var e=this.targetPointers,n=Ft(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=this.lastCentroid[0]-n[0],r=n[1]-this.lastCentroid[1],o=t.map.getView(),s=[i,r];Object(Nt.d)(s,o.getResolution()),Object(Nt.c)(s,o.getRotation()),Object(Nt.a)(s,o.getCenter()),s=o.constrainCenter(s),o.setCenter(s)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenter(),s=e.getPixelFromCoordinate(o),a=e.getCoordinateFromPixel([s[0]-i*Math.cos(r),s[1]-i*Math.sin(r)]);n.animate({center:n.constrainCenter(a),duration:500,easing:kt.b})}return this.panning_&&(this.panning_=!1,n.setHint(At.a.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Rt),Pt=n(73),Ut=function(t){function e(e){var n=e||{};t.call(this,{stopDown:vt.a}),this.condition_=n.condition?n.condition:Lt.a,this.lastAngle_=void 0,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(Object(Lt.e)(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==Pt.c){var i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_,a=n.getRotation();Object(Ot.d)(n,a-s)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){if(!Object(Lt.e)(t))return!0;var e=t.map.getView();e.setHint(At.a.INTERACTING,-1);var n=e.getRotation();return Object(Ot.c)(e,n,void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){return!!Object(Lt.e)(t)&&(!(!Object(Lt.d)(t)||!this.condition_(t))&&(t.map.getView().setHint(At.a.INTERACTING,1),this.lastAngle_=void 0,!0))},e}(Rt),Qt=n(98),Ht=n(50),jt=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new Ht.a([n])},e.prototype.getGeometry=function(){return this.geometry_},e}(Qt.a),zt="boxstart",Kt="boxdrag",Gt="boxend",qt=function(t){function e(e,n,i){t.call(this,e),this.coordinate=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a);function Wt(){var t=this.getMap(),e=t.getView(),n=t.getSize(),i=this.getGeometry().getExtent();if(this.out_){var r=e.calculateExtent(n),o=Object(mt.n)([t.getPixelFromCoordinate(Object(mt.v)(i)),t.getPixelFromCoordinate(Object(mt.D)(i))]),s=e.getResolutionForExtent(o,n);Object(mt.J)(r,1/s),i=r}var a=e.constrainResolution(e.getResolutionForExtent(i,n)),l=Object(mt.x)(i);l=e.constrainCenter(l),e.animate({resolution:a,center:l,duration:this.duration_,easing:kt.b})}var Yt=function(t){function e(e){var n=e||{},i=n.condition?n.condition:Lt.i;t.call(this,{condition:i,className:n.className||"ol-dragzoom",onBoxEnd:Wt}),this.duration_=void 0!==n.duration?n.duration:200,this.out_=void 0!==n.out&&n.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){t.call(this);var n=e||{};this.box_=new jt(n.className||"ol-dragbox"),this.minArea_=void 0!==n.minArea?n.minArea:64,this.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:vt.c,this.startPixel_=null,this.condition_=n.condition?n.condition:Lt.b,this.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Object(Lt.e)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new qt(Kt,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Object(Lt.e)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new qt(Gt,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!Object(Lt.e)(t)&&(!(!Object(Lt.d)(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new qt(zt,t.coordinate,t)),!0))},e}(Rt)),Xt={LEFT:37,UP:38,RIGHT:39,DOWN:40};function Vt(t){var e=!1;if(t.type==ut.a.KEYDOWN){var n=t.originalEvent.keyCode;if(this.condition_(t)&&(n==Xt.DOWN||n==Xt.LEFT||n==Xt.RIGHT||n==Xt.UP)){var i=t.map.getView(),r=i.getResolution()*this.pixelDelta_,o=0,s=0;n==Xt.DOWN?s=-r:n==Xt.LEFT?o=-r:n==Xt.RIGHT?o=r:s=r;var a=[o,s];Object(Nt.c)(a,i.getRotation()),Object(Ot.b)(i,a,this.duration_),t.preventDefault(),e=!0}}return!e}var Jt=function(t){function e(e){t.call(this,{handleEvent:Vt});var n=e||{};this.defaultCondition_=function(t){return Object(Lt.g)(t)&&Object(Lt.k)(t)},this.condition_=void 0!==n.condition?n.condition:this.defaultCondition_,this.duration_=void 0!==n.duration?n.duration:100,this.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot.a);function Zt(t){var e=!1;if(t.type==ut.a.KEYDOWN||t.type==ut.a.KEYPRESS){var n=t.originalEvent.charCode;if(this.condition_(t)&&(n=="+".charCodeAt(0)||n=="-".charCodeAt(0))){var i=t.map,r=n=="+".charCodeAt(0)?this.delta_:-this.delta_,o=i.getView();Object(Ot.f)(o,r,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}var $t=function(t){function e(e){t.call(this,{handleEvent:Zt});var n=e||{};this.condition_=n.condition?n.condition:Lt.k,this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot.a),te=n(9),ee="trackpad",ne="wheel",ie=function(t){function e(e){var n=e||{};t.call(this,n),this.delta_=0,this.duration_=void 0!==n.duration?n.duration:250,this.timeout_=void 0!==n.timeout?n.timeout:80,this.useAnchor_=void 0===n.useAnchor||n.useAnchor,this.constrainResolution_=n.constrainResolution||!1,this.condition_=n.condition?n.condition:Lt.b,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(At.a.INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==ut.a.WHEEL&&e!==ut.a.MOUSEWHEEL)return!0;t.preventDefault();var n,i=t.map,r=t.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==ut.a.WHEEL?(n=r.deltaY,u.c&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=u.b),r.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):t.type==ut.a.MOUSEWHEEL&&(n=-r.wheelDeltaY,u.g&&(n/=3)),0===n)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?ee:ne),this.mode_===ee){var s=i.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.setHint(At.a.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=s.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),l=s.getMinResolution(),c=s.getMaxResolution(),h=0;if(a<l?(a=Math.max(a,l/this.trackpadZoomBuffer_),h=1):a>c&&(a=Math.min(a,c*this.trackpadZoomBuffer_),h=-1),this.lastAnchor_){var f=s.calculateCenterZoom(a,this.lastAnchor_);s.setCenter(s.constrainCenter(f))}return s.setResolution(a),0===h&&this.constrainResolution_&&s.animate({resolution:s.constrainResolution(a,n>0?-1:1),easing:kt.b,anchor:this.lastAnchor_,duration:this.duration_}),h>0?s.animate({resolution:l,easing:kt.b,anchor:this.lastAnchor_,duration:500}):h<0&&s.animate({resolution:c,easing:kt.b,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=n;var p=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),p),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=Object(te.a)(this.delta_,-1,1);Object(Ot.f)(e,-n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Ot.a),re=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=vt.a),t.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==n.threshold?n.threshold:.3,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==Pt.c){var l=s.getViewport().getBoundingClientRect(),u=Ft(this.targetPointers);if(u[0]-=l.left,u[1]-=l.top,this.anchor_=s.getCoordinateFromPixel(u),this.rotating_){var c=a.getRotation();s.render(),Object(Ot.d)(a,c+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();if(e.setHint(At.a.INTERACTING,-1),this.rotating_){var n=e.getRotation();Object(Ot.c)(e,n,this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(At.a.INTERACTING,1),!0}return!1},e}(Rt),oe=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=vt.a),t.call(this,i),this.constrainResolution_=n.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,l=a.getView(),u=l.getResolution(),c=l.getMaxResolution(),h=l.getMinResolution(),f=u*e;f>c?(e=c/u,f=c):f<h&&(e=h/u,f=h),1!=e&&(this.lastScaleDelta_=e);var p=a.getViewport().getBoundingClientRect(),d=Ft(this.targetPointers);d[0]-=p.left,d[1]-=p.top,this.anchor_=a.getCoordinateFromPixel(d),a.render(),Object(Ot.g)(l,f,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map.getView();e.setHint(At.a.INTERACTING,-1);var n=e.getResolution();if(this.constrainResolution_||n<e.getMinResolution()||n>e.getMaxResolution()){var i=this.lastScaleDelta_-1;Object(Ot.e)(e,n,this.anchor_,this.duration_,i)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(At.a.INTERACTING,1),!0}return!1},e}(Rt);var se=n(54),ae=function(t){function e(e,n,i,r){t.call(this),this.extent=e,this.pixelRatio_=i,this.resolution=n,this.state=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(ut.a.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(i.b)()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(i.b)()},e}(p.a),le=n(38),ue=function(t){function e(e,n,i,r,o){var s=void 0!==o?le.a.IDLE:le.a.LOADED;t.call(this,e,n,i,s),this.loader_=void 0!==o?o:null,this.canvas_=r,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=le.a.ERROR):this.state=le.a.LOADED,this.changed()},e.prototype.load=function(){this.state==le.a.IDLE&&(this.state=le.a.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(ae),ce=n(51),he=n(130),fe=n(28),pe=n(66),de=function(t){function e(e,n,i,r,o){t.call(this,e),this.vectorContext=n,this.frameState=i,this.context=r,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(s.a),Ae=n(6),ge=n(100),me=n(31),ve=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function ye(t,e,n){return e+":"+t+":"+(n?Object(me.b)(n):"null")}ve.prototype.clear=function(){this.cache_={},this.cacheSize_=0},ve.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!=(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},ve.prototype.get=function(t,e,n){var i=ye(t,e,n);return i in this.cache_?this.cache_[i]:null},ve.prototype.set=function(t,e,n,i){var r=ye(t,e,n);this.cache_[r]=i,++this.cacheSize_},ve.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var _e=new ve,be=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){Object(i.b)()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;Object(xt.b)(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Object(xt.d)(Object(xt.g)(i,n))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o,s,a){var l,u=e.viewState,c=u.resolution;function h(t,n){var s=e.layerStates[Object(i.c)(n)].managed;if(!(Object(i.c)(t)in e.skippedFeatureUids)||s)return r.call(o,t,s?n:null)}var f=u.projection,p=t;if(f.canWrapX()){var d=f.getExtent(),A=Object(mt.E)(d),g=t[0];if(g<d[0]||g>d[2])p=[g+A*Math.ceil((d[0]-g)/A),t[1]]}var m,v=e.layerStatesArray;for(m=v.length-1;m>=0;--m){var y=v[m],_=y.layer;if(Object(pe.b)(y,c)&&s.call(a,_)){var b=this.getLayerRenderer(_),w=_.getSource();if(w&&(l=b.forEachFeatureAtCoordinate(w.getWrapX()?p:t,e,n,h)),l)return l}}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,o,s,a){return Object(i.b)()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,vt.b,this,i,r)},e.prototype.getLayerRenderer=function(t){var e=Object(i.c)(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,r=0,o=this.layerRendererConstructors_.length;r<o;++r){var s=this.layerRendererConstructors_[r];if(s.handles(t)){n=s.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=Object(f.a)(n,ut.a.CHANGE,this.handleLayerRendererChange_,this),n},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],Object(f.e)(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},e.prototype.renderFrame=function(t){Object(i.b)()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(we)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(Qt.a);function we(t,e){_e.expire()}function Ee(t,e){return t.zIndex-e.zIndex}var xe=[],Ce=function(t){function e(e){t.call(this,e);var n=e.getViewport();this.context_=Object(gt.a)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=fe.e,n.insertBefore(this.canvas_,n.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Object(xt.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap(),i=this.context_;if(n.hasListener(t)){var r=e.extent,o=e.pixelRatio,s=e.viewState.rotation,a=this.getTransform(e),l=new ge.a(i,o,r,a,s),u=new de(t,l,e,i,null);n.dispatchEvent(u)}},e.prototype.getTransform=function(t){var e=t.viewState,n=this.canvas_.width/2,i=this.canvas_.height/2,r=t.pixelRatio/e.resolution,o=-r,s=-e.rotation,a=-e.center[0],l=-e.center[1];return Object(xt.b)(this.transform_,n,i,r,o,s,a,l)},e.prototype.renderFrame=function(t){if(t){var e=this.context_,n=t.pixelRatio,i=Math.round(t.size[0]*n),r=Math.round(t.size[1]*n);this.canvas_.width!=i||this.canvas_.height!=r?(this.canvas_.width=i,this.canvas_.height=r):e.clearRect(0,0,i,r);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(ot.a.PRECOMPOSE,t);var s=t.layerStatesArray;Object(Y.j)(s,Ee),o&&(e.save(),Object(Ae.s)(e,o,i/2,r/2));var a,l,u=t.viewState.resolution;for(a=0,l=s.length;a<l;++a){var c=s[a],h=c.layer,f=this.getLayerRenderer(h);Object(pe.b)(c,u)&&c.sourceState==_t.a.READY&&(f.prepareFrame(t,c)&&f.composeFrame(t,c,e))}o&&e.restore(),this.dispatchRenderEvent(ot.a.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,s){var a,l,u=e.viewState.resolution,c=e.layerStatesArray,h=c.length,f=Object(xt.a)(e.pixelToCoordinateTransform,t.slice());for(l=h-1;l>=0;--l){var p=c[l],d=p.layer;if(Object(pe.b)(p,u)&&o.call(s,d))if(a=this.getLayerRenderer(d).forEachLayerAtCoordinate(f,e,n,i,r))return a}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var n=0,i=e.length;n<i;++n){var r=e[n];Object(Y.d)(xe,r)||xe.push(r)}},e}(be),Be=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=Object(xt.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i,o=e.size[1]*i,s=e.viewState.rotation,a=Object(mt.C)(n),l=Object(mt.D)(n),u=Object(mt.w)(n),c=Object(mt.v)(n);Object(xt.a)(e.coordinateToPixelTransform,a),Object(xt.a)(e.coordinateToPixelTransform,l),Object(xt.a)(e.coordinateToPixelTransform,u),Object(xt.a)(e.coordinateToPixelTransform,c),t.save(),Object(Ae.s)(t,-s,r/2,o/2),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(u[0]*i,u[1]*i),t.lineTo(c[0]*i,c[1]*i),t.clip(),Object(Ae.s)(t,s,r/2,o/2)},e.prototype.dispatchComposeEvent_=function(t,e,n,i){var r=this.getLayer();if(r.hasListener(t)){var o=n.size[0]*n.pixelRatio,s=n.size[1]*n.pixelRatio,a=n.viewState.rotation;Object(Ae.s)(e,-a,o/2,s/2);var l=void 0!==i?i:this.getTransform(n,0),u=new ge.a(e,n.pixelRatio,n.extent,l,n.viewState.rotation),c=new de(t,u,n,e,null);r.dispatchEvent(c),Object(Ae.s)(e,a,o/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){return this.forEachFeatureAtCoordinate(t,e,n,vt.b)?i.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,n,i){this.dispatchComposeEvent_(ot.a.POSTCOMPOSE,t,e,i)},e.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_(ot.a.PRECOMPOSE,t,e,n)},e.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_(ot.a.RENDER,t,e,n)},e.prototype.getTransform=function(t,e){var n=t.viewState,i=t.pixelRatio,r=i*t.size[0]/2,o=i*t.size[1]/2,s=i/n.resolution,a=-s,l=-n.rotation,u=-n.center[0]+e,c=-n.center[1];return Object(xt.b)(this.transform_,r,o,s,a,l,u,c)},e.prototype.composeFrame=function(t,e,n){Object(i.b)()},e.prototype.prepareFrame=function(t,e){return Object(i.b)()},e}(function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){return t.forEachLoadedTile(e,i,r,(function(t){n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t}))}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===le.a.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=le.a.LOADED&&e!=le.a.ERROR&&Object(f.a)(t,ut.a.CHANGE,this.handleImageChange_,this),e==le.a.IDLE&&(t.load(),e=t.getState()),e==le.a.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==_t.a.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=Object(i.c)(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n,r){var o=Object(i.c)(e),s=n.toString();o in t?s in t[o]?t[o][s].extend(r):t[o][s]=r:(t[o]={},t[o][s]=r)},e.prototype.manageTilePyramid=function(t,e,n,r,o,s,a,l,u,c){var h=Object(i.c)(e);h in t.wantedTiles||(t.wantedTiles[h]={});var f,p,d,A,g,m,v=t.wantedTiles[h],y=t.tileQueue;for(m=n.getMinZoom();m<=a;++m)for(p=n.getTileRangeForExtentAndZ(s,m,p),d=n.getResolution(m),A=p.minX;A<=p.maxX;++A)for(g=p.minY;g<=p.maxY;++g)a-m<=l?((f=e.getTile(m,A,g,r,o)).getState()==lt.a.IDLE&&(v[f.getKey()]=!0,y.isKeyQueued(f.getKey())||y.enqueue([f,h,n.getTileCoordCenter(f.tileCoord),d])),void 0!==u&&u.call(c,f)):e.useTile(m,A,g,o)},e}(n(70).a)),Ie=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=Object(xt.c)(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var i=this.getImage();if(i){var r=e.extent,o=void 0!==r&&!Object(mt.g)(r,t.extent)&&Object(mt.F)(r,t.extent);o&&this.clip(n,t,r);var s=this.getImageTransform(),a=n.globalAlpha;n.globalAlpha=e.opacity;var l=s[4],u=s[5],c=i.width*s[0],h=i.height*s[3];c>=.5&&h>=.5&&n.drawImage(i,0,0,+i.width,+i.height,Math.round(l),Math.round(u),Math.round(c),Math.round(h)),n.globalAlpha=a,o&&n.restore()}this.postCompose(n,t,e)},e.prototype.getImage=function(){return Object(i.b)()},e.prototype.getImageTransform=function(){return Object(i.b)()},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){if(this.getImage()){var o=Object(xt.a)(this.coordinateToCanvasPixelTransform,t.slice());Object(Nt.d)(o,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Object(gt.a)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),o[0],o[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?i.call(r,this.getLayer(),s):void 0}},e}(Be),Se=function(t){function e(n){if(t.call(this,n),this.image_=null,this.imageTransform_=Object(xt.c)(),this.skippedFeatures_=[],this.vectorRenderer_=null,n.getType()===ce.a.VECTOR)for(var i=0,r=xe.length;i<r;++i){var o=xe[i];if(o!==e&&o.handles(n)){this.vectorRenderer_=new o(n);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var n,i=t.pixelRatio,r=t.size,o=t.viewState,s=o.center,a=o.resolution,l=this.getLayer().getSource(),u=t.viewHints,c=this.vectorRenderer_,h=t.extent;if(c||void 0===e.extent||(h=Object(mt.B)(h,e.extent)),!u[At.a.ANIMATING]&&!u[At.a.INTERACTING]&&!Object(mt.H)(h)){var f=o.projection;if(!se.a){var p=l.getProjection();p&&(f=p)}var d=this.skippedFeatures_;if(c){var A=c.context,g=Object(ht.a)({},t,{size:[Object(mt.E)(h)/a,Object(mt.A)(h)/a],viewState:Object(ht.a)({},t.viewState,{rotation:0})}),m=Object.keys(g.skippedFeatureUids).sort();n=new ue(h,a,i,A.canvas,(function(t){!c.prepareFrame(g,e)||!c.replayGroupChanged&&Object(Y.b)(d,m)||(A.canvas.width=g.size[0]*i,A.canvas.height=g.size[1]*i,c.compose(A,g,e),d=m,t())}))}else n=l.getImage(h,a,i,f);n&&this.loadImage(n)&&(this.image_=n,this.skippedFeatures_=d)}if(this.image_){var v=(n=this.image_).getExtent(),y=n.getResolution(),_=n.getPixelRatio(),b=i*y/(a*_),w=Object(xt.b)(this.imageTransform_,i*r[0]/2,i*r[1]/2,b,b,0,_*(v[0]-s[0])/y,_*(s[1]-v[3])/y);Object(xt.b)(this.coordinateToCanvasPixelTransform,i*r[0]/2-w[4],i*r[1]/2-w[5],i/a,-i/a,0,-s[0],-s[1]),this.renderedResolution=y*i/_}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,n,i,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,i,r):t.prototype.forEachFeatureAtCoordinate.call(this,e,n,i,r)},e}(Ie);Se.handles=function(t){return t.getType()===ce.a.IMAGE||t.getType()===ce.a.VECTOR&&t.getRenderMode()===he.a.IMAGE},Se.create=function(t,e){return new Se(e)};var Oe=Se,Me=n(93),Te=function(t){function e(e,n){t.call(this,e),this.context=n?null:Object(gt.a)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=Object(mt.j)(),this.tmpTileRange_=new Me.b(0,0,0,0),this.imageTransform_=Object(xt.c)(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==lt.a.LOADED||n==lt.a.EMPTY||n==lt.a.ERROR&&!i},e.prototype.getTile=function(t,e,n,i,r){var o=this.getLayer(),s=o.getSource().getTile(t,e,n,i,r);return s.getState()==lt.a.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):s.setState(lt.a.LOADED)),this.isDrawableTile_(s)||(s=s.getInterimTile()),s},e.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,r=t.size,o=t.viewState,s=o.projection,a=o.resolution,l=o.center,u=this.getLayer(),c=u.getSource(),h=c.getRevision(),f=c.getTileGridForProjection(s),p=f.getZForResolution(a,this.zDirection),d=f.getResolution(p),A=Math.round(a/d)||1,g=t.extent;if(void 0!==e.extent&&(g=Object(mt.B)(g,e.extent)),Object(mt.H)(g))return!1;var m=f.getTileRangeForExtentAndZ(g,p),v=f.getTileRangeExtent(p,m),y=c.getTilePixelRatio(n),_={};_[p]={};var b,w,E,x=this.createLoadedTileFinder(c,s,_),C=t.viewHints,B=C[At.a.ANIMATING]||C[At.a.INTERACTING],I=this.tmpExtent,S=this.tmpTileRange_;for(this.newTiles_=!1,w=m.minX;w<=m.maxX;++w)for(E=m.minY;E<=m.maxY;++E)if(!(Date.now()-t.time>16&&B)){if(b=this.getTile(p,w,E,n,s),this.isDrawableTile_(b)){var O=Object(i.c)(this);if(b.getState()==lt.a.LOADED){_[p][b.tileCoord.toString()]=b;var M=b.inTransition(O);this.newTiles_||!M&&-1!==this.renderedTiles.indexOf(b)||(this.newTiles_=!0)}if(1===b.getAlpha(O,t.time))continue}var T=f.getTileCoordChildTileRange(b.tileCoord,S,I),N=!1;T&&(N=x(p+1,T)),N||f.forEachTileCoordParentTileRange(b.tileCoord,x,null,S,I)}var k=d*n/y*A;if(!(this.renderedResolution&&Date.now()-t.time>16&&B)&&(this.newTiles_||!this.renderedExtent_||!Object(mt.g)(this.renderedExtent_,g)||this.renderedRevision!=h||A!=this.oversampling_||!B&&k!=this.renderedResolution)){var L=this.context;if(L){var F=c.getTilePixelSize(p,n,s),R=Math.round(m.getWidth()*F[0]/A),D=Math.round(m.getHeight()*F[1]/A),P=L.canvas;P.width!=R||P.height!=D?(this.oversampling_=A,P.width=R,P.height=D):((this.renderedExtent_&&!Object(mt.p)(v,this.renderedExtent_)||this.renderedRevision!=h)&&L.clearRect(0,0,R,D),A=this.oversampling_)}this.renderedTiles.length=0;var U,Q,H,j,z,K,G,q,W,Y,X=Object.keys(_).map(Number);for(X.sort((function(t,e){return t===p?1:e===p?-1:t>e?1:t<e?-1:0})),j=0,z=X.length;j<z;++j)for(var V in H=X[j],Q=c.getTilePixelSize(H,n,s),U=f.getResolution(H)/d,G=y*c.getGutterForProjection(s),q=_[H])b=q[V],w=((K=f.getTileCoordExtent(b.getTileCoord(),I))[0]-v[0])/d*y/A,E=(v[3]-K[3])/d*y/A,W=Q[0]*U/A,Y=Q[1]*U/A,this.drawTileImage(b,t,e,w,E,W,Y,G,p===H),this.renderedTiles.push(b);this.renderedRevision=h,this.renderedResolution=d*n/y*A,this.renderedExtent_=v}var J=this.renderedResolution/a,Z=Object(xt.b)(this.imageTransform_,n*r[0]/2,n*r[1]/2,J,J,0,(this.renderedExtent_[0]-l[0])/this.renderedResolution*n,(l[1]-this.renderedExtent_[3])/this.renderedResolution*n);return Object(xt.b)(this.coordinateToCanvasPixelTransform,n*r[0]/2-Z[4],n*r[1]/2-Z[5],n/a,-n/a,0,-l[0],-l[1]),this.updateUsedTiles(t.usedTiles,c,p,m),this.manageTilePyramid(t,c,f,n,s,g,p,u.getPreload()),this.scheduleExpireCache(t,c),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,n,r,o,s,a,l,u){var c=this.getTileImage(t);if(c){var h=Object(i.c)(this),f=u?t.getAlpha(h,e.time):1,p=this.getLayer().getSource();1!==f||p.getOpaque(e.viewState.projection)||this.context.clearRect(r,o,s,a);var d=f!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=f),this.context.drawImage(c,l,l,c.width-2*l,c.height-2*l,r,o,s,a),d&&this.context.restore(),1!==f?e.animate=!0:u&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(Ie);Te.handles=function(t){return t.getType()===ce.a.TILE},Te.create=function(t,e){return new Te(e)},Te.prototype.getLayer;var Ne=Te,ke=n(101),Le=n.n(ke),Fe=n(48),Re=function(){};Re.prototype.getReplay=function(t,e){return Object(i.b)()},Re.prototype.isEmpty=function(){return Object(i.b)()},Re.prototype.addDeclutter=function(t){return Object(i.b)()};var De=Re,Pe={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},Ue=n(53),Qe=n(40),He=n(5),je=n(46),ze=n(127);function Ke(t,e,n,i,r,o,s,a){for(var l,u,c,h=[],f=t[e]>t[n-i],p=r.length,d=t[e],A=t[e+1],g=t[e+=i],m=t[e+1],v=0,y=Math.sqrt(Math.pow(g-d,2)+Math.pow(m-A,2)),_="",b=0,w=0;w<p;++w){u=f?p-w-1:w;var E=r.charAt(u),x=o(_=f?E+_:_+E)-b;b+=x;for(var C=s+x/2;e<n-i&&v+y<C;)d=g,A=m,g=t[e+=i],m=t[e+1],v+=y,y=Math.sqrt(Math.pow(g-d,2)+Math.pow(m-A,2));var B=C-v,I=Math.atan2(m-A,g-d);if(f&&(I+=I>0?-Math.PI:Math.PI),void 0!==c){var S=I-c;if(S+=S>Math.PI?-2*Math.PI:S<-Math.PI?2*Math.PI:0,Math.abs(S)>a)return null}var O=B/y,M=Object(te.c)(d,g,O),T=Object(te.c)(A,m,O);c==I?(f&&(l[0]=M,l[1]=T,l[2]=x/2),l[4]=_):(b=x,l=[M,T,x/2,I,_=E],f?h.unshift(l):h.push(l),c=I),s+=x}return h}var Ge=n(129),qe={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},We=[qe.FILL],Ye=[qe.STROKE],Xe=[qe.BEGIN_PATH],Ve=[qe.CLOSE_PATH],Je=qe,Ze=[Pe.POLYGON,Pe.CIRCLE,Pe.LINE_STRING,Pe.IMAGE,Pe.TEXT,Pe.DEFAULT],$e={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},tn=Object(mt.j)(),en=Object(xt.c)(),nn=function(t){function e(e,n,i,r,o,s){t.call(this),this.declutterTree=s,this.tolerance=e,this.maxExtent=n,this.overlaps=o,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=Object(xt.c)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,n,i,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,r,o,s,a,l,u,c,h,f,p,d,A,g,m){var v=g||m;e-=r*=f,n-=o*=f;var y,_,b,w,E=d+u>i.width?i.width-u:d,x=a+c>i.height?i.height-c:a,C=A[3]+E*f+A[1],B=A[0]+x*f+A[2],I=e-A[3],S=n-A[0];(v||0!==h)&&(y=[I,S],_=[I+C,S],b=[I+C,S+B],w=[I,S+B]);var O=null;if(0!==h){var M=e+r,T=n+o;O=Object(xt.b)(en,M,T,1,1,h,-M,-T),Object(mt.l)(tn),Object(mt.r)(tn,Object(xt.a)(en,y)),Object(mt.r)(tn,Object(xt.a)(en,_)),Object(mt.r)(tn,Object(xt.a)(en,b)),Object(mt.r)(tn,Object(xt.a)(en,w))}else Object(mt.k)(I,S,I+C,S+B,tn);var N=t.canvas,k=m?m[2]*f/2:0,L=tn[0]-k<=N.width&&tn[2]+k>=0&&tn[1]-k<=N.height&&tn[3]+k>=0;if(p&&(e=Math.round(e),n=Math.round(n)),s){if(!L&&1==s[4])return;Object(mt.q)(s,tn);var F=L?[t,O?O.slice(0):null,l,i,u,c,E,x,e,n,f]:null;F&&v&&F.push(g,m,y,_,b,w),s.push(F)}else L&&(v&&this.replayTextBackground_(t,y,_,b,w,g,m),Object(Ae.n)(t,O,l,i,u,c,E,x,e,n,f))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatCoordinates=function(t,e,n,i,r,o){var s=this.coordinates.length,a=this.getBufferedMaxExtent();o&&(e+=i);var l,u,c,h=[t[e],t[e+1]],f=[NaN,NaN],p=!0;for(l=e+i;l<n;l+=i)f[0]=t[l],f[1]=t[l+1],(c=Object(mt.i)(a,f))!==u?(p&&(this.coordinates[s++]=h[0],this.coordinates[s++]=h[1]),this.coordinates[s++]=f[0],this.coordinates[s++]=f[1],p=!1):c===Qe.a.INTERSECTING?(this.coordinates[s++]=f[0],this.coordinates[s++]=f[1],p=!1):p=!0,h[0]=f[0],h[1]=f[1],u=c;return(r&&p||l===e+i)&&(this.coordinates[s++]=h[0],this.coordinates[s++]=h[1]),s},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o],l=this.appendFlatCoordinates(t,e,a,i,!1,!1);r.push(l),e=a}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,s,a,l=t.getType(),u=t.getStride(),c=this.coordinates.length;if(l==He.a.MULTI_POLYGON){i=(t=t).getOrientedFlatCoordinates(),s=[];var h=t.getEndss();a=0;for(var f=0,p=h.length;f<p;++f){var d=[];a=this.drawCustomCoordinates_(i,a,h[f],u,d),s.push(d)}this.instructions.push([Je.CUSTOM,c,s,t,n,je.c])}else l==He.a.POLYGON||l==He.a.MULTI_LINE_STRING?(o=[],i=l==He.a.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(i,0,t.getEnds(),u,o),this.instructions.push([Je.CUSTOM,c,o,t,n,je.b])):l==He.a.LINE_STRING||l==He.a.MULTI_POINT?(i=t.getFlatCoordinates(),r=this.appendFlatCoordinates(i,0,i.length,u,!1,!1),this.instructions.push([Je.CUSTOM,c,r,t,n,je.a])):l==He.a.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.instructions.push([Je.CUSTOM,c,r,t,n]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Je.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Je.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=Object(xt.a)(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,Ae.r)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],u.a&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var r=5,o=t.length;r<o;++r){var s=t[r];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),Ae.n.apply(void 0,s))}}t.length=5,Object(mt.l)(t)}}},e.prototype.replay_=function(t,e,n,r,o,s,a){var l;this.pixelCoordinates_&&Object(Y.b)(e,this.renderedTransform_)?l=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),l=Object(Fe.c)(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),Object(xt.g)(this.renderedTransform_,e));for(var u,c,h,f,p,d,A,g,m,v,y,_,b=!Object(ht.d)(n),w=0,E=r.length,x=0,C=0,B=0,I=null,S=null,O=this.coordinateCache_,M=this.viewRotation_,T={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:M},N=this.instructions!=r||this.overlaps?0:200;w<E;){var k=r[w];switch(k[0]){case Je.BEGIN_GEOMETRY:v=k[1],b&&n[Object(i.c)(v)]||!v.getGeometry()?w=k[2]:void 0===a||Object(mt.F)(a,v.getGeometry().getExtent())?++w:w=k[2]+1;break;case Je.BEGIN_PATH:C>N&&(this.fill_(t),C=0),B>N&&(t.stroke(),B=0),C||B||(t.beginPath(),f=p=NaN),++w;break;case Je.CIRCLE:var L=l[x=k[1]],F=l[x+1],R=l[x+2]-L,D=l[x+3]-F,P=Math.sqrt(R*R+D*D);t.moveTo(L+P,F),t.arc(L,F,P,0,2*Math.PI,!0),++w;break;case Je.CLOSE_PATH:t.closePath(),++w;break;case Je.CUSTOM:x=k[1],u=k[2];var U=k[3],Q=k[4],H=6==k.length?k[5]:void 0;T.geometry=U,T.feature=v,w in O||(O[w]=[]);var j=O[w];H?H(l,x,u,2,j):(j[0]=l[x],j[1]=l[x+1],j.length=2),Q(j,T),++w;break;case Je.DRAW_IMAGE:x=k[1],u=k[2],m=k[3],c=k[4],h=k[5],g=s?null:k[6];var z=k[7],K=k[8],G=k[9],q=k[10],W=k[11],X=k[12],V=k[13],J=k[14],Z=void 0,$=void 0,tt=void 0;for(k.length>16?(Z=k[15],$=k[16],tt=k[17]):(Z=Ae.j,$=tt=!1),W&&(X+=M);x<u;x+=2)this.replayImage_(t,l[x],l[x+1],m,c,h,g,z,K,G,q,X,V,o,J,Z,$?I:null,tt?S:null);this.renderDeclutter_(g,v),++w;break;case Je.DRAW_CHARS:var et=k[1],nt=k[2],it=k[3];g=s?null:k[4];var rt=k[5],ot=k[6],st=k[7],at=k[8],lt=k[9],ut=k[10],ct=k[11],ft=k[12],pt=k[13],dt=k[14],At=Object(ze.a)(l,et,nt,2),gt=at(ft);if(rt||gt<=At){var vt=this.textStates[pt].textAlign,yt=Ke(l,et,nt,2,ft,at,(At-gt)*$e[vt],st);if(yt){var _t=void 0,bt=void 0,wt=void 0,Et=void 0,Ct=void 0;if(ut)for(_t=0,bt=yt.length;_t<bt;++_t)wt=(Ct=yt[_t])[4],Et=this.getImage(wt,pt,"",ut),c=Ct[2]+ct,h=it*Et.height+2*(.5-it)*ct-lt,this.replayImage_(t,Ct[0],Ct[1],Et,c,h,g,Et.height,1,0,0,Ct[3],dt,!1,Et.width,Ae.j,null,null);if(ot)for(_t=0,bt=yt.length;_t<bt;++_t)wt=(Ct=yt[_t])[4],Et=this.getImage(wt,pt,ot,""),c=Ct[2],h=it*Et.height-lt,this.replayImage_(t,Ct[0],Ct[1],Et,c,h,g,Et.height,1,0,0,Ct[3],dt,!1,Et.width,Ae.j,null,null)}}this.renderDeclutter_(g,v),++w;break;case Je.END_GEOMETRY:if(void 0!==s){var Bt=s(v=k[1]);if(Bt)return Bt}++w;break;case Je.FILL:N?C++:this.fill_(t),++w;break;case Je.MOVE_TO_LINE_TO:for(x=k[1],u=k[2],y=l[x],A=(_=l[x+1])+.5|0,(d=y+.5|0)===f&&A===p||(t.moveTo(y,_),f=d,p=A),x+=2;x<u;x+=2)d=(y=l[x])+.5|0,A=(_=l[x+1])+.5|0,x!=u-2&&d===f&&A===p||(t.lineTo(y,_),f=d,p=A);++w;break;case Je.SET_FILL_STYLE:I=k,this.alignFill_=k[2],C&&(this.fill_(t),C=0,B&&(t.stroke(),B=0)),t.fillStyle=k[1],++w;break;case Je.SET_STROKE_STYLE:S=k,B&&(t.stroke(),B=0),this.setStrokeStyle_(t,k),++w;break;case Je.STROKE:N?B++:t.stroke(),++w;break;default:++w}}C&&this.fill_(t),B&&t.stroke()},e.prototype.replay=function(t,e,n,i,r){this.viewRotation_=n,this.replay_(t,e,i,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,n,i,r,o){return this.viewRotation_=n,this.replay_(t,e,i,this.hitDetectionInstructions,!0,r,o)},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,i,r=e.length,o=-1;for(t=0;t<r;++t)(i=(n=e[t])[0])==Je.END_GEOMETRY?o=t:i==Je.BEGIN_GEOMETRY&&(n[2]=t,Object(Y.i)(this.hitDetectionInstructions,o,t),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=Object(Ue.a)(i||Ae.b)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=Object(Ue.a)(r||Ae.k);var o=e.getLineCap();n.lineCap=void 0!==o?o:Ae.d;var s=e.getLineDash();n.lineDash=s?s.slice():Ae.e;var a=e.getLineDashOffset();n.lineDashOffset=a||Ae.f;var l=e.getLineJoin();n.lineJoin=void 0!==l?l:Ae.g;var u=e.getWidth();n.lineWidth=void 0!==u?u:Ae.h;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:Ae.i,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t,e){var n=t.fillStyle,i=[Je.SET_FILL_STYLE,n];return"string"!=typeof n&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Je.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,n){var i=t.fillStyle;"string"==typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t,n)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,l=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!Object(Y.b)(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=l)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=l)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[Je.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(mt.d)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;Object(mt.c)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Ge.a),rn=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Je.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Je.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Je.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Je.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),s=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(nn),on=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,i,!1,!1),s=[Je.MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Xe);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(Ye),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Xe);for(var o=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),l=0,u=0,c=o.length;u<c;++u)l=this.drawFlatCoordinates_(s,l,o[u],a);this.hitDetectionInstructions.push(Ye),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;null!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Ye),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Ye),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Xe)},e}(nn),sn=n(60),an=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,s=null!=r.strokeStyle,a=n.length;this.instructions.push(Xe),this.hitDetectionInstructions.push(Xe);for(var l=0;l<a;++l){var u=n[l],c=this.coordinates.length,h=this.appendFlatCoordinates(t,e,u,i,!0,!s),f=[Je.MOVE_TO_LINE_TO,c,h];this.instructions.push(f),this.hitDetectionInstructions.push(f),s&&(this.instructions.push(Ve),this.hitDetectionInstructions.push(Ve)),e=u}return o&&(this.instructions.push(We),this.hitDetectionInstructions.push(We)),s&&(this.instructions.push(Ye),this.hitDetectionInstructions.push(Ye)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Je.SET_FILL_STYLE,Object(me.b)(Ae.b)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var l=[Je.CIRCLE,a];this.instructions.push(Xe,l),this.hitDetectionInstructions.push(Xe,l),this.hitDetectionInstructions.push(We),void 0!==n.fillStyle&&this.instructions.push(We),void 0!==n.strokeStyle&&(this.instructions.push(Ye),this.hitDetectionInstructions.push(Ye)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Je.SET_FILL_STYLE,Object(me.b)(Ae.b)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Je.SET_FILL_STYLE,Object(me.b)(Ae.b)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Je.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),l=0,u=0,c=o.length;u<c;++u)l=this.drawFlatCoordinatess_(s,l,o[u],a);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,n=0,i=e.length;n<i;++n)e[n]=Object(sn.e)(e[n],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(nn);function ln(t,e,n,i,r){var o,s,a,l,u,c,h,f,p,d=n,A=n,g=0,m=0,v=n;for(o=n;o<i;o+=r){var y=e[o],_=e[o+1];void 0!==l&&(f=y-l,p=_-u,a=Math.sqrt(f*f+p*p),void 0!==c&&(m+=s,Math.acos((c*f+h*p)/(s*a))>t&&(m>g&&(g=m,d=v,A=o),m=0,v=o-r)),s=a,c=f,h=p),l=y,u=_}return(m+=a)>g?[v,o]:[d,A]}var un=n(125);var cn={Circle:an,Default:nn,Image:rn,LineString:on,Polygon:an,Text:function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},Ae.o.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var o,s,a=this.coordinates.length,l=t.getType(),u=null,c=2,h=2;if(r.placement===un.a.LINE){if(!Object(mt.F)(this.getBufferedMaxExtent(),t.getExtent()))return;var f;if(u=t.getFlatCoordinates(),h=t.getStride(),l==He.a.LINE_STRING)f=[u.length];else if(l==He.a.MULTI_LINE_STRING)f=t.getEnds();else if(l==He.a.POLYGON)f=t.getEnds().slice(0,1);else if(l==He.a.MULTI_POLYGON){var p=t.getEndss();for(f=[],o=0,s=p.length;o<s;++o)f.push(p[o][0])}this.beginGeometry(t,e);for(var d,A=r.textAlign,g=0,m=0,v=f.length;m<v;++m){if(null==A){var y=ln(r.maxAngle,u,g,f[m],h);g=y[0],d=y[1]}else d=f[m];for(o=g;o<d;o+=h)this.coordinates.push(u[o],u[o+1]);c=this.coordinates.length,g=f[m],this.drawChars_(a,c,this.declutterGroup_),a=c}this.endGeometry(t,e)}else{var _=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),b=_.width/this.pixelRatio;switch(l){case He.a.POINT:case He.a.MULTI_POINT:c=(u=t.getFlatCoordinates()).length;break;case He.a.LINE_STRING:u=t.getFlatMidpoint();break;case He.a.CIRCLE:u=t.getCenter();break;case He.a.MULTI_LINE_STRING:c=(u=t.getFlatMidpoints()).length;break;case He.a.POLYGON:if(u=t.getFlatInteriorPoint(),!r.overflow&&u[2]/this.resolution<b)return;h=3;break;case He.a.MULTI_POLYGON:var w=t.getFlatInteriorPoints();for(u=[],o=0,s=w.length;o<s;o+=3)(r.overflow||w[o+2]/this.resolution>=b)&&u.push(w[o],w[o+1]);if(0==(c=u.length))return}c=this.appendFlatCoordinates(u,0,c,h,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(_,a,c),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,n,i){var r,o=i+e+t+n+this.pixelRatio;if(!Ae.o.containsKey(o)){var s=i?this.strokeStates[i]||this.textStrokeState_:null,a=n?this.fillStates[n]||this.textFillState_:null,l=this.textStates[e]||this.textState_,c=this.pixelRatio,h=l.scale*c,f=$e[l.textAlign||Ae.l],p=i&&s.lineWidth?s.lineWidth:0,d=t.split("\n"),A=d.length,g=[],m=function(t,e,n){for(var i=e.length,r=0,o=0;o<i;++o){var s=Object(Ae.q)(t,e[o]);r=Math.max(r,s),n.push(s)}return r}(l.font,d,g),v=Object(Ae.p)(l.font),y=v*A,_=m+p,b=Object(gt.a)(Math.ceil(_*h),Math.ceil((y+p)*h));r=b.canvas,Ae.o.set(o,r),1!=h&&b.scale(h,h),b.font=l.font,i&&(b.strokeStyle=s.strokeStyle,b.lineWidth=p,b.lineCap=s.lineCap,b.lineJoin=s.lineJoin,b.miterLimit=s.miterLimit,u.a&&s.lineDash.length&&(b.setLineDash(s.lineDash),b.lineDashOffset=s.lineDashOffset)),n&&(b.fillStyle=a.fillStyle),b.textBaseline="middle",b.textAlign="center";var w,E=.5-f,x=f*r.width/h+E*p;if(i)for(w=0;w<A;++w)b.strokeText(d[w],x+E*g[w],.5*(p+v)+w*v);if(n)for(w=0;w<A;++w)b.fillText(d[w],x+E*g[w],.5*(p+v)+w*v)}return Ae.o.get(o)},e.prototype.drawTextImage_=function(t,e,n){var i=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,s=$e[i.textAlign||Ae.l],a=$e[i.textBaseline],l=r&&r.lineWidth?r.lineWidth:0,u=s*t.width/o+2*(.5-s)*l,c=a*t.height/o+2*(.5-a)*l;this.instructions.push([Je.DRAW_IMAGE,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,i.padding==Ae.j?Ae.j:i.padding.map((function(t){return t*o})),!!i.backgroundFill,!!i.backgroundStroke]),this.hitDetectionInstructions.push([Je.DRAW_IMAGE,e,n,t,(u-this.textOffsetX_)*o,(c-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,r=this.textState_,o=this.textFillState_,s=this.strokeKey_;i&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||Ae.l,scale:r.scale});var l=this.fillKey_;o&&(l in this.fillStates||(this.fillStates[l]={fillStyle:o.fillStyle}));var u=this.pixelRatio,c=$e[r.textBaseline],h=this.textOffsetY_*u,f=this.text_,p=r.font,d=r.scale,A=i?i.lineWidth*d/2:0,g=this.widths_[p];g||(this.widths_[p]=g={}),this.instructions.push([Je.DRAW_CHARS,t,e,c,n,r.overflow,l,r.maxAngle,function(t){var e=g[t];return e||(e=g[t]=Object(Ae.q)(p,t)),e*d*u},h,s,A*u,f,a,1]),this.hitDetectionInstructions.push([Je.DRAW_CHARS,t,e,c,n,r.overflow,l,r.maxAngle,function(t){var e=g[t];return e||(e=g[t]=Object(Ae.q)(p,t)),e*d},h,s,A,f,a,1/u])},e.prototype.setTextStyle=function(t,e){var n,r,o;if(t){this.declutterGroup_=e;var s=t.getFill();s?((r=this.textFillState_)||(r=this.textFillState_={}),r.fillStyle=Object(Ue.a)(s.getColor()||Ae.b)):r=this.textFillState_=null;var a=t.getStroke();if(a){(o=this.textStrokeState_)||(o=this.textStrokeState_={});var l=a.getLineDash(),u=a.getLineDashOffset(),c=a.getWidth(),h=a.getMiterLimit();o.lineCap=a.getLineCap()||Ae.d,o.lineDash=l?l.slice():Ae.e,o.lineDashOffset=void 0===u?Ae.f:u,o.lineJoin=a.getLineJoin()||Ae.g,o.lineWidth=void 0===c?Ae.h:c,o.miterLimit=void 0===h?Ae.i:h,o.strokeStyle=Object(Ue.a)(a.getColor()||Ae.k)}else o=this.textStrokeState_=null;n=this.textState_;var f=t.getFont()||Ae.c;Object(Ae.a)(f);var p=t.getScale();n.overflow=t.getOverflow(),n.font=f,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||Ae.m,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||Ae.j,n.scale=void 0===p?1:p;var d=t.getOffsetX(),A=t.getOffsetY(),g=t.getRotateWithView(),m=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===d?0:d,this.textOffsetY_=void 0===A?0:A,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===m?0:m,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Object(i.c)(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Object(i.c)(r.fillStyle):""}else this.text_=""},e}(nn)},hn=function(t){function e(e,n,i,r,o,s,a){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=n,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=i,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=Object(gt.a)(1,1),this.hitDetectionTransform_=Object(xt.c)()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_)[4]++:(e=this.declutterGroup_=Object(mt.j)()).push(1)),e},e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var n in e)e[n].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s){var a,l=2*(i=Math.round(i))+1,u=Object(xt.b)(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),c=this.hitDetectionContext_;c.canvas.width!==l||c.canvas.height!==l?(c.canvas.width=l,c.canvas.height=l):c.clearRect(0,0,l,l),void 0!==this.renderBuffer_&&(a=Object(mt.j)(),Object(mt.r)(a,t),Object(mt.c)(a,e*(this.renderBuffer_+i),a));var h,f,p=function(t){if(void 0!==fn[t])return fn[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);var r=t,o=0,s=0;for(;r>=o;)pn(n,t+r,t+o),pn(n,t+o,t+r),pn(n,t-o,t+r),pn(n,t-r,t+o),pn(n,t-r,t-o),pn(n,t-o,t-r),pn(n,t+o,t-r),pn(n,t+r,t-o),2*((s+=1+2*++o)-r)+1>0&&(s+=1-2*(r-=1));return fn[t]=n,n}(i);function d(t){for(var e=c.getImageData(0,0,l,l).data,n=0;n<l;n++)for(var i=0;i<l;i++)if(p[n][i]&&e[4*(i*l+n)+3]>0){var r=void 0;return(!h||f!=Pe.IMAGE&&f!=Pe.TEXT||-1!==h.indexOf(t))&&(r=o(t)),r||void c.clearRect(0,0,l,l)}}this.declutterTree_&&(h=this.declutterTree_.all().map((function(t){return t.value})));var A,g,m,v,y,_=Object.keys(this.replaysByZIndex_).map(Number);for(_.sort(Y.g),A=_.length-1;A>=0;--A){var b=_[A].toString();for(m=this.replaysByZIndex_[b],g=Ze.length-1;g>=0;--g)if(void 0!==(v=m[f=Ze[g]]))if(!s||f!=Pe.IMAGE&&f!=Pe.TEXT){if(y=v.replayHitDetection(c,u,n,r,d,a))return y}else{var w=s[b];w?w.push(v,u.slice(0)):s[b]=[v,u.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],i=e[1],r=e[2],o=e[3],s=[n,i,n,o,r,o,r,i];return Object(Fe.c)(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(i={},this.replaysByZIndex_[n]=i);var r=i[e];void 0===r&&(r=new(0,cn[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[e]=r);return r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return Object(ht.d)(this.replaysByZIndex_)},e.prototype.replay=function(t,e,n,i,r,o,s){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(Y.g),t.save(),this.clip(t,e);var l,u,c,h,f,p,d=o||Ze;for(l=0,u=a.length;l<u;++l){var A=a[l].toString();for(f=this.replaysByZIndex_[A],c=0,h=d.length;c<h;++c){var g=d[c];if(p=f[g],void 0!==p)if(!s||g!=Pe.IMAGE&&g!=Pe.TEXT)p.replay(t,e,n,i,r);else{var m=s[A];m?m.push(p,e.slice(0)):s[A]=[p,e.slice(0)]}}}t.restore()},e}(De),fn={0:[[!0]]};function pn(t,e,n){var i,r=Math.floor(t.length/2);if(e>=r)for(i=r;i<e;i++)t[i][n]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][n]=!0}var dn=hn,An=.5,gn={Point:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=le.a.LOADED)return;var o=t.getReplay(n.getZIndex(),Pe.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),Pe.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}},LineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),Pe.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),Pe.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},Polygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),Pe.POLYGON);s.setFillStrokeStyle(r,o),s.drawPolygon(e,i)}var a=n.getText();if(a){var l=t.getReplay(n.getZIndex(),Pe.TEXT);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,i)}},MultiPoint:function(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=le.a.LOADED)return;var o=t.getReplay(n.getZIndex(),Pe.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawMultiPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),Pe.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}},MultiLineString:function(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),Pe.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),Pe.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}},MultiPolygon:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(o||r){var s=t.getReplay(n.getZIndex(),Pe.POLYGON);s.setFillStrokeStyle(r,o),s.drawMultiPolygon(e,i)}var a=n.getText();if(a){var l=t.getReplay(n.getZIndex(),Pe.TEXT);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,i)}},GeometryCollection:function(t,e,n,i){var r,o,s=e.getGeometriesArray();for(r=0,o=s.length;r<o;++r){(0,gn[s[r].getType()])(t,s[r],n,i)}},Circle:function(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),Pe.CIRCLE);s.setFillStrokeStyle(r,o),s.drawCircle(e,i)}var a=n.getText();if(a){var l=t.getReplay(n.getZIndex(),Pe.TEXT);l.setTextStyle(a,t.addDeclutter(!1)),l.drawText(e,i)}}};function mn(t,e){return parseInt(Object(i.c)(t),10)-parseInt(Object(i.c)(e),10)}function vn(t,e){var n=yn(t,e);return n*n}function yn(t,e){return An*t/e}function _n(t,e,n,i,r,o){var s=!1,a=n.getImage();if(a){var l=a.getImageState();l==le.a.LOADED||l==le.a.ERROR?a.unlistenImageChange(r,o):(l==le.a.IDLE&&a.load(),l=a.getImageState(),a.listenImageChange(r,o),s=!0)}return function(t,e,n,i){var r=n.getGeometryFunction()(e);if(!r)return;var o=r.getSimplifiedGeometry(i);if(n.getRenderer())!function t(e,n,i,r){if(n.getType()==He.a.GEOMETRY_COLLECTION){for(var o=n.getGeometries(),s=0,a=o.length;s<a;++s)t(e,o[s],i,r);return}var l=e.getReplay(i.getZIndex(),Pe.DEFAULT);l.drawCustom(n,r,i.getRenderer())}(t,o,n,e);else{(0,gn[o.getType()])(t,o,n,e)}}(t,e,n,i),s}var bn=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?Le()(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=Object(mt.j)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Object(gt.a)(),Object(f.a)(Ae.o,ut.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(f.c)(Ae.o,ut.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,n){var i=e.extent,r=e.pixelRatio,o=n.managed?e.skippedFeatureUids:{},s=e.viewState,a=s.projection,l=s.rotation,u=a.getExtent(),c=this.getLayer().getSource(),h=this.getTransform(e,0),f=n.extent,p=void 0!==f;p&&this.clip(t,e,f);var d=this.replayGroup_;if(d&&!d.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var A,g=this.getLayer(),m=0,v=0,y=1!==n.opacity,_=g.hasListener(ot.a.RENDER);if(y||_){var b=t.canvas.width,w=t.canvas.height;if(l){var E=Math.round(Math.sqrt(b*b+w*w));m=(E-b)/2,v=(E-w)/2,b=w=E}this.context.canvas.width=b,this.context.canvas.height=w,A=this.context}else A=t;var x=A.globalAlpha;y||(A.globalAlpha=n.opacity),A!=t&&A.translate(m,v);var C=e.viewHints,B=!(C[At.a.ANIMATING]||C[At.a.INTERACTING]),I=e.size[0]*r,S=e.size[1]*r;if(Object(Ae.s)(A,-l,I/2,S/2),d.replay(A,h,l,o,B),c.getWrapX()&&a.canWrapX()&&!Object(mt.g)(u,i)){for(var O,M=i[0],T=Object(mt.E)(u),N=0;M<u[0];)O=T*--N,h=this.getTransform(e,O),d.replay(A,h,l,o,B),M+=T;for(N=0,M=i[2];M>u[2];)O=T*++N,h=this.getTransform(e,O),d.replay(A,h,l,o,B),M-=T}if(Object(Ae.s)(A,l,I/2,S/2),_&&this.dispatchRenderEvent(A,e,h),A!=t){if(y){var k=t.globalAlpha;t.globalAlpha=n.opacity,t.drawImage(A.canvas,-m,-v),t.globalAlpha=k}else t.drawImage(A.canvas,-m,-v);A.translate(-m,-v)}y||(A.globalAlpha=x)}p&&t.restore()},e.prototype.composeFrame=function(t,e,n){var i=this.getTransform(t,0);this.preCompose(n,t,i),this.compose(n,t,e),this.postCompose(n,t,e,i)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){if(this.replayGroup_){var s=e.viewState.resolution,a=e.viewState.rotation,l=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,s,a,n,{},(function(t){var e=Object(i.c)(t);if(!(e in u))return u[e]=!0,r.call(o,t,l)}),null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var n=this.getLayer(),i=n.getSource(),r=t.viewHints[At.a.ANIMATING],o=t.viewHints[At.a.INTERACTING],s=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!a&&o)return!0;var l=t.extent,u=t.viewState,c=u.projection,h=u.resolution,f=t.pixelRatio,p=n.getRevision(),d=n.getRenderBuffer(),A=n.getRenderOrder();void 0===A&&(A=mn);var g=Object(mt.c)(l,d*h),m=u.projection.getExtent();if(i.getWrapX()&&u.projection.canWrapX()&&!Object(mt.g)(m,t.extent)){var v=Object(mt.E)(m),y=Math.max(Object(mt.E)(g)/2,v);g[0]=m[0]-y,g[2]=m[2]+y}if(!this.dirty_&&this.renderedResolution_==h&&this.renderedRevision_==p&&this.renderedRenderOrder_==A&&Object(mt.g)(this.renderedExtent_,g))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var _=new dn(yn(h,f),g,h,f,i.getOverlaps(),this.declutterTree_,n.getRenderBuffer());i.loadFeatures(g,h,c);var b=function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,h)),e){var r=this.renderFeature(t,h,f,e,_);this.dirty_=this.dirty_||r}}.bind(this);if(A){var w=[];i.forEachFeatureInExtent(g,(function(t){w.push(t)})),w.sort(A);for(var E=0,x=w.length;E<x;++E)b(w[E])}else i.forEachFeatureInExtent(g,b);return _.finish(),this.renderedResolution_=h,this.renderedRevision_=p,this.renderedRenderOrder_=A,this.renderedExtent_=g,this.replayGroup_=_,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var s=0,a=i.length;s<a;++s)o=_n(r,t,i[s],vn(e,n),this.handleStyleImageChange_,this)||o;else o=_n(r,t,i,vn(e,n),this.handleStyleImageChange_,this);return o},e}(Be);bn.handles=function(t){return t.getType()===ce.a.VECTOR},bn.create=function(t,e){return new bn(e)};var wn=bn,En={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},xn=n(10),Cn=n(29),Bn={image:[Pe.POLYGON,Pe.CIRCLE,Pe.LINE_STRING,Pe.IMAGE,Pe.TEXT],hybrid:[Pe.POLYGON,Pe.LINE_STRING]},In={image:[Pe.DEFAULT],hybrid:[Pe.IMAGE,Pe.TEXT,Pe.DEFAULT],vector:Ze},Sn=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?Le()(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=Object(xt.c)();var n=e.getRenderMode();this.zDirection=n===En.VECTOR?1:0,n!==En.VECTOR&&(this.context=Object(gt.a)()),Object(f.a)(Ae.o,ut.a.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Object(f.c)(Ae.o,ut.a.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,n,i,r,o){var s=t.prototype.getTile.call(this,e,n,i,r,o);return s.getState()===lt.a.LOADED&&(this.createReplayGroup_(s,r,o),this.context&&this.renderTileImage_(s,r,o)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return(t.getImage(e))},e.prototype.prepareFrame=function(e,n){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,n)},e.prototype.createReplayGroup_=function(t,e,n){var i=this,r=this.getLayer(),o=r.getRevision(),s=r.getRenderOrder()||null,a=t.getReplayState(r);if(a.dirty||a.renderedRevision!=o||a.renderedRenderOrder!=s){for(var l=r.getSource(),u=l.getTileGrid(),c=l.getTileGridForProjection(n).getResolution(t.tileCoord[0]),h=t.extent,f=function(o,f){var p=t.getTile(t.tileKeys[o]);if(p.getState()==lt.a.LOADED){var d=p.tileCoord,A=u.getTileCoordExtent(d),g=Object(mt.B)(h,A),m=Object(mt.p)(A,g)?null:Object(mt.c)(g,r.getRenderBuffer()*c,i.tmpExtent),v=p.getProjection(),y=!1;Object(xn.g)(n,v)||(y=!0,p.setProjection(n)),a.dirty=!1;var _=new dn(0,g,c,e,l.getOverlaps(),i.declutterTree_,r.getRenderBuffer()),b=vn(c,e),w=function(t){var e,n=t.getStyleFunction()||r.getStyleFunction();if(n&&(e=n(t,c)),e){var i=this.renderFeature(t,b,e,_);this.dirty_=this.dirty_||i,a.dirty=a.dirty||i}},E=p.getFeatures();s&&s!==a.renderedRenderOrder&&E.sort(s);for(var x=0,C=E.length;x<C;++x){var B=E[x];y&&(v.getUnits()==Cn.b.TILE_PIXELS&&(v.setWorldExtent(A),v.setExtent(p.getExtent())),B.getGeometry().transform(v,n)),m&&!Object(mt.F)(m,B.getGeometry().getExtent())||w.call(i,B)}_.finish(),p.setReplayGroup(r,t.tileCoord.toString(),_)}},p=0,d=t.tileKeys.length;p<d;++p)f(p);a.renderedRevision=o,a.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){var s=e.viewState.resolution,a=e.viewState.rotation;n=null==n?0:n;var l,u,c,h,f=this.getLayer(),p={},d=this.renderedTiles;for(c=0,h=d.length;c<h;++c){var A=d[c];if(l=Object(mt.c)(A.extent,n*s,l),Object(mt.f)(l,t))for(var g=0,m=A.tileKeys.length;g<m;++g){var v=A.getTile(A.tileKeys[g]);if(v.getState()==lt.a.LOADED){var y=v.getReplayGroup(f,A.tileCoord.toString());u=u||y.forEachFeatureAtCoordinate(t,s,a,n,{},(function(t){var e=Object(i.c)(t);if(!(e in p))return p[e]=!0,r.call(o,t,f)}),null)}}}return u},e.prototype.getReplayTransform_=function(t,e){var n=this.getLayer().getSource().getTileGrid(),i=t.tileCoord,r=n.getResolution(i[0]),o=e.viewState,s=e.pixelRatio,a=o.resolution/s,l=n.getTileCoordExtent(i,this.tmpExtent),u=o.center,c=Object(mt.C)(l),h=e.size,f=Math.round(s*h[0]/2),p=Math.round(s*h[1]/2);return Object(xt.b)(this.tmpTransform_,f,p,r/a,r/a,o.rotation,(c[0]-u[0])/r,(u[1]-c[1])/r)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,n,i){var r=this.getLayer(),o=r.getRenderMode();if(o!=En.IMAGE){var s,a,l=r.getDeclutter()?{}:null,u=r.getSource(),c=In[o],h=n.pixelRatio,f=n.viewState.rotation,p=n.size;f&&(s=Math.round(h*p[0]/2),a=Math.round(h*p[1]/2),Object(Ae.s)(e,-f,s,a)),l&&this.declutterTree_.clear();for(var d=n.viewHints,A=!(d[At.a.ANIMATING]||d[At.a.INTERACTING]),g=this.renderedTiles,m=u.getTileGridForProjection(n.viewState.projection),v=[],y=[],_=g.length-1;_>=0;--_){var b=g[_];if(b.getState()!=lt.a.ABORT)for(var w=b.tileCoord,E=m.getTileCoordExtent(w,this.tmpExtent)[0]-b.extent[0],x=void 0,C=0,B=b.tileKeys.length;C<B;++C){var I=b.getTile(b.tileKeys[C]);if(I.getState()==lt.a.LOADED){var S=I.getReplayGroup(r,w.toString());if(S&&S.hasReplays(c)){x||(x=this.getTransform(n,E));var O=I.tileCoord[0],M=S.getClipCoords(x);e.save(),e.globalAlpha=i.opacity;for(var T=0,N=v.length;T<N;++T){var k=v[T];O<y[T]&&(e.beginPath(),e.moveTo(M[0],M[1]),e.lineTo(M[2],M[3]),e.lineTo(M[4],M[5]),e.lineTo(M[6],M[7]),e.moveTo(k[6],k[7]),e.lineTo(k[4],k[5]),e.lineTo(k[2],k[3]),e.lineTo(k[0],k[1]),e.clip())}S.replay(e,x,f,{},A,c,l),e.restore(),v.push(M),y.push(O)}}}}l&&function(t,e,n,i){for(var r=Object.keys(t).map(Number).sort(Y.g),o={},s=0,a=r.length;s<a;++s)for(var l=t[r[s].toString()],u=0,c=l.length;u<c;){var h=l[u++],f=l[u++];h.replay(e,f,n,o,i)}}(l,e,f,A),f&&Object(Ae.s)(e,f,s,a)}t.prototype.postCompose.call(this,e,n,i)},e.prototype.renderFeature=function(t,e,n,i){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var o=0,s=n.length;o<s;++o)r=_n(i,t,n[o],e,this.handleStyleImageChange_,this)||r;else r=_n(i,t,n,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,n){var i=this.getLayer(),r=t.getReplayState(i),o=i.getRevision(),s=Bn[i.getRenderMode()];if(s&&r.renderedTileRevision!==o){r.renderedTileRevision=o;var a=t.wrappedTileCoord,l=a[0],u=i.getSource(),c=u.getTileGridForProjection(n),h=c.getResolution(l),f=t.getContext(i),p=u.getTilePixelSize(l,e,n);f.canvas.width=p[0],f.canvas.height=p[1];for(var d=c.getTileCoordExtent(a,this.tmpExtent),A=0,g=t.tileKeys.length;A<g;++A){var m=t.getTile(t.tileKeys[A]);if(m.getState()==lt.a.LOADED){var v=e/h,y=Object(xt.e)(this.tmpTransform_);Object(xt.f)(y,v,-v),Object(xt.h)(y,-d[0],-d[3]),m.getReplayGroup(i,t.tileCoord.toString()).replay(f,y,0,{},!0,s)}}}},e}(Ne);Sn.handles=function(t){return t.getType()===ce.a.VECTOR_TILE},Sn.create=function(t,e){return new Sn(e)};var On=Sn,Mn=function(t){function e(e){(e=Object(ht.a)({},e)).controls||(e.controls=Object(Bt.a)()),e.interactions||(e.interactions=function(t){var e=t||{},n=new r.a,i=new St(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Ut),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new Tt({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new Dt({condition:e.onFocusOnly?Lt.c:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new re),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new oe({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new Jt),n.push(new $t({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new ie({condition:e.onFocusOnly?Lt.c:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new Yt({duration:e.zoomDuration})),n}()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new Ce(this);return t.registerLayerRenderers([Oe,Ne,wn,On]),t},e}(Ct);e.a=Mn},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var l,u=[],c=!1,h=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):h=-1,u.length&&p())}function p(){if(!c){var t=a(f);c=!0;for(var e=u.length;e;){for(l=u,u=[];++h<e;)l&&l[h].run();h=-1,e=u.length}l=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function A(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||c||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=A,r.addListener=A,r.once=A,r.off=A,r.removeListener=A,r.removeAllListeners=A,r.emit=A,r.prependListener=A,r.prependOnceListener=A,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){"use strict";(function(e){!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,n,i,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var o,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,n)}));case 3:return e.nextTick((function(){t.call(null,n,i)}));case 4:return e.nextTick((function(){t.call(null,n,i,r)}));default:for(o=new Array(a-1),s=0;s<o.length;)o[s++]=arguments[s];return e.nextTick((function(){t.apply(null,o)}))}}}:t.exports=e}).call(this,n(117))},function(t,e,n){var i=n(107),r=i.Buffer;function o(t,e){for(var n in t)e[n]=t[n]}function s(t,e,n){return r(t,e,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,e),e.Buffer=s),o(r,s),s.from=function(t,e,n){if("number"==typeof t)throw new TypeError("Argument must not be a number");return r(t,e,n)},s.alloc=function(t,e,n){if("number"!=typeof t)throw new TypeError("Argument must be a number");var i=r(t);return void 0!==e?"string"==typeof n?i.fill(e,n):i.fill(e):i.fill(0),i},s.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return r(t)},s.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i.SlowBuffer(t)}},function(t,e,n){"use strict";(function(e){t.exports={isNode:void 0!==e,newBufferFrom:function(t,n){if(e.from&&e.from!==Uint8Array.from)return e.from(t,n);if("number"==typeof t)throw new Error('The "data" argument must not be a number');return new e(t,n)},allocBuffer:function(t){if(e.alloc)return e.alloc(t);var n=new e(t);return n.fill(0),n},isBuffer:function(t){return e.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}}).call(this,n(107).Buffer)},function(t,e,n){"use strict";n.r(e);var i=n(13),r=Array.prototype.slice,o=function(t){return t},s=1,a=2,l=3,u=4,c=1e-6;function h(t){return"translate("+(t+.5)+",0)"}function f(t){return"translate(0,"+(t+.5)+")"}function p(t){return function(e){return+t(e)}}function d(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function A(){return!this.__axis}function g(t,e){var n=[],i=null,g=null,m=6,v=6,y=3,_=t===s||t===u?-1:1,b=t===u||t===a?"x":"y",w=t===s||t===l?h:f;function E(r){var h=null==i?e.ticks?e.ticks.apply(e,n):e.domain():i,f=null==g?e.tickFormat?e.tickFormat.apply(e,n):o:g,E=Math.max(m,0)+y,x=e.range(),C=+x[0]+.5,B=+x[x.length-1]+.5,I=(e.bandwidth?d:p)(e.copy()),S=r.selection?r.selection():r,O=S.selectAll(".domain").data([null]),M=S.selectAll(".tick").data(h,e).order(),T=M.exit(),N=M.enter().append("g").attr("class","tick"),k=M.select("line"),L=M.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(N),k=k.merge(N.append("line").attr("stroke","currentColor").attr(b+"2",_*m)),L=L.merge(N.append("text").attr("fill","currentColor").attr(b,_*E).attr("dy",t===s?"0em":t===l?"0.71em":"0.32em")),r!==S&&(O=O.transition(r),M=M.transition(r),k=k.transition(r),L=L.transition(r),T=T.transition(r).attr("opacity",c).attr("transform",(function(t){return isFinite(t=I(t))?w(t):this.getAttribute("transform")})),N.attr("opacity",c).attr("transform",(function(t){var e=this.parentNode.__axis;return w(e&&isFinite(e=e(t))?e:I(t))}))),T.remove(),O.attr("d",t===u||t==a?v?"M"+_*v+","+C+"H0.5V"+B+"H"+_*v:"M0.5,"+C+"V"+B:v?"M"+C+","+_*v+"V0.5H"+B+"V"+_*v:"M"+C+",0.5H"+B),M.attr("opacity",1).attr("transform",(function(t){return w(I(t))})),k.attr(b+"2",_*m),L.attr(b,_*E).text(f),S.filter(A).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===a?"start":t===u?"end":"middle"),S.each((function(){this.__axis=I}))}return E.scale=function(t){return arguments.length?(e=t,E):e},E.ticks=function(){return n=r.call(arguments),E},E.tickArguments=function(t){return arguments.length?(n=null==t?[]:r.call(t),E):n.slice()},E.tickValues=function(t){return arguments.length?(i=null==t?null:r.call(t),E):i&&i.slice()},E.tickFormat=function(t){return arguments.length?(g=t,E):g},E.tickSize=function(t){return arguments.length?(m=v=+t,E):m},E.tickSizeInner=function(t){return arguments.length?(m=+t,E):m},E.tickSizeOuter=function(t){return arguments.length?(v=+t,E):v},E.tickPadding=function(t){return arguments.length?(y=+t,E):y},E}function m(t){return g(s,t)}function v(t){return g(a,t)}function y(t){return g(l,t)}function _(t){return g(u,t)}var b={value:function(){}};function w(){for(var t,e=0,n=arguments.length,i={};e<n;++e){if(!(t=arguments[e]+"")||t in i)throw new Error("illegal type: "+t);i[t]=[]}return new E(i)}function E(t){this._=t}function x(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",i=t.indexOf(".");if(i>=0&&(n=t.slice(i+1),t=t.slice(0,i)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function C(t,e){for(var n,i=0,r=t.length;i<r;++i)if((n=t[i]).name===e)return n.value}function B(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=b,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&&t.push({name:e,value:n}),t}E.prototype=w.prototype={constructor:E,on:function(t,e){var n,i=this._,r=x(t+"",i),o=-1,s=r.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<s;)if(n=(t=r[o]).type)i[n]=B(i[n],t.name,e);else if(null==e)for(n in i)i[n]=B(i[n],t.name,null);return this}for(;++o<s;)if((n=(t=r[o]).type)&&(n=C(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new E(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,i,r=new Array(n),o=0;o<n;++o)r[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(i=this._[t]).length;o<n;++o)i[o].value.apply(e,r)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};var I=w,S="http://www.w3.org/1999/xhtml",O={svg:"http://www.w3.org/2000/svg",xhtml:S,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},M=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),O.hasOwnProperty(e)?{space:O[e],local:t}:t};function T(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===S&&e.documentElement.namespaceURI===S?e.createElement(t):e.createElementNS(n,t)}}function N(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var k=function(t){var e=M(t);return(e.local?N:T)(e)};function L(){}var F=function(t){return null==t?L:function(){return this.querySelector(t)}};function R(){return[]}var D=function(t){return null==t?R:function(){return this.querySelectorAll(t)}},P=function(t){return function(){return this.matches(t)}},U=function(t){return new Array(t.length)};function Q(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Q.prototype={constructor:Q,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var H="$";function j(t,e,n,i,r,o){for(var s,a=0,l=e.length,u=o.length;a<u;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new Q(t,o[a]);for(;a<l;++a)(s=e[a])&&(r[a]=s)}function z(t,e,n,i,r,o,s){var a,l,u,c={},h=e.length,f=o.length,p=new Array(h);for(a=0;a<h;++a)(l=e[a])&&(p[a]=u=H+s.call(l,l.__data__,a,e),u in c?r[a]=l:c[u]=l);for(a=0;a<f;++a)(l=c[u=H+s.call(t,o[a],a,o)])?(i[a]=l,l.__data__=o[a],c[u]=null):n[a]=new Q(t,o[a]);for(a=0;a<h;++a)(l=e[a])&&c[p[a]]===l&&(r[a]=l)}function K(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function G(t){return function(){this.removeAttribute(t)}}function q(t){return function(){this.removeAttributeNS(t.space,t.local)}}function W(t,e){return function(){this.setAttribute(t,e)}}function Y(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function X(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function V(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var J=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Z(t){return function(){this.style.removeProperty(t)}}function $(t,e,n){return function(){this.style.setProperty(t,e,n)}}function tt(t,e,n){return function(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function et(t,e){return t.style.getPropertyValue(e)||J(t).getComputedStyle(t,null).getPropertyValue(e)}function nt(t){return function(){delete this[t]}}function it(t,e){return function(){this[t]=e}}function rt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ot(t){return t.trim().split(/^|\s+/)}function st(t){return t.classList||new at(t)}function at(t){this._node=t,this._names=ot(t.getAttribute("class")||"")}function lt(t,e){for(var n=st(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function ut(t,e){for(var n=st(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function ct(t){return function(){lt(this,t)}}function ht(t){return function(){ut(this,t)}}function ft(t,e){return function(){(e.apply(this,arguments)?lt:ut)(this,t)}}at.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function pt(){this.textContent=""}function dt(t){return function(){this.textContent=t}}function At(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function gt(){this.innerHTML=""}function mt(t){return function(){this.innerHTML=t}}function vt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function yt(){this.nextSibling&&this.parentNode.appendChild(this)}function _t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function bt(){return null}function wt(){var t=this.parentNode;t&&t.removeChild(this)}function Et(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function xt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Ct={},Bt=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Ct={mouseenter:"mouseover",mouseleave:"mouseout"}));function It(t,e,n){return t=St(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function St(t,e,n){return function(i){var r=Bt;Bt=i;try{t.call(this,this.__data__,e,n)}finally{Bt=r}}}function Ot(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Mt(t){return function(){var e=this.__on;if(e){for(var n,i=0,r=-1,o=e.length;i<o;++i)n=e[i],t.type&&n.type!==t.type||n.name!==t.name?e[++r]=n:this.removeEventListener(n.type,n.listener,n.capture);++r?e.length=r:delete this.__on}}}function Tt(t,e,n){var i=Ct.hasOwnProperty(t.type)?It:St;return function(r,o,s){var a,l=this.__on,u=i(e,o,s);if(l)for(var c=0,h=l.length;c<h;++c)if((a=l[c]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=u,a.capture=n),void(a.value=e);this.addEventListener(t.type,u,n),a={type:t.type,name:t.name,value:e,listener:u,capture:n},l?l.push(a):this.__on=[a]}}function Nt(t,e,n,i){var r=Bt;t.sourceEvent=Bt,Bt=t;try{return e.apply(n,i)}finally{Bt=r}}function kt(t,e,n){var i=J(t),r=i.CustomEvent;"function"==typeof r?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Lt(t,e){return function(){return kt(this,t,e)}}function Ft(t,e){return function(){return kt(this,t,e.apply(this,arguments))}}var Rt=[null];function Dt(t,e){this._groups=t,this._parents=e}function Pt(){return new Dt([[document.documentElement]],Rt)}Dt.prototype=Pt.prototype={constructor:Dt,select:function(t){"function"!=typeof t&&(t=F(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s,a=e[r],l=a.length,u=i[r]=new Array(l),c=0;c<l;++c)(o=a[c])&&(s=t.call(o,o.__data__,c,a))&&("__data__"in o&&(s.__data__=o.__data__),u[c]=s);return new Dt(i,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=D(t));for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var s,a=e[o],l=a.length,u=0;u<l;++u)(s=a[u])&&(i.push(t.call(s,s.__data__,u,a)),r.push(s));return new Dt(i,r)},filter:function(t){"function"!=typeof t&&(t=P(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,l=i[r]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&l.push(o);return new Dt(i,this._parents)},data:function(t,e){if(!t)return d=new Array(this.size()),c=-1,this.each((function(t){d[++c]=t})),d;var n,i=e?z:j,r=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var s=o.length,a=new Array(s),l=new Array(s),u=new Array(s),c=0;c<s;++c){var h=r[c],f=o[c],p=f.length,d=t.call(h,h&&h.__data__,c,r),A=d.length,g=l[c]=new Array(A),m=a[c]=new Array(A);i(h,f,g,m,u[c]=new Array(p),d,e);for(var v,y,_=0,b=0;_<A;++_)if(v=g[_]){for(_>=b&&(b=_+1);!(y=m[b])&&++b<A;);v._next=y||null}}return(a=new Dt(a,r))._enter=l,a._exit=u,a},enter:function(){return new Dt(this._enter||this._groups.map(U),this._parents)},exit:function(){return new Dt(this._exit||this._groups.map(U),this._parents)},join:function(t,e,n){var i=this.enter(),r=this,o=this.exit();return i="function"==typeof t?t(i):i.append(t+""),null!=e&&(r=e(r)),null==n?o.remove():n(o),i&&r?i.merge(r).order():r},merge:function(t){for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,u=e[a],c=n[a],h=u.length,f=s[a]=new Array(h),p=0;p<h;++p)(l=u[p]||c[p])&&(f[p]=l);for(;a<i;++a)s[a]=e[a];return new Dt(s,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i,r=t[e],o=r.length-1,s=r[o];--o>=0;)(i=r[o])&&(s&&4^i.compareDocumentPosition(s)&&s.parentNode.insertBefore(i,s),s=i);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=K);for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var s,a=n[o],l=a.length,u=r[o]=new Array(l),c=0;c<l;++c)(s=a[c])&&(u[c]=s);u.sort(e)}return new Dt(r,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var s=i[r];if(s)return s}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r,o=e[n],s=0,a=o.length;s<a;++s)(r=o[s])&&t.call(r,r.__data__,s,o);return this},attr:function(t,e){var n=M(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((null==e?n.local?q:G:"function"==typeof e?n.local?V:X:n.local?Y:W)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Z:"function"==typeof e?tt:$)(t,e,null==n?"":n)):et(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?nt:"function"==typeof e?rt:it)(t,e)):this.node()[t]},classed:function(t,e){var n=ot(t+"");if(arguments.length<2){for(var i=st(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each(("function"==typeof e?ft:e?ct:ht)(n,e))},text:function(t){return arguments.length?this.each(null==t?pt:("function"==typeof t?At:dt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?gt:("function"==typeof t?vt:mt)(t)):this.node().innerHTML},raise:function(){return this.each(yt)},lower:function(){return this.each(_t)},append:function(t){var e="function"==typeof t?t:k(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:k(t),i=null==e?bt:"function"==typeof e?e:F(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)}))},remove:function(){return this.each(wt)},clone:function(t){return this.select(t?xt:Et)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var i,r,o=Ot(t+""),s=o.length;if(!(arguments.length<2)){for(a=e?Tt:Mt,null==n&&(n=!1),i=0;i<s;++i)this.each(a(o[i],e,n));return this}var a=this.node().__on;if(a)for(var l,u=0,c=a.length;u<c;++u)for(i=0,l=a[u];i<s;++i)if((r=o[i]).type===l.type&&r.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ft:Lt)(t,e))}};var Ut=Pt,Qt=function(t){return"string"==typeof t?new Dt([[document.querySelector(t)]],[document.documentElement]):new Dt([[t]],Rt)},Ht=function(t){return Qt(k(t).call(document.documentElement))},jt=0;function zt(){return new Kt}function Kt(){this._="@"+(++jt).toString(36)}Kt.prototype=zt.prototype={constructor:Kt,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Gt=function(){for(var t,e=Bt;t=e.sourceEvent;)e=t;return e},qt=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var r=t.getBoundingClientRect();return[e.clientX-r.left-t.clientLeft,e.clientY-r.top-t.clientTop]},Wt=function(t){var e=Gt();return e.changedTouches&&(e=e.changedTouches[0]),qt(t,e)},Yt=function(t){return"string"==typeof t?new Dt([document.querySelectorAll(t)],[document.documentElement]):new Dt([null==t?[]:t],Rt)},Xt=function(t,e,n){arguments.length<3&&(n=e,e=Gt().changedTouches);for(var i,r=0,o=e?e.length:0;r<o;++r)if((i=e[r]).identifier===n)return qt(t,i);return null},Vt=function(t,e){null==e&&(e=Gt().touches);for(var n=0,i=e?e.length:0,r=new Array(i);n<i;++n)r[n]=qt(t,e[n]);return r};function Jt(){Bt.stopImmediatePropagation()}var Zt=function(){Bt.preventDefault(),Bt.stopImmediatePropagation()},$t=function(t){var e=t.document.documentElement,n=Qt(t).on("dragstart.drag",Zt,!0);"onselectstart"in e?n.on("selectstart.drag",Zt,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function te(t,e){var n=t.document.documentElement,i=Qt(t).on("dragstart.drag",null);e&&(i.on("click.drag",Zt,!0),setTimeout((function(){i.on("click.drag",null)}),0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var ee=function(t){return function(){return t}};function ne(t,e,n,i,r,o,s,a,l,u){this.target=t,this.type=e,this.subject=n,this.identifier=i,this.active=r,this.x=o,this.y=s,this.dx=a,this.dy=l,this._=u}function ie(){return!Bt.button}function re(){return this.parentNode}function oe(t){return null==t?{x:Bt.x,y:Bt.y}:t}function se(){return"ontouchstart"in this}ne.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ae=function(){var t,e,n,i,r=ie,o=re,s=oe,a=se,l={},u=I("start","drag","end"),c=0,h=0;function f(t){t.on("mousedown.drag",p).filter(a).on("touchstart.drag",g).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!i&&r.apply(this,arguments)){var s=y("mouse",o.apply(this,arguments),Wt,this,arguments);s&&(Qt(Bt.view).on("mousemove.drag",d,!0).on("mouseup.drag",A,!0),$t(Bt.view),Jt(),n=!1,t=Bt.clientX,e=Bt.clientY,s("start"))}}function d(){if(Zt(),!n){var i=Bt.clientX-t,r=Bt.clientY-e;n=i*i+r*r>h}l.mouse("drag")}function A(){Qt(Bt.view).on("mousemove.drag mouseup.drag",null),te(Bt.view,n),Zt(),l.mouse("end")}function g(){if(r.apply(this,arguments)){var t,e,n=Bt.changedTouches,i=o.apply(this,arguments),s=n.length;for(t=0;t<s;++t)(e=y(n[t].identifier,i,Xt,this,arguments))&&(Jt(),e("start"))}}function m(){var t,e,n=Bt.changedTouches,i=n.length;for(t=0;t<i;++t)(e=l[n[t].identifier])&&(Zt(),e("drag"))}function v(){var t,e,n=Bt.changedTouches,r=n.length;for(i&&clearTimeout(i),i=setTimeout((function(){i=null}),500),t=0;t<r;++t)(e=l[n[t].identifier])&&(Jt(),e("end"))}function y(t,e,n,i,r){var o,a,h,p=n(e,t),d=u.copy();if(Nt(new ne(f,"beforestart",o,t,c,p[0],p[1],0,0,d),(function(){return null!=(Bt.subject=o=s.apply(i,r))&&(a=o.x-p[0]||0,h=o.y-p[1]||0,!0)})))return function s(u){var A,g=p;switch(u){case"start":l[t]=s,A=c++;break;case"end":delete l[t],--c;case"drag":p=n(e,t),A=c}Nt(new ne(f,u,o,t,A,p[0]+a,p[1]+h,p[0]-g[0],p[1]-g[1],d),d.apply,d,[u,i,r])}}return f.filter=function(t){return arguments.length?(r="function"==typeof t?t:ee(!!t),f):r},f.container=function(t){return arguments.length?(o="function"==typeof t?t:ee(t),f):o},f.subject=function(t){return arguments.length?(s="function"==typeof t?t:ee(t),f):s},f.touchable=function(t){return arguments.length?(a="function"==typeof t?t:ee(!!t),f):a},f.on=function(){var t=u.on.apply(u,arguments);return t===u?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f},le=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function ue(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function ce(){}var he="\\s*([+-]?\\d+)\\s*",fe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",de=/^#([0-9a-f]{3})$/,Ae=/^#([0-9a-f]{6})$/,ge=new RegExp("^rgb\\("+[he,he,he]+"\\)$"),me=new RegExp("^rgb\\("+[pe,pe,pe]+"\\)$"),ve=new RegExp("^rgba\\("+[he,he,he,fe]+"\\)$"),ye=new RegExp("^rgba\\("+[pe,pe,pe,fe]+"\\)$"),_e=new RegExp("^hsl\\("+[fe,pe,pe]+"\\)$"),be=new RegExp("^hsla\\("+[fe,pe,pe,fe]+"\\)$"),we={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ee(t){var e;return t=(t+"").trim().toLowerCase(),(e=de.exec(t))?new Se((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=Ae.exec(t))?xe(parseInt(e[1],16)):(e=ge.exec(t))?new Se(e[1],e[2],e[3],1):(e=me.exec(t))?new Se(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ve.exec(t))?Ce(e[1],e[2],e[3],e[4]):(e=ye.exec(t))?Ce(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=_e.exec(t))?Me(e[1],e[2]/100,e[3]/100,1):(e=be.exec(t))?Me(e[1],e[2]/100,e[3]/100,e[4]):we.hasOwnProperty(t)?xe(we[t]):"transparent"===t?new Se(NaN,NaN,NaN,0):null}function xe(t){return new Se(t>>16&255,t>>8&255,255&t,1)}function Ce(t,e,n,i){return i<=0&&(t=e=n=NaN),new Se(t,e,n,i)}function Be(t){return t instanceof ce||(t=Ee(t)),t?new Se((t=t.rgb()).r,t.g,t.b,t.opacity):new Se}function Ie(t,e,n,i){return 1===arguments.length?Be(t):new Se(t,e,n,null==i?1:i)}function Se(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}function Oe(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Me(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ne(t,e,n,i)}function Te(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof Ne)return new Ne(t.h,t.s,t.l,t.opacity);if(t instanceof ce||(t=Ee(t)),!t)return new Ne;if(t instanceof Ne)return t;var e=(t=t.rgb()).r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),s=NaN,a=o-r,l=(o+r)/2;return a?(s=e===o?(n-i)/a+6*(n<i):n===o?(i-e)/a+2:(e-n)/a+4,a/=l<.5?o+r:2-o-r,s*=60):a=l>0&&l<1?0:s,new Ne(s,a,l,t.opacity)}(t):new Ne(t,e,n,null==i?1:i)}function Ne(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function ke(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}le(ce,Ee,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}}),le(Se,Ie,ue(ce,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Se(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},hex:function(){return"#"+Oe(this.r)+Oe(this.g)+Oe(this.b)},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),le(Ne,Te,ue(ce,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ne(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ne(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new Se(ke(t>=240?t-240:t+120,r,i),ke(t,r,i),ke(t<120?t+240:t-120,r,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Le=Math.PI/180,Fe=180/Math.PI,Re=.96422,De=1,Pe=.82521,Ue=4/29,Qe=6/29,He=3*Qe*Qe,je=Qe*Qe*Qe;function ze(t){if(t instanceof qe)return new qe(t.l,t.a,t.b,t.opacity);if(t instanceof tn){if(isNaN(t.h))return new qe(t.l,0,0,t.opacity);var e=t.h*Le;return new qe(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Se||(t=Be(t));var n,i,r=Ve(t.r),o=Ve(t.g),s=Ve(t.b),a=We((.2225045*r+.7168786*o+.0606169*s)/De);return r===o&&o===s?n=i=a:(n=We((.4360747*r+.3850649*o+.1430804*s)/Re),i=We((.0139322*r+.0971045*o+.7141733*s)/Pe)),new qe(116*a-16,500*(n-a),200*(a-i),t.opacity)}function Ke(t,e){return new qe(t,0,0,null==e?1:e)}function Ge(t,e,n,i){return 1===arguments.length?ze(t):new qe(t,e,n,null==i?1:i)}function qe(t,e,n,i){this.l=+t,this.a=+e,this.b=+n,this.opacity=+i}function We(t){return t>je?Math.pow(t,1/3):t/He+Ue}function Ye(t){return t>Qe?t*t*t:He*(t-Ue)}function Xe(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ve(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Je(t){if(t instanceof tn)return new tn(t.h,t.c,t.l,t.opacity);if(t instanceof qe||(t=ze(t)),0===t.a&&0===t.b)return new tn(NaN,0,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*Fe;return new tn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Ze(t,e,n,i){return 1===arguments.length?Je(t):new tn(n,e,t,null==i?1:i)}function $e(t,e,n,i){return 1===arguments.length?Je(t):new tn(t,e,n,null==i?1:i)}function tn(t,e,n,i){this.h=+t,this.c=+e,this.l=+n,this.opacity=+i}le(qe,Ge,ue(ce,{brighter:function(t){return new qe(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new qe(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Se(Xe(3.1338561*(e=Re*Ye(e))-1.6168667*(t=De*Ye(t))-.4906146*(n=Pe*Ye(n))),Xe(-.9787684*e+1.9161415*t+.033454*n),Xe(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),le(tn,$e,ue(ce,{brighter:function(t){return new tn(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new tn(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return ze(this).rgb()}}));var en=-.14861,nn=-.29227,rn=-.90649,on=1.97294,sn=on*rn,an=1.78277*on,ln=1.78277*nn-rn*en;function un(t,e,n,i){return 1===arguments.length?function(t){if(t instanceof cn)return new cn(t.h,t.s,t.l,t.opacity);t instanceof Se||(t=Be(t));var e=t.r/255,n=t.g/255,i=t.b/255,r=(ln*i+sn*e-an*n)/(ln+sn-an),o=i-r,s=(on*(n-r)-nn*o)/rn,a=Math.sqrt(s*s+o*o)/(on*r*(1-r)),l=a?Math.atan2(s,o)*Fe-120:NaN;return new cn(l<0?l+360:l,a,r,t.opacity)}(t):new cn(t,e,n,null==i?1:i)}function cn(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}function hn(t,e,n,i,r){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*i+s*r)/6}le(cn,un,ue(ce,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new cn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new cn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Le,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),i=Math.cos(t),r=Math.sin(t);return new Se(255*(e+n*(en*i+1.78277*r)),255*(e+n*(nn*i+rn*r)),255*(e+n*(on*i)),this.opacity)}}));var fn=function(t){var e=t.length-1;return function(n){var i=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),r=t[i],o=t[i+1],s=i>0?t[i-1]:2*r-o,a=i<e-1?t[i+2]:2*o-r;return hn((n-i/e)*e,s,r,o,a)}},pn=function(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)<0?++n:n)*e),r=t[(i+e-1)%e],o=t[i%e],s=t[(i+1)%e],a=t[(i+2)%e];return hn((n-i/e)*e,r,o,s,a)}},dn=function(t){return function(){return t}};function An(t,e){return function(n){return t+n*e}}function gn(t,e){var n=e-t;return n?An(t,n>180||n<-180?n-360*Math.round(n/360):n):dn(isNaN(t)?e:t)}function mn(t){return 1==(t=+t)?vn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}(e,n,t):dn(isNaN(e)?n:e)}}function vn(t,e){var n=e-t;return n?An(t,n):dn(isNaN(t)?e:t)}var yn=function t(e){var n=mn(e);function i(t,e){var i=n((t=Ie(t)).r,(e=Ie(e)).r),r=n(t.g,e.g),o=n(t.b,e.b),s=vn(t.opacity,e.opacity);return function(e){return t.r=i(e),t.g=r(e),t.b=o(e),t.opacity=s(e),t+""}}return i.gamma=t,i}(1);function _n(t){return function(e){var n,i,r=e.length,o=new Array(r),s=new Array(r),a=new Array(r);for(n=0;n<r;++n)i=Ie(e[n]),o[n]=i.r||0,s[n]=i.g||0,a[n]=i.b||0;return o=t(o),s=t(s),a=t(a),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=a(t),i+""}}}var bn=_n(fn),wn=_n(pn),En=function(t,e){var n,i=e?e.length:0,r=t?Math.min(i,t.length):0,o=new Array(r),s=new Array(i);for(n=0;n<r;++n)o[n]=Ln(t[n],e[n]);for(;n<i;++n)s[n]=e[n];return function(t){for(n=0;n<r;++n)s[n]=o[n](t);return s}},xn=function(t,e){var n=new Date;return e-=t=+t,function(i){return n.setTime(t+e*i),n}},Cn=function(t,e){return e-=t=+t,function(n){return t+e*n}},Bn=function(t,e){var n,i={},r={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?i[n]=Ln(t[n],e[n]):r[n]=e[n];return function(t){for(n in i)r[n]=i[n](t);return r}},In=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Sn=new RegExp(In.source,"g");var On,Mn,Tn,Nn,kn=function(t,e){var n,i,r,o=In.lastIndex=Sn.lastIndex=0,s=-1,a=[],l=[];for(t+="",e+="";(n=In.exec(t))&&(i=Sn.exec(e));)(r=i.index)>o&&(r=e.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Cn(n,i)})),o=Sn.lastIndex;return o<e.length&&(r=e.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,i=0;i<e;++i)a[(n=l[i]).i]=n.x(t);return a.join("")})},Ln=function(t,e){var n,i=typeof e;return null==e||"boolean"===i?dn(e):("number"===i?Cn:"string"===i?(n=Ee(e))?(e=n,yn):kn:e instanceof Ee?yn:e instanceof Date?xn:Array.isArray(e)?En:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Bn:Cn)(t,e)},Fn=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},Rn=function(t,e){var n=gn(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},Dn=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},Pn=180/Math.PI,Un={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Qn=function(t,e,n,i,r,o){var s,a,l;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(a=Math.sqrt(n*n+i*i))&&(n/=a,i/=a,l/=a),t*i<e*n&&(t=-t,e=-e,l=-l,s=-s),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Pn,skewX:Math.atan(l)*Pn,scaleX:s,scaleY:a}};function Hn(t,e,n,i){function r(t){return t.length?t.pop()+" ":""}return function(o,s){var a=[],l=[];return o=t(o),s=t(s),function(t,i,r,o,s,a){if(t!==r||i!==o){var l=s.push("translate(",null,e,null,n);a.push({i:l-4,x:Cn(t,r)},{i:l-2,x:Cn(i,o)})}else(r||o)&&s.push("translate("+r+e+o+n)}(o.translateX,o.translateY,s.translateX,s.translateY,a,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(r(n)+"rotate(",null,i)-2,x:Cn(t,e)})):e&&n.push(r(n)+"rotate("+e+i)}(o.rotate,s.rotate,a,l),function(t,e,n,o){t!==e?o.push({i:n.push(r(n)+"skewX(",null,i)-2,x:Cn(t,e)}):e&&n.push(r(n)+"skewX("+e+i)}(o.skewX,s.skewX,a,l),function(t,e,n,i,o,s){if(t!==n||e!==i){var a=o.push(r(o)+"scale(",null,",",null,")");s.push({i:a-4,x:Cn(t,n)},{i:a-2,x:Cn(e,i)})}else 1===n&&1===i||o.push(r(o)+"scale("+n+","+i+")")}(o.scaleX,o.scaleY,s.scaleX,s.scaleY,a,l),o=s=null,function(t){for(var e,n=-1,i=l.length;++n<i;)a[(e=l[n]).i]=e.x(t);return a.join("")}}}var jn=Hn((function(t){return"none"===t?Un:(On||(On=document.createElement("DIV"),Mn=document.documentElement,Tn=document.defaultView),On.style.transform=t,t=Tn.getComputedStyle(Mn.appendChild(On),null).getPropertyValue("transform"),Mn.removeChild(On),t=t.slice(7,-1).split(","),Qn(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),zn=Hn((function(t){return null==t?Un:(Nn||(Nn=document.createElementNS("http://www.w3.org/2000/svg","g")),Nn.setAttribute("transform",t),(t=Nn.transform.baseVal.consolidate())?(t=t.matrix,Qn(t.a,t.b,t.c,t.d,t.e,t.f)):Un)}),", ",")",")"),Kn=Math.SQRT2;function Gn(t){return((t=Math.exp(t))+1/t)/2}var qn=function(t,e){var n,i,r=t[0],o=t[1],s=t[2],a=e[0],l=e[1],u=e[2],c=a-r,h=l-o,f=c*c+h*h;if(f<1e-12)i=Math.log(u/s)/Kn,n=function(t){return[r+t*c,o+t*h,s*Math.exp(Kn*t*i)]};else{var p=Math.sqrt(f),d=(u*u-s*s+4*f)/(2*s*2*p),A=(u*u-s*s-4*f)/(2*u*2*p),g=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(A*A+1)-A);i=(m-g)/Kn,n=function(t){var e,n=t*i,a=Gn(g),l=s/(2*p)*(a*(e=Kn*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[r+l*c,o+l*h,s*a/Gn(Kn*n+g)]}}return n.duration=1e3*i,n};function Wn(t){return function(e,n){var i=t((e=Te(e)).h,(n=Te(n)).h),r=vn(e.s,n.s),o=vn(e.l,n.l),s=vn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.s=r(t),e.l=o(t),e.opacity=s(t),e+""}}}var Yn=Wn(gn),Xn=Wn(vn);function Vn(t,e){var n=vn((t=Ge(t)).l,(e=Ge(e)).l),i=vn(t.a,e.a),r=vn(t.b,e.b),o=vn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=r(e),t.opacity=o(e),t+""}}function Jn(t){return function(e,n){var i=t((e=$e(e)).h,(n=$e(n)).h),r=vn(e.c,n.c),o=vn(e.l,n.l),s=vn(e.opacity,n.opacity);return function(t){return e.h=i(t),e.c=r(t),e.l=o(t),e.opacity=s(t),e+""}}}var Zn=Jn(gn),$n=Jn(vn);function ti(t){return function e(n){function i(e,i){var r=t((e=un(e)).h,(i=un(i)).h),o=vn(e.s,i.s),s=vn(e.l,i.l),a=vn(e.opacity,i.opacity);return function(t){return e.h=r(t),e.s=o(t),e.l=s(Math.pow(t,n)),e.opacity=a(t),e+""}}return n=+n,i.gamma=e,i}(1)}var ei=ti(gn),ni=ti(vn);function ii(t,e){for(var n=0,i=e.length-1,r=e[0],o=new Array(i<0?0:i);n<i;)o[n]=t(r,r=e[++n]);return function(t){var e=Math.max(0,Math.min(i-1,Math.floor(t*=i)));return o[e](t-e)}}var ri,oi,si=function(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t(i/(e-1));return n},ai=0,li=0,ui=0,ci=1e3,hi=0,fi=0,pi=0,di="object"==typeof performance&&performance.now?performance:Date,Ai="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function gi(){return fi||(Ai(mi),fi=di.now()+pi)}function mi(){fi=0}function vi(){this._call=this._time=this._next=null}function yi(t,e,n){var i=new vi;return i.restart(t,e,n),i}function _i(){gi(),++ai;for(var t,e=ri;e;)(t=fi-e._time)>=0&&e._call.call(null,t),e=e._next;--ai}function bi(){fi=(hi=di.now())+pi,ai=li=0;try{_i()}finally{ai=0,function(){var t,e,n=ri,i=1/0;for(;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ri=e);oi=t,Ei(i)}(),fi=0}}function wi(){var t=di.now(),e=t-hi;e>ci&&(pi-=e,hi=t)}function Ei(t){ai||(li&&(li=clearTimeout(li)),t-fi>24?(t<1/0&&(li=setTimeout(bi,t-di.now()-pi)),ui&&(ui=clearInterval(ui))):(ui||(hi=di.now(),ui=setInterval(wi,ci)),ai=1,Ai(bi)))}vi.prototype=yi.prototype={constructor:vi,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?gi():+n)+(null==e?0:+e),this._next||oi===this||(oi?oi._next=this:ri=this,oi=this),this._call=t,this._time=n,Ei()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ei())}};var xi=function(t,e,n){var i=new vi;return e=null==e?0:+e,i.restart((function(n){i.stop(),t(n+e)}),e,n),i},Ci=function(t,e,n){var i=new vi,r=e;return null==e?(i.restart(t,e,n),i):(e=+e,n=null==n?gi():+n,i.restart((function o(s){s+=r,i.restart(o,r+=e,n),t(s)}),e,n),i)},Bi=I("start","end","cancel","interrupt"),Ii=[],Si=0,Oi=1,Mi=2,Ti=3,Ni=4,ki=5,Li=6,Fi=function(t,e,n,i,r,o){var s=t.__transition;if(s){if(n in s)return}else t.__transition={};!function(t,e,n){var i,r=t.__transition;function o(l){var u,c,h,f;if(n.state!==Oi)return a();for(u in r)if((f=r[u]).name===n.name){if(f.state===Ti)return xi(o);f.state===Ni?(f.state=Li,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=Li,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[u])}if(xi((function(){n.state===Ti&&(n.state=Ni,n.timer.restart(s,n.delay,n.time),s(l))})),n.state=Mi,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Mi){for(n.state=Ti,i=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++c]=f);i.length=c+1}}function s(e){for(var r=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(a),n.state=ki,1),o=-1,s=i.length;++o<s;)i[o].call(t,r);n.state===ki&&(n.on.call("end",t,t.__data__,n.index,n.group),a())}function a(){for(var i in n.state=Li,n.timer.stop(),delete r[e],r)return;delete t.__transition}r[e]=n,n.timer=yi((function(t){n.state=Oi,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:i,group:r,on:Bi,tween:Ii,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Si})};function Ri(t,e){var n=Pi(t,e);if(n.state>Si)throw new Error("too late; already scheduled");return n}function Di(t,e){var n=Pi(t,e);if(n.state>Ti)throw new Error("too late; already running");return n}function Pi(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var Ui=function(t,e){var n,i,r,o=t.__transition,s=!0;if(o){for(r in e=null==e?null:e+"",o)(n=o[r]).name===e?(i=n.state>Mi&&n.state<ki,n.state=Li,n.timer.stop(),n.on.call(i?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[r]):s=!1;s&&delete t.__transition}};function Qi(t,e){var n,i;return function(){var r=Di(this,t),o=r.tween;if(o!==n)for(var s=0,a=(i=n=o).length;s<a;++s)if(i[s].name===e){(i=i.slice()).splice(s,1);break}r.tween=i}}function Hi(t,e,n){var i,r;if("function"!=typeof n)throw new Error;return function(){var o=Di(this,t),s=o.tween;if(s!==i){r=(i=s).slice();for(var a={name:e,value:n},l=0,u=r.length;l<u;++l)if(r[l].name===e){r[l]=a;break}l===u&&r.push(a)}o.tween=r}}function ji(t,e,n){var i=t._id;return t.each((function(){var t=Di(this,i);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Pi(t,i).value[e]}}var zi=function(t,e){var n;return("number"==typeof e?Cn:e instanceof Ee?yn:(n=Ee(e))?(e=n,yn):kn)(t,e)};function Ki(t){return function(){this.removeAttribute(t)}}function Gi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function qi(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttribute(t);return s===o?null:s===i?r:r=e(i=s,n)}}function Wi(t,e,n){var i,r,o=n+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===o?null:s===i?r:r=e(i=s,n)}}function Yi(t,e,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttribute(t))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,l));this.removeAttribute(t)}}function Xi(t,e,n){var i,r,o;return function(){var s,a,l=n(this);if(null!=l)return(s=this.getAttributeNS(t.space,t.local))===(a=l+"")?null:s===i&&a===r?o:(r=a,o=e(i=s,l));this.removeAttributeNS(t.space,t.local)}}function Vi(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,r)),n}return r._value=e,r}function Ji(t,e){var n,i;function r(){var r=e.apply(this,arguments);return r!==i&&(n=(i=r)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,r)),n}return r._value=e,r}function Zi(t,e){return function(){Ri(this,t).delay=+e.apply(this,arguments)}}function $i(t,e){return e=+e,function(){Ri(this,t).delay=e}}function tr(t,e){return function(){Di(this,t).duration=+e.apply(this,arguments)}}function er(t,e){return e=+e,function(){Di(this,t).duration=e}}function nr(t,e){if("function"!=typeof e)throw new Error;return function(){Di(this,t).ease=e}}function ir(t,e,n){var i,r,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Ri:Di;return function(){var s=o(this,t),a=s.on;a!==i&&(r=(i=a).copy()).on(e,n),s.on=r}}var rr=Ut.prototype.constructor;function or(t){return function(){this.style.removeProperty(t)}}function sr(t,e,n){var i,r;function o(){var o=e.apply(this,arguments);return o!==r&&(i=(r=o)&&function(t,e,n){return function(i){this.style.setProperty(t,e(i),n)}}(t,o,n)),i}return o._value=e,o}var ar=0;function lr(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function ur(t){return Ut().transition(t)}function cr(){return++ar}var hr=Ut.prototype;function fr(t){return+t}function pr(t){return t*t}function dr(t){return t*(2-t)}function Ar(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function gr(t){return t*t*t}function mr(t){return--t*t*t+1}function vr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}lr.prototype=ur.prototype={constructor:lr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=F(t));for(var i=this._groups,r=i.length,o=new Array(r),s=0;s<r;++s)for(var a,l,u=i[s],c=u.length,h=o[s]=new Array(c),f=0;f<c;++f)(a=u[f])&&(l=t.call(a,a.__data__,f,u))&&("__data__"in a&&(l.__data__=a.__data__),h[f]=l,Fi(h[f],e,n,f,h,Pi(a,n)));return new lr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=D(t));for(var i=this._groups,r=i.length,o=[],s=[],a=0;a<r;++a)for(var l,u=i[a],c=u.length,h=0;h<c;++h)if(l=u[h]){for(var f,p=t.call(l,l.__data__,h,u),d=Pi(l,n),A=0,g=p.length;A<g;++A)(f=p[A])&&Fi(f,e,n,A,p,d);o.push(p),s.push(l)}return new lr(o,s,e,n)},filter:function(t){"function"!=typeof t&&(t=P(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o,s=e[r],a=s.length,l=i[r]=[],u=0;u<a;++u)(o=s[u])&&t.call(o,o.__data__,u,s)&&l.push(o);return new lr(i,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),s=new Array(i),a=0;a<o;++a)for(var l,u=e[a],c=n[a],h=u.length,f=s[a]=new Array(h),p=0;p<h;++p)(l=u[p]||c[p])&&(f[p]=l);for(;a<i;++a)s[a]=e[a];return new lr(s,this._parents,this._name,this._id)},selection:function(){return new rr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=cr(),i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,u=0;u<l;++u)if(s=a[u]){var c=Pi(s,e);Fi(s,t,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new lr(i,this._parents,t,n)},call:hr.call,nodes:hr.nodes,node:hr.node,size:hr.size,empty:hr.empty,each:hr.each,on:function(t,e){var n=this._id;return arguments.length<2?Pi(this.node(),n).on.on(t):this.each(ir(n,t,e))},attr:function(t,e){var n=M(t),i="transform"===n?zn:zi;return this.attrTween(t,"function"==typeof e?(n.local?Xi:Yi)(n,i,ji(this,"attr."+t,e)):null==e?(n.local?Gi:Ki)(n):(n.local?Wi:qi)(n,i,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var i=M(t);return this.tween(n,(i.local?Vi:Ji)(i,e))},style:function(t,e,n){var i="transform"==(t+="")?jn:zi;return null==e?this.styleTween(t,function(t,e){var n,i,r;return function(){var o=et(this,t),s=(this.style.removeProperty(t),et(this,t));return o===s?null:o===n&&s===i?r:r=e(n=o,i=s)}}(t,i)).on("end.style."+t,or(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var i,r,o;return function(){var s=et(this,t),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(t),l=a=et(this,t)),s===l?null:s===i&&l===r?o:(r=l,o=e(i=s,a))}}(t,i,ji(this,"style."+t,e))).each(function(t,e){var n,i,r,o,s="style."+e,a="end."+s;return function(){var l=Di(this,t),u=l.on,c=null==l.value[s]?o||(o=or(e)):void 0;u===n&&r===c||(i=(n=u).copy()).on(a,r=c),l.on=i}}(this._id,t)):this.styleTween(t,function(t,e,n){var i,r,o=n+"";return function(){var s=et(this,t);return s===o?null:s===i?r:r=e(i=s,n)}}(t,i,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==e)return this.tween(i,null);if("function"!=typeof e)throw new Error;return this.tween(i,sr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(ji(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i,r=Pi(this.node(),n).tween,o=0,s=r.length;o<s;++o)if((i=r[o]).name===t)return i.value;return null}return this.each((null==e?Qi:Hi)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Zi:$i)(e,t)):Pi(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?tr:er)(e,t)):Pi(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(nr(e,t)):Pi(this.node(),e).ease},end:function(){var t,e,n=this,i=n._id,r=n.size();return new Promise((function(o,s){var a={value:s},l={value:function(){0==--r&&o()}};n.each((function(){var n=Di(this,i),r=n.on;r!==t&&((e=(t=r).copy())._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),n.on=e}))}))}};var yr=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),_r=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),br=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),wr=Math.PI,Er=wr/2;function xr(t){return 1-Math.cos(t*Er)}function Cr(t){return Math.sin(t*Er)}function Br(t){return(1-Math.cos(wr*t))/2}function Ir(t){return Math.pow(2,10*t-10)}function Sr(t){return 1-Math.pow(2,-10*t)}function Or(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Mr(t){return 1-Math.sqrt(1-t*t)}function Tr(t){return Math.sqrt(1- --t*t)}function Nr(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var kr=4/11,Lr=6/11,Fr=8/11,Rr=.75,Dr=9/11,Pr=10/11,Ur=.9375,Qr=21/22,Hr=63/64,jr=1/kr/kr;function zr(t){return 1-Kr(1-t)}function Kr(t){return(t=+t)<kr?jr*t*t:t<Fr?jr*(t-=Lr)*t+Rr:t<Pr?jr*(t-=Dr)*t+Ur:jr*(t-=Qr)*t+Hr}function Gr(t){return((t*=2)<=1?1-Kr(1-t):Kr(t-1)+1)/2}var qr=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Wr=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),Yr=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Xr=2*Math.PI,Vr=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Xr);function r(t){return e*Math.pow(2,10*--t)*Math.sin((i-t)/n)}return r.amplitude=function(e){return t(e,n*Xr)},r.period=function(n){return t(e,n)},r}(1,.3),Jr=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Xr);function r(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/n)}return r.amplitude=function(e){return t(e,n*Xr)},r.period=function(n){return t(e,n)},r}(1,.3),Zr=function t(e,n){var i=Math.asin(1/(e=Math.max(1,e)))*(n/=Xr);function r(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((i-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((i+t)/n))/2}return r.amplitude=function(e){return t(e,n*Xr)},r.period=function(n){return t(e,n)},r}(1,.3),$r={time:null,delay:0,duration:250,ease:vr};function to(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return $r.time=gi(),$r;return n}Ut.prototype.interrupt=function(t){return this.each((function(){Ui(this,t)}))},Ut.prototype.transition=function(t){var e,n;t instanceof lr?(e=t._id,t=t._name):(e=cr(),(n=$r).time=gi(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var s,a=i[o],l=a.length,u=0;u<l;++u)(s=a[u])&&Fi(s,t,e,u,a,n||to(s,e));return new lr(i,this._parents,t,e)};var eo=[null],no=function(t,e){var n,i,r=t.__transition;if(r)for(i in e=null==e?null:e+"",r)if((n=r[i]).state>Oi&&n.name===e)return new lr([[t]],eo,e,+i);return null},io=function(t){return function(){return t}},ro=function(t,e,n){this.target=t,this.type=e,this.selection=n};function oo(){Bt.stopImmediatePropagation()}var so=function(){Bt.preventDefault(),Bt.stopImmediatePropagation()},ao={name:"drag"},lo={name:"space"},uo={name:"handle"},co={name:"center"},ho={name:"x",handles:["e","w"].map(_o),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},fo={name:"y",handles:["n","s"].map(_o),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},po={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(_o),input:function(t){return t},output:function(t){return t}},Ao={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},go={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},mo={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},vo={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},yo={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function _o(t){return{type:t}}function bo(){return!Bt.button}function wo(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Eo(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function xo(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Co(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Bo(){return Oo(ho)}function Io(){return Oo(fo)}var So=function(){return Oo(po)};function Oo(t){var e,n=wo,i=bo,r=I(s,"start","brush","end"),o=6;function s(e){var n=e.property("__brush",h).selectAll(".overlay").data([_o("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ao.overlay).merge(n).each((function(){var t=Eo(this).extent;Qt(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([_o("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ao.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var i=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));i.exit().remove(),i.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Ao[t.type]})),e.each(a).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",c)}function a(){var t=Qt(this),e=Eo(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-o/2:e[0][0]-o/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-o/2:e[0][1]-o/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+o:o})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+o:o}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(t,e){return t.__brush.emitter||new u(t,e)}function u(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function c(){if(Bt.touches){if(Bt.changedTouches.length<Bt.touches.length)return so()}else if(e)return;if(i.apply(this,arguments)){var n,r,o,s,u,c,h,f,p,d,A,g,m,v=this,y=Bt.target.__data__.type,_="selection"===(Bt.metaKey?y="overlay":y)?ao:Bt.altKey?co:uo,b=t===fo?null:vo[y],w=t===ho?null:yo[y],E=Eo(v),x=E.extent,C=E.selection,B=x[0][0],I=x[0][1],S=x[1][0],O=x[1][1],M=b&&w&&Bt.shiftKey,T=Wt(v),N=T,k=l(v,arguments).beforestart();"overlay"===y?E.selection=C=[[n=t===fo?B:T[0],o=t===ho?I:T[1]],[u=t===fo?S:n,h=t===ho?O:o]]:(n=C[0][0],o=C[0][1],u=C[1][0],h=C[1][1]),r=n,s=o,c=u,f=h;var L=Qt(v).attr("pointer-events","none"),F=L.selectAll(".overlay").attr("cursor",Ao[y]);if(Bt.touches)L.on("touchmove.brush",D,!0).on("touchend.brush touchcancel.brush",U,!0);else{var R=Qt(Bt.view).on("keydown.brush",(function(){switch(Bt.keyCode){case 16:M=b&&w;break;case 18:_===uo&&(b&&(u=c-p*b,n=r+p*b),w&&(h=f-d*w,o=s+d*w),_=co,P());break;case 32:_!==uo&&_!==co||(b<0?u=c-p:b>0&&(n=r-p),w<0?h=f-d:w>0&&(o=s-d),_=lo,F.attr("cursor",Ao.selection),P());break;default:return}so()}),!0).on("keyup.brush",(function(){switch(Bt.keyCode){case 16:M&&(g=m=M=!1,P());break;case 18:_===co&&(b<0?u=c:b>0&&(n=r),w<0?h=f:w>0&&(o=s),_=uo,P());break;case 32:_===lo&&(Bt.altKey?(b&&(u=c-p*b,n=r+p*b),w&&(h=f-d*w,o=s+d*w),_=co):(b<0?u=c:b>0&&(n=r),w<0?h=f:w>0&&(o=s),_=uo),F.attr("cursor",Ao[y]),P());break;default:return}so()}),!0).on("mousemove.brush",D,!0).on("mouseup.brush",U,!0);$t(Bt.view)}oo(),Ui(v),a.call(v),k.start()}function D(){var t=Wt(v);!M||g||m||(Math.abs(t[0]-N[0])>Math.abs(t[1]-N[1])?m=!0:g=!0),N=t,A=!0,so(),P()}function P(){var t;switch(p=N[0]-T[0],d=N[1]-T[1],_){case lo:case ao:b&&(p=Math.max(B-n,Math.min(S-u,p)),r=n+p,c=u+p),w&&(d=Math.max(I-o,Math.min(O-h,d)),s=o+d,f=h+d);break;case uo:b<0?(p=Math.max(B-n,Math.min(S-n,p)),r=n+p,c=u):b>0&&(p=Math.max(B-u,Math.min(S-u,p)),r=n,c=u+p),w<0?(d=Math.max(I-o,Math.min(O-o,d)),s=o+d,f=h):w>0&&(d=Math.max(I-h,Math.min(O-h,d)),s=o,f=h+d);break;case co:b&&(r=Math.max(B,Math.min(S,n-p*b)),c=Math.max(B,Math.min(S,u+p*b))),w&&(s=Math.max(I,Math.min(O,o-d*w)),f=Math.max(I,Math.min(O,h+d*w)))}c<r&&(b*=-1,t=n,n=u,u=t,t=r,r=c,c=t,y in go&&F.attr("cursor",Ao[y=go[y]])),f<s&&(w*=-1,t=o,o=h,h=t,t=s,s=f,f=t,y in mo&&F.attr("cursor",Ao[y=mo[y]])),E.selection&&(C=E.selection),g&&(r=C[0][0],c=C[1][0]),m&&(s=C[0][1],f=C[1][1]),C[0][0]===r&&C[0][1]===s&&C[1][0]===c&&C[1][1]===f||(E.selection=[[r,s],[c,f]],a.call(v),k.brush())}function U(){if(oo(),Bt.touches){if(Bt.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),L.on("touchmove.brush touchend.brush touchcancel.brush",null)}else te(Bt.view,A),R.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);L.attr("pointer-events","all"),F.attr("cursor",Ao.overlay),E.selection&&(C=E.selection),xo(C)&&(E.selection=null,a.call(v)),k.end()}}function h(){var e=this.__brush||{selection:null};return e.extent=n.apply(this,arguments),e.dim=t,e}return s.move=function(e,n){e.selection?e.on("start.brush",(function(){l(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){l(this,arguments).end()})).tween("brush",(function(){var e=this,i=e.__brush,r=l(e,arguments),o=i.selection,s=t.input("function"==typeof n?n.apply(this,arguments):n,i.extent),u=Ln(o,s);function c(t){i.selection=1===t&&xo(s)?null:u(t),a.call(e),r.brush()}return o&&s?c:c(1)})):e.each((function(){var e=this,i=arguments,r=e.__brush,o=t.input("function"==typeof n?n.apply(e,i):n,r.extent),s=l(e,i).beforestart();Ui(e),r.selection=null==o||xo(o)?null:o,a.call(e),s.start().brush().end()}))},u.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){Nt(new ro(s,e,t.output(this.state.selection)),r.apply,r,[e,this.that,this.args])}},s.extent=function(t){return arguments.length?(n="function"==typeof t?t:io([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),s):n},s.filter=function(t){return arguments.length?(i="function"==typeof t?t:io(!!t),s):i},s.handleSize=function(t){return arguments.length?(o=+t,s):o},s.on=function(){var t=r.on.apply(r,arguments);return t===r?s:t},s}var Mo=Math.cos,To=Math.sin,No=Math.PI,ko=No/2,Lo=2*No,Fo=Math.max;function Ro(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}var Do=function(){var t=0,e=null,n=null,r=null;function o(o){var s,a,l,u,c,h,f=o.length,p=[],d=Object(i.s)(f),A=[],g=[],m=g.groups=new Array(f),v=new Array(f*f);for(s=0,c=-1;++c<f;){for(a=0,h=-1;++h<f;)a+=o[c][h];p.push(a),A.push(Object(i.s)(f)),s+=a}for(e&&d.sort((function(t,n){return e(p[t],p[n])})),n&&A.forEach((function(t,e){t.sort((function(t,i){return n(o[e][t],o[e][i])}))})),u=(s=Fo(0,Lo-t*f)/s)?t:Lo/f,a=0,c=-1;++c<f;){for(l=a,h=-1;++h<f;){var y=d[c],_=A[y][h],b=o[y][_],w=a,E=a+=b*s;v[_*f+y]={index:y,subindex:_,startAngle:w,endAngle:E,value:b}}m[y]={index:y,startAngle:l,endAngle:a,value:p[y]},a+=u}for(c=-1;++c<f;)for(h=c-1;++h<f;){var x=v[h*f+c],C=v[c*f+h];(x.value||C.value)&&g.push(x.value<C.value?{source:C,target:x}:{source:x,target:C})}return r?g.sort(r):g}return o.padAngle=function(e){return arguments.length?(t=Fo(0,e),o):t},o.sortGroups=function(t){return arguments.length?(e=t,o):e},o.sortSubgroups=function(t){return arguments.length?(n=t,o):n},o.sortChords=function(t){return arguments.length?(null==t?r=null:(r=Ro(t))._=t,o):r&&r._},o},Po=Array.prototype.slice,Uo=function(t){return function(){return t}},Qo=Math.PI,Ho=2*Qo,jo=Ho-1e-6;function zo(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ko(){return new zo}zo.prototype=Ko.prototype={constructor:zo,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,i){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+i)},bezierCurveTo:function(t,e,n,i,r,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +i+","+(this._x1=+r)+","+(this._y1=+o)},arcTo:function(t,e,n,i,r){t=+t,e=+e,n=+n,i=+i,r=+r;var o=this._x1,s=this._y1,a=n-t,l=i-e,u=o-t,c=s-e,h=u*u+c*c;if(r<0)throw new Error("negative radius: "+r);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*a-l*u)>1e-6&&r){var f=n-o,p=i-s,d=a*a+l*l,A=f*f+p*p,g=Math.sqrt(d),m=Math.sqrt(h),v=r*Math.tan((Qo-Math.acos((d+h-A)/(2*g*m)))/2),y=v/m,_=v/g;Math.abs(y-1)>1e-6&&(this._+="L"+(t+y*u)+","+(e+y*c)),this._+="A"+r+","+r+",0,0,"+ +(c*f>u*p)+","+(this._x1=t+_*a)+","+(this._y1=e+_*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,i,r,o){t=+t,e=+e;var s=(n=+n)*Math.cos(i),a=n*Math.sin(i),l=t+s,u=e+a,c=1^o,h=o?i-r:r-i;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+u:(Math.abs(this._x1-l)>1e-6||Math.abs(this._y1-u)>1e-6)&&(this._+="L"+l+","+u),n&&(h<0&&(h=h%Ho+Ho),h>jo?this._+="A"+n+","+n+",0,1,"+c+","+(t-s)+","+(e-a)+"A"+n+","+n+",0,1,"+c+","+(this._x1=l)+","+(this._y1=u):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=Qo)+","+c+","+(this._x1=t+n*Math.cos(r))+","+(this._y1=e+n*Math.sin(r))))},rect:function(t,e,n,i){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +i+"h"+-n+"Z"},toString:function(){return this._}};var Go=Ko;function qo(t){return t.source}function Wo(t){return t.target}function Yo(t){return t.radius}function Xo(t){return t.startAngle}function Vo(t){return t.endAngle}var Jo=function(){var t=qo,e=Wo,n=Yo,i=Xo,r=Vo,o=null;function s(){var s,a=Po.call(arguments),l=t.apply(this,a),u=e.apply(this,a),c=+n.apply(this,(a[0]=l,a)),h=i.apply(this,a)-ko,f=r.apply(this,a)-ko,p=c*Mo(h),d=c*To(h),A=+n.apply(this,(a[0]=u,a)),g=i.apply(this,a)-ko,m=r.apply(this,a)-ko;if(o||(o=s=Go()),o.moveTo(p,d),o.arc(0,0,c,h,f),h===g&&f===m||(o.quadraticCurveTo(0,0,A*Mo(g),A*To(g)),o.arc(0,0,A,g,m)),o.quadraticCurveTo(0,0,p,d),o.closePath(),s)return o=null,s+""||null}return s.radius=function(t){return arguments.length?(n="function"==typeof t?t:Uo(+t),s):n},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Uo(+t),s):i},s.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:Uo(+t),s):r},s.source=function(e){return arguments.length?(t=e,s):t},s.target=function(t){return arguments.length?(e=t,s):e},s.context=function(t){return arguments.length?(o=null==t?null:t,s):o},s};function Zo(){}function $o(t,e){var n=new Zo;if(t instanceof Zo)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,r=-1,o=t.length;if(null==e)for(;++r<o;)n.set(r,t[r]);else for(;++r<o;)n.set(e(i=t[r],r,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}Zo.prototype=$o.prototype={constructor:Zo,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var ts=$o,es=function(){var t,e,n,i=[],r=[];function o(n,r,s,a){if(r>=i.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var l,u,c,h=-1,f=n.length,p=i[r++],d=ts(),A=s();++h<f;)(c=d.get(l=p(u=n[h])+""))?c.push(u):d.set(l,[u]);return d.each((function(t,e){a(A,e,o(t,r,s,a))})),A}return n={object:function(t){return o(t,0,ns,is)},map:function(t){return o(t,0,rs,os)},entries:function(t){return function t(n,o){if(++o>i.length)return n;var s,a=r[o-1];return null!=e&&o>=i.length?s=n.entries():(s=[],n.each((function(e,n){s.push({key:n,values:t(e,o)})}))),null!=a?s.sort((function(t,e){return a(t.key,e.key)})):s}(o(t,0,rs,os),0)},key:function(t){return i.push(t),n},sortKeys:function(t){return r[i.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function ns(){return{}}function is(t,e,n){t[e]=n}function rs(){return ts()}function os(t,e,n){t.set(e,n)}function ss(){}var as=ts.prototype;function ls(t,e){var n=new ss;if(t instanceof ss)t.each((function(t){n.add(t)}));else if(t){var i=-1,r=t.length;if(null==e)for(;++i<r;)n.add(t[i]);else for(;++i<r;)n.add(e(t[i],i,t))}return n}ss.prototype=ls.prototype={constructor:ss,has:as.has,add:function(t){return this["$"+(t+="")]=t,this},remove:as.remove,clear:as.clear,values:as.keys,size:as.size,empty:as.empty,each:as.each};var us=ls,cs=function(t){var e=[];for(var n in t)e.push(n);return e},hs=function(t){var e=[];for(var n in t)e.push(t[n]);return e},fs=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},ps=Array.prototype.slice,ds=function(t,e){return t-e},As=function(t){for(var e=0,n=t.length,i=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)i+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return i},gs=function(t){return function(){return t}},ms=function(t,e){for(var n,i=-1,r=e.length;++i<r;)if(n=vs(t,e[i]))return n;return 0};function vs(t,e){for(var n=e[0],i=e[1],r=-1,o=0,s=t.length,a=s-1;o<s;a=o++){var l=t[o],u=l[0],c=l[1],h=t[a],f=h[0],p=h[1];if(ys(l,h,e))return 0;c>i!=p>i&&n<(f-u)*(i-c)/(p-c)+u&&(r=-r)}return r}function ys(t,e,n){var i,r,o,s;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(r=t[i=+(t[0]===e[0])],o=n[i],s=e[i],r<=o&&o<=s||s<=o&&o<=r)}var _s=function(){},bs=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],ws=function(){var t=1,e=1,n=i.y,r=l;function o(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(ds);else{var r=Object(i.i)(t),o=r[0],a=r[1];e=Object(i.A)(o,a,e),e=Object(i.s)(Math.floor(o/e)*e,Math.floor(a/e)*e,e)}return e.map((function(e){return s(t,e)}))}function s(n,i){var o=[],s=[];return function(n,i,r){var o,s,l,u,c,h,f=new Array,p=new Array;o=s=-1,u=n[0]>=i,bs[u<<1].forEach(d);for(;++o<t-1;)l=u,u=n[o+1]>=i,bs[l|u<<1].forEach(d);bs[u<<0].forEach(d);for(;++s<e-1;){for(o=-1,u=n[s*t+t]>=i,c=n[s*t]>=i,bs[u<<1|c<<2].forEach(d);++o<t-1;)l=u,u=n[s*t+t+o+1]>=i,h=c,c=n[s*t+o+1]>=i,bs[l|u<<1|c<<2|h<<3].forEach(d);bs[u|c<<3].forEach(d)}o=-1,c=n[s*t]>=i,bs[c<<2].forEach(d);for(;++o<t-1;)h=c,c=n[s*t+o+1]>=i,bs[c<<2|h<<3].forEach(d);function d(t){var e,n,i=[t[0][0]+o,t[0][1]+s],l=[t[1][0]+o,t[1][1]+s],u=a(i),c=a(l);(e=p[u])?(n=f[c])?(delete p[e.end],delete f[n.start],e===n?(e.ring.push(l),r(e.ring)):f[e.start]=p[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete p[e.end],e.ring.push(l),p[e.end=c]=e):(e=f[c])?(n=p[u])?(delete f[e.start],delete p[n.end],e===n?(e.ring.push(l),r(e.ring)):f[n.start]=p[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete f[e.start],e.ring.unshift(i),f[e.start=u]=e):f[u]=p[c]={start:u,end:c,ring:[i,l]}}bs[c<<3].forEach(d)}(n,i,(function(t){r(t,n,i),As(t)>0?o.push([t]):s.push(t)})),s.forEach((function(t){for(var e,n=0,i=o.length;n<i;++n)if(-1!==ms((e=o[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(e){return 2*e[0]+e[1]*(t+1)*4}function l(n,i,r){n.forEach((function(n){var o,s=n[0],a=n[1],l=0|s,u=0|a,c=i[u*t+l];s>0&&s<t&&l===s&&(o=i[u*t+l-1],n[0]=s+(r-o)/(c-o)-.5),a>0&&a<e&&u===a&&(o=i[(u-1)*t+l],n[1]=a+(r-o)/(c-o)-.5)}))}return o.contour=s,o.size=function(n){if(!arguments.length)return[t,e];var i=Math.ceil(n[0]),r=Math.ceil(n[1]);if(!(i>0&&r>0))throw new Error("invalid size");return t=i,e=r,o},o.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?gs(ps.call(t)):gs(t),o):n},o.smooth=function(t){return arguments.length?(r=t?l:_s,o):r===l},o};function Es(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),s=0;s<r;++s)for(var a=0,l=0;a<i+n;++a)a<i&&(l+=t.data[a+s*i]),a>=n&&(a>=o&&(l-=t.data[a-o+s*i]),e.data[a-n+s*i]=l/Math.min(a+1,i-1+o-a,o))}function xs(t,e,n){for(var i=t.width,r=t.height,o=1+(n<<1),s=0;s<i;++s)for(var a=0,l=0;a<r+n;++a)a<r&&(l+=t.data[s+a*i]),a>=n&&(a>=o&&(l-=t.data[s+(a-o)*i]),e.data[s+(a-n)*i]=l/Math.min(a+1,r-1+o-a,o))}function Cs(t){return t[0]}function Bs(t){return t[1]}function Is(){return 1}var Ss=function(){var t=Cs,e=Bs,n=Is,r=960,o=500,s=20,a=2,l=3*s,u=r+2*l>>a,c=o+2*l>>a,h=gs(20);function f(r){var o=new Float32Array(u*c),f=new Float32Array(u*c);r.forEach((function(i,r,s){var h=+t(i,r,s)+l>>a,f=+e(i,r,s)+l>>a,p=+n(i,r,s);h>=0&&h<u&&f>=0&&f<c&&(o[h+f*u]+=p)})),Es({width:u,height:c,data:o},{width:u,height:c,data:f},s>>a),xs({width:u,height:c,data:f},{width:u,height:c,data:o},s>>a),Es({width:u,height:c,data:o},{width:u,height:c,data:f},s>>a),xs({width:u,height:c,data:f},{width:u,height:c,data:o},s>>a),Es({width:u,height:c,data:o},{width:u,height:c,data:f},s>>a),xs({width:u,height:c,data:f},{width:u,height:c,data:o},s>>a);var d=h(o);if(!Array.isArray(d)){var A=Object(i.k)(o);d=Object(i.A)(0,A,d),(d=Object(i.s)(0,Math.floor(A/d)*d,d)).shift()}return ws().thresholds(d).size([u,c])(o).map(p)}function p(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(d),t}function d(t){t.forEach(A)}function A(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,a)-l,t[1]=t[1]*Math.pow(2,a)-l}function m(){return u=r+2*(l=3*s)>>a,c=o+2*l>>a,f}return f.x=function(e){return arguments.length?(t="function"==typeof e?e:gs(+e),f):t},f.y=function(t){return arguments.length?(e="function"==typeof t?t:gs(+t),f):e},f.weight=function(t){return arguments.length?(n="function"==typeof t?t:gs(+t),f):n},f.size=function(t){if(!arguments.length)return[r,o];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return r=e,o=n,m()},f.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),m()},f.thresholds=function(t){return arguments.length?(h="function"==typeof t?t:Array.isArray(t)?gs(ps.call(t)):gs(t),f):h},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(s*(s+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return s=Math.round((Math.sqrt(4*t*t+1)-1)/2),m()},f},Os={},Ms={},Ts=34,Ns=10,ks=13;function Ls(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+"]"})).join(",")+"}")}function Fs(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var i in t)i in e||n.push(e[i]=i)})),n}function Rs(t,e){var n=t+"",i=n.length;return i<e?new Array(e-i+1).join(0)+n:n}function Ds(t){var e,n=t.getUTCHours(),i=t.getUTCMinutes(),r=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+Rs(-e,6):e>9999?"+"+Rs(e,6):Rs(e,4))+"-"+Rs(t.getUTCMonth()+1,2)+"-"+Rs(t.getUTCDate(),2)+(o?"T"+Rs(n,2)+":"+Rs(i,2)+":"+Rs(r,2)+"."+Rs(o,3)+"Z":r?"T"+Rs(n,2)+":"+Rs(i,2)+":"+Rs(r,2)+"Z":i||n?"T"+Rs(n,2)+":"+Rs(i,2)+"Z":"")}var Ps=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function i(t,e){var i,r=[],o=t.length,s=0,a=0,l=o<=0,u=!1;function c(){if(l)return Ms;if(u)return u=!1,Os;var e,i,r=s;if(t.charCodeAt(r)===Ts){for(;s++<o&&t.charCodeAt(s)!==Ts||t.charCodeAt(++s)===Ts;);return(e=s)>=o?l=!0:(i=t.charCodeAt(s++))===Ns?u=!0:i===ks&&(u=!0,t.charCodeAt(s)===Ns&&++s),t.slice(r+1,e-1).replace(/""/g,'"')}for(;s<o;){if((i=t.charCodeAt(e=s++))===Ns)u=!0;else if(i===ks)u=!0,t.charCodeAt(s)===Ns&&++s;else if(i!==n)continue;return t.slice(r,e)}return l=!0,t.slice(r,o)}for(t.charCodeAt(o-1)===Ns&&--o,t.charCodeAt(o-1)===ks&&--o;(i=c())!==Ms;){for(var h=[];i!==Os&&i!==Ms;)h.push(i),i=c();e&&null==(h=e(h,a++))||r.push(h)}return r}function r(e,n){return e.map((function(e){return n.map((function(t){return s(e[t])})).join(t)}))}function o(e){return e.map(s).join(t)}function s(t){return null==t?"":t instanceof Date?Ds(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,r,o=i(t,(function(t,i){if(n)return n(t,i-1);r=t,n=e?function(t,e){var n=Ls(t);return function(i,r){return e(n(i),r,t)}}(t,e):Ls(t)}));return o.columns=r||[],o},parseRows:i,format:function(e,n){return null==n&&(n=Fs(e)),[n.map(s).join(t)].concat(r(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=Fs(t)),r(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")}}},Us=Ps(","),Qs=Us.parse,Hs=Us.parseRows,js=Us.format,zs=Us.formatBody,Ks=Us.formatRows,Gs=Ps("\t"),qs=Gs.parse,Ws=Gs.parseRows,Ys=Gs.format,Xs=Gs.formatBody,Vs=Gs.formatRows;function Js(t){for(var e in t){var n,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(i))continue;i=new Date(i)}else i=n;else i=null;t[e]=i}return t}function Zs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var $s=function(t,e){return fetch(t,e).then(Zs)};function ta(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var ea=function(t,e){return fetch(t,e).then(ta)};function na(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var ia=function(t,e){return fetch(t,e).then(na)};function ra(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=void 0),ia(e,n).then((function(e){return t(e,i)}))}}function oa(t,e,n,i){3===arguments.length&&"function"==typeof n&&(i=n,n=void 0);var r=Ps(t);return ia(e,n).then((function(t){return r.parse(t,i)}))}var sa=ra(Qs),aa=ra(qs),la=function(t,e){return new Promise((function(n,i){var r=new Image;for(var o in e)r[o]=e[o];r.onerror=i,r.onload=function(){n(r)},r.src=t}))};function ua(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var ca=function(t,e){return fetch(t,e).then(ua)};function ha(t){return function(e,n){return ia(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}var fa=ha("application/xml"),pa=ha("text/html"),da=ha("image/svg+xml"),Aa=function(t,e){var n;function i(){var i,r,o=n.length,s=0,a=0;for(i=0;i<o;++i)s+=(r=n[i]).x,a+=r.y;for(s=s/o-t,a=a/o-e,i=0;i<o;++i)(r=n[i]).x-=s,r.y-=a}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i},ga=function(t){return function(){return t}},ma=function(){return 1e-6*(Math.random()-.5)};function va(t,e,n,i){if(isNaN(e)||isNaN(n))return t;var r,o,s,a,l,u,c,h,f,p=t._root,d={data:i},A=t._x0,g=t._y0,m=t._x1,v=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((u=e>=(o=(A+m)/2))?A=o:m=o,(c=n>=(s=(g+v)/2))?g=s:v=s,r=p,!(p=p[h=c<<1|u]))return r[h]=d,t;if(a=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===a&&n===l)return d.next=p,r?r[h]=d:t._root=d,t;do{r=r?r[h]=new Array(4):t._root=new Array(4),(u=e>=(o=(A+m)/2))?A=o:m=o,(c=n>=(s=(g+v)/2))?g=s:v=s}while((h=c<<1|u)==(f=(l>=s)<<1|a>=o));return r[f]=p,r[h]=d,t}var ya=function(t,e,n,i,r){this.node=t,this.x0=e,this.y0=n,this.x1=i,this.y1=r};function _a(t){return t[0]}function ba(t){return t[1]}function wa(t,e,n){var i=new Ea(null==e?_a:e,null==n?ba:n,NaN,NaN,NaN,NaN);return null==t?i:i.addAll(t)}function Ea(t,e,n,i,r,o){this._x=t,this._y=e,this._x0=n,this._y0=i,this._x1=r,this._y1=o,this._root=void 0}function xa(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ca=wa.prototype=Ea.prototype;function Ba(t){return t.x+t.vx}function Ia(t){return t.y+t.vy}Ca.copy=function(){var t,e,n=new Ea(this._x,this._y,this._x0,this._y0,this._x1,this._y1),i=this._root;if(!i)return n;if(!i.length)return n._root=xa(i),n;for(t=[{source:i,target:n._root=new Array(4)}];i=t.pop();)for(var r=0;r<4;++r)(e=i.source[r])&&(e.length?t.push({source:e,target:i.target[r]=new Array(4)}):i.target[r]=xa(e));return n},Ca.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return va(this.cover(e,n),e,n,t)},Ca.addAll=function(t){var e,n,i,r,o=t.length,s=new Array(o),a=new Array(o),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(i=+this._x.call(null,e=t[n]))||isNaN(r=+this._y.call(null,e))||(s[n]=i,a[n]=r,i<l&&(l=i),i>c&&(c=i),r<u&&(u=r),r>h&&(h=r));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<o;++n)va(this,s[n],a[n],t[n]);return this},Ca.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,i=this._y0,r=this._x1,o=this._y1;if(isNaN(n))r=(n=Math.floor(t))+1,o=(i=Math.floor(e))+1;else{for(var s,a,l=r-n,u=this._root;n>t||t>=r||i>e||e>=o;)switch(a=(e<i)<<1|t<n,(s=new Array(4))[a]=u,u=s,l*=2,a){case 0:r=n+l,o=i+l;break;case 1:n=r-l,o=i+l;break;case 2:r=n+l,i=o-l;break;case 3:n=r-l,i=o-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=i,this._x1=r,this._y1=o,this},Ca.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Ca.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ca.find=function(t,e,n){var i,r,o,s,a,l,u,c=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],A=this._root;for(A&&d.push(new ya(A,c,h,f,p)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,p=e+n,n*=n);l=d.pop();)if(!(!(A=l.node)||(r=l.x0)>f||(o=l.y0)>p||(s=l.x1)<c||(a=l.y1)<h))if(A.length){var g=(r+s)/2,m=(o+a)/2;d.push(new ya(A[3],g,m,s,a),new ya(A[2],r,m,g,a),new ya(A[1],g,o,s,m),new ya(A[0],r,o,g,m)),(u=(e>=m)<<1|t>=g)&&(l=d[d.length-1],d[d.length-1]=d[d.length-1-u],d[d.length-1-u]=l)}else{var v=t-+this._x.call(null,A.data),y=e-+this._y.call(null,A.data),_=v*v+y*y;if(_<n){var b=Math.sqrt(n=_);c=t-b,h=e-b,f=t+b,p=e+b,i=A.data}}return i},Ca.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(s=+this._y.call(null,t)))return this;var e,n,i,r,o,s,a,l,u,c,h,f,p=this._root,d=this._x0,A=this._y0,g=this._x1,m=this._y1;if(!p)return this;if(p.length)for(;;){if((u=o>=(a=(d+g)/2))?d=a:g=a,(c=s>=(l=(A+m)/2))?A=l:m=l,e=p,!(p=p[h=c<<1|u]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}for(;p.data!==t;)if(i=p,!(p=p.next))return this;return(r=p.next)&&delete p.next,i?(r?i.next=r:delete i.next,this):e?(r?e[h]=r:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=r,this)},Ca.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Ca.root=function(){return this._root},Ca.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Ca.visit=function(t){var e,n,i,r,o,s,a=[],l=this._root;for(l&&a.push(new ya(l,this._x0,this._y0,this._x1,this._y1));e=a.pop();)if(!t(l=e.node,i=e.x0,r=e.y0,o=e.x1,s=e.y1)&&l.length){var u=(i+o)/2,c=(r+s)/2;(n=l[3])&&a.push(new ya(n,u,c,o,s)),(n=l[2])&&a.push(new ya(n,i,c,u,s)),(n=l[1])&&a.push(new ya(n,u,r,o,c)),(n=l[0])&&a.push(new ya(n,i,r,u,c))}return this},Ca.visitAfter=function(t){var e,n=[],i=[];for(this._root&&n.push(new ya(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var r=e.node;if(r.length){var o,s=e.x0,a=e.y0,l=e.x1,u=e.y1,c=(s+l)/2,h=(a+u)/2;(o=r[0])&&n.push(new ya(o,s,a,c,h)),(o=r[1])&&n.push(new ya(o,c,a,l,h)),(o=r[2])&&n.push(new ya(o,s,h,c,u)),(o=r[3])&&n.push(new ya(o,c,h,l,u))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ca.x=function(t){return arguments.length?(this._x=t,this):this._x},Ca.y=function(t){return arguments.length?(this._y=t,this):this._y};var Sa=function(t){var e,n,i=1,r=1;function o(){for(var t,o,a,l,u,c,h,f=e.length,p=0;p<r;++p)for(o=wa(e,Ba,Ia).visitAfter(s),t=0;t<f;++t)a=e[t],c=n[a.index],h=c*c,l=a.x+a.vx,u=a.y+a.vy,o.visit(d);function d(t,e,n,r,o){var s=t.data,f=t.r,p=c+f;if(!s)return e>l+p||r<l-p||n>u+p||o<u-p;if(s.index>a.index){var d=l-s.x-s.vx,A=u-s.y-s.vy,g=d*d+A*A;g<p*p&&(0===d&&(g+=(d=ma())*d),0===A&&(g+=(A=ma())*A),g=(p-(g=Math.sqrt(g)))/g*i,a.vx+=(d*=g)*(p=(f*=f)/(h+f)),a.vy+=(A*=g)*p,s.vx-=d*(p=1-p),s.vy-=A*p)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function a(){if(e){var i,r,o=e.length;for(n=new Array(o),i=0;i<o;++i)r=e[i],n[r.index]=+t(r,i,e)}}return"function"!=typeof t&&(t=ga(null==t?1:+t)),o.initialize=function(t){e=t,a()},o.iterations=function(t){return arguments.length?(r=+t,o):r},o.strength=function(t){return arguments.length?(i=+t,o):i},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:ga(+e),a(),o):t},o};function Oa(t){return t.index}function Ma(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var Ta=function(t){var e,n,i,r,o,s=Oa,a=function(t){return 1/Math.min(r[t.source.index],r[t.target.index])},l=ga(30),u=1;function c(i){for(var r=0,s=t.length;r<u;++r)for(var a,l,c,h,f,p,d,A=0;A<s;++A)l=(a=t[A]).source,h=(c=a.target).x+c.vx-l.x-l.vx||ma(),f=c.y+c.vy-l.y-l.vy||ma(),h*=p=((p=Math.sqrt(h*h+f*f))-n[A])/p*i*e[A],f*=p,c.vx-=h*(d=o[A]),c.vy-=f*d,l.vx+=h*(d=1-d),l.vy+=f*d}function h(){if(i){var a,l,u=i.length,c=t.length,h=ts(i,s);for(a=0,r=new Array(u);a<c;++a)(l=t[a]).index=a,"object"!=typeof l.source&&(l.source=Ma(h,l.source)),"object"!=typeof l.target&&(l.target=Ma(h,l.target)),r[l.source.index]=(r[l.source.index]||0)+1,r[l.target.index]=(r[l.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)l=t[a],o[a]=r[l.source.index]/(r[l.source.index]+r[l.target.index]);e=new Array(c),f(),n=new Array(c),p()}}function f(){if(i)for(var n=0,r=t.length;n<r;++n)e[n]=+a(t[n],n,t)}function p(){if(i)for(var e=0,r=t.length;e<r;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),c.initialize=function(t){i=t,h()},c.links=function(e){return arguments.length?(t=e,h(),c):t},c.id=function(t){return arguments.length?(s=t,c):s},c.iterations=function(t){return arguments.length?(u=+t,c):u},c.strength=function(t){return arguments.length?(a="function"==typeof t?t:ga(+t),f(),c):a},c.distance=function(t){return arguments.length?(l="function"==typeof t?t:ga(+t),p(),c):l},c};function Na(t){return t.x}function ka(t){return t.y}var La=10,Fa=Math.PI*(3-Math.sqrt(5)),Ra=function(t){var e,n=1,i=.001,r=1-Math.pow(i,1/300),o=0,s=.6,a=ts(),l=yi(c),u=I("tick","end");function c(){h(),u.call("tick",e),n<i&&(l.stop(),u.call("end",e))}function h(i){var l,u,c=t.length;void 0===i&&(i=1);for(var h=0;h<i;++h)for(n+=(o-n)*r,a.each((function(t){t(n)})),l=0;l<c;++l)null==(u=t[l]).fx?u.x+=u.vx*=s:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=s:(u.y=u.fy,u.vy=0);return e}function f(){for(var e,n=0,i=t.length;n<i;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var r=La*Math.sqrt(n),o=n*Fa;e.x=r*Math.cos(o),e.y=r*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),f(),e={tick:h,restart:function(){return l.restart(c),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),a.each(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(i=+t,e):i},alphaDecay:function(t){return arguments.length?(r=+t,e):+r},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(s=1-t,e):1-s},force:function(t,n){return arguments.length>1?(null==n?a.remove(t):a.set(t,p(n)),e):a.get(t)},find:function(e,n,i){var r,o,s,a,l,u=0,c=t.length;for(null==i?i=1/0:i*=i,u=0;u<c;++u)(s=(r=e-(a=t[u]).x)*r+(o=n-a.y)*o)<i&&(l=a,i=s);return l},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}},Da=function(){var t,e,n,i,r=ga(-30),o=1,s=1/0,a=.81;function l(i){var r,o=t.length,s=wa(t,Na,ka).visitAfter(c);for(n=i,r=0;r<o;++r)e=t[r],s.visit(h)}function u(){if(t){var e,n,o=t.length;for(i=new Array(o),e=0;e<o;++e)n=t[e],i[n.index]=+r(n,e,t)}}function c(t){var e,n,r,o,s,a=0,l=0;if(t.length){for(r=o=s=0;s<4;++s)(e=t[s])&&(n=Math.abs(e.value))&&(a+=e.value,l+=n,r+=n*e.x,o+=n*e.y);t.x=r/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{a+=i[e.data.index]}while(e=e.next)}t.value=a}function h(t,r,l,u){if(!t.value)return!0;var c=t.x-e.x,h=t.y-e.y,f=u-r,p=c*c+h*h;if(f*f/a<p)return p<s&&(0===c&&(p+=(c=ma())*c),0===h&&(p+=(h=ma())*h),p<o&&(p=Math.sqrt(o*p)),e.vx+=c*t.value*n/p,e.vy+=h*t.value*n/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===c&&(p+=(c=ma())*c),0===h&&(p+=(h=ma())*h),p<o&&(p=Math.sqrt(o*p)));do{t.data!==e&&(f=i[t.data.index]*n/p,e.vx+=c*f,e.vy+=h*f)}while(t=t.next)}}return l.initialize=function(e){t=e,u()},l.strength=function(t){return arguments.length?(r="function"==typeof t?t:ga(+t),u(),l):r},l.distanceMin=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.distanceMax=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l.theta=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l},Pa=function(t,e,n){var i,r,o,s=ga(.1);function a(t){for(var s=0,a=i.length;s<a;++s){var l=i[s],u=l.x-e||1e-6,c=l.y-n||1e-6,h=Math.sqrt(u*u+c*c),f=(o[s]-h)*r[s]*t/h;l.vx+=u*f,l.vy+=c*f}}function l(){if(i){var e,n=i.length;for(r=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(i[e],e,i),r[e]=isNaN(o[e])?0:+s(i[e],e,i)}}return"function"!=typeof t&&(t=ga(+t)),null==e&&(e=0),null==n&&(n=0),a.initialize=function(t){i=t,l()},a.strength=function(t){return arguments.length?(s="function"==typeof t?t:ga(+t),l(),a):s},a.radius=function(e){return arguments.length?(t="function"==typeof e?e:ga(+e),l(),a):t},a.x=function(t){return arguments.length?(e=+t,a):e},a.y=function(t){return arguments.length?(n=+t,a):n},a},Ua=function(t){var e,n,i,r=ga(.1);function o(t){for(var r,o=0,s=e.length;o<s;++o)(r=e[o]).vx+=(i[o]-r.x)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=ga(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:ga(+t),s(),o):r},o.x=function(e){return arguments.length?(t="function"==typeof e?e:ga(+e),s(),o):t},o},Qa=function(t){var e,n,i,r=ga(.1);function o(t){for(var r,o=0,s=e.length;o<s;++o)(r=e[o]).vy+=(i[o]-r.y)*n[o]*t}function s(){if(e){var o,s=e.length;for(n=new Array(s),i=new Array(s),o=0;o<s;++o)n[o]=isNaN(i[o]=+t(e[o],o,e))?0:+r(e[o],o,e)}}return"function"!=typeof t&&(t=ga(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(r="function"==typeof t?t:ga(+t),s(),o):r},o.y=function(e){return arguments.length?(t="function"==typeof e?e:ga(+e),s(),o):t},o},Ha=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,i=t.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+t.slice(n+1)]},ja=function(t){return(t=Ha(Math.abs(t)))?t[1]:NaN},za=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ka(t){return new Ga(t)}function Ga(t){if(!(e=za.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}Ka.prototype=Ga.prototype,Ga.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var qa,Wa,Ya,Xa,Va=function(t){t:for(var e,n=t.length,i=1,r=-1;i<n;++i)switch(t[i]){case".":r=e=i;break;case"0":0===r&&(r=i),e=i;break;default:if(r>0){if(!+t[i])break t;r=0}}return r>0?t.slice(0,r)+t.slice(e+1):t},Ja=function(t,e){var n=Ha(t,e);if(!n)return t+"";var i=n[0],r=n[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")},Za={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ja(100*t,e)},r:Ja,s:function(t,e){var n=Ha(t,e);if(!n)return t+"";var i=n[0],r=n[1],o=r-(qa=3*Math.max(-8,Math.min(8,Math.floor(r/3))))+1,s=i.length;return o===s?i:o>s?i+new Array(o-s+1).join("0"):o>0?i.slice(0,o)+"."+i.slice(o):"0."+new Array(1-o).join("0")+Ha(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},$a=function(t){return t},tl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],el=function(t){var e,n,i=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,i){for(var r=t.length,o=[],s=0,a=e[0],l=0;r>0&&a>0&&(l+a+1>i&&(a=Math.max(1,i-l)),o.push(t.substring(r-=a,r+a)),!((l+=a+1)>i));)a=e[s=(s+1)%e.length];return o.reverse().join(n)}):$a,r=t.currency,o=t.decimal,s=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(t.numerals):$a,a=t.percent||"%";function l(t){var e=(t=Ka(t)).fill,n=t.align,l=t.sign,u=t.symbol,c=t.zero,h=t.width,f=t.comma,p=t.precision,d=t.trim,A=t.type;"n"===A?(f=!0,A="g"):Za[A]||(null==p&&(p=12),d=!0,A="g"),(c||"0"===e&&"="===n)&&(c=!0,e="0",n="=");var g="$"===u?r[0]:"#"===u&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",m="$"===u?r[1]:/[%p]/.test(A)?a:"",v=Za[A],y=/[defgprs%]/.test(A);function _(t){var r,a,u,_=g,b=m;if("c"===A)b=v(t)+b,t="";else{var w=(t=+t)<0;if(t=v(Math.abs(t),p),d&&(t=Va(t)),w&&0==+t&&(w=!1),_=(w?"("===l?l:"-":"-"===l||"("===l?"":l)+_,b=("s"===A?tl[8+qa/3]:"")+b+(w&&"("===l?")":""),y)for(r=-1,a=t.length;++r<a;)if(48>(u=t.charCodeAt(r))||u>57){b=(46===u?o+t.slice(r+1):t.slice(r))+b,t=t.slice(0,r);break}}f&&!c&&(t=i(t,1/0));var E=_.length+t.length+b.length,x=E<h?new Array(h-E+1).join(e):"";switch(f&&c&&(t=i(x+t,x.length?h-b.length:1/0),x=""),n){case"<":t=_+t+b+x;break;case"=":t=_+x+t+b;break;case"^":t=x.slice(0,E=x.length>>1)+_+t+b+x.slice(E);break;default:t=x+_+t+b}return s(t)}return p=null==p?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,p)):Math.max(0,Math.min(20,p)),_.toString=function(){return t+""},_}return{format:l,formatPrefix:function(t,e){var n=l(((t=Ka(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(ja(e)/3))),r=Math.pow(10,-i),o=tl[8+i/3];return function(t){return n(r*t)+o}}}};function nl(t){return Wa=el(t),Ya=Wa.format,Xa=Wa.formatPrefix,Wa}nl({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var il=function(t){return Math.max(0,-ja(Math.abs(t)))},rl=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ja(e)/3)))-ja(Math.abs(t)))},ol=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ja(e)-ja(t))+1},sl=n(2);function al(t,e){return t.parent===e.parent?1:2}function ll(t,e){return t+e.x}function ul(t,e){return Math.max(t,e.y)}var cl=function(){var t=al,e=1,n=1,i=!1;function r(r){var o,s=0;r.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(ll,0)/t.length}(n),e.y=function(t){return 1+t.reduce(ul,0)}(n)):(e.x=o?s+=t(e,o):0,e.y=0,o=e)}));var a=function(t){for(var e;e=t.children;)t=e[0];return t}(r),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(r),u=a.x-t(a,l)/2,c=l.x+t(l,a)/2;return r.eachAfter(i?function(t){t.x=(t.x-r.x)*e,t.y=(r.y-t.y)*n}:function(t){t.x=(t.x-u)/(c-u)*e,t.y=(1-(r.y?t.y/r.y:1))*n})}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r};function hl(t){var e=0,n=t.children,i=n&&n.length;if(i)for(;--i>=0;)e+=n[i].value;else e=1;t.value=e}function fl(t,e){var n,i,r,o,s,a=new gl(t),l=+t.value&&(a.value=t.value),u=[a];for(null==e&&(e=pl);n=u.pop();)if(l&&(n.value=+n.data.value),(r=e(n.data))&&(s=r.length))for(n.children=new Array(s),o=s-1;o>=0;--o)u.push(i=n.children[o]=new gl(r[o])),i.parent=n,i.depth=n.depth+1;return a.eachBefore(Al)}function pl(t){return t.children}function dl(t){t.data=t.data.data}function Al(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function gl(t){this.data=t,this.depth=this.height=0,this.parent=null}gl.prototype=fl.prototype={constructor:gl,count:function(){return this.eachAfter(hl)},each:function(t){var e,n,i,r,o=this,s=[o];do{for(e=s.reverse(),s=[];o=e.pop();)if(t(o),n=o.children)for(i=0,r=n.length;i<r;++i)s.push(n[i])}while(s.length);return this},eachAfter:function(t){for(var e,n,i,r=this,o=[r],s=[];r=o.pop();)if(s.push(r),e=r.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);for(;r=s.pop();)t(r);return this},eachBefore:function(t){for(var e,n,i=this,r=[i];i=r.pop();)if(t(i),e=i.children)for(n=e.length-1;n>=0;--n)r.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,i=e.children,r=i&&i.length;--r>=0;)n+=i[r].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),i=e.ancestors(),r=null;t=n.pop(),e=i.pop();for(;t===e;)r=t,t=n.pop(),e=i.pop();return r}(e,t),i=[e];e!==n;)e=e.parent,i.push(e);for(var r=i.length;t!==n;)i.splice(r,0,t),t=t.parent;return i},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return fl(this).eachBefore(dl)}};var ml=Array.prototype.slice;var vl=function(t){for(var e,n,i=0,r=(t=function(t){for(var e,n,i=t.length;i;)n=Math.random()*i--|0,e=t[i],t[i]=t[n],t[n]=e;return t}(ml.call(t))).length,o=[];i<r;)e=t[i],n&&bl(n,e)?++i:(n=El(o=yl(o,e)),i=0);return n};function yl(t,e){var n,i;if(wl(e,t))return[e];for(n=0;n<t.length;++n)if(_l(e,t[n])&&wl(xl(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(i=n+1;i<t.length;++i)if(_l(xl(t[n],t[i]),e)&&_l(xl(t[n],e),t[i])&&_l(xl(t[i],e),t[n])&&wl(Cl(t[n],t[i],e),t))return[t[n],t[i],e];throw new Error}function _l(t,e){var n=t.r-e.r,i=e.x-t.x,r=e.y-t.y;return n<0||n*n<i*i+r*r}function bl(t,e){var n=t.r-e.r+1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function wl(t,e){for(var n=0;n<e.length;++n)if(!bl(t,e[n]))return!1;return!0}function El(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return xl(t[0],t[1]);case 3:return Cl(t[0],t[1],t[2])}var e}function xl(t,e){var n=t.x,i=t.y,r=t.r,o=e.x,s=e.y,a=e.r,l=o-n,u=s-i,c=a-r,h=Math.sqrt(l*l+u*u);return{x:(n+o+l/h*c)/2,y:(i+s+u/h*c)/2,r:(h+r+a)/2}}function Cl(t,e,n){var i=t.x,r=t.y,o=t.r,s=e.x,a=e.y,l=e.r,u=n.x,c=n.y,h=n.r,f=i-s,p=i-u,d=r-a,A=r-c,g=l-o,m=h-o,v=i*i+r*r-o*o,y=v-s*s-a*a+l*l,_=v-u*u-c*c+h*h,b=p*d-f*A,w=(d*_-A*y)/(2*b)-i,E=(A*g-d*m)/b,x=(p*y-f*_)/(2*b)-r,C=(f*m-p*g)/b,B=E*E+C*C-1,I=2*(o+w*E+x*C),S=w*w+x*x-o*o,O=-(B?(I+Math.sqrt(I*I-4*B*S))/(2*B):S/I);return{x:i+w+E*O,y:r+x+C*O,r:O}}function Bl(t,e,n){var i,r,o,s,a=t.x-e.x,l=t.y-e.y,u=a*a+l*l;u?(r=e.r+n.r,r*=r,s=t.r+n.r,r>(s*=s)?(i=(u+s-r)/(2*u),o=Math.sqrt(Math.max(0,s/u-i*i)),n.x=t.x-i*a-o*l,n.y=t.y-i*l+o*a):(i=(u+r-s)/(2*u),o=Math.sqrt(Math.max(0,r/u-i*i)),n.x=e.x+i*a-o*l,n.y=e.y+i*l+o*a)):(n.x=e.x+n.r,n.y=e.y)}function Il(t,e){var n=t.r+e.r-1e-6,i=e.x-t.x,r=e.y-t.y;return n>0&&n*n>i*i+r*r}function Sl(t){var e=t._,n=t.next._,i=e.r+n.r,r=(e.x*n.r+n.x*e.r)/i,o=(e.y*n.r+n.y*e.r)/i;return r*r+o*o}function Ol(t){this._=t,this.next=null,this.previous=null}function Ml(t){if(!(r=t.length))return 0;var e,n,i,r,o,s,a,l,u,c,h;if((e=t[0]).x=0,e.y=0,!(r>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(r>2))return e.r+n.r;Bl(n,e,i=t[2]),e=new Ol(e),n=new Ol(n),i=new Ol(i),e.next=i.previous=n,n.next=e.previous=i,i.next=n.previous=e;t:for(a=3;a<r;++a){Bl(e._,n._,i=t[a]),i=new Ol(i),l=n.next,u=e.previous,c=n._.r,h=e._.r;do{if(c<=h){if(Il(l._,i._)){n=l,e.next=n,n.previous=e,--a;continue t}c+=l._.r,l=l.next}else{if(Il(u._,i._)){(e=u).next=n,n.previous=e,--a;continue t}h+=u._.r,u=u.previous}}while(l!==u.next);for(i.previous=e,i.next=n,e.next=n.previous=n=i,o=Sl(e);(i=i.next)!==n;)(s=Sl(i))<o&&(e=i,o=s);n=e.next}for(e=[n._],i=n;(i=i.next)!==n;)e.push(i._);for(i=vl(e),a=0;a<r;++a)(e=t[a]).x-=i.x,e.y-=i.y;return i.r}var Tl=function(t){return Ml(t),t};function Nl(t){return null==t?null:kl(t)}function kl(t){if("function"!=typeof t)throw new Error;return t}function Ll(){return 0}var Fl=function(t){return function(){return t}};function Rl(t){return Math.sqrt(t.value)}var Dl=function(){var t=null,e=1,n=1,i=Ll;function r(r){return r.x=e/2,r.y=n/2,t?r.eachBefore(Pl(t)).eachAfter(Ul(i,.5)).eachBefore(Ql(1)):r.eachBefore(Pl(Rl)).eachAfter(Ul(Ll,1)).eachAfter(Ul(i,r.r/Math.min(e,n))).eachBefore(Ql(Math.min(e,n)/(2*r.r))),r}return r.radius=function(e){return arguments.length?(t=Nl(e),r):t},r.size=function(t){return arguments.length?(e=+t[0],n=+t[1],r):[e,n]},r.padding=function(t){return arguments.length?(i="function"==typeof t?t:Fl(+t),r):i},r};function Pl(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function Ul(t,e){return function(n){if(i=n.children){var i,r,o,s=i.length,a=t(n)*e||0;if(a)for(r=0;r<s;++r)i[r].r+=a;if(o=Ml(i),a)for(r=0;r<s;++r)i[r].r-=a;n.r=o+a}}}function Ql(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var Hl=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},jl=function(t,e,n,i,r){for(var o,s=t.children,a=-1,l=s.length,u=t.value&&(i-e)/t.value;++a<l;)(o=s[a]).y0=n,o.y1=r,o.x0=e,o.x1=e+=o.value*u},zl=function(){var t=1,e=1,n=0,i=!1;function r(r){var o=r.height+1;return r.x0=r.y0=n,r.x1=t,r.y1=e/o,r.eachBefore(function(t,e){return function(i){i.children&&jl(i,i.x0,t*(i.depth+1)/e,i.x1,t*(i.depth+2)/e);var r=i.x0,o=i.y0,s=i.x1-n,a=i.y1-n;s<r&&(r=s=(r+s)/2),a<o&&(o=a=(o+a)/2),i.x0=r,i.y0=o,i.x1=s,i.y1=a}}(e,o)),i&&r.eachBefore(Hl),r}return r.round=function(t){return arguments.length?(i=!!t,r):i},r.size=function(n){return arguments.length?(t=+n[0],e=+n[1],r):[t,e]},r.padding=function(t){return arguments.length?(n=+t,r):n},r},Kl="$",Gl={depth:-1},ql={};function Wl(t){return t.id}function Yl(t){return t.parentId}var Xl=function(){var t=Wl,e=Yl;function n(n){var i,r,o,s,a,l,u,c=n.length,h=new Array(c),f={};for(r=0;r<c;++r)i=n[r],a=h[r]=new gl(i),null!=(l=t(i,r,n))&&(l+="")&&(f[u=Kl+(a.id=l)]=u in f?ql:a);for(r=0;r<c;++r)if(a=h[r],null!=(l=e(n[r],r,n))&&(l+="")){if(!(s=f[Kl+l]))throw new Error("missing: "+l);if(s===ql)throw new Error("ambiguous: "+l);s.children?s.children.push(a):s.children=[a],a.parent=s}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=Gl,o.eachBefore((function(t){t.depth=t.parent.depth+1,--c})).eachBefore(Al),o.parent=null,c>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=kl(e),n):t},n.parentId=function(t){return arguments.length?(e=kl(t),n):e},n};function Vl(t,e){return t.parent===e.parent?1:2}function Jl(t){var e=t.children;return e?e[0]:t.t}function Zl(t){var e=t.children;return e?e[e.length-1]:t.t}function $l(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function tu(t,e,n){return t.a.parent===e.parent?t.a:n}function eu(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}eu.prototype=Object.create(gl.prototype);var nu=function(){var t=Vl,e=1,n=1,i=null;function r(r){var l=function(t){for(var e,n,i,r,o,s=new eu(t,0),a=[s];e=a.pop();)if(i=e._.children)for(e.children=new Array(o=i.length),r=o-1;r>=0;--r)a.push(n=e.children[r]=new eu(i[r],r)),n.parent=e;return(s.parent=new eu(null,0)).children=[s],s}(r);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(s),i)r.eachBefore(a);else{var u=r,c=r,h=r;r.eachBefore((function(t){t.x<u.x&&(u=t),t.x>c.x&&(c=t),t.depth>h.depth&&(h=t)}));var f=u===c?1:t(u,c)/2,p=f-u.x,d=e/(c.x+f+p),A=n/(h.depth||1);r.eachBefore((function(t){t.x=(t.x+p)*d,t.y=t.depth*A}))}return r}function o(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n){!function(t){for(var e,n=0,i=0,r=t.children,o=r.length;--o>=0;)(e=r[o]).z+=n,e.m+=n,n+=e.s+(i+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,o=e,s=e,a=n,l=o.parent.children[0],u=o.m,c=s.m,h=a.m,f=l.m;a=Zl(a),o=Jl(o),a&&o;)l=Jl(l),(s=Zl(s)).a=e,(r=a.z+h-o.z-u+t(a._,o._))>0&&($l(tu(a,e,i),e,r),u+=r,c+=r),h+=a.m,u+=o.m,f+=l.m,c+=s.m;a&&!Zl(s)&&(s.t=a,s.m+=h-c),o&&!Jl(l)&&(l.t=o,l.m+=u-f,i=e)}return i}(e,r,e.parent.A||i[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=e,t.y=t.depth*n}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(t){return arguments.length?(i=!1,e=+t[0],n=+t[1],r):i?null:[e,n]},r.nodeSize=function(t){return arguments.length?(i=!0,e=+t[0],n=+t[1],r):i?[e,n]:null},r},iu=function(t,e,n,i,r){for(var o,s=t.children,a=-1,l=s.length,u=t.value&&(r-n)/t.value;++a<l;)(o=s[a]).x0=e,o.x1=i,o.y0=n,o.y1=n+=o.value*u},ru=(1+Math.sqrt(5))/2;function ou(t,e,n,i,r,o){for(var s,a,l,u,c,h,f,p,d,A,g,m=[],v=e.children,y=0,_=0,b=v.length,w=e.value;y<b;){l=r-n,u=o-i;do{c=v[_++].value}while(!c&&_<b);for(h=f=c,g=c*c*(A=Math.max(u/l,l/u)/(w*t)),d=Math.max(f/g,g/h);_<b;++_){if(c+=a=v[_].value,a<h&&(h=a),a>f&&(f=a),g=c*c*A,(p=Math.max(f/g,g/h))>d){c-=a;break}d=p}m.push(s={value:c,dice:l<u,children:v.slice(y,_)}),s.dice?jl(s,n,i,r,w?i+=u*c/w:o):iu(s,n,i,w?n+=l*c/w:r,o),w-=c,y=_}return m}var su=function t(e){function n(t,n,i,r,o){ou(e,t,n,i,r,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(ru),au=function(){var t=su,e=!1,n=1,i=1,r=[0],o=Ll,s=Ll,a=Ll,l=Ll,u=Ll;function c(t){return t.x0=t.y0=0,t.x1=n,t.y1=i,t.eachBefore(h),r=[0],e&&t.eachBefore(Hl),t}function h(e){var n=r[e.depth],i=e.x0+n,c=e.y0+n,h=e.x1-n,f=e.y1-n;h<i&&(i=h=(i+h)/2),f<c&&(c=f=(c+f)/2),e.x0=i,e.y0=c,e.x1=h,e.y1=f,e.children&&(n=r[e.depth+1]=o(e)/2,i+=u(e)-n,c+=s(e)-n,(h-=a(e)-n)<i&&(i=h=(i+h)/2),(f-=l(e)-n)<c&&(c=f=(c+f)/2),t(e,i,c,h,f))}return c.round=function(t){return arguments.length?(e=!!t,c):e},c.size=function(t){return arguments.length?(n=+t[0],i=+t[1],c):[n,i]},c.tile=function(e){return arguments.length?(t=kl(e),c):t},c.padding=function(t){return arguments.length?c.paddingInner(t).paddingOuter(t):c.paddingInner()},c.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:Fl(+t),c):o},c.paddingOuter=function(t){return arguments.length?c.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):c.paddingTop()},c.paddingTop=function(t){return arguments.length?(s="function"==typeof t?t:Fl(+t),c):s},c.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:Fl(+t),c):a},c.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:Fl(+t),c):l},c.paddingLeft=function(t){return arguments.length?(u="function"==typeof t?t:Fl(+t),c):u},c},lu=function(t,e,n,i,r){var o,s,a=t.children,l=a.length,u=new Array(l+1);for(u[0]=s=o=0;o<l;++o)u[o+1]=s+=a[o].value;!function t(e,n,i,r,o,s,l){if(e>=n-1){var c=a[e];return c.x0=r,c.y0=o,c.x1=s,void(c.y1=l)}var h=u[e],f=i/2+h,p=e+1,d=n-1;for(;p<d;){var A=p+d>>>1;u[A]<f?p=A+1:d=A}f-u[p-1]<u[p]-f&&e+1<p&&--p;var g=u[p]-h,m=i-g;if(s-r>l-o){var v=(r*m+s*g)/i;t(e,p,g,r,o,v,l),t(p,n,m,v,o,s,l)}else{var y=(o*m+l*g)/i;t(e,p,g,r,o,s,y),t(p,n,m,r,y,s,l)}}(0,l,t.value,e,n,i,r)},uu=function(t,e,n,i,r){(1&t.depth?iu:jl)(t,e,n,i,r)},cu=function t(e){function n(t,n,i,r,o){if((s=t._squarify)&&s.ratio===e)for(var s,a,l,u,c,h=-1,f=s.length,p=t.value;++h<f;){for(l=(a=s[h]).children,u=a.value=0,c=l.length;u<c;++u)a.value+=l[u].value;a.dice?jl(a,n,i,r,i+=(o-i)*a.value/p):iu(a,n,i,n+=(r-n)*a.value/p,o),p-=a.value}else t._squarify=s=ou(e,t,n,i,r,o),s.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(ru),hu=function(t){for(var e,n=-1,i=t.length,r=t[i-1],o=0;++n<i;)e=r,r=t[n],o+=e[1]*r[0]-e[0]*r[1];return o/2},fu=function(t){for(var e,n,i=-1,r=t.length,o=0,s=0,a=t[r-1],l=0;++i<r;)e=a,a=t[i],l+=n=e[0]*a[1]-a[0]*e[1],o+=(e[0]+a[0])*n,s+=(e[1]+a[1])*n;return[o/(l*=3),s/l]},pu=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])};function du(t,e){return t[0]-e[0]||t[1]-e[1]}function Au(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;++r){for(;i>1&&pu(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}var gu=function(t){if((n=t.length)<3)return null;var e,n,i=new Array(n),r=new Array(n);for(e=0;e<n;++e)i[e]=[+t[e][0],+t[e][1],e];for(i.sort(du),e=0;e<n;++e)r[e]=[i[e][0],-i[e][1]];var o=Au(i),s=Au(r),a=s[0]===o[0],l=s[s.length-1]===o[o.length-1],u=[];for(e=o.length-1;e>=0;--e)u.push(t[i[o[e]][2]]);for(e=+a;e<s.length-l;++e)u.push(t[i[s[e]][2]]);return u},mu=function(t,e){for(var n,i,r=t.length,o=t[r-1],s=e[0],a=e[1],l=o[0],u=o[1],c=!1,h=0;h<r;++h)n=(o=t[h])[0],(i=o[1])>a!=u>a&&s<(l-n)*(a-i)/(u-i)+n&&(c=!c),l=n,u=i;return c},vu=function(t){for(var e,n,i=-1,r=t.length,o=t[r-1],s=o[0],a=o[1],l=0;++i<r;)e=s,n=a,e-=s=(o=t[i])[0],n-=a=o[1],l+=Math.sqrt(e*e+n*n);return l},yu=function(){return Math.random()},_u=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(yu),bu=function t(e){function n(t,n){var i,r;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=i)o=i,i=null;else do{i=2*e()-1,o=2*e()-1,r=i*i+o*o}while(!r||r>1);return t+n*o*Math.sqrt(-2*Math.log(r)/r)}}return n.source=t,n}(yu),wu=function t(e){function n(){var t=bu.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(yu),Eu=function t(e){function n(t){return function(){for(var n=0,i=0;i<t;++i)n+=e();return n}}return n.source=t,n}(yu),xu=function t(e){function n(t){var n=Eu.source(e)(t);return function(){return n()/t}}return n.source=t,n}(yu),Cu=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(yu);function Bu(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function Iu(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var Su=Array.prototype,Ou=Su.map,Mu=Su.slice,Tu={name:"implicit"};function Nu(){var t=ts(),e=[],n=[],i=Tu;function r(r){var o=r+"",s=t.get(o);if(!s){if(i!==Tu)return i;t.set(o,s=e.push(r))}return n[(s-1)%n.length]}return r.domain=function(n){if(!arguments.length)return e.slice();e=[],t=ts();for(var i,o,s=-1,a=n.length;++s<a;)t.has(o=(i=n[s])+"")||t.set(o,e.push(i));return r},r.range=function(t){return arguments.length?(n=Mu.call(t),r):n.slice()},r.unknown=function(t){return arguments.length?(i=t,r):i},r.copy=function(){return Nu(e,n).unknown(i)},Bu.apply(r,arguments),r}function ku(){var t,e,n=Nu().unknown(void 0),r=n.domain,o=n.range,s=[0,1],a=!1,l=0,u=0,c=.5;function h(){var n=r().length,h=s[1]<s[0],f=s[h-0],p=s[1-h];t=(p-f)/Math.max(1,n-l+2*u),a&&(t=Math.floor(t)),f+=(p-f-t*(n-l))*c,e=t*(1-l),a&&(f=Math.round(f),e=Math.round(e));var d=Object(i.s)(n).map((function(e){return f+t*e}));return o(h?d.reverse():d)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),h()):r()},n.range=function(t){return arguments.length?(s=[+t[0],+t[1]],h()):s.slice()},n.rangeRound=function(t){return s=[+t[0],+t[1]],a=!0,h()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,h()):a},n.padding=function(t){return arguments.length?(l=Math.min(1,u=+t),h()):l},n.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),h()):l},n.paddingOuter=function(t){return arguments.length?(u=+t,h()):u},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),h()):c},n.copy=function(){return ku(r(),s).round(a).paddingInner(l).paddingOuter(u).align(c)},Bu.apply(h(),arguments)}function Lu(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(ku.apply(null,arguments).paddingInner(1))}var Fu=function(t){return function(){return t}},Ru=function(t){return+t},Du=[0,1];function Pu(t){return t}function Uu(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Fu(isNaN(e)?NaN:.5)}function Qu(t){var e,n=t[0],i=t[t.length-1];return n>i&&(e=n,n=i,i=e),function(t){return Math.max(n,Math.min(i,t))}}function Hu(t,e,n){var i=t[0],r=t[1],o=e[0],s=e[1];return r<i?(i=Uu(r,i),o=n(s,o)):(i=Uu(i,r),o=n(o,s)),function(t){return o(i(t))}}function ju(t,e,n){var r=Math.min(t.length,e.length)-1,o=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)o[a]=Uu(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(e){var n=Object(i.b)(t,e,1,r)-1;return s[n](o[n](e))}}function zu(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ku(){var t,e,n,i,r,o,s=Du,a=Du,l=Ln,u=Pu;function c(){return i=Math.min(s.length,a.length)>2?ju:Hu,r=o=null,h}function h(e){return isNaN(e=+e)?n:(r||(r=i(s.map(t),a,l)))(t(u(e)))}return h.invert=function(n){return u(e((o||(o=i(a,s.map(t),Cn)))(n)))},h.domain=function(t){return arguments.length?(s=Ou.call(t,Ru),u===Pu||(u=Qu(s)),c()):s.slice()},h.range=function(t){return arguments.length?(a=Mu.call(t),c()):a.slice()},h.rangeRound=function(t){return a=Mu.call(t),l=Dn,c()},h.clamp=function(t){return arguments.length?(u=t?Qu(s):Pu,h):u!==Pu},h.interpolate=function(t){return arguments.length?(l=t,c()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,i){return t=n,e=i,c()}}function Gu(t,e){return Ku()(t,e)}var qu=function(t,e,n,r){var o,s=Object(i.A)(t,e,n);switch((r=Ka(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(o=rl(s,a))||(r.precision=o),Xa(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(o=ol(s,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=o-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(o=il(s))||(r.precision=o-2*("%"===r.type))}return Ya(r)};function Wu(t){var e=t.domain;return t.ticks=function(t){var n=e();return Object(i.B)(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var i=e();return qu(i[0],i[i.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,o=e(),s=0,a=o.length-1,l=o[s],u=o[a];return u<l&&(r=l,l=u,u=r,r=s,s=a,a=r),(r=Object(i.z)(l,u,n))>0?(l=Math.floor(l/r)*r,u=Math.ceil(u/r)*r,r=Object(i.z)(l,u,n)):r<0&&(l=Math.ceil(l*r)/r,u=Math.floor(u*r)/r,r=Object(i.z)(l,u,n)),r>0?(o[s]=Math.floor(l/r)*r,o[a]=Math.ceil(u/r)*r,e(o)):r<0&&(o[s]=Math.ceil(l*r)/r,o[a]=Math.floor(u*r)/r,e(o)),t},t}function Yu(){var t=Gu(Pu,Pu);return t.copy=function(){return zu(t,Yu())},Bu.apply(t,arguments),Wu(t)}function Xu(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=Ou.call(e,Ru),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Xu(t).unknown(e)},t=arguments.length?Ou.call(t,Ru):[0,1],Wu(n)}var Vu=function(t,e){var n,i=0,r=(t=t.slice()).length-1,o=t[i],s=t[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),t[i]=e.floor(o),t[r]=e.ceil(s),t};function Ju(t){return Math.log(t)}function Zu(t){return Math.exp(t)}function $u(t){return-Math.log(-t)}function tc(t){return-Math.exp(-t)}function ec(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nc(t){return function(e){return-t(-e)}}function ic(t){var e,n,r=t(Ju,Zu),o=r.domain,s=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(s),n=function(t){return 10===t?ec:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(s),o()[0]<0?(e=nc(e),n=nc(n),t($u,tc)):t(Ju,Zu),r}return r.base=function(t){return arguments.length?(s=+t,a()):s},r.domain=function(t){return arguments.length?(o(t),a()):o()},r.ticks=function(t){var r,a=o(),l=a[0],u=a[a.length-1];(r=u<l)&&(p=l,l=u,u=p);var c,h,f,p=e(l),d=e(u),A=null==t?10:+t,g=[];if(!(s%1)&&d-p<A){if(p=Math.round(p)-1,d=Math.round(d)+1,l>0){for(;p<d;++p)for(h=1,c=n(p);h<s;++h)if(!((f=c*h)<l)){if(f>u)break;g.push(f)}}else for(;p<d;++p)for(h=s-1,c=n(p);h>=1;--h)if(!((f=c*h)<l)){if(f>u)break;g.push(f)}}else g=Object(i.B)(p,d,Math.min(d-p,A)).map(n);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===s?".0e":","),"function"!=typeof i&&(i=Ya(i)),t===1/0)return i;null==t&&(t=10);var o=Math.max(1,s*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*s<s-.5&&(r*=s),r<=o?i(t):""}},r.nice=function(){return o(Vu(o(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function rc(){var t=ic(Ku()).domain([1,10]);return t.copy=function(){return zu(t,rc()).base(t.base())},Bu.apply(t,arguments),t}function oc(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function sc(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function ac(t){var e=1,n=t(oc(e),sc(e));return n.constant=function(n){return arguments.length?t(oc(e=+n),sc(e)):e},Wu(n)}function lc(){var t=ac(Ku());return t.copy=function(){return zu(t,lc()).constant(t.constant())},Bu.apply(t,arguments)}function uc(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function cc(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function hc(t){return t<0?-t*t:t*t}function fc(t){var e=t(Pu,Pu),n=1;function i(){return 1===n?t(Pu,Pu):.5===n?t(cc,hc):t(uc(n),uc(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,i()):n},Wu(e)}function pc(){var t=fc(Ku());return t.copy=function(){return zu(t,pc()).exponent(t.exponent())},Bu.apply(t,arguments),t}function dc(){return pc.apply(null,arguments).exponent(.5)}function Ac(){var t,e=[],n=[],r=[];function o(){var t=0,o=Math.max(1,n.length);for(r=new Array(o-1);++t<o;)r[t-1]=Object(i.r)(e,t/o);return s}function s(e){return isNaN(e=+e)?t:n[Object(i.b)(r,e)]}return s.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},s.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,s=t.length;r<s;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(i.a),o()},s.range=function(t){return arguments.length?(n=Mu.call(t),o()):n.slice()},s.unknown=function(e){return arguments.length?(t=e,s):t},s.quantiles=function(){return r.slice()},s.copy=function(){return Ac().domain(e).range(n).unknown(t)},Bu.apply(s,arguments)}function gc(){var t,e=0,n=1,r=1,o=[.5],s=[0,1];function a(e){return e<=e?s[Object(i.b)(o,e,0,r)]:t}function l(){var t=-1;for(o=new Array(r);++t<r;)o[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],l()):[e,n]},a.range=function(t){return arguments.length?(r=(s=Mu.call(t)).length-1,l()):s.slice()},a.invertExtent=function(t){var i=s.indexOf(t);return i<0?[NaN,NaN]:i<1?[e,o[0]]:i>=r?[o[r-1],n]:[o[i-1],o[i]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return o.slice()},a.copy=function(){return gc().domain([e,n]).range(s).unknown(t)},Bu.apply(Wu(a),arguments)}function mc(){var t,e=[.5],n=[0,1],r=1;function o(o){return o<=o?n[Object(i.b)(e,o,0,r)]:t}return o.domain=function(t){return arguments.length?(e=Mu.call(t),r=Math.min(e.length,n.length-1),o):e.slice()},o.range=function(t){return arguments.length?(n=Mu.call(t),r=Math.min(e.length,n.length-1),o):n.slice()},o.invertExtent=function(t){var i=n.indexOf(t);return[e[i-1],e[i]]},o.unknown=function(e){return arguments.length?(t=e,o):t},o.copy=function(){return mc().domain(e).range(n).unknown(t)},Bu.apply(o,arguments)}var vc=new Date,yc=new Date;function _c(t,e,n,i){function r(e){return t(e=new Date(+e)),e}return r.floor=r,r.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},r.round=function(t){var e=r(t),n=r.ceil(t);return t-e<n-t?e:n},r.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},r.range=function(n,i,o){var s,a=[];if(n=r.ceil(n),o=null==o?1:Math.floor(o),!(n<i&&o>0))return a;do{a.push(s=new Date(+n)),e(n,o),t(n)}while(s<n&&n<i);return a},r.filter=function(n){return _c((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,i){if(t>=t)if(i<0)for(;++i<=0;)for(;e(t,-1),!n(t););else for(;--i>=0;)for(;e(t,1),!n(t););}))},n&&(r.count=function(e,i){return vc.setTime(+e),yc.setTime(+i),t(vc),t(yc),Math.floor(n(vc,yc))},r.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?r.filter(i?function(e){return i(e)%t==0}:function(e){return r.count(0,e)%t==0}):r:null}),r}var bc=_c((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));bc.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?_c((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):bc:null};var wc=bc,Ec=bc.range,xc=6e4,Cc=6048e5,Bc=_c((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),Ic=Bc,Sc=Bc.range,Oc=_c((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+e*xc)}),(function(t,e){return(e-t)/xc}),(function(t){return t.getMinutes()})),Mc=Oc,Tc=Oc.range,Nc=_c((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*xc)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),kc=Nc,Lc=Nc.range,Fc=_c((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xc)/864e5}),(function(t){return t.getDate()-1})),Rc=Fc,Dc=Fc.range;function Pc(t){return _c((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*xc)/Cc}))}var Uc=Pc(0),Qc=Pc(1),Hc=Pc(2),jc=Pc(3),zc=Pc(4),Kc=Pc(5),Gc=Pc(6),qc=Uc.range,Wc=Qc.range,Yc=Hc.range,Xc=jc.range,Vc=zc.range,Jc=Kc.range,Zc=Gc.range,$c=_c((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),th=$c,eh=$c.range,nh=_c((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));nh.every=function(t){return isFinite(t=Math.floor(t))&&t>0?_c((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var ih=nh,rh=nh.range,oh=_c((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*xc)}),(function(t,e){return(e-t)/xc}),(function(t){return t.getUTCMinutes()})),sh=oh,ah=oh.range,lh=_c((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),uh=lh,ch=lh.range,hh=_c((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1})),fh=hh,ph=hh.range;function dh(t){return _c((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Cc}))}var Ah=dh(0),gh=dh(1),mh=dh(2),vh=dh(3),yh=dh(4),_h=dh(5),bh=dh(6),wh=Ah.range,Eh=gh.range,xh=mh.range,Ch=vh.range,Bh=yh.range,Ih=_h.range,Sh=bh.range,Oh=_c((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),Mh=Oh,Th=Oh.range,Nh=_c((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Nh.every=function(t){return isFinite(t=Math.floor(t))&&t>0?_c((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var kh=Nh,Lh=Nh.range;function Fh(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Rh(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Dh(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Ph(t){var e=t.dateTime,n=t.date,i=t.time,r=t.periods,o=t.days,s=t.shortDays,a=t.months,l=t.shortMonths,u=Vh(r),c=Jh(r),h=Vh(o),f=Jh(o),p=Vh(s),d=Jh(s),A=Vh(a),g=Jh(a),m=Vh(l),v=Jh(l),y={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:vf,e:vf,f:Ef,H:yf,I:_f,j:bf,L:wf,m:xf,M:Cf,p:function(t){return r[+(t.getHours()>=12)]},Q:$f,s:tp,S:Bf,u:If,U:Sf,V:Of,w:Mf,W:Tf,x:null,X:null,y:Nf,Y:kf,Z:Lf,"%":Zf},_={a:function(t){return s[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Ff,e:Ff,f:Qf,H:Rf,I:Df,j:Pf,L:Uf,m:Hf,M:jf,p:function(t){return r[+(t.getUTCHours()>=12)]},Q:$f,s:tp,S:zf,u:Kf,U:Gf,V:qf,w:Wf,W:Yf,x:null,X:null,y:Xf,Y:Vf,Z:Jf,"%":Zf},b={a:function(t,e,n){var i=p.exec(e.slice(n));return i?(t.w=d[i[0].toLowerCase()],n+i[0].length):-1},A:function(t,e,n){var i=h.exec(e.slice(n));return i?(t.w=f[i[0].toLowerCase()],n+i[0].length):-1},b:function(t,e,n){var i=m.exec(e.slice(n));return i?(t.m=v[i[0].toLowerCase()],n+i[0].length):-1},B:function(t,e,n){var i=A.exec(e.slice(n));return i?(t.m=g[i[0].toLowerCase()],n+i[0].length):-1},c:function(t,n,i){return x(t,e,n,i)},d:lf,e:lf,f:df,H:cf,I:cf,j:uf,L:pf,m:af,M:hf,p:function(t,e,n){var i=u.exec(e.slice(n));return i?(t.p=c[i[0].toLowerCase()],n+i[0].length):-1},Q:gf,s:mf,S:ff,u:$h,U:tf,V:ef,w:Zh,W:nf,x:function(t,e,i){return x(t,n,e,i)},X:function(t,e,n){return x(t,i,e,n)},y:of,Y:rf,Z:sf,"%":Af};function w(t,e){return function(n){var i,r,o,s=[],a=-1,l=0,u=t.length;for(n instanceof Date||(n=new Date(+n));++a<u;)37===t.charCodeAt(a)&&(s.push(t.slice(l,a)),null!=(r=Kh[i=t.charAt(++a)])?i=t.charAt(++a):r="e"===i?" ":"0",(o=e[i])&&(i=o(n,r)),s.push(i),l=a+1);return s.push(t.slice(l,a)),s.join("")}}function E(t,e){return function(n){var i,r,o=Dh(1900);if(x(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(r=(i=Rh(Dh(o.y))).getUTCDay(),i=r>4||0===r?gh.ceil(i):gh(i),i=fh.offset(i,7*(o.V-1)),o.y=i.getUTCFullYear(),o.m=i.getUTCMonth(),o.d=i.getUTCDate()+(o.w+6)%7):(r=(i=e(Dh(o.y))).getDay(),i=r>4||0===r?Qc.ceil(i):Qc(i),i=Rc.offset(i,7*(o.V-1)),o.y=i.getFullYear(),o.m=i.getMonth(),o.d=i.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),r="Z"in o?Rh(Dh(o.y)).getUTCDay():e(Dh(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(r+5)%7:o.w+7*o.U-(r+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Rh(o)):e(o)}}function x(t,e,n,i){for(var r,o,s=0,a=e.length,l=n.length;s<a;){if(i>=l)return-1;if(37===(r=e.charCodeAt(s++))){if(r=e.charAt(s++),!(o=b[r in Kh?e.charAt(s++):r])||(i=o(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}return(y.x=w(n,y),y.X=w(i,y),y.c=w(e,y),_.x=w(n,_),_.X=w(i,_),_.c=w(e,_),{format:function(t){var e=w(t+="",y);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",Fh);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",_);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t,Rh);return e.toString=function(){return t},e}})}var Uh,Qh,Hh,jh,zh,Kh={"-":"",_:" ",0:"0"},Gh=/^\s*\d+/,qh=/^%/,Wh=/[\\^$*+?|[\]().{}]/g;function Yh(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(e)+r:r)}function Xh(t){return t.replace(Wh,"\\$&")}function Vh(t){return new RegExp("^(?:"+t.map(Xh).join("|")+")","i")}function Jh(t){for(var e={},n=-1,i=t.length;++n<i;)e[t[n].toLowerCase()]=n;return e}function Zh(t,e,n){var i=Gh.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function $h(t,e,n){var i=Gh.exec(e.slice(n,n+1));return i?(t.u=+i[0],n+i[0].length):-1}function tf(t,e,n){var i=Gh.exec(e.slice(n,n+2));return i?(t.U=+i[0],n+i[0].length):-1}function ef(t,e,n){var i=Gh.exec(e.slice(n,n+2));return i?(t.V=+i[0],n+i[0].length):-1}function nf(t,e,n){var i=Gh.exec(e.slice(n,n+2));return i?(t.W=+i[0],n+i[0].length):-1}function rf(t,e,n){var i=Gh.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function of(t,e,n){var i=Gh.exec(e.slice(n,n+2));return i?(t.y=+i[0]+(+i[0]>68?1900:2e3),n+i[0].length):-1}function sf(t,e,n){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return i?(t.Z=i[1]?0:-(i[2]+(i[3]||"00")),n+i[0].length):-1}function af(t,e,n){var i=Gh.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function lf(t,e,n){var i=Gh.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function uf(t,e,n){var i=Gh.exec(e.slice(n,n+3));return i?(t.m=0,t.d=+i[0],n+i[0].length):-1}function cf(t,e,n){var i=Gh.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function hf(t,e,n){var i=Gh.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ff(t,e,n){var i=Gh.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function pf(t,e,n){var i=Gh.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function df(t,e,n){var i=Gh.exec(e.slice(n,n+6));return i?(t.L=Math.floor(i[0]/1e3),n+i[0].length):-1}function Af(t,e,n){var i=qh.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function gf(t,e,n){var i=Gh.exec(e.slice(n));return i?(t.Q=+i[0],n+i[0].length):-1}function mf(t,e,n){var i=Gh.exec(e.slice(n));return i?(t.Q=1e3*+i[0],n+i[0].length):-1}function vf(t,e){return Yh(t.getDate(),e,2)}function yf(t,e){return Yh(t.getHours(),e,2)}function _f(t,e){return Yh(t.getHours()%12||12,e,2)}function bf(t,e){return Yh(1+Rc.count(ih(t),t),e,3)}function wf(t,e){return Yh(t.getMilliseconds(),e,3)}function Ef(t,e){return wf(t,e)+"000"}function xf(t,e){return Yh(t.getMonth()+1,e,2)}function Cf(t,e){return Yh(t.getMinutes(),e,2)}function Bf(t,e){return Yh(t.getSeconds(),e,2)}function If(t){var e=t.getDay();return 0===e?7:e}function Sf(t,e){return Yh(Uc.count(ih(t),t),e,2)}function Of(t,e){var n=t.getDay();return t=n>=4||0===n?zc(t):zc.ceil(t),Yh(zc.count(ih(t),t)+(4===ih(t).getDay()),e,2)}function Mf(t){return t.getDay()}function Tf(t,e){return Yh(Qc.count(ih(t),t),e,2)}function Nf(t,e){return Yh(t.getFullYear()%100,e,2)}function kf(t,e){return Yh(t.getFullYear()%1e4,e,4)}function Lf(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Yh(e/60|0,"0",2)+Yh(e%60,"0",2)}function Ff(t,e){return Yh(t.getUTCDate(),e,2)}function Rf(t,e){return Yh(t.getUTCHours(),e,2)}function Df(t,e){return Yh(t.getUTCHours()%12||12,e,2)}function Pf(t,e){return Yh(1+fh.count(kh(t),t),e,3)}function Uf(t,e){return Yh(t.getUTCMilliseconds(),e,3)}function Qf(t,e){return Uf(t,e)+"000"}function Hf(t,e){return Yh(t.getUTCMonth()+1,e,2)}function jf(t,e){return Yh(t.getUTCMinutes(),e,2)}function zf(t,e){return Yh(t.getUTCSeconds(),e,2)}function Kf(t){var e=t.getUTCDay();return 0===e?7:e}function Gf(t,e){return Yh(Ah.count(kh(t),t),e,2)}function qf(t,e){var n=t.getUTCDay();return t=n>=4||0===n?yh(t):yh.ceil(t),Yh(yh.count(kh(t),t)+(4===kh(t).getUTCDay()),e,2)}function Wf(t){return t.getUTCDay()}function Yf(t,e){return Yh(gh.count(kh(t),t),e,2)}function Xf(t,e){return Yh(t.getUTCFullYear()%100,e,2)}function Vf(t,e){return Yh(t.getUTCFullYear()%1e4,e,4)}function Jf(){return"+0000"}function Zf(){return"%"}function $f(t){return+t}function tp(t){return Math.floor(+t/1e3)}function ep(t){return Uh=Ph(t),Qh=Uh.format,Hh=Uh.parse,jh=Uh.utcFormat,zh=Uh.utcParse,Uh}ep({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var np=Date.prototype.toISOString?function(t){return t.toISOString()}:jh("%Y-%m-%dT%H:%M:%S.%LZ");var ip=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:zh("%Y-%m-%dT%H:%M:%S.%LZ"),rp=1e3,op=60*rp,sp=60*op,ap=24*sp,lp=7*ap,up=30*ap,cp=365*ap;function hp(t){return new Date(t)}function fp(t){return t instanceof Date?+t:+new Date(+t)}function pp(t,e,n,r,o,s,a,l,u){var c=Gu(Pu,Pu),h=c.invert,f=c.domain,p=u(".%L"),d=u(":%S"),A=u("%I:%M"),g=u("%I %p"),m=u("%a %d"),v=u("%b %d"),y=u("%B"),_=u("%Y"),b=[[a,1,rp],[a,5,5*rp],[a,15,15*rp],[a,30,30*rp],[s,1,op],[s,5,5*op],[s,15,15*op],[s,30,30*op],[o,1,sp],[o,3,3*sp],[o,6,6*sp],[o,12,12*sp],[r,1,ap],[r,2,2*ap],[n,1,lp],[e,1,up],[e,3,3*up],[t,1,cp]];function w(i){return(a(i)<i?p:s(i)<i?d:o(i)<i?A:r(i)<i?g:e(i)<i?n(i)<i?m:v:t(i)<i?y:_)(i)}function E(e,n,r,o){if(null==e&&(e=10),"number"==typeof e){var s=Math.abs(r-n)/e,a=Object(i.e)((function(t){return t[2]})).right(b,s);a===b.length?(o=Object(i.A)(n/cp,r/cp,e),e=t):a?(o=(a=b[s/b[a-1][2]<b[a][2]/s?a-1:a])[1],e=a[0]):(o=Math.max(Object(i.A)(n,r,e),1),e=l)}return null==o?e:e.every(o)}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?f(Ou.call(t,fp)):f().map(hp)},c.ticks=function(t,e){var n,i=f(),r=i[0],o=i[i.length-1],s=o<r;return s&&(n=r,r=o,o=n),n=(n=E(t,r,o,e))?n.range(r,o+1):[],s?n.reverse():n},c.tickFormat=function(t,e){return null==e?w:u(e)},c.nice=function(t,e){var n=f();return(t=E(t,n[0],n[n.length-1],e))?f(Vu(n,t)):c},c.copy=function(){return zu(c,pp(t,e,n,r,o,s,a,l,u))},c}var dp=function(){return Bu.apply(pp(ih,th,Uc,Rc,kc,Mc,Ic,wc,Qh).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},Ap=function(){return Bu.apply(pp(kh,Mh,Ah,fh,uh,sh,Ic,wc,jh).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function gp(){var t,e,n,i,r,o=0,s=1,a=Pu,l=!1;function u(e){return isNaN(e=+e)?r:a(0===n?.5:(e=(i(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}return u.domain=function(r){return arguments.length?(t=i(o=+r[0]),e=i(s=+r[1]),n=t===e?0:1/(e-t),u):[o,s]},u.clamp=function(t){return arguments.length?(l=!!t,u):l},u.interpolator=function(t){return arguments.length?(a=t,u):a},u.unknown=function(t){return arguments.length?(r=t,u):r},function(r){return i=r,t=r(o),e=r(s),n=t===e?0:1/(e-t),u}}function mp(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function vp(){var t=Wu(gp()(Pu));return t.copy=function(){return mp(t,vp())},Iu.apply(t,arguments)}function yp(){var t=ic(gp()).domain([1,10]);return t.copy=function(){return mp(t,yp()).base(t.base())},Iu.apply(t,arguments)}function _p(){var t=ac(gp());return t.copy=function(){return mp(t,_p()).constant(t.constant())},Iu.apply(t,arguments)}function bp(){var t=fc(gp());return t.copy=function(){return mp(t,bp()).exponent(t.exponent())},Iu.apply(t,arguments)}function wp(){return bp.apply(null,arguments).exponent(.5)}function Ep(){var t=[],e=Pu;function n(n){if(!isNaN(n=+n))return e((Object(i.b)(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var r,o=0,s=e.length;o<s;++o)null==(r=e[o])||isNaN(r=+r)||t.push(r);return t.sort(i.a),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Ep(e).domain(t)},Iu.apply(n,arguments)}function xp(){var t,e,n,i,r,o,s,a=0,l=.5,u=1,c=Pu,h=!1;function f(t){return isNaN(t=+t)?s:(t=.5+((t=+o(t))-e)*(t<e?i:r),c(h?Math.max(0,Math.min(1,t)):t))}return f.domain=function(s){return arguments.length?(t=o(a=+s[0]),e=o(l=+s[1]),n=o(u=+s[2]),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),f):[a,l,u]},f.clamp=function(t){return arguments.length?(h=!!t,f):h},f.interpolator=function(t){return arguments.length?(c=t,f):c},f.unknown=function(t){return arguments.length?(s=t,f):s},function(s){return o=s,t=s(a),e=s(l),n=s(u),i=t===e?0:.5/(e-t),r=e===n?0:.5/(n-e),f}}function Cp(){var t=Wu(xp()(Pu));return t.copy=function(){return mp(t,Cp())},Iu.apply(t,arguments)}function Bp(){var t=ic(xp()).domain([.1,1,10]);return t.copy=function(){return mp(t,Bp()).base(t.base())},Iu.apply(t,arguments)}function Ip(){var t=ac(xp());return t.copy=function(){return mp(t,Ip()).constant(t.constant())},Iu.apply(t,arguments)}function Sp(){var t=fc(xp());return t.copy=function(){return mp(t,Sp()).exponent(t.exponent())},Iu.apply(t,arguments)}function Op(){return Sp.apply(null,arguments).exponent(.5)}var Mp=function(t){for(var e=t.length/6|0,n=new Array(e),i=0;i<e;)n[i]="#"+t.slice(6*i,6*++i);return n},Tp=Mp("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Np=Mp("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),kp=Mp("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Lp=Mp("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Fp=Mp("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Rp=Mp("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Dp=Mp("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Pp=Mp("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Up=Mp("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Qp=function(t){return bn(t[t.length-1])},Hp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Mp),jp=Qp(Hp),zp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Mp),Kp=Qp(zp),Gp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Mp),qp=Qp(Gp),Wp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Mp),Yp=Qp(Wp),Xp=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Mp),Vp=Qp(Xp),Jp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Mp),Zp=Qp(Jp),$p=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Mp),td=Qp($p),ed=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Mp),nd=Qp(ed),id=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Mp),rd=Qp(id),od=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Mp),sd=Qp(od),ad=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Mp),ld=Qp(ad),ud=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Mp),cd=Qp(ud),hd=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Mp),fd=Qp(hd),pd=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Mp),dd=Qp(pd),Ad=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Mp),gd=Qp(Ad),md=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Mp),vd=Qp(md),yd=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Mp),_d=Qp(yd),bd=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Mp),wd=Qp(bd),Ed=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Mp),xd=Qp(Ed),Cd=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Mp),Bd=Qp(Cd),Id=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Mp),Sd=Qp(Id),Od=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Mp),Md=Qp(Od),Td=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Mp),Nd=Qp(Td),kd=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Mp),Ld=Qp(kd),Fd=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Mp),Rd=Qp(Fd),Dd=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Mp),Pd=Qp(Dd),Ud=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Mp),Qd=Qp(Ud),Hd=ni(un(300,.5,0),un(-240,.5,1)),jd=ni(un(-100,.75,.35),un(80,1.5,.8)),zd=ni(un(260,.75,.35),un(80,1.5,.8)),Kd=un(),Gd=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Kd.h=360*t-100,Kd.s=1.5-1.5*e,Kd.l=.8-.9*e,Kd+""},qd=Ie(),Wd=Math.PI/3,Yd=2*Math.PI/3,Xd=function(t){var e;return t=(.5-t)*Math.PI,qd.r=255*(e=Math.sin(t))*e,qd.g=255*(e=Math.sin(t+Wd))*e,qd.b=255*(e=Math.sin(t+Yd))*e,qd+""};function Vd(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var Jd=Vd(Mp("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Zd=Vd(Mp("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),$d=Vd(Mp("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),tA=Vd(Mp("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),eA=function(t){return function(){return t}},nA=Math.abs,iA=Math.atan2,rA=Math.cos,oA=Math.max,sA=Math.min,aA=Math.sin,lA=Math.sqrt,uA=1e-12,cA=Math.PI,hA=cA/2,fA=2*cA;function pA(t){return t>=1?hA:t<=-1?-hA:Math.asin(t)}function dA(t){return t.innerRadius}function AA(t){return t.outerRadius}function gA(t){return t.startAngle}function mA(t){return t.endAngle}function vA(t){return t&&t.padAngle}function yA(t,e,n,i,r,o,s){var a=t-n,l=e-i,u=(s?o:-o)/lA(a*a+l*l),c=u*l,h=-u*a,f=t+c,p=e+h,d=n+c,A=i+h,g=(f+d)/2,m=(p+A)/2,v=d-f,y=A-p,_=v*v+y*y,b=r-o,w=f*A-d*p,E=(y<0?-1:1)*lA(oA(0,b*b*_-w*w)),x=(w*y-v*E)/_,C=(-w*v-y*E)/_,B=(w*y+v*E)/_,I=(-w*v+y*E)/_,S=x-g,O=C-m,M=B-g,T=I-m;return S*S+O*O>M*M+T*T&&(x=B,C=I),{cx:x,cy:C,x01:-c,y01:-h,x11:x*(r/b-1),y11:C*(r/b-1)}}var _A=function(){var t=dA,e=AA,n=eA(0),i=null,r=gA,o=mA,s=vA,a=null;function l(){var l,u,c,h=+t.apply(this,arguments),f=+e.apply(this,arguments),p=r.apply(this,arguments)-hA,d=o.apply(this,arguments)-hA,A=nA(d-p),g=d>p;if(a||(a=l=Go()),f<h&&(u=f,f=h,h=u),f>uA)if(A>fA-uA)a.moveTo(f*rA(p),f*aA(p)),a.arc(0,0,f,p,d,!g),h>uA&&(a.moveTo(h*rA(d),h*aA(d)),a.arc(0,0,h,d,p,g));else{var m,v,y=p,_=d,b=p,w=d,E=A,x=A,C=s.apply(this,arguments)/2,B=C>uA&&(i?+i.apply(this,arguments):lA(h*h+f*f)),I=sA(nA(f-h)/2,+n.apply(this,arguments)),S=I,O=I;if(B>uA){var M=pA(B/h*aA(C)),T=pA(B/f*aA(C));(E-=2*M)>uA?(b+=M*=g?1:-1,w-=M):(E=0,b=w=(p+d)/2),(x-=2*T)>uA?(y+=T*=g?1:-1,_-=T):(x=0,y=_=(p+d)/2)}var N=f*rA(y),k=f*aA(y),L=h*rA(w),F=h*aA(w);if(I>uA){var R,D=f*rA(_),P=f*aA(_),U=h*rA(b),Q=h*aA(b);if(A<cA&&(R=function(t,e,n,i,r,o,s,a){var l=n-t,u=i-e,c=s-r,h=a-o,f=h*l-c*u;if(!(f*f<uA))return[t+(f=(c*(e-o)-h*(t-r))/f)*l,e+f*u]}(N,k,U,Q,D,P,L,F))){var H=N-R[0],j=k-R[1],z=D-R[0],K=P-R[1],G=1/aA(((c=(H*z+j*K)/(lA(H*H+j*j)*lA(z*z+K*K)))>1?0:c<-1?cA:Math.acos(c))/2),q=lA(R[0]*R[0]+R[1]*R[1]);S=sA(I,(h-q)/(G-1)),O=sA(I,(f-q)/(G+1))}}x>uA?O>uA?(m=yA(U,Q,N,k,f,O,g),v=yA(D,P,L,F,f,O,g),a.moveTo(m.cx+m.x01,m.cy+m.y01),O<I?a.arc(m.cx,m.cy,O,iA(m.y01,m.x01),iA(v.y01,v.x01),!g):(a.arc(m.cx,m.cy,O,iA(m.y01,m.x01),iA(m.y11,m.x11),!g),a.arc(0,0,f,iA(m.cy+m.y11,m.cx+m.x11),iA(v.cy+v.y11,v.cx+v.x11),!g),a.arc(v.cx,v.cy,O,iA(v.y11,v.x11),iA(v.y01,v.x01),!g))):(a.moveTo(N,k),a.arc(0,0,f,y,_,!g)):a.moveTo(N,k),h>uA&&E>uA?S>uA?(m=yA(L,F,D,P,h,-S,g),v=yA(N,k,U,Q,h,-S,g),a.lineTo(m.cx+m.x01,m.cy+m.y01),S<I?a.arc(m.cx,m.cy,S,iA(m.y01,m.x01),iA(v.y01,v.x01),!g):(a.arc(m.cx,m.cy,S,iA(m.y01,m.x01),iA(m.y11,m.x11),!g),a.arc(0,0,h,iA(m.cy+m.y11,m.cx+m.x11),iA(v.cy+v.y11,v.cx+v.x11),g),a.arc(v.cx,v.cy,S,iA(v.y11,v.x11),iA(v.y01,v.x01),!g))):a.arc(0,0,h,w,b,g):a.lineTo(L,F)}else a.moveTo(0,0);if(a.closePath(),l)return a=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-cA/2;return[rA(i)*n,aA(i)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:eA(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:eA(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:eA(+t),l):n},l.padRadius=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:eA(+t),l):i},l.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:eA(+t),l):r},l.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:eA(+t),l):o},l.padAngle=function(t){return arguments.length?(s="function"==typeof t?t:eA(+t),l):s},l.context=function(t){return arguments.length?(a=null==t?null:t,l):a},l};function bA(t){this._context=t}bA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var wA=function(t){return new bA(t)};function EA(t){return t[0]}function xA(t){return t[1]}var CA=function(){var t=EA,e=xA,n=eA(!0),i=null,r=wA,o=null;function s(s){var a,l,u,c=s.length,h=!1;for(null==i&&(o=r(u=Go())),a=0;a<=c;++a)!(a<c&&n(l=s[a],a,s))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,a,s),+e(l,a,s));if(u)return o=null,u+""||null}return s.x=function(e){return arguments.length?(t="function"==typeof e?e:eA(+e),s):t},s.y=function(t){return arguments.length?(e="function"==typeof t?t:eA(+t),s):e},s.defined=function(t){return arguments.length?(n="function"==typeof t?t:eA(!!t),s):n},s.curve=function(t){return arguments.length?(r=t,null!=i&&(o=r(i)),s):r},s.context=function(t){return arguments.length?(null==t?i=o=null:o=r(i=t),s):i},s},BA=function(){var t=EA,e=null,n=eA(0),i=xA,r=eA(!0),o=null,s=wA,a=null;function l(l){var u,c,h,f,p,d=l.length,A=!1,g=new Array(d),m=new Array(d);for(null==o&&(a=s(p=Go())),u=0;u<=d;++u){if(!(u<d&&r(f=l[u],u,l))===A)if(A=!A)c=u,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),h=u-1;h>=c;--h)a.point(g[h],m[h]);a.lineEnd(),a.areaEnd()}A&&(g[u]=+t(f,u,l),m[u]=+n(f,u,l),a.point(e?+e(f,u,l):g[u],i?+i(f,u,l):m[u]))}if(p)return a=null,p+""||null}function u(){return CA().defined(r).curve(s).context(o)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:eA(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:eA(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:eA(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:eA(+t),i=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:eA(+t),l):n},l.y1=function(t){return arguments.length?(i=null==t?null:"function"==typeof t?t:eA(+t),l):i},l.lineX0=l.lineY0=function(){return u().x(t).y(n)},l.lineY1=function(){return u().x(t).y(i)},l.lineX1=function(){return u().x(e).y(n)},l.defined=function(t){return arguments.length?(r="function"==typeof t?t:eA(!!t),l):r},l.curve=function(t){return arguments.length?(s=t,null!=o&&(a=s(o)),l):s},l.context=function(t){return arguments.length?(null==t?o=a=null:a=s(o=t),l):o},l},IA=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},SA=function(t){return t},OA=function(){var t=SA,e=IA,n=null,i=eA(0),r=eA(fA),o=eA(0);function s(s){var a,l,u,c,h,f=s.length,p=0,d=new Array(f),A=new Array(f),g=+i.apply(this,arguments),m=Math.min(fA,Math.max(-fA,r.apply(this,arguments)-g)),v=Math.min(Math.abs(m)/f,o.apply(this,arguments)),y=v*(m<0?-1:1);for(a=0;a<f;++a)(h=A[d[a]=a]=+t(s[a],a,s))>0&&(p+=h);for(null!=e?d.sort((function(t,n){return e(A[t],A[n])})):null!=n&&d.sort((function(t,e){return n(s[t],s[e])})),a=0,u=p?(m-f*y)/p:0;a<f;++a,g=c)l=d[a],c=g+((h=A[l])>0?h*u:0)+y,A[l]={data:s[l],index:a,value:h,startAngle:g,endAngle:c,padAngle:v};return A}return s.value=function(e){return arguments.length?(t="function"==typeof e?e:eA(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:eA(+t),s):i},s.endAngle=function(t){return arguments.length?(r="function"==typeof t?t:eA(+t),s):r},s.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:eA(+t),s):o},s},MA=NA(wA);function TA(t){this._curve=t}function NA(t){function e(e){return new TA(t(e))}return e._curve=t,e}function kA(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(NA(t)):e()._curve},t}TA.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var LA=function(){return kA(CA().curve(MA))},FA=function(){var t=BA().curve(MA),e=t.curve,n=t.lineX0,i=t.lineX1,r=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return kA(n())},delete t.lineX0,t.lineEndAngle=function(){return kA(i())},delete t.lineX1,t.lineInnerRadius=function(){return kA(r())},delete t.lineY0,t.lineOuterRadius=function(){return kA(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(NA(t)):e()._curve},t},RA=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},DA=Array.prototype.slice;function PA(t){return t.source}function UA(t){return t.target}function QA(t){var e=PA,n=UA,i=EA,r=xA,o=null;function s(){var s,a=DA.call(arguments),l=e.apply(this,a),u=n.apply(this,a);if(o||(o=s=Go()),t(o,+i.apply(this,(a[0]=l,a)),+r.apply(this,a),+i.apply(this,(a[0]=u,a)),+r.apply(this,a)),s)return o=null,s+""||null}return s.source=function(t){return arguments.length?(e=t,s):e},s.target=function(t){return arguments.length?(n=t,s):n},s.x=function(t){return arguments.length?(i="function"==typeof t?t:eA(+t),s):i},s.y=function(t){return arguments.length?(r="function"==typeof t?t:eA(+t),s):r},s.context=function(t){return arguments.length?(o=null==t?null:t,s):o},s}function HA(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e=(e+i)/2,n,e,r,i,r)}function jA(t,e,n,i,r){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+r)/2,i,n,i,r)}function zA(t,e,n,i,r){var o=RA(e,n),s=RA(e,n=(n+r)/2),a=RA(i,n),l=RA(i,r);t.moveTo(o[0],o[1]),t.bezierCurveTo(s[0],s[1],a[0],a[1],l[0],l[1])}function KA(){return QA(HA)}function GA(){return QA(jA)}function qA(){var t=QA(zA);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var WA={draw:function(t,e){var n=Math.sqrt(e/cA);t.moveTo(n,0),t.arc(0,0,n,0,fA)}},YA={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},XA=Math.sqrt(1/3),VA=2*XA,JA={draw:function(t,e){var n=Math.sqrt(e/VA),i=n*XA;t.moveTo(0,-n),t.lineTo(i,0),t.lineTo(0,n),t.lineTo(-i,0),t.closePath()}},ZA=Math.sin(cA/10)/Math.sin(7*cA/10),$A=Math.sin(fA/10)*ZA,tg=-Math.cos(fA/10)*ZA,eg={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),i=$A*n,r=tg*n;t.moveTo(0,-n),t.lineTo(i,r);for(var o=1;o<5;++o){var s=fA*o/5,a=Math.cos(s),l=Math.sin(s);t.lineTo(l*n,-a*n),t.lineTo(a*i-l*r,l*i+a*r)}t.closePath()}},ng={draw:function(t,e){var n=Math.sqrt(e),i=-n/2;t.rect(i,i,n,n)}},ig=Math.sqrt(3),rg={draw:function(t,e){var n=-Math.sqrt(e/(3*ig));t.moveTo(0,2*n),t.lineTo(-ig*n,-n),t.lineTo(ig*n,-n),t.closePath()}},og=Math.sqrt(3)/2,sg=1/Math.sqrt(12),ag=3*(sg/2+1),lg={draw:function(t,e){var n=Math.sqrt(e/ag),i=n/2,r=n*sg,o=i,s=n*sg+n,a=-o,l=s;t.moveTo(i,r),t.lineTo(o,s),t.lineTo(a,l),t.lineTo(-.5*i-og*r,og*i+-.5*r),t.lineTo(-.5*o-og*s,og*o+-.5*s),t.lineTo(-.5*a-og*l,og*a+-.5*l),t.lineTo(-.5*i+og*r,-.5*r-og*i),t.lineTo(-.5*o+og*s,-.5*s-og*o),t.lineTo(-.5*a+og*l,-.5*l-og*a),t.closePath()}},ug=[WA,YA,JA,ng,eg,rg,lg],cg=function(){var t=eA(WA),e=eA(64),n=null;function i(){var i;if(n||(n=i=Go()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),i)return n=null,i+""||null}return i.type=function(e){return arguments.length?(t="function"==typeof e?e:eA(e),i):t},i.size=function(t){return arguments.length?(e="function"==typeof t?t:eA(+t),i):e},i.context=function(t){return arguments.length?(n=null==t?null:t,i):n},i},hg=function(){};function fg(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function pg(t){this._context=t}pg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:fg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:fg(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var dg=function(t){return new pg(t)};function Ag(t){this._context=t}Ag.prototype={areaStart:hg,areaEnd:hg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:fg(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var gg=function(t){return new Ag(t)};function mg(t){this._context=t}mg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:fg(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var vg=function(t){return new mg(t)};function yg(t,e){this._basis=new pg(t),this._beta=e}yg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i,r=t[0],o=e[0],s=t[n]-r,a=e[n]-o,l=-1;++l<=n;)i=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(r+i*s),this._beta*e[l]+(1-this._beta)*(o+i*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var _g=function t(e){function n(t){return 1===e?new pg(t):new yg(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function bg(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function wg(t,e){this._context=t,this._k=(1-e)/6}wg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:bg(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:bg(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Eg=function t(e){function n(t){return new wg(t,e)}return n.tension=function(e){return t(+e)},n}(0);function xg(t,e){this._context=t,this._k=(1-e)/6}xg.prototype={areaStart:hg,areaEnd:hg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:bg(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Cg=function t(e){function n(t){return new xg(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Bg(t,e){this._context=t,this._k=(1-e)/6}Bg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bg(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ig=function t(e){function n(t){return new Bg(t,e)}return n.tension=function(e){return t(+e)},n}(0);function Sg(t,e,n){var i=t._x1,r=t._y1,o=t._x2,s=t._y2;if(t._l01_a>uA){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>uA){var u=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*u+t._x1*t._l23_2a-e*t._l12_2a)/c,s=(s*u+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(i,r,o,s,t._x2,t._y2)}function Og(t,e){this._context=t,this._alpha=e}Og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Sg(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Mg=function t(e){function n(t){return e?new Og(t,e):new wg(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Tg(t,e){this._context=t,this._alpha=e}Tg.prototype={areaStart:hg,areaEnd:hg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Sg(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Ng=function t(e){function n(t){return e?new Tg(t,e):new xg(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function kg(t,e){this._context=t,this._alpha=e}kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Sg(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Lg=function t(e){function n(t){return e?new kg(t,e):new Bg(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function Fg(t){this._context=t}Fg.prototype={areaStart:hg,areaEnd:hg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var Rg=function(t){return new Fg(t)};function Dg(t){return t<0?-1:1}function Pg(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),s=(n-t._y1)/(r||i<0&&-0),a=(o*r+s*i)/(i+r);return(Dg(o)+Dg(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function Ug(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Qg(t,e,n){var i=t._x0,r=t._y0,o=t._x1,s=t._y1,a=(o-i)/3;t._context.bezierCurveTo(i+a,r+a*e,o-a,s-a*n,o,s)}function Hg(t){this._context=t}function jg(t){this._context=new zg(t)}function zg(t){this._context=t}function Kg(t){return new Hg(t)}function Gg(t){return new jg(t)}function qg(t){this._context=t}function Wg(t){var e,n,i=t.length-1,r=new Array(i),o=new Array(i),s=new Array(i);for(r[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<i-1;++e)r[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(r[i-1]=2,o[i-1]=7,s[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)n=r[e]/o[e-1],o[e]-=n,s[e]-=n*s[e-1];for(r[i-1]=s[i-1]/o[i-1],e=i-2;e>=0;--e)r[e]=(s[e]-r[e+1])/o[e];for(o[i-1]=(t[i]+r[i-1])/2,e=0;e<i-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}Hg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qg(this,this._t0,Ug(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Qg(this,Ug(this,n=Pg(this,t,e)),n);break;default:Qg(this,this._t0,n=Pg(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(jg.prototype=Object.create(Hg.prototype)).point=function(t,e){Hg.prototype.point.call(this,e,t)},zg.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}},qg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var i=Wg(t),r=Wg(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[s],e[s]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var Yg=function(t){return new qg(t)};function Xg(t,e){this._context=t,this._t=e}Xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var Vg=function(t){return new Xg(t,.5)};function Jg(t){return new Xg(t,0)}function Zg(t){return new Xg(t,1)}var $g=function(t,e){if((r=t.length)>1)for(var n,i,r,o=1,s=t[e[0]],a=s.length;o<r;++o)for(i=s,s=t[e[o]],n=0;n<a;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]},tm=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function em(t,e){return t[e]}var nm=function(){var t=eA([]),e=tm,n=$g,i=em;function r(r){var o,s,a=t.apply(this,arguments),l=r.length,u=a.length,c=new Array(u);for(o=0;o<u;++o){for(var h,f=a[o],p=c[o]=new Array(l),d=0;d<l;++d)p[d]=h=[0,+i(r[d],f,d,r)],h.data=r[d];p.key=f}for(o=0,s=e(c);o<u;++o)c[s[o]].index=o;return n(c,s),c}return r.keys=function(e){return arguments.length?(t="function"==typeof e?e:eA(DA.call(e)),r):t},r.value=function(t){return arguments.length?(i="function"==typeof t?t:eA(+t),r):i},r.order=function(t){return arguments.length?(e=null==t?tm:"function"==typeof t?t:eA(DA.call(t)),r):e},r.offset=function(t){return arguments.length?(n=null==t?$g:t,r):n},r},im=function(t,e){if((i=t.length)>0){for(var n,i,r,o=0,s=t[0].length;o<s;++o){for(r=n=0;n<i;++n)r+=t[n][o][1]||0;if(r)for(n=0;n<i;++n)t[n][o][1]/=r}$g(t,e)}},rm=function(t,e){if((a=t.length)>0)for(var n,i,r,o,s,a,l=0,u=t[e[0]].length;l<u;++l)for(o=s=0,n=0;n<a;++n)(r=(i=t[e[n]][l])[1]-i[0])>=0?(i[0]=o,i[1]=o+=r):r<0?(i[1]=s,i[0]=s+=r):i[0]=o},om=function(t,e){if((n=t.length)>0){for(var n,i=0,r=t[e[0]],o=r.length;i<o;++i){for(var s=0,a=0;s<n;++s)a+=t[s][i][1]||0;r[i][1]+=r[i][0]=-a/2}$g(t,e)}},sm=function(t,e){if((r=t.length)>0&&(i=(n=t[e[0]]).length)>0){for(var n,i,r,o=0,s=1;s<i;++s){for(var a=0,l=0,u=0;a<r;++a){for(var c=t[e[a]],h=c[s][1]||0,f=(h-(c[s-1][1]||0))/2,p=0;p<a;++p){var d=t[e[p]];f+=(d[s][1]||0)-(d[s-1][1]||0)}l+=h,u+=f*h}n[s-1][1]+=n[s-1][0]=o,l&&(o-=u/l)}n[s-1][1]+=n[s-1][0]=o,$g(t,e)}},am=function(t){var e=t.map(lm);return tm(t).sort((function(t,n){return e[t]-e[n]}))};function lm(t){for(var e,n=-1,i=0,r=t.length,o=-1/0;++n<r;)(e=+t[n][1])>o&&(o=e,i=n);return i}var um=function(t){var e=t.map(cm);return tm(t).sort((function(t,n){return e[t]-e[n]}))};function cm(t){for(var e,n=0,i=-1,r=t.length;++i<r;)(e=+t[i][1])&&(n+=e);return n}var hm=function(t){return um(t).reverse()},fm=function(t){var e,n,i=t.length,r=t.map(cm),o=am(t),s=0,a=0,l=[],u=[];for(e=0;e<i;++e)n=o[e],s<a?(s+=r[n],l.push(n)):(a+=r[n],u.push(n));return u.reverse().concat(l)},pm=function(t){return tm(t).reverse()},dm=function(t){return function(){return t}};function Am(t){return t[0]}function gm(t){return t[1]}function mm(){this._=null}function vm(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ym(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function _m(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function bm(t){for(;t.L;)t=t.L;return t}mm.prototype={constructor:mm,insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=bm(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ym(this,n),n=(t=n).U),n.C=!1,i.C=!0,_m(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(_m(this,n),n=(t=n).U),n.C=!1,i.C=!0,ym(this,i)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,o=t.L,s=t.R;if(n=o?s?bm(s):o:s,r?r.L===t?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=t.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=s,s.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===r.L){if((e=r.R).C&&(e.C=!1,r.C=!0,ym(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,_m(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ym(this,r),t=this._;break}}else if((e=r.L).C&&(e.C=!1,r.C=!0,_m(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ym(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,_m(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}};var wm=mm;function Em(t,e,n,i){var r=[null,null],o=Wm.push(r)-1;return r.left=t,r.right=e,n&&Cm(r,t,e,n),i&&Cm(r,e,t,i),Gm[t.index].halfedges.push(o),Gm[e.index].halfedges.push(o),r}function xm(t,e,n){var i=[e,n];return i.left=t,i}function Cm(t,e,n,i){t[0]||t[1]?t.left===n?t[1]=i:t[0]=i:(t[0]=i,t.left=e,t.right=n)}function Bm(t,e,n,i,r){var o,s=t[0],a=t[1],l=s[0],u=s[1],c=0,h=1,f=a[0]-l,p=a[1]-u;if(o=e-l,f||!(o>0)){if(o/=f,f<0){if(o<c)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>c&&(c=o)}if(o=i-l,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>c&&(c=o)}else if(f>0){if(o<c)return;o<h&&(h=o)}if(o=n-u,p||!(o>0)){if(o/=p,p<0){if(o<c)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>c&&(c=o)}if(o=r-u,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>c&&(c=o)}else if(p>0){if(o<c)return;o<h&&(h=o)}return!(c>0||h<1)||(c>0&&(t[0]=[l+c*f,u+c*p]),h<1&&(t[1]=[l+h*f,u+h*p]),!0)}}}}}function Im(t,e,n,i,r){var o=t[1];if(o)return!0;var s,a,l=t[0],u=t.left,c=t.right,h=u[0],f=u[1],p=c[0],d=c[1],A=(h+p)/2,g=(f+d)/2;if(d===f){if(A<e||A>=i)return;if(h>p){if(l){if(l[1]>=r)return}else l=[A,n];o=[A,r]}else{if(l){if(l[1]<n)return}else l=[A,r];o=[A,n]}}else if(a=g-(s=(h-p)/(d-f))*A,s<-1||s>1)if(h>p){if(l){if(l[1]>=r)return}else l=[(n-a)/s,n];o=[(r-a)/s,r]}else{if(l){if(l[1]<n)return}else l=[(r-a)/s,r];o=[(n-a)/s,n]}else if(f<d){if(l){if(l[0]>=i)return}else l=[e,s*e+a];o=[i,s*i+a]}else{if(l){if(l[0]<e)return}else l=[i,s*i+a];o=[e,s*e+a]}return t[0]=l,t[1]=o,!0}function Sm(t,e){var n=t.site,i=e.left,r=e.right;return n===r&&(r=i,i=n),r?Math.atan2(r[1]-i[1],r[0]-i[0]):(n===i?(i=e[1],r=e[0]):(i=e[0],r=e[1]),Math.atan2(i[0]-r[0],r[1]-i[1]))}function Om(t,e){return e[+(e.left!==t.site)]}function Mm(t,e){return e[+(e.left===t.site)]}var Tm,Nm=[];function km(){vm(this),this.x=this.y=this.arc=this.site=this.cy=null}function Lm(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,o=n.site;if(i!==o){var s=r[0],a=r[1],l=i[0]-s,u=i[1]-a,c=o[0]-s,h=o[1]-a,f=2*(l*h-u*c);if(!(f>=-Xm)){var p=l*l+u*u,d=c*c+h*h,A=(h*p-u*d)/f,g=(l*d-c*p)/f,m=Nm.pop()||new km;m.arc=t,m.site=r,m.x=A+s,m.y=(m.cy=g+a)+Math.sqrt(A*A+g*g),t.circle=m;for(var v=null,y=qm._;y;)if(m.y<y.y||m.y===y.y&&m.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}qm.insert(v,m),v||(Tm=m)}}}}function Fm(t){var e=t.circle;e&&(e.P||(Tm=e.N),qm.remove(e),Nm.push(e),vm(e),t.circle=null)}var Rm=[];function Dm(){vm(this),this.edge=this.site=this.circle=null}function Pm(t){var e=Rm.pop()||new Dm;return e.site=t,e}function Um(t){Fm(t),Km.remove(t),Rm.push(t),vm(t)}function Qm(t){var e=t.circle,n=e.x,i=e.cy,r=[n,i],o=t.P,s=t.N,a=[t];Um(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Ym&&Math.abs(i-l.circle.cy)<Ym;)o=l.P,a.unshift(l),Um(l),l=o;a.unshift(l),Fm(l);for(var u=s;u.circle&&Math.abs(n-u.circle.x)<Ym&&Math.abs(i-u.circle.cy)<Ym;)s=u.N,a.push(u),Um(u),u=s;a.push(u),Fm(u);var c,h=a.length;for(c=1;c<h;++c)u=a[c],l=a[c-1],Cm(u.edge,l.site,u.site,r);l=a[0],(u=a[h-1]).edge=Em(l.site,u.site,null,r),Lm(l),Lm(u)}function Hm(t){for(var e,n,i,r,o=t[0],s=t[1],a=Km._;a;)if((i=jm(a,s)-o)>Ym)a=a.L;else{if(!((r=o-zm(a,s))>Ym)){i>-Ym?(e=a.P,n=a):r>-Ym?(e=a,n=a.N):e=n=a;break}if(!a.R){e=a;break}a=a.R}!function(t){Gm[t.index]={site:t,halfedges:[]}}(t);var l=Pm(t);if(Km.insert(e,l),e||n){if(e===n)return Fm(e),n=Pm(e.site),Km.insert(l,n),l.edge=n.edge=Em(e.site,l.site),Lm(e),void Lm(n);if(n){Fm(e),Fm(n);var u=e.site,c=u[0],h=u[1],f=t[0]-c,p=t[1]-h,d=n.site,A=d[0]-c,g=d[1]-h,m=2*(f*g-p*A),v=f*f+p*p,y=A*A+g*g,_=[(g*v-p*y)/m+c,(f*y-A*v)/m+h];Cm(n.edge,u,d,_),l.edge=Em(u,t,null,_),n.edge=Em(t,d,null,_),Lm(e),Lm(n)}else l.edge=Em(e.site,l.site)}}function jm(t,e){var n=t.site,i=n[0],r=n[1],o=r-e;if(!o)return i;var s=t.P;if(!s)return-1/0;var a=(n=s.site)[0],l=n[1],u=l-e;if(!u)return a;var c=a-i,h=1/o-1/u,f=c/u;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*u)-l+u/2+r-o/2)))/h+i:(i+a)/2}function zm(t,e){var n=t.N;if(n)return jm(n,e);var i=t.site;return i[1]===e?i[0]:1/0}var Km,Gm,qm,Wm,Ym=1e-6,Xm=1e-12;function Vm(t,e){return e[1]-t[1]||e[0]-t[0]}function Jm(t,e){var n,i,r,o=t.sort(Vm).pop();for(Wm=[],Gm=new Array(t.length),Km=new wm,qm=new wm;;)if(r=Tm,o&&(!r||o[1]<r.y||o[1]===r.y&&o[0]<r.x))o[0]===n&&o[1]===i||(Hm(o),n=o[0],i=o[1]),o=t.pop();else{if(!r)break;Qm(r.arc)}if(function(){for(var t,e,n,i,r=0,o=Gm.length;r<o;++r)if((t=Gm[r])&&(i=(e=t.halfedges).length)){var s=new Array(i),a=new Array(i);for(n=0;n<i;++n)s[n]=n,a[n]=Sm(t,Wm[e[n]]);for(s.sort((function(t,e){return a[e]-a[t]})),n=0;n<i;++n)a[n]=e[s[n]];for(n=0;n<i;++n)e[n]=a[n]}}(),e){var s=+e[0][0],a=+e[0][1],l=+e[1][0],u=+e[1][1];!function(t,e,n,i){for(var r,o=Wm.length;o--;)Im(r=Wm[o],t,e,n,i)&&Bm(r,t,e,n,i)&&(Math.abs(r[0][0]-r[1][0])>Ym||Math.abs(r[0][1]-r[1][1])>Ym)||delete Wm[o]}(s,a,l,u),function(t,e,n,i){var r,o,s,a,l,u,c,h,f,p,d,A,g=Gm.length,m=!0;for(r=0;r<g;++r)if(o=Gm[r]){for(s=o.site,a=(l=o.halfedges).length;a--;)Wm[l[a]]||l.splice(a,1);for(a=0,u=l.length;a<u;)d=(p=Mm(o,Wm[l[a]]))[0],A=p[1],h=(c=Om(o,Wm[l[++a%u]]))[0],f=c[1],(Math.abs(d-h)>Ym||Math.abs(A-f)>Ym)&&(l.splice(a,0,Wm.push(xm(s,p,Math.abs(d-t)<Ym&&i-A>Ym?[t,Math.abs(h-t)<Ym?f:i]:Math.abs(A-i)<Ym&&n-d>Ym?[Math.abs(f-i)<Ym?h:n,i]:Math.abs(d-n)<Ym&&A-e>Ym?[n,Math.abs(h-n)<Ym?f:e]:Math.abs(A-e)<Ym&&d-t>Ym?[Math.abs(f-e)<Ym?h:t,e]:null))-1),++u);u&&(m=!1)}if(m){var v,y,_,b=1/0;for(r=0,m=null;r<g;++r)(o=Gm[r])&&(_=(v=(s=o.site)[0]-t)*v+(y=s[1]-e)*y)<b&&(b=_,m=o);if(m){var w=[t,e],E=[t,i],x=[n,i],C=[n,e];m.halfedges.push(Wm.push(xm(s=m.site,w,E))-1,Wm.push(xm(s,E,x))-1,Wm.push(xm(s,x,C))-1,Wm.push(xm(s,C,w))-1)}}for(r=0;r<g;++r)(o=Gm[r])&&(o.halfedges.length||delete Gm[r])}(s,a,l,u)}this.edges=Wm,this.cells=Gm,Km=qm=Wm=Gm=null}Jm.prototype={constructor:Jm,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Om(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,i){if(o=(r=n.halfedges).length)for(var r,o,s,a,l,u,c=n.site,h=-1,f=e[r[o-1]],p=f.left===c?f.right:f.left;++h<o;)s=p,p=(f=e[r[h]]).left===c?f.right:f.left,s&&p&&i<s.index&&i<p.index&&(l=s,u=p,((a=c)[0]-u[0])*(l[1]-a[1])-(a[0]-l[0])*(u[1]-a[1])<0)&&t.push([c.data,s.data,p.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var i,r,o=this,s=o._found||0,a=o.cells.length;!(r=o.cells[s]);)if(++s>=a)return null;var l=t-r.site[0],u=e-r.site[1],c=l*l+u*u;do{r=o.cells[i=s],s=null,r.halfedges.forEach((function(n){var i=o.edges[n],a=i.left;if(a!==r.site&&a||(a=i.right)){var l=t-a[0],u=e-a[1],h=l*l+u*u;h<c&&(c=h,s=a.index)}}))}while(null!==s);return o._found=i,null==n||c<=n*n?r.site:null}};var Zm=function(){var t=Am,e=gm,n=null;function i(i){return new Jm(i.map((function(n,r){var o=[Math.round(t(n,r,i)/Ym)*Ym,Math.round(e(n,r,i)/Ym)*Ym];return o.index=r,o.data=n,o})),n)}return i.polygons=function(t){return i(t).polygons()},i.links=function(t){return i(t).links()},i.triangles=function(t){return i(t).triangles()},i.x=function(e){return arguments.length?(t="function"==typeof e?e:dm(+e),i):t},i.y=function(t){return arguments.length?(e="function"==typeof t?t:dm(+t),i):e},i.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],i):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},i.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],i):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},i},$m=function(t){return function(){return t}};function tv(t,e,n){this.target=t,this.type=e,this.transform=n}function ev(t,e,n){this.k=t,this.x=e,this.y=n}ev.prototype={constructor:ev,scale:function(t){return 1===t?this:new ev(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new ev(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var nv=new ev(1,0,0);function iv(t){return t.__zoom||nv}function rv(){Bt.stopImmediatePropagation()}iv.prototype=ev.prototype;var ov=function(){Bt.preventDefault(),Bt.stopImmediatePropagation()};function sv(){return!Bt.button}function av(){var t,e,n=this;return n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,e=n.height.baseVal.value):(t=n.clientWidth,e=n.clientHeight),[[0,0],[t,e]]}function lv(){return this.__zoom||nv}function uv(){return-Bt.deltaY*(Bt.deltaMode?120:1)/500}function cv(){return"ontouchstart"in this}function hv(t,e,n){var i=t.invertX(e[0][0])-n[0][0],r=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],s=t.invertY(e[1][1])-n[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}var fv=function(){var t,e,n=sv,i=av,r=hv,o=uv,s=cv,a=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,c=qn,h=[],f=I("start","zoom","end"),p=500,d=150,A=0;function g(t){t.property("__zoom",lv).on("wheel.zoom",E).on("mousedown.zoom",x).on("dblclick.zoom",C).filter(s).on("touchstart.zoom",B).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",O).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return(e=Math.max(a[0],Math.min(a[1],e)))===t.k?t:new ev(e,t.x,t.y)}function v(t,e,n){var i=e[0]-n[0]*t.k,r=e[1]-n[1]*t.k;return i===t.x&&r===t.y?t:new ev(t.k,i,r)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function _(t,e,n){t.on("start.zoom",(function(){b(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).end()})).tween("zoom",(function(){var t=this,r=arguments,o=b(t,r),s=i.apply(t,r),a=n||y(s),l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),u=t.__zoom,h="function"==typeof e?e.apply(t,r):e,f=c(u.invert(a).concat(l/u.k),h.invert(a).concat(l/h.k));return function(t){if(1===t)t=h;else{var e=f(t),n=l/e[2];t=new ev(n,a[0]-e[0]*n,a[1]-e[1]*n)}o.zoom(null,t)}}))}function b(t,e){for(var n,i=0,r=h.length;i<r;++i)if((n=h[i]).that===t)return n;return new w(t,e)}function w(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=i.apply(t,e)}function E(){if(n.apply(this,arguments)){var t=b(this,arguments),e=this.__zoom,i=Math.max(a[0],Math.min(a[1],e.k*Math.pow(2,o.apply(this,arguments)))),s=Wt(this);if(t.wheel)t.mouse[0][0]===s[0]&&t.mouse[0][1]===s[1]||(t.mouse[1]=e.invert(t.mouse[0]=s)),clearTimeout(t.wheel);else{if(e.k===i)return;t.mouse=[s,e.invert(s)],Ui(this),t.start()}ov(),t.wheel=setTimeout((function(){t.wheel=null,t.end()}),d),t.zoom("mouse",r(v(m(e,i),t.mouse[0],t.mouse[1]),t.extent,l))}}function x(){if(!e&&n.apply(this,arguments)){var t=b(this,arguments),i=Qt(Bt.view).on("mousemove.zoom",(function(){if(ov(),!t.moved){var e=Bt.clientX-s,n=Bt.clientY-a;t.moved=e*e+n*n>A}t.zoom("mouse",r(v(t.that.__zoom,t.mouse[0]=Wt(t.that),t.mouse[1]),t.extent,l))}),!0).on("mouseup.zoom",(function(){i.on("mousemove.zoom mouseup.zoom",null),te(Bt.view,t.moved),ov(),t.end()}),!0),o=Wt(this),s=Bt.clientX,a=Bt.clientY;$t(Bt.view),rv(),t.mouse=[o,this.__zoom.invert(o)],Ui(this),t.start()}}function C(){if(n.apply(this,arguments)){var t=this.__zoom,e=Wt(this),o=t.invert(e),s=t.k*(Bt.shiftKey?.5:2),a=r(v(m(t,s),e,o),i.apply(this,arguments),l);ov(),u>0?Qt(this).transition().duration(u).call(_,a,e):Qt(this).call(g.transform,a)}}function B(){if(n.apply(this,arguments)){var e,i,r,o,s=b(this,arguments),a=Bt.changedTouches,l=a.length;for(rv(),i=0;i<l;++i)r=a[i],o=[o=Xt(this,a,r.identifier),this.__zoom.invert(o),r.identifier],s.touch0?s.touch1||(s.touch1=o):(s.touch0=o,e=!0);if(t&&(t=clearTimeout(t),!s.touch1))return s.end(),void((o=Qt(this).on("dblclick.zoom"))&&o.apply(this,arguments));e&&(t=setTimeout((function(){t=null}),p),Ui(this),s.start())}}function S(){var e,n,i,o,s=b(this,arguments),a=Bt.changedTouches,u=a.length;for(ov(),t&&(t=clearTimeout(t)),e=0;e<u;++e)n=a[e],i=Xt(this,a,n.identifier),s.touch0&&s.touch0[2]===n.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===n.identifier&&(s.touch1[0]=i);if(n=s.that.__zoom,s.touch1){var c=s.touch0[0],h=s.touch0[1],f=s.touch1[0],p=s.touch1[1],d=(d=f[0]-c[0])*d+(d=f[1]-c[1])*d,A=(A=p[0]-h[0])*A+(A=p[1]-h[1])*A;n=m(n,Math.sqrt(d/A)),i=[(c[0]+f[0])/2,(c[1]+f[1])/2],o=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],o=s.touch0[1]}s.zoom("touch",r(v(n,i,o),s.extent,l))}function O(){var t,n,i=b(this,arguments),r=Bt.changedTouches,o=r.length;for(rv(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),p),t=0;t<o;++t)n=r[t],i.touch0&&i.touch0[2]===n.identifier?delete i.touch0:i.touch1&&i.touch1[2]===n.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):i.end()}return g.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",lv),t!==n?_(t,e):n.interrupt().each((function(){b(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e){g.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}))},g.scaleTo=function(t,e){g.transform(t,(function(){var t=i.apply(this,arguments),n=this.__zoom,o=y(t),s=n.invert(o),a="function"==typeof e?e.apply(this,arguments):e;return r(v(m(n,a),o,s),t,l)}))},g.translateBy=function(t,e,n){g.transform(t,(function(){return r(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}))},g.translateTo=function(t,e,n){g.transform(t,(function(){var t=i.apply(this,arguments),o=this.__zoom,s=y(t);return r(nv.translate(s[0],s[1]).scale(o.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)}))},w.prototype={start:function(){return 1==++this.active&&(this.index=h.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(h.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Nt(new tv(g,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},g.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:$m(+t),g):o},g.filter=function(t){return arguments.length?(n="function"==typeof t?t:$m(!!t),g):n},g.touchable=function(t){return arguments.length?(s="function"==typeof t?t:$m(!!t),g):s},g.extent=function(t){return arguments.length?(i="function"==typeof t?t:$m([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):i},g.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],g):[a[0],a[1]]},g.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],g):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},g.constrain=function(t){return arguments.length?(r=t,g):r},g.duration=function(t){return arguments.length?(u=+t,g):u},g.interpolate=function(t){return arguments.length?(c=t,g):c},g.on=function(){var t=f.on.apply(f,arguments);return t===f?g:t},g.clickDistance=function(t){return arguments.length?(A=(t=+t)*t,g):Math.sqrt(A)},g};n.d(e,"version",(function(){return"5.9.2"})),n.d(e,"bisect",(function(){return i.b})),n.d(e,"bisectRight",(function(){return i.d})),n.d(e,"bisectLeft",(function(){return i.c})),n.d(e,"ascending",(function(){return i.a})),n.d(e,"bisector",(function(){return i.e})),n.d(e,"cross",(function(){return i.f})),n.d(e,"descending",(function(){return i.g})),n.d(e,"deviation",(function(){return i.h})),n.d(e,"extent",(function(){return i.i})),n.d(e,"histogram",(function(){return i.j})),n.d(e,"thresholdFreedmanDiaconis",(function(){return i.w})),n.d(e,"thresholdScott",(function(){return i.x})),n.d(e,"thresholdSturges",(function(){return i.y})),n.d(e,"max",(function(){return i.k})),n.d(e,"mean",(function(){return i.l})),n.d(e,"median",(function(){return i.m})),n.d(e,"merge",(function(){return i.n})),n.d(e,"min",(function(){return i.o})),n.d(e,"pairs",(function(){return i.p})),n.d(e,"permute",(function(){return i.q})),n.d(e,"quantile",(function(){return i.r})),n.d(e,"range",(function(){return i.s})),n.d(e,"scan",(function(){return i.t})),n.d(e,"shuffle",(function(){return i.u})),n.d(e,"sum",(function(){return i.v})),n.d(e,"ticks",(function(){return i.B})),n.d(e,"tickIncrement",(function(){return i.z})),n.d(e,"tickStep",(function(){return i.A})),n.d(e,"transpose",(function(){return i.C})),n.d(e,"variance",(function(){return i.D})),n.d(e,"zip",(function(){return i.E})),n.d(e,"axisTop",(function(){return m})),n.d(e,"axisRight",(function(){return v})),n.d(e,"axisBottom",(function(){return y})),n.d(e,"axisLeft",(function(){return _})),n.d(e,"brush",(function(){return So})),n.d(e,"brushX",(function(){return Bo})),n.d(e,"brushY",(function(){return Io})),n.d(e,"brushSelection",(function(){return Co})),n.d(e,"chord",(function(){return Do})),n.d(e,"ribbon",(function(){return Jo})),n.d(e,"nest",(function(){return es})),n.d(e,"set",(function(){return us})),n.d(e,"map",(function(){return ts})),n.d(e,"keys",(function(){return cs})),n.d(e,"values",(function(){return hs})),n.d(e,"entries",(function(){return fs})),n.d(e,"color",(function(){return Ee})),n.d(e,"rgb",(function(){return Ie})),n.d(e,"hsl",(function(){return Te})),n.d(e,"lab",(function(){return Ge})),n.d(e,"hcl",(function(){return $e})),n.d(e,"lch",(function(){return Ze})),n.d(e,"gray",(function(){return Ke})),n.d(e,"cubehelix",(function(){return un})),n.d(e,"contours",(function(){return ws})),n.d(e,"contourDensity",(function(){return Ss})),n.d(e,"dispatch",(function(){return I})),n.d(e,"drag",(function(){return ae})),n.d(e,"dragDisable",(function(){return $t})),n.d(e,"dragEnable",(function(){return te})),n.d(e,"dsvFormat",(function(){return Ps})),n.d(e,"csvParse",(function(){return Qs})),n.d(e,"csvParseRows",(function(){return Hs})),n.d(e,"csvFormat",(function(){return js})),n.d(e,"csvFormatBody",(function(){return zs})),n.d(e,"csvFormatRows",(function(){return Ks})),n.d(e,"tsvParse",(function(){return qs})),n.d(e,"tsvParseRows",(function(){return Ws})),n.d(e,"tsvFormat",(function(){return Ys})),n.d(e,"tsvFormatBody",(function(){return Xs})),n.d(e,"tsvFormatRows",(function(){return Vs})),n.d(e,"autoType",(function(){return Js})),n.d(e,"easeLinear",(function(){return fr})),n.d(e,"easeQuad",(function(){return Ar})),n.d(e,"easeQuadIn",(function(){return pr})),n.d(e,"easeQuadOut",(function(){return dr})),n.d(e,"easeQuadInOut",(function(){return Ar})),n.d(e,"easeCubic",(function(){return vr})),n.d(e,"easeCubicIn",(function(){return gr})),n.d(e,"easeCubicOut",(function(){return mr})),n.d(e,"easeCubicInOut",(function(){return vr})),n.d(e,"easePoly",(function(){return br})),n.d(e,"easePolyIn",(function(){return yr})),n.d(e,"easePolyOut",(function(){return _r})),n.d(e,"easePolyInOut",(function(){return br})),n.d(e,"easeSin",(function(){return Br})),n.d(e,"easeSinIn",(function(){return xr})),n.d(e,"easeSinOut",(function(){return Cr})),n.d(e,"easeSinInOut",(function(){return Br})),n.d(e,"easeExp",(function(){return Or})),n.d(e,"easeExpIn",(function(){return Ir})),n.d(e,"easeExpOut",(function(){return Sr})),n.d(e,"easeExpInOut",(function(){return Or})),n.d(e,"easeCircle",(function(){return Nr})),n.d(e,"easeCircleIn",(function(){return Mr})),n.d(e,"easeCircleOut",(function(){return Tr})),n.d(e,"easeCircleInOut",(function(){return Nr})),n.d(e,"easeBounce",(function(){return Kr})),n.d(e,"easeBounceIn",(function(){return zr})),n.d(e,"easeBounceOut",(function(){return Kr})),n.d(e,"easeBounceInOut",(function(){return Gr})),n.d(e,"easeBack",(function(){return Yr})),n.d(e,"easeBackIn",(function(){return qr})),n.d(e,"easeBackOut",(function(){return Wr})),n.d(e,"easeBackInOut",(function(){return Yr})),n.d(e,"easeElastic",(function(){return Jr})),n.d(e,"easeElasticIn",(function(){return Vr})),n.d(e,"easeElasticOut",(function(){return Jr})),n.d(e,"easeElasticInOut",(function(){return Zr})),n.d(e,"blob",(function(){return $s})),n.d(e,"buffer",(function(){return ea})),n.d(e,"dsv",(function(){return oa})),n.d(e,"csv",(function(){return sa})),n.d(e,"tsv",(function(){return aa})),n.d(e,"image",(function(){return la})),n.d(e,"json",(function(){return ca})),n.d(e,"text",(function(){return ia})),n.d(e,"xml",(function(){return fa})),n.d(e,"html",(function(){return pa})),n.d(e,"svg",(function(){return da})),n.d(e,"forceCenter",(function(){return Aa})),n.d(e,"forceCollide",(function(){return Sa})),n.d(e,"forceLink",(function(){return Ta})),n.d(e,"forceManyBody",(function(){return Da})),n.d(e,"forceRadial",(function(){return Pa})),n.d(e,"forceSimulation",(function(){return Ra})),n.d(e,"forceX",(function(){return Ua})),n.d(e,"forceY",(function(){return Qa})),n.d(e,"formatDefaultLocale",(function(){return nl})),n.d(e,"format",(function(){return Ya})),n.d(e,"formatPrefix",(function(){return Xa})),n.d(e,"formatLocale",(function(){return el})),n.d(e,"formatSpecifier",(function(){return Ka})),n.d(e,"precisionFixed",(function(){return il})),n.d(e,"precisionPrefix",(function(){return rl})),n.d(e,"precisionRound",(function(){return ol})),n.d(e,"geoArea",(function(){return sl.c})),n.d(e,"geoBounds",(function(){return sl.h})),n.d(e,"geoCentroid",(function(){return sl.i})),n.d(e,"geoCircle",(function(){return sl.j})),n.d(e,"geoClipAntimeridian",(function(){return sl.k})),n.d(e,"geoClipCircle",(function(){return sl.l})),n.d(e,"geoClipExtent",(function(){return sl.m})),n.d(e,"geoClipRectangle",(function(){return sl.n})),n.d(e,"geoContains",(function(){return sl.u})),n.d(e,"geoDistance",(function(){return sl.v})),n.d(e,"geoGraticule",(function(){return sl.C})),n.d(e,"geoGraticule10",(function(){return sl.D})),n.d(e,"geoInterpolate",(function(){return sl.F})),n.d(e,"geoLength",(function(){return sl.G})),n.d(e,"geoPath",(function(){return sl.N})),n.d(e,"geoAlbers",(function(){return sl.a})),n.d(e,"geoAlbersUsa",(function(){return sl.b})),n.d(e,"geoAzimuthalEqualArea",(function(){return sl.d})),n.d(e,"geoAzimuthalEqualAreaRaw",(function(){return sl.e})),n.d(e,"geoAzimuthalEquidistant",(function(){return sl.f})),n.d(e,"geoAzimuthalEquidistantRaw",(function(){return sl.g})),n.d(e,"geoConicConformal",(function(){return sl.o})),n.d(e,"geoConicConformalRaw",(function(){return sl.p})),n.d(e,"geoConicEqualArea",(function(){return sl.q})),n.d(e,"geoConicEqualAreaRaw",(function(){return sl.r})),n.d(e,"geoConicEquidistant",(function(){return sl.s})),n.d(e,"geoConicEquidistantRaw",(function(){return sl.t})),n.d(e,"geoEqualEarth",(function(){return sl.w})),n.d(e,"geoEqualEarthRaw",(function(){return sl.x})),n.d(e,"geoEquirectangular",(function(){return sl.y})),n.d(e,"geoEquirectangularRaw",(function(){return sl.z})),n.d(e,"geoGnomonic",(function(){return sl.A})),n.d(e,"geoGnomonicRaw",(function(){return sl.B})),n.d(e,"geoIdentity",(function(){return sl.E})),n.d(e,"geoProjection",(function(){return sl.O})),n.d(e,"geoProjectionMutator",(function(){return sl.P})),n.d(e,"geoMercator",(function(){return sl.H})),n.d(e,"geoMercatorRaw",(function(){return sl.I})),n.d(e,"geoNaturalEarth1",(function(){return sl.J})),n.d(e,"geoNaturalEarth1Raw",(function(){return sl.K})),n.d(e,"geoOrthographic",(function(){return sl.L})),n.d(e,"geoOrthographicRaw",(function(){return sl.M})),n.d(e,"geoStereographic",(function(){return sl.R})),n.d(e,"geoStereographicRaw",(function(){return sl.S})),n.d(e,"geoTransverseMercator",(function(){return sl.V})),n.d(e,"geoTransverseMercatorRaw",(function(){return sl.W})),n.d(e,"geoRotation",(function(){return sl.Q})),n.d(e,"geoStream",(function(){return sl.T})),n.d(e,"geoTransform",(function(){return sl.U})),n.d(e,"cluster",(function(){return cl})),n.d(e,"hierarchy",(function(){return fl})),n.d(e,"pack",(function(){return Dl})),n.d(e,"packSiblings",(function(){return Tl})),n.d(e,"packEnclose",(function(){return vl})),n.d(e,"partition",(function(){return zl})),n.d(e,"stratify",(function(){return Xl})),n.d(e,"tree",(function(){return nu})),n.d(e,"treemap",(function(){return au})),n.d(e,"treemapBinary",(function(){return lu})),n.d(e,"treemapDice",(function(){return jl})),n.d(e,"treemapSlice",(function(){return iu})),n.d(e,"treemapSliceDice",(function(){return uu})),n.d(e,"treemapSquarify",(function(){return su})),n.d(e,"treemapResquarify",(function(){return cu})),n.d(e,"interpolate",(function(){return Ln})),n.d(e,"interpolateArray",(function(){return En})),n.d(e,"interpolateBasis",(function(){return fn})),n.d(e,"interpolateBasisClosed",(function(){return pn})),n.d(e,"interpolateDate",(function(){return xn})),n.d(e,"interpolateDiscrete",(function(){return Fn})),n.d(e,"interpolateHue",(function(){return Rn})),n.d(e,"interpolateNumber",(function(){return Cn})),n.d(e,"interpolateObject",(function(){return Bn})),n.d(e,"interpolateRound",(function(){return Dn})),n.d(e,"interpolateString",(function(){return kn})),n.d(e,"interpolateTransformCss",(function(){return jn})),n.d(e,"interpolateTransformSvg",(function(){return zn})),n.d(e,"interpolateZoom",(function(){return qn})),n.d(e,"interpolateRgb",(function(){return yn})),n.d(e,"interpolateRgbBasis",(function(){return bn})),n.d(e,"interpolateRgbBasisClosed",(function(){return wn})),n.d(e,"interpolateHsl",(function(){return Yn})),n.d(e,"interpolateHslLong",(function(){return Xn})),n.d(e,"interpolateLab",(function(){return Vn})),n.d(e,"interpolateHcl",(function(){return Zn})),n.d(e,"interpolateHclLong",(function(){return $n})),n.d(e,"interpolateCubehelix",(function(){return ei})),n.d(e,"interpolateCubehelixLong",(function(){return ni})),n.d(e,"piecewise",(function(){return ii})),n.d(e,"quantize",(function(){return si})),n.d(e,"path",(function(){return Go})),n.d(e,"polygonArea",(function(){return hu})),n.d(e,"polygonCentroid",(function(){return fu})),n.d(e,"polygonHull",(function(){return gu})),n.d(e,"polygonContains",(function(){return mu})),n.d(e,"polygonLength",(function(){return vu})),n.d(e,"quadtree",(function(){return wa})),n.d(e,"randomUniform",(function(){return _u})),n.d(e,"randomNormal",(function(){return bu})),n.d(e,"randomLogNormal",(function(){return wu})),n.d(e,"randomBates",(function(){return xu})),n.d(e,"randomIrwinHall",(function(){return Eu})),n.d(e,"randomExponential",(function(){return Cu})),n.d(e,"scaleBand",(function(){return ku})),n.d(e,"scalePoint",(function(){return Lu})),n.d(e,"scaleIdentity",(function(){return Xu})),n.d(e,"scaleLinear",(function(){return Yu})),n.d(e,"scaleLog",(function(){return rc})),n.d(e,"scaleSymlog",(function(){return lc})),n.d(e,"scaleOrdinal",(function(){return Nu})),n.d(e,"scaleImplicit",(function(){return Tu})),n.d(e,"scalePow",(function(){return pc})),n.d(e,"scaleSqrt",(function(){return dc})),n.d(e,"scaleQuantile",(function(){return Ac})),n.d(e,"scaleQuantize",(function(){return gc})),n.d(e,"scaleThreshold",(function(){return mc})),n.d(e,"scaleTime",(function(){return dp})),n.d(e,"scaleUtc",(function(){return Ap})),n.d(e,"scaleSequential",(function(){return vp})),n.d(e,"scaleSequentialLog",(function(){return yp})),n.d(e,"scaleSequentialPow",(function(){return bp})),n.d(e,"scaleSequentialSqrt",(function(){return wp})),n.d(e,"scaleSequentialSymlog",(function(){return _p})),n.d(e,"scaleSequentialQuantile",(function(){return Ep})),n.d(e,"scaleDiverging",(function(){return Cp})),n.d(e,"scaleDivergingLog",(function(){return Bp})),n.d(e,"scaleDivergingPow",(function(){return Sp})),n.d(e,"scaleDivergingSqrt",(function(){return Op})),n.d(e,"scaleDivergingSymlog",(function(){return Ip})),n.d(e,"tickFormat",(function(){return qu})),n.d(e,"schemeCategory10",(function(){return Tp})),n.d(e,"schemeAccent",(function(){return Np})),n.d(e,"schemeDark2",(function(){return kp})),n.d(e,"schemePaired",(function(){return Lp})),n.d(e,"schemePastel1",(function(){return Fp})),n.d(e,"schemePastel2",(function(){return Rp})),n.d(e,"schemeSet1",(function(){return Dp})),n.d(e,"schemeSet2",(function(){return Pp})),n.d(e,"schemeSet3",(function(){return Up})),n.d(e,"interpolateBrBG",(function(){return jp})),n.d(e,"schemeBrBG",(function(){return Hp})),n.d(e,"interpolatePRGn",(function(){return Kp})),n.d(e,"schemePRGn",(function(){return zp})),n.d(e,"interpolatePiYG",(function(){return qp})),n.d(e,"schemePiYG",(function(){return Gp})),n.d(e,"interpolatePuOr",(function(){return Yp})),n.d(e,"schemePuOr",(function(){return Wp})),n.d(e,"interpolateRdBu",(function(){return Vp})),n.d(e,"schemeRdBu",(function(){return Xp})),n.d(e,"interpolateRdGy",(function(){return Zp})),n.d(e,"schemeRdGy",(function(){return Jp})),n.d(e,"interpolateRdYlBu",(function(){return td})),n.d(e,"schemeRdYlBu",(function(){return $p})),n.d(e,"interpolateRdYlGn",(function(){return nd})),n.d(e,"schemeRdYlGn",(function(){return ed})),n.d(e,"interpolateSpectral",(function(){return rd})),n.d(e,"schemeSpectral",(function(){return id})),n.d(e,"interpolateBuGn",(function(){return sd})),n.d(e,"schemeBuGn",(function(){return od})),n.d(e,"interpolateBuPu",(function(){return ld})),n.d(e,"schemeBuPu",(function(){return ad})),n.d(e,"interpolateGnBu",(function(){return cd})),n.d(e,"schemeGnBu",(function(){return ud})),n.d(e,"interpolateOrRd",(function(){return fd})),n.d(e,"schemeOrRd",(function(){return hd})),n.d(e,"interpolatePuBuGn",(function(){return dd})),n.d(e,"schemePuBuGn",(function(){return pd})),n.d(e,"interpolatePuBu",(function(){return gd})),n.d(e,"schemePuBu",(function(){return Ad})),n.d(e,"interpolatePuRd",(function(){return vd})),n.d(e,"schemePuRd",(function(){return md})),n.d(e,"interpolateRdPu",(function(){return _d})),n.d(e,"schemeRdPu",(function(){return yd})),n.d(e,"interpolateYlGnBu",(function(){return wd})),n.d(e,"schemeYlGnBu",(function(){return bd})),n.d(e,"interpolateYlGn",(function(){return xd})),n.d(e,"schemeYlGn",(function(){return Ed})),n.d(e,"interpolateYlOrBr",(function(){return Bd})),n.d(e,"schemeYlOrBr",(function(){return Cd})),n.d(e,"interpolateYlOrRd",(function(){return Sd})),n.d(e,"schemeYlOrRd",(function(){return Id})),n.d(e,"interpolateBlues",(function(){return Md})),n.d(e,"schemeBlues",(function(){return Od})),n.d(e,"interpolateGreens",(function(){return Nd})),n.d(e,"schemeGreens",(function(){return Td})),n.d(e,"interpolateGreys",(function(){return Ld})),n.d(e,"schemeGreys",(function(){return kd})),n.d(e,"interpolatePurples",(function(){return Rd})),n.d(e,"schemePurples",(function(){return Fd})),n.d(e,"interpolateReds",(function(){return Pd})),n.d(e,"schemeReds",(function(){return Dd})),n.d(e,"interpolateOranges",(function(){return Qd})),n.d(e,"schemeOranges",(function(){return Ud})),n.d(e,"interpolateCubehelixDefault",(function(){return Hd})),n.d(e,"interpolateRainbow",(function(){return Gd})),n.d(e,"interpolateWarm",(function(){return jd})),n.d(e,"interpolateCool",(function(){return zd})),n.d(e,"interpolateSinebow",(function(){return Xd})),n.d(e,"interpolateViridis",(function(){return Jd})),n.d(e,"interpolateMagma",(function(){return Zd})),n.d(e,"interpolateInferno",(function(){return $d})),n.d(e,"interpolatePlasma",(function(){return tA})),n.d(e,"create",(function(){return Ht})),n.d(e,"creator",(function(){return k})),n.d(e,"local",(function(){return zt})),n.d(e,"matcher",(function(){return P})),n.d(e,"mouse",(function(){return Wt})),n.d(e,"namespace",(function(){return M})),n.d(e,"namespaces",(function(){return O})),n.d(e,"clientPoint",(function(){return qt})),n.d(e,"select",(function(){return Qt})),n.d(e,"selectAll",(function(){return Yt})),n.d(e,"selection",(function(){return Ut})),n.d(e,"selector",(function(){return F})),n.d(e,"selectorAll",(function(){return D})),n.d(e,"style",(function(){return et})),n.d(e,"touch",(function(){return Xt})),n.d(e,"touches",(function(){return Vt})),n.d(e,"window",(function(){return J})),n.d(e,"event",(function(){return Bt})),n.d(e,"customEvent",(function(){return Nt})),n.d(e,"arc",(function(){return _A})),n.d(e,"area",(function(){return BA})),n.d(e,"line",(function(){return CA})),n.d(e,"pie",(function(){return OA})),n.d(e,"areaRadial",(function(){return FA})),n.d(e,"radialArea",(function(){return FA})),n.d(e,"lineRadial",(function(){return LA})),n.d(e,"radialLine",(function(){return LA})),n.d(e,"pointRadial",(function(){return RA})),n.d(e,"linkHorizontal",(function(){return KA})),n.d(e,"linkVertical",(function(){return GA})),n.d(e,"linkRadial",(function(){return qA})),n.d(e,"symbol",(function(){return cg})),n.d(e,"symbols",(function(){return ug})),n.d(e,"symbolCircle",(function(){return WA})),n.d(e,"symbolCross",(function(){return YA})),n.d(e,"symbolDiamond",(function(){return JA})),n.d(e,"symbolSquare",(function(){return ng})),n.d(e,"symbolStar",(function(){return eg})),n.d(e,"symbolTriangle",(function(){return rg})),n.d(e,"symbolWye",(function(){return lg})),n.d(e,"curveBasisClosed",(function(){return gg})),n.d(e,"curveBasisOpen",(function(){return vg})),n.d(e,"curveBasis",(function(){return dg})),n.d(e,"curveBundle",(function(){return _g})),n.d(e,"curveCardinalClosed",(function(){return Cg})),n.d(e,"curveCardinalOpen",(function(){return Ig})),n.d(e,"curveCardinal",(function(){return Eg})),n.d(e,"curveCatmullRomClosed",(function(){return Ng})),n.d(e,"curveCatmullRomOpen",(function(){return Lg})),n.d(e,"curveCatmullRom",(function(){return Mg})),n.d(e,"curveLinearClosed",(function(){return Rg})),n.d(e,"curveLinear",(function(){return wA})),n.d(e,"curveMonotoneX",(function(){return Kg})),n.d(e,"curveMonotoneY",(function(){return Gg})),n.d(e,"curveNatural",(function(){return Yg})),n.d(e,"curveStep",(function(){return Vg})),n.d(e,"curveStepAfter",(function(){return Zg})),n.d(e,"curveStepBefore",(function(){return Jg})),n.d(e,"stack",(function(){return nm})),n.d(e,"stackOffsetExpand",(function(){return im})),n.d(e,"stackOffsetDiverging",(function(){return rm})),n.d(e,"stackOffsetNone",(function(){return $g})),n.d(e,"stackOffsetSilhouette",(function(){return om})),n.d(e,"stackOffsetWiggle",(function(){return sm})),n.d(e,"stackOrderAppearance",(function(){return am})),n.d(e,"stackOrderAscending",(function(){return um})),n.d(e,"stackOrderDescending",(function(){return hm})),n.d(e,"stackOrderInsideOut",(function(){return fm})),n.d(e,"stackOrderNone",(function(){return tm})),n.d(e,"stackOrderReverse",(function(){return pm})),n.d(e,"timeInterval",(function(){return _c})),n.d(e,"timeMillisecond",(function(){return wc})),n.d(e,"timeMilliseconds",(function(){return Ec})),n.d(e,"utcMillisecond",(function(){return wc})),n.d(e,"utcMilliseconds",(function(){return Ec})),n.d(e,"timeSecond",(function(){return Ic})),n.d(e,"timeSeconds",(function(){return Sc})),n.d(e,"utcSecond",(function(){return Ic})),n.d(e,"utcSeconds",(function(){return Sc})),n.d(e,"timeMinute",(function(){return Mc})),n.d(e,"timeMinutes",(function(){return Tc})),n.d(e,"timeHour",(function(){return kc})),n.d(e,"timeHours",(function(){return Lc})),n.d(e,"timeDay",(function(){return Rc})),n.d(e,"timeDays",(function(){return Dc})),n.d(e,"timeWeek",(function(){return Uc})),n.d(e,"timeWeeks",(function(){return qc})),n.d(e,"timeSunday",(function(){return Uc})),n.d(e,"timeSundays",(function(){return qc})),n.d(e,"timeMonday",(function(){return Qc})),n.d(e,"timeMondays",(function(){return Wc})),n.d(e,"timeTuesday",(function(){return Hc})),n.d(e,"timeTuesdays",(function(){return Yc})),n.d(e,"timeWednesday",(function(){return jc})),n.d(e,"timeWednesdays",(function(){return Xc})),n.d(e,"timeThursday",(function(){return zc})),n.d(e,"timeThursdays",(function(){return Vc})),n.d(e,"timeFriday",(function(){return Kc})),n.d(e,"timeFridays",(function(){return Jc})),n.d(e,"timeSaturday",(function(){return Gc})),n.d(e,"timeSaturdays",(function(){return Zc})),n.d(e,"timeMonth",(function(){return th})),n.d(e,"timeMonths",(function(){return eh})),n.d(e,"timeYear",(function(){return ih})),n.d(e,"timeYears",(function(){return rh})),n.d(e,"utcMinute",(function(){return sh})),n.d(e,"utcMinutes",(function(){return ah})),n.d(e,"utcHour",(function(){return uh})),n.d(e,"utcHours",(function(){return ch})),n.d(e,"utcDay",(function(){return fh})),n.d(e,"utcDays",(function(){return ph})),n.d(e,"utcWeek",(function(){return Ah})),n.d(e,"utcWeeks",(function(){return wh})),n.d(e,"utcSunday",(function(){return Ah})),n.d(e,"utcSundays",(function(){return wh})),n.d(e,"utcMonday",(function(){return gh})),n.d(e,"utcMondays",(function(){return Eh})),n.d(e,"utcTuesday",(function(){return mh})),n.d(e,"utcTuesdays",(function(){return xh})),n.d(e,"utcWednesday",(function(){return vh})),n.d(e,"utcWednesdays",(function(){return Ch})),n.d(e,"utcThursday",(function(){return yh})),n.d(e,"utcThursdays",(function(){return Bh})),n.d(e,"utcFriday",(function(){return _h})),n.d(e,"utcFridays",(function(){return Ih})),n.d(e,"utcSaturday",(function(){return bh})),n.d(e,"utcSaturdays",(function(){return Sh})),n.d(e,"utcMonth",(function(){return Mh})),n.d(e,"utcMonths",(function(){return Th})),n.d(e,"utcYear",(function(){return kh})),n.d(e,"utcYears",(function(){return Lh})),n.d(e,"timeFormatDefaultLocale",(function(){return ep})),n.d(e,"timeFormat",(function(){return Qh})),n.d(e,"timeParse",(function(){return Hh})),n.d(e,"utcFormat",(function(){return jh})),n.d(e,"utcParse",(function(){return zh})),n.d(e,"timeFormatLocale",(function(){return Ph})),n.d(e,"isoFormat",(function(){return np})),n.d(e,"isoParse",(function(){return ip})),n.d(e,"now",(function(){return gi})),n.d(e,"timer",(function(){return yi})),n.d(e,"timerFlush",(function(){return _i})),n.d(e,"timeout",(function(){return xi})),n.d(e,"interval",(function(){return Ci})),n.d(e,"transition",(function(){return ur})),n.d(e,"active",(function(){return no})),n.d(e,"interrupt",(function(){return Ui})),n.d(e,"voronoi",(function(){return Zm})),n.d(e,"zoom",(function(){return fv})),n.d(e,"zoomTransform",(function(){return iv})),n.d(e,"zoomIdentity",(function(){return nv}))},function(t,e,n){"use strict";var i=n(4),r=function(t){function e(e){var n="Assertion failed. See https://openlayers.org/en/"+("latest"===i.a?i.a:"v"+i.a.split("-")[0])+"/doc/errors/#"+e+" for details.";t.call(this,n),this.code=e,this.name="AssertionError",this.message=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);e.a=r},function(t,e,n){"use strict";var i=n(16),r=n(59),o=n(8),s=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(o.a.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t){var e=this.entries_[t];return Object(i.a)(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return Object(i.a)(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){Object(i.a)(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(r.a);e.a=s},function(t,e,n){"use strict";var i=n(4),r=n(18),o=n(1),s=n(48),a=n(10),l=n(29),u=n(12),c=Object(u.c)(),h=function(t){function e(){t.call(this),this.extent_=Object(o.j)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return Object(i.b)()},e.prototype.closestPointXY=function(t,e,n,r){return Object(i.b)()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(i.b)()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(o.I)(this.extent_,t)},e.prototype.rotate=function(t,e){Object(i.b)()},e.prototype.scale=function(t,e,n){Object(i.b)()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(i.b)()},e.prototype.getType=function(){return Object(i.b)()},e.prototype.applyTransform=function(t){Object(i.b)()},e.prototype.intersectsExtent=function(t){return Object(i.b)()},e.prototype.translate=function(t,e){Object(i.b)()},e.prototype.transform=function(t,e){var n=Object(a.h)(t),i=n.getUnits()==l.b.TILE_PIXELS?function(t,i,r){var l=n.getExtent(),h=n.getWorldExtent(),f=Object(o.A)(h)/Object(o.A)(l);return Object(u.b)(c,h[0],h[3],f,-f,0,0,0),Object(s.c)(t,0,t.length,r,c,i),Object(a.j)(n,e)(t,i,r)}:Object(a.j)(n,e);return this.applyTransform(i),this},e}(r.a);e.a=h},function(t,e,n){"use strict";e.a={POINT:"point",LINE:"line"}},function(t,e,n){"use strict";function i(t,e,n,i,r,o){for(var s,a=[t[e],t[e+1]],l=[];e+i<n;e+=i){if(l[0]=t[e+i],l[1]=t[e+i+1],s=r.call(o,a,l))return s;a[0]=l[0],a[1]=l[1]}return!1}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function i(t,e,n,i){for(var r=t[e],o=t[e+1],s=0,a=e+i;a<n;a+=i){var l=t[a],u=t[a+1];s+=Math.sqrt((l-r)*(l-r)+(u-o)*(u-o)),r=l,o=u}return s}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s}));var i=n(15),r=n(63);function o(t,e,n,o,s,a,l){for(var u,c,h,f,p,d,A,g=s[a+1],m=[],v=0,y=n.length;v<y;++v){var _=n[v];for(f=t[_-o],d=t[_-o+1],u=e;u<_;u+=o)p=t[u],A=t[u+1],(g<=d&&A<=g||d<=g&&g<=A)&&(h=(g-d)/(A-d)*(p-f)+f,m.push(h)),f=p,d=A}var b=NaN,w=-1/0;for(m.sort(i.g),f=m[0],u=1,c=m.length;u<c;++u){p=m[u];var E=Math.abs(p-f);E>w&&(h=(f+p)/2,Object(r.c)(t,e,n,o,h,g)&&(b=h,w=E)),f=p}return isNaN(b)&&(b=s[a]),l?(l.push(b,g,w),l):[b,g,w]}function s(t,e,n,i,r){for(var s=[],a=0,l=n.length;a<l;++a){var u=n[a];s=o(t,e,u,i,r,2*a,s),e=u[u.length-1]}return s}},function(t,e,n){"use strict";var i=function(){};i.prototype.drawCustom=function(t,e,n){},i.prototype.drawGeometry=function(t){},i.prototype.setStyle=function(t){},i.prototype.drawCircle=function(t,e){},i.prototype.drawFeature=function(t,e){},i.prototype.drawGeometryCollection=function(t,e){},i.prototype.drawLineString=function(t,e){},i.prototype.drawMultiLineString=function(t,e){},i.prototype.drawMultiPoint=function(t,e){},i.prototype.drawMultiPolygon=function(t,e){},i.prototype.drawPoint=function(t,e){},i.prototype.drawPolygon=function(t,e){},i.prototype.drawText=function(t,e){},i.prototype.setFillStrokeStyle=function(t,e){},i.prototype.setImageStyle=function(t,e){},i.prototype.setTextStyle=function(t,e){},e.a=i},function(t,e,n){"use strict";e.a={IMAGE:"image",VECTOR:"vector"}},function(t,e,n){"use strict";var i=n(4),r=n(18),o=n(10),s=n(61),a=function(t){function e(e){t.call(this),this.projection_=Object(o.h)(e.projection),this.attributions_=l(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:s.a.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return Object(i.b)()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=l(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(r.a);function l(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}e.a=a},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var i=n(10),r=n(67),o=n(82);function s(t){var e,n,s=Object.keys(t.defs),a=s.length;for(e=0;e<a;++e){var l=s[e];if(!Object(i.h)(l)){var u=t.defs(l);Object(i.e)(new o.a({code:l,axisOrientation:u.axis,metersPerUnit:u.to_meter,units:u.units}))}}for(e=0;e<a;++e){var c=s[e],h=Object(i.h)(c);for(n=0;n<a;++n){var f=s[n],p=Object(i.h)(f);if(!Object(r.c)(c,f))if(t.defs[c]===t.defs[f])Object(i.d)([h,p]);else{var d=t(c,f);Object(i.c)(h,p,d.forward,d.inverse)}}}}},function(t,e,n){"use strict";var i=function(t){function e(e){var n=e||{};t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,atlasManager:n.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(n(146).a);e.a=i},function(t,e,n){
/*!
 * html2canvas 1.0.0-rc.3 <https://html2canvas.hertzen.com>
 * Copyright (c) 2019 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
t.exports=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};function e(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}var n=function(){return(n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function i(t,e,n,i){return new(n||(n=Promise))((function(r,o){function s(t){try{l(i.next(t))}catch(t){o(t)}}function a(t){try{l(i.throw(t))}catch(t){o(t)}}function l(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(s,a)}l((i=i.apply(t,e||[])).next())}))}function r(t,e){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}for(var o=function(){function t(t,e,n,i){this.left=t,this.top=e,this.width=n,this.height=i}return t.prototype.add=function(e,n,i,r){return new t(this.left+e,this.top+n,this.width+i,this.height+r)},t.fromClientRect=function(e){return new t(e.left,e.top,e.width,e.height)},t}(),s=function(t){return o.fromClientRect(t.getBoundingClientRect())},a=function(t){for(var e=[],n=0,i=t.length;n<i;){var r=t.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&r)<<10)+(1023&o)+65536):(e.push(r),n--)}else e.push(r)}return e},l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var i=[],r=-1,o="";++r<n;){var s=t[r];s<=65535?i.push(s):(s-=65536,i.push(55296+(s>>10),s%1024+56320)),(r+1===n||i.length>16384)&&(o+=String.fromCharCode.apply(String,i),i.length=0)}return o},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="undefined"==typeof Uint8Array?[]:new Uint8Array(256),h=0;h<u.length;h++)c[u.charCodeAt(h)]=h;var f,p=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},d=function(){function t(t,e,n,i,r,o){this.initialValue=t,this.errorValue=e,this.highStart=n,this.highValueIndex=i,this.index=r,this.data=o}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),A=10,g=13,m=15,v=17,y=18,_=19,b=20,w=21,E=22,x=24,C=25,B=26,I=27,S=28,O=30,M=32,T=33,N=34,k=35,L=37,F=38,R=39,D=40,P=42,U="!",Q=function(t){var e,n,i,r=function(t){var e,n,i,r,o,s=.75*t.length,a=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),h=Array.isArray(u)?u:new Uint8Array(u);for(e=0;e<a;e+=4)n=c[t.charCodeAt(e)],i=c[t.charCodeAt(e+1)],r=c[t.charCodeAt(e+2)],o=c[t.charCodeAt(e+3)],h[l++]=n<<2|i>>4,h[l++]=(15&i)<<4|r>>2,h[l++]=(3&r)<<6|63&o;return u}(t),o=Array.isArray(r)?function(t){for(var e=t.length,n=[],i=0;i<e;i+=4)n.push(t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i]);return n}(r):new Uint32Array(r),s=Array.isArray(r)?function(t){for(var e=t.length,n=[],i=0;i<e;i+=2)n.push(t[i+1]<<8|t[i]);return n}(r):new Uint16Array(r),a=p(s,12,o[4]/2),l=2===o[5]?p(s,(24+o[4])/2):(e=o,n=Math.ceil((24+o[4])/4),e.slice?e.slice(n,i):new Uint32Array(Array.prototype.slice.call(e,n,i)));return new d(o[0],o[1],o[2],o[3],a,l)}("KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"),H=[O,36],j=[1,2,3,5],z=[A,8],K=[I,B],G=j.concat(z),q=[F,R,D,N,k],W=[m,g],Y=function(t,e,n,i){var r=i[n];if(Array.isArray(t)?-1!==t.indexOf(r):t===r)for(var o=n;o<=i.length;){if((l=i[++o])===e)return!0;if(l!==A)break}if(r===A)for(o=n;o>0;){var s=i[--o];if(Array.isArray(t)?-1!==t.indexOf(s):t===s)for(var a=n;a<=i.length;){var l;if((l=i[++a])===e)return!0;if(l!==A)break}if(s!==A)break}return!1},X=function(t,e){for(var n=t;n>=0;){var i=e[n];if(i!==A)return i;n--}return 0},V=function(t,e,n,i,r){if(0===n[i])return"×";var o=i-1;if(Array.isArray(r)&&!0===r[o])return"×";var s=o-1,a=o+1,l=e[o],u=s>=0?e[s]:0,c=e[a];if(2===l&&3===c)return"×";if(-1!==j.indexOf(l))return U;if(-1!==j.indexOf(c))return"×";if(-1!==z.indexOf(c))return"×";if(8===X(o,e))return"÷";if(11===Q.get(t[o])&&(c===L||c===M||c===T))return"×";if(7===l||7===c)return"×";if(9===l)return"×";if(-1===[A,g,m].indexOf(l)&&9===c)return"×";if(-1!==[v,y,_,x,S].indexOf(c))return"×";if(X(o,e)===E)return"×";if(Y(23,E,o,e))return"×";if(Y([v,y],w,o,e))return"×";if(Y(12,12,o,e))return"×";if(l===A)return"÷";if(23===l||23===c)return"×";if(16===c||16===l)return"÷";if(-1!==[g,m,w].indexOf(c)||14===l)return"×";if(36===u&&-1!==W.indexOf(l))return"×";if(l===S&&36===c)return"×";if(c===b&&-1!==H.concat(b,_,C,L,M,T).indexOf(l))return"×";if(-1!==H.indexOf(c)&&l===C||-1!==H.indexOf(l)&&c===C)return"×";if(l===I&&-1!==[L,M,T].indexOf(c)||-1!==[L,M,T].indexOf(l)&&c===B)return"×";if(-1!==H.indexOf(l)&&-1!==K.indexOf(c)||-1!==K.indexOf(l)&&-1!==H.indexOf(c))return"×";if(-1!==[I,B].indexOf(l)&&(c===C||-1!==[E,m].indexOf(c)&&e[a+1]===C)||-1!==[E,m].indexOf(l)&&c===C||l===C&&-1!==[C,S,x].indexOf(c))return"×";if(-1!==[C,S,x,v,y].indexOf(c))for(var h=o;h>=0;){if((f=e[h])===C)return"×";if(-1===[S,x].indexOf(f))break;h--}if(-1!==[I,B].indexOf(c))for(h=-1!==[v,y].indexOf(l)?s:o;h>=0;){var f;if((f=e[h])===C)return"×";if(-1===[S,x].indexOf(f))break;h--}if(F===l&&-1!==[F,R,N,k].indexOf(c)||-1!==[R,N].indexOf(l)&&-1!==[R,D].indexOf(c)||-1!==[D,k].indexOf(l)&&c===D)return"×";if(-1!==q.indexOf(l)&&-1!==[b,B].indexOf(c)||-1!==q.indexOf(c)&&l===I)return"×";if(-1!==H.indexOf(l)&&-1!==H.indexOf(c))return"×";if(l===x&&-1!==H.indexOf(c))return"×";if(-1!==H.concat(C).indexOf(l)&&c===E||-1!==H.concat(C).indexOf(c)&&l===y)return"×";if(41===l&&41===c){for(var p=n[o],d=1;p>0&&41===e[--p];)d++;if(d%2!=0)return"×"}return l===M&&c===T?"×":"÷"},J=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=function(t,e){void 0===e&&(e="strict");var n=[],i=[],r=[];return t.forEach((function(t,o){var s=Q.get(t);if(s>50?(r.push(!0),s-=50):r.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return i.push(o),n.push(16);if(4===s||11===s){if(0===o)return i.push(o),n.push(O);var a=n[o-1];return-1===G.indexOf(a)?(i.push(i[o-1]),n.push(a)):(i.push(o),n.push(O))}return i.push(o),31===s?n.push("strict"===e?w:L):s===P?n.push(O):29===s?n.push(O):43===s?t>=131072&&t<=196605||t>=196608&&t<=262141?n.push(L):n.push(O):void n.push(s)})),[i,n,r]}(t,e.lineBreak),i=n[0],r=n[1],o=n[2];return"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(r=r.map((function(t){return-1!==[C,O,P].indexOf(t)?L:t}))),[i,r,"keep-all"===e.wordBreak?o.map((function(e,n){return e&&t[n]>=19968&&t[n]<=40959})):void 0]},Z=function(){function t(t,e,n,i){this.codePoints=t,this.required=e===U,this.start=n,this.end=i}return t.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},t}();!function(t){t[t.STRING_TOKEN=0]="STRING_TOKEN",t[t.BAD_STRING_TOKEN=1]="BAD_STRING_TOKEN",t[t.LEFT_PARENTHESIS_TOKEN=2]="LEFT_PARENTHESIS_TOKEN",t[t.RIGHT_PARENTHESIS_TOKEN=3]="RIGHT_PARENTHESIS_TOKEN",t[t.COMMA_TOKEN=4]="COMMA_TOKEN",t[t.HASH_TOKEN=5]="HASH_TOKEN",t[t.DELIM_TOKEN=6]="DELIM_TOKEN",t[t.AT_KEYWORD_TOKEN=7]="AT_KEYWORD_TOKEN",t[t.PREFIX_MATCH_TOKEN=8]="PREFIX_MATCH_TOKEN",t[t.DASH_MATCH_TOKEN=9]="DASH_MATCH_TOKEN",t[t.INCLUDE_MATCH_TOKEN=10]="INCLUDE_MATCH_TOKEN",t[t.LEFT_CURLY_BRACKET_TOKEN=11]="LEFT_CURLY_BRACKET_TOKEN",t[t.RIGHT_CURLY_BRACKET_TOKEN=12]="RIGHT_CURLY_BRACKET_TOKEN",t[t.SUFFIX_MATCH_TOKEN=13]="SUFFIX_MATCH_TOKEN",t[t.SUBSTRING_MATCH_TOKEN=14]="SUBSTRING_MATCH_TOKEN",t[t.DIMENSION_TOKEN=15]="DIMENSION_TOKEN",t[t.PERCENTAGE_TOKEN=16]="PERCENTAGE_TOKEN",t[t.NUMBER_TOKEN=17]="NUMBER_TOKEN",t[t.FUNCTION=18]="FUNCTION",t[t.FUNCTION_TOKEN=19]="FUNCTION_TOKEN",t[t.IDENT_TOKEN=20]="IDENT_TOKEN",t[t.COLUMN_TOKEN=21]="COLUMN_TOKEN",t[t.URL_TOKEN=22]="URL_TOKEN",t[t.BAD_URL_TOKEN=23]="BAD_URL_TOKEN",t[t.CDC_TOKEN=24]="CDC_TOKEN",t[t.CDO_TOKEN=25]="CDO_TOKEN",t[t.COLON_TOKEN=26]="COLON_TOKEN",t[t.SEMICOLON_TOKEN=27]="SEMICOLON_TOKEN",t[t.LEFT_SQUARE_BRACKET_TOKEN=28]="LEFT_SQUARE_BRACKET_TOKEN",t[t.RIGHT_SQUARE_BRACKET_TOKEN=29]="RIGHT_SQUARE_BRACKET_TOKEN",t[t.UNICODE_RANGE_TOKEN=30]="UNICODE_RANGE_TOKEN",t[t.WHITESPACE_TOKEN=31]="WHITESPACE_TOKEN",t[t.EOF_TOKEN=32]="EOF_TOKEN"}(f||(f={}));var $=function(t){return t>=48&&t<=57},tt=function(t){return $(t)||t>=65&&t<=70||t>=97&&t<=102},et=function(t){return 10===t||9===t||32===t},nt=function(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||function(t){return t>=128}(t)||95===t},it=function(t){return nt(t)||$(t)||45===t},rt=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},ot=function(t,e){return 92===t&&10!==e},st=function(t,e,n){return 45===t?nt(e)||ot(e,n):!!nt(t)||!(92!==t||!ot(t,e))},at=function(t,e,n){return 43===t||45===t?!!$(e)||46===e&&$(n):$(46===t?e:t)},lt=function(t){var e=0,n=1;43!==t[e]&&45!==t[e]||(45===t[e]&&(n=-1),e++);for(var i=[];$(t[e]);)i.push(t[e++]);var r=i.length?parseInt(l.apply(void 0,i),10):0;46===t[e]&&e++;for(var o=[];$(t[e]);)o.push(t[e++]);var s=o.length,a=s?parseInt(l.apply(void 0,o),10):0;69!==t[e]&&101!==t[e]||e++;var u=1;43!==t[e]&&45!==t[e]||(45===t[e]&&(u=-1),e++);for(var c=[];$(t[e]);)c.push(t[e++]);var h=c.length?parseInt(l.apply(void 0,c),10):0;return n*(r+a*Math.pow(10,-s))*Math.pow(10,u*h)},ut={type:f.LEFT_PARENTHESIS_TOKEN},ct={type:f.RIGHT_PARENTHESIS_TOKEN},ht={type:f.COMMA_TOKEN},ft={type:f.SUFFIX_MATCH_TOKEN},pt={type:f.PREFIX_MATCH_TOKEN},dt={type:f.COLUMN_TOKEN},At={type:f.DASH_MATCH_TOKEN},gt={type:f.INCLUDE_MATCH_TOKEN},mt={type:f.LEFT_CURLY_BRACKET_TOKEN},vt={type:f.RIGHT_CURLY_BRACKET_TOKEN},yt={type:f.SUBSTRING_MATCH_TOKEN},_t={type:f.BAD_URL_TOKEN},bt={type:f.BAD_STRING_TOKEN},wt={type:f.CDO_TOKEN},Et={type:f.CDC_TOKEN},xt={type:f.COLON_TOKEN},Ct={type:f.SEMICOLON_TOKEN},Bt={type:f.LEFT_SQUARE_BRACKET_TOKEN},It={type:f.RIGHT_SQUARE_BRACKET_TOKEN},St={type:f.WHITESPACE_TOKEN},Ot={type:f.EOF_TOKEN},Mt=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(a(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==Ot;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);if(it(e)||ot(n,i)){var r=st(e,n,i)?2:1,o=this.consumeName();return{type:f.HASH_TOKEN,value:o,flags:r}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),ft;break;case 39:return this.consumeStringToken(39);case 40:return ut;case 41:return ct;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),yt;break;case 43:if(at(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return ht;case 45:var s=t,a=this.peekCodePoint(0),u=this.peekCodePoint(1);if(at(s,a,u))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(st(s,a,u))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(45===a&&62===u)return this.consumeCodePoint(),this.consumeCodePoint(),Et;break;case 46:if(at(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(42===c&&47===(c=this.consumeCodePoint()))return this.consumeToken();if(-1===c)return this.consumeToken()}break;case 58:return xt;case 59:return Ct;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),wt;break;case 64:var h=this.peekCodePoint(0),p=this.peekCodePoint(1),d=this.peekCodePoint(2);if(st(h,p,d))return o=this.consumeName(),{type:f.AT_KEYWORD_TOKEN,value:o};break;case 91:return Bt;case 92:if(ot(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return It;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),pt;break;case 123:return mt;case 125:return vt;case 117:case 85:var A=this.peekCodePoint(0),g=this.peekCodePoint(1);return 43!==A||!tt(g)&&63!==g||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),At;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),dt;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),gt;break;case-1:return Ot}return et(t)?(this.consumeWhiteSpace(),St):$(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):nt(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:f.DELIM_TOKEN,value:l(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();tt(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var n=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),n=!0;if(n){var i=parseInt(l.apply(void 0,t.map((function(t){return 63===t?48:t}))),16),r=parseInt(l.apply(void 0,t.map((function(t){return 63===t?70:t}))),16);return{type:f.UNICODE_RANGE_TOKEN,start:i,end:r}}var o=parseInt(l.apply(void 0,t),16);if(45===this.peekCodePoint(0)&&tt(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var s=[];tt(e)&&s.length<6;)s.push(e),e=this.consumeCodePoint();return r=parseInt(l.apply(void 0,s),16),{type:f.UNICODE_RANGE_TOKEN,start:o,end:r}}return{type:f.UNICODE_RANGE_TOKEN,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:f.FUNCTION_TOKEN,value:t}):{type:f.IDENT_TOKEN,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:f.URL_TOKEN,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===f.STRING_TOKEN&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:f.URL_TOKEN,value:n.value}):(this.consumeBadUrlRemnants(),_t)}for(;;){var i=this.consumeCodePoint();if(-1===i||41===i)return{type:f.URL_TOKEN,value:l.apply(void 0,t)};if(et(i))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:f.URL_TOKEN,value:l.apply(void 0,t)}):(this.consumeBadUrlRemnants(),_t);if(34===i||39===i||40===i||rt(i))return this.consumeBadUrlRemnants(),_t;if(92===i){if(!ot(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),_t;t.push(this.consumeEscapedCodePoint())}else t.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;et(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||-1===t)return;ot(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var n=Math.min(6e4,t);e+=l.apply(void 0,this._value.splice(0,n)),t-=n}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",n=0;;){var i=this._value[n];if(-1===i||void 0===i||i===t)return e+=this.consumeStringSlice(n),{type:f.STRING_TOKEN,value:e};if(10===i)return this._value.splice(0,n),bt;if(92===i){var r=this._value[n+1];-1!==r&&void 0!==r&&(10===r?(e+=this.consumeStringSlice(n),n=-1,this._value.shift()):ot(i,r)&&(e+=this.consumeStringSlice(n),e+=l(this.consumeEscapedCodePoint()),n=-1))}n++}},t.prototype.consumeNumber=function(){var t=[],e=4,n=this.peekCodePoint(0);for(43!==n&&45!==n||t.push(this.consumeCodePoint());$(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(46===n&&$(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;$(this.peekCodePoint(0));)t.push(this.consumeCodePoint());n=this.peekCodePoint(0),i=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((69===n||101===n)&&((43===i||45===i)&&$(r)||$(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;$(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[lt(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],n=t[1],i=this.peekCodePoint(0),r=this.peekCodePoint(1),o=this.peekCodePoint(2);if(st(i,r,o)){var s=this.consumeName();return{type:f.DIMENSION_TOKEN,number:e,flags:n,unit:s}}return 37===i?(this.consumeCodePoint(),{type:f.PERCENTAGE_TOKEN,number:e,flags:n}):{type:f.NUMBER_TOKEN,number:e,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(tt(t)){for(var e=l(t);tt(this.peekCodePoint(0))&&e.length<6;)e+=l(this.consumeCodePoint());et(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(e,16);return 0===n||function(t){return t>=55296&&t<=57343}(n)||n>1114111?65533:n}return-1===t?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(it(e))t+=l(e);else{if(!ot(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=l(this.consumeEscapedCodePoint())}}},t}(),Tt=function(){function t(t){this._tokens=t}return t.create=function(e){var n=new Mt;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===f.WHITESPACE_TOKEN;)t=this.consumeToken();if(t.type===f.EOF_TOKEN)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(t.type===f.WHITESPACE_TOKEN);if(t.type===f.EOF_TOKEN)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(e.type===f.EOF_TOKEN)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case f.LEFT_CURLY_BRACKET_TOKEN:case f.LEFT_SQUARE_BRACKET_TOKEN:case f.LEFT_PARENTHESIS_TOKEN:return this.consumeSimpleBlock(t.type);case f.FUNCTION_TOKEN:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},n=this.consumeToken();;){if(n.type===f.EOF_TOKEN||Qt(n,t))return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:f.FUNCTION};;){var n=this.consumeToken();if(n.type===f.EOF_TOKEN||n.type===f.RIGHT_PARENTHESIS_TOKEN)return e;this.reconsumeToken(n),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?Ot:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),Nt=function(t){return t.type===f.DIMENSION_TOKEN},kt=function(t){return t.type===f.NUMBER_TOKEN},Lt=function(t){return t.type===f.IDENT_TOKEN},Ft=function(t){return t.type===f.STRING_TOKEN},Rt=function(t,e){return Lt(t)&&t.value===e},Dt=function(t){return t.type!==f.WHITESPACE_TOKEN},Pt=function(t){return t.type!==f.WHITESPACE_TOKEN&&t.type!==f.COMMA_TOKEN},Ut=function(t){var e=[],n=[];return t.forEach((function(t){if(t.type===f.COMMA_TOKEN){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(n),void(n=[])}t.type!==f.WHITESPACE_TOKEN&&n.push(t)})),n.length&&e.push(n),e},Qt=function(t,e){return e===f.LEFT_CURLY_BRACKET_TOKEN&&t.type===f.RIGHT_CURLY_BRACKET_TOKEN||e===f.LEFT_SQUARE_BRACKET_TOKEN&&t.type===f.RIGHT_SQUARE_BRACKET_TOKEN||e===f.LEFT_PARENTHESIS_TOKEN&&t.type===f.RIGHT_PARENTHESIS_TOKEN},Ht=function(t){return t.type===f.NUMBER_TOKEN||t.type===f.DIMENSION_TOKEN},jt=function(t){return t.type===f.PERCENTAGE_TOKEN||Ht(t)},zt=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Kt={type:f.NUMBER_TOKEN,number:0,flags:4},Gt={type:f.PERCENTAGE_TOKEN,number:50,flags:4},qt={type:f.PERCENTAGE_TOKEN,number:100,flags:4},Wt=function(t,e,n){var i=t[0],r=t[1];return[Yt(i,e),Yt(void 0!==r?r:i,n)]},Yt=function(t,e){if(t.type===f.PERCENTAGE_TOKEN)return t.number/100*e;if(Nt(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},Xt=function(t){if(t.type===f.DIMENSION_TOKEN)switch(t.unit){case"deg":return Math.PI*t.number/180;case"grad":return Math.PI/200*t.number;case"rad":return t.number;case"turn":return 2*Math.PI*t.number}throw new Error("Unsupported angle type")},Vt=function(t){return t.type===f.DIMENSION_TOKEN&&("deg"===t.unit||"grad"===t.unit||"rad"===t.unit||"turn"===t.unit)},Jt=function(t){switch(t.filter(Lt).map((function(t){return t.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kt,Kt];case"to top":case"bottom":return Zt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kt,qt];case"to right":case"left":return Zt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[qt,qt];case"to bottom":case"top":return Zt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[qt,Kt];case"to left":case"right":return Zt(270)}return 0},Zt=function(t){return Math.PI*t/180},$t=function(t){if(t.type===f.FUNCTION){var e=ue[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return e(t.values)}if(t.type===f.HASH_TOKEN){if(3===t.value.length){var n=t.value.substring(0,1),i=t.value.substring(1,2),r=t.value.substring(2,3);return ne(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),1)}if(4===t.value.length){n=t.value.substring(0,1),i=t.value.substring(1,2),r=t.value.substring(2,3);var o=t.value.substring(3,4);return ne(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),parseInt(o+o,16)/255)}if(6===t.value.length)return n=t.value.substring(0,2),i=t.value.substring(2,4),r=t.value.substring(4,6),ne(parseInt(n,16),parseInt(i,16),parseInt(r,16),1);if(8===t.value.length)return n=t.value.substring(0,2),i=t.value.substring(2,4),r=t.value.substring(4,6),o=t.value.substring(6,8),ne(parseInt(n,16),parseInt(i,16),parseInt(r,16),parseInt(o,16)/255)}if(t.type===f.IDENT_TOKEN){var s=ce[t.value.toUpperCase()];if(void 0!==s)return s}return ce.TRANSPARENT},te=function(t){return 0==(255&t)},ee=function(t){var e=255&t,n=255&t>>8,i=255&t>>16,r=255&t>>24;return e<255?"rgba("+r+","+i+","+n+","+e/255+")":"rgb("+r+","+i+","+n+")"},ne=function(t,e,n,i){return(t<<24|e<<16|n<<8|Math.round(255*i)<<0)>>>0},ie=function(t,e){if(t.type===f.NUMBER_TOKEN)return t.number;if(t.type===f.PERCENTAGE_TOKEN){var n=3===e?1:255;return 3===e?t.number/100*n:Math.round(t.number/100*n)}return 0},re=function(t){var e=t.filter(Pt);if(3===e.length){var n=e.map(ie),i=n[0],r=n[1],o=n[2];return ne(i,r,o,1)}if(4===e.length){var s=e.map(ie),a=(i=s[0],r=s[1],o=s[2],s[3]);return ne(i,r,o,a)}return 0};function oe(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<.5?e:n<2/3?6*(e-t)*(2/3-n)+t:t}var se,ae,le=function(t){var e=t.filter(Pt),n=e[0],i=e[1],r=e[2],o=e[3],s=(n.type===f.NUMBER_TOKEN?Zt(n.number):Xt(n))/(2*Math.PI),a=jt(i)?i.number/100:0,l=jt(r)?r.number/100:0,u=void 0!==o&&jt(o)?Yt(o,1):1;if(0===a)return ne(255*l,255*l,255*l,1);var c=l<=.5?l*(a+1):l+a-l*a,h=2*l-c,p=oe(h,c,s+1/3),d=oe(h,c,s),A=oe(h,c,s-1/3);return ne(255*p,255*d,255*A,u)},ue={hsl:le,hsla:le,rgb:re,rgba:re},ce={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199};(function(t){t[t.VALUE=0]="VALUE",t[t.LIST=1]="LIST",t[t.IDENT_VALUE=2]="IDENT_VALUE",t[t.TYPE_VALUE=3]="TYPE_VALUE",t[t.TOKEN_VALUE=4]="TOKEN_VALUE"})(se||(se={})),function(t){t[t.BORDER_BOX=0]="BORDER_BOX",t[t.PADDING_BOX=1]="PADDING_BOX",t[t.CONTENT_BOX=2]="CONTENT_BOX"}(ae||(ae={}));var he,fe,pe,de={name:"background-clip",initialValue:"border-box",prefix:!1,type:se.LIST,parse:function(t){return t.map((function(t){if(Lt(t))switch(t.value){case"padding-box":return ae.PADDING_BOX;case"content-box":return ae.CONTENT_BOX}return ae.BORDER_BOX}))}},Ae={name:"background-color",initialValue:"transparent",prefix:!1,type:se.TYPE_VALUE,format:"color"},ge=function(t){var e=$t(t[0]),n=t[1];return n&&jt(n)?{color:e,stop:n}:{color:e,stop:null}},me=function(t,e){var n=t[0],i=t[t.length-1];null===n.stop&&(n.stop=Kt),null===i.stop&&(i.stop=qt);for(var r=[],o=0,s=0;s<t.length;s++){var a=t[s].stop;if(null!==a){var l=Yt(a,e);l>o?r.push(l):r.push(o),o=l}else r.push(null)}var u=null;for(s=0;s<r.length;s++){var c=r[s];if(null===c)null===u&&(u=s);else if(null!==u){for(var h=s-u,f=(c-r[u-1])/(h+1),p=1;p<=h;p++)r[u+p-1]=f*p;u=null}}return t.map((function(t,n){return{color:t.color,stop:Math.max(Math.min(1,r[n]/e),0)}}))},ve=function(t,e,n){var i="number"==typeof t?t:function(t,e,n){var i=e/2,r=n/2,o=Yt(t[0],e)-i,s=r-Yt(t[1],n);return(Math.atan2(s,o)+2*Math.PI)%(2*Math.PI)}(t,e,n),r=Math.abs(e*Math.sin(i))+Math.abs(n*Math.cos(i)),o=e/2,s=n/2,a=r/2,l=Math.sin(i-Math.PI/2)*a,u=Math.cos(i-Math.PI/2)*a;return[r,o-u,o+u,s-l,s+l]},ye=function(t,e){return Math.sqrt(t*t+e*e)},_e=function(t,e,n,i,r){return[[0,0],[0,e],[t,0],[t,e]].reduce((function(t,e){var o=e[0],s=e[1],a=ye(n-o,i-s);return(r?a<t.optimumDistance:a>t.optimumDistance)?{optimumCorner:e,optimumDistance:a}:t}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},be=function(t){var e=Zt(180),n=[];return Ut(t).forEach((function(t,i){if(0===i){var r=t[0];if(r.type===f.IDENT_TOKEN&&-1!==["top","left","right","bottom"].indexOf(r.value))return void(e=Jt(t));if(Vt(r))return void(e=(Xt(r)+Zt(270))%Zt(360))}var o=ge(t);n.push(o)})),{angle:e,stops:n,type:he.LINEAR_GRADIENT}},we=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},Ee=function(t,e,n,i,r){var o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",i.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(r),s},xe=function(t){return new Promise((function(e,n){var i=new Image;i.onload=function(){return e(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},Ce={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n);var i=e.getBoundingClientRect(),r=Math.round(i.height);if(t.body.removeChild(n),123===r)return!0}}return!1}(document);return Object.defineProperty(Ce,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,n=t.createElement("canvas"),i=n.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),n.toDataURL()}catch(t){return!1}return!0}(document);return Object.defineProperty(Ce,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?function(t){var e=t.createElement("canvas");e.width=100,e.height=100;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,100,100);var i=new Image,r=e.toDataURL();i.src=r;var o=Ee(100,100,0,0,i);return n.fillStyle="red",n.fillRect(0,0,100,100),xe(o).then((function(e){n.drawImage(e,0,0);var i=n.getImageData(0,0,100,100).data;n.fillStyle="red",n.fillRect(0,0,100,100);var o=t.createElement("div");return o.style.backgroundImage="url("+r+")",o.style.height="100px",we(i)?xe(Ee(100,100,0,0,o)):Promise.reject(!1)})).then((function(t){return n.drawImage(t,0,0),we(n.getImageData(0,0,100,100).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Ce,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=void 0!==(new Image).crossOrigin;return Object.defineProperty(Ce,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Ce,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ce,"SUPPORT_CORS_XHR",{value:t}),t}},Be=function(){function t(t){this.id=t,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,[this.id,this.getTime()+"ms"].concat(t)):this.info.apply(this,t)},t.prototype.getTime=function(){return Date.now()-this.start},t.create=function(e){t.instances[e]=new t(e)},t.destroy=function(e){delete t.instances[e]},t.getInstance=function(e){var n=t.instances[e];if(void 0===n)throw new Error("No logger instance found with id "+e);return n},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,[this.id,this.getTime()+"ms"].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,[this.id,this.getTime()+"ms"].concat(t)):this.info.apply(this,t)},t.instances={},t}(),Ie=function(){function t(){}return t.create=function(e,n){return t._caches[e]=new Se(e,n)},t.destroy=function(e){delete t._caches[e]},t.open=function(e){var n=t._caches[e];if(void 0!==n)return n;throw new Error('Cache with key "'+e+'" not found')},t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t.getInstance=function(){var e=t._current;if(null===e)throw new Error("No cache instance attached");return e},t.attachInstance=function(e){t._current=e},t.detachInstance=function(){t._current=null},t._caches={},t._origin="about:blank",t._current=null,t}(),Se=function(){function t(t,e){this.id=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:Fe(t)||Ne(t)?(this._cache[t]=this.loadImage(t),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return i(this,void 0,void 0,(function(){var e,n,i,o,s=this;return r(this,(function(r){switch(r.label){case 0:return e=Ie.isSameOrigin(t),n=!ke(t)&&!0===this._options.useCORS&&Ce.SUPPORT_CORS_IMAGES&&!e,i=!ke(t)&&!e&&"string"==typeof this._options.proxy&&Ce.SUPPORT_CORS_XHR&&!n,e||!1!==this._options.allowTaint||ke(t)||i||n?(o=t,i?[4,this.proxy(o)]:[3,2]):[2];case 1:o=r.sent(),r.label=2;case 2:return Be.getInstance(this.id).debug("Added image "+t.substring(0,256)),[4,new Promise((function(t,e){var i=new Image;i.onload=function(){return t(i)},i.onerror=e,(Le(o)||n)&&(i.crossOrigin="anonymous"),i.src=o,!0===i.complete&&setTimeout((function(){return t(i)}),500),s._options.imageTimeout>0&&setTimeout((function(){return e("Timed out ("+s._options.imageTimeout+"ms) loading image")}),s._options.imageTimeout)}))];case 3:return[2,r.sent()]}}))}))},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise((function(r,o){var s=Ce.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;if(a.onload=function(){if(200===a.status)if("text"===s)r(a.response);else{var t=new FileReader;t.addEventListener("load",(function(){return r(t.result)}),!1),t.addEventListener("error",(function(t){return o(t)}),!1),t.readAsDataURL(a.response)}else o("Failed to proxy resource "+i+" with status code "+a.status)},a.onerror=o,a.open("GET",n+"?url="+encodeURIComponent(t)+"&responseType="+s),"text"!==s&&a instanceof XMLHttpRequest&&(a.responseType=s),e._options.imageTimeout){var l=e._options.imageTimeout;a.timeout=l,a.ontimeout=function(){return o("Timed out ("+l+"ms) proxying "+i)}}a.send()}))},t}(),Oe=/^data:image\/svg\+xml/i,Me=/^data:image\/.*;base64,/i,Te=/^data:image\/.*/i,Ne=function(t){return Ce.SUPPORT_SVG_DRAWING||!Re(t)},ke=function(t){return Te.test(t)},Le=function(t){return Me.test(t)},Fe=function(t){return"blob"===t.substr(0,4)},Re=function(t){return"svg"===t.substr(-3).toLowerCase()||Oe.test(t)},De=function(t){var e=fe.CIRCLE,n=pe.FARTHEST_CORNER,i=[],r=[];return Ut(t).forEach((function(t,o){var s=!0;if(0===o?s=t.reduce((function(t,e){if(Lt(e))switch(e.value){case"center":return r.push(Gt),!1;case"top":case"left":return r.push(Kt),!1;case"right":case"bottom":return r.push(qt),!1}else if(jt(e)||Ht(e))return r.push(e),!1;return t}),s):1===o&&(s=t.reduce((function(t,i){if(Lt(i))switch(i.value){case"circle":return e=fe.CIRCLE,!1;case"ellipse":return e=fe.ELLIPSE,!1;case"contain":case"closest-side":return n=pe.CLOSEST_SIDE,!1;case"farthest-side":return n=pe.FARTHEST_SIDE,!1;case"closest-corner":return n=pe.CLOSEST_CORNER,!1;case"cover":case"farthest-corner":return n=pe.FARTHEST_CORNER,!1}else if(Ht(i)||jt(i))return Array.isArray(n)||(n=[]),n.push(i),!1;return t}),s)),s){var a=ge(t);i.push(a)}})),{size:n,shape:e,stops:i,position:r,type:he.RADIAL_GRADIENT}};!function(t){t[t.URL=0]="URL",t[t.LINEAR_GRADIENT=1]="LINEAR_GRADIENT",t[t.RADIAL_GRADIENT=2]="RADIAL_GRADIENT"}(he||(he={})),function(t){t[t.CIRCLE=0]="CIRCLE",t[t.ELLIPSE=1]="ELLIPSE"}(fe||(fe={})),function(t){t[t.CLOSEST_SIDE=0]="CLOSEST_SIDE",t[t.FARTHEST_SIDE=1]="FARTHEST_SIDE",t[t.CLOSEST_CORNER=2]="CLOSEST_CORNER",t[t.FARTHEST_CORNER=3]="FARTHEST_CORNER"}(pe||(pe={}));var Pe,Ue=function(t){if(t.type===f.URL_TOKEN){var e={url:t.value,type:he.URL};return Ie.getInstance().addImage(t.value),e}if(t.type===f.FUNCTION){var n=Qe[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(t.values)}throw new Error("Unsupported image type")},Qe={"linear-gradient":function(t){var e=Zt(180),n=[];return Ut(t).forEach((function(t,i){if(0===i){var r=t[0];if(r.type===f.IDENT_TOKEN&&"to"===r.value)return void(e=Jt(t));if(Vt(r))return void(e=Xt(r))}var o=ge(t);n.push(o)})),{angle:e,stops:n,type:he.LINEAR_GRADIENT}},"-moz-linear-gradient":be,"-ms-linear-gradient":be,"-o-linear-gradient":be,"-webkit-linear-gradient":be,"radial-gradient":function(t){var e=fe.CIRCLE,n=pe.FARTHEST_CORNER,i=[],r=[];return Ut(t).forEach((function(t,o){var s=!0;if(0===o){var a=!1;s=t.reduce((function(t,i){if(a)if(Lt(i))switch(i.value){case"center":return r.push(Gt),t;case"top":case"left":return r.push(Kt),t;case"right":case"bottom":return r.push(qt),t}else(jt(i)||Ht(i))&&r.push(i);else if(Lt(i))switch(i.value){case"circle":return e=fe.CIRCLE,!1;case"ellipse":return e=fe.ELLIPSE,!1;case"at":return a=!0,!1;case"closest-side":return n=pe.CLOSEST_SIDE,!1;case"cover":case"farthest-side":return n=pe.FARTHEST_SIDE,!1;case"contain":case"closest-corner":return n=pe.CLOSEST_CORNER,!1;case"farthest-corner":return n=pe.FARTHEST_CORNER,!1}else if(Ht(i)||jt(i))return Array.isArray(n)||(n=[]),n.push(i),!1;return t}),s)}if(s){var l=ge(t);i.push(l)}})),{size:n,shape:e,stops:i,position:r,type:he.RADIAL_GRADIENT}},"-moz-radial-gradient":De,"-ms-radial-gradient":De,"-o-radial-gradient":De,"-webkit-radial-gradient":De,"-webkit-gradient":function(t){var e=Zt(180),n=[],i=he.LINEAR_GRADIENT,r=fe.CIRCLE,o=pe.FARTHEST_CORNER;return Ut(t).forEach((function(t,e){var r=t[0];if(0===e){if(Lt(r)&&"linear"===r.value)return void(i=he.LINEAR_GRADIENT);if(Lt(r)&&"radial"===r.value)return void(i=he.RADIAL_GRADIENT)}if(r.type===f.FUNCTION)if("from"===r.name){var o=$t(r.values[0]);n.push({stop:Kt,color:o})}else if("to"===r.name)o=$t(r.values[0]),n.push({stop:qt,color:o});else if("color-stop"===r.name){var s=r.values.filter(Pt);if(2===s.length){o=$t(s[1]);var a=s[0];kt(a)&&n.push({stop:{type:f.PERCENTAGE_TOKEN,number:100*a.number,flags:a.flags},color:o})}}})),i===he.LINEAR_GRADIENT?{angle:(e+Zt(180))%Zt(360),stops:n,type:i}:{size:o,shape:r,stops:n,position:[],type:i}}},He={name:"background-image",initialValue:"none",type:se.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===f.IDENT_TOKEN&&"none"===e.value?[]:t.filter(Pt).map(Ue)}},je={name:"background-origin",initialValue:"border-box",prefix:!1,type:se.LIST,parse:function(t){return t.map((function(t){if(Lt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},ze={name:"background-position",initialValue:"0% 0%",type:se.LIST,prefix:!1,parse:function(t){return Ut(t).map((function(t){return t.filter(jt)})).map(zt)}};!function(t){t[t.REPEAT=0]="REPEAT",t[t.NO_REPEAT=1]="NO_REPEAT",t[t.REPEAT_X=2]="REPEAT_X",t[t.REPEAT_Y=3]="REPEAT_Y"}(Pe||(Pe={}));var Ke,Ge={name:"background-repeat",initialValue:"repeat",prefix:!1,type:se.LIST,parse:function(t){return Ut(t).map((function(t){return t.filter(Lt).map((function(t){return t.value})).join(" ")})).map(qe)}},qe=function(t){switch(t){case"no-repeat":return Pe.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return Pe.REPEAT_X;case"repeat-y":case"no-repeat repeat":return Pe.REPEAT_Y;case"repeat":default:return Pe.REPEAT}};!function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"}(Ke||(Ke={}));var We,Ye={name:"background-size",initialValue:"0",prefix:!1,type:se.LIST,parse:function(t){return Ut(t).map((function(t){return t.filter(Xe)}))}},Xe=function(t){return Lt(t)||jt(t)},Ve=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:se.TYPE_VALUE,format:"color"}},Je=Ve("top"),Ze=Ve("right"),$e=Ve("bottom"),tn=Ve("left"),en=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:se.LIST,parse:function(t){return zt(t.filter(jt))}}},nn=en("top-left"),rn=en("top-right"),on=en("bottom-right"),sn=en("bottom-left");!function(t){t[t.NONE=0]="NONE",t[t.SOLID=1]="SOLID"}(We||(We={}));var an,ln=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:se.IDENT_VALUE,parse:function(t){switch(t){case"none":return We.NONE}return We.SOLID}}},un=ln("top"),cn=ln("right"),hn=ln("bottom"),fn=ln("left"),pn=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:se.VALUE,prefix:!1,parse:function(t){return Nt(t)?t.number:0}}},dn=pn("top"),An=pn("right"),gn=pn("bottom"),mn=pn("left"),vn={name:"color",initialValue:"transparent",prefix:!1,type:se.TYPE_VALUE,format:"color"},yn={name:"display",initialValue:"inline-block",prefix:!1,type:se.LIST,parse:function(t){return t.filter(Lt).reduce((function(t,e){return t|_n(e.value)}),0)}},_n=function(t){switch(t){case"block":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0};!function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.INLINE_START=3]="INLINE_START",t[t.INLINE_END=4]="INLINE_END"}(an||(an={}));var bn,wn={name:"float",initialValue:"none",prefix:!1,type:se.IDENT_VALUE,parse:function(t){switch(t){case"left":return an.LEFT;case"right":return an.RIGHT;case"inline-start":return an.INLINE_START;case"inline-end":return an.INLINE_END}return an.NONE}},En={name:"letter-spacing",initialValue:"0",prefix:!1,type:se.VALUE,parse:function(t){return t.type===f.IDENT_TOKEN&&"normal"===t.value?0:t.type===f.NUMBER_TOKEN?t.number:t.type===f.DIMENSION_TOKEN?t.number:0}};!function(t){t.NORMAL="normal",t.STRICT="strict"}(bn||(bn={}));var xn,Cn={name:"line-break",initialValue:"normal",prefix:!1,type:se.IDENT_VALUE,parse:function(t){switch(t){case"strict":return bn.STRICT;case"normal":default:return bn.NORMAL}}},Bn={name:"line-height",initialValue:"normal",prefix:!1,type:se.TOKEN_VALUE},In={name:"list-style-image",initialValue:"none",type:se.VALUE,prefix:!1,parse:function(t){return t.type===f.IDENT_TOKEN&&"none"===t.value?null:Ue(t)}};!function(t){t[t.INSIDE=0]="INSIDE",t[t.OUTSIDE=1]="OUTSIDE"}(xn||(xn={}));var Sn,On={name:"list-style-position",initialValue:"outside",prefix:!1,type:se.IDENT_VALUE,parse:function(t){switch(t){case"inside":return xn.INSIDE;case"outside":default:return xn.OUTSIDE}}};!function(t){t[t.NONE=-1]="NONE",t[t.DISC=0]="DISC",t[t.CIRCLE=1]="CIRCLE",t[t.SQUARE=2]="SQUARE",t[t.DECIMAL=3]="DECIMAL",t[t.CJK_DECIMAL=4]="CJK_DECIMAL",t[t.DECIMAL_LEADING_ZERO=5]="DECIMAL_LEADING_ZERO",t[t.LOWER_ROMAN=6]="LOWER_ROMAN",t[t.UPPER_ROMAN=7]="UPPER_ROMAN",t[t.LOWER_GREEK=8]="LOWER_GREEK",t[t.LOWER_ALPHA=9]="LOWER_ALPHA",t[t.UPPER_ALPHA=10]="UPPER_ALPHA",t[t.ARABIC_INDIC=11]="ARABIC_INDIC",t[t.ARMENIAN=12]="ARMENIAN",t[t.BENGALI=13]="BENGALI",t[t.CAMBODIAN=14]="CAMBODIAN",t[t.CJK_EARTHLY_BRANCH=15]="CJK_EARTHLY_BRANCH",t[t.CJK_HEAVENLY_STEM=16]="CJK_HEAVENLY_STEM",t[t.CJK_IDEOGRAPHIC=17]="CJK_IDEOGRAPHIC",t[t.DEVANAGARI=18]="DEVANAGARI",t[t.ETHIOPIC_NUMERIC=19]="ETHIOPIC_NUMERIC",t[t.GEORGIAN=20]="GEORGIAN",t[t.GUJARATI=21]="GUJARATI",t[t.GURMUKHI=22]="GURMUKHI",t[t.HEBREW=22]="HEBREW",t[t.HIRAGANA=23]="HIRAGANA",t[t.HIRAGANA_IROHA=24]="HIRAGANA_IROHA",t[t.JAPANESE_FORMAL=25]="JAPANESE_FORMAL",t[t.JAPANESE_INFORMAL=26]="JAPANESE_INFORMAL",t[t.KANNADA=27]="KANNADA",t[t.KATAKANA=28]="KATAKANA",t[t.KATAKANA_IROHA=29]="KATAKANA_IROHA",t[t.KHMER=30]="KHMER",t[t.KOREAN_HANGUL_FORMAL=31]="KOREAN_HANGUL_FORMAL",t[t.KOREAN_HANJA_FORMAL=32]="KOREAN_HANJA_FORMAL",t[t.KOREAN_HANJA_INFORMAL=33]="KOREAN_HANJA_INFORMAL",t[t.LAO=34]="LAO",t[t.LOWER_ARMENIAN=35]="LOWER_ARMENIAN",t[t.MALAYALAM=36]="MALAYALAM",t[t.MONGOLIAN=37]="MONGOLIAN",t[t.MYANMAR=38]="MYANMAR",t[t.ORIYA=39]="ORIYA",t[t.PERSIAN=40]="PERSIAN",t[t.SIMP_CHINESE_FORMAL=41]="SIMP_CHINESE_FORMAL",t[t.SIMP_CHINESE_INFORMAL=42]="SIMP_CHINESE_INFORMAL",t[t.TAMIL=43]="TAMIL",t[t.TELUGU=44]="TELUGU",t[t.THAI=45]="THAI",t[t.TIBETAN=46]="TIBETAN",t[t.TRAD_CHINESE_FORMAL=47]="TRAD_CHINESE_FORMAL",t[t.TRAD_CHINESE_INFORMAL=48]="TRAD_CHINESE_INFORMAL",t[t.UPPER_ARMENIAN=49]="UPPER_ARMENIAN",t[t.DISCLOSURE_OPEN=50]="DISCLOSURE_OPEN",t[t.DISCLOSURE_CLOSED=51]="DISCLOSURE_CLOSED"}(Sn||(Sn={}));var Mn,Tn={name:"list-style-type",initialValue:"none",prefix:!1,type:se.IDENT_VALUE,parse:function(t){switch(t){case"disc":return Sn.DISC;case"circle":return Sn.CIRCLE;case"square":return Sn.SQUARE;case"decimal":return Sn.DECIMAL;case"cjk-decimal":return Sn.CJK_DECIMAL;case"decimal-leading-zero":return Sn.DECIMAL_LEADING_ZERO;case"lower-roman":return Sn.LOWER_ROMAN;case"upper-roman":return Sn.UPPER_ROMAN;case"lower-greek":return Sn.LOWER_GREEK;case"lower-alpha":return Sn.LOWER_ALPHA;case"upper-alpha":return Sn.UPPER_ALPHA;case"arabic-indic":return Sn.ARABIC_INDIC;case"armenian":return Sn.ARMENIAN;case"bengali":return Sn.BENGALI;case"cambodian":return Sn.CAMBODIAN;case"cjk-earthly-branch":return Sn.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return Sn.CJK_HEAVENLY_STEM;case"cjk-ideographic":return Sn.CJK_IDEOGRAPHIC;case"devanagari":return Sn.DEVANAGARI;case"ethiopic-numeric":return Sn.ETHIOPIC_NUMERIC;case"georgian":return Sn.GEORGIAN;case"gujarati":return Sn.GUJARATI;case"gurmukhi":return Sn.GURMUKHI;case"hebrew":return Sn.HEBREW;case"hiragana":return Sn.HIRAGANA;case"hiragana-iroha":return Sn.HIRAGANA_IROHA;case"japanese-formal":return Sn.JAPANESE_FORMAL;case"japanese-informal":return Sn.JAPANESE_INFORMAL;case"kannada":return Sn.KANNADA;case"katakana":return Sn.KATAKANA;case"katakana-iroha":return Sn.KATAKANA_IROHA;case"khmer":return Sn.KHMER;case"korean-hangul-formal":return Sn.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return Sn.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return Sn.KOREAN_HANJA_INFORMAL;case"lao":return Sn.LAO;case"lower-armenian":return Sn.LOWER_ARMENIAN;case"malayalam":return Sn.MALAYALAM;case"mongolian":return Sn.MONGOLIAN;case"myanmar":return Sn.MYANMAR;case"oriya":return Sn.ORIYA;case"persian":return Sn.PERSIAN;case"simp-chinese-formal":return Sn.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return Sn.SIMP_CHINESE_INFORMAL;case"tamil":return Sn.TAMIL;case"telugu":return Sn.TELUGU;case"thai":return Sn.THAI;case"tibetan":return Sn.TIBETAN;case"trad-chinese-formal":return Sn.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return Sn.TRAD_CHINESE_INFORMAL;case"upper-armenian":return Sn.UPPER_ARMENIAN;case"disclosure-open":return Sn.DISCLOSURE_OPEN;case"disclosure-closed":return Sn.DISCLOSURE_CLOSED;case"none":default:return Sn.NONE}}},Nn=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:se.TOKEN_VALUE}},kn=Nn("top"),Ln=Nn("right"),Fn=Nn("bottom"),Rn=Nn("left");!function(t){t[t.VISIBLE=0]="VISIBLE",t[t.HIDDEN=1]="HIDDEN",t[t.SCROLL=2]="SCROLL",t[t.AUTO=3]="AUTO"}(Mn||(Mn={}));var Dn,Pn={name:"overflow",initialValue:"visible",prefix:!1,type:se.LIST,parse:function(t){return t.filter(Lt).map((function(t){switch(t.value){case"hidden":return Mn.HIDDEN;case"scroll":return Mn.SCROLL;case"auto":return Mn.AUTO;case"visible":default:return Mn.VISIBLE}}))}};!function(t){t.NORMAL="normal",t.BREAK_WORD="break-word"}(Dn||(Dn={}));var Un,Qn={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:se.IDENT_VALUE,parse:function(t){switch(t){case"break-word":return Dn.BREAK_WORD;case"normal":default:return Dn.NORMAL}}},Hn=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:se.TYPE_VALUE,format:"length-percentage"}},jn=Hn("top"),zn=Hn("right"),Kn=Hn("bottom"),Gn=Hn("left");!function(t){t[t.LEFT=0]="LEFT",t[t.CENTER=1]="CENTER",t[t.RIGHT=2]="RIGHT"}(Un||(Un={}));var qn,Wn={name:"text-align",initialValue:"left",prefix:!1,type:se.IDENT_VALUE,parse:function(t){switch(t){case"right":return Un.RIGHT;case"center":case"justify":return Un.CENTER;case"left":default:return Un.LEFT}}};!function(t){t[t.STATIC=0]="STATIC",t[t.RELATIVE=1]="RELATIVE",t[t.ABSOLUTE=2]="ABSOLUTE",t[t.FIXED=3]="FIXED",t[t.STICKY=4]="STICKY"}(qn||(qn={}));var Yn,Xn={name:"position",initialValue:"static",prefix:!1,type:se.IDENT_VALUE,parse:function(t){switch(t){case"relative":return qn.RELATIVE;case"absolute":return qn.ABSOLUTE;case"fixed":return qn.FIXED;case"sticky":return qn.STICKY}return qn.STATIC}},Vn={name:"text-shadow",initialValue:"none",type:se.LIST,prefix:!1,parse:function(t){return 1===t.length&&Rt(t[0],"none")?[]:Ut(t).map((function(t){for(var e={color:ce.TRANSPARENT,offsetX:Kt,offsetY:Kt,blur:Kt},n=0,i=0;i<t.length;i++){var r=t[i];Ht(r)?(0===n?e.offsetX=r:1===n?e.offsetY=r:e.blur=r,n++):e.color=$t(r)}return e}))}};!function(t){t[t.NONE=0]="NONE",t[t.LOWERCASE=1]="LOWERCASE",t[t.UPPERCASE=2]="UPPERCASE",t[t.CAPITALIZE=3]="CAPITALIZE"}(Yn||(Yn={}));var Jn,Zn={name:"text-transform",initialValue:"none",prefix:!1,type:se.IDENT_VALUE,parse:function(t){switch(t){case"uppercase":return Yn.UPPERCASE;case"lowercase":return Yn.LOWERCASE;case"capitalize":return Yn.CAPITALIZE}return Yn.NONE}},$n={name:"transform",initialValue:"none",prefix:!0,type:se.VALUE,parse:function(t){if(t.type===f.IDENT_TOKEN&&"none"===t.value)return null;if(t.type===f.FUNCTION){var e=ti[t.name];if(void 0===e)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return e(t.values)}return null}},ti={matrix:function(t){var e=t.filter((function(t){return t.type===f.NUMBER_TOKEN})).map((function(t){return t.number}));return 6===e.length?e:null},matrix3d:function(t){var e=t.filter((function(t){return t.type===f.NUMBER_TOKEN})).map((function(t){return t.number})),n=e[0],i=e[1],r=(e[2],e[3],e[4]),o=e[5],s=(e[6],e[7],e[8],e[9],e[10],e[11],e[12]),a=e[13];return e[14],e[15],16===e.length?[n,i,r,o,s,a]:null}},ei={type:f.PERCENTAGE_TOKEN,number:50,flags:4},ni=[ei,ei],ii={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:se.LIST,parse:function(t){var e=t.filter(jt);return 2!==e.length?ni:[e[0],e[1]]}};!function(t){t[t.VISIBLE=0]="VISIBLE",t[t.HIDDEN=1]="HIDDEN",t[t.COLLAPSE=2]="COLLAPSE"}(Jn||(Jn={}));var ri,oi={name:"visible",initialValue:"none",prefix:!1,type:se.IDENT_VALUE,parse:function(t){switch(t){case"hidden":return Jn.HIDDEN;case"collapse":return Jn.COLLAPSE;case"visible":default:return Jn.VISIBLE}}};!function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"}(ri||(ri={}));var si,ai={name:"word-break",initialValue:"normal",prefix:!1,type:se.IDENT_VALUE,parse:function(t){switch(t){case"break-all":return ri.BREAK_ALL;case"keep-all":return ri.KEEP_ALL;case"normal":default:return ri.NORMAL}}},li={name:"z-index",initialValue:"auto",prefix:!1,type:se.VALUE,parse:function(t){if(t.type===f.IDENT_TOKEN)return{auto:!0,order:0};if(kt(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},ui={name:"opacity",initialValue:"1",type:se.VALUE,prefix:!1,parse:function(t){return kt(t)?t.number:1}},ci={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:se.TYPE_VALUE,format:"color"},hi={name:"text-decoration-line",initialValue:"none",prefix:!1,type:se.LIST,parse:function(t){return t.filter(Lt).map((function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(t){return 0!==t}))}},fi={name:"font-family",initialValue:"",prefix:!1,type:se.LIST,parse:function(t){return t.filter(pi).map((function(t){return t.value}))}},pi=function(t){return t.type===f.STRING_TOKEN||t.type===f.IDENT_TOKEN},di={name:"font-size",initialValue:"0",prefix:!1,type:se.TYPE_VALUE,format:"length"},Ai={name:"font-weight",initialValue:"normal",type:se.VALUE,prefix:!1,parse:function(t){if(kt(t))return t.number;if(Lt(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},gi={name:"font-variant",initialValue:"none",type:se.LIST,prefix:!1,parse:function(t){return t.filter(Lt).map((function(t){return t.value}))}};!function(t){t.NORMAL="normal",t.ITALIC="italic",t.OBLIQUE="oblique"}(si||(si={}));var mi,vi={name:"font-style",initialValue:"normal",prefix:!1,type:se.IDENT_VALUE,parse:function(t){switch(t){case"oblique":return si.OBLIQUE;case"italic":return si.ITALIC;case"normal":default:return si.NORMAL}}},yi=function(t,e){return 0!=(t&e)},_i={name:"content",initialValue:"none",type:se.LIST,prefix:!1,parse:function(t){if(0===t.length)return[];var e=t[0];return e.type===f.IDENT_TOKEN&&"none"===e.value?[]:t}},bi={name:"counter-increment",initialValue:"none",prefix:!0,type:se.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===f.IDENT_TOKEN&&"none"===e.value)return null;for(var n=[],i=t.filter(Dt),r=0;r<i.length;r++){var o=i[r],s=i[r+1];if(o.type===f.IDENT_TOKEN){var a=s&&kt(s)?s.number:1;n.push({counter:o.value,increment:a})}}return n}},wi={name:"counter-reset",initialValue:"none",prefix:!0,type:se.LIST,parse:function(t){if(0===t.length)return[];for(var e=[],n=t.filter(Dt),i=0;i<n.length;i++){var r=n[i],o=n[i+1];if(Lt(r)&&"none"!==r.value){var s=o&&kt(o)?o.number:0;e.push({counter:r.value,reset:s})}}return e}},Ei={name:"quotes",initialValue:"none",prefix:!0,type:se.LIST,parse:function(t){if(0===t.length)return null;var e=t[0];if(e.type===f.IDENT_TOKEN&&"none"===e.value)return null;var n=[],i=t.filter(Ft);if(i.length%2!=0)return null;for(var r=0;r<i.length;r+=2){var o=i[r].value,s=i[r+1].value;n.push({open:o,close:s})}return n}},xi=function(t,e,n){if(!t)return"";var i=t[Math.min(e,t.length-1)];return i?n?i.open:i.close:""},Ci={name:"box-shadow",initialValue:"none",type:se.LIST,prefix:!1,parse:function(t){return 1===t.length&&Rt(t[0],"none")?[]:Ut(t).map((function(t){for(var e={color:255,offsetX:Kt,offsetY:Kt,blur:Kt,spread:Kt,inset:!1},n=0,i=0;i<t.length;i++){var r=t[i];Rt(r,"inset")?e.inset=!0:Ht(r)?(0===n?e.offsetX=r:1===n?e.offsetY=r:2===n?e.blur=r:e.spread=r,n++):e.color=$t(r)}return e}))}},Bi=function(){function t(t){this.backgroundClip=Oi(de,t.backgroundClip),this.backgroundColor=Oi(Ae,t.backgroundColor),this.backgroundImage=Oi(He,t.backgroundImage),this.backgroundOrigin=Oi(je,t.backgroundOrigin),this.backgroundPosition=Oi(ze,t.backgroundPosition),this.backgroundRepeat=Oi(Ge,t.backgroundRepeat),this.backgroundSize=Oi(Ye,t.backgroundSize),this.borderTopColor=Oi(Je,t.borderTopColor),this.borderRightColor=Oi(Ze,t.borderRightColor),this.borderBottomColor=Oi($e,t.borderBottomColor),this.borderLeftColor=Oi(tn,t.borderLeftColor),this.borderTopLeftRadius=Oi(nn,t.borderTopLeftRadius),this.borderTopRightRadius=Oi(rn,t.borderTopRightRadius),this.borderBottomRightRadius=Oi(on,t.borderBottomRightRadius),this.borderBottomLeftRadius=Oi(sn,t.borderBottomLeftRadius),this.borderTopStyle=Oi(un,t.borderTopStyle),this.borderRightStyle=Oi(cn,t.borderRightStyle),this.borderBottomStyle=Oi(hn,t.borderBottomStyle),this.borderLeftStyle=Oi(fn,t.borderLeftStyle),this.borderTopWidth=Oi(dn,t.borderTopWidth),this.borderRightWidth=Oi(An,t.borderRightWidth),this.borderBottomWidth=Oi(gn,t.borderBottomWidth),this.borderLeftWidth=Oi(mn,t.borderLeftWidth),this.boxShadow=Oi(Ci,t.boxShadow),this.color=Oi(vn,t.color),this.display=Oi(yn,t.display),this.float=Oi(wn,t.cssFloat),this.fontFamily=Oi(fi,t.fontFamily),this.fontSize=Oi(di,t.fontSize),this.fontStyle=Oi(vi,t.fontStyle),this.fontVariant=Oi(gi,t.fontVariant),this.fontWeight=Oi(Ai,t.fontWeight),this.letterSpacing=Oi(En,t.letterSpacing),this.lineBreak=Oi(Cn,t.lineBreak),this.lineHeight=Oi(Bn,t.lineHeight),this.listStyleImage=Oi(In,t.listStyleImage),this.listStylePosition=Oi(On,t.listStylePosition),this.listStyleType=Oi(Tn,t.listStyleType),this.marginTop=Oi(kn,t.marginTop),this.marginRight=Oi(Ln,t.marginRight),this.marginBottom=Oi(Fn,t.marginBottom),this.marginLeft=Oi(Rn,t.marginLeft),this.opacity=Oi(ui,t.opacity);var e=Oi(Pn,t.overflow);this.overflowX=e[0],this.overflowY=e[e.length>1?1:0],this.overflowWrap=Oi(Qn,t.overflowWrap),this.paddingTop=Oi(jn,t.paddingTop),this.paddingRight=Oi(zn,t.paddingRight),this.paddingBottom=Oi(Kn,t.paddingBottom),this.paddingLeft=Oi(Gn,t.paddingLeft),this.position=Oi(Xn,t.position),this.textAlign=Oi(Wn,t.textAlign),this.textDecorationColor=Oi(ci,t.textDecorationColor||t.color),this.textDecorationLine=Oi(hi,t.textDecorationLine),this.textShadow=Oi(Vn,t.textShadow),this.textTransform=Oi(Zn,t.textTransform),this.transform=Oi($n,t.transform),this.transformOrigin=Oi(ii,t.transformOrigin),this.visibility=Oi(oi,t.visibility),this.wordBreak=Oi(ai,t.wordBreak),this.zIndex=Oi(li,t.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===Jn.VISIBLE},t.prototype.isTransparent=function(){return te(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return this.position!==qn.STATIC},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==an.NONE},t.prototype.isInlineLevel=function(){return yi(this.display,4)||yi(this.display,33554432)||yi(this.display,268435456)||yi(this.display,536870912)||yi(this.display,67108864)||yi(this.display,134217728)},t}(),Ii=function(t){this.content=Oi(_i,t.content),this.quotes=Oi(Ei,t.quotes)},Si=function(t){this.counterIncrement=Oi(bi,t.counterIncrement),this.counterReset=Oi(wi,t.counterReset)},Oi=function(t,e){var n=new Mt,i=null!=e?e.toString():t.initialValue;n.write(i);var r=new Tt(n.read());switch(t.type){case se.IDENT_VALUE:var o=r.parseComponentValue();return t.parse(Lt(o)?o.value:t.initialValue);case se.VALUE:return t.parse(r.parseComponentValue());case se.LIST:return t.parse(r.parseComponentValues());case se.TOKEN_VALUE:return r.parseComponentValue();case se.TYPE_VALUE:switch(t.format){case"angle":return Xt(r.parseComponentValue());case"color":return $t(r.parseComponentValue());case"image":return Ue(r.parseComponentValue());case"length":var s=r.parseComponentValue();return Ht(s)?s:Kt;case"length-percentage":var a=r.parseComponentValue();return jt(a)?a:Kt}}throw new Error("Attempting to parse unsupported css format type "+t.format)},Mi=function(t){this.styles=new Bi(window.getComputedStyle(t,null)),this.textNodes=[],this.elements=[],null!==this.styles.transform&&fr(t)&&(t.style.transform="none"),this.bounds=s(t),this.flags=0},Ti=function(t,e){this.text=t,this.bounds=e},Ni=function(t,e,n){var i=Fi(t,e),r=[],o=0;return i.forEach((function(t){if(e.textDecorationLine.length||t.trim().length>0)if(Ce.SUPPORT_RANGE_BOUNDS)r.push(new Ti(t,Li(n,o,t.length)));else{var i=n.splitText(t.length);r.push(new Ti(t,ki(n))),n=i}else Ce.SUPPORT_RANGE_BOUNDS||(n=n.splitText(t.length));o+=t.length})),r},ki=function(t){var e=t.ownerDocument;if(e){var n=e.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var r=s(n);return n.firstChild&&i.replaceChild(n.firstChild,n),r}}return new o(0,0,0,0)},Li=function(t,e,n){var i=t.ownerDocument;if(!i)throw new Error("Node has no owner document");var r=i.createRange();return r.setStart(t,e),r.setEnd(t,e+n),o.fromClientRect(r.getBoundingClientRect())},Fi=function(t,e){return 0!==e.letterSpacing?a(t).map((function(t){return l(t)})):Ri(t,e)},Ri=function(t,e){for(var n,i=function(t,e){var n=a(t),i=J(n,e),r=i[0],o=i[1],s=i[2],l=n.length,u=0,c=0;return{next:function(){if(c>=l)return{done:!0,value:null};for(var t="×";c<l&&"×"===(t=V(n,o,r,++c,s)););if("×"!==t||c===l){var e=new Z(n,t,u,c);return u=c,{value:e,done:!1}}return{done:!0,value:null}}}}(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap===Dn.BREAK_WORD?"break-word":e.wordBreak}),r=[];!(n=i.next()).done;)n.value&&r.push(n.value.slice());return r},Di=function(t,e){this.text=Pi(t.data,e.textTransform),this.textBounds=Ni(this.text,e,t)},Pi=function(t,e){switch(e){case Yn.LOWERCASE:return t.toLowerCase();case Yn.CAPITALIZE:return t.replace(Ui,Qi);case Yn.UPPERCASE:return t.toUpperCase();default:return t}},Ui=/(^|\s|:|-|\(|\))([a-z])/g,Qi=function(t,e,n){return t.length>0?e+n.toUpperCase():t},Hi=function(t){function n(e){var n=t.call(this,e)||this;return n.src=e.currentSrc||e.src,n.intrinsicWidth=e.naturalWidth,n.intrinsicHeight=e.naturalHeight,Ie.getInstance().addImage(n.src),n}return e(n,t),n}(Mi),ji=function(t){function n(e){var n=t.call(this,e)||this;return n.canvas=e,n.intrinsicWidth=e.width,n.intrinsicHeight=e.height,n}return e(n,t),n}(Mi),zi=function(t){function n(e){var n=t.call(this,e)||this,i=new XMLSerializer;return n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(e)),n.intrinsicWidth=e.width.baseVal.value,n.intrinsicHeight=e.height.baseVal.value,Ie.getInstance().addImage(n.svg),n}return e(n,t),n}(Mi),Ki=function(t){function n(e){var n=t.call(this,e)||this;return n.value=e.value,n}return e(n,t),n}(Mi),Gi=function(t){function n(e){var n=t.call(this,e)||this;return n.start=e.start,n.reversed="boolean"==typeof e.reversed&&!0===e.reversed,n}return e(n,t),n}(Mi),qi=[{type:f.DIMENSION_TOKEN,flags:0,unit:"px",number:3}],Wi=[{type:f.PERCENTAGE_TOKEN,flags:0,number:50}],Yi=function(t){return t.width>t.height?new o(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new o(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},Xi=function(t){var e=t.type===Zi?new Array(t.value.length+1).join("•"):t.value;return 0===e.length?t.placeholder||"":e},Vi="checkbox",Ji="radio",Zi="password",$i=function(t){function n(e){var n=t.call(this,e)||this;switch(n.type=e.type.toLowerCase(),n.checked=e.checked,n.value=Xi(e),n.type!==Vi&&n.type!==Ji||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=We.SOLID,n.styles.backgroundClip=[ae.BORDER_BOX],n.styles.backgroundOrigin=[0],n.bounds=Yi(n.bounds)),n.type){case Vi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=qi;break;case Ji:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Wi}return n}return e(n,t),n}(Mi),tr=function(t){function n(e){var n=t.call(this,e)||this,i=e.options[e.selectedIndex||0];return n.value=i&&i.text||"",n}return e(n,t),n}(Mi),er=function(t){function n(e){var n=t.call(this,e)||this;return n.value=e.value,n}return e(n,t),n}(Mi),nr=function(t){return $t(Tt.create(t).parseComponentValue())},ir=function(t){function n(e){var n=t.call(this,e)||this;n.src=e.src,n.width=parseInt(e.width,10),n.height=parseInt(e.height,10),n.backgroundColor=n.styles.backgroundColor;try{if(e.contentWindow&&e.contentWindow.document&&e.contentWindow.document.documentElement){n.tree=ar(e.contentWindow.document.documentElement);var i=e.contentWindow.document.documentElement?nr(getComputedStyle(e.contentWindow.document.documentElement).backgroundColor):ce.TRANSPARENT,r=e.contentWindow.document.body?nr(getComputedStyle(e.contentWindow.document.body).backgroundColor):ce.TRANSPARENT;n.backgroundColor=te(i)?te(r)?n.styles.backgroundColor:r:i}}catch(t){}return n}return e(n,t),n}(Mi),rr=["OL","UL","MENU"],or=function(t,e,n){for(var i=t.firstChild,r=void 0;i;i=r)if(r=i.nextSibling,cr(i)&&i.data.trim().length>0)e.textNodes.push(new Di(i,e.styles));else if(hr(i)){var o=sr(i);o.styles.isVisible()&&(lr(i,o,n)?o.flags|=4:ur(o.styles)&&(o.flags|=2),-1!==rr.indexOf(i.tagName)&&(o.flags|=8),e.elements.push(o),Er(i)||gr(i)||xr(i)||or(i,o,n))}},sr=function(t){return yr(t)?new Hi(t):vr(t)?new ji(t):gr(t)?new zi(t):pr(t)?new Ki(t):dr(t)?new Gi(t):Ar(t)?new $i(t):xr(t)?new tr(t):Er(t)?new er(t):_r(t)?new ir(t):new Mi(t)},ar=function(t){var e=sr(t);return e.flags|=4,or(t,e,e),e},lr=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||mr(t)&&n.styles.isTransparent()},ur=function(t){return t.isPositioned()||t.isFloating()},cr=function(t){return t.nodeType===Node.TEXT_NODE},hr=function(t){return t.nodeType===Node.ELEMENT_NODE},fr=function(t){return void 0!==t.style},pr=function(t){return"LI"===t.tagName},dr=function(t){return"OL"===t.tagName},Ar=function(t){return"INPUT"===t.tagName},gr=function(t){return"svg"===t.tagName},mr=function(t){return"BODY"===t.tagName},vr=function(t){return"CANVAS"===t.tagName},yr=function(t){return"IMG"===t.tagName},_r=function(t){return"IFRAME"===t.tagName},br=function(t){return"STYLE"===t.tagName},wr=function(t){return"SCRIPT"===t.tagName},Er=function(t){return"TEXTAREA"===t.tagName},xr=function(t){return"SELECT"===t.tagName},Cr=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},t.prototype.pop=function(t){var e=this;t.forEach((function(t){return e.counters[t].pop()}))},t.prototype.parse=function(t){var e=this,n=t.counterIncrement,i=t.counterReset;null!==n&&n.forEach((function(t){var n=e.counters[t.counter];n&&(n[Math.max(0,n.length-1)]+=t.increment)}));var r=[];return i.forEach((function(t){var n=e.counters[t.counter];r.push(t.counter),n||(n=e.counters[t.counter]=[]),n.push(t.reset)})),r},t}(),Br={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ir={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Sr={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Or={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Mr=function(t,e,n,i,r,o){return t<e||t>n?Fr(t,r,o.length>0):i.integers.reduce((function(e,n,r){for(;t>=n;)t-=n,e+=i.values[r];return e}),"")+o},Tr=function(t,e,n,i){var r="";do{n||t--,r=i(t)+r,t/=e}while(t*e>=e);return r},Nr=function(t,e,n,i,r){var o=n-e+1;return(t<0?"-":"")+(Tr(Math.abs(t),o,i,(function(t){return l(Math.floor(t%o)+e)}))+r)},kr=function(t,e,n){void 0===n&&(n=". ");var i=e.length;return Tr(Math.abs(t),i,!1,(function(t){return e[Math.floor(t%i)]}))+n},Lr=function(t,e,n,i,r,o){if(t<-9999||t>9999)return Fr(t,Sn.CJK_DECIMAL,r.length>0);var s=Math.abs(t),a=r;if(0===s)return e[0]+a;for(var l=0;s>0&&l<=4;l++){var u=s%10;0===u&&yi(o,1)&&""!==a?a=e[u]+a:u>1||1===u&&0===l||1===u&&1===l&&yi(o,2)||1===u&&1===l&&yi(o,4)&&t>100||1===u&&l>1&&yi(o,8)?a=e[u]+(l>0?n[l-1]:"")+a:1===u&&l>0&&(a=n[l-1]+a),s=Math.floor(s/10)}return(t<0?i:"")+a},Fr=function(t,e,n){var i=n?". ":"",r=n?"、":"",o=n?", ":"",s=n?" ":"";switch(e){case Sn.DISC:return"•"+s;case Sn.CIRCLE:return"◦"+s;case Sn.SQUARE:return"◾"+s;case Sn.DECIMAL_LEADING_ZERO:var a=Nr(t,48,57,!0,i);return a.length<4?"0"+a:a;case Sn.CJK_DECIMAL:return kr(t,"〇一二三四五六七八九",r);case Sn.LOWER_ROMAN:return Mr(t,1,3999,Br,Sn.DECIMAL,i).toLowerCase();case Sn.UPPER_ROMAN:return Mr(t,1,3999,Br,Sn.DECIMAL,i);case Sn.LOWER_GREEK:return Nr(t,945,969,!1,i);case Sn.LOWER_ALPHA:return Nr(t,97,122,!1,i);case Sn.UPPER_ALPHA:return Nr(t,65,90,!1,i);case Sn.ARABIC_INDIC:return Nr(t,1632,1641,!0,i);case Sn.ARMENIAN:case Sn.UPPER_ARMENIAN:return Mr(t,1,9999,Ir,Sn.DECIMAL,i);case Sn.LOWER_ARMENIAN:return Mr(t,1,9999,Ir,Sn.DECIMAL,i).toLowerCase();case Sn.BENGALI:return Nr(t,2534,2543,!0,i);case Sn.CAMBODIAN:case Sn.KHMER:return Nr(t,6112,6121,!0,i);case Sn.CJK_EARTHLY_BRANCH:return kr(t,"子丑寅卯辰巳午未申酉戌亥",r);case Sn.CJK_HEAVENLY_STEM:return kr(t,"甲乙丙丁戊己庚辛壬癸",r);case Sn.CJK_IDEOGRAPHIC:case Sn.TRAD_CHINESE_INFORMAL:return Lr(t,"零一二三四五六七八九","十百千萬","負",r,14);case Sn.TRAD_CHINESE_FORMAL:return Lr(t,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",r,15);case Sn.SIMP_CHINESE_INFORMAL:return Lr(t,"零一二三四五六七八九","十百千萬","负",r,14);case Sn.SIMP_CHINESE_FORMAL:return Lr(t,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",r,15);case Sn.JAPANESE_INFORMAL:return Lr(t,"〇一二三四五六七八九","十百千万","マイナス",r,0);case Sn.JAPANESE_FORMAL:return Lr(t,"零壱弐参四伍六七八九","拾百千万","マイナス",r,7);case Sn.KOREAN_HANGUL_FORMAL:return Lr(t,"영일이삼사오육칠팔구","십백천만","마이너스",o,7);case Sn.KOREAN_HANJA_INFORMAL:return Lr(t,"零一二三四五六七八九","十百千萬","마이너스",o,0);case Sn.KOREAN_HANJA_FORMAL:return Lr(t,"零壹貳參四五六七八九","拾百千","마이너스",o,7);case Sn.DEVANAGARI:return Nr(t,2406,2415,!0,i);case Sn.GEORGIAN:return Mr(t,1,19999,Or,Sn.DECIMAL,i);case Sn.GUJARATI:return Nr(t,2790,2799,!0,i);case Sn.GURMUKHI:return Nr(t,2662,2671,!0,i);case Sn.HEBREW:return Mr(t,1,10999,Sr,Sn.DECIMAL,i);case Sn.HIRAGANA:return kr(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case Sn.HIRAGANA_IROHA:return kr(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case Sn.KANNADA:return Nr(t,3302,3311,!0,i);case Sn.KATAKANA:return kr(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",r);case Sn.KATAKANA_IROHA:return kr(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",r);case Sn.LAO:return Nr(t,3792,3801,!0,i);case Sn.MONGOLIAN:return Nr(t,6160,6169,!0,i);case Sn.MYANMAR:return Nr(t,4160,4169,!0,i);case Sn.ORIYA:return Nr(t,2918,2927,!0,i);case Sn.PERSIAN:return Nr(t,1776,1785,!0,i);case Sn.TAMIL:return Nr(t,3046,3055,!0,i);case Sn.TELUGU:return Nr(t,3174,3183,!0,i);case Sn.THAI:return Nr(t,3664,3673,!0,i);case Sn.TIBETAN:return Nr(t,3872,3881,!0,i);case Sn.DECIMAL:default:return Nr(t,48,57,!0,i)}},Rr=function(){function t(t,e){if(this.options=e,this.scrolledElements=[],this.referenceElement=t,this.counters=new Cr,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement)}return t.prototype.toIFrame=function(t,e){var n=this,i=Pr(t,e);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var r=t.defaultView.pageXOffset,o=t.defaultView.pageYOffset,s=i.contentWindow,a=s.document,l=Ur(i).then((function(){n.scrolledElements.forEach(zr),s&&(s.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||s.scrollY===e.top&&s.scrollX===e.left||(a.documentElement.style.top=-e.top+"px",a.documentElement.style.left=-e.left+"px",a.documentElement.style.position="absolute"));var t=n.options.onclone;return void 0===n.clonedReferenceElement?Promise.reject("Error finding the "+n.referenceElement.nodeName+" in the cloned document"):"function"==typeof t?Promise.resolve().then((function(){return t(a)})).then((function(){return i})):i}));return a.open(),a.write(Hr(document.doctype)+"<html></html>"),jr(this.referenceElement.ownerDocument,r,o),a.replaceChild(a.adoptNode(this.documentElement),a.documentElement),a.close(),l},t.prototype.createElementClone=function(t){return vr(t)?this.createCanvasClone(t):br(t)?this.createStyleClone(t):t.cloneNode(!1)},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var n=[].slice.call(e.cssRules,0).reduce((function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t}),""),i=t.cloneNode(!1);return i.textContent=n,i}}catch(t){if(Be.getInstance(this.options.id).error("Unable to access cssRules property",t),"SecurityError"!==t.name)throw t}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){if(this.options.inlineImages&&t.ownerDocument){var e=t.ownerDocument.createElement("img");try{return e.src=t.toDataURL(),e}catch(t){Be.getInstance(this.options.id).info("Unable to clone canvas contents, canvas is tainted")}}var n=t.cloneNode(!1);try{n.width=t.width,n.height=t.height;var i=t.getContext("2d"),r=n.getContext("2d");return r&&(i?r.putImageData(i.getImageData(0,0,t.width,t.height),0,0):r.drawImage(t,0,0)),n}catch(t){}return n},t.prototype.cloneNode=function(t){if(cr(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var e=t.ownerDocument.defaultView;if(fr(t)&&e){var n=this.createElementClone(t),i=e.getComputedStyle(t),r=e.getComputedStyle(t,":before"),o=e.getComputedStyle(t,":after");this.referenceElement===t&&(this.clonedReferenceElement=n),mr(n)&&qr(n);for(var s=this.counters.parse(new Si(i)),a=this.resolvePseudoContent(t,n,r,mi.BEFORE),l=t.firstChild;l;l=l.nextSibling)hr(l)&&(wr(l)||l.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(l))||this.options.copyStyles&&hr(l)&&br(l)||n.appendChild(this.cloneNode(l));a&&n.insertBefore(a,n.firstChild);var u=this.resolvePseudoContent(t,n,o,mi.AFTER);return u&&n.appendChild(u),this.counters.pop(s),i&&this.options.copyStyles&&!_r(t)&&Qr(i,n),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([n,t.scrollLeft,t.scrollTop]),(Er(t)||xr(t))&&(Er(n)||xr(n))&&(n.value=t.value),n}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,n,i){var r=this;if(n){var o=n.content,s=e.ownerDocument;if(s&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new Si(n));var a=new Ii(n),l=s.createElement("html2canvaspseudoelement");return Qr(n,l),a.content.forEach((function(e){if(e.type===f.STRING_TOKEN)l.appendChild(s.createTextNode(e.value));else if(e.type===f.URL_TOKEN){var n=s.createElement("img");n.src=e.value,n.style.opacity="1",l.appendChild(n)}else if(e.type===f.FUNCTION){if("attr"===e.name){var i=e.values.filter(Lt);i.length&&l.appendChild(s.createTextNode(t.getAttribute(i[0].value)||""))}else if("counter"===e.name){var o=e.values.filter(Pt),u=o[0],c=o[1];if(u&&Lt(u)){var h=r.counters.getCounterValue(u.value),p=c&&Lt(c)?Tn.parse(c.value):Sn.DECIMAL;l.appendChild(s.createTextNode(Fr(h,p,!1)))}}else if("counters"===e.name){var d=e.values.filter(Pt),A=(u=d[0],d[1]);if(c=d[2],u&&Lt(u)){var g=r.counters.getCounterValues(u.value),m=c&&Lt(c)?Tn.parse(c.value):Sn.DECIMAL,v=A&&A.type===f.STRING_TOKEN?A.value:"",y=g.map((function(t){return Fr(t,m,!1)})).join(v);l.appendChild(s.createTextNode(y))}}}else if(e.type===f.IDENT_TOKEN)switch(e.value){case"open-quote":l.appendChild(s.createTextNode(xi(a.quotes,r.quoteDepth++,!0)));break;case"close-quote":l.appendChild(s.createTextNode(xi(a.quotes,--r.quoteDepth,!1)))}})),l.className=Kr+" "+Gr,e.className+=i===mi.BEFORE?" "+Kr:" "+Gr,l}}},t}();!function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"}(mi||(mi={}));var Dr,Pr=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute("data-html2canvas-ignore","true"),t.body.appendChild(n),n},Ur=function(t){return new Promise((function(e,n){var i=t.contentWindow;if(!i)return n("No window assigned for iframe");var r=i.document;i.onload=t.onload=r.onreadystatechange=function(){i.onload=t.onload=r.onreadystatechange=null;var n=setInterval((function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(n),e(t))}),50)}}))},Qr=function(t,e){for(var n=t.length-1;n>=0;n--){var i=t.item(n);"content"!==i&&e.style.setProperty(i,t.getPropertyValue(i))}return e},Hr=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},jr=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},zr=function(t){var e=t[0],n=t[1],i=t[2];e.scrollLeft=n,e.scrollTop=i},Kr="___html2canvas___pseudoelement_before",Gr="___html2canvas___pseudoelement_after",qr=function(t){Wr(t,"."+Kr+':before{\n    content: "" !important;\n    display: none !important;\n}\n         .'+Gr+':after{\n    content: "" !important;\n    display: none !important;\n}')},Wr=function(t,e){var n=t.ownerDocument;if(n){var i=n.createElement("style");i.textContent=e,t.appendChild(i)}};!function(t){t[t.VECTOR=0]="VECTOR",t[t.BEZIER_CURVE=1]="BEZIER_CURVE"}(Dr||(Dr={}));var Yr,Xr=function(t,e){return t.length===e.length&&t.some((function(t,n){return t===e[n]}))},Vr=function(){function t(t,e){this.type=Dr.VECTOR,this.x=t,this.y=e}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),Jr=function(t,e,n){return new Vr(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Zr=function(){function t(t,e,n,i){this.type=Dr.BEZIER_CURVE,this.start=t,this.startControl=e,this.endControl=n,this.end=i}return t.prototype.subdivide=function(e,n){var i=Jr(this.start,this.startControl,e),r=Jr(this.startControl,this.endControl,e),o=Jr(this.endControl,this.end,e),s=Jr(i,r,e),a=Jr(r,o,e),l=Jr(s,a,e);return n?new t(this.start,i,s,l):new t(l,a,o,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),$r=function(t){return t.type===Dr.BEZIER_CURVE},to=function(t){var e=t.styles,n=t.bounds,i=Wt(e.borderTopLeftRadius,n.width,n.height),r=i[0],o=i[1],s=Wt(e.borderTopRightRadius,n.width,n.height),a=s[0],l=s[1],u=Wt(e.borderBottomRightRadius,n.width,n.height),c=u[0],h=u[1],f=Wt(e.borderBottomLeftRadius,n.width,n.height),p=f[0],d=f[1],A=[];A.push((r+a)/n.width),A.push((p+c)/n.width),A.push((o+d)/n.height),A.push((l+h)/n.height);var g=Math.max.apply(Math,A);g>1&&(r/=g,o/=g,a/=g,l/=g,c/=g,h/=g,p/=g,d/=g);var m=n.width-a,v=n.height-h,y=n.width-c,_=n.height-d,b=e.borderTopWidth,w=e.borderRightWidth,E=e.borderBottomWidth,x=e.borderLeftWidth,C=Yt(e.paddingTop,t.bounds.width),B=Yt(e.paddingRight,t.bounds.width),I=Yt(e.paddingBottom,t.bounds.width),S=Yt(e.paddingLeft,t.bounds.width);this.topLeftBorderBox=r>0||o>0?eo(n.left,n.top,r,o,Yr.TOP_LEFT):new Vr(n.left,n.top),this.topRightBorderBox=a>0||l>0?eo(n.left+m,n.top,a,l,Yr.TOP_RIGHT):new Vr(n.left+n.width,n.top),this.bottomRightBorderBox=c>0||h>0?eo(n.left+y,n.top+v,c,h,Yr.BOTTOM_RIGHT):new Vr(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=p>0||d>0?eo(n.left,n.top+_,p,d,Yr.BOTTOM_LEFT):new Vr(n.left,n.top+n.height),this.topLeftPaddingBox=r>0||o>0?eo(n.left+x,n.top+b,Math.max(0,r-x),Math.max(0,o-b),Yr.TOP_LEFT):new Vr(n.left+x,n.top+b),this.topRightPaddingBox=a>0||l>0?eo(n.left+Math.min(m,n.width+x),n.top+b,m>n.width+x?0:a-x,l-b,Yr.TOP_RIGHT):new Vr(n.left+n.width-w,n.top+b),this.bottomRightPaddingBox=c>0||h>0?eo(n.left+Math.min(y,n.width-x),n.top+Math.min(v,n.height+b),Math.max(0,c-w),h-E,Yr.BOTTOM_RIGHT):new Vr(n.left+n.width-w,n.top+n.height-E),this.bottomLeftPaddingBox=p>0||d>0?eo(n.left+x,n.top+_,Math.max(0,p-x),d-E,Yr.BOTTOM_LEFT):new Vr(n.left+x,n.top+n.height-E),this.topLeftContentBox=r>0||o>0?eo(n.left+x+S,n.top+b+C,Math.max(0,r-(x+S)),Math.max(0,o-(b+C)),Yr.TOP_LEFT):new Vr(n.left+x+S,n.top+b+C),this.topRightContentBox=a>0||l>0?eo(n.left+Math.min(m,n.width+x+S),n.top+b+C,m>n.width+x+S?0:a-x+S,l-(b+C),Yr.TOP_RIGHT):new Vr(n.left+n.width-(w+B),n.top+b+C),this.bottomRightContentBox=c>0||h>0?eo(n.left+Math.min(y,n.width-(x+S)),n.top+Math.min(v,n.height+b+C),Math.max(0,c-(w+B)),h-(E+I),Yr.BOTTOM_RIGHT):new Vr(n.left+n.width-(w+B),n.top+n.height-(E+I)),this.bottomLeftContentBox=p>0||d>0?eo(n.left+x+S,n.top+_,Math.max(0,p-(x+S)),d-(E+I),Yr.BOTTOM_LEFT):new Vr(n.left+x+S,n.top+n.height-(E+I))};!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Yr||(Yr={}));var eo=function(t,e,n,i,r){var o=(Math.sqrt(2)-1)/3*4,s=n*o,a=i*o,l=t+n,u=e+i;switch(r){case Yr.TOP_LEFT:return new Zr(new Vr(t,u),new Vr(t,u-a),new Vr(l-s,e),new Vr(l,e));case Yr.TOP_RIGHT:return new Zr(new Vr(t,e),new Vr(t+s,e),new Vr(l,u-a),new Vr(l,u));case Yr.BOTTOM_RIGHT:return new Zr(new Vr(l,e),new Vr(l,e+a),new Vr(t+s,u),new Vr(t,u));case Yr.BOTTOM_LEFT:default:return new Zr(new Vr(l,u),new Vr(l-s,u),new Vr(t,e+a),new Vr(t,e))}},no=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},io=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},ro=function(t,e,n){this.type=0,this.offsetX=t,this.offsetY=e,this.matrix=n,this.target=6},oo=function(t,e){this.type=1,this.target=e,this.path=t},so=function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},ao=function(){function t(t,e){if(this.container=t,this.effects=e.slice(0),this.curves=new to(t),null!==t.styles.transform){var n=t.bounds.left+t.styles.transformOrigin[0].number,i=t.bounds.top+t.styles.transformOrigin[1].number,r=t.styles.transform;this.effects.push(new ro(n,i,r))}if(t.styles.overflowX!==Mn.VISIBLE){var o=no(this.curves),s=io(this.curves);Xr(o,s)?this.effects.push(new oo(o,6)):(this.effects.push(new oo(o,2)),this.effects.push(new oo(s,4)))}}return t.prototype.getParentEffects=function(){var t=this.effects.slice(0);if(this.container.styles.overflowX!==Mn.VISIBLE){var e=no(this.curves),n=io(this.curves);Xr(e,n)||t.push(new oo(n,6))}return t},t}(),lo=function(t,e,n,i){t.container.elements.forEach((function(r){var o=yi(r.flags,4),s=yi(r.flags,2),a=new ao(r,t.getParentEffects());yi(r.styles.display,2048)&&i.push(a);var l=yi(r.flags,8)?[]:i;if(o||s){var u=o||r.styles.isPositioned()?n:e,c=new so(a);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var h=r.styles.zIndex.order;if(h<0){var f=0;u.negativeZIndex.some((function(t,e){return h>t.element.container.styles.zIndex.order&&(f=e,!0)})),u.negativeZIndex.splice(f,0,c)}else if(h>0){var p=0;u.positiveZIndex.some((function(t,e){return h>t.element.container.styles.zIndex.order&&(p=e+1,!0)})),u.positiveZIndex.splice(p,0,c)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else r.styles.isFloating()?u.nonPositionedFloats.push(c):u.nonPositionedInlineLevel.push(c);lo(a,c,o?c:n,l)}else r.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),lo(a,e,n,l);yi(r.flags,8)&&uo(r,l)}))},uo=function(t,e){for(var n=t instanceof Gi?t.start:1,i=t instanceof Gi&&t.reversed,r=0;r<e.length;r++){var o=e[r];o.container instanceof Ki&&"number"==typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=Fr(n,o.container.styles.listStyleType,!0),n+=i?-1:1}},co=function(t,e,n,i){var r=[];return $r(t)?r.push(t.subdivide(.5,!1)):r.push(t),$r(n)?r.push(n.subdivide(.5,!0)):r.push(n),$r(i)?r.push(i.subdivide(.5,!0).reverse()):r.push(i),$r(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},ho=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},fo=function(t){var e=t.styles,n=t.bounds,i=Yt(e.paddingLeft,n.width),r=Yt(e.paddingRight,n.width),o=Yt(e.paddingTop,n.width),s=Yt(e.paddingBottom,n.width);return n.add(i+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+r),-(e.borderTopWidth+e.borderBottomWidth+o+s))},po=function(t,e,n){var i=function(t,e){return 0===t?e.bounds:2===t?fo(e):ho(e)}(vo(t.styles.backgroundOrigin,e),t),r=function(t,e){return t===ae.BORDER_BOX?e.bounds:t===ae.CONTENT_BOX?fo(e):ho(e)}(vo(t.styles.backgroundClip,e),t),o=mo(vo(t.styles.backgroundSize,e),n,i),s=o[0],a=o[1],l=Wt(vo(t.styles.backgroundPosition,e),i.width-s,i.height-a);return[yo(vo(t.styles.backgroundRepeat,e),l,o,i,r),Math.round(i.left+l[0]),Math.round(i.top+l[1]),s,a]},Ao=function(t){return Lt(t)&&t.value===Ke.AUTO},go=function(t){return"number"==typeof t},mo=function(t,e,n){var i=e[0],r=e[1],o=e[2],s=t[0],a=t[1];if(jt(s)&&a&&jt(a))return[Yt(s,n.width),Yt(a,n.height)];var l=go(o);if(Lt(s)&&(s.value===Ke.CONTAIN||s.value===Ke.COVER))return go(o)?n.width/n.height<o!=(s.value===Ke.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var u=go(i),c=go(r),h=u||c;if(Ao(s)&&(!a||Ao(a)))return u&&c?[i,r]:l||h?h&&l?[u?i:r*o,c?r:i/o]:[u?i:n.width,c?r:n.height]:[n.width,n.height];if(l){var f=0,p=0;return jt(s)?f=Yt(s,n.width):jt(a)&&(p=Yt(a,n.height)),Ao(s)?f=p*o:a&&!Ao(a)||(p=f/o),[f,p]}var d=null,A=null;if(jt(s)?d=Yt(s,n.width):a&&jt(a)&&(A=Yt(a,n.height)),null===d||a&&!Ao(a)||(A=u&&c?d/i*r:n.height),null!==A&&Ao(s)&&(d=u&&c?A/r*i:n.width),null!==d&&null!==A)return[d,A];throw new Error("Unable to calculate background-size for element")},vo=function(t,e){var n=t[e];return void 0===n?t[0]:n},yo=function(t,e,n,i,r){var o=e[0],s=e[1],a=n[0],l=n[1];switch(t){case Pe.REPEAT_X:return[new Vr(Math.round(i.left),Math.round(i.top+s)),new Vr(Math.round(i.left+i.width),Math.round(i.top+s)),new Vr(Math.round(i.left+i.width),Math.round(l+i.top+s)),new Vr(Math.round(i.left),Math.round(l+i.top+s))];case Pe.REPEAT_Y:return[new Vr(Math.round(i.left+o),Math.round(i.top)),new Vr(Math.round(i.left+o+a),Math.round(i.top)),new Vr(Math.round(i.left+o+a),Math.round(i.height+i.top)),new Vr(Math.round(i.left+o),Math.round(i.height+i.top))];case Pe.NO_REPEAT:return[new Vr(Math.round(i.left+o),Math.round(i.top+s)),new Vr(Math.round(i.left+o+a),Math.round(i.top+s)),new Vr(Math.round(i.left+o+a),Math.round(i.top+s+l)),new Vr(Math.round(i.left+o),Math.round(i.top+s+l))];default:return[new Vr(Math.round(r.left),Math.round(r.top)),new Vr(Math.round(r.left+r.width),Math.round(r.top)),new Vr(Math.round(r.left+r.width),Math.round(r.height+r.top)),new Vr(Math.round(r.left),Math.round(r.height+r.top))]}},_o=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var n=this._document.createElement("div"),i=this._document.createElement("img"),r=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",o.appendChild(n),i.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",r.style.fontFamily=t,r.style.fontSize=e,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode("Hidden Text")),n.appendChild(r),n.appendChild(i);var s=i.offsetTop-r.offsetTop+2;n.removeChild(r),n.appendChild(this._document.createTextNode("Hidden Text")),n.style.lineHeight="normal",i.style.verticalAlign="super";var a=i.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:s,middle:a}},t.prototype.getMetrics=function(t,e){var n=t+" "+e;return void 0===this._data[n]&&(this._data[n]=this.parseMetrics(t,e)),this._data[n]},t}(),bo=function(){function t(t){this._activeEffects=[],this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",this.fontMetrics=new _o(document),this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),this.ctx.textBaseline="bottom",this._activeEffects=[],Be.getInstance(t.id).debug("Canvas renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.applyEffects=function(t,e){for(var n=this;this._activeEffects.length;)this.popEffect();t.filter((function(t){return yi(t.target,e)})).forEach((function(t){return n.applyEffect(t)}))},t.prototype.applyEffect=function(t){this.ctx.save(),function(t){return 0===t.type}(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),function(t){return 1===t.type}(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(t){return i(this,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return(e=t.element.container.styles).isVisible()?(this.ctx.globalAlpha=e.opacity,[4,this.renderStackContent(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.renderNode=function(t){return i(this,void 0,void 0,(function(){return r(this,(function(e){switch(e.label){case 0:return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},t.prototype.renderTextWithLetterSpacing=function(t,e){var n=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height):a(t.text).map((function(t){return l(t)})).reduce((function(e,i){return n.ctx.fillText(i,e,t.bounds.top+t.bounds.height),e+n.ctx.measureText(i).width}),t.bounds.left)},t.prototype.createFontStyle=function(t){var e=t.fontVariant.filter((function(t){return"normal"===t||"small-caps"===t})).join(""),n=t.fontFamily.join(", "),i=Nt(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,i,n].join(" "),n,i]},t.prototype.renderTextNode=function(t,e){return i(this,void 0,void 0,(function(){var n,i,o,s,a=this;return r(this,(function(r){return n=this.createFontStyle(e),i=n[0],o=n[1],s=n[2],this.ctx.font=i,t.textBounds.forEach((function(t){a.ctx.fillStyle=ee(e.color),a.renderTextWithLetterSpacing(t,e.letterSpacing);var n=e.textShadow;n.length&&t.text.trim().length&&(n.slice(0).reverse().forEach((function(e){a.ctx.shadowColor=ee(e.color),a.ctx.shadowOffsetX=e.offsetX.number*a.options.scale,a.ctx.shadowOffsetY=e.offsetY.number*a.options.scale,a.ctx.shadowBlur=e.blur.number,a.ctx.fillText(t.text,t.bounds.left,t.bounds.top+t.bounds.height)})),a.ctx.shadowColor="",a.ctx.shadowOffsetX=0,a.ctx.shadowOffsetY=0,a.ctx.shadowBlur=0),e.textDecorationLine.length&&(a.ctx.fillStyle=ee(e.textDecorationColor||e.color),e.textDecorationLine.forEach((function(e){switch(e){case 1:var n=a.fontMetrics.getMetrics(o,s).baseline;a.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+n),t.bounds.width,1);break;case 2:a.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:var i=a.fontMetrics.getMetrics(o,s).middle;a.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+i),t.bounds.width,1)}})))})),[2]}))}))},t.prototype.renderReplacedElement=function(t,e,n){if(n&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=fo(t),r=io(e);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return i(this,void 0,void 0,(function(){var n,i,s,a,l,u,c,h,p,d,A,g,m,v;return r(this,(function(r){switch(r.label){case 0:this.applyEffects(e.effects,4),n=e.container,i=e.curves,s=n.styles,a=0,l=n.textNodes,r.label=1;case 1:return a<l.length?(u=l[a],[4,this.renderTextNode(u,s)]):[3,4];case 2:r.sent(),r.label=3;case 3:return a++,[3,1];case 4:if(!(n instanceof Hi))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.options.cache.match(n.src)];case 6:return g=r.sent(),this.renderReplacedElement(n,i,g),[3,8];case 7:return r.sent(),Be.getInstance(this.options.id).error("Error loading image "+n.src),[3,8];case 8:if(n instanceof ji&&this.renderReplacedElement(n,i,n.canvas),!(n instanceof zi))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.options.cache.match(n.svg)];case 10:return g=r.sent(),this.renderReplacedElement(n,i,g),[3,12];case 11:return r.sent(),Be.getInstance(this.options.id).error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof ir&&n.tree?[4,new t({id:this.options.id,scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,scrollX:0,scrollY:0,width:n.width,height:n.height,cache:this.options.cache,windowWidth:n.width,windowHeight:n.height}).render(n.tree)]:[3,14];case 13:c=r.sent(),this.ctx.drawImage(c,0,0,n.width,n.width,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),r.label=14;case 14:if(n instanceof $i&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===Vi?n.checked&&(this.ctx.save(),this.path([new Vr(n.bounds.left+.39363*h,n.bounds.top+.79*h),new Vr(n.bounds.left+.16*h,n.bounds.top+.5549*h),new Vr(n.bounds.left+.27347*h,n.bounds.top+.44071*h),new Vr(n.bounds.left+.39694*h,n.bounds.top+.5649*h),new Vr(n.bounds.left+.72983*h,n.bounds.top+.23*h),new Vr(n.bounds.left+.84*h,n.bounds.top+.34085*h),new Vr(n.bounds.left+.39363*h,n.bounds.top+.79*h)]),this.ctx.fillStyle=ee(707406591),this.ctx.fill(),this.ctx.restore()):n.type===Ji&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,2*Math.PI,!0),this.ctx.fillStyle=ee(707406591),this.ctx.fill(),this.ctx.restore())),wo(n)&&n.value.length){switch(this.ctx.font=this.createFontStyle(s)[0],this.ctx.fillStyle=ee(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign=xo(n.styles.textAlign),v=fo(n),p=0,n.styles.textAlign){case Un.CENTER:p+=v.width/2;break;case Un.RIGHT:p+=v.width}d=v.add(p,0,0,-v.height/2+1),this.ctx.save(),this.path([new Vr(v.left,v.top),new Vr(v.left+v.width,v.top),new Vr(v.left+v.width,v.top+v.height),new Vr(v.left,v.top+v.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ti(n.value,d),s.letterSpacing),this.ctx.restore(),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"}if(!yi(n.styles.display,2048))return[3,20];if(null===n.styles.listStyleImage)return[3,19];if((A=n.styles.listStyleImage).type!==he.URL)return[3,18];g=void 0,m=A.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.options.cache.match(m)];case 16:return g=r.sent(),this.ctx.drawImage(g,n.bounds.left-(g.width+10),n.bounds.top),[3,18];case 17:return r.sent(),Be.getInstance(this.options.id).error("Error loading list-style-image "+m),[3,18];case 18:return[3,20];case 19:e.listValue&&n.styles.listStyleType!==Sn.NONE&&(this.ctx.font=this.createFontStyle(s)[0],this.ctx.fillStyle=ee(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",v=new o(n.bounds.left,n.bounds.top+Yt(n.styles.paddingTop,n.bounds.width),n.bounds.width,function(t,e){return Lt(t)&&"normal"===t.value?1.2*e:t.type===f.NUMBER_TOKEN?e*t.number:jt(t)?Yt(t,e):e}(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ti(e.listValue,v),s.letterSpacing),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}}))}))},t.prototype.renderStackContent=function(t){return i(this,void 0,void 0,(function(){var e,n,i,o,s,a,l,u,c,h,f,p,d,A,g;return r(this,(function(r){switch(r.label){case 0:return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:r.sent(),e=0,n=t.negativeZIndex,r.label=2;case 2:return e<n.length?(g=n[e],[4,this.renderStack(g)]):[3,5];case 3:r.sent(),r.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:r.sent(),i=0,o=t.nonInlineLevel,r.label=7;case 7:return i<o.length?(g=o[i],[4,this.renderNode(g)]):[3,10];case 8:r.sent(),r.label=9;case 9:return i++,[3,7];case 10:s=0,a=t.nonPositionedFloats,r.label=11;case 11:return s<a.length?(g=a[s],[4,this.renderStack(g)]):[3,14];case 12:r.sent(),r.label=13;case 13:return s++,[3,11];case 14:l=0,u=t.nonPositionedInlineLevel,r.label=15;case 15:return l<u.length?(g=u[l],[4,this.renderStack(g)]):[3,18];case 16:r.sent(),r.label=17;case 17:return l++,[3,15];case 18:c=0,h=t.inlineLevel,r.label=19;case 19:return c<h.length?(g=h[c],[4,this.renderNode(g)]):[3,22];case 20:r.sent(),r.label=21;case 21:return c++,[3,19];case 22:f=0,p=t.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return f<p.length?(g=p[f],[4,this.renderStack(g)]):[3,26];case 24:r.sent(),r.label=25;case 25:return f++,[3,23];case 26:d=0,A=t.positiveZIndex,r.label=27;case 27:return d<A.length?(g=A[d],[4,this.renderStack(g)]):[3,30];case 28:r.sent(),r.label=29;case 29:return d++,[3,27];case 30:return[2]}}))}))},t.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},t.prototype.formatPath=function(t){var e=this;t.forEach((function(t,n){var i=$r(t)?t.start:t;0===n?e.ctx.moveTo(i.x,i.y):e.ctx.lineTo(i.x,i.y),$r(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)}))},t.prototype.renderRepeat=function(t,e,n,i){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)},t.prototype.resizeImage=function(t,e,n){if(t.width===e&&t.height===n)return t;var i=this.canvas.ownerDocument.createElement("canvas");return i.width=e,i.height=n,i.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,n),i},t.prototype.renderBackgroundImage=function(t){return i(this,void 0,void 0,(function(){var e,n,i,o,s,a;return r(this,(function(l){switch(l.label){case 0:e=t.styles.backgroundImage.length-1,n=function(n){var o,s,a,l,u,c,h,f,p,d,A,g,m,v,y,_,b,w,E,x,C,B,I,S,O,M,T,N,k,L,F;return r(this,(function(r){switch(r.label){case 0:if(n.type!==he.URL)return[3,5];o=void 0,s=n.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,i.options.cache.match(s)];case 2:return o=r.sent(),[3,4];case 3:return r.sent(),Be.getInstance(i.options.id).error("Error loading background-image "+s),[3,4];case 4:return o&&(a=po(t,e,[o.width,o.height,o.width/o.height]),_=a[0],B=a[1],I=a[2],E=a[3],x=a[4],v=i.ctx.createPattern(i.resizeImage(o,E,x),"repeat"),i.renderRepeat(_,v,B,I)),[3,6];case 5:n.type===he.LINEAR_GRADIENT?(l=po(t,e,[null,null,null]),_=l[0],B=l[1],I=l[2],E=l[3],x=l[4],u=ve(n.angle,E,x),c=u[0],h=u[1],f=u[2],p=u[3],d=u[4],(A=document.createElement("canvas")).width=E,A.height=x,g=A.getContext("2d"),m=g.createLinearGradient(h,p,f,d),me(n.stops,c).forEach((function(t){return m.addColorStop(t.stop,ee(t.color))})),g.fillStyle=m,g.fillRect(0,0,E,x),v=i.ctx.createPattern(A,"repeat"),i.renderRepeat(_,v,B,I)):function(t){return t.type===he.RADIAL_GRADIENT}(n)&&(y=po(t,e,[null,null,null]),_=y[0],b=y[1],w=y[2],E=y[3],x=y[4],C=0===n.position.length?[Gt]:n.position,B=Yt(C[0],E),I=Yt(C[C.length-1],x),S=function(t,e,n,i,r){var o=0,s=0;switch(t.size){case pe.CLOSEST_SIDE:t.shape===fe.CIRCLE?o=s=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(n),Math.abs(n-r)):t.shape===fe.ELLIPSE&&(o=Math.min(Math.abs(e),Math.abs(e-i)),s=Math.min(Math.abs(n),Math.abs(n-r)));break;case pe.CLOSEST_CORNER:if(t.shape===fe.CIRCLE)o=s=Math.min(ye(e,n),ye(e,n-r),ye(e-i,n),ye(e-i,n-r));else if(t.shape===fe.ELLIPSE){var a=Math.min(Math.abs(n),Math.abs(n-r))/Math.min(Math.abs(e),Math.abs(e-i)),l=_e(i,r,e,n,!0),u=l[0],c=l[1];s=a*(o=ye(u-e,(c-n)/a))}break;case pe.FARTHEST_SIDE:t.shape===fe.CIRCLE?o=s=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(n),Math.abs(n-r)):t.shape===fe.ELLIPSE&&(o=Math.max(Math.abs(e),Math.abs(e-i)),s=Math.max(Math.abs(n),Math.abs(n-r)));break;case pe.FARTHEST_CORNER:if(t.shape===fe.CIRCLE)o=s=Math.max(ye(e,n),ye(e,n-r),ye(e-i,n),ye(e-i,n-r));else if(t.shape===fe.ELLIPSE){a=Math.max(Math.abs(n),Math.abs(n-r))/Math.max(Math.abs(e),Math.abs(e-i));var h=_e(i,r,e,n,!1);u=h[0],c=h[1],s=a*(o=ye(u-e,(c-n)/a))}}return Array.isArray(t.size)&&(o=Yt(t.size[0],i),s=2===t.size.length?Yt(t.size[1],r):o),[o,s]}(n,B,I,E,x),O=S[0],M=S[1],O>0&&O>0&&(T=i.ctx.createRadialGradient(b+B,w+I,0,b+B,w+I,O),me(n.stops,2*O).forEach((function(t){return T.addColorStop(t.stop,ee(t.color))})),i.path(_),i.ctx.fillStyle=T,O!==M?(N=t.bounds.left+.5*t.bounds.width,k=t.bounds.top+.5*t.bounds.height,F=1/(L=M/O),i.ctx.save(),i.ctx.translate(N,k),i.ctx.transform(1,0,0,L,0,0),i.ctx.translate(-N,-k),i.ctx.fillRect(b,F*(w-k)+k,E,x*F),i.ctx.restore()):i.ctx.fill())),r.label=6;case 6:return e--,[2]}}))},i=this,o=0,s=t.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return o<s.length?(a=s[o],[5,n(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},t.prototype.renderBorder=function(t,e,n){return i(this,void 0,void 0,(function(){return r(this,(function(i){return this.path(function(t,e){switch(e){case 0:return co(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return co(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return co(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return co(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}}(n,e)),this.ctx.fillStyle=ee(t),this.ctx.fill(),[2]}))}))},t.prototype.renderNodeBackgroundAndBorders=function(t){return i(this,void 0,void 0,(function(){var e,n,i,o,s,a,l,u,c=this;return r(this,(function(r){switch(r.label){case 0:return this.applyEffects(t.effects,2),e=t.container.styles,n=!te(e.backgroundColor)||e.backgroundImage.length,i=[{style:e.borderTopStyle,color:e.borderTopColor},{style:e.borderRightStyle,color:e.borderRightColor},{style:e.borderBottomStyle,color:e.borderBottomColor},{style:e.borderLeftStyle,color:e.borderLeftColor}],o=Eo(vo(e.backgroundClip,0),t.curves),n||e.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),te(e.backgroundColor)||(this.ctx.fillStyle=ee(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach((function(e){c.ctx.save();var n,i,r,o,s,a=no(t.curves),l=e.inset?0:1e4,u=(n=a,i=-l+(e.inset?1:-1)*e.spread.number,r=(e.inset?1:-1)*e.spread.number,o=e.spread.number*(e.inset?-2:2),s=e.spread.number*(e.inset?-2:2),n.map((function(t,e){switch(e){case 0:return t.add(i,r);case 1:return t.add(i+o,r);case 2:return t.add(i+o,r+s);case 3:return t.add(i,r+s)}return t})));e.inset?(c.path(a),c.ctx.clip(),c.mask(u)):(c.mask(a),c.ctx.clip(),c.path(u)),c.ctx.shadowOffsetX=e.offsetX.number+l,c.ctx.shadowOffsetY=e.offsetY.number,c.ctx.shadowColor=ee(e.color),c.ctx.shadowBlur=e.blur.number,c.ctx.fillStyle=e.inset?ee(e.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),r.label=2;case 2:s=0,a=0,l=i,r.label=3;case 3:return a<l.length?(u=l[a]).style===We.NONE||te(u.color)?[3,5]:[4,this.renderBorder(u.color,s++,t.curves)]:[3,6];case 4:r.sent(),r.label=5;case 5:return a++,[3,3];case 6:return[2]}}))}))},t.prototype.render=function(t){return i(this,void 0,void 0,(function(){var e;return r(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ee(this.options.backgroundColor),this.ctx.fillRect(this.options.x-this.options.scrollX,this.options.y-this.options.scrollY,this.options.width,this.options.height)),i=new ao(t,[]),r=new so(i),lo(i,r,r,o=[]),uo(i.container,o),e=r,[4,this.renderStack(e)];case 1:return n.sent(),this.applyEffects([],2),[2,this.canvas]}var i,r,o}))}))},t}(),wo=function(t){return t instanceof er||t instanceof tr||t instanceof $i&&t.type!==Ji&&t.type!==Vi},Eo=function(t,e){switch(t){case ae.BORDER_BOX:return no(e);case ae.CONTENT_BOX:return function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]}(e);case ae.PADDING_BOX:default:return io(e)}},xo=function(t){switch(t){case Un.CENTER:return"center";case Un.RIGHT:return"right";case Un.LEFT:default:return"left"}},Co=function(){function t(t){this.canvas=t.canvas?t.canvas:document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.options=t,this.canvas.width=Math.floor(t.width*t.scale),this.canvas.height=Math.floor(t.height*t.scale),this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-t.x+t.scrollX,-t.y+t.scrollY),Be.getInstance(t.id).debug("EXPERIMENTAL ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale)}return t.prototype.render=function(t){return i(this,void 0,void 0,(function(){var e,n;return r(this,(function(i){switch(i.label){case 0:return e=Ee(Math.max(this.options.windowWidth,this.options.width)*this.options.scale,Math.max(this.options.windowHeight,this.options.height)*this.options.scale,this.options.scrollX*this.options.scale,this.options.scrollY*this.options.scale,t),[4,Bo(e)];case 1:return n=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ee(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},t}(),Bo=function(t){return new Promise((function(e,n){var i=new Image;i.onload=function(){e(i)},i.onerror=n,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},Io=function(t){return $t(Tt.create(t).parseComponentValue())};Ie.setContext(window);var So=function(t,e){return i(void 0,void 0,void 0,(function(){var i,a,l,u,c,h,f,p,d,A,g,m,v,y,_,b,w,E,x,C,B,I,S;return r(this,(function(r){switch(r.label){case 0:if(!(i=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(a=i.defaultView))throw new Error("Document is not attached to a Window");return l=(Math.round(1e3*Math.random())+Date.now()).toString(16),u=mr(t)||"HTML"===t.tagName?function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),r=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new o(0,0,i,r)}(i):s(t),c=u.width,h=u.height,f=u.left,p=u.top,d=n({},{allowTaint:!1,imageTimeout:15e3,proxy:void 0,useCORS:!1},e),A={backgroundColor:"#ffffff",cache:e.cache?e.cache:Ie.create(l,d),logging:!0,removeContainer:!0,foreignObjectRendering:!1,scale:a.devicePixelRatio||1,windowWidth:a.innerWidth,windowHeight:a.innerHeight,scrollX:a.pageXOffset,scrollY:a.pageYOffset,x:f,y:p,width:Math.ceil(c),height:Math.ceil(h),id:l},g=n({},A,d,e),m=new o(g.scrollX,g.scrollY,g.windowWidth,g.windowHeight),Be.create(l),Be.getInstance(l).debug("Starting document clone"),v=new Rr(t,{id:l,onclone:g.onclone,ignoreElements:g.ignoreElements,inlineImages:g.foreignObjectRendering,copyStyles:g.foreignObjectRendering}),(y=v.clonedReferenceElement)?[4,v.toIFrame(i,m)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return _=r.sent(),b=i.documentElement?Io(getComputedStyle(i.documentElement).backgroundColor):ce.TRANSPARENT,w=i.body?Io(getComputedStyle(i.body).backgroundColor):ce.TRANSPARENT,E=e.backgroundColor,x="string"==typeof E?Io(E):4294967295,C=t===i.documentElement?te(b)?te(w)?x:w:b:x,B={id:l,cache:g.cache,backgroundColor:C,scale:g.scale,x:g.x,y:g.y,scrollX:g.scrollX,scrollY:g.scrollY,width:g.width,height:g.height,windowWidth:g.windowWidth,windowHeight:g.windowHeight},g.foreignObjectRendering?(Be.getInstance(l).debug("Document cloned, using foreign object rendering"),[4,new Co(B).render(y)]):[3,3];case 2:return I=r.sent(),[3,5];case 3:return Be.getInstance(l).debug("Document cloned, using computed rendering"),Ie.attachInstance(g.cache),Be.getInstance(l).debug("Starting DOM parsing"),S=ar(y),Ie.detachInstance(),C===S.styles.backgroundColor&&(S.styles.backgroundColor=ce.TRANSPARENT),Be.getInstance(l).debug("Starting renderer"),[4,new bo(B).render(S)];case 4:I=r.sent(),r.label=5;case 5:return!0===g.removeContainer&&(Oo(_)||Be.getInstance(l).error("Cannot detach cloned iframe as it is not in the DOM anymore")),Be.getInstance(l).debug("Finished rendering"),Be.destroy(l),Ie.destroy(l),[2,I]}}))}))},Oo=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)};return function(t,e){return void 0===e&&(e={}),So(t,e)}}()},function(t,e,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!=t};function a(){a.init.call(this)}t.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var l=10;function u(t){return void 0===t._maxListeners?a.defaultMaxListeners:t._maxListeners}function c(t,e,n,i){var r,o,s,a;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=u(t))>0&&s.length>r&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=s.length,a=l,console&&console.warn&&console.warn(a)}return t}function h(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}function f(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function p(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(r):A(r,r.length)}function d(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function A(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");l=t}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=r[t];if(void 0===l)return!1;if("function"==typeof l)o(l,this,e);else{var u=l.length,c=A(l,u);for(n=0;n<u;++n)o(c[n],this,e)}return!0},a.prototype.addListener=function(t,e){return c(this,t,e,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(t,e){return c(this,t,e,!0)},a.prototype.once=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,f(this,t,e)),this},a.prototype.prependOnceListener=function(t,e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,f(this,t,e)),this},a.prototype.removeListener=function(t,e){var n,i,r,o,s;if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(void 0===(i=this._events))return this;if(void 0===(n=i[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,s||e)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(t){var e,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},a.prototype.listeners=function(t){return p(this,t,!0)},a.prototype.rawListeners=function(t){return p(this,t,!1)},a.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(t,e,n){(e=t.exports=n(150)).Stream=e,e.Readable=e,e.Writable=n(137),e.Duplex=n(89),e.Transform=n(155),e.PassThrough=n(199)},function(t,e,n){"use strict";(function(e,i,r){var o=n(118);function s(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,n){var i=t.entry;t.entry=null;for(;i;){var r=i.callback;e.pendingcb--,r(n),i=i.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=v;var a,l=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?i:o.nextTick;v.WritableState=m;var u=n(108);u.inherits=n(97);var c={deprecate:n(198)},h=n(151),f=n(119).Buffer,p=r.Uint8Array||function(){};var d,A=n(152);function g(){}function m(t,e){a=a||n(89),t=t||{};var i=e instanceof a;this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,u=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(u||0===u)?u:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var h=!1===t.decodeStrings;this.decodeStrings=!h,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var n=t._writableState,i=n.sync,r=n.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(n),e)!function(t,e,n,i,r){--e.pendingcb,n?(o.nextTick(r,i),o.nextTick(x,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(r(i),t._writableState.errorEmitted=!0,t.emit("error",i),x(t,e))}(t,n,i,e,r);else{var s=w(n);s||n.corked||n.bufferProcessing||!n.bufferedRequest||b(t,n),i?l(_,t,n,s,r):_(t,n,s,r)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function v(t){if(a=a||n(89),!(d.call(v,this)||this instanceof a))return new v(t);this._writableState=new m(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),h.call(this)}function y(t,e,n,i,r,o,s){e.writelen=i,e.writecb=s,e.writing=!0,e.sync=!0,n?t._writev(r,e.onwrite):t._write(r,o,e.onwrite),e.sync=!1}function _(t,e,n,i){n||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,i(),x(t,e)}function b(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var i=e.bufferedRequestCount,r=new Array(i),o=e.corkedRequestsFree;o.entry=n;for(var a=0,l=!0;n;)r[a]=n,n.isBuf||(l=!1),n=n.next,a+=1;r.allBuffers=l,y(t,e,!0,e.length,r,"",o.finish),e.pendingcb++,e.lastBufferedRequest=null,o.next?(e.corkedRequestsFree=o.next,o.next=null):e.corkedRequestsFree=new s(e),e.bufferedRequestCount=0}else{for(;n;){var u=n.chunk,c=n.encoding,h=n.callback;if(y(t,e,!1,e.objectMode?1:u.length,u,c,h),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function E(t,e){t._final((function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),x(t,e)}))}function x(t,e){var n=w(e);return n&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,o.nextTick(E,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}u.inherits(v,h),m.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(m.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(t){return!!d.call(this,t)||this===v&&(t&&t._writableState instanceof m)}})):d=function(t){return t instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(t,e,n){var i,r=this._writableState,s=!1,a=!r.objectMode&&(i=t,f.isBuffer(i)||i instanceof p);return a&&!f.isBuffer(t)&&(t=function(t){return f.from(t)}(t)),"function"==typeof e&&(n=e,e=null),a?e="buffer":e||(e=r.defaultEncoding),"function"!=typeof n&&(n=g),r.ended?function(t,e){var n=new Error("write after end");t.emit("error",n),o.nextTick(e,n)}(this,n):(a||function(t,e,n,i){var r=!0,s=!1;return null===n?s=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||e.objectMode||(s=new TypeError("Invalid non-string/buffer chunk")),s&&(t.emit("error",s),o.nextTick(i,s),r=!1),r}(this,r,t,n))&&(r.pendingcb++,s=function(t,e,n,i,r,o){if(!n){var s=function(t,e,n){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=f.from(e,n));return e}(e,i,r);i!==s&&(n=!0,r="buffer",i=s)}var a=e.objectMode?1:i.length;e.length+=a;var l=e.length<e.highWaterMark;l||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:i,encoding:r,isBuf:n,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else y(t,e,!1,a,i,r,o);return l}(this,r,a,t,e,n)),s},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||b(this,t))},v.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(t,e,n){var i=this._writableState;"function"==typeof t?(n=t,t=null,e=null):"function"==typeof e&&(n=e,e=null),null!=t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,n){e.ending=!0,x(t,e),n&&(e.finished?o.nextTick(n):t.once("finish",n));e.ended=!0,t.writable=!1}(this,i,n)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),v.prototype.destroy=A.destroy,v.prototype._undestroy=A.undestroy,v.prototype._destroy=function(t,e){this.end(),e(t)}}).call(this,n(117),n(153).setImmediate,n(57))},function(t,e,n){"use strict";var i=n(109),r=n(159),o=n(160),s=n(161);o=n(160);function a(t,e,n,i,r){this.compressedSize=t,this.uncompressedSize=e,this.crc32=n,this.compression=i,this.compressedContent=r}a.prototype={getContentWorker:function(){var t=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),e=this;return t.on("end",(function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),t},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(t,e,n){return t.pipe(new s).pipe(new o("uncompressedSize")).pipe(e.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",e)},t.exports=a},function(t,e,n){"use strict";var i=n(33);var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e){return void 0!==t&&t.length?"string"!==i.getTypeOf(t)?function(t,e,n,i){var o=r,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}(0|e,t,t.length,0):function(t,e,n,i){var o=r,s=i+n;t^=-1;for(var a=i;a<s;a++)t=t>>>8^o[255&(t^e.charCodeAt(a))];return-1^t}(0|e,t,t.length,0):0}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){var i,r,o;!function(s){"use strict";r=[n(55)],void 0===(o="function"==typeof(i=function(t,e){var n={beforeShow:c,move:c,change:c,show:c,hide:c,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},i=[],r=!!/msie/i.exec(window.navigator.userAgent),o=function(){function t(t,e){return!!~(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),a=function(){var t="";if(r)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function l(e,n,i,r){for(var s=[],a=0;a<e.length;a++){var l=e[a];if(l){var u=tinycolor(l),c=u.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=tinycolor.equals(n,l)?" sp-thumb-active":"";var h=u.toString(r.preferredFormat||"rgb"),f=o?"background-color:"+u.toRgbString():"filter:"+u.toFilter();s.push('<span title="'+h+'" data-color="'+u.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+f+';" /></span>')}else{s.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",r.noColorSelectedText)).html())}}return"<div class='sp-cf "+i+"'>"+s.join("")+"</div>"}function u(u,c){var A,g,m,v,y=function(e,i){var r=t.extend({},n,e);return r.callbacks={move:f(r.move,i),change:f(r.change,i),show:f(r.show,i),hide:f(r.hide,i),beforeShow:f(r.beforeShow,i)},r}(c,u),_=y.flat,b=y.showSelectionPalette,w=y.localStorageKey,E=y.theme,x=y.callbacks,C=(A=zt,g=10,function(){var t=this,e=arguments,n=function(){v=null,A.apply(t,e)};m&&clearTimeout(v),!m&&v||(v=setTimeout(n,g))}),B=!1,I=!1,S=0,O=0,M=0,T=0,N=0,k=0,L=0,F=0,R=0,D=0,P=1,U=[],Q=[],H={},j=y.selectionPalette.slice(0),z=y.maxSelectionSize,K="sp-dragging",G=null,q=u.ownerDocument,W=(q.body,t(u)),Y=!1,X=t(a,q).addClass(E),V=X.find(".sp-picker-container"),J=X.find(".sp-color"),Z=X.find(".sp-dragger"),$=X.find(".sp-hue"),tt=X.find(".sp-slider"),et=X.find(".sp-alpha-inner"),nt=X.find(".sp-alpha"),it=X.find(".sp-alpha-handle"),rt=X.find(".sp-input"),ot=X.find(".sp-palette"),st=X.find(".sp-initial"),at=X.find(".sp-cancel"),lt=X.find(".sp-clear"),ut=X.find(".sp-choose"),ct=X.find(".sp-palette-toggle"),ht=W.is("input"),ft=ht&&"color"===W.attr("type")&&d(),pt=ht&&!_,dt=pt?t(s).addClass(E).addClass(y.className).addClass(y.replacerClassName):t([]),At=pt?dt:W,gt=dt.find(".sp-preview-inner"),mt=y.color||ht&&W.val(),vt=!1,yt=y.preferredFormat,_t=!y.showButtons||y.clickoutFiresChange,bt=!mt,wt=y.allowEmpty&&!ft;function Et(){if(y.showPaletteOnly&&(y.showPalette=!0),ct.text(y.showPaletteOnly?y.togglePaletteMoreText:y.togglePaletteLessText),y.palette){U=y.palette.slice(0),Q=t.isArray(U[0])?U:[U],H={};for(var e=0;e<Q.length;e++)for(var n=0;n<Q[e].length;n++){var i=tinycolor(Q[e][n]).toRgbString();H[i]=!0}}X.toggleClass("sp-flat",_),X.toggleClass("sp-input-disabled",!y.showInput),X.toggleClass("sp-alpha-enabled",y.showAlpha),X.toggleClass("sp-clear-enabled",wt),X.toggleClass("sp-buttons-disabled",!y.showButtons),X.toggleClass("sp-palette-buttons-disabled",!y.togglePaletteOnly),X.toggleClass("sp-palette-disabled",!y.showPalette),X.toggleClass("sp-palette-only",y.showPaletteOnly),X.toggleClass("sp-initial-disabled",!y.showInitial),X.addClass(y.className).addClass(y.containerClassName),zt()}function xt(){if(w&&window.localStorage){try{var e=window.localStorage[w].split(",#");e.length>1&&(delete window.localStorage[w],t.each(e,(function(t,e){Ct(e)})))}catch(t){}try{j=window.localStorage[w].split(";")}catch(t){}}}function Ct(e){if(b){var n=tinycolor(e).toRgbString();if(!H[n]&&-1===t.inArray(n,j))for(j.push(n);j.length>z;)j.shift();if(w&&window.localStorage)try{window.localStorage[w]=j.join(";")}catch(t){}}}function Bt(){var e=Pt(),n=t.map(Q,(function(t,n){return l(t,e,"sp-palette-row sp-palette-row-"+n,y)}));xt(),j&&n.push(l(function(){var t=[];if(y.showPalette)for(var e=0;e<j.length;e++){var n=tinycolor(j[e]).toRgbString();H[n]||t.push(j[e])}return t.reverse().slice(0,y.maxSelectionSize)}(),e,"sp-palette-row sp-palette-row-selection",y)),ot.html(n.join(""))}function It(){if(y.showInitial){var t=vt,e=Pt();st.html(l([t,e],e,"sp-palette-row-initial",y))}}function St(){(O<=0||S<=0||T<=0)&&zt(),I=!0,X.addClass(K),G=null,W.trigger("dragstart.spectrum",[Pt()])}function Ot(){I=!1,X.removeClass(K),W.trigger("dragstop.spectrum",[Pt()])}function Mt(){var t=rt.val();if(null!==t&&""!==t||!wt){var e=tinycolor(t);e.isValid()?(Dt(e),jt(!0)):rt.addClass("sp-validation-error")}else Dt(null),jt(!0)}function Tt(){B?Ft():Nt()}function Nt(){var e=t.Event("beforeShow.spectrum");B?zt():(W.trigger(e,[Pt()]),!1===x.beforeShow(Pt())||e.isDefaultPrevented()||(!function(){for(var t=0;t<i.length;t++)i[t]&&i[t].hide()}(),B=!0,t(q).bind("keydown.spectrum",kt),t(q).bind("click.spectrum",Lt),t(window).bind("resize.spectrum",C),dt.addClass("sp-active"),X.removeClass("sp-hidden"),zt(),Qt(),vt=Pt(),It(),x.show(vt),W.trigger("show.spectrum",[vt])))}function kt(t){27===t.keyCode&&Ft()}function Lt(t){2!=t.button&&(I||(_t?jt(!0):Rt(),Ft()))}function Ft(){B&&!_&&(B=!1,t(q).unbind("keydown.spectrum",kt),t(q).unbind("click.spectrum",Lt),t(window).unbind("resize.spectrum",C),dt.removeClass("sp-active"),X.addClass("sp-hidden"),x.hide(Pt()),W.trigger("hide.spectrum",[Pt()]))}function Rt(){Dt(vt,!0)}function Dt(t,e){var n,i;tinycolor.equals(t,Pt())?Qt():(!t&&wt?bt=!0:(bt=!1,i=(n=tinycolor(t)).toHsv(),F=i.h%360/360,R=i.s,D=i.v,P=i.a),Qt(),n&&n.isValid()&&!e&&(yt=y.preferredFormat||n.getFormat()))}function Pt(t){return t=t||{},wt&&bt?null:tinycolor.fromRatio({h:F,s:R,v:D,a:Math.round(100*P)/100},{format:t.format||yt})}function Ut(){Qt(),x.move(Pt()),W.trigger("move.spectrum",[Pt()])}function Qt(){rt.removeClass("sp-validation-error"),Ht();var t=tinycolor.fromRatio({h:F,s:1,v:1});J.css("background-color",t.toHexString());var e=yt;P<1&&(0!==P||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var n=Pt({format:e}),i="";if(gt.removeClass("sp-clear-display"),gt.css("background-color","transparent"),!n&&wt)gt.addClass("sp-clear-display");else{var s=n.toHexString(),a=n.toRgbString();if(o||1===n.alpha?gt.css("background-color",a):(gt.css("background-color","transparent"),gt.css("filter",n.toFilter())),y.showAlpha){var l=n.toRgb();l.a=0;var u=tinycolor(l).toRgbString(),c="linear-gradient(left, "+u+", "+s+")";r?et.css("filter",tinycolor(u).toFilter({gradientType:1},s)):(et.css("background","-webkit-"+c),et.css("background","-moz-"+c),et.css("background","-ms-"+c),et.css("background","linear-gradient(to right, "+u+", "+s+")"))}i=n.toString(e)}y.showInput&&rt.val(i),y.showPalette&&Bt(),It()}function Ht(){var t=R,e=D;if(wt&&bt)it.hide(),tt.hide(),Z.hide();else{it.show(),tt.show(),Z.show();var n=t*S,i=O-e*O;n=Math.max(-M,Math.min(S-M,n-M)),i=Math.max(-M,Math.min(O-M,i-M)),Z.css({top:i+"px",left:n+"px"});var r=P*N;it.css({left:r-k/2+"px"});var o=F*T;tt.css({top:o-L+"px"})}}function jt(t){var e=Pt(),n="",i=!tinycolor.equals(e,vt);e&&(n=e.toString(yt),Ct(e)),ht&&W.val(n),t&&i&&(x.change(e),W.trigger("change",[e]))}function zt(){B&&(S=J.width(),O=J.height(),M=Z.height(),$.width(),T=$.height(),L=tt.height(),N=nt.width(),k=it.width(),_||(X.css("position","absolute"),y.offset?X.offset(y.offset):X.offset(function(e,n){var i=e.outerWidth(),r=e.outerHeight(),o=n.outerHeight(),s=e[0].ownerDocument,a=s.documentElement,l=a.clientWidth+t(s).scrollLeft(),u=a.clientHeight+t(s).scrollTop(),c=n.offset();return c.top+=o,c.left-=Math.min(c.left,c.left+i>l&&l>i?Math.abs(c.left+i-l):0),c.top-=Math.min(c.top,c.top+r>u&&u>r?Math.abs(r+o-0):0),c}(X,At))),Ht(),y.showPalette&&Bt(),W.trigger("reflow.spectrum"))}function Kt(){Ft(),Y=!0,W.attr("disabled",!0),At.addClass("sp-disabled")}!function(){if(r&&X.find("*:not(input)").attr("unselectable","on"),Et(),pt&&W.after(dt).hide(),wt||lt.hide(),_)W.after(X).hide();else{var e="parent"===y.appendTo?W.parent():t(y.appendTo);1!==e.length&&(e=t("body")),e.append(X)}function n(e){return e.data&&e.data.ignore?(Dt(t(e.target).closest(".sp-thumb-el").data("color")),Ut()):(Dt(t(e.target).closest(".sp-thumb-el").data("color")),Ut(),jt(!0),y.hideAfterPaletteSelect&&Ft()),!1}xt(),At.bind("click.spectrum touchstart.spectrum",(function(e){Y||Tt(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()})),(W.is(":disabled")||!0===y.disabled)&&Kt(),X.click(h),rt.change(Mt),rt.bind("paste",(function(){setTimeout(Mt,1)})),rt.keydown((function(t){13==t.keyCode&&Mt()})),at.text(y.cancelText),at.bind("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),Rt(),Ft()})),lt.attr("title",y.clearText),lt.bind("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),bt=!0,Ut(),_&&jt(!0)})),ut.text(y.chooseText),ut.bind("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),r&&rt.is(":focus")&&rt.trigger("change"),rt.hasClass("sp-validation-error")||(jt(!0),Ft())})),ct.text(y.showPaletteOnly?y.togglePaletteMoreText:y.togglePaletteLessText),ct.bind("click.spectrum",(function(t){t.stopPropagation(),t.preventDefault(),y.showPaletteOnly=!y.showPaletteOnly,y.showPaletteOnly||_||X.css("left","-="+(V.outerWidth(!0)+5)),Et()})),p(nt,(function(t,e,n){P=t/N,bt=!1,n.shiftKey&&(P=Math.round(10*P)/10),Ut()}),St,Ot),p($,(function(t,e){F=parseFloat(e/T),bt=!1,y.showAlpha||(P=1),Ut()}),St,Ot),p(J,(function(t,e,n){if(n.shiftKey){if(!G){var i=R*S,r=O-D*O,o=Math.abs(t-i)>Math.abs(e-r);G=o?"x":"y"}}else G=null;var s=!G||"y"===G;(!G||"x"===G)&&(R=parseFloat(t/S)),s&&(D=parseFloat((O-e)/O)),bt=!1,y.showAlpha||(P=1),Ut()}),St,Ot),mt?(Dt(mt),Qt(),yt=y.preferredFormat||tinycolor(mt).format,Ct(mt)):Qt(),_&&Nt();var i=r?"mousedown.spectrum":"click.spectrum touchstart.spectrum";ot.delegate(".sp-thumb-el",i,n),st.delegate(".sp-thumb-el:nth-child(1)",i,{ignore:!0},n)}();var Gt={show:Nt,hide:Ft,toggle:Tt,reflow:zt,option:function(n,i){return n===e?t.extend({},y):i===e?y[n]:(y[n]=i,"preferredFormat"===n&&(yt=y.preferredFormat),void Et())},enable:function(){Y=!1,W.attr("disabled",!1),At.removeClass("sp-disabled")},disable:Kt,offset:function(t){y.offset=t,zt()},set:function(t){Dt(t),jt()},get:Pt,destroy:function(){W.show(),At.unbind("click.spectrum touchstart.spectrum"),X.remove(),dt.remove(),i[Gt.id]=null},container:X};return Gt.id=i.push(Gt)-1,Gt}function c(){}function h(t){t.stopPropagation()}function f(t,e){var n=Array.prototype.slice,i=n.call(arguments,2);return function(){return t.apply(e,i.concat(n.call(arguments)))}}function p(e,n,i,o){n=n||function(){},i=i||function(){},o=o||function(){};var s=document,a=!1,l={},u=0,c=0,h="ontouchstart"in window,f={};function p(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function d(t){if(a){if(r&&s.documentMode<9&&!t.button)return A();var i=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],o=i&&i.pageX||t.pageX,f=i&&i.pageY||t.pageY,d=Math.max(0,Math.min(o-l.left,c)),g=Math.max(0,Math.min(f-l.top,u));h&&p(t),n.apply(e,[d,g,t])}}function A(){a&&(t(s).unbind(f),t(s.body).removeClass("sp-dragging"),setTimeout((function(){o.apply(e,arguments)}),0)),a=!1}f.selectstart=p,f.dragstart=p,f["touchmove mousemove"]=d,f["touchend mouseup"]=A,t(e).bind("touchstart mousedown",(function(n){(n.which?3==n.which:2==n.button)||a||!1!==i.apply(e,arguments)&&(a=!0,u=t(e).height(),c=t(e).width(),l=t(e).offset(),t(s).bind(f),t(s.body).addClass("sp-dragging"),d(n),p(n))}))}function d(){return t.fn.spectrum.inputTypeColorSupport()}var A="spectrum.id";t.fn.spectrum=function(e,n){if("string"==typeof e){var r=this,o=Array.prototype.slice.call(arguments,1);return this.each((function(){var n=i[t(this).data(A)];if(n){var s=n[e];if(!s)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?r=n.get():"container"==e?r=n.container:"option"==e?r=n.option.apply(n,o):"destroy"==e?(n.destroy(),t(this).removeData(A)):s.apply(n,o)}})),r}return this.spectrum("destroy").each((function(){var n=u(this,t.extend({},e,t(this).data()));t(this).data(A,n.id)}))},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=p,t.fn.spectrum.defaults=n,t.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var n=t("<input type='color'/>")[0];e._cachedResult="color"===n.type&&""!==n.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!d()&&e.spectrum({preferredFormat:"hex6"})},function(){var t=/^[\s,#]+/,e=/\s+$/,n=0,i=Math,r=i.round,o=i.min,s=i.max,a=i.random,l=function(a,u){if(u=u||{},(a=a||"")instanceof l)return a;if(!(this instanceof l))return new l(a,u);var c=function(n){var r={r:0,g:0,b:0},a=1,l=!1,u=!1;"string"==typeof n&&(n=function(n){n=n.replace(t,"").replace(e,"").toLowerCase();var i,r=!1;if(B[n])n=B[n],r=!0;else if("transparent"==n)return{r:0,g:0,b:0,a:0,format:"name"};if(i=D.rgb.exec(n))return{r:i[1],g:i[2],b:i[3]};if(i=D.rgba.exec(n))return{r:i[1],g:i[2],b:i[3],a:i[4]};if(i=D.hsl.exec(n))return{h:i[1],s:i[2],l:i[3]};if(i=D.hsla.exec(n))return{h:i[1],s:i[2],l:i[3],a:i[4]};if(i=D.hsv.exec(n))return{h:i[1],s:i[2],v:i[3]};if(i=D.hsva.exec(n))return{h:i[1],s:i[2],v:i[3],a:i[4]};if(i=D.hex8.exec(n))return{a:(o=i[1],T(o)/255),r:T(i[2]),g:T(i[3]),b:T(i[4]),format:r?"name":"hex8"};var o;if(i=D.hex6.exec(n))return{r:T(i[1]),g:T(i[2]),b:T(i[3]),format:r?"name":"hex"};if(i=D.hex3.exec(n))return{r:T(i[1]+""+i[1]),g:T(i[2]+""+i[2]),b:T(i[3]+""+i[3]),format:r?"name":"hex"};return!1}(n));"object"==typeof n&&(n.hasOwnProperty("r")&&n.hasOwnProperty("g")&&n.hasOwnProperty("b")?(c=n.r,h=n.g,f=n.b,r={r:255*O(c,255),g:255*O(h,255),b:255*O(f,255)},l=!0,u="%"===String(n.r).substr(-1)?"prgb":"rgb"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("v")?(n.s=k(n.s),n.v=k(n.v),r=function(t,e,n){t=6*O(t,360),e=O(e,100),n=O(n,100);var r=i.floor(t),o=t-r,s=n*(1-e),a=n*(1-o*e),l=n*(1-(1-o)*e),u=r%6;return{r:255*[n,a,s,s,l,n][u],g:255*[l,n,n,a,s,s][u],b:255*[s,s,l,n,n,a][u]}}(n.h,n.s,n.v),l=!0,u="hsv"):n.hasOwnProperty("h")&&n.hasOwnProperty("s")&&n.hasOwnProperty("l")&&(n.s=k(n.s),n.l=k(n.l),r=function(t,e,n){var i,r,o;function s(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(t=O(t,360),e=O(e,100),n=O(n,100),0===e)i=r=o=n;else{var a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=s(l,a,t+1/3),r=s(l,a,t),o=s(l,a,t-1/3)}return{r:255*i,g:255*r,b:255*o}}(n.h,n.s,n.l),l=!0,u="hsl"),n.hasOwnProperty("a")&&(a=n.a));var c,h,f;return a=S(a),{ok:l,format:n.format||u,r:o(255,s(r.r,0)),g:o(255,s(r.g,0)),b:o(255,s(r.b,0)),a:a}}(a);this._originalInput=a,this._r=c.r,this._g=c.g,this._b=c.b,this._a=c.a,this._roundA=r(100*this._a)/100,this._format=u.format||c.format,this._gradientType=u.gradientType,this._r<1&&(this._r=r(this._r)),this._g<1&&(this._g=r(this._g)),this._b<1&&(this._b=r(this._b)),this._ok=c.ok,this._tc_id=n++};function u(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var i,r,a=s(t,e,n),l=o(t,e,n),u=(a+l)/2;if(a==l)i=r=0;else{var c=a-l;switch(r=u>.5?c/(2-a-l):c/(a+l),a){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,l:u}}function c(t,e,n){t=O(t,255),e=O(e,255),n=O(n,255);var i,r,a=s(t,e,n),l=o(t,e,n),u=a,c=a-l;if(r=0===a?0:c/a,a==l)i=0;else{switch(a){case t:i=(e-n)/c+(e<n?6:0);break;case e:i=(n-t)/c+2;break;case n:i=(t-e)/c+4}i/=6}return{h:i,s:r,v:u}}function h(t,e,n,i){var o=[N(r(t).toString(16)),N(r(e).toString(16)),N(r(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function f(t,e,n,i){var o;return[N((o=i,Math.round(255*parseFloat(o)).toString(16))),N(r(t).toString(16)),N(r(e).toString(16)),N(r(n).toString(16))].join("")}function p(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s-=e/100,n.s=M(n.s),l(n)}function d(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.s+=e/100,n.s=M(n.s),l(n)}function A(t){return l(t).desaturate(100)}function g(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l+=e/100,n.l=M(n.l),l(n)}function m(t,e){e=0===e?0:e||10;var n=l(t).toRgb();return n.r=s(0,o(255,n.r-r(-e/100*255))),n.g=s(0,o(255,n.g-r(-e/100*255))),n.b=s(0,o(255,n.b-r(-e/100*255))),l(n)}function v(t,e){e=0===e?0:e||10;var n=l(t).toHsl();return n.l-=e/100,n.l=M(n.l),l(n)}function y(t,e){var n=l(t).toHsl(),i=(r(n.h)+e)%360;return n.h=i<0?360+i:i,l(n)}function _(t){var e=l(t).toHsl();return e.h=(e.h+180)%360,l(e)}function b(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+120)%360,s:e.s,l:e.l}),l({h:(n+240)%360,s:e.s,l:e.l})]}function w(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+90)%360,s:e.s,l:e.l}),l({h:(n+180)%360,s:e.s,l:e.l}),l({h:(n+270)%360,s:e.s,l:e.l})]}function E(t){var e=l(t).toHsl(),n=e.h;return[l(t),l({h:(n+72)%360,s:e.s,l:e.l}),l({h:(n+216)%360,s:e.s,l:e.l})]}function x(t,e,n){e=e||6,n=n||30;var i=l(t).toHsl(),r=360/n,o=[l(t)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,o.push(l(i));return o}function C(t,e){e=e||6;for(var n=l(t).toHsv(),i=n.h,r=n.s,o=n.v,s=[],a=1/e;e--;)s.push(l({h:i,s:r,v:o})),o=(o+a)%1;return s}l.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},setAlpha:function(t){return this._a=S(t),this._roundA=r(100*this._a)/100,this},toHsv:function(){var t=c(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=c(this._r,this._g,this._b),e=r(360*t.h),n=r(100*t.s),i=r(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=u(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=u(this._r,this._g,this._b),e=r(360*t.h),n=r(100*t.s),i=r(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return h(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(){return f(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:r(this._r),g:r(this._g),b:r(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+r(this._r)+", "+r(this._g)+", "+r(this._b)+")":"rgba("+r(this._r)+", "+r(this._g)+", "+r(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:r(100*O(this._r,255))+"%",g:r(100*O(this._g,255))+"%",b:r(100*O(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+r(100*O(this._r,255))+"%, "+r(100*O(this._g,255))+"%, "+r(100*O(this._b,255))+"%)":"rgba("+r(100*O(this._r,255))+"%, "+r(100*O(this._g,255))+"%, "+r(100*O(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(I[h(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";t&&(n=l(t).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0;return e||!i||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(g,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(v,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(d,arguments)},greyscale:function(){return this._applyModification(A,arguments)},spin:function(){return this._applyModification(y,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(x,arguments)},complement:function(){return this._applyCombination(_,arguments)},monochromatic:function(){return this._applyCombination(C,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(b,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},l.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]="a"===i?t[i]:k(t[i]));t=n}return l(t,e)},l.equals=function(t,e){return!(!t||!e)&&l(t).toRgbString()==l(e).toRgbString()},l.random=function(){return l.fromRatio({r:a(),g:a(),b:a()})},l.mix=function(t,e,n){n=0===n?0:n||50;var i,r=l(t).toRgb(),o=l(e).toRgb(),s=n/100,a=2*s-1,u=o.a-r.a,c=1-(i=((i=a*u==-1?a:(a+u)/(1+a*u))+1)/2),h={r:o.r*i+r.r*c,g:o.g*i+r.g*c,b:o.b*i+r.b*c,a:o.a*s+r.a*(1-s)};return l(h)},l.readability=function(t,e){var n=l(t),i=l(e),r=n.toRgb(),o=i.toRgb(),s=n.getBrightness(),a=i.getBrightness(),u=Math.max(r.r,o.r)-Math.min(r.r,o.r)+Math.max(r.g,o.g)-Math.min(r.g,o.g)+Math.max(r.b,o.b)-Math.min(r.b,o.b);return{brightness:Math.abs(s-a),color:u}},l.isReadable=function(t,e){var n=l.readability(t,e);return n.brightness>125&&n.color>500},l.mostReadable=function(t,e){for(var n=null,i=0,r=!1,o=0;o<e.length;o++){var s=l.readability(t,e[o]),a=s.brightness>125&&s.color>500,u=s.brightness/125*3+s.color/500;(a&&!r||a&&r&&u>i||!a&&!r&&u>i)&&(r=a,i=u,n=l(e[o]))}return n};var B=l.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},I=l.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(B);function S(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function O(t,e){(function(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)})(t)&&(t="100%");var n=function(t){return"string"==typeof t&&-1!=t.indexOf("%")}(t);return t=o(e,s(0,parseFloat(t))),n&&(t=parseInt(t*e,10)/100),i.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function M(t){return o(1,s(0,t))}function T(t){return parseInt(t,16)}function N(t){return 1==t.length?"0"+t:""+t}function k(t){return t<=1&&(t=100*t+"%"),t}var L,F,R,D=(F="[\\s|\\(]+("+(L="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?",R="[\\s|\\(]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")[,|\\s]+("+L+")\\s*\\)?",{rgb:new RegExp("rgb"+F),rgba:new RegExp("rgba"+R),hsl:new RegExp("hsl"+F),hsla:new RegExp("hsla"+R),hsv:new RegExp("hsv"+F),hsva:new RegExp("hsva"+R),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=l}(),t((function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()}))})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){"use strict";function i(t,e){return[[-1/0,-1/0,1/0,1/0]]}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";var i=n(15),r=n(36),o=n(28),s=n(17),a=n(3),l=n(8),u=n(66),c=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||h,target:n.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===n.collapsed||n.collapsed,this.overrideCollapsible_=void 0!==n.collapsible,this.collapsible_=void 0===n.collapsible||n.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",r=void 0!==n.tipLabel?n.tipLabel:"Attributions",s=void 0!==n.collapseLabel?n.collapseLabel:"»";"string"==typeof s?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=s):this.collapseLabel_=s;var u=void 0!==n.label?n.label:"i";"string"==typeof u?(this.label_=document.createElement("span"),this.label_.textContent=u):this.label_=u;var c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,f=document.createElement("button");f.setAttribute("type","button"),f.title=r,f.appendChild(c),Object(a.a)(f,l.a.CLICK,this.handleClick_,this);var p=i+" "+o.e+" "+o.b+(this.collapsed_&&this.collapsible_?" "+o.a:"")+(this.collapsible_?"":" ol-uncollapsible"),d=this.element;d.className=p,d.appendChild(this.ulElement_),d.appendChild(f),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,r=t.viewState.resolution,o=0,s=i.length;o<s;++o){var a=i[o];if(Object(u.b)(a,r)){var l=a.layer.getSource();if(l){var c=l.getAttributions();if(c){var h=c(t);if(h)if(this.overrideCollapsible_||!1!==l.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(h))for(var f=0,p=h.length;f<p;++f)h[f]in e||(n.push(h[f]),e[h[f]]=!0);else h in e||(n.push(h),e[h]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Object(i.b)(e,this.renderedAttributions_)){Object(s.d)(this.ulElement_);for(var r=0,o=e.length;r<o;++r){var a=document.createElement("li");a.innerHTML=e[r],this.ulElement_.appendChild(a)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(o.a),this.collapsed_?Object(s.f)(this.collapseLabel_,this.label_):Object(s.f)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(r.a);function h(t){this.updateElement_(t.frameState)}e.a=c},function(t,e,n){"use strict";var i=n(54),r=n(4),o=n(11),s=n(39),a=n(59),l=n(8),u=function(t){function e(e,n,i){t.call(this);var r=i||{};this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(l.a.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==o.a.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==o.a.LOADED){t.interimTile=null;break}t.getState()==o.a.LOADING?e=t:t.getState()==o.a.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:Object(s.a)(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(a.a),c=n(17),h=n(3);function f(){var t=Object(c.a)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var p=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,s),this.crossOrigin_=r,this.src_=i,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&(this.unlistenImage_(),this.image_=f()),this.interimTile&&this.interimTile.dispose(),this.state=o.a.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=o.a.ERROR,this.unlistenImage_(),this.image_=f(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=o.a.LOADED:this.state=o.a.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==o.a.ERROR&&(this.state=o.a.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==o.a.IDLE&&(this.state=o.a.LOADING,this.changed(),this.imageListenerKeys_=[Object(h.b)(this.image_,l.a.ERROR,this.handleImageError_,this),Object(h.b)(this.image_,l.a.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(h.e),this.imageListenerKeys_=null},e}(u);function d(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function A(t,e,n){return t+"/"+e+"/"+n}function g(t){return A(t[0],t[1],t[2])}var m=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),n=e.tileCoord[0].toString();if(n in t&&t[n].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=function(t){return t.split("/").map(Number)}(this.peekFirstKey())[0];this.forEach((function(e){e.tileCoord[0]!==t&&(this.remove(g(e.tileCoord)),e.dispose())}),this)}},e}(n(123).a),v=n(10),y=n(1),_=n(9);function b(t,e,n,i){var r=n-t,o=i-e,s=Math.sqrt(r*r+o*o);return[Math.round(n+r/s),Math.round(i+o/s)]}var w=function(t,e,n,i,r){this.sourceProj_=t,this.targetProj_=e;var o={},s=Object(v.j)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=s(t)),o[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&Object(y.E)(i)==Object(y.E)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Object(y.E)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Object(y.E)(this.targetProj_.getExtent()):null;var a=Object(y.C)(n),l=Object(y.D)(n),u=Object(y.w)(n),c=Object(y.v)(n),h=this.transformInv_(a),f=this.transformInv_(l),p=this.transformInv_(u),d=this.transformInv_(c);if(this.addQuad_(a,l,u,c,h,f,p,d,10),this.wrapsXInSource_){var A=1/0;this.triangles_.forEach((function(t,e,n){A=Math.min(A,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-A>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-A>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-A>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-A>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}o={}};w.prototype.addTriangle_=function(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})},w.prototype.addQuad_=function(t,e,n,i,r,o,s,a,l){var u=Object(y.b)([r,o,s,a]),c=this.sourceWorldWidth_?Object(y.E)(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,f=this.sourceProj_.canWrapX()&&c>.5&&c<1,p=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var d=Object(y.b)([t,e,n,i]);p=Object(y.E)(d)/this.targetWorldWidth_>.25||p}!f&&this.sourceProj_.isGlobal()&&c&&(p=c>.25||p)}if(p||!this.maxSourceExtent_||Object(y.F)(u,this.maxSourceExtent_)){if(!(p||isFinite(r[0])&&isFinite(r[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(a[0])&&isFinite(a[1]))){if(!(l>0))return;p=!0}if(l>0){if(!p){var A,g=[(t[0]+n[0])/2,(t[1]+n[1])/2],m=this.transformInv_(g);if(f)A=(Object(_.d)(r[0],h)+Object(_.d)(s[0],h))/2-Object(_.d)(m[0],h);else A=(r[0]+s[0])/2-m[0];var v=(r[1]+s[1])/2-m[1];p=A*A+v*v>this.errorThresholdSquared_}if(p){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var b=[(e[0]+n[0])/2,(e[1]+n[1])/2],w=this.transformInv_(b),E=[(i[0]+t[0])/2,(i[1]+t[1])/2],x=this.transformInv_(E);this.addQuad_(t,e,b,E,r,o,w,x,l-1),this.addQuad_(E,b,n,i,x,w,s,a,l-1)}else{var C=[(t[0]+e[0])/2,(t[1]+e[1])/2],B=this.transformInv_(C),I=[(n[0]+i[0])/2,(n[1]+i[1])/2],S=this.transformInv_(I);this.addQuad_(t,C,I,i,r,B,S,a,l-1),this.addQuad_(C,e,n,I,B,o,s,S,l-1)}return}}if(f){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,i,r,s,a),this.addTriangle_(t,e,n,r,o,s)}},w.prototype.calculateSourceExtent=function(){var t=Object(y.j)();return this.triangles_.forEach((function(e,n,i){var r=e.source;Object(y.r)(t,r[0]),Object(y.r)(t,r[1]),Object(y.r)(t,r[2])})),t},w.prototype.getTriangles=function(){return this.triangles_};var E=w,x=function(t){function e(e,n,r,s,a,l,u,c,h,f,p){t.call(this,a,o.a.IDLE),this.renderEdges_=void 0!==p&&p,this.pixelRatio_=u,this.gutter_=c,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=s,this.wrappedTileCoord_=l||a,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var d=s.getTileCoordExtent(this.wrappedTileCoord_),A=this.targetTileGrid_.getExtent(),g=this.sourceTileGrid_.getExtent(),m=A?Object(y.B)(d,A):d;if(0!==Object(y.u)(m)){var b=e.getExtent();b&&(g=g?Object(y.B)(g,b):b);var w=s.getResolution(this.wrappedTileCoord_[0]),x=function(t,e,n,i){var r=Object(v.k)(n,e,t),o=Object(v.i)(e,i,n),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var l=t.getExtent();if(!l||Object(y.f)(l,r)){var u=Object(v.i)(t,o,r)/o;isFinite(u)&&u>0&&(o/=u)}return o}(e,r,Object(y.x)(m),w);if(!isFinite(x)||x<=0)this.state=o.a.EMPTY;else{var C=void 0!==f?f:i.b;if(this.triangulation_=new E(e,r,m,g,x*C),0!==this.triangulation_.getTriangles().length){this.sourceZ_=n.getZForResolution(x);var B=this.triangulation_.calculateSourceExtent();if(g&&(e.canWrapX()?(B[1]=Object(_.a)(B[1],g[1],g[3]),B[3]=Object(_.a)(B[3],g[1],g[3])):B=Object(y.B)(B,g)),Object(y.u)(B)){for(var I=n.getTileRangeForExtentAndZ(B,this.sourceZ_),S=I.minX;S<=I.maxX;S++)for(var O=I.minY;O<=I.maxY;O++){var M=h(this.sourceZ_,S,O,u);M&&this.sourceTiles_.push(M)}0===this.sourceTiles_.length&&(this.state=o.a.EMPTY)}else this.state=o.a.EMPTY}else this.state=o.a.EMPTY}}else this.state=o.a.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==o.a.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&e.getState()==o.a.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=o.a.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"==typeof n?n:n[0],r="number"==typeof n?n:n[1],s=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=function(t,e,n,i,r,o,s,a,l,u,h){var f=Object(c.a)(Math.round(n*t),Math.round(n*e));if(0===l.length)return f.canvas;f.scale(n,n);var p=Object(y.j)();l.forEach((function(t,e,n){Object(y.q)(p,t.extent)}));var d=Object(y.E)(p),A=Object(y.A)(p),g=Object(c.a)(Math.round(n*d/i),Math.round(n*A/i)),m=n/i;l.forEach((function(t,e,n){var i=t.extent[0]-p[0],r=-(t.extent[3]-p[3]),o=Object(y.E)(t.extent),s=Object(y.A)(t.extent);g.drawImage(t.image,u,u,t.image.width-2*u,t.image.height-2*u,i*m,r*m,o*m,s*m)}));var v=Object(y.C)(s);return a.getTriangles().forEach((function(t,e,r){var s=t.source,a=t.target,l=s[0][0],u=s[0][1],c=s[1][0],h=s[1][1],d=s[2][0],A=s[2][1],m=(a[0][0]-v[0])/o,y=-(a[0][1]-v[1])/o,w=(a[1][0]-v[0])/o,E=-(a[1][1]-v[1])/o,x=(a[2][0]-v[0])/o,C=-(a[2][1]-v[1])/o,B=l,I=u;l=0,u=0;var S=[[c-=B,h-=I,0,0,w-m],[d-=B,A-=I,0,0,x-m],[0,0,c,h,E-y],[0,0,d,A,C-y]],O=Object(_.e)(S);if(O){f.save(),f.beginPath();var M=(m+w+x)/3,T=(y+E+C)/3,N=b(M,T,m,y),k=b(M,T,w,E),L=b(M,T,x,C);f.moveTo(k[0],k[1]),f.lineTo(N[0],N[1]),f.lineTo(L[0],L[1]),f.clip(),f.transform(O[0],O[2],O[1],O[3],m,y),f.translate(p[0]-B,p[3]-I),f.scale(i/n,-i/n),f.drawImage(g.canvas,0,0),f.restore()}})),h&&(f.save(),f.strokeStyle="black",f.lineWidth=1,a.getTriangles().forEach((function(t,e,n){var i=t.target,r=(i[0][0]-v[0])/o,s=-(i[0][1]-v[1])/o,a=(i[1][0]-v[0])/o,l=-(i[1][1]-v[1])/o,u=(i[2][0]-v[0])/o,c=-(i[2][1]-v[1])/o;f.beginPath(),f.moveTo(a,l),f.lineTo(r,s),f.lineTo(u,c),f.closePath(),f.stroke()})),f.restore()),f.canvas}(i,r,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),s,l,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=o.a.LOADED}this.changed()},e.prototype.load=function(){if(this.state==o.a.IDLE){this.state=o.a.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var r=e.getState();if(r==o.a.IDLE||r==o.a.LOADING){t++;var s=Object(h.a)(e,l.a.CHANGE,(function(n){var i=e.getState();i!=o.a.LOADED&&i!=o.a.ERROR&&i!=o.a.EMPTY||(Object(h.e)(s),0===--t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(s)}}.bind(this)),this.sourceTiles_.forEach((function(t,e,n){t.getState()==o.a.IDLE&&t.load()})),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(h.e),this.sourcesListenerKeys_=null},e}(u),C=n(16);function B(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s,a,l){return s?t.replace(n,s[0].toString()).replace(i,s[1].toString()).replace(r,(function(){return(-s[2]-1).toString()})).replace(o,(function(){var t=s[0],n=e.getFullTileRange(t);return Object(C.a)(n,55),(n.getHeight()+s[2]).toString()})):void 0}}function I(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=B(t[r],e);return function(t){if(1===t.length)return t[0];return(function(e,n,i){if(e){var r=function(t){return(t[1]<<t[0])+t[2]}(e),o=Object(_.d)(r,t.length);return t[o](e,n,i)}})}(i)}function S(t,e,n){}var O=n(34),M=n(56),T=n(131),N=n(90),k=n(92),L=n(29),F=n(93),R=n(15),D=[0,0,0],P=function(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,Object(C.a)(Object(R.e)(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,Object(C.a)(this.origins_.length==this.resolutions_.length,20));var r=t.extent;void 0===r||this.origin_||this.origins_||(this.origin_=Object(y.C)(r)),Object(C.a)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,Object(C.a)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:N.b,Object(C.a)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){return new F.b(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))}),this):r&&this.calculateTileRanges_(r)};P.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var s=i.minY,a=i.maxY;s<=a;++s)n([e,r,s])},P.prototype.forEachTileCoordParentTileRange=function(t,e,n,i,r){var o,s,a,l=null,u=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):l=this.getTileCoordExtent(t,r);u>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),o=Object(F.a)(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(l,u,i),e.call(n,u,o))return!0;--u}return!1},P.prototype.getExtent=function(){return this.extent_},P.prototype.getMaxZoom=function(){return this.maxZoom},P.prototype.getMinZoom=function(){return this.minZoom},P.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},P.prototype.getResolution=function(t){return this.resolutions_[t]},P.prototype.getResolutions=function(){return this.resolutions_},P.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return Object(F.a)(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},P.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),o=Object(M.c)(this.getTileSize(t),this.tmpSize_),s=i[0]+e.minX*o[0]*r,a=i[0]+(e.maxX+1)*o[0]*r,l=i[1]+e.minY*o[1]*r,u=i[1]+(e.maxY+1)*o[1]*r;return Object(y.k)(s,l,a,u,n)},P.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=D;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),Object(F.a)(r,i[1],o,i[2],n)},P.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=Object(M.c)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]+(t[2]+.5)*i[1]*n]},P.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=Object(M.c)(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,s=n[1]+t[2]*r[1]*i,a=o+r[0]*i,l=s+r[1]*i;return Object(y.k)(o,s,a,l,e)},P.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},P.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),l=Object(M.c)(this.getTileSize(o),this.tmpSize_),u=i?.5:0,c=i?0:.5,h=Math.floor((t-a[0])/n+u),f=Math.floor((e-a[1])/n+c),p=s*h/l[0],A=s*f/l[1];return i?(p=Math.ceil(p)-1,A=Math.ceil(A)-1):(p=Math.floor(p),A=Math.floor(A)),d(o,p,A,r)},P.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var o=this.getOrigin(n),s=this.getResolution(n),a=Object(M.c)(this.getTileSize(n),this.tmpSize_),l=i?.5:0,u=i?0:.5,c=Math.floor((t-o[0])/s+l),h=Math.floor((e-o[1])/s+u),f=c/a[0],p=h/a[1];return i?(f=Math.ceil(f)-1,p=Math.ceil(p)-1):(f=Math.floor(f),p=Math.floor(p)),d(n,f,p,r)},P.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},P.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},P.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},P.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},P.prototype.getZForResolution=function(t,e){var n=Object(R.f)(this.resolutions_,t,e||0);return Object(_.a)(n,this.minZoom,this.maxZoom)},P.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n};var U=P;function Q(t){var e=t.getDefaultTileGrid();return e||(e=function(t,e,n,i){return function(t,e,n,i){var r=void 0!==i?i:k.a.TOP_LEFT,o=H(t,e,n);return new U({extent:t,origin:Object(y.y)(t,r),resolutions:o,tileSize:n})}(j(t),e,n,i)}(t),t.setDefaultTileGrid(e)),e}function H(t,e,n){for(var i=void 0!==e?e:N.a,r=Object(y.A)(t),o=Object(y.E)(t),s=Object(M.c)(void 0!==n?n:N.b),a=Math.max(o/s[0],r/s[1]),l=i+1,u=new Array(l),c=0;c<l;++c)u[c]=a/Math.pow(2,c);return u}function j(t){var e=(t=Object(v.h)(t)).getExtent();if(!e){var n=180*v.a[L.b.DEGREES]/t.getMetersPerUnit();e=Object(y.k)(-n,-n,n,n)}return e}var z=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new m(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var s,a,l,u=!0,c=n.minX;c<=n.maxX;++c)for(var h=n.minY;h<=n.maxY;++h)a=A(e,c,h),l=!1,r.containsKey(a)&&(l=(s=r.get(a)).getState()===o.a.LOADED)&&(l=!1!==i(s)),l||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,o){return Object(r.b)()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Q(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Object(v.g)(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=Object(M.c)(i.getTileSize(t),this.tmpSize);return 1==r?o:Object(M.b)(o,r,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=function(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),o=j(n);if(Object(y.f)(o,r))return e;var s=Object(y.E)(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,t.getTileCoordForCoordAndZ(r,i)}(i,t,n)),function(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,s=e.getExtent();return!(o=s?e.getTileRangeForExtentAndZ(s,n):e.getFullTileRange(n))||o.containsXY(i,r)}(t,i)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,n,i){},e}(T.a),K=function(t){function e(e,n){t.call(this,e),this.tile=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(O.a),G="tileloadstart",q="tileloadend",W="tileloaderror";function Y(t,e){t.getImage().src=e}var X=function(t){function e(e){var n=e||{},i=void 0!==n.projection?n.projection:"EPSG:3857",r=void 0!==n.tileGrid?n.tileGrid:function(t){var e=t||{},n=e.extent||Object(v.h)("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:H(n,e.maxZoom,e.tileSize)};return new U(i)}({extent:j(i),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Y,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:p,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(!i.a)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,n){if(i.a){var r=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==r?n:{}),this.tileCacheForProjection){var s=this.tileCacheForProjection[o];s.expireCache(s==r?n:{})}}else t.prototype.expireCache.call(this,e,n)},e.prototype.getGutterForProjection=function(t){return i.a&&this.getProjection()&&t&&!Object(v.g)(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(i.a&&this.getProjection()&&e&&!Object(v.g)(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!i.a)return t.prototype.getTileGridForProjection.call(this,e);var n=this.getProjection();if(!this.tileGrid||n&&!Object(v.g)(n,e)){var o=Object(r.c)(e);return o in this.tileGridForProjection||(this.tileGridForProjection[o]=Q(e)),this.tileGridForProjection[o]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!i.a)return t.prototype.getTileCacheForProjection.call(this,e);var n=this.getProjection();if(!n||Object(v.g)(n,e))return this.tileCache;var o=Object(r.c)(e);return o in this.tileCacheForProjection||(this.tileCacheForProjection[o]=new m(this.tileCache.highWaterMark)),this.tileCacheForProjection[o]},e.prototype.createTile_=function(t,e,n,i,r,s){var a=[t,e,n],u=this.getTileCoordForTileUrlFunction(a,r),c=u?this.tileUrlFunction(u,i,r):void 0,f=new this.tileClass(a,void 0!==c?o.a.IDLE:o.a.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return f.key=s,Object(h.a)(f,l.a.CHANGE,this.handleTileChange,this),f},e.prototype.getTile=function(t,e,n,r,o){var s=this.getProjection();if(i.a&&s&&o&&!Object(v.g)(s,o)){var a,l=this.getTileCacheForProjection(o),u=[t,e,n],c=g(u);l.containsKey(c)&&(a=l.get(c));var h=this.getKey();if(a&&a.key==h)return a;var f=this.getTileGridForProjection(s),p=this.getTileGridForProjection(o),d=this.getTileCoordForTileUrlFunction(u,o),A=new x(s,f,o,p,u,d,this.getTilePixelRatio(r),this.getGutter(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,s)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return A.key=h,a?(A.interimTile=a,A.refreshInterimChain(),l.replace(c,A)):l.set(c,A),A}return this.getTileInternal(t,e,n,r,s||o)},e.prototype.getTileInternal=function(t,e,n,i,r){var s=null,a=A(t,e,n),l=this.getKey();if(this.tileCache.containsKey(a)){if((s=this.tileCache.get(a)).key!=l){var u=s;s=this.createTile_(t,e,n,i,r,l),u.getState()==o.a.IDLE?s.interimTile=u.interimTile:s.interimTile=u,s.refreshInterimChain(),this.tileCache.replace(a,s)}}else s=this.createTile_(t,e,n,i,r,l),this.tileCache.set(a,s);return s},e.prototype.setRenderReprojectionEdges=function(t){if(i.a&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(i.a){var n=Object(v.h)(t);if(n){var o=Object(r.c)(n);o in this.tileGridForProjection||(this.tileGridForProjection[o]=e)}}},e}(function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):S,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=Object(r.c)(n),s=n.getState();s==o.a.LOADING?(this.tileLoadingKeys_[i]=!0,e=G):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=s==o.a.ERROR?W:s==o.a.LOADED||s==o.a.ABORT?q:void 0),null!=e&&this.dispatchEvent(new K(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),void 0!==e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=function(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i,r=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(i=r;i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(I(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var i=A(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(z)));e.a=X},function(t,e,n){"use strict";var i=n(47),r=n(143),o=n(36),s=n(28),a=n(39),l=n(3),u=n(8);function c(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(s.c);r||0!==n?r&&0!==n&&this.element.classList.remove(s.c):this.element.classList.add(s.c)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=n}}var h=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||c,target:n.target});var i=void 0!==n.className?n.className:"ol-rotate",r=void 0!==n.label?n.label:"⇧";this.label_=null,"string"==typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var o=n.tipLabel?n.tipLabel:"Reset rotation",a=document.createElement("button");a.className=i+"-reset",a.setAttribute("type","button"),a.title=o,a.appendChild(this.label_),Object(l.a)(a,u.a.CLICK,this.handleClick_,this);var h=i+" "+s.e+" "+s.b,f=this.element;f.className=h,f.appendChild(a),this.callResetNorth_=n.resetNorth?n.resetNorth:void 0,this.duration_=void 0!==n.duration?n.duration:250,this.autoHide_=void 0===n.autoHide||n.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(s.c)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:a.b}):t.setRotation(0))},e}(o.a),f=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target});var i=void 0!==n.className?n.className:"ol-zoom",r=void 0!==n.delta?n.delta:1,o=void 0!==n.zoomInLabel?n.zoomInLabel:"+",a=void 0!==n.zoomOutLabel?n.zoomOutLabel:"−",c=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",h=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",f=document.createElement("button");f.className=i+"-in",f.setAttribute("type","button"),f.title=c,f.appendChild("string"==typeof o?document.createTextNode(o):o),Object(l.a)(f,u.a.CLICK,this.handleClick_.bind(this,r));var p=document.createElement("button");p.className=i+"-out",p.setAttribute("type","button"),p.title=h,p.appendChild("string"==typeof a?document.createTextNode(a):a),Object(l.a)(p,u.a.CLICK,this.handleClick_.bind(this,-r));var d=i+" "+s.e+" "+s.b,A=this.element;A.className=d,A.appendChild(f),A.appendChild(p),this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap().getView();if(e){var n=e.getResolution();if(n){var i=e.constrainResolution(n,t);this.duration_>0?(e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:i,duration:this.duration_,easing:a.b})):e.setResolution(i)}}},e}(o.a);function p(t){var e=t||{},n=new i.a;return(void 0===e.zoom||e.zoom)&&n.push(new f(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new h(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new r.a(e.attributionOptions)),n}n.d(e,"a",(function(){return p}))},function(t,e,n){"use strict";var i=n(31),r=n(53),o=n(17),s=n(23),a=n(38),l=n(6),u=n(4),c=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};c.prototype.clone=function(){return new c({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},c.prototype.getOpacity=function(){return this.opacity_},c.prototype.getRotateWithView=function(){return this.rotateWithView_},c.prototype.getRotation=function(){return this.rotation_},c.prototype.getScale=function(){return this.scale_},c.prototype.getSnapToPixel=function(){return!1},c.prototype.getAnchor=function(){return Object(u.b)()},c.prototype.getImage=function(t){return Object(u.b)()},c.prototype.getHitDetectionImage=function(t){return Object(u.b)()},c.prototype.getImageState=function(){return Object(u.b)()},c.prototype.getImageSize=function(){return Object(u.b)()},c.prototype.getHitDetectionImageSize=function(){return Object(u.b)()},c.prototype.getOrigin=function(){return Object(u.b)()},c.prototype.getSize=function(){return Object(u.b)()},c.prototype.setOpacity=function(t){this.opacity_=t},c.prototype.setRotateWithView=function(t){this.rotateWithView_=t},c.prototype.setRotation=function(t){this.rotation_=t},c.prototype.setScale=function(t){this.scale_=t},c.prototype.setSnapToPixel=function(t){},c.prototype.listenImageChange=function(t,e){return Object(u.b)()},c.prototype.load=function(){Object(u.b)()},c.prototype.unlistenImageChange=function(t,e){Object(u.b)()};var h=function(t){function e(e){var n=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return a.a.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,n,i="",a="",u=0,c=null,h=0,f=0;this.stroke_&&(null===(n=this.stroke_.getColor())&&(n=l.k),n=Object(r.a)(n),void 0===(f=this.stroke_.getWidth())&&(f=l.h),c=this.stroke_.getLineDash(),h=this.stroke_.getLineDashOffset(),s.a||(c=null,h=0),void 0===(a=this.stroke_.getLineJoin())&&(a=l.g),void 0===(i=this.stroke_.getLineCap())&&(i=l.d),void 0===(u=this.stroke_.getMiterLimit())&&(u=l.i));var p=2*(this.radius_+f)+1,d={strokeStyle:n,strokeWidth:f,size:p,lineCap:i,lineDash:c,lineDashOffset:h,lineJoin:a,miterLimit:u};if(void 0===t){var A=Object(o.a)(p,p);this.canvas_=A.canvas,e=p=this.canvas_.width,this.draw_(d,A,0,0),this.createHitDetectionCanvas_(d)}else{p=Math.round(p);var g,m=!this.fill_;m&&(g=this.drawHitDetectionCanvas_.bind(this,d));var v=this.getChecksum(),y=t.add(v,p,p,this.draw_.bind(this,d),g);this.canvas_=y.image,this.origin_=[y.offsetX,y.offsetY],e=y.image.width,m?(this.hitDetectionCanvas_=y.hitImage,this.hitDetectionImageSize_=[y.hitImage.width,y.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[p/2,p/2],this.size_=[p,p],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,n,i){var o,s,a;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var u=this.points_;if(u===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(u*=2),o=0;o<=u;o++)s=2*o*Math.PI/u-Math.PI/2+this.angle_,a=o%2==0?this.radius_:c,e.lineTo(t.size/2+a*Math.cos(s),t.size/2+a*Math.sin(s))}if(this.fill_){var h=this.fill_.getColor();null===h&&(h=l.b),e.fillStyle=Object(r.a)(h),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var e=Object(o.a)(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)}},e.prototype.drawHitDetectionCanvas_=function(t,e,n,r){e.setTransform(1,0,0,1,0,0),e.translate(n,r),e.beginPath();var o=this.points_;if(o===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var s,a,u,c=void 0!==this.radius2_?this.radius2_:this.radius_;for(c!==this.radius_&&(o*=2),s=0;s<=o;s++)u=2*s*Math.PI/o-Math.PI/2+this.angle_,a=s%2==0?this.radius_:c,e.lineTo(t.size/2+a*Math.cos(u),t.size/2+a*Math.sin(u))}e.fillStyle=Object(i.b)(l.b),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return(this.checksums_[0])},e}(c);e.a=h},,function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){t.exports=n(193)},function(t,e,n){"use strict";(function(e,i){var r=n(118);t.exports=y;var o,s=n(148);y.ReadableState=v;n(135).EventEmitter;var a=function(t,e){return t.listeners(e).length},l=n(151),u=n(119).Buffer,c=e.Uint8Array||function(){};var h=n(108);h.inherits=n(97);var f=n(194),p=void 0;p=f&&f.debuglog?f.debuglog("stream"):function(){};var d,A=n(195),g=n(152);h.inherits(y,l);var m=["error","close","destroy","pause","resume"];function v(t,e){t=t||{};var i=e instanceof(o=o||n(89));this.objectMode=!!t.objectMode,i&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,s=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:i&&(s||0===s)?s:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(d||(d=n(154).StringDecoder),this.decoder=new d(t.encoding),this.encoding=t.encoding)}function y(t){if(o=o||n(89),!(this instanceof y))return new y(t);this._readableState=new v(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),l.call(this)}function _(t,e,n,i,r){var o,s=t._readableState;null===e?(s.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,x(t)}(t,s)):(r||(o=function(t,e){var n;i=e,u.isBuffer(i)||i instanceof c||"string"==typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var i;return n}(s,e)),o?t.emit("error",o):s.objectMode||e&&e.length>0?("string"==typeof e||s.objectMode||Object.getPrototypeOf(e)===u.prototype||(e=function(t){return u.from(t)}(e)),i?s.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):b(t,s,e,!0):s.ended?t.emit("error",new Error("stream.push() after EOF")):(s.reading=!1,s.decoder&&!n?(e=s.decoder.write(e),s.objectMode||0!==e.length?b(t,s,e,!1):B(t,s)):b(t,s,e,!1))):i||(s.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(s)}function b(t,e,n,i){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,i?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&x(t)),B(t,e)}Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),y.prototype.destroy=g.destroy,y.prototype._undestroy=g.undestroy,y.prototype._destroy=function(t,e){this.push(null),e(t)},y.prototype.push=function(t,e){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof t&&((e=e||i.defaultEncoding)!==i.encoding&&(t=u.from(t,e),e=""),n=!0),_(this,t,e,!1,n)},y.prototype.unshift=function(t){return _(this,t,null,!0,!1)},y.prototype.isPaused=function(){return!1===this._readableState.flowing},y.prototype.setEncoding=function(t){return d||(d=n(154).StringDecoder),this._readableState.decoder=new d(t),this._readableState.encoding=t,this};var w=8388608;function E(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=w?t=w:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function x(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(p("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?r.nextTick(C,t):C(t))}function C(t){p("emit readable"),t.emit("readable"),M(t)}function B(t,e){e.readingMore||(e.readingMore=!0,r.nextTick(I,t,e))}function I(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(p("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function S(t){p("readable nexttick read 0"),t.read(0)}function O(t,e){e.reading||(p("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),M(t),e.flowing&&!e.reading&&t.read(0)}function M(t){var e=t._readableState;for(p("flow",e.flowing);e.flowing&&null!==t.read(););}function T(t,e){return 0===e.length?null:(e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=function(t,e,n){var i;t<e.head.data.length?(i=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):i=t===e.head.data.length?e.shift():n?function(t,e){var n=e.head,i=1,r=n.data;t-=r.length;for(;n=n.next;){var o=n.data,s=t>o.length?o.length:t;if(s===o.length?r+=o:r+=o.slice(0,t),0===(t-=s)){s===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(s));break}++i}return e.length-=i,r}(t,e):function(t,e){var n=u.allocUnsafe(t),i=e.head,r=1;i.data.copy(n),t-=i.data.length;for(;i=i.next;){var o=i.data,s=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,s),0===(t-=s)){s===o.length?(++r,i.next?e.head=i.next:e.head=e.tail=null):(e.head=i,i.data=o.slice(s));break}++r}return e.length-=r,n}(t,e);return i}(t,e.buffer,e.decoder),n);var n}function N(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,r.nextTick(k,e,t))}function k(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function L(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}y.prototype.read=function(t){p("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return p("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?N(this):x(this),null;if(0===(t=E(t,e))&&e.ended)return 0===e.length&&N(this),null;var i,r=e.needReadable;return p("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&p("length less than watermark",r=!0),e.ended||e.reading?p("reading or ended",r=!1):r&&(p("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=E(n,e))),null===(i=t>0?T(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&N(this)),null!==i&&this.emit("data",i),i},y.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},y.prototype.pipe=function(t,e){var n=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=t;break;case 1:o.pipes=[o.pipes,t];break;default:o.pipes.push(t)}o.pipesCount+=1,p("pipe count=%d opts=%j",o.pipesCount,e);var l=(!e||!1!==e.end)&&t!==i.stdout&&t!==i.stderr?c:y;function u(e,i){p("onunpipe"),e===n&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,p("cleanup"),t.removeListener("close",m),t.removeListener("finish",v),t.removeListener("drain",h),t.removeListener("error",g),t.removeListener("unpipe",u),n.removeListener("end",c),n.removeListener("end",y),n.removeListener("data",A),f=!0,!o.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function c(){p("onend"),t.end()}o.endEmitted?r.nextTick(l):n.once("end",l),t.on("unpipe",u);var h=function(t){return function(){var e=t._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,M(t))}}(n);t.on("drain",h);var f=!1;var d=!1;function A(e){p("ondata"),d=!1,!1!==t.write(e)||d||((1===o.pipesCount&&o.pipes===t||o.pipesCount>1&&-1!==L(o.pipes,t))&&!f&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,d=!0),n.pause())}function g(e){p("onerror",e),y(),t.removeListener("error",g),0===a(t,"error")&&t.emit("error",e)}function m(){t.removeListener("finish",v),y()}function v(){p("onfinish"),t.removeListener("close",m),y()}function y(){p("unpipe"),n.unpipe(t)}return n.on("data",A),function(t,e,n){if("function"==typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?s(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}(t,"error",g),t.once("close",m),t.once("finish",v),t.emit("pipe",n),o.flowing||(p("pipe resume"),n.resume()),t},y.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var i=e.pipes,r=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<r;o++)i[o].emit("unpipe",this,n);return this}var s=L(e.pipes,t);return-1===s?this:(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},y.prototype.on=function(t,e){var n=l.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&x(this):r.nextTick(S,this))}return n},y.prototype.addListener=y.prototype.on,y.prototype.resume=function(){var t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,r.nextTick(O,t,e))}(this,t)),this},y.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},y.prototype.wrap=function(t){var e=this,n=this._readableState,i=!1;for(var r in t.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)})),t.on("data",(function(r){(p("wrapped data"),n.decoder&&(r=n.decoder.write(r)),n.objectMode&&null==r)||(n.objectMode||r&&r.length)&&(e.push(r)||(i=!0,t.pause()))})),t)void 0===this[r]&&"function"==typeof t[r]&&(this[r]=function(e){return function(){return t[e].apply(t,arguments)}}(r));for(var o=0;o<m.length;o++)t.on(m[o],this.emit.bind(this,m[o]));return this._read=function(e){p("wrapped _read",e),i&&(i=!1,t.resume())},this},Object.defineProperty(y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),y._fromList=T}).call(this,n(57),n(117))},function(t,e,n){t.exports=n(135).EventEmitter},function(t,e,n){"use strict";var i=n(118);function r(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var n=this,o=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return o||s?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||i.nextTick(r,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(t){!e&&t?(i.nextTick(r,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(197),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(57))},function(t,e,n){"use strict";var i=n(119).Buffer,r=i.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(i.isEncoding===r||!r(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=u,e=4;break;case"utf8":this.fillLast=a,e=4;break;case"base64":this.text=c,this.end=h,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(e)}function s(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function a(t){var e=this.lastTotal-this.lastNeed,n=function(t,e,n){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var n=t.toString("utf16le",e);if(n){var i=n.charCodeAt(n.length-1);if(i>=55296&&i<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function c(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function h(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var n=function(t,e,n){var i=e.length-1;if(i<n)return 0;var r=s(e[i]);if(r>=0)return r>0&&(t.lastNeed=r-1),r;if(--i<n||-2===r)return 0;if((r=s(e[i]))>=0)return r>0&&(t.lastNeed=r-2),r;if(--i<n||-2===r)return 0;if((r=s(e[i]))>=0)return r>0&&(2===r?r=0:t.lastNeed=r-3),r;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var i=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,i),t.toString("utf8",e,i)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";t.exports=s;var i=n(89),r=n(108);function o(t,e){var n=this._transformState;n.transforming=!1;var i=n.writecb;if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),i(t);var r=this._readableState;r.reading=!1,(r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}function s(t){if(!(this instanceof s))return new s(t);i.call(this,t),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush((function(e,n){l(t,e,n)})):l(this,null,null)}function l(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}r.inherits=n(97),r.inherits(s,i),s.prototype.push=function(t,e){return this._transformState.needTransform=!1,i.prototype.push.call(this,t,e)},s.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},s.prototype._write=function(t,e,n){var i=this._transformState;if(i.writecb=n,i.writechunk=t,i.writeencoding=e,!i.transforming){var r=this._readableState;(i.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},s.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},s.prototype._destroy=function(t,e){var n=this;i.prototype._destroy.call(this,t,(function(t){e(t),n.emit("close")}))}},function(t,e,n){"use strict";var i=n(33),r=n(80),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t){for(var e,n,r,s,a,l,u,c=[],h=0,f=t.length,p=f,d="string"!==i.getTypeOf(t);h<t.length;)p=f-h,d?(e=t[h++],n=h<f?t[h++]:0,r=h<f?t[h++]:0):(e=t.charCodeAt(h++),n=h<f?t.charCodeAt(h++):0,r=h<f?t.charCodeAt(h++):0),s=e>>2,a=(3&e)<<4|n>>4,l=p>1?(15&n)<<2|r>>6:64,u=p>2?63&r:64,c.push(o.charAt(s)+o.charAt(a)+o.charAt(l)+o.charAt(u));return c.join("")},e.decode=function(t){var e,n,i,s,a,l,u=0,c=0;if("data:"===t.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var h,f=3*(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(t.charAt(t.length-1)===o.charAt(64)&&f--,t.charAt(t.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(h=r.uint8array?new Uint8Array(0|f):new Array(0|f);u<t.length;)e=o.indexOf(t.charAt(u++))<<2|(s=o.indexOf(t.charAt(u++)))>>4,n=(15&s)<<4|(a=o.indexOf(t.charAt(u++)))>>2,i=(3&a)<<6|(l=o.indexOf(t.charAt(u++))),h[c++]=e,64!==a&&(h[c++]=n),64!==l&&(h[c++]=i);return h}},function(t,e,n){"use strict";(function(e){var i=n(33),r=n(207),o=n(58),s=n(156),a=n(80),l=n(109),u=null;if(a.nodestream)try{u=n(208)}catch(t){}function c(t,n){return new l.Promise((function(r,o){var a=[],l=t._internalType,u=t._outputType,c=t._mimeType;t.on("data",(function(t,e){a.push(t),n&&n(e)})).on("error",(function(t){a=[],o(t)})).on("end",(function(){try{var t=function(t,e,n){switch(t){case"blob":return i.newBlob(i.transformTo("arraybuffer",e),n);case"base64":return s.encode(e);default:return i.transformTo(t,e)}}(u,function(t,n){var i,r=0,o=null,s=0;for(i=0;i<n.length;i++)s+=n[i].length;switch(t){case"string":return n.join("");case"array":return Array.prototype.concat.apply([],n);case"uint8array":for(o=new Uint8Array(s),i=0;i<n.length;i++)o.set(n[i],r),r+=n[i].length;return o;case"nodebuffer":return e.concat(n);default:throw new Error("concat : unsupported type '"+t+"'")}}(l,a),c);r(t)}catch(t){o(t)}a=[]})).resume()}))}function h(t,e,n){var s=e;switch(e){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=e,this._mimeType=n,i.checkSupport(s),this._worker=t.pipe(new r(s)),t.lock()}catch(t){this._worker=new o("error"),this._worker.error(t)}}h.prototype={accumulate:function(t){return c(this,t)},on:function(t,e){var n=this;return"data"===t?this._worker.on(t,(function(t){e.call(n,t.data,t.meta)})):this._worker.on(t,(function(){i.delay(e,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},t)}},t.exports=h}).call(this,n(107).Buffer)},function(t,e,n){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!0,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},function(t,e,n){"use strict";var i=n(33),r=n(58);function o(t){r.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then((function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=i.getTypeOf(t),e.isPaused||e._tickAndRepeat()}),(function(t){e.error(t)}))}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=null,e=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,e);break;case"uint8array":t=this.data.subarray(this.index,e);break;case"array":case"nodebuffer":t=this.data.slice(this.index,e)}return this.index=e,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},function(t,e,n){"use strict";var i=n(33),r=n(58);function o(t){r.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}i.inherits(o,r),o.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}r.prototype.processChunk.call(this,t)},t.exports=o},function(t,e,n){"use strict";var i=n(58),r=n(139);function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n(33).inherits(o,i),o.prototype.processChunk=function(t){this.streamInfo.crc32=r(t.data,this.streamInfo.crc32||0),this.push(t)},t.exports=o},function(t,e,n){"use strict";var i=n(58);e.STORE={magic:"\0\0",compressWorker:function(t){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},e.DEFLATE=n(211)},function(t,e,n){"use strict";t.exports=function(t,e,n,i){for(var r=65535&t|0,o=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{o=o+(r=r+e[i++]|0)|0}while(--s);r%=65521,o%=65521}return r|o<<16|0}},function(t,e,n){"use strict";var i=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,r){var o=i,s=r+n;t^=-1;for(var a=r;a<s;a++)t=t>>>8^o[255&(t^e[a])];return-1^t}},function(t,e,n){"use strict";var i=n(81),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var s=new i.Buf8(256),a=0;a<256;a++)s[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;function l(t,e){if(e<65534&&(t.subarray&&o||!t.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",s=0;s<e;s++)n+=String.fromCharCode(t[s]);return n}s[254]=s[254]=1,e.string2buf=function(t){var e,n,r,o,s,a=t.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(l),s=0,o=0;s<l;o++)55296==(64512&(n=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=t.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?e[s++]=n:n<2048?(e[s++]=192|n>>>6,e[s++]=128|63&n):n<65536?(e[s++]=224|n>>>12,e[s++]=128|n>>>6&63,e[s++]=128|63&n):(e[s++]=240|n>>>18,e[s++]=128|n>>>12&63,e[s++]=128|n>>>6&63,e[s++]=128|63&n);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,r,o,a=e||t.length,u=new Array(2*a);for(i=0,n=0;n<a;)if((r=t[n++])<128)u[i++]=r;else if((o=s[r])>4)u[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&n<a;)r=r<<6|63&t[n++],o--;o>1?u[i++]=65533:r<65536?u[i++]=r:(r-=65536,u[i++]=55296|r>>10&1023,u[i++]=56320|1023&r)}return l(u,i)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0?e:0===n?e:n+s[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";e.LOCAL_FILE_HEADER="PK",e.CENTRAL_FILE_HEADER="PK",e.CENTRAL_DIRECTORY_END="PK",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",e.ZIP64_CENTRAL_DIRECTORY_END="PK",e.DATA_DESCRIPTOR="PK\b"},function(t,e,n){"use strict";var i=n(33),r=n(80),o=n(170),s=n(225),a=n(226),l=n(172);t.exports=function(t){var e=i.getTypeOf(t);return i.checkSupport(e),"string"!==e||r.uint8array?"nodebuffer"===e?new a(t):r.uint8array?new l(i.transformTo("uint8array",t)):new o(i.transformTo("array",t)):new s(t)}},function(t,e,n){"use strict";var i=n(171);function r(t){i.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}n(33).inherits(r,i),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var i=n(33);function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},t.exports=r},function(t,e,n){"use strict";var i=n(170);function r(t){i.call(this,t)}n(33).inherits(r,i),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){},function(t){t.exports=JSON.parse('{"a":"2.5.0"}')},function(t,e,n){var i=n(189);t.exports=function(t,e){Array.isArray(e)||(e=[]),t.length>0&&e.push(i([0,0],t[0]));for(var n=0;n<t.length-1;n++){var r=t[n],o=t[n+1],s=r[0],a=r[1],l=o[0],u=o[1],c=[.75*s+.25*l,.75*a+.25*u],h=[.25*s+.75*l,.25*a+.75*u];e.push(c),e.push(h)}return t.length>1&&e.push(i([0,0],t[t.length-1])),e}},function(t,e,n){"use strict";var i=n(4),r=n(70),o=n(36),s=n(31),a=n(27),l=function(t){t||(t={}),t.style||(t.style=new a.c),this.setStyle(t.style);var e=document.createElement("div");e.textContent=this.text_,e.className="ol-title ol-unselectable";var n={font:this.font_,position:"absolute",top:0,left:0,right:0,display:"block",visibility:"hidden"};Object.keys(n).forEach((function(t){e.style[t]=n[t]})),o.a.call(this,{element:e,target:t.target})};Object(i.d)(l,o.a),l.prototype.setMap=function(t){var e=this.getMap();this._listener&&Object(r.b)(this._listener),this._listener=null,o.a.prototype.setMap.call(this,t),e&&e.renderSync(),t&&(this._listener=t.on("postcompose",this.drawTitle_.bind(this)))},l.prototype.setStyle=function(t){var e=t.getText();this.font_=e&&e.getFont()||"20px Arial",this.text_=e?e.getText():"";var n=e?e.getStroke():null,i=e?e.getFill():null;this.strokeStyle_=n?Object(s.b)(n.getColor()):"#fff",this.fillStyle_=i?Object(s.b)(i.getColor()):"#000",this.element&&(this.element.textContent=this.text_,this.element.style.font=this.font_),this.getMap()&&this.getMap().render()},l.prototype.setTitle=function(t){this.text_=t,this.element.textContent=this.text_,this.getMap()&&this.getMap().renderSync()},l.prototype.getTitle=function(){return this.text_},l.prototype.setVisible=function(t){this.element.style.display=t?"":"none",this.getMap()&&this.getMap().renderSync()},l.prototype.getVisible=function(){return"none"!==this.element.style.display},l.prototype.drawTitle_=function(t){if(this.getVisible()){var e=t.context,n=t.frameState.pixelRatio;e.save(),e.scale(n,n);var i=e.canvas.width/n,r=this.element.clientHeight,o={top:0,left:i/2};e.beginPath(),e.fillStyle=this.strokeStyle_,e.rect(0,0,i,r),e.fill(),e.closePath(),e.beginPath(),e.fillStyle=this.fillStyle_,e.textAlign="center",e.textBaseline="middle",e.font=this.font_,e.fillText(this.text_,o.left,o.top+r/2),e.closePath(),e.restore()}},e.a=l},function(t,e,n){"use strict";var i=n(2),r=Math.abs,o=Math.atan,s=Math.atan2,a=(Math.ceil,Math.cos),l=Math.exp,u=Math.floor,c=Math.log,h=Math.max,f=Math.min,p=Math.pow,d=(Math.round,Math.sign||function(t){return t>0?1:t<0?-1:0}),A=Math.sin,g=Math.tan,m=1e-6,v=1e-12,y=Math.PI,_=y/2,b=y/4,w=Math.SQRT1_2,E=M(2),x=M(y),C=2*y,B=180/y,I=y/180;function S(t){return t>1?_:t<-1?-_:Math.asin(t)}function O(t){return t>1?0:t<-1?y:Math.acos(t)}function M(t){return t>0?Math.sqrt(t):0}function T(t){return(l(t)-l(-t))/2}function N(t){return(l(t)+l(-t))/2}function k(t,e){var n=a(e),i=function(t){return t?t/Math.sin(t):1}(O(n*a(t/=2)));return[2*n*A(t)*i,A(e)*i]}k.invert=function(t,e){if(!(t*t+4*e*e>y*y+m)){var n=t,i=e,o=25;do{var s,l=A(n),u=A(n/2),c=a(n/2),h=A(i),f=a(i),p=A(2*i),d=h*h,g=f*f,v=u*u,_=1-g*c*c,b=_?O(f*c)*M(s=1/_):s=0,w=2*b*f*u-t,E=b*h-e,x=s*(g*v+b*f*c*d),C=s*(.5*l*p-2*b*h*u),B=.25*s*(p*u-b*h*g*l),I=s*(d*c+b*v*f),S=C*B-I*x;if(!S)break;var T=(E*C-w*I)/S,N=(w*B-E*x)/S;n-=T,i-=N}while((r(T)>m||r(N)>m)&&--o>0);return[n,i]}};function L(t,e){var n=g(e/2),i=M(1-n*n),r=1+i*a(t/=2),o=A(t)*i/r,s=n/r,l=o*o,u=s*s;return[4/3*o*(3+l-3*u),4/3*s*(3+3*l-u)]}L.invert=function(t,e){if(e*=3/8,!(t*=3/8)&&r(e)>1)return null;var n=1+t*t+e*e,i=M((n-M(n*n-4*e*e))/2),o=S(i)/3,l=i?function(t){return c(t+M(t*t-1))}(r(e/i))/3:function(t){return c(t+M(t*t+1))}(r(t))/3,u=a(o),h=N(l),f=h*h-u*u;return[2*d(t)*s(T(l)*u,.25-f),2*d(e)*s(h*A(o),.25+f)]};var F=M(8),R=c(1+E);function D(t,e){var n=r(e);return n<b?[t,c(g(b+e/2))]:[t*a(n)*(2*E-1/A(n)),d(e)*(2*E*(n-b)-c(g(n/2)))]}D.invert=function(t,e){if((i=r(e))<R)return[t,2*o(l(e))-_];var n,i,s=b,u=25;do{var h=a(s/2),f=g(s/2);s-=n=(F*(s-b)-c(f)-i)/(F-h*h/(2*f))}while(r(n)>v&&--u>0);return[t/(a(s)*(F-1/A(s))),d(e)*s]};function P(t,e){return[t*a(e)/a(e/=2),2*A(e)]}P.invert=function(t,e){var n=2*S(e/2);return[t*a(n/2)/a(n),n]};function U(t,e){var n,i=t*A(e),o=30;do{e-=n=(e+A(e)-i)/(1+a(e))}while(r(n)>m&&--o>0);return e/2}function Q(t,e,n){function i(i,r){return[t*i*a(r=U(n,r)),e*A(r)]}return i.invert=function(i,r){return r=S(r/e),[i/(t*a(r)),S((2*r+A(2*r))/n)]},i}var H=Q(E/_,E,y),j=2.00276,z=1.11072;function K(t,e){var n=U(y,e);return[j*t/(1/a(e)+z/a(n)),(e+E*A(n))/j]}K.invert=function(t,e){var n,i,o=j*e,s=e<0?-b:b,l=25;do{i=o-E*A(s),s-=n=(A(2*s)+2*s-y*A(i))/(2*a(2*s)+2+y*a(i)*E*a(s))}while(r(n)>m&&--l>0);return i=o-E*A(s),[t*(1/a(i)+z/a(s))/j,i]};function G(t,e){return[t*a(e),e]}G.invert=function(t,e){return[t/a(e),e]};Q(1,4/y,y);function q(t,e){var n=M(1-A(e));return[2/x*t*n,x*(1-n)]}q.invert=function(t,e){var n=(n=e/x-1)*n;return[n>0?t*M(y/n)/2:0,S(1-n)]};var W=M(3);function Y(t,e){return[W*t*(2*a(2*e/3)-1)/x,W*x*A(e/3)]}Y.invert=function(t,e){var n=3*S(e/(W*x));return[x*t/(W*(2*a(2*n/3)-1)),n]};function X(t){var e=a(t);function n(t,n){return[t*e,A(n)/e]}return n.invert=function(t,n){return[t/e,S(n*e)]},n}function V(t,e){var n=M(8/(3*y));return[n*t*(1-r(e)/y),n*e]}V.invert=function(t,e){var n=M(8/(3*y)),i=e/n;return[t/(n*(1-r(i)/y)),i]};function J(t,e){var n=M(4-3*A(r(e)));return[2/M(6*y)*t*n,d(e)*M(2*y/3)*(2-n)]}J.invert=function(t,e){var n=2-r(e)/M(2*y/3);return[t*M(6*y)/(2*n),d(e)*S((4-n*n)/3)]};function Z(t,e){var n=M(y*(4+y));return[2/n*t*(1+M(1-4*e*e/(y*y))),4/n*e]}Z.invert=function(t,e){var n=M(y*(4+y))/2;return[t*n/(1+M(1-e*e*(4+y)/(4*y))),e*n/2]};function $(t,e){var n=(2+_)*A(e);e/=2;for(var i=0,o=1/0;i<10&&r(o)>m;i++){var s=a(e);e-=o=(e+A(e)*(s+2)-n)/(2*s*(1+s))}return[2/M(y*(4+y))*t*(1+a(e)),2*M(y/(4+y))*A(e)]}$.invert=function(t,e){var n=e*M((4+y)/y)/2,i=S(n),r=a(i);return[t/(2/M(y*(4+y))*(1+r)),S((i+n*(r+2))/(2+_))]};function tt(t,e){return[t*(1+a(e))/M(2+y),2*e/M(2+y)]}tt.invert=function(t,e){var n=M(2+y),i=e*n/2;return[n*t/(1+a(i)),i]};function et(t,e){for(var n=(1+_)*A(e),i=0,o=1/0;i<10&&r(o)>m;i++)e-=o=(e+A(e)-n)/(1+a(e));return n=M(2+y),[t*(1+a(e))/n,2*e/n]}et.invert=function(t,e){var n=1+_,i=M(n/2);return[2*t*i/(1+a(e*=i)),S((e+A(e))/n)]};var nt=3+2*E;function it(t,e){var n=A(t/=2),i=a(t),r=M(a(e)),s=a(e/=2),l=A(e)/(s+E*i*r),u=M(2/(1+l*l)),h=M((E*s+(i+n)*r)/(E*s+(i-n)*r));return[nt*(u*(h-1/h)-2*c(h)),nt*(u*l*(h+1/h)-2*o(l))]}it.invert=function(t,e){if(!(n=L.invert(t/1.2,1.065*e)))return null;var n,i=n[0],s=n[1],l=20;t/=nt,e/=nt;do{var u=i/2,p=s/2,d=A(u),g=a(u),v=A(p),y=a(p),b=a(s),x=M(b),C=v/(y+E*g*x),B=C*C,I=M(2/(1+B)),S=(E*y+(g+d)*x)/(E*y+(g-d)*x),O=M(S),T=O-1/O,N=O+1/O,k=I*T-2*c(O)-t,F=I*C*N-2*o(C)-e,R=v&&w*x*d*B/v,D=(E*g*y+x)/(2*(y+E*g*x)*(y+E*g*x)*x),P=-.5*C*I*I*I,U=P*R,Q=P*D,H=(H=2*y+E*x*(g-d))*H*O,j=(E*g*y*x+b)/H,z=-E*d*v/(x*H),K=T*U-2*j/O+I*(j+j/S),G=T*Q-2*z/O+I*(z+z/S),q=C*N*U-2*R/(1+B)+I*N*R+I*C*(j-j/S),W=C*N*Q-2*D/(1+B)+I*N*D+I*C*(z-z/S),Y=G*q-W*K;if(!Y)break;var X=(F*G-k*W)/Y,V=(k*q-F*K)/Y;i-=X,s=h(-_,f(_,s-V))}while((r(X)>m||r(V)>m)&&--l>0);return r(r(s)-_)<m?[0,s]:l&&[i,s]};var rt=a(35*I);function ot(t,e){var n=g(e/2);return[t*rt*M(1-n*n),(1+rt)*n]}ot.invert=function(t,e){var n=e/(1+rt);return[t&&t/(rt*M(1-n*n)),2*o(n)]};function st(t,e){var n=e/2,i=a(n);return[2*t/x*a(e)*i*i,x*g(n)]}st.invert=function(t,e){var n=o(e/x),i=a(n),r=2*n;return[t*x/2/(a(r)*i*i),r]};function at(t,e,n){var i,o,s,a=100;n=void 0===n?0:+n,e=+e;do{(o=t(n))===(s=t(n+m))&&(s=o+m),n-=i=-1*m*(o-e)/(o-s)}while(a-- >0&&r(i)>m);return a<0?NaN:n}var lt=function(t,e,n,i,o,s,l,u){function c(r,c){if(!c)return[t*r/y,0];var h=c*c,f=t+h*(e+h*(n+h*i)),p=c*(o-1+h*(s-u+h*l)),d=(f*f+p*p)/(2*p),g=r*S(f/d)/y;return[d*A(g),c*(1+h*u)+d*(1-a(g))]}return arguments.length<8&&(u=0),c.invert=function(c,h){var f,p,d=y*c/t,g=h,v=50;do{var _=g*g,b=t+_*(e+_*(n+_*i)),w=g*(o-1+_*(s-u+_*l)),E=b*b+w*w,x=2*w,C=E/x,B=C*C,I=S(b/C)/y,O=d*I,T=b*b,N=(2*e+_*(4*n+6*_*i))*g,k=o+_*(3*s+5*_*l),L=(2*(b*N+w*(k-1))*x-E*(2*(k-1)))/(x*x),F=a(O),R=A(O),D=C*F,P=C*R,U=d/y*(1/M(1-T/B))*(N*C-b*L)/B,Q=P-c,H=g*(1+_*u)+C-D-h,j=L*R+D*U,z=D*I,K=1+L-(L*F-P*U),G=P*I,q=j*G-K*z;if(!q)break;d-=f=(H*j-Q*K)/q,g-=p=(Q*G-H*z)/q}while((r(f)>m||r(p)>m)&&--v>0);return[d,g]},c};lt(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),lt(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),lt(5/6*y,-.62636,-.0344,0,1.3493,-.05524,0,.045);function ut(t,e){var n=t*t,i=e*e;return[t*(1-.162388*i)*(.87-952426e-9*n*n),e*(1+i/12)]}ut.invert=function(t,e){var n,i=t,o=e,s=50;do{var a=o*o;o-=n=(o*(1+a/12)-e)/(1+a/4)}while(r(n)>m&&--s>0);s=50,t/=1-.162388*a;do{var l=(l=i*i)*l;i-=n=(i*(.87-952426e-9*l)-t)/(.87-.00476213*l)}while(r(n)>m&&--s>0);return[i,o]};lt(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function ct(t,e){var n=d(t),i=d(e),o=a(e),l=a(t)*o,u=A(t)*o,c=A(i*e);t=r(s(u,c)),e=S(l),r(t-_)>m&&(t%=_);var h=function(t,e){if(e===_)return[0,0];var n,i,o=A(e),s=o*o,l=s*s,u=1+l,c=1+3*l,h=1-l,f=S(1/M(u)),p=h+s*u*f,d=(1-o)/p,g=M(d),v=d*u,b=M(v),w=g*h;if(0===t)return[0,-(w+s*b)];var E,x=a(e),C=1/x,B=2*o*x,I=(-p*x-(-3*s+f*c)*B*(1-o))/(p*p),O=-C*B,T=-C*(s*u*I+d*c*B),N=-2*C*(h*(.5*I/g)-2*s*g*B),k=4*t/y;if(t>.222*y||e<y/4&&t>.175*y){if(n=(w+s*M(v*(1+l)-w*w))/(1+l),t>y/4)return[n,n];var L=n,F=.5*n;n=.5*(F+L),i=50;do{var R=M(v-n*n),D=n*(N+O*R)+T*S(n/b)-k;if(!D)break;D<0?F=n:L=n,n=.5*(F+L)}while(r(L-F)>m&&--i>0)}else{n=m,i=25;do{var P=n*n,U=M(v-P),Q=N+O*U,H=n*Q+T*S(n/b)-k,j=Q+(T-O*P)/U;n-=E=U?H/j:0}while(r(E)>m&&--i>0)}return[n,-w-s*M(v-n*n)]}(t>y/4?_-t:t,e);return t>y/4&&(c=h[0],h[0]=-h[1],h[1]=-c),h[0]*=n,h[1]*=-i,h}ct.invert=function(t,e){r(t)>1&&(t=2*d(t)-t),r(e)>1&&(e=2*d(e)-e);var n=d(t),i=d(e),o=-n*t,l=-i*e,u=l/o<1,c=function(t,e){var n=0,i=1,o=.5,s=50;for(;;){var l=o*o,u=M(o),c=S(1/M(1+l)),h=1-l+o*(1+l)*c,f=(1-u)/h,p=M(f),d=f*(1+l),A=p*(1-l),g=M(d-t*t),m=e+A+o*g;if(r(i-n)<v||0==--s||0===m)break;m>0?n=o:i=o,o=.5*(n+i)}if(!s)return null;var _=S(u),b=a(_),w=1/b,E=2*u*b,x=(-h*b-(-3*o+c*(1+3*l))*E*(1-u))/(h*h);return[y/4*(t*(-2*w*(.5*x/p*(1-l)-2*o*p*E)+-w*E*g)+-w*(o*(1+l)*x+f*(1+3*l)*E)*S(t/M(d))),_]}(u?l:o,u?o:l),h=c[0],f=c[1],p=a(f);return u&&(h=-_-h),[n*(s(A(h)*p,-A(f))+y),i*S(a(h)*p)]};function ht(t,e){var n,i,s,u,c,h;if(e<m)return[(u=A(t))-(n=e*(t-u*(i=a(t)))/4)*i,i+n*u,1-e*u*u/2,t-n];if(e>=1-m)return n=(1-e)/4,s=1/(i=N(t)),[(u=((h=l(2*(h=t)))-1)/(h+1))+n*((c=i*T(t))-t)/(i*i),s-n*u*s*(c-t),s+n*u*s*(c+t),2*o(l(t))-_+n*(c-t)/i];var f=[1,0,0,0,0,0,0,0,0],p=[M(e),0,0,0,0,0,0,0,0],d=0;for(i=M(1-e),c=1;r(p[d]/f[d])>m&&d<8;)n=f[d++],p[d]=(n-i)/2,f[d]=(n+i)/2,i=M(n*i),c*=2;s=c*f[d]*t;do{s=(S(u=p[d]*A(i=s)/f[d])+s)/2}while(--d);return[A(s),u=a(s),u/a(s-i),s]}function ft(t,e){if(!e)return t;if(1===e)return c(g(t/2+b));for(var n=1,i=M(1-e),s=M(e),a=0;r(s)>m;a++){if(t%y){var l=o(i*g(t)/n);l<0&&(l+=y),t+=l+~~(t/y)*y}else t+=t;s=(n+i)/2,i=M(n*i),s=((n=s)-i)/2}return t/(p(2,a)*n)}function pt(t,e){var n=(E-1)/(E+1),i=M(1-n*n),u=ft(_,i*i),h=c(g(y/4+r(e)/2)),f=l(-1*h)/M(n),p=function(t,e){var n=t*t,i=e+1,r=1-n-e*e;return[.5*((t>=0?_:-_)-s(r,2*t)),-.25*c(r*r+4*n)+.5*c(i*i+n)]}(f*a(-1*t),f*A(-1*t)),m=function(t,e,n){var i=r(t),s=T(r(e));if(i){var a=1/A(i),l=1/(g(i)*g(i)),u=-(l+n*(s*s*a*a)-1+n),c=(-u+M(u*u-4*((n-1)*l)))/2;return[ft(o(1/M(c)),n)*d(t),ft(o(M((c/l-1)/n)),1-n)*d(e)]}return[0,ft(o(s),1-n)*d(e)]}(p[0],p[1],i*i);return[-m[1],(e>=0?1:-1)*(.5*u-m[0])]}pt.invert=function(t,e){var n,i,r,a,u,h,f=(E-1)/(E+1),p=M(1-f*f),d=ft(_,p*p),A=(i=-t,r=p*p,(n=.5*d-e)?(a=ht(n,r),i?(h=(u=ht(i,1-r))[1]*u[1]+r*a[0]*a[0]*u[0]*u[0],[[a[0]*u[2]/h,a[1]*a[2]*u[0]*u[1]/h],[a[1]*u[1]/h,-a[0]*a[2]*u[0]*u[2]/h],[a[2]*u[1]*u[2]/h,-r*a[0]*a[1]*u[0]/h]]):[[a[0],0],[a[1],0],[a[2],0]]):[[0,(u=ht(i,1-r))[0]/u[1]],[1/u[1],0],[u[2]/u[1],0]]),g=function(t,e){var n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}(A[0],A[1]);return[s(g[1],g[0])/-1,2*o(l(-.5*c(f*g[0]*g[0]+f*g[1]*g[1])))-_]};n(13),X(0);var dt=.7109889596207567,At=.0528035274542;function gt(t,e){return e>-dt?((t=H(t,e))[1]+=At,t):G(t,e)}gt.invert=function(t,e){return e>-dt?H.invert(t,e-At):G.invert(t,e)};function mt(t,e){return r(e)>dt?((t=H(t,e))[1]-=e>0?At:-At,t):G(t,e)}mt.invert=function(t,e){return r(e)>dt?H.invert(t,e+(e>0?At:-At)):G.invert(t,e)};function vt(t,e){return[3/C*t*M(y*y/3-e*e),e]}vt.invert=function(t,e){return[C/3*t/M(y*y/3-e*e),e]};var yt=y/E;function _t(t,e){return[t*(1+M(a(e)))/2,e/(a(e/2)*a(t/6))]}_t.invert=function(t,e){var n=r(t),i=r(e),o=m,s=_;i<yt?s*=i/yt:o+=6*O(yt/i);for(var l=0;l<25;l++){var u=A(s),c=M(a(s)),h=A(s/2),f=a(s/2),p=A(o/6),d=a(o/6),g=.5*o*(1+c)-n,v=s/(f*d)-i,y=c?-.25*o*u/c:0,b=.5*(1+c),w=(1+.5*s*h/f)/(f*d),E=s/f*(p/6)/(d*d),x=y*E-w*b,C=(g*E-v*b)/x,B=(v*y-g*w)/x;if(s-=C,o-=B,r(C)<m&&r(B)<m)break}return[t<0?-o:o,e<0?-s:s]};function bt(t,e){var n=t*t,i=e*e;return[t*(.975534+i*(-.0143059*n-.119161+-.0547009*i)),e*(1.00384+n*(.0802894+-.02855*i+199025e-9*n)+i*(.0998909+-.0491032*i))]}bt.invert=function(t,e){var n=d(t)*y,i=e/2,o=50;do{var s=n*n,a=i*i,l=n*i,u=n*(.975534+a*(-.0143059*s-.119161+-.0547009*a))-t,c=i*(1.00384+s*(.0802894+-.02855*a+199025e-9*s)+a*(.0998909+-.0491032*a))-e,h=.975534-a*(.119161+3*s*.0143059+.0547009*a),f=-l*(.238322+.2188036*a+.0286118*s),p=l*(.1605788+7961e-7*s+-.0571*a),A=1.00384+s*(.0802894+199025e-9*s)+a*(3*(.0998909-.02855*s)-.245516*a),g=f*p-A*h,v=(c*f-u*A)/g,_=(u*p-c*h)/g;n-=v,i-=_}while((r(v)>m||r(_)>m)&&--o>0);return o&&[n,i]};function wt(t,e){return[A(t)/a(e),g(e)*a(t)]}wt.invert=function(t,e){var n=t*t,i=e*e+1,r=n+i,o=t?w*M((r-M(r*r-4*n))/n):1/M(i);return[S(t*o),d(e)*O(o)]};function Et(t,e){return[t,1.25*c(g(b+.4*e))]}Et.invert=function(t,e){return[t,2.5*o(l(.8*e))-.625*y]};var xt=M(6),Ct=M(7);function Bt(t,e){var n=S(7*A(e)/(3*xt));return[xt*t*(2*a(2*n/3)-1)/Ct,9*A(n/3)/Ct]}Bt.invert=function(t,e){var n=3*S(e*Ct/9);return[t*Ct/(xt*(2*a(2*n/3)-1)),S(3*A(n)*xt/7)]};function It(t,e){for(var n,i=(1+w)*A(e),o=e,s=0;s<25&&(o-=n=(A(o/2)+A(o)-i)/(.5*a(o/2)+a(o)),!(r(n)<m));s++);return[t*(1+2*a(o)/a(o/2))/(3*E),2*M(3)*A(o/2)/M(2+E)]}It.invert=function(t,e){var n=e*M(2+E)/(2*M(3)),i=2*S(n);return[3*E*t/(1+2*a(i)/a(i/2)),S((n+A(i))/(1+w))]};function St(t,e){for(var n,i=M(6/(4+y)),o=(1+y/4)*A(e),s=e/2,l=0;l<25&&(s-=n=(s/2+A(s)-o)/(.5+a(s)),!(r(n)<m));l++);return[i*(.5+a(s))*t/1.5,i*s]}St.invert=function(t,e){var n=M(6/(4+y)),i=e/n;return r(r(i)-_)<m&&(i=i<0?-_:_),[1.5*t/(n*(.5+a(i))),S((i/2+A(i))/(1+y/4))]};function Ot(t,e){var n=e*e,i=n*n,r=n*i;return[t*(.84719-.13063*n+r*r*(.05494*n-.04515-.02326*i+.00331*r)),e*(1.01183+i*i*(.01926*n-.02625-.00396*i))]}Ot.invert=function(t,e){var n,i,o,s,a=e,l=25;do{a-=n=(a*(1.01183+(o=(i=a*a)*i)*o*(.01926*i-.02625-.00396*o))-e)/(1.01183+o*o*(.21186*i-.23625+-.05148*o))}while(r(n)>v&&--l>0);return[t/(.84719-.13063*(i=a*a)+(s=i*(o=i*i))*s*(.05494*i-.04515-.02326*o+.00331*s)),a]};function Mt(t,e){return[t*(1+a(e))/2,2*(e-g(e/2))]}Mt.invert=function(t,e){for(var n=e/2,i=0,o=1/0;i<10&&r(o)>m;++i){var s=a(e/2);e-=o=(e-g(e/2)-n)/(1-.5/(s*s))}return[2*t/(1+a(e)),e]};function Tt(t,e){var n=A(e),i=a(e),o=d(t);if(0===t||r(e)===_)return[0,e];if(0===e)return[t,0];if(r(t)===_)return[t*i,_*n];var s=y/(2*t)-2*t/y,l=2*e/y,u=(1-l*l)/(n-l),c=s*s,h=u*u,f=1+c/h,p=1+h/c,g=(s*n/u-s/2)/f,m=(h*n/c+u/2)/p,v=m*m-(h*n*n/c+u*n-1)/p;return[_*(g+M(g*g+i*i/f)*o),_*(m+M(v<0?0:v)*d(-e*s)*o)]}Tt.invert=function(t,e){var n=(t/=_)*t,i=n+(e/=_)*e,r=y*y;return[t?(i-1+M((1-i)*(1-i)+4*n))/(2*t)*_:0,at((function(t){return i*(y*A(t)-2*t)*y+4*t*t*(e-A(t))+2*y*t-r*e}),0)]};var Nt=1.0148,kt=.23185,Lt=-.14499,Ft=.02406,Rt=Nt,Dt=5*kt,Pt=7*Lt,Ut=9*Ft;function Qt(t,e){var n=e*e;return[t,e*(Nt+n*n*(kt+n*(Lt+Ft*n)))]}Qt.invert=function(t,e){e>1.790857183?e=1.790857183:e<-1.790857183&&(e=-1.790857183);var n,i=e;do{var o=i*i;i-=n=(i*(Nt+o*o*(kt+o*(Lt+Ft*o)))-e)/(Rt+o*o*(Dt+o*(Pt+Ut*o)))}while(r(n)>m);return[t,i]};function Ht(t,e){if(r(e)<m)return[t,0];var n=g(e),i=t*A(e);return[A(i)/n,e+(1-a(i))/n]}Ht.invert=function(t,e){if(r(e)<m)return[t,0];var n,i=t*t+e*e,o=.5*e,s=10;do{var l=g(o),u=1/a(o),c=i-2*e*o+o*o;o-=n=(l*c+2*(o-e))/(2+c*u*u+2*(o-e)*l)}while(r(n)>m&&--s>0);return l=g(o),[(r(e)<r(o+1/l)?S(t*l):d(t)*(O(r(t*l))+_))/A(o),o]};var jt=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],zt=([[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map((function(t){return t.map((function(t){return jt[t]}))})),2/M(3));function Kt(t,e){var n=q(t,e);return[n[0]*zt,n[1]]}Kt.invert=function(t,e){return q.invert(t/zt,e)};var Gt=function(t){var e=t(_,0)[0]-t(-_,0)[0];function n(n,i){var o=r(n)<_,s=t(o?n:n>0?n-y:n+y,i),a=(s[0]-s[1])*w,l=(s[0]+s[1])*w;if(o)return[a,l];var u=e*w,c=a>0^l>0?-1:1;return[c*a-d(l)*u,c*l-d(a)*u]}return t.invert&&(n.invert=function(n,i){var o=(n+i)*w,s=(i-n)*w,a=r(o)<.5*e&&r(s)<.5*e;if(!a){var l=e*w,u=o>0^s>0?-1:1,c=-u*n+(s>0?1:-1)*l,h=-u*i+(o>0?1:-1)*l;o=(-c-h)*w,s=(c-h)*w}var f=t.invert(o,s);return a||(f[0]+=o>0?y:-y),f}),Object(i.O)(n).rotate([-90,-90,45]).clipAngle(179.999)},qt=function(){return Gt(pt).scale(111.48)};var Wt=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function Yt(t,e){var n,i=f(18,36*r(e)/y),o=u(i),s=i-o,a=(n=Wt[o])[0],l=n[1],c=(n=Wt[++o])[0],h=n[1],p=(n=Wt[f(19,++o)])[0],d=n[1];return[t*(c+s*(p-a)/2+s*s*(p-2*c+a)/2),(e>0?_:-_)*(h+s*(d-l)/2+s*s*(d-2*h+l)/2)]}Wt.forEach((function(t){t[1]*=1.0144})),Yt.invert=function(t,e){var n=e/_,i=90*n,o=f(18,r(i/5)),s=h(0,u(o));do{var a=Wt[s][1],l=Wt[s+1][1],c=Wt[f(19,s+2)][1],p=c-a,d=c-2*l+a,A=2*(r(n)-l)/p,g=d/p,m=A*(1-g*A*(1-2*g*A));if(m>=0||1===s){i=(e>=0?5:-5)*(m+o);var y,b=50;do{m=(o=f(18,r(i)/5))-(s=u(o)),a=Wt[s][1],l=Wt[s+1][1],c=Wt[f(19,s+2)][1],i-=(y=(e>=0?_:-_)*(l+m*(c-a)/2+m*m*(c-2*l+a)/2)-e)*B}while(r(y)>v&&--b>0);break}}while(--s>=0);var w=Wt[s][0],E=Wt[s+1][0],x=Wt[f(19,s+2)][0];return[t/(E+m*(x-w)/2+m*m*(x-2*E+w)/2),i*I]};function Xt(t,e){var n=g(e/2),i=A(b*n);return[t*(.74482-.34588*i*i),1.70711*n]}Xt.invert=function(t,e){var n=e/1.70711,i=A(b*n);return[t/(.74482-.34588*i*i),2*o(n)]};function Vt(t,e){if(r(e)<m)return[t,0];var n=r(e/_),i=S(n);if(r(t)<m||r(r(e)-_)<m)return[0,d(e)*y*g(i/2)];var o=a(i),s=r(y/t-t/y)/2,l=s*s,u=o/(n+o-1),c=u*(2/n-1),h=c*c,f=h+l,p=u-h,A=l+u;return[d(t)*y*(s*p+M(l*p*p-f*(u*u-h)))/f,d(e)*y*(c*A-s*M((l+1)*f-A*A))/f]}Vt.invert=function(t,e){if(r(e)<m)return[t,0];if(r(t)<m)return[0,_*A(2*o(e/y))];var n=(t/=y)*t,i=(e/=y)*e,s=n+i,l=s*s,u=-r(e)*(1+s),c=u-2*i+n,h=-2*u+1+2*i+l,f=i/h+(2*c*c*c/(h*h*h)-9*u*c/(h*h))/27,p=(u-c*c/(3*h))/h,g=2*M(-p/3),v=O(3*f/(p*g))/3;return[y*(s-1+M(1+2*(n-i)+l))/(2*t),d(e)*y*(-g*a(v+y/3)-c/(3*h))]};function Jt(t,e){if(r(e)<m)return[t,0];var n=r(e/_),i=S(n);if(r(t)<m||r(r(e)-_)<m)return[0,d(e)*y*g(i/2)];var o=a(i),s=r(y/t-t/y)/2,l=s*s,u=o*(M(1+l)-s*o)/(1+l*n*n);return[d(t)*y*u,d(e)*y*M(1-u*(2*s+u))]}Jt.invert=function(t,e){if(!t)return[0,_*A(2*o(e/y))];var n=r(t/y),i=(1-n*n-(e/=y)*e)/(2*n),a=M(i*i+1);return[d(t)*y*(a-i),d(e)*_*A(2*s(M((1-2*i*n)*(i+a)-n),M(a+i+n)))]};function Zt(t,e){if(r(e)<m)return[t,0];var n=e/_,i=S(n);if(r(t)<m||r(r(e)-_)<m)return[0,y*g(i/2)];var o=(y/t-t/y)/2,s=n/(1+a(i));return[y*(d(t)*M(o*o+1-s*s)-o),y*s]}Zt.invert=function(t,e){if(!e)return[t,0];var n=e/y,i=(y*y*(1-n*n)-t*t)/(2*y*t);return[t?y*(d(t)*M(i*i+1)-i):0,_*A(2*o(n))]};function $t(t,e){if(!e)return[t,0];var n=r(e);if(!t||n===_)return[0,e];var i=n/_,o=i*i,s=(8*i-o*(o+2)-5)/(2*o*(i-1)),a=s*s,l=i*s,u=o+a+2*l,c=i+3*s,h=t/_,f=h+1/h,p=d(r(t)-_)*M(f*f-4),A=p*p,g=(p*(u+a-1)+2*M(u*(o+a*A-1)+(1-o)*(o*(c*c+4*a)+12*l*a+4*a*a)))/(4*u+A);return[d(t)*_*g,d(e)*_*M(1+p*r(g)-g*g)]}$t.invert=function(t,e){var n;if(!t||!e)return[t,e];e/=y;var i=d(t)*t/_,o=(i*i-1+4*e*e)/r(i),s=o*o,a=2*e,l=50;do{var u=a*a,c=(8*a-u*(u+2)-5)/(2*u*(a-1)),h=(3*a-u*a-10)/(2*u*a),f=c*c,p=a*c,A=a+c,g=A*A,v=a+3*c,b=-2*A*(4*p*f+(1-4*u+3*u*u)*(1+h)+f*(14*u-6-s+(8*u-8-2*s)*h)+p*(12*u-8+(10*u-10-s)*h)),w=M(g*(u+f*s-1)+(1-u)*(u*(v*v+4*f)+f*(12*p+4*f)));a-=n=(o*(g+f-1)+2*w-i*(4*g+s))/(o*(2*c*h+2*A*(1+h))+b/w-8*A*(o*(-1+f+g)+2*w)*(1+h)/(s+4*g))}while(n>m&&--l>0);return[d(t)*(M(o*o+4)+o)*y/4,_*a]};var te=4*y+3*M(3),ee=2*M(2*y*M(3)/te);Q(ee*M(3)/y,ee,te/6);function ne(t,e){return[t*M(1-3*e*e/(y*y)),e]}ne.invert=function(t,e){return[t/M(1-3*e*e/(y*y)),e]};function ie(t,e){var n=.90631*A(e),i=M(1-n*n),r=M(2/(1+i*a(t/=3)));return[2.66723*i*r*A(t),1.24104*n*r]}ie.invert=function(t,e){var n=t/2.66723,i=e/1.24104,r=M(n*n+i*i),o=2*S(r/2);return[3*s(t*g(o),2.66723*r),r&&S(e*A(o)/(1.24104*.90631*r))]};function re(t,e){var n=a(e),i=a(t)*n,r=1-i,o=a(t=s(A(t)*n,-A(e))),l=A(t);return[l*(n=M(1-i*i))-o*r,-o*n-l*r]}re.invert=function(t,e){var n=(t*t+e*e)/-2,i=M(-n*(2+n)),r=e*n+t*i,o=t*n-e*i,a=M(o*o+r*r);return[s(i*r,a*(1+n)),a?-S(i*o/a):0]};function oe(t,e){var n=k(t,e);return[(n[0]+t/_)/2,(n[1]+e)/2]}oe.invert=function(t,e){var n=t,i=e,o=25;do{var s,l=a(i),u=A(i),c=A(2*i),h=u*u,f=l*l,p=A(n),d=a(n/2),g=A(n/2),v=g*g,y=1-f*d*d,b=y?O(l*d)*M(s=1/y):s=0,w=.5*(2*b*l*g+n/_)-t,E=.5*(b*u+i)-e,x=.5*s*(f*v+b*l*d*h)+.5/_,C=s*(p*c/4-b*u*g),B=.125*s*(c*g-b*u*f*p),I=.5*s*(h*d+b*v*l)+.5,S=C*B-I*x,T=(E*C-w*I)/S,N=(w*B-E*x)/S;n-=T,i-=N}while((r(T)>m||r(N)>m)&&--o>0);return[n,i]};n.d(e,"a",(function(){return qt}))},function(t,e,n){"use strict";var i=n(1),r=n(5),o=n(41),s=n(45),a=function(t){function e(e,n,i){if(t.call(this),void 0!==i&&void 0===n)this.setFlatCoordinates(i,e);else{var r=n||0;this.setCenterAndRadius(e,r,i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=t-r[0],s=e-r[1],a=o*o+s*s;if(a<i){if(0===a)for(var l=0;l<this.stride;++l)n[l]=r[l];else{var u=this.getRadius()/Math.sqrt(a);n[0]=r[0]+u*o,n[1]=r[1]+u*s;for(var c=2;c<this.stride;++c)n[c]=r[c]}return n.length=this.stride,a}return i},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return Object(i.k)(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return r.a.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Object(i.F)(t,e)){var n=this.getCenter();return t[0]<=n[0]&&t[2]>=n[0]||(t[1]<=n[1]&&t[3]>=n[1]||Object(i.t)(t,this.intersectsCoordinate,this))}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(var r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,r=Object(s.a)(i,0,t,this.stride);i[r++]=i[0]+e;for(var o=1,a=this.stride;o<a;++o)i[r++]=i[o];i.length=r,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(o.a);a.prototype.transform,e.a=a},function(t,e,n){"use strict";var i=n(51),r=n(66),o="preload",s="useInterimTilesOnError",a=n(14),l=function(t){function e(e){var n=e||{},r=Object(a.a)({},n);delete r.preload,delete r.useInterimTilesOnError,t.call(this,r),this.setPreload(void 0!==n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=i.a.TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(o)},e.prototype.setPreload=function(t){this.set(o,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(s)},e.prototype.setUseInterimTilesOnError=function(t){this.set(s,t)},e}(r.a);l.prototype.getSource;e.a=l},,,,,,,,,,function(t,e){t.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t}},function(t,e,n){"use strict";var i=n(96),r=n(33),o=n(58),s=n(157),a=n(158),l=n(138),u=n(209),c=n(210),h=n(120),f=n(222),p=function(t,e,n){var i,s=r.getTypeOf(e),c=r.extend(n||{},a);c.date=c.date||new Date,null!==c.compression&&(c.compression=c.compression.toUpperCase()),"string"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(t=A(t)),c.createFolders&&(i=d(t))&&g.call(this,i,!0);var p="string"===s&&!1===c.binary&&!1===c.base64;n&&void 0!==n.binary||(c.binary=!p),(e instanceof l&&0===e.uncompressedSize||c.dir||!e||0===e.length)&&(c.base64=!1,c.binary=!0,e="",c.compression="STORE",s="string");var m=null;m=e instanceof l||e instanceof o?e:h.isNode&&h.isStream(e)?new f(t,e):r.prepareContent(t,e,c.binary,c.optimizedBinaryString,c.base64);var v=new u(t,m,c);this.files[t]=v},d=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},A=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},g=function(t,e){return e=void 0!==e?e:a.createFolders,t=A(t),this.files[t]||p.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]};function m(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,n,i;for(e in this.files)this.files.hasOwnProperty(e)&&(i=this.files[e],(n=e.slice(this.root.length,e.length))&&e.slice(0,this.root.length)===this.root&&t(n,i))},filter:function(t){var e=[];return this.forEach((function(n,i){t(n,i)&&e.push(i)})),e},file:function(t,e,n){if(1===arguments.length){if(m(t)){var i=t;return this.filter((function(t,e){return!e.dir&&i.test(t)}))}var r=this.files[this.root+t];return r&&!r.dir?r:null}return(t=this.root+t,p.call(this,t,e,n),this)},folder:function(t){if(!t)return this;if(m(t))return this.filter((function(e,n){return n.dir&&t.test(e)}));var e=this.root+t,n=g.call(this,e),i=this.clone();return i.root=n.name,i},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter((function(e,n){return n.name.slice(0,t.length)===t})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,n={};try{if((n=r.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");r.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var a=n.comment||this.comment||"";e=c.generateWorker(this,n,a)}catch(t){(e=new o("error")).error(t)}return new s(e,n.type||"string",n.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return(t=t||{}).type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};t.exports=v},function(t,e,n){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],i=e[1];return 3*(n+i)/4-i},e.toByteArray=function(t){var e,n,i=u(t),s=i[0],a=i[1],l=new o(function(t,e,n){return 3*(e+n)/4-n}(0,s,a)),c=0,h=a>0?s-4:s;for(n=0;n<h;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;2===a&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[c++]=255&e);1===a&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e);return l},e.fromByteArray=function(t){for(var e,n=t.length,r=n%3,o=[],s=0,a=n-r;s<a;s+=16383)o.push(c(t,s,s+16383>a?a:s+16383));1===r?(e=t[n-1],o.push(i[e>>2]+i[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],o.push(i[e>>10]+i[e>>4&63]+i[e<<2&63]+"="));return o.join("")};for(var i=[],r=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)i[a]=s[a],r[s.charCodeAt(a)]=a;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function c(t,e,n){for(var r,o,s=[],a=e;a<n;a+=3)r=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),s.push(i[(o=r)>>18&63]+i[o>>12&63]+i[o>>6&63]+i[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,l=(1<<a)-1,u=l>>1,c=-7,h=n?r-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-u;else{if(o===l)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,i),o-=u}return(p?-1:1)*s*Math.pow(2,o-i)},e.write=function(t,e,n,i,r,o){var s,a,l,u=8*o-r-1,c=(1<<u)-1,h=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,A=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),(e+=s+h>=1?f/l:f*Math.pow(2,1-h))*l>=2&&(s++,l/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*l-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+p]=255&a,p+=d,a/=256,r-=8);for(s=s<<r|a,u+=r;u>0;t[n+p]=255&s,p+=d,s/=256,u-=8);t[n+p-d]|=128*A}},function(t,e,n){t.exports=r;var i=n(135).EventEmitter;function r(){i.call(this)}n(97)(r,i),r.Readable=n(136),r.Writable=n(200),r.Duplex=n(201),r.Transform=n(202),r.PassThrough=n(203),r.Stream=r,r.prototype.pipe=function(t,e){var n=this;function r(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",r),t.on("drain",o),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",l));var s=!1;function a(){s||(s=!0,t.end())}function l(){s||(s=!0,"function"==typeof t.destroy&&t.destroy())}function u(t){if(c(),0===i.listenerCount(this,"error"))throw t}function c(){n.removeListener("data",r),t.removeListener("drain",o),n.removeListener("end",a),n.removeListener("close",l),n.removeListener("error",u),t.removeListener("error",u),n.removeListener("end",c),n.removeListener("close",c),t.removeListener("close",c)}return n.on("error",u),t.on("error",u),n.on("end",c),n.on("close",c),t.on("close",c),t.emit("pipe",n),t}},function(t,e){},function(t,e,n){"use strict";var i=n(119).Buffer,r=n(196);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e,n,r,o=i.allocUnsafe(t>>>0),s=this.head,a=0;s;)e=s.data,n=o,r=a,e.copy(n,r),a+=s.data.length,s=s.next;return o},t}(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var t=r.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,s,a,l=1,u={},c=!1,h=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){d(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){d(t.data)},i=function(t){o.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(r=h.documentElement,i=function(t){var e=h.createElement("script");e.onreadystatechange=function(){d(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(d,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&d(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return u[l]=r,i(l),l++},f.clearImmediate=p}function p(t){delete u[t]}function d(t){if(c)setTimeout(d,0,t);else{var e=u[t];if(e){c=!0;try{!function(t){var e=t.callback,i=t.args;switch(i.length){case 0:e();break;case 1:e(i[0]);break;case 2:e(i[0],i[1]);break;case 3:e(i[0],i[1],i[2]);break;default:e.apply(n,i)}}(e)}finally{p(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(57),n(117))},function(t,e,n){(function(e){function n(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=function(t,e){if(n("noDeprecation"))return t;var i=!1;return function(){if(!i){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}}}).call(this,n(57))},function(t,e,n){"use strict";t.exports=o;var i=n(155),r=n(108);function o(t){if(!(this instanceof o))return new o(t);i.call(this,t)}r.inherits=n(97),r.inherits(o,i),o.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(137)},function(t,e,n){t.exports=n(89)},function(t,e,n){t.exports=n(136).Transform},function(t,e,n){t.exports=n(136).PassThrough},function(t,e,n){"use strict";(function(e){t.exports="function"==typeof e?e:function(){var t=[].slice.apply(arguments);t.splice(1,0,0),setTimeout.apply(null,t)}}).call(this,n(153).setImmediate)},function(t,e,n){"use strict";var i=n(206);function r(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function u(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,t!==r&&p(this,t)}function c(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(t,e,n){i((function(){var i;try{i=e(n)}catch(e){return o.reject(t,e)}i===t?o.reject(t,new TypeError("Cannot resolve promise with itself")):o.resolve(t,i)}))}function f(t){var e=t&&t.then;if(t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof e)return function(){e.apply(t,arguments)}}function p(t,e){var n=!1;function i(e){n||(n=!0,o.reject(t,e))}function r(e){n||(n=!0,o.resolve(t,e))}var s=d((function(){e(r,i)}));"error"===s.status&&i(s.value)}function d(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}t.exports=u,u.prototype.finally=function(t){if("function"!=typeof t)return this;var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){throw n}))}))},u.prototype.catch=function(t){return this.then(null,t)},u.prototype.then=function(t,e){if("function"!=typeof t&&this.state===a||"function"!=typeof e&&this.state===s)return this;var n=new this.constructor(r);this.state!==l?h(n,this.state===a?t:e,this.outcome):this.queue.push(new c(n,t,e));return n},c.prototype.callFulfilled=function(t){o.resolve(this.promise,t)},c.prototype.otherCallFulfilled=function(t){h(this.promise,this.onFulfilled,t)},c.prototype.callRejected=function(t){o.reject(this.promise,t)},c.prototype.otherCallRejected=function(t){h(this.promise,this.onRejected,t)},o.resolve=function(t,e){var n=d(f,e);if("error"===n.status)return o.reject(t,n.value);var i=n.value;if(i)p(t,i);else{t.state=a,t.outcome=e;for(var r=-1,s=t.queue.length;++r<s;)t.queue[r].callFulfilled(e)}return t},o.reject=function(t,e){t.state=s,t.outcome=e;for(var n=-1,i=t.queue.length;++n<i;)t.queue[n].callRejected(e);return t},u.resolve=function(t){if(t instanceof this)return t;return o.resolve(new this(r),t)},u.reject=function(t){var e=new this(r);return o.reject(e,t)},u.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);var s=new Array(n),a=0,l=-1,u=new this(r);for(;++l<n;)c(t[l],l);return u;function c(t,r){e.resolve(t).then((function(t){s[r]=t,++a!==n||i||(i=!0,o.resolve(u,s))}),(function(t){i||(i=!0,o.reject(u,t))}))}},u.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,i=!1;if(!n)return this.resolve([]);var s=-1,a=new this(r);for(;++s<n;)l=t[s],e.resolve(l).then((function(t){i||(i=!0,o.resolve(a,t))}),(function(t){i||(i=!0,o.reject(a,t))}));var l;return a}},function(t,e,n){"use strict";(function(e){var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,s=new r(c),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var t,e;i=!0;for(var n=u.length;n;){for(e=u,u=[],t=-1;++t<n;)e[t]();n=u.length}i=!1}t.exports=function(t){1!==u.push(t)||i||n()}}).call(this,n(57))},function(t,e,n){"use strict";var i=n(58),r=n(33);function o(t){i.call(this,"ConvertWorker to "+t),this.destType=t}r.inherits(o,i),o.prototype.processChunk=function(t){this.push({data:r.transformTo(this.destType,t.data),meta:t.meta})},t.exports=o},function(t,e,n){"use strict";var i=n(149).Readable;function r(t,e,n){i.call(this,e),this._helper=t;var r=this;t.on("data",(function(t,e){r.push(t)||r._helper.pause(),n&&n(e)})).on("error",(function(t){r.emit("error",t)})).on("end",(function(){r.push(null)}))}n(33).inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},function(t,e,n){"use strict";var i=n(157),r=n(159),o=n(96),s=n(138),a=n(58),l=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}};l.prototype={internalStream:function(t){var e=null,n="string";try{if(!t)throw new Error("No output type specified.");var r="string"===(n=t.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),e=this._decompressWorker();var s=!this._dataBinary;s&&!r&&(e=e.pipe(new o.Utf8EncodeWorker)),!s&&r&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(t){(e=new a("error")).error(t)}return new i(e,n,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(n,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new r(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)l.prototype[u[h]]=c;t.exports=l},function(t,e,n){"use strict";var i=n(162),r=n(221);e.generateWorker=function(t,e,n){var o=new r(e.streamFiles,n,e.platform,e.encodeFileName),s=0;try{t.forEach((function(t,n){s++;var r=function(t,e){var n=t||e,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,e.compression),a=n.options.compressionOptions||e.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(r,a).withStreamInfo("file",{name:t,dir:l,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=s}catch(t){o.error(t)}return o}},function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=n(212),o=n(33),s=n(58),a=i?"uint8array":"array";function l(t,e){s.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}e.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,t.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},e.compressWorker=function(t){return new l("Deflate",t)},e.uncompressWorker=function(){return new l("Inflate",{})}},function(t,e,n){"use strict";var i={};(0,n(81).assign)(i,n(213),n(216),n(167)),t.exports=i},function(t,e,n){"use strict";var i=n(214),r=n(81),o=n(165),s=n(140),a=n(166),l=Object.prototype.toString,u=0,c=-1,h=0,f=8;function p(t){if(!(this instanceof p))return new p(t);this.options=r.assign({level:c,method:f,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==u)throw new Error(s[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var d;if(d="string"==typeof e.dictionary?o.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=i.deflateSetDictionary(this.strm,d))!==u)throw new Error(s[n]);this._dict_set=!0}}function d(t,e){var n=new p(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}p.prototype.push=function(t,e){var n,s,a=this.strm,c=this.options.chunkSize;if(this.ended)return!1;s=e===~~e?e:!0===e?4:0,"string"==typeof t?a.input=o.string2buf(t):"[object ArrayBuffer]"===l.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(c),a.next_out=0,a.avail_out=c),1!==(n=i.deflate(a,s))&&n!==u)return this.onEnd(n),this.ended=!0,!1;0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(a.output,a.next_out))):this.onData(r.shrinkBuf(a.output,a.next_out)))}while((a.avail_in>0||0===a.avail_out)&&1!==n);return 4===s?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==s||(this.onEnd(u),a.avail_out=0,!0)},p.prototype.onData=function(t){this.chunks.push(t)},p.prototype.onEnd=function(t){t===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=p,e.deflate=d,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,d(t,e)}},function(t,e,n){"use strict";var i,r=n(81),o=n(215),s=n(163),a=n(164),l=n(140),u=0,c=1,h=3,f=4,p=5,d=0,A=1,g=-2,m=-3,v=-5,y=-1,_=1,b=2,w=3,E=4,x=0,C=2,B=8,I=9,S=15,O=8,M=286,T=30,N=19,k=2*M+1,L=15,F=3,R=258,D=R+F+1,P=32,U=42,Q=69,H=73,j=91,z=103,K=113,G=666,q=1,W=2,Y=3,X=4,V=3;function J(t,e){return t.msg=l[e],e}function Z(t){return(t<<1)-(t>4?9:0)}function $(t){for(var e=t.length;--e>=0;)t[e]=0}function tt(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function et(t,e){o._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,tt(t.strm)}function nt(t,e){t.pending_buf[t.pending++]=e}function it(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function rt(t,e){var n,i,r=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-D?t.strstart-(t.w_size-D):0,u=t.window,c=t.w_mask,h=t.prev,f=t.strstart+R,p=u[o+s-1],d=u[o+s];t.prev_length>=t.good_match&&(r>>=2),a>t.lookahead&&(a=t.lookahead);do{if(u[(n=e)+s]===d&&u[n+s-1]===p&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<f);if(i=R-(f-o),o=f-R,i>s){if(t.match_start=e,s=i,i>=a)break;p=u[o+s-1],d=u[o+s]}}}while((e=h[e&c])>l&&0!=--r);return s<=t.lookahead?s:t.lookahead}function ot(t){var e,n,i,o,l,u,c,h,f,p,d=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=d+(d-D)){r.arraySet(t.window,t.window,d,d,0),t.match_start-=d,t.strstart-=d,t.block_start-=d,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=d?i-d:0}while(--n);e=n=d;do{i=t.prev[--e],t.prev[e]=i>=d?i-d:0}while(--n);o+=d}if(0===t.strm.avail_in)break;if(u=t.strm,c=t.window,h=t.strstart+t.lookahead,f=o,p=void 0,(p=u.avail_in)>f&&(p=f),n=0===p?0:(u.avail_in-=p,r.arraySet(c,u.input,u.next_in,p,h),1===u.state.wrap?u.adler=s(u.adler,c,p,h):2===u.state.wrap&&(u.adler=a(u.adler,c,p,h)),u.next_in+=p,u.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=F)for(l=t.strstart-t.insert,t.ins_h=t.window[l],t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[l+F-1])&t.hash_mask,t.prev[l&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=l,l++,t.insert--,!(t.lookahead+t.insert<F)););}while(t.lookahead<D&&0!==t.strm.avail_in)}function st(t,e){for(var n,i;;){if(t.lookahead<D){if(ot(t),t.lookahead<D&&e===u)return q;if(0===t.lookahead)break}if(n=0,t.lookahead>=F&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-D&&(t.match_length=rt(t,n)),t.match_length>=F)if(i=o._tr_tally(t,t.strstart-t.match_start,t.match_length-F),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=F){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(et(t,!1),0===t.strm.avail_out))return q}return t.insert=t.strstart<F-1?t.strstart:F-1,e===f?(et(t,!0),0===t.strm.avail_out?Y:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?q:W}function at(t,e){for(var n,i,r;;){if(t.lookahead<D){if(ot(t),t.lookahead<D&&e===u)return q;if(0===t.lookahead)break}if(n=0,t.lookahead>=F&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=F-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-D&&(t.match_length=rt(t,n),t.match_length<=5&&(t.strategy===_||t.match_length===F&&t.strstart-t.match_start>4096)&&(t.match_length=F-1)),t.prev_length>=F&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-F,i=o._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-F),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+F-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=F-1,t.strstart++,i&&(et(t,!1),0===t.strm.avail_out))return q}else if(t.match_available){if((i=o._tr_tally(t,0,t.window[t.strstart-1]))&&et(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return q}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=o._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<F-1?t.strstart:F-1,e===f?(et(t,!0),0===t.strm.avail_out?Y:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?q:W}function lt(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function ut(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*k),this.dyn_dtree=new r.Buf16(2*(2*T+1)),this.bl_tree=new r.Buf16(2*(2*N+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(L+1),this.heap=new r.Buf16(2*M+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*M+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ct(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=C,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?U:K,t.adler=2===e.wrap?0:1,e.last_flush=u,o._tr_init(e),d):J(t,g)}function ht(t){var e,n=ct(t);return n===d&&((e=t.state).window_size=2*e.w_size,$(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=F-1,e.match_available=0,e.ins_h=0),n}function ft(t,e,n,i,o,s){if(!t)return g;var a=1;if(e===y&&(e=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),o<1||o>I||n!==B||i<8||i>15||e<0||e>9||s<0||s>E)return J(t,g);8===i&&(i=9);var l=new ut;return t.state=l,l.strm=t,l.wrap=a,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+F-1)/F),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=s,l.method=n,ht(t)}i=[new lt(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(ot(t),0===t.lookahead&&e===u)return q;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,et(t,!1),0===t.strm.avail_out))return q;if(t.strstart-t.block_start>=t.w_size-D&&(et(t,!1),0===t.strm.avail_out))return q}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?Y:X):(t.strstart>t.block_start&&(et(t,!1),t.strm.avail_out),q)})),new lt(4,4,8,4,st),new lt(4,5,16,8,st),new lt(4,6,32,32,st),new lt(4,4,16,16,at),new lt(8,16,32,32,at),new lt(8,16,128,128,at),new lt(8,32,128,256,at),new lt(32,128,258,1024,at),new lt(32,258,258,4096,at)],e.deflateInit=function(t,e){return ft(t,e,B,S,O,x)},e.deflateInit2=ft,e.deflateReset=ht,e.deflateResetKeep=ct,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?g:(t.state.gzhead=e,d):g},e.deflate=function(t,e){var n,r,s,l;if(!t||!t.state||e>p||e<0)return t?J(t,g):g;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||r.status===G&&e!==f)return J(t,0===t.avail_out?v:g);if(r.strm=t,n=r.last_flush,r.last_flush=e,r.status===U)if(2===r.wrap)t.adler=0,nt(r,31),nt(r,139),nt(r,8),r.gzhead?(nt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),nt(r,255&r.gzhead.time),nt(r,r.gzhead.time>>8&255),nt(r,r.gzhead.time>>16&255),nt(r,r.gzhead.time>>24&255),nt(r,9===r.level?2:r.strategy>=b||r.level<2?4:0),nt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(nt(r,255&r.gzhead.extra.length),nt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=a(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Q):(nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,0),nt(r,9===r.level?2:r.strategy>=b||r.level<2?4:0),nt(r,V),r.status=K);else{var m=B+(r.w_bits-8<<4)<<8;m|=(r.strategy>=b||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(m|=P),m+=31-m%31,r.status=K,it(r,m),0!==r.strstart&&(it(r,t.adler>>>16),it(r,65535&t.adler)),t.adler=1}if(r.status===Q)if(r.gzhead.extra){for(s=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),tt(t),s=r.pending,r.pending!==r.pending_buf_size));)nt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=H)}else r.status=H;if(r.status===H)if(r.gzhead.name){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),tt(t),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,nt(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.gzindex=0,r.status=j)}else r.status=j;if(r.status===j)if(r.gzhead.comment){s=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),tt(t),s=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,nt(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>s&&(t.adler=a(t.adler,r.pending_buf,r.pending-s,s)),0===l&&(r.status=z)}else r.status=z;if(r.status===z&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&tt(t),r.pending+2<=r.pending_buf_size&&(nt(r,255&t.adler),nt(r,t.adler>>8&255),t.adler=0,r.status=K)):r.status=K),0!==r.pending){if(tt(t),0===t.avail_out)return r.last_flush=-1,d}else if(0===t.avail_in&&Z(e)<=Z(n)&&e!==f)return J(t,v);if(r.status===G&&0!==t.avail_in)return J(t,v);if(0!==t.avail_in||0!==r.lookahead||e!==u&&r.status!==G){var y=r.strategy===b?function(t,e){for(var n;;){if(0===t.lookahead&&(ot(t),0===t.lookahead)){if(e===u)return q;break}if(t.match_length=0,n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(et(t,!1),0===t.strm.avail_out))return q}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?Y:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?q:W}(r,e):r.strategy===w?function(t,e){for(var n,i,r,s,a=t.window;;){if(t.lookahead<=R){if(ot(t),t.lookahead<=R&&e===u)return q;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=F&&t.strstart>0&&(i=a[r=t.strstart-1])===a[++r]&&i===a[++r]&&i===a[++r]){s=t.strstart+R;do{}while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);t.match_length=R-(s-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=F?(n=o._tr_tally(t,1,t.match_length-F),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=o._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(et(t,!1),0===t.strm.avail_out))return q}return t.insert=0,e===f?(et(t,!0),0===t.strm.avail_out?Y:X):t.last_lit&&(et(t,!1),0===t.strm.avail_out)?q:W}(r,e):i[r.level].func(r,e);if(y!==Y&&y!==X||(r.status=G),y===q||y===Y)return 0===t.avail_out&&(r.last_flush=-1),d;if(y===W&&(e===c?o._tr_align(r):e!==p&&(o._tr_stored_block(r,0,0,!1),e===h&&($(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),tt(t),0===t.avail_out))return r.last_flush=-1,d}return e!==f?d:r.wrap<=0?A:(2===r.wrap?(nt(r,255&t.adler),nt(r,t.adler>>8&255),nt(r,t.adler>>16&255),nt(r,t.adler>>24&255),nt(r,255&t.total_in),nt(r,t.total_in>>8&255),nt(r,t.total_in>>16&255),nt(r,t.total_in>>24&255)):(it(r,t.adler>>>16),it(r,65535&t.adler)),tt(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?d:A)},e.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==U&&e!==Q&&e!==H&&e!==j&&e!==z&&e!==K&&e!==G?J(t,g):(t.state=null,e===K?J(t,m):d):g},e.deflateSetDictionary=function(t,e){var n,i,o,a,l,u,c,h,f=e.length;if(!t||!t.state)return g;if(2===(a=(n=t.state).wrap)||1===a&&n.status!==U||n.lookahead)return g;for(1===a&&(t.adler=s(t.adler,e,f,0)),n.wrap=0,f>=n.w_size&&(0===a&&($(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new r.Buf8(n.w_size),r.arraySet(h,e,f-n.w_size,n.w_size,0),e=h,f=n.w_size),l=t.avail_in,u=t.next_in,c=t.input,t.avail_in=f,t.next_in=0,t.input=e,ot(n);n.lookahead>=F;){i=n.strstart,o=n.lookahead-(F-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+F-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--o);n.strstart=i,n.lookahead=F-1,ot(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=F-1,n.match_available=0,t.next_in=u,t.input=c,t.avail_in=l,n.wrap=a,d},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var i=n(81),r=4,o=0,s=1,a=2;function l(t){for(var e=t.length;--e>=0;)t[e]=0}var u=0,c=1,h=2,f=29,p=256,d=p+1+f,A=30,g=19,m=2*d+1,v=15,y=16,_=7,b=256,w=16,E=17,x=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],O=new Array(2*(d+2));l(O);var M=new Array(2*A);l(M);var T=new Array(512);l(T);var N=new Array(256);l(N);var k=new Array(f);l(k);var L,F,R,D=new Array(A);function P(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function U(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function Q(t){return t<256?T[t]:T[256+(t>>>7)]}function H(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function j(t,e,n){t.bi_valid>y-n?(t.bi_buf|=e<<t.bi_valid&65535,H(t,t.bi_buf),t.bi_buf=e>>y-t.bi_valid,t.bi_valid+=n-y):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function z(t,e,n){j(t,n[2*e],n[2*e+1])}function K(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function G(t,e,n){var i,r,o=new Array(v+1),s=0;for(i=1;i<=v;i++)o[i]=s=s+n[i-1]<<1;for(r=0;r<=e;r++){var a=t[2*r+1];0!==a&&(t[2*r]=K(o[a]++,a))}}function q(t){var e;for(e=0;e<d;e++)t.dyn_ltree[2*e]=0;for(e=0;e<A;e++)t.dyn_dtree[2*e]=0;for(e=0;e<g;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*b]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function W(t){t.bi_valid>8?H(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function Y(t,e,n,i){var r=2*e,o=2*n;return t[r]<t[o]||t[r]===t[o]&&i[e]<=i[n]}function X(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&Y(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!Y(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function V(t,e,n){var i,r,o,s,a=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*a]<<8|t.pending_buf[t.d_buf+2*a+1],r=t.pending_buf[t.l_buf+a],a++,0===i?z(t,r,e):(z(t,(o=N[r])+p+1,e),0!==(s=C[o])&&j(t,r-=k[o],s),z(t,o=Q(--i),n),0!==(s=B[o])&&j(t,i-=D[o],s))}while(a<t.last_lit);z(t,b,e)}function J(t,e){var n,i,r,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=m,n=0;n<l;n++)0!==o[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):o[2*n+1]=0;for(;t.heap_len<2;)o[2*(r=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[r]=0,t.opt_len--,a&&(t.static_len-=s[2*r+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)X(t,o,n);r=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],X(t,o,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,o[2*r]=o[2*n]+o[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,o[2*n+1]=o[2*i+1]=r,t.heap[1]=r++,X(t,o,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,o,s,a,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,d=e.stat_desc.max_length,A=0;for(o=0;o<=v;o++)t.bl_count[o]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<m;n++)(o=l[2*l[2*(i=t.heap[n])+1]+1]+1)>d&&(o=d,A++),l[2*i+1]=o,i>u||(t.bl_count[o]++,s=0,i>=p&&(s=f[i-p]),a=l[2*i],t.opt_len+=a*(o+s),h&&(t.static_len+=a*(c[2*i+1]+s)));if(0!==A){do{for(o=d-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[d]--,A-=2}while(A>0);for(o=d;0!==o;o--)for(i=t.bl_count[o];0!==i;)(r=t.heap[--n])>u||(l[2*r+1]!==o&&(t.opt_len+=(o-l[2*r+1])*l[2*r],l[2*r+1]=o),i--)}}(t,e),G(o,u,t.bl_count)}function Z(t,e,n){var i,r,o=-1,s=e[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++a<l&&r===s||(a<u?t.bl_tree[2*r]+=a:0!==r?(r!==o&&t.bl_tree[2*r]++,t.bl_tree[2*w]++):a<=10?t.bl_tree[2*E]++:t.bl_tree[2*x]++,a=0,o=r,0===s?(l=138,u=3):r===s?(l=6,u=3):(l=7,u=4))}function $(t,e,n){var i,r,o=-1,s=e[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++a<l&&r===s)){if(a<u)do{z(t,r,t.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(z(t,r,t.bl_tree),a--),z(t,w,t.bl_tree),j(t,a-3,2)):a<=10?(z(t,E,t.bl_tree),j(t,a-3,3)):(z(t,x,t.bl_tree),j(t,a-11,7));a=0,o=r,0===s?(l=138,u=3):r===s?(l=6,u=3):(l=7,u=4)}}l(D);var tt=!1;function et(t,e,n,r){j(t,(u<<1)+(r?1:0),3),function(t,e,n,r){W(t),r&&(H(t,n),H(t,~n)),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){tt||(!function(){var t,e,n,i,r,o=new Array(v+1);for(n=0,i=0;i<f-1;i++)for(k[i]=n,t=0;t<1<<C[i];t++)N[n++]=i;for(N[n-1]=i,r=0,i=0;i<16;i++)for(D[i]=r,t=0;t<1<<B[i];t++)T[r++]=i;for(r>>=7;i<A;i++)for(D[i]=r<<7,t=0;t<1<<B[i]-7;t++)T[256+r++]=i;for(e=0;e<=v;e++)o[e]=0;for(t=0;t<=143;)O[2*t+1]=8,t++,o[8]++;for(;t<=255;)O[2*t+1]=9,t++,o[9]++;for(;t<=279;)O[2*t+1]=7,t++,o[7]++;for(;t<=287;)O[2*t+1]=8,t++,o[8]++;for(G(O,d+1,o),t=0;t<A;t++)M[2*t+1]=5,M[2*t]=K(t,5);L=new P(O,C,p+1,d,v),F=new P(M,B,0,A,v),R=new P(new Array(0),I,0,g,_)}(),tt=!0),t.l_desc=new U(t.dyn_ltree,L),t.d_desc=new U(t.dyn_dtree,F),t.bl_desc=new U(t.bl_tree,R),t.bi_buf=0,t.bi_valid=0,q(t)},e._tr_stored_block=et,e._tr_flush_block=function(t,e,n,i){var l,u,f=0;t.level>0?(t.strm.data_type===a&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return o;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return s;for(e=32;e<p;e++)if(0!==t.dyn_ltree[2*e])return s;return o}(t)),J(t,t.l_desc),J(t,t.d_desc),f=function(t){var e;for(Z(t,t.dyn_ltree,t.l_desc.max_code),Z(t,t.dyn_dtree,t.d_desc.max_code),J(t,t.bl_desc),e=g-1;e>=3&&0===t.bl_tree[2*S[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),l=t.opt_len+3+7>>>3,(u=t.static_len+3+7>>>3)<=l&&(l=u)):l=u=n+5,n+4<=l&&-1!==e?et(t,e,n,i):t.strategy===r||u===l?(j(t,(c<<1)+(i?1:0),3),V(t,O,M)):(j(t,(h<<1)+(i?1:0),3),function(t,e,n,i){var r;for(j(t,e-257,5),j(t,n-1,5),j(t,i-4,4),r=0;r<i;r++)j(t,t.bl_tree[2*S[r]+1],3);$(t,t.dyn_ltree,e-1),$(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,f+1),V(t,t.dyn_ltree,t.dyn_dtree)),q(t),i&&W(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(N[n]+p+1)]++,t.dyn_dtree[2*Q(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){j(t,c<<1,3),z(t,b,O),function(t){16===t.bi_valid?(H(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var i=n(217),r=n(81),o=n(165),s=n(167),a=n(140),l=n(166),u=n(220),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);if(this.header=new u,i.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=o.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=i.inflateSetDictionary(this.strm,e.dictionary))!==s.Z_OK))throw new Error(a[n])}function f(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(t,e){var n,a,l,u,h,f=this.strm,p=this.options.chunkSize,d=this.options.dictionary,A=!1;if(this.ended)return!1;a=e===~~e?e:!0===e?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof t?f.input=o.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?f.input=new Uint8Array(t):f.input=t,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(p),f.next_out=0,f.avail_out=p),(n=i.inflate(f,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&d&&(n=i.inflateSetDictionary(this.strm,d)),n===s.Z_BUF_ERROR&&!0===A&&(n=s.Z_OK,A=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==s.Z_STREAM_END&&(0!==f.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(f.output,f.next_out),u=f.next_out-l,h=o.buf2string(f.output,l),f.next_out=u,f.avail_out=p-u,u&&r.arraySet(f.output,f.output,l,u,0),this.onData(h)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(A=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),f.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=f,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,f(t,e)},e.ungzip=f},function(t,e,n){"use strict";var i=n(81),r=n(163),o=n(164),s=n(218),a=n(219),l=0,u=1,c=2,h=4,f=5,p=6,d=0,A=1,g=2,m=-2,v=-3,y=-4,_=-5,b=8,w=1,E=2,x=3,C=4,B=5,I=6,S=7,O=8,M=9,T=10,N=11,k=12,L=13,F=14,R=15,D=16,P=17,U=18,Q=19,H=20,j=21,z=22,K=23,G=24,q=25,W=26,Y=27,X=28,V=29,J=30,Z=31,$=32,tt=852,et=592,nt=15;function it(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function rt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ot(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=w,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(tt),e.distcode=e.distdyn=new i.Buf32(et),e.sane=1,e.back=-1,d):m}function st(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,ot(t)):m}function at(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?m:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,st(t))):m}function lt(t,e){var n,i;return t?(i=new rt,t.state=i,i.window=null,(n=at(t,e))!==d&&(t.state=null),n):m}var ut,ct,ht=!0;function ft(t){if(ht){var e;for(ut=new i.Buf32(512),ct=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(u,t.lens,0,288,ut,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(c,t.lens,0,32,ct,0,t.work,{bits:5}),ht=!1}t.lencode=ut,t.lenbits=9,t.distcode=ct,t.distbits=5}function pt(t,e,n,r){var o,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new i.Buf8(s.wsize)),r>=s.wsize?(i.arraySet(s.window,e,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((o=s.wsize-s.wnext)>r&&(o=r),i.arraySet(s.window,e,n-r,o,s.wnext),(r-=o)?(i.arraySet(s.window,e,n-r,r,0),s.wnext=r,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}e.inflateReset=st,e.inflateReset2=at,e.inflateResetKeep=ot,e.inflateInit=function(t){return lt(t,nt)},e.inflateInit2=lt,e.inflate=function(t,e){var n,tt,et,nt,rt,ot,st,at,lt,ut,ct,ht,dt,At,gt,mt,vt,yt,_t,bt,wt,Et,xt,Ct,Bt=0,It=new i.Buf8(4),St=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return m;(n=t.state).mode===k&&(n.mode=L),rt=t.next_out,et=t.output,st=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,at=n.hold,lt=n.bits,ut=ot,ct=st,Et=d;t:for(;;)switch(n.mode){case w:if(0===n.wrap){n.mode=L;break}for(;lt<16;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}if(2&n.wrap&&35615===at){n.check=0,It[0]=255&at,It[1]=at>>>8&255,n.check=o(n.check,It,2,0),at=0,lt=0,n.mode=E;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&at)<<8)+(at>>8))%31){t.msg="incorrect header check",n.mode=J;break}if((15&at)!==b){t.msg="unknown compression method",n.mode=J;break}if(lt-=4,wt=8+(15&(at>>>=4)),0===n.wbits)n.wbits=wt;else if(wt>n.wbits){t.msg="invalid window size",n.mode=J;break}n.dmax=1<<wt,t.adler=n.check=1,n.mode=512&at?T:k,at=0,lt=0;break;case E:for(;lt<16;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}if(n.flags=at,(255&n.flags)!==b){t.msg="unknown compression method",n.mode=J;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=J;break}n.head&&(n.head.text=at>>8&1),512&n.flags&&(It[0]=255&at,It[1]=at>>>8&255,n.check=o(n.check,It,2,0)),at=0,lt=0,n.mode=x;case x:for(;lt<32;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}n.head&&(n.head.time=at),512&n.flags&&(It[0]=255&at,It[1]=at>>>8&255,It[2]=at>>>16&255,It[3]=at>>>24&255,n.check=o(n.check,It,4,0)),at=0,lt=0,n.mode=C;case C:for(;lt<16;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}n.head&&(n.head.xflags=255&at,n.head.os=at>>8),512&n.flags&&(It[0]=255&at,It[1]=at>>>8&255,n.check=o(n.check,It,2,0)),at=0,lt=0,n.mode=B;case B:if(1024&n.flags){for(;lt<16;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}n.length=at,n.head&&(n.head.extra_len=at),512&n.flags&&(It[0]=255&at,It[1]=at>>>8&255,n.check=o(n.check,It,2,0)),at=0,lt=0}else n.head&&(n.head.extra=null);n.mode=I;case I:if(1024&n.flags&&((ht=n.length)>ot&&(ht=ot),ht&&(n.head&&(wt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,tt,nt,ht,wt)),512&n.flags&&(n.check=o(n.check,tt,ht,nt)),ot-=ht,nt+=ht,n.length-=ht),n.length))break t;n.length=0,n.mode=S;case S:if(2048&n.flags){if(0===ot)break t;ht=0;do{wt=tt[nt+ht++],n.head&&wt&&n.length<65536&&(n.head.name+=String.fromCharCode(wt))}while(wt&&ht<ot);if(512&n.flags&&(n.check=o(n.check,tt,ht,nt)),ot-=ht,nt+=ht,wt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=O;case O:if(4096&n.flags){if(0===ot)break t;ht=0;do{wt=tt[nt+ht++],n.head&&wt&&n.length<65536&&(n.head.comment+=String.fromCharCode(wt))}while(wt&&ht<ot);if(512&n.flags&&(n.check=o(n.check,tt,ht,nt)),ot-=ht,nt+=ht,wt)break t}else n.head&&(n.head.comment=null);n.mode=M;case M:if(512&n.flags){for(;lt<16;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}if(at!==(65535&n.check)){t.msg="header crc mismatch",n.mode=J;break}at=0,lt=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=k;break;case T:for(;lt<32;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}t.adler=n.check=it(at),at=0,lt=0,n.mode=N;case N:if(0===n.havedict)return t.next_out=rt,t.avail_out=st,t.next_in=nt,t.avail_in=ot,n.hold=at,n.bits=lt,g;t.adler=n.check=1,n.mode=k;case k:if(e===f||e===p)break t;case L:if(n.last){at>>>=7&lt,lt-=7&lt,n.mode=Y;break}for(;lt<3;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}switch(n.last=1&at,lt-=1,3&(at>>>=1)){case 0:n.mode=F;break;case 1:if(ft(n),n.mode=H,e===p){at>>>=2,lt-=2;break t}break;case 2:n.mode=P;break;case 3:t.msg="invalid block type",n.mode=J}at>>>=2,lt-=2;break;case F:for(at>>>=7&lt,lt-=7&lt;lt<32;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}if((65535&at)!=(at>>>16^65535)){t.msg="invalid stored block lengths",n.mode=J;break}if(n.length=65535&at,at=0,lt=0,n.mode=R,e===p)break t;case R:n.mode=D;case D:if(ht=n.length){if(ht>ot&&(ht=ot),ht>st&&(ht=st),0===ht)break t;i.arraySet(et,tt,nt,ht,rt),ot-=ht,nt+=ht,st-=ht,rt+=ht,n.length-=ht;break}n.mode=k;break;case P:for(;lt<14;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}if(n.nlen=257+(31&at),at>>>=5,lt-=5,n.ndist=1+(31&at),at>>>=5,lt-=5,n.ncode=4+(15&at),at>>>=4,lt-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=J;break}n.have=0,n.mode=U;case U:for(;n.have<n.ncode;){for(;lt<3;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}n.lens[St[n.have++]]=7&at,at>>>=3,lt-=3}for(;n.have<19;)n.lens[St[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,xt={bits:n.lenbits},Et=a(l,n.lens,0,19,n.lencode,0,n.work,xt),n.lenbits=xt.bits,Et){t.msg="invalid code lengths set",n.mode=J;break}n.have=0,n.mode=Q;case Q:for(;n.have<n.nlen+n.ndist;){for(;mt=(Bt=n.lencode[at&(1<<n.lenbits)-1])>>>16&255,vt=65535&Bt,!((gt=Bt>>>24)<=lt);){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}if(vt<16)at>>>=gt,lt-=gt,n.lens[n.have++]=vt;else{if(16===vt){for(Ct=gt+2;lt<Ct;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}if(at>>>=gt,lt-=gt,0===n.have){t.msg="invalid bit length repeat",n.mode=J;break}wt=n.lens[n.have-1],ht=3+(3&at),at>>>=2,lt-=2}else if(17===vt){for(Ct=gt+3;lt<Ct;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}lt-=gt,wt=0,ht=3+(7&(at>>>=gt)),at>>>=3,lt-=3}else{for(Ct=gt+7;lt<Ct;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}lt-=gt,wt=0,ht=11+(127&(at>>>=gt)),at>>>=7,lt-=7}if(n.have+ht>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=J;break}for(;ht--;)n.lens[n.have++]=wt}}if(n.mode===J)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=J;break}if(n.lenbits=9,xt={bits:n.lenbits},Et=a(u,n.lens,0,n.nlen,n.lencode,0,n.work,xt),n.lenbits=xt.bits,Et){t.msg="invalid literal/lengths set",n.mode=J;break}if(n.distbits=6,n.distcode=n.distdyn,xt={bits:n.distbits},Et=a(c,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,xt),n.distbits=xt.bits,Et){t.msg="invalid distances set",n.mode=J;break}if(n.mode=H,e===p)break t;case H:n.mode=j;case j:if(ot>=6&&st>=258){t.next_out=rt,t.avail_out=st,t.next_in=nt,t.avail_in=ot,n.hold=at,n.bits=lt,s(t,ct),rt=t.next_out,et=t.output,st=t.avail_out,nt=t.next_in,tt=t.input,ot=t.avail_in,at=n.hold,lt=n.bits,n.mode===k&&(n.back=-1);break}for(n.back=0;mt=(Bt=n.lencode[at&(1<<n.lenbits)-1])>>>16&255,vt=65535&Bt,!((gt=Bt>>>24)<=lt);){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}if(mt&&0==(240&mt)){for(yt=gt,_t=mt,bt=vt;mt=(Bt=n.lencode[bt+((at&(1<<yt+_t)-1)>>yt)])>>>16&255,vt=65535&Bt,!(yt+(gt=Bt>>>24)<=lt);){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}at>>>=yt,lt-=yt,n.back+=yt}if(at>>>=gt,lt-=gt,n.back+=gt,n.length=vt,0===mt){n.mode=W;break}if(32&mt){n.back=-1,n.mode=k;break}if(64&mt){t.msg="invalid literal/length code",n.mode=J;break}n.extra=15&mt,n.mode=z;case z:if(n.extra){for(Ct=n.extra;lt<Ct;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}n.length+=at&(1<<n.extra)-1,at>>>=n.extra,lt-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=K;case K:for(;mt=(Bt=n.distcode[at&(1<<n.distbits)-1])>>>16&255,vt=65535&Bt,!((gt=Bt>>>24)<=lt);){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}if(0==(240&mt)){for(yt=gt,_t=mt,bt=vt;mt=(Bt=n.distcode[bt+((at&(1<<yt+_t)-1)>>yt)])>>>16&255,vt=65535&Bt,!(yt+(gt=Bt>>>24)<=lt);){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}at>>>=yt,lt-=yt,n.back+=yt}if(at>>>=gt,lt-=gt,n.back+=gt,64&mt){t.msg="invalid distance code",n.mode=J;break}n.offset=vt,n.extra=15&mt,n.mode=G;case G:if(n.extra){for(Ct=n.extra;lt<Ct;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}n.offset+=at&(1<<n.extra)-1,at>>>=n.extra,lt-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=J;break}n.mode=q;case q:if(0===st)break t;if(ht=ct-st,n.offset>ht){if((ht=n.offset-ht)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=J;break}ht>n.wnext?(ht-=n.wnext,dt=n.wsize-ht):dt=n.wnext-ht,ht>n.length&&(ht=n.length),At=n.window}else At=et,dt=rt-n.offset,ht=n.length;ht>st&&(ht=st),st-=ht,n.length-=ht;do{et[rt++]=At[dt++]}while(--ht);0===n.length&&(n.mode=j);break;case W:if(0===st)break t;et[rt++]=n.length,st--,n.mode=j;break;case Y:if(n.wrap){for(;lt<32;){if(0===ot)break t;ot--,at|=tt[nt++]<<lt,lt+=8}if(ct-=st,t.total_out+=ct,n.total+=ct,ct&&(t.adler=n.check=n.flags?o(n.check,et,ct,rt-ct):r(n.check,et,ct,rt-ct)),ct=st,(n.flags?at:it(at))!==n.check){t.msg="incorrect data check",n.mode=J;break}at=0,lt=0}n.mode=X;case X:if(n.wrap&&n.flags){for(;lt<32;){if(0===ot)break t;ot--,at+=tt[nt++]<<lt,lt+=8}if(at!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=J;break}at=0,lt=0}n.mode=V;case V:Et=A;break t;case J:Et=v;break t;case Z:return y;case $:default:return m}return t.next_out=rt,t.avail_out=st,t.next_in=nt,t.avail_in=ot,n.hold=at,n.bits=lt,(n.wsize||ct!==t.avail_out&&n.mode<J&&(n.mode<Y||e!==h))&&pt(t,t.output,t.next_out,ct-t.avail_out)?(n.mode=Z,y):(ut-=t.avail_in,ct-=t.avail_out,t.total_in+=ut,t.total_out+=ct,n.total+=ct,n.wrap&&ct&&(t.adler=n.check=n.flags?o(n.check,et,ct,t.next_out-ct):r(n.check,et,ct,t.next_out-ct)),t.data_type=n.bits+(n.last?64:0)+(n.mode===k?128:0)+(n.mode===H||n.mode===R?256:0),(0===ut&&0===ct||e===h)&&Et===d&&(Et=_),Et)},e.inflateEnd=function(t){if(!t||!t.state)return m;var e=t.state;return e.window&&(e.window=null),t.state=null,d},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?m:(n.head=e,e.done=!1,d):m},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&n.mode!==N?m:n.mode===N&&r(1,e,i,0)!==n.check?v:pt(t,e,i,i)?(n.mode=Z,y):(n.havedict=1,d):m},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,i,r,o,s,a,l,u,c,h,f,p,d,A,g,m,v,y,_,b,w,E,x,C,B;n=t.state,i=t.next_in,C=t.input,r=i+(t.avail_in-5),o=t.next_out,B=t.output,s=o-(e-t.avail_out),a=o+(t.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,h=n.wnext,f=n.window,p=n.hold,d=n.bits,A=n.lencode,g=n.distcode,m=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{d<15&&(p+=C[i++]<<d,d+=8,p+=C[i++]<<d,d+=8),y=A[p&m];e:for(;;){if(p>>>=_=y>>>24,d-=_,0===(_=y>>>16&255))B[o++]=65535&y;else{if(!(16&_)){if(0==(64&_)){y=A[(65535&y)+(p&(1<<_)-1)];continue e}if(32&_){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}b=65535&y,(_&=15)&&(d<_&&(p+=C[i++]<<d,d+=8),b+=p&(1<<_)-1,p>>>=_,d-=_),d<15&&(p+=C[i++]<<d,d+=8,p+=C[i++]<<d,d+=8),y=g[p&v];n:for(;;){if(p>>>=_=y>>>24,d-=_,!(16&(_=y>>>16&255))){if(0==(64&_)){y=g[(65535&y)+(p&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&y,d<(_&=15)&&(p+=C[i++]<<d,(d+=8)<_&&(p+=C[i++]<<d,d+=8)),(w+=p&(1<<_)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=_,d-=_,w>(_=o-s)){if((_=w-_)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(E=0,x=f,0===h){if(E+=u-_,_<b){b-=_;do{B[o++]=f[E++]}while(--_);E=o-w,x=B}}else if(h<_){if(E+=u+h-_,(_-=h)<b){b-=_;do{B[o++]=f[E++]}while(--_);if(E=0,h<b){b-=_=h;do{B[o++]=f[E++]}while(--_);E=o-w,x=B}}}else if(E+=h-_,_<b){b-=_;do{B[o++]=f[E++]}while(--_);E=o-w,x=B}for(;b>2;)B[o++]=x[E++],B[o++]=x[E++],B[o++]=x[E++],b-=3;b&&(B[o++]=x[E++],b>1&&(B[o++]=x[E++]))}else{E=o-w;do{B[o++]=B[E++],B[o++]=B[E++],B[o++]=B[E++],b-=3}while(b>2);b&&(B[o++]=B[E++],b>1&&(B[o++]=B[E++]))}break}}break}}while(i<r&&o<a);i-=b=d>>3,p&=(1<<(d-=b<<3))-1,t.next_in=i,t.next_out=o,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=o<a?a-o+257:257-(o-a),n.hold=p,n.bits=d}},function(t,e,n){"use strict";var i=n(81),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,l,u,c,h,f){var p,d,A,g,m,v,y,_,b,w=f.bits,E=0,x=0,C=0,B=0,I=0,S=0,O=0,M=0,T=0,N=0,k=null,L=0,F=new i.Buf16(16),R=new i.Buf16(16),D=null,P=0;for(E=0;E<=15;E++)F[E]=0;for(x=0;x<l;x++)F[e[n+x]]++;for(I=w,B=15;B>=1&&0===F[B];B--);if(I>B&&(I=B),0===B)return u[c++]=20971520,u[c++]=20971520,f.bits=1,0;for(C=1;C<B&&0===F[C];C++);for(I<C&&(I=C),M=1,E=1;E<=15;E++)if(M<<=1,(M-=F[E])<0)return-1;if(M>0&&(0===t||1!==B))return-1;for(R[1]=0,E=1;E<15;E++)R[E+1]=R[E]+F[E];for(x=0;x<l;x++)0!==e[n+x]&&(h[R[e[n+x]]++]=x);if(0===t?(k=D=h,v=19):1===t?(k=r,L-=257,D=o,P-=257,v=256):(k=s,D=a,v=-1),N=0,x=0,E=C,m=c,S=I,O=0,A=-1,g=(T=1<<I)-1,1===t&&T>852||2===t&&T>592)return 1;for(;;){y=E-O,h[x]<v?(_=0,b=h[x]):h[x]>v?(_=D[P+h[x]],b=k[L+h[x]]):(_=96,b=0),p=1<<E-O,C=d=1<<S;do{u[m+(N>>O)+(d-=p)]=y<<24|_<<16|b|0}while(0!==d);for(p=1<<E-1;N&p;)p>>=1;if(0!==p?(N&=p-1,N+=p):N=0,x++,0==--F[E]){if(E===B)break;E=e[n+h[x]]}if(E>I&&(N&g)!==A){for(0===O&&(O=I),m+=C,M=1<<(S=E-O);S+O<B&&!((M-=F[S+O])<=0);)S++,M<<=1;if(T+=1<<S,1===t&&T>852||2===t&&T>592)return 1;u[A=N&g]=I<<24|S<<16|m-c|0}}return 0!==N&&(u[m+N]=E-O<<24|64<<16|0),f.bits=I,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){"use strict";var i=n(33),r=n(58),o=n(96),s=n(139),a=n(168),l=function(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},u=function(t,e,n,r,u,c){var h,f,p=t.file,d=t.compression,A=c!==o.utf8encode,g=i.transformTo("string",c(p.name)),m=i.transformTo("string",o.utf8encode(p.name)),v=p.comment,y=i.transformTo("string",c(v)),_=i.transformTo("string",o.utf8encode(v)),b=m.length!==p.name.length,w=_.length!==v.length,E="",x="",C="",B=p.dir,I=p.date,S={crc32:0,compressedSize:0,uncompressedSize:0};e&&!n||(S.crc32=t.crc32,S.compressedSize=t.compressedSize,S.uncompressedSize=t.uncompressedSize);var O=0;e&&(O|=8),A||!b&&!w||(O|=2048);var M,T,N,k=0,L=0;B&&(k|=16),"UNIX"===u?(L=798,k|=(M=p.unixPermissions,T=B,N=M,M||(N=T?16893:33204),(65535&N)<<16)):(L=20,k|=63&(p.dosPermissions||0)),h=I.getUTCHours(),h<<=6,h|=I.getUTCMinutes(),h<<=5,h|=I.getUTCSeconds()/2,f=I.getUTCFullYear()-1980,f<<=4,f|=I.getUTCMonth()+1,f<<=5,f|=I.getUTCDate(),b&&(x=l(1,1)+l(s(g),4)+m,E+="up"+l(x.length,2)+x),w&&(C=l(1,1)+l(s(y),4)+_,E+="uc"+l(C.length,2)+C);var F="";return F+="\n\0",F+=l(O,2),F+=d.magic,F+=l(h,2),F+=l(f,2),F+=l(S.crc32,4),F+=l(S.compressedSize,4),F+=l(S.uncompressedSize,4),F+=l(g.length,2),F+=l(E.length,2),{fileRecord:a.LOCAL_FILE_HEADER+F+g+E,dirRecord:a.CENTRAL_FILE_HEADER+l(L,2)+F+l(y.length,2)+"\0\0\0\0"+l(k,4)+l(r,4)+g+E+y}},c=function(t){return a.DATA_DESCRIPTOR+l(t.crc32,4)+l(t.compressedSize,4)+l(t.uncompressedSize,4)};function h(t,e,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}i.inherits(h,r),h.prototype.push=function(t){var e=t.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,r.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:n?(e+100*(n-i-1))/n:100}}))},h.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var n=u(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,n=u(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),e)this.push({data:c(t),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var n=this.bytesWritten-t,r=function(t,e,n,r,o){var s=i.transformTo("string",o(r));return a.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(t,2)+l(t,2)+l(e,4)+l(n,4)+l(s.length,2)+s}(this.dirRecords.length,n,t,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",(function(t){e.processChunk(t)})),t.on("end",(function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()})),t.on("error",(function(t){e.error(t)})),this},h.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(t){var e=this._sources;if(!r.prototype.error.call(this,t))return!1;for(var n=0;n<e.length;n++)try{e[n].error(t)}catch(t){}return!0},h.prototype.lock=function(){r.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},t.exports=h},function(t,e,n){"use strict";var i=n(33),r=n(58);function o(t,e){r.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}i.inherits(o,r),o.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",(function(t){e.push({data:t,meta:{percent:0}})})).on("error",(function(t){e.isPaused?this.generatedError=t:e.error(t)})).on("end",(function(){e.isPaused?e._upstreamEnded=!0:e.end()}))},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},function(t,e,n){"use strict";var i=n(33),r=n(109),o=n(96),s=(i=n(33),n(224)),a=n(161),l=n(120);function u(t){return new r.Promise((function(e,n){var i=t.decompressed.getContentWorker().pipe(new a);i.on("error",(function(t){n(t)})).on("end",(function(){i.streamInfo.crc32!==t.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):e()})).resume()}))}t.exports=function(t,e){var n=this;return e=i.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(t)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then((function(t){var n=new s(e);return n.load(t),n})).then((function(t){var n=[r.Promise.resolve(t)],i=t.files;if(e.checkCRC32)for(var o=0;o<i.length;o++)n.push(u(i[o]));return r.Promise.all(n)})).then((function(t){for(var i=t.shift(),r=i.files,o=0;o<r.length;o++){var s=r[o];n.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},function(t,e,n){"use strict";var i=n(169),r=n(33),o=n(168),s=n(227),a=(n(96),n(80));function l(t){this.files=[],this.loadOptions=t}l.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(e)+", expected "+r.pretty(t)+")")}},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=a.uint8array?"uint8array":"array",n=r.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(t=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(t<0)throw!this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(t);var e=t;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(i>0)this.isSignature(e,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=i(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},function(t,e,n){"use strict";var i=n(171);function r(t){i.call(this,t)}n(33).inherits(r,i),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){return t===this.readData(4)},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var i=n(172);function r(t){i.call(this,t)}n(33).inherits(r,i),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},function(t,e,n){"use strict";var i=n(169),r=n(33),o=n(138),s=n(139),a=n(96),l=n(162),u=n(80);function c(t,e){this.options=t,this.loadOptions=e}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(e=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<r;)e=t.readInt(2),n=t.readInt(2),i=t.readData(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=r.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:s(this.fileName)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=i(t.value);return 1!==e.readInt(1)?null:s(this.fileComment)!==e.readInt(4)?null:a.utf8decode(e.readData(t.length-5))}return null}},t.exports=c},function(t,e,n){},function(t,e,n){t.exports=function(){"use strict";function t(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function e(t,e){return t<e?-1:t>e?1:0}return function(n,i,r,o,s){!function e(n,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,l=i-r+1,u=Math.log(a),c=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*c*(a-c)/a)*(l-a/2<0?-1:1),f=Math.max(r,Math.floor(i-l*c/a+h)),p=Math.min(o,Math.floor(i+(a-l)*c/a+h));e(n,i,f,p,s)}var d=n[i],A=r,g=o;for(t(n,r,i),s(n[o],d)>0&&t(n,r,o);A<g;){for(t(n,A,g),A++,g--;s(n[A],d)<0;)A++;for(;s(n[g],d)>0;)g--}0===s(n[r],d)?t(n,r,g):t(n,++g,o),g<=i&&(r=g+1),i<=g&&(o=g-1)}}(n,i,r||0,o||n.length-1,s||e)}}()},function(t,e,n){var i,r,o;
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */r=[n(55),n(231)],void 0===(o="function"==typeof(i=function(t){var e,n=0,i=Array.prototype.slice;return t.cleanData=(e=t.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,i){var r,o,s,a={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,(function(e,i){t.isFunction(i)?a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}():a[e]=i})),o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,(function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)})),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,r,o=i.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])r=o[s][n],o[s].hasOwnProperty(n)&&void 0!==r&&(t.isPlainObject(r)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):e[n]=r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=i.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each((function(){var n,i=t.data(this,r);return"instance"===o?(l=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):l=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each((function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new n(o,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,n){e._removeClass(n,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function r(r,o){var s,a;for(a=0;a<r.length;a++)s=i.classesElementLookup[r[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),i.classesElementLookup[r[a]]=s,n.push(r[a]),o&&e.classes[r[a]]&&n.push(e.classes[r[a]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,(function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))}))},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,(function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,a):n.on(u,a)}))},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout((function(){return("string"==typeof t?n[t]:t).apply(n,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){var s;"string"==typeof r&&(r={effect:r});var a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue((function(n){t(this)[e](),o&&o.call(i[0]),n()}))}})),t.widget})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[n(55)],void 0===(o="function"==typeof(i=function(t){return t.ui=t.ui||{},t.ui.version="1.12.1"})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;
/*! jQuery UI - v1.12.1 - 2017-03-19
* http://jqueryui.com
* Includes: widget.js, position.js, data.js, disable-selection.js, focusable.js, form-reset-mixin.js, jquery-1-7.js, keycode.js, labels.js, scroll-parent.js, tabbable.js, unique-id.js, widgets/draggable.js, widgets/droppable.js, widgets/resizable.js, widgets/selectable.js, widgets/sortable.js, widgets/accordion.js, widgets/autocomplete.js, widgets/button.js, widgets/checkboxradio.js, widgets/controlgroup.js, widgets/datepicker.js, widgets/dialog.js, widgets/menu.js, widgets/mouse.js, widgets/progressbar.js, widgets/selectmenu.js, widgets/slider.js, widgets/spinner.js, widgets/tabs.js, widgets/tooltip.js, effect.js, effects/effect-blind.js, effects/effect-bounce.js, effects/effect-clip.js, effects/effect-drop.js, effects/effect-explode.js, effects/effect-fade.js, effects/effect-fold.js, effects/effect-highlight.js, effects/effect-puff.js, effects/effect-pulsate.js, effects/effect-scale.js, effects/effect-shake.js, effects/effect-size.js, effects/effect-slide.js, effects/effect-transfer.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */r=[n(55)],void 0===(o="function"==typeof(i=function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e,n,i=0,r=Array.prototype.slice;
/*!
 * jQuery UI Widget 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.cleanData=(e=t.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,i){var r,o,s,a={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr.pseudos[u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,(function(e,i){t.isFunction(i)?a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}():a[e]=i})),o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,(function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)})),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,o=r.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])i=o[s][n],o[s].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=r.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each((function(){var n,r=t.data(this,i);return"instance"===o?(l=r,!1):r?t.isFunction(r[o])&&"_"!==o.charAt(0)?(n=r[o].apply(r,a))!==r&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):l=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each((function(){var e=t.data(this,i);e?(e.option(o||{}),e._init&&e._init()):t.data(this,i,new n(o,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,n){e._removeClass(n,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function r(r,o){var s,a;for(a=0;a<r.length;a++)s=i.classesElementLookup[r[a]]||t(),s=e.add?t(t.uniqueSort(s.get().concat(e.element.get()))):t(s.not(e.element).get()),i.classesElementLookup[r[a]]=s,n.push(r[a]),o&&e.classes[r[a]]&&n.push(e.classes[r[a]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,(function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))}))},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,(function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,a):n.on(u,a)}))},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout((function(){return("string"==typeof t?n[t]:t).apply(n,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){var s;"string"==typeof r&&(r={effect:r});var a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue((function(n){t(this)[e](),o&&o.call(i[0]),n()}))}})),t.widget,
/*!
 * jQuery UI Position 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
function(){var e,n=Math.max,i=Math.abs,r=/left|center|right/,o=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,u=t.fn.position;function c(t,e,n){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?n/100:1)]}function h(e,n){return parseInt(t.css(e,n),10)||0}function f(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var n,i,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=r.children()[0];return t("body").append(r),n=o.offsetWidth,r.css("overflow","scroll"),n===(i=o.offsetWidth)&&(i=r[0].clientWidth),r.remove(),e=n-i},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:i||r?{left:0,top:0}:t(e).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return u.apply(this,arguments);e=t.extend({},e);var l,p,d,A,g,m,v=t(e.of),y=t.position.getWithinInfo(e.within),_=t.position.getScrollInfo(y),b=(e.collision||"flip").split(" "),w={};return m=f(v),v[0].preventDefault&&(e.at="left top"),p=m.width,d=m.height,A=m.offset,g=t.extend({},A),t.each(["my","at"],(function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):o.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=o.test(i[1])?i[1]:"center",t=s.exec(i[0]),n=s.exec(i[1]),w[this]=[t?t[0]:0,n?n[0]:0],e[this]=[a.exec(i[0])[0],a.exec(i[1])[0]]})),1===b.length&&(b[1]=b[0]),"right"===e.at[0]?g.left+=p:"center"===e.at[0]&&(g.left+=p/2),"bottom"===e.at[1]?g.top+=d:"center"===e.at[1]&&(g.top+=d/2),l=c(w.at,p,d),g.left+=l[0],g.top+=l[1],this.each((function(){var r,o,s=t(this),a=s.outerWidth(),u=s.outerHeight(),f=h(this,"marginLeft"),m=h(this,"marginTop"),E=a+f+h(this,"marginRight")+_.width,x=u+m+h(this,"marginBottom")+_.height,C=t.extend({},g),B=c(w.my,s.outerWidth(),s.outerHeight());"right"===e.my[0]?C.left-=a:"center"===e.my[0]&&(C.left-=a/2),"bottom"===e.my[1]?C.top-=u:"center"===e.my[1]&&(C.top-=u/2),C.left+=B[0],C.top+=B[1],r={marginLeft:f,marginTop:m},t.each(["left","top"],(function(n,i){t.ui.position[b[n]]&&t.ui.position[b[n]][i](C,{targetWidth:p,targetHeight:d,elemWidth:a,elemHeight:u,collisionPosition:r,collisionWidth:E,collisionHeight:x,offset:[l[0]+B[0],l[1]+B[1]],my:e.my,at:e.at,within:y,elem:s})})),e.using&&(o=function(t){var r=A.left-C.left,o=r+p-a,l=A.top-C.top,c=l+d-u,h={target:{element:v,left:A.left,top:A.top,width:p,height:d},element:{element:s,left:C.left,top:C.top,width:a,height:u},horizontal:o<0?"left":r>0?"right":"center",vertical:c<0?"top":l>0?"bottom":"middle"};p<a&&i(r+o)<p&&(h.horizontal="center"),d<u&&i(l+c)<d&&(h.vertical="middle"),n(i(r),i(o))>n(i(l),i(c))?h.important="horizontal":h.important="vertical",e.using.call(this,t,h)}),s.offset(t.extend(C,{using:o}))}))},t.ui.position={fit:{left:function(t,e){var i,r=e.within,o=r.isWindow?r.scrollLeft:r.offset.left,s=r.width,a=t.left-e.collisionPosition.marginLeft,l=o-a,u=a+e.collisionWidth-s-o;e.collisionWidth>s?l>0&&u<=0?(i=t.left+l+e.collisionWidth-s-o,t.left+=l-i):t.left=u>0&&l<=0?o:l>u?o+s-e.collisionWidth:o:l>0?t.left+=l:u>0?t.left-=u:t.left=n(t.left-a,t.left)},top:function(t,e){var i,r=e.within,o=r.isWindow?r.scrollTop:r.offset.top,s=e.within.height,a=t.top-e.collisionPosition.marginTop,l=o-a,u=a+e.collisionHeight-s-o;e.collisionHeight>s?l>0&&u<=0?(i=t.top+l+e.collisionHeight-s-o,t.top+=l-i):t.top=u>0&&l<=0?o:l>u?o+s-e.collisionHeight:o:l>0?t.top+=l:u>0?t.top-=u:t.top=n(t.top-a,t.top)}},flip:{left:function(t,e){var n,r,o=e.within,s=o.offset.left+o.scrollLeft,a=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,h=u+e.collisionWidth-a-l,f="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,d=-2*e.offset[0];c<0?((n=t.left+f+p+d+e.collisionWidth-a-s)<0||n<i(c))&&(t.left+=f+p+d):h>0&&((r=t.left-e.collisionPosition.marginLeft+f+p+d-l)>0||i(r)<h)&&(t.left+=f+p+d)},top:function(t,e){var n,r,o=e.within,s=o.offset.top+o.scrollTop,a=o.height,l=o.isWindow?o.scrollTop:o.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,h=u+e.collisionHeight-a-l,f="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,d=-2*e.offset[1];c<0?((r=t.top+f+p+d+e.collisionHeight-a-s)<0||r<i(c))&&(t.top+=f+p+d):h>0&&((n=t.top-e.collisionPosition.marginTop+f+p+d-l)>0||i(n)<h)&&(t.top+=f+p+d)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.ui.position,t.extend(t.expr.pseudos,{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(n){return!!t.data(n,e)}})):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:(n="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(n+".ui-disableSelection",(function(t){t.preventDefault()}))}),enableSelection:function(){return this.off(".ui-disableSelection")}}),
/*!
 * jQuery UI Focusable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.ui.focusable=function(e,n){var i,r,o,s,a,l=e.nodeName.toLowerCase();return"area"===l?(r=(i=e.parentNode).name,!(!e.href||!r||"map"!==i.nodeName.toLowerCase())&&(o=t("img[usemap='#"+r+"']")).length>0&&o.is(":visible")):(/^(input|select|textarea|button|object)$/.test(l)?(s=!e.disabled)&&(a=t(e).closest("fieldset")[0])&&(s=!a.disabled):s="a"===l&&e.href||n,s&&t(e).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr.pseudos,{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout((function(){var n=e.data("ui-form-reset-instances");t.each(n,(function(){this.refresh()}))}))},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},
/*!
 * jQuery UI Support for jQuery core 1.7.x 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 */
"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],(function(e,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function s(e,n,r,o){return t.each(i,(function(){n-=parseFloat(t.css(e,"padding"+this))||0,r&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)})),n}t.fn["inner"+n]=function(e){return void 0===e?o["inner"+n].call(this):this.each((function(){t(this).css(r,s(this,e)+"px")}))},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?o["outer"+n].call(this,e):this.each((function(){t(this).css(r,s(this,e,!0,i)+"px")}))}})),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=(s=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(s,"\\$1")}),t.fn.labels=function(){var e,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(i=this.attr("id"))&&(o=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr.pseudos,{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:(o=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++o)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")}))}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());
/*!
 * jQuery UI Keycode 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
var o,s,a=!1;t(document).on("mouseup",(function(){a=!1})),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).on("click."+this.widgetName,(function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!a){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),a=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,a=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},
/*!
 * jQuery UI Draggable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle||(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),0)))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map((function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter((function(){return"fixed"===t(this).css("position")})).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),(function(){!1!==n._trigger("stop",e)&&n._clear()})):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(i=(n=t(r.containment))[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=r.containment:this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,s=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),s.grid&&(r=s.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,u=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-s.grid[1]:r+s.grid[1]:r,o=s.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o),"y"===s.axis&&(l=this.originalPageX),"x"===s.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each((function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))}))},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,(function(){this.isOver?(this.isOver=0,i.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,r))}))},drag:function(e,n,i){t.each(i.sortables,(function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,(function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r}))),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,(function(){this.refreshPositions()})),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,(function(){this.refreshPositions()})))}))}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,s=i.scrollParentNotHidden[0],a=i.document[0];s!==a&&"HTML"!==s.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+s.offsetHeight-e.pageY<r.scrollSensitivity?s.scrollTop=o=s.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(s.scrollTop=o=s.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+s.offsetWidth-e.pageX<r.scrollSensitivity?s.scrollLeft=o=s.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(s.scrollLeft=o=s.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(a).scrollTop()<r.scrollSensitivity?o=t(a).scrollTop(t(a).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<r.scrollSensitivity&&(o=t(a).scrollTop(t(a).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(a).scrollLeft()<r.scrollSensitivity?o=t(a).scrollLeft(t(a).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<r.scrollSensitivity&&(o=t(a).scrollLeft(t(a).scrollLeft()+r.scrollSpeed)))),!1!==o&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each((function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})}))},drag:function(e,n,i){var r,o,s,a,l,u,c,h,f,p,d=i.options,A=d.snapTolerance,g=n.offset.left,m=g+i.helperProportions.width,v=n.offset.top,y=v+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)u=(l=i.snapElements[f].left-i.margins.left)+i.snapElements[f].width,h=(c=i.snapElements[f].top-i.margins.top)+i.snapElements[f].height,m<l-A||g>u+A||y<c-A||v>h+A||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==d.snapMode&&(r=Math.abs(c-y)<=A,o=Math.abs(h-v)<=A,s=Math.abs(l-m)<=A,a=Math.abs(u-g)<=A,r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),p=r||o||s||a,"outer"!==d.snapMode&&(r=Math.abs(c-v)<=A,o=Math.abs(h-y)<=A,s=Math.abs(l-g)<=A,a=Math.abs(u-m)<=A,r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(r||o||s||a||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=r||o||s||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,s=t.makeArray(t(o.stack)).sort((function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)}));s.length&&(r=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each((function(e){t(this).css("zIndex",r+e)})),this.css("zIndex",r+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.ui.draggable,
/*!
 * jQuery UI Droppable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each((function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&l(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return r=!0,!1})),!r&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var l=t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,s=(e.positionAbs||e.position.absolute).top+e.margins.top,a=o+e.helperProportions.width,l=s+e.helperProportions.height,u=n.offset.left,c=n.offset.top,h=u+n.proportions().width,f=c+n.proportions().height;switch(i){case"fit":return u<=o&&a<=h&&c<=s&&l<=f;case"intersect":return u<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&c<s+e.helperProportions.height/2&&l-e.helperProportions.height/2<f;case"pointer":return t(r.pageY,c,n.proportions().height)&&t(r.pageX,u,n.proportions().width);case"touch":return(s>=c&&s<=f||l>=c&&l<=f||s<c&&l>f)&&(o>=u&&o<=h||a>=u&&a<=h||o<u&&a>h);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],s=n?n.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<a.length;r++)if(a[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===s&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),(function(){this.options&&(!this.options.disabled&&this.visible&&l(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))})),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",(function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}))},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],(function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=l(e,this,this.options.tolerance,n),a=!s&&this.isover?"isout":s&&!this.isover?"isover":null;a&&(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter((function(){return t(this).droppable("instance").options.scope===r}))).length&&((i=t(o[0]).droppable("instance")).greedyChild="isover"===a)),i&&"isover"===a&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,n),i&&"isout"===a&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}}))},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.ui.droppable,
/*!
 * jQuery UI Resizable 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i,r=n&&"left"===n?"scrollLeft":"scrollTop";return e[r]>0||(e[r]=1,i=e[r]>0,e[r]=0,i)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",(function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())})).on("mouseleave",(function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,s=this.options,a=this;if(this.handles=s.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)r="ui-resizable-"+(e=t.trim(i[n])),o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:s.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",(function(){a.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=o&&o[1]?o[1]:"se")})),s.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,s=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,s=e.pageX-r.left||0,a=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,s,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,s,a,l,u=this.options;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:this.sizeDiff.height,o=i?0:this.sizeDiff.width,s={width:this.helper.width()-o,height:this.helper.height()-r},a=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,u.animate||this.element.css(t.extend(s,{top:l,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,s=this.options;o={minWidth:this._isNumber(s.minWidth)?s.minWidth:0,maxWidth:this._isNumber(s.maxWidth)?s.maxWidth:1/0,minHeight:this._isNumber(s.minHeight)?s.minHeight:0,maxHeight:this._isNumber(s.maxHeight)?s.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&u&&(t.left=a-e.minWidth),i&&u&&(t.left=a-e.maxWidth),s&&c&&(t.top=l-e.minHeight),r&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),s=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,l={width:n.size.width-a,height:n.size.height-s},u=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,s,a,l=t(this).resizable("instance"),u=l.options,c=l.element,h=u.containment,f=h instanceof t?h.get(0):/parent/.test(h)?c.parent().get(0):h;f&&(l.containerElement=t(f),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(f),n=[],t(["Top","Right","Left","Bottom"]).each((function(t,i){n[t]=l._num(e.css("padding"+i))})),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,s=l._hasScroll(f,"left")?f.scrollWidth:o,a=l._hasScroll(f)?f.scrollHeight:r,l.parentData={element:f,left:i.left,top:i.top,width:s,height:a}))},resize:function(e){var n,i,r,o,s=t(this).resizable("instance"),a=s.options,l=s.containerOffset,u=s.position,c=s._aspectRatio||e.shiftKey,h={top:0,left:0},f=s.containerElement,p=!0;f[0]!==document&&/static/.test(f.css("position"))&&(h=l),u.left<(s._helper?l.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-l.left:s.position.left-h.left),c&&(s.size.height=s.size.width/s.aspectRatio,p=!1),s.position.left=a.helper?l.left:0),u.top<(s._helper?l.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-l.top:s.position.top),c&&(s.size.width=s.size.height*s.aspectRatio,p=!1),s.position.top=s._helper?l.top:0),r=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),r&&o?(s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top):(s.offset.left=s.element.offset().left,s.offset.top=s.element.offset().top),n=Math.abs(s.sizeDiff.width+(s._helper?s.offset.left-h.left:s.offset.left-l.left)),i=Math.abs(s.sizeDiff.height+(s._helper?s.offset.top-h.top:s.offset.top-l.top)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,c&&(s.size.height=s.size.width/s.aspectRatio,p=!1)),i+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-i,c&&(s.size.width=s.size.height*s.aspectRatio,p=!1)),p||(s.position.left=s.prevPosition.left,s.position.top=s.prevPosition.top,s.size.width=s.prevSize.width,s.size.height=s.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,s=t(e.helper),a=s.offset(),l=s.outerWidth()-e.sizeDiff.width,u=s.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:u}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:a.left-r.left-i.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options;t(e.alsoResize).each((function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})}))},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,s=i.originalPosition,a={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-s.top||0,left:i.position.left-s.left||0};t(r.alsoResize).each((function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,(function(t,e){var n=(i[e]||0)+(a[e]||0);n&&n>=0&&(r[e]=n||null)})),e.css(r)}))},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,s=n.originalPosition,a=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,h=Math.round((r.width-o.width)/u)*u,f=Math.round((r.height-o.height)/c)*c,p=o.width+h,d=o.height+f,A=i.maxWidth&&i.maxWidth<p,g=i.maxHeight&&i.maxHeight<d,m=i.minWidth&&i.minWidth>p,v=i.minHeight&&i.minHeight>d;i.grid=l,m&&(p+=u),v&&(d+=c),A&&(p-=u),g&&(d-=c),/^(se|s|e)$/.test(a)?(n.size.width=p,n.size.height=d):/^(ne)$/.test(a)?(n.size.width=p,n.size.height=d,n.position.top=s.top-f):/^(sw)$/.test(a)?(n.size.width=p,n.size.height=d,n.position.left=s.left-h):((d-c<=0||p-u<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),d-c>0?(n.size.height=d,n.position.top=s.top-f):(d=c-e.height,n.size.height=d,n.position.top=s.top+o.height-d),p-u>0?(n.size.width=p,n.position.left=s.left-h):(p=u-e.width,n.size.width=p,n.position.left=s.left+o.width-p))}}),t.ui.resizable,t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each((function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})}))},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each((function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))})),t(e.target).parents().addBack().each((function(){var i,r=t.data(this,"selectable-item");if(r)return i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1})))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],s=this.opos[1],a=e.pageX,l=e.pageY;return o>a&&(n=a,a=o,o=n),s>l&&(n=l,l=s,s=n),this.helper.css({left:o,top:s,width:a-o,height:l-s}),this.selectees.each((function(){var n=t.data(this,"selectable-item"),u=!1,c={};n&&n.element!==i.element[0]&&(c.left=n.left+i.elementPos.left,c.right=n.right+i.elementPos.left,c.top=n.top+i.elementPos.top,c.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?u=!(c.left>a||c.right<o||c.top>l||c.bottom<s):"fit"===r.tolerance&&(u=c.left>o&&c.right<a&&c.top>s&&c.bottom<l),u?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))})),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each((function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})})),t(".ui-selecting",this.element[0]).each((function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})})),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,(function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")}))},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each((function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1})),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!i||this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each((function(){this===e.target&&(r=!0)})),!r)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,(function(){i._clear(e)}))}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each((function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))})),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each((function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")})),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||i+u>a&&i+u<l,f="y"===this.options.axis||e+c>o&&e+c<s,p=h&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!r)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,o,s=[],a=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(i=(r=t(l[n],this.document[0])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function u(){s.push(this)}for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(u);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,u,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(i=(r=t(f[n],this.document[0])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(h.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=h.length-1;n>=0;n--)for(s=h[n][1],i=0,u=(a=h[n][0]).length;i<u;i++)(l=t(a[i])).data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each((function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(e){var n,i,r,o,s,a,l,u,c,h,f=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,s=(c=f.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",h=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],u=!1,e[h]-l>this.items[i][a]/2&&(u=!0),Math.abs(e[h]-l)<r&&(r=Math.abs(e[h]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay((function(){r===this.counter&&this.refreshPositions(!i)}))},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function r(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}for(this.fromOutside&&!e&&i.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(i.push((function(t){this._trigger("remove",t,this._uiHash())})),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each((function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)})).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each((function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))})),this.headers.each((function(){e-=t(this).outerHeight(!0)})),this.headers.next().each((function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each((function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()})).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),(function(t,e){n[e]="_eventHandler"})),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,o=this.active,s=t(e.currentTarget),a=s[0]===o[0],l=a&&r.collapsible,u=l?t():s.next(),c=o.next(),h={oldHeader:o,oldPanel:c,newHeader:l?t():s,newPanel:u};e.preventDefault(),a&&!r.collapsible||!1===this._trigger("beforeActivate",e,h)||(r.active=!l&&this.headers.index(s),this.active=a?t():s,this._toggle(h),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),a||(this._removeClass(s,"ui-accordion-header-collapsed")._addClass(s,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=s.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(s.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter((function(){return 0===parseInt(t(this).attr("tabIndex"),10)})).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,s=this,a=0,l=t.css("box-sizing"),u=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},h=u&&c.down||c,f=function(){s._toggleComplete(n)};return"number"==typeof h&&(o=h),"string"==typeof h&&(r=h),r=r||h.easing||c.easing,o=o||h.duration||c.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:f,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===l&&(a+=n.now):"content"!==s.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,o,r,f):t.animate(this.showProps,o,r,f)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay((function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)}))},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each((function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()}))},_keydown:function(e){var n,i,r,o,s=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:s=!1,i=this.previousFilter||"",o=!1,r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),(n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay((function(){delete this.previousFilter}),1e3)):delete this.previousFilter}s&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,o=this,s=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each((function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);o._addClass(i,"ui-menu-icon","ui-icon "+s),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))})),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(e=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each((function(){var e=t(this);o._isDivider(e)&&o._addClass(e,"ui-menu-divider","ui-widget-content")})),r=(i=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(r,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay((function(){this._close()}),this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,s,a;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),s=this.activeMenu.height(),a=e.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+a>s&&this.activeMenu.scrollTop(o+r-s+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay((function(){this._close(),this._open(t)}),this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay((function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i}),this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay((function(){this.focus(t,e)})))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each((function(){return(n=t(this)).offset().top-i-r<0})),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var n,i,r;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each((function(){return(n=t(this)).offset().top-i+r>0})),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter((function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))}))}}),
/*!
 * jQuery UI Autocomplete 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,s="input"===r;this.isMultiLine=o||!s&&this._isContentEditable(this.element),this.valueMethod=this.element[o||s?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){if(i)return i=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")}))},menufocus:function(e,n){var i,r;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",(function(){t(e.target).trigger(e.originalEvent)}));r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),(i=n.item.attr("aria-label")||r.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay((function(){this.previous=r,this.selectedItem=i}))),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay((function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||n||i)||(this.selectedItem=null,this.search(null,t))}),this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy((function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")}),this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,(function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})}))},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,(function(t,n){i._renderItemData(e,n)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,(function(t){return i.test(t.label||t.value||t)}))}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}}),t.ui.autocomplete;var u,c,h=/ui-corner-([a-z]){2,6}/g;
/*!
 * jQuery UI Controlgroup 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */function f(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=p(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function p(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,(function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")})).on("mouseover",n,d)}function d(){t.datepicker._isDisabledDatepicker(u.inline?u.dpDiv.parent()[0]:u.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function A(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}
/*!
 * jQuery UI Spinner 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function g(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,(function(i,r){var o,s={};if(r)return"controlgroupLabel"===i?((o=e.element.find(r)).each((function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")})),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(t.fn[i]&&(s=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(r).each((function(){var r=t(this),o=r[i]("instance"),a=t.widget.extend({},s);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(a.classes=e._resolveClassesValues(a.classes,o)),r[i](a);var l=r[i]("widget");t.data(l[0],"ui-controlgroup-data",o||r[i]("instance")),n.push(l[0])}}))))})),this.childWidgets=t(t.uniqueSort(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each((function(){var n=t(this).data("ui-controlgroup-data");n&&n[e]&&n[e]()}))},_updateCornerClass:function(t,e){var n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,(function(r){var o=n.options.classes[r]||"";o=t.trim(o.replace(h,"")),i[r]=(o+" "+e[r]).replace(/\s+/g," ")})),i},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],(function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)})),this._callChildMethod("refresh"))}}),
/*!
 * jQuery UI Checkboxradio 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each((function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML})),this.originalLabel&&(r.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,n="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(n):t(n).filter((function(){return 0===t(this).form().length}))).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each((function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")}))},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.ui.checkboxradio,
/*!
 * jQuery UI Button 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button,
/*!
 * jQuery UI Datepicker 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return A(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;r="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(o=this._newInst(t(e),r)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?p(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,s=this._get(n,"appendText"),a=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[a?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[a?"before":"after"](n.trigger),n.trigger.on("click",(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1})))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,o){var s,a,l,u,c,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",h)),A(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+u,l/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),u===r&&(u=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,o.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,o.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,(function(t){return t===e?null:t})),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,o,s,a,l=this._getInst(e);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?t.extend({},t.datepicker._defaults):l?"all"===n?t.extend({},l.settings):this._get(l,n):null;r=n||{},"string"==typeof n&&((r={})[n]=i),l&&(this._curInst===l&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(l,"min"),a=this._getMinMaxDate(l,"max"),A(l.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(l.settings.minDate=this._formatDate(l,s)),null!==a&&void 0!==r.dateFormat&&void 0===r.maxDate&&(l.settings.maxDate=this._formatDate(l,a)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,o),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),s=!0,a=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv))[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),(n=t.datepicker._get(o,"onSelect"))?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(t){}return!0},_showDatepicker:function(e){var n,i,r,o,s,a,l;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e||(n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(r=(i=t.datepicker._get(n,"beforeShow"))?i.apply(e,[e,n]):{})&&(A(n.settings,r),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),o=!1,t(e).parents().each((function(){return!(o|="fixed"===t(this).css("position"))})),s={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),s=t.datepicker._checkOffset(n,s,o),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"}),n.inline||(a=t.datepicker._get(n,"showAnim"),l=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[a]?n.dpDiv.show(a,t.datepicker._get(n,"showOptions"),l):n.dpDiv[a||"show"](a?l:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,u=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],o=e.dpDiv.find("."+this._dayOverClass+" a");o.length>0&&d.apply(o.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout((function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null}),0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-s:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+a?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+a):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.pseudos.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,r,o,s=this._curInst;!s||e&&s!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(s,"showAnim"),i=this._get(s,"duration"),r=function(){t.datepicker._tidyDialog(s)},t.effects&&(t.effects.effect[n]||t.effects[n])?s.dpDiv.hide(n,t.datepicker._get(s,"showOptions"),i,r):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(o=this._get(s,"onClose"))&&o.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===i)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,s=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((o=this._getInst(s[0])).selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var r,o,s,a,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,f=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,d=(i?i.monthNames:null)||this._defaults.monthNames,A=-1,g=-1,m=-1,v=-1,y=!1,_=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},b=function(t){var e=_(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=new RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),o=n.substring(l).match(r);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},w=function(e,i,r){var o=-1,s=t.map(_(e)?r:i,(function(t,e){return[[e,t]]})).sort((function(t,e){return-(t[1].length-e[1].length)}));if(t.each(s,(function(t,e){var i=e[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return o=e[0],l+=i.length,!1})),-1!==o)return o+1;throw"Unknown name at position "+l},E=function(){if(n.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<e.length;r++)if(y)"'"!==e.charAt(r)||_("'")?E():y=!1;else switch(e.charAt(r)){case"d":m=b("d");break;case"D":w("D",h,f);break;case"o":v=b("o");break;case"m":g=b("m");break;case"M":g=w("M",p,d);break;case"y":A=b("y");break;case"@":A=(a=new Date(b("@"))).getFullYear(),g=a.getMonth()+1,m=a.getDate();break;case"!":A=(a=new Date((b("!")-this._ticksTo1970)/1e4)).getFullYear(),g=a.getMonth()+1,m=a.getDate();break;case"'":_("'")?E():y=!0;break;default:E()}if(l<n.length&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===A?A=(new Date).getFullYear():A<100&&(A+=(new Date).getFullYear()-(new Date).getFullYear()%100+(A<=c?0:-100)),v>-1)for(g=1,m=v;!(m<=(o=this._getDaysInMonth(A,g-1)));)g++,m-=o;if((a=this._daylightSavingAdjust(new Date(A,g-1,m))).getFullYear()!==A||a.getMonth()+1!==g||a.getDate()!==m)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,a=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},u=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return l(t)?i[e]:n[e]},h="",f=!1;if(e)for(i=0;i<t.length;i++)if(f)"'"!==t.charAt(i)||l("'")?h+=t.charAt(i):f=!1;else switch(t.charAt(i)){case"d":h+=u("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),r,o);break;case"o":h+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),s,a);break;case"y":h+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":f=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,s=this._getFormatConfig(t);try{o=this.parseDate(n,i,s)||r}catch(t){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(t){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),o=i.getMonth(),s=i.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(n);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o));break;case"y":case"Y":r+=parseInt(l[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(r,o))}l=a.exec(n)}return new Date(r,o,s)}(n):"number"==typeof n?isNaN(n)?i:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(n):new Date(n.getTime());return(r=r&&"Invalid Date"===r.toString()?i:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map((function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])}))},_generateHTML:function(t){var e,n,i,r,o,s,a,l,u,c,h,f,p,d,A,g,m,v,y,_,b,w,E,x,C,B,I,S,O,M,T,N,k,L,F,R,D,P,U,Q=new Date,H=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth(),Q.getDate())),j=this._get(t,"isRTL"),z=this._get(t,"showButtonPanel"),K=this._get(t,"hideIfNoPrevNext"),G=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),W=this._get(t,"showCurrentAtPos"),Y=this._get(t,"stepMonths"),X=1!==q[0]||1!==q[1],V=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(t,"min"),Z=this._getMinMaxDate(t,"max"),$=t.drawMonth-W,tt=t.drawYear;if($<0&&($+=12,tt--),Z)for(e=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-q[0]*q[1]+1,Z.getDate())),e=J&&e<J?J:e;this._daylightSavingAdjust(new Date(tt,$,1))>e;)--$<0&&($=11,tt--);for(t.drawMonth=$,t.drawYear=tt,n=this._get(t,"prevText"),n=G?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,$-Y,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,$)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>":K?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=G?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,$+Y,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,$)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>":K?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>",s=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?V:H,s=G?this.formatDate(s,a,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(j?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),f=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),d=this._get(t,"monthNames"),A=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),m=this._get(t,"showOtherMonths"),v=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),_="",w=0;w<q[0];w++){for(E="",this.maxRows=4,x=0;x<q[1];x++){if(C=this._daylightSavingAdjust(new Date(tt,$,t.selectedDay)),B=" ui-corner-all",I="",X){if(I+="<div class='ui-datepicker-group",q[1]>1)switch(x){case 0:I+=" ui-datepicker-group-first",B=" ui-corner-"+(j?"right":"left");break;case q[1]-1:I+=" ui-datepicker-group-last",B=" ui-corner-"+(j?"left":"right");break;default:I+=" ui-datepicker-group-middle",B=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+B+"'>"+(/all|left/.test(B)&&0===w?j?o:i:"")+(/all|right/.test(B)&&0===w?j?i:o:"")+this._generateMonthYearHeader(t,$,tt,J,Z,w>0||x>0,d,A)+"</div><table class='ui-datepicker-calendar'><thead><tr>",S=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",b=0;b<7;b++)S+="<th scope='col'"+((b+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+f[O=(b+c)%7]+"'>"+p[O]+"</span></th>";for(I+=S+"</tr></thead><tbody>",M=this._getDaysInMonth(tt,$),tt===t.selectedYear&&$===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,M)),T=(this._getFirstDayOfMonth(tt,$)-c+7)%7,N=Math.ceil((T+M)/7),k=X&&this.maxRows>N?this.maxRows:N,this.maxRows=k,L=this._daylightSavingAdjust(new Date(tt,$,1-T)),F=0;F<k;F++){for(I+="<tr>",R=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(L)+"</td>":"",b=0;b<7;b++)D=g?g.apply(t.input?t.input[0]:null,[L]):[!0,""],U=(P=L.getMonth()!==$)&&!v||!D[0]||J&&L<J||Z&&L>Z,R+="<td class='"+((b+c+6)%7>=5?" ui-datepicker-week-end":"")+(P?" ui-datepicker-other-month":"")+(L.getTime()===C.getTime()&&$===t.selectedMonth&&t._keyEvent||y.getTime()===L.getTime()&&y.getTime()===C.getTime()?" "+this._dayOverClass:"")+(U?" "+this._unselectableClass+" ui-state-disabled":"")+(P&&!m?"":" "+D[1]+(L.getTime()===V.getTime()?" "+this._currentClass:"")+(L.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(P&&!m||!D[2]?"":" title='"+D[2].replace(/'/g,"&#39;")+"'")+(U?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(P&&!m?"&#xa0;":U?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===H.getTime()?" ui-state-highlight":"")+(L.getTime()===V.getTime()?" ui-state-active":"")+(P?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);I+=R+"</tr>"}++$>11&&($=0,tt++),E+=I+="</tbody></table>"+(X?"</div>"+(q[0]>0&&x===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}_+=E}return _+=u,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,n,i,r,o,s,a){var l,u,c,h,f,p,d,A,g=this._get(t,"changeMonth"),m=this._get(t,"changeYear"),v=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",_="";if(o||!g)_+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=i.getMonth())&&(!u||c<=r.getMonth())&&(_+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");_+="</select>"}if(v||(y+=_+(!o&&g&&m?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!m)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),f=(new Date).getFullYear(),d=(p=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?f+parseInt(t,10):parseInt(t,10);return isNaN(e)?f:e})(h[0]),A=Math.max(d,p(h[1]||"")),d=i?Math.max(d,i.getFullYear()):d,A=r?Math.min(A,r.getFullYear()):A,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";d<=A;d++)t.yearshtml+="<option value='"+d+"'"+(d===n?" selected='selected'":"")+">"+d+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),v&&(y+=(!o&&g&&m?"":"&#xa0;")+_),y+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),s=null,a=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),a=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(a+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each((function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)})):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new f,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.datepicker,
/*!
 * jQuery UI Dialog 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,(function(){n._trigger("close",e)})))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map((function(){return+t(this).css("z-index")})).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,(function(){e._focusTabbable(),e._trigger("focus")})),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay((function(){r.trigger("focus")})),e.preventDefault()):(this._delay((function(){i.trigger("focus")})),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,(function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",(function(){r.apply(e.element[0],arguments)}))})),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,n=this.options;function i(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",n,i(r))},drag:function(t,n){e._trigger("drag",t,i(n))},stop:function(r,o){var s=o.offset.left-e.document.scrollLeft(),a=o.offset.top-e.document.scrollTop();n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(a>=0?"+":"")+a,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",r,i(o))}})},_makeResizable:function(){var e=this,n=this.options,i=n.resizable,r=this.uiDialog.css("position"),o="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";function s(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,i){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",n,s(i))},resize:function(t,n){e._trigger("resize",t,s(n))},stop:function(i,r){var o=e.uiDialog.offset(),a=o.left-e.document.scrollLeft(),l=o.top-e.document.scrollTop();n.height=e.uiDialog.height(),n.width=e.uiDialog.width(),n.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",i,s(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,(function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)})),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=o.is(":data(ui-draggable)"))&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=o.is(":data(ui-resizable)"))&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||!1===n||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map((function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]}))},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay((function(){e=!1})),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.ui.dialog,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",(function(){n._rendered||n._refreshMenu()}))},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,r="";t.each(n,(function(n,o){var s;o.optgroup!==r&&(s=t("<li>",{text:o.optgroup}),i._addClass(s,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),s.appendTo(e),r=o.optgroup),i._renderItemData(e,o)}))},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each((function(e,r){i.push(n._parseOption(t(r),e))})),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;e<n;e++)o.push("<span tabindex='0'></span>");this.handles=r.add(t(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each((function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)}))},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,s,a,l,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each((function(e){var n=Math.abs(i-u.values(e));(r>n||r===n&&(e===u._lastChangedValue||u.values(e)===c.min))&&(r=n,o=t(this),s=e)})),!1!==this._start(e,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),a=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-o.width()/2,top:e.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),o[e]=n),n!==r&&!1!==this._trigger("slide",t,this._uiHash(e,n,o))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,s=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,c={};this._hasMultipleValues()?this.handles.each((function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](c,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:a.animate}))),e=n})):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(e){var n,i,r,o=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,o)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(o):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(e,o,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],(function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)})),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay((function(){this.spinning&&this._stop(t)}),100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){var n;function i(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay((function(){this.previous=n})))}n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay((function(){delete this.cancelBlur,i.call(this)})),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay((function(){this._repeat(40,e,n)}),t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;if("culture"===t||"numberFormat"===t)return n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:g((function(t){this._super(t)})),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:g((function(t){this._stepUp(t)})),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:g((function(t){this._stepDown(t)})),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:g((function(t){this._stepUp((t||1)*this.options.page)})),pageDown:g((function(t){this._stepDown((t||1)*this.options.page)})),value:function(t){if(!arguments.length)return this._parse(this.element.val());g(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.ui.spinner,
/*!
 * jQuery UI Tabs 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(c=/#.*$/,function(t){var e,n;e=t.href.replace(c,""),n=location.href.replace(c,"");try{e=decodeURIComponent(e)}catch(t){}try{n=decodeURIComponent(n)}catch(t){}return t.hash.length>1&&e===n}),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),(function(t){return e.tabs.index(t)})))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each((function(n,r){if(t(r).attr("aria-controls")===i)return e=n,!1})),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay((function(){this.option("active",i)}),this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){for(var i=this.tabs.length-1;-1!==t.inArray((e>i&&(e=0),e<0&&(e=i),e),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),(function(t){return n.index(t)})),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",(function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()})).on("focus"+this.eventNamespace,".ui-tabs-anchor",(function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()})),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map((function(){return t("a",this)[0]})).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each((function(n,i){var r,o,s,a=t(i).uniqueId().attr("id"),l=t(i).closest("li"),u=l.attr("aria-controls");e._isLocal(i)?(s=(r=i.hash).substring(1),o=e.element.find(e._sanitizeSelector(r))):(r="#"+(s=l.attr("aria-controls")||t({}).uniqueId()[0].id),(o=e.element.find(r)).length||(o=e._createPanel(s)).insertAfter(e.panels[n-1]||e.tablist),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":s,"aria-labelledby":a}),o.attr("aria-labelledby",a)})),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;i=this.tabs[r];r++)n=t(i),!0===e||-1!==t.inArray(r,e)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),(function(t,e){n[e]="_eventHandler"})),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each((function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))})),this.element.children().not(this.panels).each((function(){n-=t(this).outerHeight(!0)})),this.panels.each((function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))})).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each((function(){n=Math.max(n,t(this).height("").height())})).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget).closest("li"),o=r[0]===i[0],s=o&&n.collapsible,a=s?t():this._getPanelForTab(r),l=i.length?this._getPanelForTab(i):t(),u={oldTab:i,oldPanel:l,newTab:s?t():r,newPanel:a};e.preventDefault(),r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||o&&!n.collapsible||!1===this._trigger("beforeActivate",e,u)||(n.active=!s&&this.tabs.index(r),this.active=o?t():r,this.xhr&&this.xhr.abort(),l.length||a.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(r),e),this._toggle(e,u))},_toggle:function(e,n){var i=this,r=n.newPanel,o=n.oldPanel;function s(){i.running=!1,i._trigger("activate",e,n)}function a(){i._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),r.length&&i.options.show?i._show(r,i.options.show,s):(r.show(),s())}this.running=!0,o.length&&this.options.hide?this._hide(o,this.options.hide,(function(){i._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a()})):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),o.hide(),a()),o.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&o.length?n.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter((function(){return 0===t(this).attr("tabIndex")})).attr("tabIndex",-1),r.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each((function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")})),this.tabs.each((function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")})),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,(function(t){return t!==e?t:null})):t.map(this.tabs,(function(t,n){return n!==e?n:null}))),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),s=this._getPanelForTab(r),a={tab:r,panel:s},l=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),s.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),s.attr("aria-busy","true"),this.xhr.done((function(t,e,r){setTimeout((function(){s.html(t),i._trigger("load",n,a),l(r,e)}),1)})).fail((function(t,e){setTimeout((function(){l(t,e)}),1)}))))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.ui.tabs,
/*!
 * jQuery UI Tooltip 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,(function(t,e){i._updateContent(e.element)}))},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,(function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)})),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter((function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")})))},_enable:function(){this.disabledTitles.each((function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each((function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))})),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(e,t,i);(n=i.call(t[0],(function(n){r._delay((function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))}))})))&&this._open(e,t,n)},_open:function(e,n,i){var r,o,s,a,l=t.extend({},this.options.position);function u(t){l.of=t,o.is(":hidden")||o.position(l)}i&&((r=this._find(n))?r.tooltip.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),o=r.tooltip,this._addDescribedBy(n,o.attr("id")),o.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(a=t("<div>").html(o.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),a.removeAttr("id").find("[id]").removeAttr("id"),a.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:u}),u(e)):o.position(t.extend({of:n},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval((function(){o.is(":visible")&&(u(l.of),clearInterval(s))}),t.fx.interval)),this._trigger("open",e,{tooltip:o})))},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);o?(n=o.tooltip,o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,(function(){i._removeTooltip(t(this))})),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,(function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]})),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1))):r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,(function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))})),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}}),t.ui.tooltip;var m,v="ui-effects-animated",y=t;
/*!
 * jQuery UI Effects 1.12.1
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */t.effects={effect:{}},
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
function(t,e){var n,i=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],o=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},s={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=o.support={},u=t("<p>")[0],c=t.each;function h(t,e,n){var i=a[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function f(e){var i=o(),a=i._rgba=[];return e=e.toLowerCase(),c(r,(function(t,n){var r,o=n.re.exec(e),l=o&&n.parse(o),u=n.space||"rgba";if(l)return r=i[u](l),i[s[u].cache]=r[s[u].cache],a=i._rgba=r._rgba,!1})),a.length?("0,0,0,0"===a.join()&&t.extend(a,n.transparent),i):n[e]}function p(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}u.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=u.style.backgroundColor.indexOf("rgba")>-1,c(s,(function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}})),o.fn=t.extend(o.prototype,{parse:function(e,i,r,a){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(i),i=void 0);var l=this,u=t.type(e),p=this._rgba=[];return void 0!==i&&(e=[e,i,r,a],u="array"),"string"===u?this.parse(f(e)||n._default):"array"===u?(c(s.rgba.props,(function(t,n){p[n.idx]=h(e[n.idx],n)})),this):"object"===u?(c(s,e instanceof o?function(t,n){e[n.cache]&&(l[n.cache]=e[n.cache].slice())}:function(n,i){var r=i.cache;c(i.props,(function(t,n){if(!l[r]&&i.to){if("alpha"===t||null==e[t])return;l[r]=i.to(l._rgba)}l[r][n.idx]=h(e[t],n,!0)})),l[r]&&t.inArray(null,l[r].slice(0,3))<0&&(l[r][3]=1,i.from&&(l._rgba=i.from(l[r])))}),this):void 0},is:function(t){var e=o(t),n=!0,i=this;return c(s,(function(t,r){var o,s=e[r.cache];return s&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],c(r.props,(function(t,e){if(null!=s[e.idx])return n=s[e.idx]===o[e.idx]}))),n})),n},_space:function(){var t=[],e=this;return c(s,(function(n,i){e[i.cache]&&t.push(n)})),t.pop()},transition:function(t,e){var n=o(t),i=n._space(),r=s[i],l=0===this.alpha()?o("transparent"):this,u=l[r.cache]||r.to(l._rgba),f=u.slice();return n=n[r.cache],c(r.props,(function(t,i){var r=i.idx,o=u[r],s=n[r],l=a[i.type]||{};null!==s&&(null===o?f[r]=s:(l.mod&&(s-o>l.mod/2?o+=l.mod:o-s>l.mod/2&&(o-=l.mod)),f[r]=h((s-o)*e+o,i)))})),this[i](f)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=o(e)._rgba;return o(t.map(n,(function(t,e){return(1-i)*r[e]+i*t})))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,(function(t,e){return null==t?e>2?1:0:t}));return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),(function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t}));return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,(function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t})).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,s.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,s=t[3],a=Math.max(i,r,o),l=Math.min(i,r,o),u=a-l,c=a+l,h=.5*c;return e=l===a?0:i===a?60*(r-o)/u+360:r===a?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:h<=.5?u/c:u/(2-c),[Math.round(e)%360,n,h,null==s?1:s]},s.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],o=i<=.5?i*(1+n):i+n-i*n,s=2*i-o;return[Math.round(255*p(s,o,e+1/3)),Math.round(255*p(s,o,e)),Math.round(255*p(s,o,e-1/3)),r]},c(s,(function(e,n){var r=n.props,s=n.cache,a=n.to,l=n.from;o.fn[e]=function(e){if(a&&!this[s]&&(this[s]=a(this._rgba)),void 0===e)return this[s].slice();var n,i=t.type(e),u="array"===i||"object"===i?e:arguments,f=this[s].slice();return c(r,(function(t,e){var n=u["object"===i?t:e.idx];null==n&&(n=f[e.idx]),f[e.idx]=h(n,e)})),l?((n=o(l(f)))[s]=f,n):o(f)},c(r,(function(n,r){o.fn[n]||(o.fn[n]=function(o){var s,a=t.type(o),l="alpha"===n?this._hsla?"hsla":"rgba":e,u=this[l](),c=u[r.idx];return"undefined"===a?c:("function"===a&&(o=o.call(this,c),a=t.type(o)),null==o&&r.empty?this:("string"===a&&(s=i.exec(o))&&(o=c+parseFloat(s[2])*("+"===s[1]?1:-1)),u[r.idx]=o,this[l](u)))})}))})),o.hook=function(e){var n=e.split(" ");c(n,(function(e,n){t.cssHooks[n]={set:function(e,i){var r,s,a="";if("transparent"!==i&&("string"!==t.type(i)||(r=f(i)))){if(i=o(r||i),!l.rgba&&1!==i._rgba[3]){for(s="backgroundColor"===n?e.parentNode:e;(""===a||"transparent"===a)&&s&&s.style;)try{a=t.css(s,"backgroundColor"),s=s.parentNode}catch(t){}i=i.blend(a&&"transparent"!==a?a:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(t){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=o(e.elem,n),e.end=o(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}}))},o.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return c(["Top","Right","Bottom","Left"],(function(n,i){e["border"+i+"Color"]=t})),e}},n=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(y),function(){var e=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function i(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)"string"==typeof r[n=r[i]]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],(function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(y.style(t.elem,n,t.end),t.setAttr=!0)}})),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,s,a){var l=t.speed(o,s,a);return this.queue((function(){var o,s=t(this),a=s.attr("class")||"",u=l.children?s.find("*").addBack():s;u=u.map((function(){return{el:t(this),start:i(this)}})),(o=function(){t.each(e,(function(t,e){r[e]&&s[e+"Class"](r[e])}))})(),u=u.map((function(){return this.end=i(this.el[0]),this.diff=function(e,i){var r,o,s={};for(r in i)o=i[r],e[r]!==o&&(n[r]||!t.fx.step[r]&&isNaN(parseFloat(o))||(s[r]=o));return s}(this.start,this.end),this})),s.attr("class",a),u=u.map((function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()})),t.when.apply(t,u.get()).done((function(){o(),t.each(arguments,(function(){var e=this.el;t.each(this.diff,(function(t){e.css(t,"")}))})),l.complete.call(s[0])}))}))},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,s){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,s):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||"string"==typeof e&&!t.effects.effect[e]||!!t.isFunction(e)||"object"==typeof e&&!e.effect}function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}t.expr&&t.expr.pseudos&&t.expr.pseudos.animated&&(t.expr.pseudos.animated=function(e){return function(n){return!!t(n).data(v)||e(n)}}(t.expr.pseudos.animated)),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;n<i;n++)null!==e[n]&&t.data("ui-effects-"+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;i<r;i++)null!==e[i]&&(n=t.data("ui-effects-"+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(t){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],(function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")})),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data("ui-effects-style",t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data("ui-effects-style")||"",t.removeData("ui-effects-style")},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data("ui-effects-placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e="ui-effects-placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,(function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])})),r}}),t.fn.extend({effect:function(){var n=e.apply(this,arguments),i=t.effects.effect[n.effect],r=i.mode,o=n.queue,s=o||"fx",a=n.complete,l=n.mode,u=[],c=function(e){var n=t(this),i=t.effects.mode(n,l)||r;n.data(v,!0),u.push(i),r&&("show"===i||i===r&&"hide"===i)&&n.show(),r&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};if(t.fx.off||!i)return l?this[l](n.duration,a):this.each((function(){a&&a.call(this)}));function h(e){var o=t(this);function s(){t.isFunction(a)&&a.call(o[0]),t.isFunction(e)&&e()}n.mode=u.shift(),!1===t.uiBackCompat||r?"none"===n.mode?(o[l](),s()):i.call(o[0],n,(function(){o.removeData(v),t.effects.cleanUp(o),"hide"===n.mode&&o.hide(),s()})):(o.is(":hidden")?"hide"===l:"show"===l)?(o[l](),s()):i.call(o[0],n,s)}return!1===o?this.each(c).each(h):this.queue(s,c).queue(s,h)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],(function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])})),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),s=t("body"),a=o?s.scrollTop():0,l=o?s.scrollLeft():0,u=r.offset(),c={top:u.top-a,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),f=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-a,left:h.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,(function(){f.remove(),t.isFunction(n)&&n()}))}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=i(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),m={},t.each(["Quad","Cubic","Quart","Quint","Expo"],(function(t,e){m[e]=function(e){return Math.pow(e,t+2)}})),t.extend(m,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(m,(function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}})),t.effects,t.effects.define("blind","hide",(function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",s=r.cssClip(),a={clip:t.extend({},s)},l=t.effects.createPlaceholder(r);a.clip[i[o][0]]=a.clip[i[o][1]],"show"===e.mode&&(r.cssClip(a.clip),l&&l.css(t.effects.clipToBox(a)),a.clip=s),l&&l.animate(t.effects.clipToBox(a),e.duration,e.easing),r.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:n})})),t.effects.define("bounce",(function(e,n){var i,r,o,s=t(this),a=e.mode,l="hide"===a,u="show"===a,c=e.direction||"up",h=e.distance,f=e.times||5,p=2*f+(u||l?1:0),d=e.duration/p,A=e.easing,g="up"===c||"down"===c?"top":"left",m="up"===c||"left"===c,v=0,y=s.queue().length;for(t.effects.createPlaceholder(s),o=s.css(g),h||(h=s["top"===g?"outerHeight":"outerWidth"]()/3),u&&((r={opacity:1})[g]=o,s.css("opacity",0).css(g,m?2*-h:2*h).animate(r,d,A)),l&&(h/=Math.pow(2,f-1)),(r={})[g]=o;v<f;v++)(i={})[g]=(m?"-=":"+=")+h,s.animate(i,d,A).animate(r,d,A),h=l?2*h:h/2;l&&((i={opacity:0})[g]=(m?"-=":"+=")+h,s.animate(i,d,A)),s.queue(n),t.effects.unshift(s,y,p+1)})),t.effects.define("clip","hide",(function(e,n){var i,r={},o=t(this),s=e.direction||"vertical",a="both"===s,l=a||"horizontal"===s,u=a||"vertical"===s;i=o.cssClip(),r.clip={top:u?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:u?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})})),t.effects.define("drop","hide",(function(e,n){var i,r=t(this),o="show"===e.mode,s=e.direction||"left",a="up"===s||"down"===s?"top":"left",l="up"===s||"left"===s?"-=":"+=",u="+="===l?"-=":"+=",c={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===a?"outerHeight":"outerWidth"](!0)/2,c[a]=l+i,o&&(r.css(c),c[a]=u+i,c.opacity=1),r.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:n})})),t.effects.define("explode","hide",(function(e,n){var i,r,o,s,a,l,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=u,h=t(this),f="show"===e.mode,p=h.show().css("visibility","hidden").offset(),d=Math.ceil(h.outerWidth()/c),A=Math.ceil(h.outerHeight()/u),g=[];function m(){g.push(this),g.length===u*c&&(h.css({visibility:"visible"}),t(g).remove(),n())}for(i=0;i<u;i++)for(s=p.top+i*A,l=i-(u-1)/2,r=0;r<c;r++)o=p.left+r*d,a=r-(c-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*d,top:-i*A}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:d,height:A,left:o+(f?a*d:0),top:s+(f?l*A:0),opacity:f?0:1}).animate({left:o+(f?0:a*d),top:s+(f?0:l*A),opacity:f?1:0},e.duration||500,e.easing,m)})),t.effects.define("fade","toggle",(function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})})),t.effects.define("fold","hide",(function(e,n){var i=t(this),r=e.mode,o="show"===r,s="hide"===r,a=e.size||15,l=/([0-9]+)%/.exec(a),u=e.horizFirst?["right","bottom"]:["bottom","right"],c=e.duration/2,h=t.effects.createPlaceholder(i),f=i.cssClip(),p={clip:t.extend({},f)},d={clip:t.extend({},f)},A=[f[u[0]],f[u[1]]],g=i.queue().length;l&&(a=parseInt(l[1],10)/100*A[s?0:1]),p.clip[u[0]]=a,d.clip[u[0]]=a,d.clip[u[1]]=0,o&&(i.cssClip(d.clip),h&&h.css(t.effects.clipToBox(d)),d.clip=f),i.queue((function(n){h&&h.animate(t.effects.clipToBox(p),c,e.easing).animate(t.effects.clipToBox(d),c,e.easing),n()})).animate(p,c,e.easing).animate(d,c,e.easing).queue(n),t.effects.unshift(i,g,4)})),t.effects.define("highlight","show",(function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})})),t.effects.define("size",(function(e,n){var i,r,o,s=t(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,h="effect"!==c,f=e.scale||"both",p=e.origin||["middle","center"],d=s.css("position"),A=s.position(),g=t.effects.scaledDimensions(s),m=e.from||g,v=e.to||t.effects.scaledDimensions(s,0);t.effects.createPlaceholder(s),"show"===c&&(o=m,m=v,v=o),r={from:{y:m.height/g.height,x:m.width/g.width},to:{y:v.height/g.height,x:v.width/g.width}},"box"!==f&&"both"!==f||(r.from.y!==r.to.y&&(m=t.effects.setTransition(s,l,r.from.y,m),v=t.effects.setTransition(s,l,r.to.y,v)),r.from.x!==r.to.x&&(m=t.effects.setTransition(s,u,r.from.x,m),v=t.effects.setTransition(s,u,r.to.x,v))),"content"!==f&&"both"!==f||r.from.y!==r.to.y&&(m=t.effects.setTransition(s,a,r.from.y,m),v=t.effects.setTransition(s,a,r.to.y,v)),p&&(i=t.effects.getBaseline(p,g),m.top=(g.outerHeight-m.outerHeight)*i.y+A.top,m.left=(g.outerWidth-m.outerWidth)*i.x+A.left,v.top=(g.outerHeight-v.outerHeight)*i.y+A.top,v.left=(g.outerWidth-v.outerWidth)*i.x+A.left),s.css(m),"content"!==f&&"both"!==f||(l=l.concat(["marginTop","marginBottom"]).concat(a),u=u.concat(["marginLeft","marginRight"]),s.find("*[width]").each((function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},s={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(n,l,r.from.y,o),s=t.effects.setTransition(n,l,r.to.y,s)),r.from.x!==r.to.x&&(o=t.effects.setTransition(n,u,r.from.x,o),s=t.effects.setTransition(n,u,r.to.x,s)),h&&t.effects.saveStyle(n),n.css(o),n.animate(s,e.duration,e.easing,(function(){h&&t.effects.restoreStyle(n)}))}))),s.animate(v,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=s.offset();0===v.opacity&&s.css("opacity",m.opacity),h||(s.css("position","static"===d?"relative":d).offset(e),t.effects.saveStyle(s)),n()}})})),t.effects.define("scale",(function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),s=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(s.from.opacity=1,s.to.opacity=0),t.effects.effect.size.call(this,s,n)})),t.effects.define("puff","hide",(function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)})),t.effects.define("pulsate","show",(function(e,n){var i=t(this),r=e.mode,o="show"===r,s=o||"hide"===r,a=2*(e.times||5)+(s?1:0),l=e.duration/a,u=0,c=1,h=i.queue().length;for(!o&&i.is(":visible")||(i.css("opacity",0).show(),u=1);c<a;c++)i.animate({opacity:u},l,e.easing),u=1-u;i.animate({opacity:u},l,e.easing),i.queue(n),t.effects.unshift(i,h,a+1)})),t.effects.define("shake",(function(e,n){var i=1,r=t(this),o=e.direction||"left",s=e.distance||20,a=e.times||3,l=2*a+1,u=Math.round(e.duration/l),c="up"===o||"down"===o?"top":"left",h="up"===o||"left"===o,f={},p={},d={},A=r.queue().length;for(t.effects.createPlaceholder(r),f[c]=(h?"-=":"+=")+s,p[c]=(h?"+=":"-=")+2*s,d[c]=(h?"-=":"+=")+2*s,r.animate(f,u,e.easing);i<a;i++)r.animate(p,u,e.easing).animate(d,u,e.easing);r.animate(p,u,e.easing).animate(f,u/2,e.easing).queue(n),t.effects.unshift(r,A,l+1)})),t.effects.define("slide","show",(function(e,n){var i,r,o=t(this),s={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h=e.distance||o["top"===u?"outerHeight":"outerWidth"](!0),f={};t.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[u],f[u]=(c?-1:1)*h+r,f.clip=o.cssClip(),f.clip[s[l][1]]=f.clip[s[l][0]],"show"===a&&(o.cssClip(f.clip),o.css(u,f[u]),f.clip=i,f[u]=r),o.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:n})})),!1!==t.uiBackCompat&&t.effects.define("transfer",(function(e,n){t(this).transfer(e,n)}))})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r;
/*!
 * Bootstrap-select v1.13.9 (https://developer.snapappointments.com/bootstrap-select)
 *
 * Copyright 2012-2019 SnapAppointments, LLC
 * Licensed under MIT (https://github.com/snapappointments/bootstrap-select/blob/master/LICENSE)
 */void 0===this&&void 0!==window&&window,i=[n(55)],void 0===(r=function(t){!function(t){"use strict";var e=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],i={"*":["class","dir","id","lang","role","tabindex","style",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},r=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,o=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function s(e,i){var s=e.nodeName.toLowerCase();if(-1!==t.inArray(s,i))return-1===t.inArray(s,n)||Boolean(e.nodeValue.match(r)||e.nodeValue.match(o));for(var a=t(i).filter((function(t,e){return e instanceof RegExp})),l=0,u=a.length;l<u;l++)if(s.match(a[l]))return!0;return!1}function a(t,e,n){if(n&&"function"==typeof n)return n(t);for(var i=Object.keys(e),r=0,o=t.length;r<o;r++)for(var a=t[r].querySelectorAll("*"),l=0,u=a.length;l<u;l++){var c=a[l],h=c.nodeName.toLowerCase();if(-1!==i.indexOf(h))for(var f=[].slice.call(c.attributes),p=[].concat(e["*"]||[],e[h]||[]),d=0,A=f.length;d<A;d++){var g=f[d];s(g,p)||c.removeAttribute(g.nodeName)}else c.parentNode.removeChild(c)}}"classList"in document.createElement("_")||function(e){if("Element"in e){var n=e.Element.prototype,i=Object,r=function(){var e=t(this);return{add:function(t){return t=Array.prototype.slice.call(arguments).join(" "),e.addClass(t)},remove:function(t){return t=Array.prototype.slice.call(arguments).join(" "),e.removeClass(t)},toggle:function(t,n){return e.toggleClass(t,n)},contains:function(t){return e.hasClass(t)}}};if(i.defineProperty){var o={get:r,enumerable:!0,configurable:!0};try{i.defineProperty(n,"classList",o)}catch(t){void 0!==t.number&&-2146823252!==t.number||(o.enumerable=!1,i.defineProperty(n,"classList",o))}}else i.prototype.__defineGetter__&&n.__defineGetter__("classList",r)}}(window);var l,u,c,h=document.createElement("_");if(h.classList.add("c1","c2"),!h.classList.contains("c2")){var f=DOMTokenList.prototype.add,p=DOMTokenList.prototype.remove;DOMTokenList.prototype.add=function(){Array.prototype.forEach.call(arguments,f.bind(this))},DOMTokenList.prototype.remove=function(){Array.prototype.forEach.call(arguments,p.bind(this))}}if(h.classList.toggle("c3",!1),h.classList.contains("c3")){var d=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:d.call(this,t)}}function A(t){var e,n=[],i=t.selectedOptions;if(t.multiple)for(var r=0,o=i.length;r<o;r++)e=i[r],n.push(e.value||e.text);else n=t.value;return n}h=null,String.prototype.startsWith||(l=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),u={}.toString,c=function(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==u.call(t))throw new TypeError;var n=e.length,i=String(t),r=i.length,o=arguments.length>1?arguments[1]:void 0,s=o?Number(o):0;s!=s&&(s=0);var a=Math.min(Math.max(s,0),n);if(r+a>n)return!1;for(var l=-1;++l<r;)if(e.charCodeAt(a+l)!=i.charCodeAt(l))return!1;return!0},l?l(String.prototype,"startsWith",{value:c,configurable:!0,writable:!0}):String.prototype.startsWith=c),Object.keys||(Object.keys=function(t,e,n){for(e in n=[],t)n.hasOwnProperty.call(t,e)&&n.push(e);return n}),HTMLSelectElement&&!HTMLSelectElement.prototype.hasOwnProperty("selectedOptions")&&Object.defineProperty(HTMLSelectElement.prototype,"selectedOptions",{get:function(){return this.querySelectorAll(":checked")}});var g={useDefault:!1,_set:t.valHooks.select.set};t.valHooks.select.set=function(e,n){return n&&!g.useDefault&&t(e).data("selected",!0),g._set.apply(this,arguments)};var m=null,v=function(){try{return new Event("change"),!0}catch(t){return!1}}();function y(t,e,n,i){for(var r=["display","subtext","tokens"],o=!1,s=0;s<r.length;s++){var a=r[s],l=t[a];if(l&&(l=l.toString(),"display"===a&&(l=l.replace(/<[^>]+>/g,"")),i&&(l=C(l)),l=l.toUpperCase(),o="contains"===n?l.indexOf(e)>=0:l.startsWith(e)))break}return o}function _(t){return parseInt(t,10)||0}t.fn.triggerNative=function(t){var e,n=this[0];n.dispatchEvent?(v?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),n.dispatchEvent(e)):n.fireEvent?((e=document.createEventObject()).eventType=t,n.fireEvent("on"+t,e)):this.trigger(t)};var b={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},w=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,E=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]","g");function x(t){return b[t]}function C(t){return(t=t.toString())&&t.replace(w,x).replace(E,"")}var B=function(t){var e=function(e){return t[e]},n="(?:"+Object.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),I={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},S=27,O=13,M=32,T=9,N=38,k=40,L={success:!1,major:"3"};try{L.full=(t.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),L.major=L.full[0],L.success=!0}catch(t){}var F=0,R=".bs.select",D={DISABLED:"disabled",DIVIDER:"divider",SHOW:"open",DROPUP:"dropup",MENU:"dropdown-menu",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"btn-default",POPOVERHEADER:"popover-title",ICONBASE:"glyphicon",TICKICON:"glyphicon-ok"},P={MENU:"."+D.MENU},U={span:document.createElement("span"),i:document.createElement("i"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" "),fragment:document.createDocumentFragment()};U.a.setAttribute("role","option"),U.subtext.className="text-muted",U.text=U.span.cloneNode(!1),U.text.className="text",U.checkMark=U.span.cloneNode(!1);var Q=new RegExp(N+"|"+k),H=new RegExp("^"+T+"$|"+S),j={li:function(t,e,n){var i=U.li.cloneNode(!1);return t&&(1===t.nodeType||11===t.nodeType?i.appendChild(t):i.innerHTML=t),void 0!==e&&""!==e&&(i.className=e),null!=n&&i.classList.add("optgroup-"+n),i},a:function(t,e,n){var i=U.a.cloneNode(!0);return t&&(11===t.nodeType?i.appendChild(t):i.insertAdjacentHTML("beforeend",t)),void 0!==e&&""!==e&&(i.className=e),"4"===L.major&&i.classList.add("dropdown-item"),n&&i.setAttribute("style",n),i},text:function(t,e){var n,i,r=U.text.cloneNode(!1);if(t.content)r.innerHTML=t.content;else{if(r.textContent=t.text,t.icon){var o=U.whitespace.cloneNode(!1);(i=(!0===e?U.i:U.span).cloneNode(!1)).className=t.iconBase+" "+t.icon,U.fragment.appendChild(i),U.fragment.appendChild(o)}t.subtext&&((n=U.subtext.cloneNode(!1)).textContent=t.subtext,r.appendChild(n))}if(!0===e)for(;r.childNodes.length>0;)U.fragment.appendChild(r.childNodes[0]);else U.fragment.appendChild(r);return U.fragment},label:function(t){var e,n,i=U.text.cloneNode(!1);if(i.innerHTML=t.label,t.icon){var r=U.whitespace.cloneNode(!1);(n=U.span.cloneNode(!1)).className=t.iconBase+" "+t.icon,U.fragment.appendChild(n),U.fragment.appendChild(r)}return t.subtext&&((e=U.subtext.cloneNode(!1)).textContent=t.subtext,i.appendChild(e)),U.fragment.appendChild(i),U.fragment}},z=function(e,n){var i=this;g.useDefault||(t.valHooks.select.set=g._set,g.useDefault=!0),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=n,this.selectpicker={main:{},current:{},search:{},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout((function(){i.selectpicker.keydown.keyHistory=""}),800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var r=this.options.windowPadding;"number"==typeof r&&(this.options.windowPadding=[r,r,r,r]),this.val=z.prototype.val,this.render=z.prototype.render,this.refresh=z.prototype.refresh,this.setStyle=z.prototype.setStyle,this.selectAll=z.prototype.selectAll,this.deselectAll=z.prototype.deselectAll,this.destroy=z.prototype.destroy,this.remove=z.prototype.remove,this.show=z.prototype.show,this.hide=z.prototype.hide,this.init()};function K(n){var i,r=arguments,o=n;if([].shift.apply(r),!L.success){try{L.full=(t.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split(".")}catch(t){z.BootstrapVersion?L.full=z.BootstrapVersion.split(" ")[0].split("."):(L.full=[L.major,"0","0"],console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.",t))}L.major=L.full[0],L.success=!0}if("4"===L.major){var s=[];z.DEFAULTS.style===D.BUTTONCLASS&&s.push({name:"style",className:"BUTTONCLASS"}),z.DEFAULTS.iconBase===D.ICONBASE&&s.push({name:"iconBase",className:"ICONBASE"}),z.DEFAULTS.tickIcon===D.TICKICON&&s.push({name:"tickIcon",className:"TICKICON"}),D.DIVIDER="dropdown-divider",D.SHOW="show",D.BUTTONCLASS="btn-light",D.POPOVERHEADER="popover-header",D.ICONBASE="",D.TICKICON="bs-ok-default";for(var a=0;a<s.length;a++)n=s[a],z.DEFAULTS[n.name]=D[n.className]}var l=this.each((function(){var n=t(this);if(n.is("select")){var s=n.data("selectpicker"),a="object"==typeof o&&o;if(s){if(a)for(var l in a)a.hasOwnProperty(l)&&(s.options[l]=a[l])}else{var u=n.data();for(var c in u)u.hasOwnProperty(c)&&-1!==t.inArray(c,e)&&delete u[c];var h=t.extend({},z.DEFAULTS,t.fn.selectpicker.defaults||{},u,a);h.template=t.extend({},z.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},u.template,a.template),n.data("selectpicker",s=new z(this,h))}"string"==typeof o&&(i=s[o]instanceof Function?s[o].apply(s,r):s.options[o])}}));return void 0!==i?i:l}z.VERSION="1.13.9",z.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:D.BUTTONCLASS,size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:D.ICONBASE,tickIcon:D.TICKICON,showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600,display:!1,sanitize:!0,sanitizeFn:null,whiteList:i},z.prototype={constructor:z,init:function(){var t=this,e=this.$element.attr("id");this.selectId=F++,this.$element[0].classList.add("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.options.showTick=this.$element[0].classList.contains("show-tick"),this.$newElement=this.createDropdown(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(P.MENU),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element[0].classList.remove("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu[0].classList.add(D.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.setStyle(),this.render(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide.bs.select",(function(){if(t.isVirtual()){var e=t.$menuInner[0],n=e.firstChild.cloneNode(!1);e.replaceChild(n,e.firstChild),e.scrollTop=0}})),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!1),t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!0),t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid.bs.select",(function(){t.$button[0].classList.add("bs-invalid"),t.$element.on("shown.bs.select.invalid",(function(){t.$element.val(t.$element.val()).off("shown.bs.select.invalid")})).on("rendered.bs.select",(function(){this.validity.valid&&t.$button[0].classList.remove("bs-invalid"),t.$element.off("rendered.bs.select")})),t.$button.on("blur.bs.select",(function(){t.$element.trigger("focus").trigger("blur"),t.$button.off("blur.bs.select")}))})),setTimeout((function(){t.createLi(),t.$element.trigger("loaded.bs.select")}))},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",n="",i=this.autofocus?" autofocus":"";L.major<4&&this.$element.parent().hasClass("input-group")&&(n=" input-group-btn");var r,o="",s="",a="",l="";return this.options.header&&(o='<div class="'+D.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>"),this.options.liveSearch&&(s='<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+B(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>'),this.multiple&&this.options.actionsBox&&(a='<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+D.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+D.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>"),this.multiple&&this.options.doneButton&&(l='<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+D.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>"),r='<div class="dropdown bootstrap-select'+e+n+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" '+("static"===this.options.display?'data-display="static"':"")+'data-toggle="dropdown"'+i+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===L.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="'+D.MENU+" "+("4"===L.major?"":D.SHOW)+'" role="combobox">'+o+s+a+'<div class="inner '+D.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="'+D.MENU+" inner "+("4"===L.major?D.SHOW:"")+'"></ul></div>'+l+"</div></div>",t(r)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var t=0;t<this.selectpicker.current.data.length;t++){var e=this.selectpicker.current.data[t],n=!0;"divider"===e.type?(n=!1,e.height=this.sizeInfo.dividerHeight):"optgroup-label"===e.type?(n=!1,e.height=this.sizeInfo.dropdownHeaderHeight):e.height=this.sizeInfo.liHeight,e.disabled&&(n=!1),this.selectpicker.view.canHighlight.push(n),e.position=(0===t?0:this.selectpicker.current.data[t-1].position)+e.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(e,n){n=n||0;var i=this;this.selectpicker.current=e?this.selectpicker.search:this.selectpicker.main;var r,o,s=[];function l(t,n){var l,u,c,h,f,p,d,A,g,m,v=i.selectpicker.current.elements.length,y=[],_=!0,b=i.isVirtual();i.selectpicker.view.scrollTop=t,!0===b&&i.sizeInfo.hasScrollBar&&i.$menu[0].offsetWidth>i.sizeInfo.totalMenuWidth&&(i.sizeInfo.menuWidth=i.$menu[0].offsetWidth,i.sizeInfo.totalMenuWidth=i.sizeInfo.menuWidth+i.sizeInfo.scrollBarWidth,i.$menu.css("min-width",i.sizeInfo.menuWidth)),l=Math.ceil(i.sizeInfo.menuInnerHeight/i.sizeInfo.liHeight*1.5),u=Math.round(v/l)||1;for(var w=0;w<u;w++){var E=(w+1)*l;if(w===u-1&&(E=v),y[w]=[w*l+(w?1:0),E],!v)break;void 0===f&&t<=i.selectpicker.current.data[E-1].position-i.sizeInfo.menuInnerHeight&&(f=w)}if(void 0===f&&(f=0),p=[i.selectpicker.view.position0,i.selectpicker.view.position1],c=Math.max(0,f-1),h=Math.min(u-1,f+1),i.selectpicker.view.position0=!1===b?0:Math.max(0,y[c][0])||0,i.selectpicker.view.position1=!1===b?v:Math.min(v,y[h][1])||0,d=p[0]!==i.selectpicker.view.position0||p[1]!==i.selectpicker.view.position1,void 0!==i.activeIndex&&(o=i.selectpicker.main.elements[i.prevActiveIndex],s=i.selectpicker.main.elements[i.activeIndex],r=i.selectpicker.main.elements[i.selectedIndex],n&&(i.activeIndex!==i.selectedIndex&&s&&s.length&&(s.classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active")),i.activeIndex=void 0),i.activeIndex&&i.activeIndex!==i.selectedIndex&&r&&r.length&&(r.classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active"))),void 0!==i.prevActiveIndex&&i.prevActiveIndex!==i.activeIndex&&i.prevActiveIndex!==i.selectedIndex&&o&&o.length&&(o.classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active")),(n||d)&&(A=i.selectpicker.view.visibleElements?i.selectpicker.view.visibleElements.slice():[],i.selectpicker.view.visibleElements=!1===b?i.selectpicker.current.elements:i.selectpicker.current.elements.slice(i.selectpicker.view.position0,i.selectpicker.view.position1),i.setOptionStatus(),(e||!1===b&&n)&&(g=A,m=i.selectpicker.view.visibleElements,_=!(g.length===m.length&&g.every((function(t,e){return t===m[e]})))),(n||!0===b)&&_)){var x,C,B=i.$menuInner[0],I=document.createDocumentFragment(),S=B.firstChild.cloneNode(!1),O=i.selectpicker.view.visibleElements,M=[];B.replaceChild(S,B.firstChild),w=0;for(var T=O.length;w<T;w++){var N,k,L=O[w];i.options.sanitize&&(N=L.lastChild)&&(k=i.selectpicker.current.data[w+i.selectpicker.view.position0])&&k.content&&!k.sanitized&&(M.push(N),k.sanitized=!0),I.appendChild(L)}i.options.sanitize&&M.length&&a(M,i.options.whiteList,i.options.sanitizeFn),!0===b&&(x=0===i.selectpicker.view.position0?0:i.selectpicker.current.data[i.selectpicker.view.position0-1].position,C=i.selectpicker.view.position1>v-1?0:i.selectpicker.current.data[v-1].position-i.selectpicker.current.data[i.selectpicker.view.position1-1].position,B.firstChild.style.marginTop=x+"px",B.firstChild.style.marginBottom=C+"px"),B.firstChild.appendChild(I)}if(i.prevActiveIndex=i.activeIndex,i.options.liveSearch){if(e&&n){var F,R=0;i.selectpicker.view.canHighlight[R]||(R=1+i.selectpicker.view.canHighlight.slice(1).indexOf(!0)),F=i.selectpicker.view.visibleElements[R],i.selectpicker.view.currentActive&&(i.selectpicker.view.currentActive.classList.remove("active"),i.selectpicker.view.currentActive.firstChild&&i.selectpicker.view.currentActive.firstChild.classList.remove("active")),F&&(F.classList.add("active"),F.firstChild&&F.firstChild.classList.add("active")),i.activeIndex=(i.selectpicker.current.data[R]||{}).index}}else i.$menuInner.trigger("focus")}this.setPositionData(),l(n,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",(function(t,e){i.noScroll||l(this.scrollTop,e),i.noScroll=!1})),t(window).off("resize.bs.select."+this.selectId+".createView").on("resize.bs.select."+this.selectId+".createView",(function(){i.$newElement.hasClass(D.SHOW)&&l(i.$menuInner[0].scrollTop)}))},setPlaceholder:function(){var e=!1;if(this.options.title&&!this.multiple){this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option")),e=!0;var n=this.$element[0],i=!1,r=!this.selectpicker.view.titleOption.parentNode;r&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",i=void 0===t(n.options[n.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")),(r||0!==this.selectpicker.view.titleOption.index)&&n.insertBefore(this.selectpicker.view.titleOption,n.firstChild),i&&(n.selectedIndex=0)}return e},createLi:function(){var t=this,e=this.options.iconBase,n=':not([hidden]):not([data-hidden="true"])',i=[],r=[],o=0,s=0,a=this.setPlaceholder()?1:0;this.options.hideDisabled&&(n+=":not(:disabled)"),!t.options.showTick&&!t.multiple||U.checkMark.parentNode||(U.checkMark.className=e+" "+t.options.tickIcon+" check-mark",U.a.appendChild(U.checkMark));var l=this.$element[0].querySelectorAll("select > *"+n);function u(t){var e=r[r.length-1];e&&"divider"===e.type&&(e.optID||t.optID)||((t=t||{}).type="divider",i.push(j.li(!1,D.DIVIDER,t.optID?t.optID+"div":void 0)),r.push(t))}function c(n,s){if((s=s||{}).divider="true"===n.getAttribute("data-divider"),s.divider)u({optID:s.optID});else{var a=r.length,l=n.style.cssText,c=l?B(l):"",h=(n.className||"")+(s.optgroupClass||"");s.optID&&(h="opt "+h),s.text=n.textContent,s.content=n.getAttribute("data-content"),s.tokens=n.getAttribute("data-tokens"),s.subtext=n.getAttribute("data-subtext"),s.icon=n.getAttribute("data-icon"),s.iconBase=e;var f=j.text(s);i.push(j.li(j.a(f,h,c),"",s.optID)),n.liIndex=a,s.display=s.content||s.text,s.type="option",s.index=a,s.option=n,s.disabled=s.disabled||n.disabled,r.push(s);var p=0;s.display&&(p+=s.display.length),s.subtext&&(p+=s.subtext.length),s.icon&&(p+=1),p>o&&(o=p,t.selectpicker.view.widestOption=i[i.length-1])}}function h(t,o){var a=o[t],l=o[t-1],h=o[t+1],f=a.querySelectorAll("option"+n);if(f.length){var p,d,A={label:B(a.label),subtext:a.getAttribute("data-subtext"),icon:a.getAttribute("data-icon"),iconBase:e},g=" "+(a.className||"");s++,l&&u({optID:s});var m=j.label(A);i.push(j.li(m,"dropdown-header"+g,s)),r.push({display:A.label,subtext:A.subtext,type:"optgroup-label",optID:s});for(var v=0,y=f.length;v<y;v++){var _=f[v];0===v&&(d=(p=r.length-1)+y),c(_,{headerIndex:p,lastIndex:d,optID:s,optgroupClass:g,disabled:a.disabled})}h&&u({optID:s})}}for(var f=l.length;a<f;a++){var p=l[a];"OPTGROUP"!==p.tagName?c(p,{}):h(a,l)}this.selectpicker.main.elements=i,this.selectpicker.main.data=r,this.selectpicker.current=this.selectpicker.main},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){this.setPlaceholder();var t,e,n=this.$element[0].selectedOptions,i=n.length,r=this.$button[0],o=r.querySelector(".filter-option-inner-inner"),s=document.createTextNode(this.options.multipleSeparator),l=U.fragment.cloneNode(!1),u=!1;if(this.togglePlaceholder(),this.tabIndex(),"static"===this.options.selectedTextFormat)l=j.text({text:this.options.title},!0);else if((t=this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")&&i>1)&&(t=(e=this.options.selectedTextFormat.split(">")).length>1&&i>e[1]||1===e.length&&i>=2),!1===t){for(var c=0;c<i&&c<50;c++){var h=n[c],f={},p={content:h.getAttribute("data-content"),subtext:h.getAttribute("data-subtext"),icon:h.getAttribute("data-icon")};this.multiple&&c>0&&l.appendChild(s.cloneNode(!1)),h.title?f.text=h.title:p.content&&this.options.showContent?(f.content=p.content.toString(),u=!0):(this.options.showIcon&&(f.icon=p.icon,f.iconBase=this.options.iconBase),this.options.showSubtext&&!this.multiple&&p.subtext&&(f.subtext=" "+p.subtext),f.text=h.textContent.trim()),l.appendChild(j.text(f,!0))}i>49&&l.appendChild(document.createTextNode("..."))}else{var d=':not([hidden]):not([data-hidden="true"]):not([data-divider="true"])';this.options.hideDisabled&&(d+=":not(:disabled)");var A=this.$element[0].querySelectorAll("select > option"+d+", optgroup"+d+" option"+d).length,g="function"==typeof this.options.countSelectedText?this.options.countSelectedText(i,A):this.options.countSelectedText;l=j.text({text:g.replace("{0}",i.toString()).replace("{1}",A.toString())},!0)}if(null==this.options.title&&(this.options.title=this.$element.attr("title")),l.childNodes.length||(l=j.text({text:void 0!==this.options.title?this.options.title:this.options.noneSelectedText},!0)),r.title=l.textContent.replace(/<[^>]*>?/g,"").trim(),this.options.sanitize&&u&&a([l],this.options.whiteList,this.options.sanitizeFn),o.innerHTML="",o.appendChild(l),L.major<4&&this.$newElement[0].classList.contains("bs3-has-addon")){var m=r.querySelector(".filter-expand"),v=o.cloneNode(!0);v.className="filter-expand",m?r.replaceChild(v,m):r.appendChild(v)}this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){var n,i=this.$button[0],r=this.$newElement[0],o=this.options.style.trim();this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,"")),L.major<4&&(r.classList.add("bs3"),r.parentNode.classList.contains("input-group")&&(r.previousElementSibling||r.nextElementSibling)&&(r.previousElementSibling||r.nextElementSibling).classList.contains("input-group-addon")&&r.classList.add("bs3-has-addon")),n=t?t.trim():o,"add"==e?n&&i.classList.add.apply(i.classList,n.split(" ")):"remove"==e?n&&i.classList.remove.apply(i.classList,n.split(" ")):(o&&i.classList.remove.apply(i.classList,o.split(" ")),n&&i.classList.add.apply(i.classList,n.split(" ")))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),o=document.createElement("ul"),s=document.createElement("li"),a=document.createElement("li"),l=document.createElement("li"),u=document.createElement("a"),c=document.createElement("span"),h=this.options.header&&this.$menu.find("."+D.POPOVERHEADER).length>0?this.$menu.find("."+D.POPOVERHEADER)[0].cloneNode(!0):null,f=this.options.liveSearch?document.createElement("div"):null,p=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,d=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null,A=this.$element.find("option")[0];if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,c.className="text",u.className="dropdown-item "+(A?A.className:""),n.className=this.$menu[0].parentNode.className+" "+D.SHOW,n.style.width=this.sizeInfo.selectWidth+"px","auto"===this.options.width&&(i.style.minWidth=0),i.className=D.MENU+" "+D.SHOW,r.className="inner "+D.SHOW,o.className=D.MENU+" inner "+("4"===L.major?D.SHOW:""),s.className=D.DIVIDER,a.className="dropdown-header",c.appendChild(document.createTextNode("​")),u.appendChild(c),l.appendChild(u),a.appendChild(c.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(l),o.appendChild(s),o.appendChild(a),h&&i.appendChild(h),f){var g=document.createElement("input");f.className="bs-searchbox",g.className="form-control",f.appendChild(g),i.appendChild(f)}p&&i.appendChild(p),r.appendChild(o),i.appendChild(r),d&&i.appendChild(d),n.appendChild(i),document.body.appendChild(n);var m,v=l.offsetHeight,y=a?a.offsetHeight:0,b=h?h.offsetHeight:0,w=f?f.offsetHeight:0,E=p?p.offsetHeight:0,x=d?d.offsetHeight:0,C=t(s).outerHeight(!0),B=!!window.getComputedStyle&&window.getComputedStyle(i),I=i.offsetWidth,S=B?null:t(i),O={vert:_(B?B.paddingTop:S.css("paddingTop"))+_(B?B.paddingBottom:S.css("paddingBottom"))+_(B?B.borderTopWidth:S.css("borderTopWidth"))+_(B?B.borderBottomWidth:S.css("borderBottomWidth")),horiz:_(B?B.paddingLeft:S.css("paddingLeft"))+_(B?B.paddingRight:S.css("paddingRight"))+_(B?B.borderLeftWidth:S.css("borderLeftWidth"))+_(B?B.borderRightWidth:S.css("borderRightWidth"))},M={vert:O.vert+_(B?B.marginTop:S.css("marginTop"))+_(B?B.marginBottom:S.css("marginBottom"))+2,horiz:O.horiz+_(B?B.marginLeft:S.css("marginLeft"))+_(B?B.marginRight:S.css("marginRight"))+2};r.style.overflowY="scroll",m=i.offsetWidth-I,document.body.removeChild(n),this.sizeInfo.liHeight=v,this.sizeInfo.dropdownHeaderHeight=y,this.sizeInfo.headerHeight=b,this.sizeInfo.searchHeight=w,this.sizeInfo.actionsHeight=E,this.sizeInfo.doneButtonHeight=x,this.sizeInfo.dividerHeight=C,this.sizeInfo.menuPadding=O,this.sizeInfo.menuExtras=M,this.sizeInfo.menuWidth=I,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=m,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,n=t(window),i=this.$newElement.offset(),r=t(this.options.container);this.options.container&&r.length&&!r.is("body")?((e=r.offset()).top+=parseInt(r.css("borderTopWidth")),e.left+=parseInt(r.css("borderLeftWidth"))):e={top:0,left:0};var o=this.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-n.scrollTop(),this.sizeInfo.selectOffsetBot=n.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-o[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-n.scrollLeft(),this.sizeInfo.selectOffsetRight=n.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-o[1],this.sizeInfo.selectOffsetTop-=o[0],this.sizeInfo.selectOffsetLeft-=o[3]},setMenuSize:function(t){this.getSelectPosition();var e,n,i,r,o,s,a,l=this.sizeInfo.selectWidth,u=this.sizeInfo.liHeight,c=this.sizeInfo.headerHeight,h=this.sizeInfo.searchHeight,f=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,d=this.sizeInfo.dividerHeight,A=this.sizeInfo.menuPadding,g=0;if(this.options.dropupAuto&&(a=u*this.selectpicker.current.elements.length+A.vert,this.$newElement.toggleClass(D.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&a+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)r=this.selectpicker.current.elements.length>3?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,n=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,i=r+c+h+f+p,s=Math.max(r-A.vert,0),this.$newElement.hasClass(D.DROPUP)&&(n=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),o=n,e=n-c-h-f-p-A.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var m=0;m<this.options.size;m++)"divider"===this.selectpicker.current.data[m].type&&g++;e=(n=u*this.options.size+g*d+A.vert)-A.vert,o=n+c+h+f+p,i=s=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(D.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.sizeInfo.totalMenuWidth-l),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":i+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":s+"px"}),this.sizeInfo.menuInnerHeight=Math.max(e,1),this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){if(this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var n,i=this,r=t(window),o=0;if(this.setMenuSize(),this.options.liveSearch&&this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",(function(){return i.setMenuSize()})),"auto"===this.options.size?r.off("resize.bs.select."+this.selectId+".setMenuSize scroll"+R+"."+this.selectId+".setMenuSize").on("resize.bs.select."+this.selectId+".setMenuSize scroll"+R+"."+this.selectId+".setMenuSize",(function(){return i.setMenuSize()})):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&r.off("resize.bs.select."+this.selectId+".setMenuSize scroll"+R+"."+this.selectId+".setMenuSize"),e)o=this.$menuInner[0].scrollTop;else if(!i.multiple){var s=i.$element[0];"number"==typeof(n=(s.options[s.selectedIndex]||{}).liIndex)&&!1!==i.options.size&&(o=(o=i.sizeInfo.liHeight*n)-i.sizeInfo.menuInnerHeight/2+i.sizeInfo.liHeight/2)}i.createView(!1,o)}},setWidth:function(){var t=this;"auto"===this.options.width?requestAnimationFrame((function(){t.$menu.css("min-width","0"),t.$element.on("loaded.bs.select",(function(){t.liHeight(),t.setMenuSize();var e=t.$newElement.clone().appendTo("body"),n=e.css("width","auto").children("button").outerWidth();e.remove(),t.sizeInfo.selectWidth=Math.max(t.sizeInfo.totalMenuWidth,n),t.$newElement.css("width",t.sizeInfo.selectWidth+"px")}))})):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement[0].classList.remove("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,n,i,r=this,o=t(this.options.container),s=function(s){var a={},l=r.options.display||!!t.fn.dropdown.Constructor.Default&&t.fn.dropdown.Constructor.Default.display;r.$bsContainer.addClass(s.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(D.DROPUP,s.hasClass(D.DROPUP)),e=s.offset(),o.is("body")?n={top:0,left:0}:((n=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),n.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),i=s.hasClass(D.DROPUP)?0:s[0].offsetHeight,(L.major<4||"static"===l)&&(a.top=e.top-n.top+i,a.left=e.left-n.left),a.width=s[0].offsetWidth,r.$bsContainer.css(a)};this.$button.on("click.bs.dropdown.data-api",(function(){r.isDisabled()||(s(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass(D.SHOW,!r.$button.hasClass(D.SHOW)).append(r.$menu))})),t(window).off("resize.bs.select."+this.selectId+" scroll"+R+"."+this.selectId).on("resize.bs.select."+this.selectId+" scroll"+R+"."+this.selectId,(function(){r.$newElement.hasClass(D.SHOW)&&s(r.$newElement)})),this.$element.on("hide.bs.select",(function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()}))},setOptionStatus:function(){if(this.noScroll=!1,this.selectpicker.view.visibleElements&&this.selectpicker.view.visibleElements.length)for(var t=0;t<this.selectpicker.view.visibleElements.length;t++){var e=this.selectpicker.current.data[t+this.selectpicker.view.position0],n=e.option;n&&(this.setDisabled(e.index,e.disabled),this.setSelected(e.index,n.selected))}},setSelected:function(t,e){var n,i,r=this.selectpicker.main.elements[t],o=this.selectpicker.main.data[t],s=void 0!==this.activeIndex,a=this.activeIndex===t||e&&!this.multiple&&!s;o.selected=e,i=r.firstChild,e&&(this.selectedIndex=t),r.classList.toggle("selected",e),r.classList.toggle("active",a),a&&(this.selectpicker.view.currentActive=r,this.activeIndex=t),i&&(i.classList.toggle("selected",e),i.classList.toggle("active",a),i.setAttribute("aria-selected",e)),a||!s&&e&&void 0!==this.prevActiveIndex&&((n=this.selectpicker.main.elements[this.prevActiveIndex]).classList.remove("active"),n.firstChild&&n.firstChild.classList.remove("active"))},setDisabled:function(t,e){var n,i=this.selectpicker.main.elements[t];this.selectpicker.main.data[t].disabled=e,n=i.firstChild,i.classList.toggle(D.DISABLED,e),n&&("4"===L.major&&n.classList.toggle(D.DISABLED,e),n.setAttribute("aria-disabled",e),e?n.setAttribute("tabindex",-1):n.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement[0].classList.add(D.DISABLED),this.$button.addClass(D.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button[0].classList.contains(D.DISABLED)&&(this.$newElement[0].classList.remove(D.DISABLED),this.$button.removeClass(D.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.on("click",(function(){return!t.isDisabled()}))},togglePlaceholder:function(){var t=this.$element[0],e=t.selectedIndex,n=-1===e;n||t.options[e].value||(n=!0),this.$button.toggleClass("bs-placeholder",n)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var e=this,n=t(document);function i(){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$menuInner.trigger("focus")}function r(){e.dropdown&&e.dropdown._popper&&e.dropdown._popper.state.isCreated?i():requestAnimationFrame(r)}n.data("spaceSelect",!1),this.$button.on("keyup",(function(t){/(32)/.test(t.keyCode.toString(10))&&n.data("spaceSelect")&&(t.preventDefault(),n.data("spaceSelect",!1))})),this.$newElement.on("show.bs.dropdown",(function(){L.major>3&&!e.dropdown&&(e.dropdown=e.$button.data("bs.dropdown"),e.dropdown._menu=e.$menu[0])})),this.$button.on("click.bs.dropdown.data-api",(function(){e.$newElement.hasClass(D.SHOW)||e.setSize()})),this.$element.on("shown.bs.select",(function(){e.$menuInner[0].scrollTop!==e.selectpicker.view.scrollTop&&(e.$menuInner[0].scrollTop=e.selectpicker.view.scrollTop),L.major>3?requestAnimationFrame(r):i()})),this.$menuInner.on("click","li a",(function(n,i){var r=t(this),o=e.isVirtual()?e.selectpicker.view.position0:0,s=e.selectpicker.current.data[r.parent().index()+o],a=s.index,l=A(e.$element[0]),u=e.$element.prop("selectedIndex"),c=!0;if(e.multiple&&1!==e.options.maxOptions&&n.stopPropagation(),n.preventDefault(),!e.isDisabled()&&!r.parent().hasClass(D.DISABLED)){var h=e.$element.find("option"),f=s.option,p=t(f),d=f.selected,g=p.parent("optgroup"),v=g.find("option"),y=e.options.maxOptions,_=g.data("maxOptions")||!1;if(a===e.activeIndex&&(i=!0),i||(e.prevActiveIndex=e.activeIndex,e.activeIndex=void 0),e.multiple){if(f.selected=!d,e.setSelected(a,!d),r.trigger("blur"),!1!==y||!1!==_){var b=y<h.filter(":selected").length,w=_<g.find("option:selected").length;if(y&&b||_&&w)if(y&&1==y){h.prop("selected",!1),p.prop("selected",!0);for(var E=0;E<h.length;E++)e.setSelected(E,!1);e.setSelected(a,!0)}else if(_&&1==_){for(g.find("option:selected").prop("selected",!1),p.prop("selected",!0),E=0;E<v.length;E++)f=v[E],e.setSelected(h.index(f),!1);e.setSelected(a,!0)}else{var x="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,C="function"==typeof x?x(y,_):x,B=C[0].replace("{n}",y),I=C[1].replace("{n}",_),S=t('<div class="notify"></div>');C[2]&&(B=B.replace("{var}",C[2][y>1?0:1]),I=I.replace("{var}",C[2][_>1?0:1])),p.prop("selected",!1),e.$menu.append(S),y&&b&&(S.append(t("<div>"+B+"</div>")),c=!1,e.$element.trigger("maxReached.bs.select")),_&&w&&(S.append(t("<div>"+I+"</div>")),c=!1,e.$element.trigger("maxReachedGrp.bs.select")),setTimeout((function(){e.setSelected(a,!1)}),10),S.delay(750).fadeOut(300,(function(){t(this).remove()}))}}}else h.prop("selected",!1),f.selected=!0,e.setSelected(a,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.trigger("focus"):e.options.liveSearch&&e.$searchbox.trigger("focus"),c&&(l!=A(e.$element[0])&&e.multiple||u!=e.$element.prop("selectedIndex")&&!e.multiple)&&(m=[f.index,p.prop("selected"),l],e.$element.triggerNative("change"))}})),this.$menu.on("click","li."+D.DISABLED+" a, ."+D.POPOVERHEADER+", ."+D.POPOVERHEADER+" :not(.close)",(function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),e.options.liveSearch&&!t(n.target).hasClass("close")?e.$searchbox.trigger("focus"):e.$button.trigger("focus"))})),this.$menuInner.on("click",".divider, .dropdown-header",(function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus")})),this.$menu.on("click","."+D.POPOVERHEADER+" .close",(function(){e.$button.trigger("click")})),this.$searchbox.on("click",(function(t){t.stopPropagation()})),this.$menu.on("click",".actions-btn",(function(n){e.options.liveSearch?e.$searchbox.trigger("focus"):e.$button.trigger("focus"),n.preventDefault(),n.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()})),this.$element.on("change.bs.select",(function(){e.render(),e.$element.trigger("changed.bs.select",m),m=null})).on("focus.bs.select",(function(){e.options.mobile||e.$button.trigger("focus")}))},liveSearchListener:function(){var t=this,e=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",(function(){t.$searchbox.val()&&t.$searchbox.val("")})),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",(function(t){t.stopPropagation()})),this.$searchbox.on("input propertychange",(function(){var n=t.$searchbox.val();if(t.selectpicker.search.elements=[],t.selectpicker.search.data=[],n){var i=[],r=n.toUpperCase(),o={},s=[],a=t._searchStyle(),l=t.options.liveSearchNormalize;l&&(r=C(r)),t._$lisSelected=t.$menuInner.find(".selected");for(var u=0;u<t.selectpicker.main.data.length;u++){var c=t.selectpicker.main.data[u];o[u]||(o[u]=y(c,r,a,l)),o[u]&&void 0!==c.headerIndex&&-1===s.indexOf(c.headerIndex)&&(c.headerIndex>0&&(o[c.headerIndex-1]=!0,s.push(c.headerIndex-1)),o[c.headerIndex]=!0,s.push(c.headerIndex),o[c.lastIndex+1]=!0),o[u]&&"optgroup-label"!==c.type&&s.push(u)}u=0;for(var h=s.length;u<h;u++){var f=s[u],p=s[u-1],d=(c=t.selectpicker.main.data[f],t.selectpicker.main.data[p]);("divider"!==c.type||"divider"===c.type&&d&&"divider"!==d.type&&h-1!==u)&&(t.selectpicker.search.data.push(c),i.push(t.selectpicker.main.elements[f]))}t.activeIndex=void 0,t.noScroll=!0,t.$menuInner.scrollTop(0),t.selectpicker.search.elements=i,t.createView(!0),i.length||(e.className="no-results",e.innerHTML=t.options.noneResultsText.replace("{0}",'"'+B(n)+'"'),t.$menuInner[0].firstChild.appendChild(e))}else t.$menuInner.scrollTop(0),t.createView(!1)}))},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(t){if(void 0!==t){var e=A(this.$element[0]);return m=[null,null,e],this.$element.val(t).trigger("changed.bs.select",m),this.render(),m=null,this.$element}return this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0);var e=this.$element[0],n=0,i=0,r=A(e);e.classList.add("bs-select-hidden");for(var o=0,s=this.selectpicker.current.elements.length;o<s;o++){var a=this.selectpicker.current.data[o],l=a.option;l&&!a.disabled&&"divider"!==a.type&&(a.selected&&n++,l.selected=t,t&&i++)}e.classList.remove("bs-select-hidden"),n!==i&&(this.setOptionStatus(),this.togglePlaceholder(),m=[null,null,r],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var n,i,r,o,s,a=t(this),l=a.hasClass("dropdown-toggle"),u=(l?a.closest(".dropdown"):a.closest(P.MENU)).data("this"),c=u.findLis(),h=!1,f=e.which===T&&!l&&!u.options.selectOnTab,p=Q.test(e.which)||f,d=u.$menuInner[0].scrollTop,A=u.isVirtual(),g=!0===A?u.selectpicker.view.position0:0;if(!(i=u.$newElement.hasClass(D.SHOW))&&(p||e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||e.which>=65&&e.which<=90)&&(u.$button.trigger("click.bs.dropdown.data-api"),u.options.liveSearch))u.$searchbox.trigger("focus");else{if(e.which===S&&i&&(e.preventDefault(),u.$button.trigger("click.bs.dropdown.data-api").trigger("focus")),p){if(!c.length)return;void 0===(n=!0===A?c.index(c.filter(".active")):u.activeIndex)&&(n=-1),-1!==n&&((r=u.selectpicker.current.elements[n+g]).classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active")),e.which===N?(-1!==n&&n--,n+g<0&&(n+=c.length),u.selectpicker.view.canHighlight[n+g]||-1==(n=u.selectpicker.view.canHighlight.slice(0,n+g).lastIndexOf(!0)-g)&&(n=c.length-1)):(e.which===k||f)&&(++n+g>=u.selectpicker.view.canHighlight.length&&(n=0),u.selectpicker.view.canHighlight[n+g]||(n=n+1+u.selectpicker.view.canHighlight.slice(n+g+1).indexOf(!0))),e.preventDefault();var m=g+n;e.which===N?0===g&&n===c.length-1?(u.$menuInner[0].scrollTop=u.$menuInner[0].scrollHeight,m=u.selectpicker.current.elements.length-1):h=(s=(o=u.selectpicker.current.data[m]).position-o.height)<d:(e.which===k||f)&&(0===n?(u.$menuInner[0].scrollTop=0,m=0):h=(s=(o=u.selectpicker.current.data[m]).position-u.sizeInfo.menuInnerHeight)>d),(r=u.selectpicker.current.elements[m])&&(r.classList.add("active"),r.firstChild&&r.firstChild.classList.add("active")),u.activeIndex=u.selectpicker.current.data[m].index,u.selectpicker.view.currentActive=r,h&&(u.$menuInner[0].scrollTop=s),u.options.liveSearch?u.$searchbox.trigger("focus"):a.trigger("focus")}else if(!a.is("input")&&!H.test(e.which)||e.which===M&&u.selectpicker.keydown.keyHistory){var v,_,b=[];e.preventDefault(),u.selectpicker.keydown.keyHistory+=I[e.which],u.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(u.selectpicker.keydown.resetKeyHistory.cancel),u.selectpicker.keydown.resetKeyHistory.cancel=u.selectpicker.keydown.resetKeyHistory.start(),_=u.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(_)&&(_=_.charAt(0));for(var w=0;w<u.selectpicker.current.data.length;w++){var E=u.selectpicker.current.data[w];y(E,_,"startsWith",!0)&&u.selectpicker.view.canHighlight[w]&&b.push(E.index)}if(b.length){var x=0;c.removeClass("active").find("a").removeClass("active"),1===_.length&&(-1===(x=b.indexOf(u.activeIndex))||x===b.length-1?x=0:x++),v=b[x],d-(o=u.selectpicker.main.data[v]).position>0?(s=o.position-o.height,h=!0):(s=o.position-u.sizeInfo.menuInnerHeight,h=o.position>d+u.sizeInfo.menuInnerHeight),(r=u.selectpicker.main.elements[v]).classList.add("active"),r.firstChild&&r.firstChild.classList.add("active"),u.activeIndex=b[x],r.firstChild.focus(),h&&(u.$menuInner[0].scrollTop=s),a.trigger("focus")}}i&&(e.which===M&&!u.selectpicker.keydown.keyHistory||e.which===O||e.which===T&&u.options.selectOnTab)&&(e.which!==M&&e.preventDefault(),u.options.liveSearch&&e.which===M||(u.$menuInner.find(".active a").trigger("click",!0),a.trigger("focus"),u.options.liveSearch||(e.preventDefault(),t(document).data("spaceSelect",!0))))}},mobile:function(){this.$element[0].classList.add("mobile-device")},refresh:function(){var e=t.extend({},this.options,this.$element.data());this.options=e,this.checkDisabled(),this.setStyle(),this.render(),this.createLi(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(R).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"),t(window).off(".bs.select."+this.selectId)}};var G=t.fn.selectpicker;t.fn.selectpicker=K,t.fn.selectpicker.Constructor=z,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=G,this},t(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',z.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input',(function(t){t.stopPropagation()})),t(window).on("load.bs.select.data-api",(function(){t(".selectpicker").each((function(){var e=t(this);K.call(e,e.data())}))}))}(t)}.apply(e,i))||(t.exports=r)},function(t,e,n){"use strict";var i=n(4),r=n(70),o=n(115),s=n(27),a=n(31),l=function(t){o.a.call(this,t),this.scaleHeight_=6,t||(t={}),t.style||(t.style=new s.c),this.setStyle(t.style)};Object(i.d)(l,o.a),l.prototype.setMap=function(t){var e=this.getMap();this._listener&&Object(r.b)(this._listener),this._listener=null,o.a.prototype.setMap.call(this,t),e&&e.renderSync(),t&&(this._listener=t.on("postcompose",this.drawScale_.bind(this))),this.element.style.visibility="hidden",this.olscale=this.element.querySelector(".ol-scale-line-inner")},l.prototype.setStyle=function(t){var e=t.getStroke();this.strokeStyle_=e?Object(a.b)(e.getColor()):"#000",this.strokeWidth_=e?e.getWidth():2;var n=t.getFill();this.fillStyle_=n?Object(a.b)(n.getColor()):"#fff";var i=t.getText();this.font_=i?i.getFont():"10px Arial",e=i?i.getStroke():null,n=i?i.getFill():null,this.fontStrokeStyle_=e?Object(a.b)(e.getColor()):this.fillStyle_,this.fontStrokeWidth_=e?e.getWidth():3,this.fontFillStyle_=n?Object(a.b)(n.getColor()):this.strokeStyle_,this.getMap()&&this.getMap().render()},l.prototype.drawScale_=function(t){if("hidden"===this.element.style.visibility){var e=t.context,n=parseInt(this.olscale.style.width);if(n){var i=this.olscale.textContent,r={left:this.element.offsetLeft,top:this.element.offsetTop},o=t.frameState.pixelRatio;e.save(),e.scale(o,o),r.top+=this.element.clientHeight-this.scaleHeight_,e.beginPath(),e.strokeStyle=this.fontStrokeStyle_,e.fillStyle=this.fontFillStyle_,e.lineWidth=this.fontStrokeWidth_,e.textAlign="center",e.textBaseline="bottom",e.font=this.font_,e.strokeText(i,r.left+n/2,r.top),e.fillText(i,r.left+n/2,r.top),e.closePath(),r.top+=2,e.lineWidth=this.strokeWidth_,e.strokeStyle=this.strokeStyle_;for(var s=4,a=parseInt(i);a%10==0;)a/=10;a%5==0&&(s=5);for(var l=0;l<s;l++)e.beginPath(),e.fillStyle=l%2?this.fillStyle_:this.strokeStyle_,e.rect(r.left+l*n/s,r.top,n/s,this.scaleHeight_),e.stroke(),e.fill(),e.closePath();e.restore()}}}},function(t,e,n){"use strict";var i=n(4),r=n(24),o=function(t){t||(t={});var e=this;r.a.call(this,{handleEvent:function(n){return"pointermove"==n.type&&e.handleMove_(n),!t.handleEvent||t.handleEvent(n)}}),this.setFeatureFilter(t.featureFilter),this.setLayerFilter(t.layerFilter),this.set("hitTolerance",t.hitTolerance),this.setCursor(t.cursor)};Object(i.d)(o,r.a),o.prototype.setMap=function(t){void 0!==this.previousCursor_&&this.getMap()&&(this.getMap().getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=void 0),r.a.prototype.setMap.call(this,t)},o.prototype.setCursor=function(t){!t&&void 0!==this.previousCursor_&&this.getMap()&&(this.getMap().getTargetElement().style.cursor=this.previousCursor_,this.previousCursor_=void 0),this.cursor_=t},o.prototype.setFeatureFilter=function(t){this.featureFilter_="function"==typeof t?t:function(){return!0}},o.prototype.setLayerFilter=function(t){this.layerFilter_="function"==typeof t?t:function(){return!0}},o.prototype.handleMove_=function(t){var e=this.getMap();if(e){var n,i,r=this,o=e.forEachFeatureAtPixel(t.pixel,(function(t,e){return r.layerFilter_.call(null,e)&&r.featureFilter_.call(null,t,e)?(n=t,i=e,!0):(n=i=null,!1)}),{hitTolerance:this.get("hitTolerance")});if(o&&this.dispatchEvent({type:"hover",feature:n,layer:i,coordinate:t.coordinate,pixel:t.pixel,map:t.map,dragging:t.dragging}),this.feature_===n&&this.layer_===i||(this.feature_=n,this.layer_=i,n?this.dispatchEvent({type:"enter",feature:n,layer:i,coordinate:t.coordinate,pixel:t.pixel,map:t.map,dragging:t.dragging}):this.dispatchEvent({type:"leave",coordinate:t.coordinate,pixel:t.pixel,map:t.map,dragging:t.dragging})),this.cursor_){var s=e.getTargetElement().style;o?s.cursor!=this.cursor_&&(this.previousCursor_=s.cursor,s.cursor=this.cursor_):void 0!==this.previousCursor_&&(s.cursor=this.previousCursor_,this.previousCursor_=void 0)}}}},function(t,e,n){},function(t,e,n){
/*!
  * Bootstrap v4.3.1 (https://getbootstrap.com/)
  * Copyright 2011-2019 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
  */
!function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){o(t,e,n[e])}))}return t}e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var a="transitionend";function l(t){var n=this,i=!1;return e(this).one(u.TRANSITION_END,(function(){i=!0})),setTimeout((function(){i||u.triggerTransitionEnd(n)}),t),this}var u={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration"),i=e(t).css("transition-delay"),r=parseFloat(n),o=parseFloat(i);return r||o?(n=n.split(",")[0],i=i.split(",")[0],1e3*(parseFloat(n)+parseFloat(i))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger(a)},supportsTransitionEnd:function(){return Boolean(a)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i],o=e[i],s=o&&u.isElement(o)?"element":(a=o,{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(r).test(s))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+s+'" but expected type "'+r+'".')}var a},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?u.findShadowRoot(t.parentNode):null}};e.fn.emulateTransitionEnd=l,e.event.special[u.TRANSITION_END]={bindType:a,delegateType:a,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var c=e.fn.alert,h={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},f="alert",p="fade",d="show",A=function(){function t(t){this._element=t}var n=t.prototype;return n.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},n._getRootElement=function(t){var n=u.getSelectorFromElement(t),i=!1;return n&&(i=document.querySelector(n)),i||(i=e(t).closest("."+f)[0]),i},n._triggerCloseEvent=function(t){var n=e.Event(h.CLOSE);return e(t).trigger(n),n},n._removeElement=function(t){var n=this;if(e(t).removeClass(d),e(t).hasClass(p)){var i=u.getTransitionDurationFromElement(t);e(t).one(u.TRANSITION_END,(function(e){return n._destroyElement(t,e)})).emulateTransitionEnd(i)}else this._destroyElement(t)},n._destroyElement=function(t){e(t).detach().trigger(h.CLOSED).remove()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data("bs.alert");r||(r=new t(this),i.data("bs.alert",r)),"close"===n&&r[n](this)}))},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(h.CLICK_DATA_API,'[data-dismiss="alert"]',A._handleDismiss(new A)),e.fn.alert=A._jQueryInterface,e.fn.alert.Constructor=A,e.fn.alert.noConflict=function(){return e.fn.alert=c,A._jQueryInterface};var g=e.fn.button,m="active",v="btn",y="focus",_='[data-toggle^="button"]',b='[data-toggle="buttons"]',w='input:not([type="hidden"])',E=".active",x=".btn",C={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},B=function(){function t(t){this._element=t}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,i=e(this._element).closest(b)[0];if(i){var r=this._element.querySelector(w);if(r){if("radio"===r.type)if(r.checked&&this._element.classList.contains(m))t=!1;else{var o=i.querySelector(E);o&&e(o).removeClass(m)}if(t){if(r.hasAttribute("disabled")||i.hasAttribute("disabled")||r.classList.contains("disabled")||i.classList.contains("disabled"))return;r.checked=!this._element.classList.contains(m),e(r).trigger("change")}r.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(m)),t&&e(this._element).toggleClass(m)},n.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.button");i||(i=new t(this),e(this).data("bs.button",i)),"toggle"===n&&i[n]()}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(C.CLICK_DATA_API,_,(function(t){t.preventDefault();var n=t.target;e(n).hasClass(v)||(n=e(n).closest(x)),B._jQueryInterface.call(e(n),"toggle")})).on(C.FOCUS_BLUR_DATA_API,_,(function(t){var n=e(t.target).closest(x)[0];e(n).toggleClass(y,/^focus(in)?$/.test(t.type))})),e.fn.button=B._jQueryInterface,e.fn.button.Constructor=B,e.fn.button.noConflict=function(){return e.fn.button=g,B._jQueryInterface};var I="carousel",S=".bs.carousel",O=e.fn[I],M={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},T={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},N="next",k="prev",L="left",F="right",R={SLIDE:"slide.bs.carousel",SLID:"slid.bs.carousel",KEYDOWN:"keydown.bs.carousel",MOUSEENTER:"mouseenter.bs.carousel",MOUSELEAVE:"mouseleave.bs.carousel",TOUCHSTART:"touchstart.bs.carousel",TOUCHMOVE:"touchmove.bs.carousel",TOUCHEND:"touchend.bs.carousel",POINTERDOWN:"pointerdown.bs.carousel",POINTERUP:"pointerup.bs.carousel",DRAG_START:"dragstart.bs.carousel",LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},D="carousel",P="active",U="slide",Q="carousel-item-right",H="carousel-item-left",j="carousel-item-next",z="carousel-item-prev",K="pointer-event",G={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},q={TOUCH:"touch",PEN:"pen"},W=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(G.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=t.prototype;return n.next=function(){this._isSliding||this._slide(N)},n.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide(k)},n.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(G.NEXT_PREV)&&(u.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(t){var n=this;this._activeElement=this._element.querySelector(G.ACTIVE_ITEM);var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(R.SLID,(function(){return n.to(t)}));else{if(i===t)return this.pause(),void this.cycle();var r=t>i?N:k;this._slide(r,this._items[t])}},n.dispose=function(){e(this._element).off(S),e.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(t){return t=s({},M,t),u.typeCheckConfig(I,t,T),t},n._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;e>0&&this.prev(),e<0&&this.next()}},n._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(R.KEYDOWN,(function(e){return t._keydown(e)})),"hover"===this._config.pause&&e(this._element).on(R.MOUSEENTER,(function(e){return t.pause(e)})).on(R.MOUSELEAVE,(function(e){return t.cycle(e)})),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var n=function(e){t._pointerEvent&&q[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},i=function(e){t._pointerEvent&&q[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout((function(e){return t.cycle(e)}),500+t._config.interval))};e(this._element.querySelectorAll(G.ITEM_IMG)).on(R.DRAG_START,(function(t){return t.preventDefault()})),this._pointerEvent?(e(this._element).on(R.POINTERDOWN,(function(t){return n(t)})),e(this._element).on(R.POINTERUP,(function(t){return i(t)})),this._element.classList.add(K)):(e(this._element).on(R.TOUCHSTART,(function(t){return n(t)})),e(this._element).on(R.TOUCHMOVE,(function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)})),e(this._element).on(R.TOUCHEND,(function(t){return i(t)})))}},n._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},n._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(G.ITEM)):[],this._items.indexOf(t)},n._getItemByDirection=function(t,e){var n=t===N,i=t===k,r=this._getItemIndex(e),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return e;var s=(r+(t===k?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},n._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),r=this._getItemIndex(this._element.querySelector(G.ACTIVE_ITEM)),o=e.Event(R.SLIDE,{relatedTarget:t,direction:n,from:r,to:i});return e(this._element).trigger(o),o},n._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(G.ACTIVE));e(n).removeClass(P);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass(P)}},n._slide=function(t,n){var i,r,o,s=this,a=this._element.querySelector(G.ACTIVE_ITEM),l=this._getItemIndex(a),c=n||a&&this._getItemByDirection(t,a),h=this._getItemIndex(c),f=Boolean(this._interval);if(t===N?(i=H,r=j,o=L):(i=Q,r=z,o=F),c&&e(c).hasClass(P))this._isSliding=!1;else if(!this._triggerSlideEvent(c,o).isDefaultPrevented()&&a&&c){this._isSliding=!0,f&&this.pause(),this._setActiveIndicatorElement(c);var p=e.Event(R.SLID,{relatedTarget:c,direction:o,from:l,to:h});if(e(this._element).hasClass(U)){e(c).addClass(r),u.reflow(c),e(a).addClass(i),e(c).addClass(i);var d=parseInt(c.getAttribute("data-interval"),10);d?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=d):this._config.interval=this._config.defaultInterval||this._config.interval;var A=u.getTransitionDurationFromElement(a);e(a).one(u.TRANSITION_END,(function(){e(c).removeClass(i+" "+r).addClass(P),e(a).removeClass(P+" "+r+" "+i),s._isSliding=!1,setTimeout((function(){return e(s._element).trigger(p)}),0)})).emulateTransitionEnd(A)}else e(a).removeClass(P),e(c).addClass(P),this._isSliding=!1,e(this._element).trigger(p);f&&this.cycle()}},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.carousel"),r=s({},M,e(this).data());"object"==typeof n&&(r=s({},r,n));var o="string"==typeof n?n:r.slide;if(i||(i=new t(this,r),e(this).data("bs.carousel",i)),"number"==typeof n)i.to(n);else if("string"==typeof o){if(void 0===i[o])throw new TypeError('No method named "'+o+'"');i[o]()}else r.interval&&r.ride&&(i.pause(),i.cycle())}))},t._dataApiClickHandler=function(n){var i=u.getSelectorFromElement(this);if(i){var r=e(i)[0];if(r&&e(r).hasClass(D)){var o=s({},e(r).data(),e(this).data()),a=this.getAttribute("data-slide-to");a&&(o.interval=!1),t._jQueryInterface.call(e(r),o),a&&e(r).data("bs.carousel").to(a),n.preventDefault()}}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return M}}]),t}();e(document).on(R.CLICK_DATA_API,G.DATA_SLIDE,W._dataApiClickHandler),e(window).on(R.LOAD_DATA_API,(function(){for(var t=[].slice.call(document.querySelectorAll(G.DATA_RIDE)),n=0,i=t.length;n<i;n++){var r=e(t[n]);W._jQueryInterface.call(r,r.data())}})),e.fn[I]=W._jQueryInterface,e.fn[I].Constructor=W,e.fn[I].noConflict=function(){return e.fn[I]=O,W._jQueryInterface};var Y="collapse",X=e.fn[Y],V={toggle:!0,parent:""},J={toggle:"boolean",parent:"(string|element)"},Z={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},$="show",tt="collapse",et="collapsing",nt="collapsed",it="width",rt="height",ot={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},st=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var n=[].slice.call(document.querySelectorAll(ot.DATA_TOGGLE)),i=0,r=n.length;i<r;i++){var o=n[i],s=u.getSelectorFromElement(o),a=[].slice.call(document.querySelectorAll(s)).filter((function(e){return e===t}));null!==s&&a.length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=t.prototype;return n.toggle=function(){e(this._element).hasClass($)?this.hide():this.show()},n.show=function(){var n,i,r=this;if(!(this._isTransitioning||e(this._element).hasClass($)||(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(ot.ACTIVES)).filter((function(t){return"string"==typeof r._config.parent?t.getAttribute("data-parent")===r._config.parent:t.classList.contains(tt)}))).length&&(n=null),n&&(i=e(n).not(this._selector).data("bs.collapse"))&&i._isTransitioning))){var o=e.Event(Z.SHOW);if(e(this._element).trigger(o),!o.isDefaultPrevented()){n&&(t._jQueryInterface.call(e(n).not(this._selector),"hide"),i||e(n).data("bs.collapse",null));var s=this._getDimension();e(this._element).removeClass(tt).addClass(et),this._element.style[s]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(nt).attr("aria-expanded",!0),this.setTransitioning(!0);var a="scroll"+(s[0].toUpperCase()+s.slice(1)),l=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,(function(){e(r._element).removeClass(et).addClass(tt).addClass($),r._element.style[s]="",r.setTransitioning(!1),e(r._element).trigger(Z.SHOWN)})).emulateTransitionEnd(l),this._element.style[s]=this._element[a]+"px"}}},n.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass($)){var n=e.Event(Z.HIDE);if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",u.reflow(this._element),e(this._element).addClass(et).removeClass(tt).removeClass($);var r=this._triggerArray.length;if(r>0)for(var o=0;o<r;o++){var s=this._triggerArray[o],a=u.getSelectorFromElement(s);null!==a&&(e([].slice.call(document.querySelectorAll(a))).hasClass($)||e(s).addClass(nt).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[i]="";var l=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,(function(){t.setTransitioning(!1),e(t._element).removeClass(et).addClass(tt).trigger(Z.HIDDEN)})).emulateTransitionEnd(l)}}},n.setTransitioning=function(t){this._isTransitioning=t},n.dispose=function(){e.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(t){return(t=s({},V,t)).toggle=Boolean(t.toggle),u.typeCheckConfig(Y,t,J),t},n._getDimension=function(){return e(this._element).hasClass(it)?it:rt},n._getParent=function(){var n,i=this;u.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(n.querySelectorAll(r));return e(o).each((function(e,n){i._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])})),n},n._addAriaAndCollapsedClass=function(t,n){var i=e(t).hasClass($);n.length&&e(n).toggleClass(nt,!i).attr("aria-expanded",i)},t._getTargetFromElement=function(t){var e=u.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data("bs.collapse"),o=s({},V,i.data(),"object"==typeof n&&n?n:{});if(!r&&o.toggle&&/show|hide/.test(n)&&(o.toggle=!1),r||(r=new t(this,o),i.data("bs.collapse",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return V}}]),t}();e(document).on(Z.CLICK_DATA_API,ot.DATA_TOGGLE,(function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=e(this),i=u.getSelectorFromElement(this),r=[].slice.call(document.querySelectorAll(i));e(r).each((function(){var t=e(this),i=t.data("bs.collapse")?"toggle":n.data();st._jQueryInterface.call(t,i)}))})),e.fn[Y]=st._jQueryInterface,e.fn[Y].Constructor=st,e.fn[Y].noConflict=function(){return e.fn[Y]=X,st._jQueryInterface};var at="dropdown",lt=e.fn[at],ut=new RegExp("38|40|27"),ct={HIDE:"hide.bs.dropdown",HIDDEN:"hidden.bs.dropdown",SHOW:"show.bs.dropdown",SHOWN:"shown.bs.dropdown",CLICK:"click.bs.dropdown",CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},ht="disabled",ft="show",pt="dropup",dt="dropright",At="dropleft",gt="dropdown-menu-right",mt="position-static",vt='[data-toggle="dropdown"]',yt=".dropdown form",_t=".dropdown-menu",bt=".navbar-nav",wt=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Et="top-start",xt="top-end",Ct="bottom-start",Bt="bottom-end",It="right-start",St="left-start",Ot={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Mt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},Tt=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var i=t.prototype;return i.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(ht)){var i=t._getParentFromElement(this._element),r=e(this._menu).hasClass(ft);if(t._clearMenus(),!r){var o={relatedTarget:this._element},s=e.Event(ct.SHOW,o);if(e(i).trigger(s),!s.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var a=this._element;"parent"===this._config.reference?a=i:u.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(i).addClass(mt),this._popper=new n(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(i).closest(bt).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(ft),e(i).toggleClass(ft).trigger(e.Event(ct.SHOWN,o))}}}},i.show=function(){if(!(this._element.disabled||e(this._element).hasClass(ht)||e(this._menu).hasClass(ft))){var n={relatedTarget:this._element},i=e.Event(ct.SHOW,n),r=t._getParentFromElement(this._element);e(r).trigger(i),i.isDefaultPrevented()||(e(this._menu).toggleClass(ft),e(r).toggleClass(ft).trigger(e.Event(ct.SHOWN,n)))}},i.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass(ht)&&e(this._menu).hasClass(ft)){var n={relatedTarget:this._element},i=e.Event(ct.HIDE,n),r=t._getParentFromElement(this._element);e(r).trigger(i),i.isDefaultPrevented()||(e(this._menu).toggleClass(ft),e(r).toggleClass(ft).trigger(e.Event(ct.HIDDEN,n)))}},i.dispose=function(){e.removeData(this._element,"bs.dropdown"),e(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var t=this;e(this._element).on(ct.CLICK,(function(e){e.preventDefault(),e.stopPropagation(),t.toggle()}))},i._getConfig=function(t){return t=s({},this.constructor.Default,e(this._element).data(),t),u.typeCheckConfig(at,t,this.constructor.DefaultType),t},i._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(_t))}return this._menu},i._getPlacement=function(){var t=e(this._element.parentNode),n=Ct;return t.hasClass(pt)?(n=Et,e(this._menu).hasClass(gt)&&(n=xt)):t.hasClass(dt)?n=It:t.hasClass(At)?n=St:e(this._menu).hasClass(gt)&&(n=Bt),n},i._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},i._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},i._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),t},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.dropdown");if(i||(i=new t(this,"object"==typeof n?n:null),e(this).data("bs.dropdown",i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},t._clearMenus=function(n){if(!n||3!==n.which&&("keyup"!==n.type||9===n.which))for(var i=[].slice.call(document.querySelectorAll(vt)),r=0,o=i.length;r<o;r++){var s=t._getParentFromElement(i[r]),a=e(i[r]).data("bs.dropdown"),l={relatedTarget:i[r]};if(n&&"click"===n.type&&(l.clickEvent=n),a){var u=a._menu;if(e(s).hasClass(ft)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&9===n.which)&&e.contains(s,n.target))){var c=e.Event(ct.HIDE,l);e(s).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),i[r].setAttribute("aria-expanded","false"),e(u).removeClass(ft),e(s).removeClass(ft).trigger(e.Event(ct.HIDDEN,l)))}}}},t._getParentFromElement=function(t){var e,n=u.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(n){if((/input|textarea/i.test(n.target.tagName)?!(32===n.which||27!==n.which&&(40!==n.which&&38!==n.which||e(n.target).closest(_t).length)):ut.test(n.which))&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!e(this).hasClass(ht))){var i=t._getParentFromElement(this),r=e(i).hasClass(ft);if(r&&(!r||27!==n.which&&32!==n.which)){var o=[].slice.call(i.querySelectorAll(wt));if(0!==o.length){var s=o.indexOf(n.target);38===n.which&&s>0&&s--,40===n.which&&s<o.length-1&&s++,s<0&&(s=0),o[s].focus()}}else{if(27===n.which){var a=i.querySelector(vt);e(a).trigger("focus")}e(this).trigger("click")}}},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Ot}},{key:"DefaultType",get:function(){return Mt}}]),t}();e(document).on(ct.KEYDOWN_DATA_API,vt,Tt._dataApiKeydownHandler).on(ct.KEYDOWN_DATA_API,_t,Tt._dataApiKeydownHandler).on(ct.CLICK_DATA_API+" "+ct.KEYUP_DATA_API,Tt._clearMenus).on(ct.CLICK_DATA_API,vt,(function(t){t.preventDefault(),t.stopPropagation(),Tt._jQueryInterface.call(e(this),"toggle")})).on(ct.CLICK_DATA_API,yt,(function(t){t.stopPropagation()})),e.fn[at]=Tt._jQueryInterface,e.fn[at].Constructor=Tt,e.fn[at].noConflict=function(){return e.fn[at]=lt,Tt._jQueryInterface};var Nt=e.fn.modal,kt={backdrop:!0,keyboard:!0,focus:!0,show:!0},Lt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Ft={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},Rt="modal-dialog-scrollable",Dt="modal-scrollbar-measure",Pt="modal-backdrop",Ut="modal-open",Qt="fade",Ht="show",jt={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},zt=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(jt.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=t.prototype;return n.toggle=function(t){return this._isShown?this.hide():this.show(t)},n.show=function(t){var n=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass(Qt)&&(this._isTransitioning=!0);var i=e.Event(Ft.SHOW,{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(Ft.CLICK_DISMISS,jt.DATA_DISMISS,(function(t){return n.hide(t)})),e(this._dialog).on(Ft.MOUSEDOWN_DISMISS,(function(){e(n._element).one(Ft.MOUSEUP_DISMISS,(function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return n._showElement(t)})))}},n.hide=function(t){var n=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=e.Event(Ft.HIDE);if(e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=e(this._element).hasClass(Qt);if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(Ft.FOCUSIN),e(this._element).removeClass(Ht),e(this._element).off(Ft.CLICK_DISMISS),e(this._dialog).off(Ft.MOUSEDOWN_DISMISS),r){var o=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,(function(t){return n._hideModal(t)})).emulateTransitionEnd(o)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach((function(t){return e(t).off(".bs.modal")})),e(document).off(Ft.FOCUSIN),e.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(t){return t=s({},kt,t),u.typeCheckConfig("modal",t,Lt),t},n._showElement=function(t){var n=this,i=e(this._element).hasClass(Qt);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass(Rt)?this._dialog.querySelector(jt.MODAL_BODY).scrollTop=0:this._element.scrollTop=0,i&&u.reflow(this._element),e(this._element).addClass(Ht),this._config.focus&&this._enforceFocus();var r=e.Event(Ft.SHOWN,{relatedTarget:t}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(r)};if(i){var s=u.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(u.TRANSITION_END,o).emulateTransitionEnd(s)}else o()},n._enforceFocus=function(){var t=this;e(document).off(Ft.FOCUSIN).on(Ft.FOCUSIN,(function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()}))},n._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(Ft.KEYDOWN_DISMISS,(function(e){27===e.which&&(e.preventDefault(),t.hide())})):this._isShown||e(this._element).off(Ft.KEYDOWN_DISMISS)},n._setResizeEvent=function(){var t=this;this._isShown?e(window).on(Ft.RESIZE,(function(e){return t.handleUpdate(e)})):e(window).off(Ft.RESIZE)},n._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop((function(){e(document.body).removeClass(Ut),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(Ft.HIDDEN)}))},n._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(t){var n=this,i=e(this._element).hasClass(Qt)?Qt:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=Pt,i&&this._backdrop.classList.add(i),e(this._backdrop).appendTo(document.body),e(this._element).on(Ft.CLICK_DISMISS,(function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())})),i&&u.reflow(this._backdrop),e(this._backdrop).addClass(Ht),!t)return;if(!i)return void t();var r=u.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(u.TRANSITION_END,t).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(Ht);var o=function(){n._removeBackdrop(),t&&t()};if(e(this._element).hasClass(Qt)){var s=u.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(u.TRANSITION_END,o).emulateTransitionEnd(s)}else o()}else t&&t()},n._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(jt.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(jt.STICKY_CONTENT));e(n).each((function(n,i){var r=i.style.paddingRight,o=e(i).css("padding-right");e(i).data("padding-right",r).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")})),e(i).each((function(n,i){var r=i.style.marginRight,o=e(i).css("margin-right");e(i).data("margin-right",r).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")}));var r=document.body.style.paddingRight,o=e(document.body).css("padding-right");e(document.body).data("padding-right",r).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}e(document.body).addClass(Ut)},n._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(jt.FIXED_CONTENT));e(t).each((function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i||""}));var n=[].slice.call(document.querySelectorAll(""+jt.STICKY_CONTENT));e(n).each((function(t,n){var i=e(n).data("margin-right");void 0!==i&&e(n).css("margin-right",i).removeData("margin-right")}));var i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i||""},n._getScrollbarWidth=function(){var t=document.createElement("div");t.className=Dt,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(n,i){return this.each((function(){var r=e(this).data("bs.modal"),o=s({},kt,e(this).data(),"object"==typeof n&&n?n:{});if(r||(r=new t(this,o),e(this).data("bs.modal",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](i)}else o.show&&r.show(i)}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return kt}}]),t}();e(document).on(Ft.CLICK_DATA_API,jt.DATA_TOGGLE,(function(t){var n,i=this,r=u.getSelectorFromElement(this);r&&(n=document.querySelector(r));var o=e(n).data("bs.modal")?"toggle":s({},e(n).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=e(n).one(Ft.SHOW,(function(t){t.isDefaultPrevented()||a.one(Ft.HIDDEN,(function(){e(i).is(":visible")&&i.focus()}))}));zt._jQueryInterface.call(e(n),o,this)})),e.fn.modal=zt._jQueryInterface,e.fn.modal.Constructor=zt,e.fn.modal.noConflict=function(){return e.fn.modal=Nt,zt._jQueryInterface};var Kt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Gt={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Wt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function Yt(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=(new window.DOMParser).parseFromString(t,"text/html"),r=Object.keys(e),o=[].slice.call(i.body.querySelectorAll("*")),s=function(t,n){var i=o[t],s=i.nodeName.toLowerCase();if(-1===r.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";var a=[].slice.call(i.attributes),l=[].concat(e["*"]||[],e[s]||[]);a.forEach((function(t){(function(t,e){var n=t.nodeName.toLowerCase();if(-1!==e.indexOf(n))return-1===Kt.indexOf(n)||Boolean(t.nodeValue.match(qt)||t.nodeValue.match(Wt));for(var i=e.filter((function(t){return t instanceof RegExp})),r=0,o=i.length;r<o;r++)if(n.match(i[r]))return!0;return!1})(t,l)||i.removeAttribute(t.nodeName)}))},a=0,l=o.length;a<l;a++)s(a);return i.body.innerHTML}var Xt="tooltip",Vt=e.fn.tooltip,Jt=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Zt=["sanitize","whiteList","sanitizeFn"],$t={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},te={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},ee={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:Gt},ne="show",ie="out",re={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},oe="fade",se="show",ae=".tooltip-inner",le=".arrow",ue="hover",ce="focus",he="click",fe="manual",pe=function(){function t(t,e){if(void 0===n)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var i=t.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(se))return void this._leave(null,this);this._enter(null,this)}},i.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var i=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(i);var r=u.findShadowRoot(this.element),o=e.contains(null!==r?r:this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!o)return;var s=this.getTipElement(),a=u.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&e(s).addClass(oe);var l="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);var h=this._getContainer();e(s).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(s).appendTo(h),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,s,{placement:c,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:le},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),e(s).addClass(se),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var f=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),n===ie&&t._leave(null,t)};if(e(this.tip).hasClass(oe)){var p=u.getTransitionDurationFromElement(this.tip);e(this.tip).one(u.TRANSITION_END,f).emulateTransitionEnd(p)}else f()}},i.hide=function(t){var n=this,i=this.getTipElement(),r=e.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==ne&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};if(e(this.element).trigger(r),!r.isDefaultPrevented()){if(e(i).removeClass(se),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[he]=!1,this._activeTrigger[ce]=!1,this._activeTrigger[ue]=!1,e(this.tip).hasClass(oe)){var s=u.getTransitionDurationFromElement(i);e(i).one(u.TRANSITION_END,o).emulateTransitionEnd(s)}else o();this._hoverState=""}},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},i.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},i.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(ae)),this.getTitle()),e(t).removeClass(oe+" "+se)},i.setElementContent=function(t,n){"object"!=typeof n||!n.nodeType&&!n.jquery?this.config.html?(this.config.sanitize&&(n=Yt(n,this.config.whiteList,this.config.sanitizeFn)),t.html(n)):t.text(n):this.config.html?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text())},i.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},i._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},i._getContainer=function(){return!1===this.config.container?document.body:u.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},i._getAttachment=function(t){return te[t.toUpperCase()]},i._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach((function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,(function(e){return t.toggle(e)}));else if(n!==fe){var i=n===ue?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,r=n===ue?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,(function(e){return t._enter(e)})).on(r,t.config.selector,(function(e){return t._leave(e)}))}})),e(this.element).closest(".modal").on("hide.bs.modal",(function(){t.element&&t.hide()})),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?ce:ue]=!0),e(n.getTipElement()).hasClass(se)||n._hoverState===ne?n._hoverState=ne:(clearTimeout(n._timeout),n._hoverState=ne,n.config.delay&&n.config.delay.show?n._timeout=setTimeout((function(){n._hoverState===ne&&n.show()}),n.config.delay.show):n.show())},i._leave=function(t,n){var i=this.constructor.DATA_KEY;(n=n||e(t.currentTarget).data(i))||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?ce:ue]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=ie,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout((function(){n._hoverState===ie&&n.hide()}),n.config.delay.hide):n.hide())},i._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},i._getConfig=function(t){var n=e(this.element).data();return Object.keys(n).forEach((function(t){-1!==Zt.indexOf(t)&&delete n[t]})),"number"==typeof(t=s({},this.constructor.Default,n,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),u.typeCheckConfig(Xt,t,this.constructor.DefaultType),t.sanitize&&(t.template=Yt(t.template,t.whiteList,t.sanitizeFn)),t},i._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},i._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(Jt);null!==n&&n.length&&t.removeClass(n.join(""))},i._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},i._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(oe),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.tooltip"),r="object"==typeof n&&n;if((i||!/dispose|hide/.test(n))&&(i||(i=new t(this,r),e(this).data("bs.tooltip",i)),"string"==typeof n)){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return ee}},{key:"NAME",get:function(){return Xt}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return re}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return $t}}]),t}();e.fn.tooltip=pe._jQueryInterface,e.fn.tooltip.Constructor=pe,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=Vt,pe._jQueryInterface};var de="popover",Ae=e.fn.popover,ge=new RegExp("(^|\\s)bs-popover\\S+","g"),me=s({},pe.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),ve=s({},pe.DefaultType,{content:"(string|element|function)"}),ye="fade",_e="show",be=".popover-header",we=".popover-body",Ee={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},xe=function(t){var n,i;function o(){return t.apply(this,arguments)||this}i=t,(n=o).prototype=Object.create(i.prototype),n.prototype.constructor=n,n.__proto__=i;var s=o.prototype;return s.isWithContent=function(){return this.getTitle()||this._getContent()},s.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},s.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},s.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(be),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(we),n),t.removeClass(ye+" "+_e)},s._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},s._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(ge);null!==n&&n.length>0&&t.removeClass(n.join(""))},o._jQueryInterface=function(t){return this.each((function(){var n=e(this).data("bs.popover"),i="object"==typeof t?t:null;if((n||!/dispose|hide/.test(t))&&(n||(n=new o(this,i),e(this).data("bs.popover",n)),"string"==typeof t)){if(void 0===n[t])throw new TypeError('No method named "'+t+'"');n[t]()}}))},r(o,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return me}},{key:"NAME",get:function(){return de}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return Ee}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return ve}}]),o}(pe);e.fn.popover=xe._jQueryInterface,e.fn.popover.Constructor=xe,e.fn.popover.noConflict=function(){return e.fn.popover=Ae,xe._jQueryInterface};var Ce="scrollspy",Be=e.fn[Ce],Ie={offset:10,method:"auto",target:""},Se={offset:"number",method:"string",target:"(string|element)"},Oe={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},Me="dropdown-item",Te="active",Ne={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},ke="offset",Le="position",Fe=function(){function t(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" "+Ne.NAV_LINKS+","+this._config.target+" "+Ne.LIST_ITEMS+","+this._config.target+" "+Ne.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(Oe.SCROLL,(function(t){return i._process(t)})),this.refresh(),this._process()}var n=t.prototype;return n.refresh=function(){var t=this,n=this._scrollElement===this._scrollElement.window?ke:Le,i="auto"===this._config.method?n:this._config.method,r=i===Le?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map((function(t){var n,o=u.getSelectorFromElement(t);if(o&&(n=document.querySelector(o)),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[e(n)[i]().top+r,o]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(e){t._offsets.push(e[0]),t._targets.push(e[1])}))},n.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(t){if("string"!=typeof(t=s({},Ie,"object"==typeof t&&t?t:{})).target){var n=e(t.target).attr("id");n||(n=u.getUID(Ce),e(t.target).attr("id",n)),t.target="#"+n}return u.typeCheckConfig(Ce,t,Se),t},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},n._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",").map((function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'})),i=e([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass(Me)?(i.closest(Ne.DROPDOWN).find(Ne.DROPDOWN_TOGGLE).addClass(Te),i.addClass(Te)):(i.addClass(Te),i.parents(Ne.NAV_LIST_GROUP).prev(Ne.NAV_LINKS+", "+Ne.LIST_ITEMS).addClass(Te),i.parents(Ne.NAV_LIST_GROUP).prev(Ne.NAV_ITEMS).children(Ne.NAV_LINKS).addClass(Te)),e(this._scrollElement).trigger(Oe.ACTIVATE,{relatedTarget:t})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter((function(t){return t.classList.contains(Te)})).forEach((function(t){return t.classList.remove(Te)}))},t._jQueryInterface=function(n){return this.each((function(){var i=e(this).data("bs.scrollspy");if(i||(i=new t(this,"object"==typeof n&&n),e(this).data("bs.scrollspy",i)),"string"==typeof n){if(void 0===i[n])throw new TypeError('No method named "'+n+'"');i[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Ie}}]),t}();e(window).on(Oe.LOAD_DATA_API,(function(){for(var t=[].slice.call(document.querySelectorAll(Ne.DATA_SPY)),n=t.length;n--;){var i=e(t[n]);Fe._jQueryInterface.call(i,i.data())}})),e.fn[Ce]=Fe._jQueryInterface,e.fn[Ce].Constructor=Fe,e.fn[Ce].noConflict=function(){return e.fn[Ce]=Be,Fe._jQueryInterface};var Re=e.fn.tab,De={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},Pe="dropdown-menu",Ue="active",Qe="disabled",He="fade",je="show",ze=".dropdown",Ke=".nav, .list-group",Ge=".active",qe="> li > .active",We='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',Ye=".dropdown-toggle",Xe="> .dropdown-menu .active",Ve=function(){function t(t){this._element=t}var n=t.prototype;return n.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(Ue)||e(this._element).hasClass(Qe))){var n,i,r=e(this._element).closest(Ke)[0],o=u.getSelectorFromElement(this._element);if(r){var s="UL"===r.nodeName||"OL"===r.nodeName?qe:Ge;i=(i=e.makeArray(e(r).find(s)))[i.length-1]}var a=e.Event(De.HIDE,{relatedTarget:this._element}),l=e.Event(De.SHOW,{relatedTarget:i});if(i&&e(i).trigger(a),e(this._element).trigger(l),!l.isDefaultPrevented()&&!a.isDefaultPrevented()){o&&(n=document.querySelector(o)),this._activate(this._element,r);var c=function(){var n=e.Event(De.HIDDEN,{relatedTarget:t._element}),r=e.Event(De.SHOWN,{relatedTarget:i});e(i).trigger(n),e(t._element).trigger(r)};n?this._activate(n,n.parentNode,c):c()}}},n.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},n._activate=function(t,n,i){var r=this,o=(!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?e(n).children(Ge):e(n).find(qe))[0],s=i&&o&&e(o).hasClass(He),a=function(){return r._transitionComplete(t,o,i)};if(o&&s){var l=u.getTransitionDurationFromElement(o);e(o).removeClass(je).one(u.TRANSITION_END,a).emulateTransitionEnd(l)}else a()},n._transitionComplete=function(t,n,i){if(n){e(n).removeClass(Ue);var r=e(n.parentNode).find(Xe)[0];r&&e(r).removeClass(Ue),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass(Ue),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),u.reflow(t),t.classList.contains(He)&&t.classList.add(je),t.parentNode&&e(t.parentNode).hasClass(Pe)){var o=e(t).closest(ze)[0];if(o){var s=[].slice.call(o.querySelectorAll(Ye));e(s).addClass(Ue)}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data("bs.tab");if(r||(r=new t(this),i.data("bs.tab",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(De.CLICK_DATA_API,We,(function(t){t.preventDefault(),Ve._jQueryInterface.call(e(this),"show")})),e.fn.tab=Ve._jQueryInterface,e.fn.tab.Constructor=Ve,e.fn.tab.noConflict=function(){return e.fn.tab=Re,Ve._jQueryInterface};var Je=e.fn.toast,Ze={CLICK_DISMISS:"click.dismiss.bs.toast",HIDE:"hide.bs.toast",HIDDEN:"hidden.bs.toast",SHOW:"show.bs.toast",SHOWN:"shown.bs.toast"},$e="fade",tn="hide",en="show",nn="showing",rn={animation:"boolean",autohide:"boolean",delay:"number"},on={animation:!0,autohide:!0,delay:500},sn='[data-dismiss="toast"]',an=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var n=t.prototype;return n.show=function(){var t=this;e(this._element).trigger(Ze.SHOW),this._config.animation&&this._element.classList.add($e);var n=function(){t._element.classList.remove(nn),t._element.classList.add(en),e(t._element).trigger(Ze.SHOWN),t._config.autohide&&t.hide()};if(this._element.classList.remove(tn),this._element.classList.add(nn),this._config.animation){var i=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},n.hide=function(t){var n=this;this._element.classList.contains(en)&&(e(this._element).trigger(Ze.HIDE),t?this._close():this._timeout=setTimeout((function(){n._close()}),this._config.delay))},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(en)&&this._element.classList.remove(en),e(this._element).off(Ze.CLICK_DISMISS),e.removeData(this._element,"bs.toast"),this._element=null,this._config=null},n._getConfig=function(t){return t=s({},on,e(this._element).data(),"object"==typeof t&&t?t:{}),u.typeCheckConfig("toast",t,this.constructor.DefaultType),t},n._setListeners=function(){var t=this;e(this._element).on(Ze.CLICK_DISMISS,sn,(function(){return t.hide(!0)}))},n._close=function(){var t=this,n=function(){t._element.classList.add(tn),e(t._element).trigger(Ze.HIDDEN)};if(this._element.classList.remove(en),this._config.animation){var i=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},t._jQueryInterface=function(n){return this.each((function(){var i=e(this),r=i.data("bs.toast");if(r||(r=new t(this,"object"==typeof n&&n),i.data("bs.toast",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n](this)}}))},r(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return rn}},{key:"Default",get:function(){return on}}]),t}();e.fn.toast=an._jQueryInterface,e.fn.toast.Constructor=an,e.fn.toast.noConflict=function(){return e.fn.toast=Je,an._jQueryInterface},function(){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),t.Util=u,t.Alert=A,t.Button=B,t.Carousel=W,t.Collapse=st,t.Dropdown=Tt,t.Modal=zt,t.Popover=xe,t.Scrollspy=Fe,t.Tab=Ve,t.Toast=an,t.Tooltip=pe,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(55),n(238))},function(t,e,n){"use strict";n.r(e),function(t){for(
/**!
 * @fileOverview Kickass library to create and place poppers near their reference elements.
 * @version 1.15.0
 * @license
 * Copyright (c) 2016 Federico Zivolo and contributors
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
var n="undefined"!=typeof window&&"undefined"!=typeof document,i=["Edge","Trident","Firefox"],r=0,o=0;o<i.length;o+=1)if(n&&navigator.userAgent.indexOf(i[o])>=0){r=1;break}var s=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),r))}};function a(t){return t&&"[object Function]"==={}.toString.call(t)}function l(t,e){if(1!==t.nodeType)return[];var n=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?n[e]:n}function u(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function c(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=l(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:c(u(t))}var h=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function p(t){return 11===t?h:10===t?f:h||f}function d(t){if(!t)return document.documentElement;for(var e=p(10)?document.body:null,n=t.offsetParent||null;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===l(n,"position")?d(n):n:t?t.ownerDocument.documentElement:document.documentElement}function A(t){return null!==t.parentNode?A(t.parentNode):t}function g(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,l=o.commonAncestorContainer;if(t!==l&&e!==l||i.contains(r))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&d(s.firstElementChild)!==s?d(l):l;var u=A(t);return u.host?g(u.host,e):g(t,A(e).host)}function m(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=t.nodeName;if("BODY"===n||"HTML"===n){var i=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||i)[e]}return t[e]}function v(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function y(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],p(10)?parseInt(n["offset"+t])+parseInt(i["margin"+("Height"===t?"Top":"Left")])+parseInt(i["margin"+("Height"===t?"Bottom":"Right")]):0)}function _(t){var e=t.body,n=t.documentElement,i=p(10)&&getComputedStyle(n);return{height:y("Height",e,n,i),width:y("Width",e,n,i)}}var b=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},w=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),E=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function C(t){return x({},t,{right:t.left+t.width,bottom:t.top+t.height})}function B(t){var e={};try{if(p(10)){e=t.getBoundingClientRect();var n=m(t,"top"),i=m(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?_(t.ownerDocument):{},s=o.width||t.clientWidth||r.right-r.left,a=o.height||t.clientHeight||r.bottom-r.top,u=t.offsetWidth-s,c=t.offsetHeight-a;if(u||c){var h=l(t);u-=v(h,"x"),c-=v(h,"y"),r.width-=u,r.height-=c}return C(r)}function I(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=p(10),r="HTML"===e.nodeName,o=B(t),s=B(e),a=c(t),u=l(e),h=parseFloat(u.borderTopWidth,10),f=parseFloat(u.borderLeftWidth,10);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var d=C({top:o.top-s.top-h,left:o.left-s.left-f,width:o.width,height:o.height});if(d.marginTop=0,d.marginLeft=0,!i&&r){var A=parseFloat(u.marginTop,10),g=parseFloat(u.marginLeft,10);d.top-=h-A,d.bottom-=h-A,d.left-=f-g,d.right-=f-g,d.marginTop=A,d.marginLeft=g}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(d=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=m(e,"top"),r=m(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(d,e)),d}function S(t){if(!t||!t.parentElement||p())return document.documentElement;for(var e=t.parentElement;e&&"none"===l(e,"transform");)e=e.parentElement;return e||document.documentElement}function O(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?S(t):g(t,e);if("viewport"===i)o=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=I(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:m(n),a=e?0:m(n,"left");return C({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}(s,r);else{var a=void 0;"scrollParent"===i?"BODY"===(a=c(u(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===i?t.ownerDocument.documentElement:i;var h=I(a,s,r);if("HTML"!==a.nodeName||function t(e){var n=e.nodeName;if("BODY"===n||"HTML"===n)return!1;if("fixed"===l(e,"position"))return!0;var i=u(e);return!!i&&t(i)}(s))o=h;else{var f=_(t.ownerDocument),p=f.height,d=f.width;o.top+=h.top-h.marginTop,o.bottom=p+h.top,o.left+=h.left-h.marginLeft,o.right=d+h.left}}var A="number"==typeof(n=n||0);return o.left+=A?n:n.left||0,o.top+=A?n:n.top||0,o.right-=A?n:n.right||0,o.bottom-=A?n:n.bottom||0,o}function M(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=O(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map((function(t){return x({key:t},a[t],{area:(e=a[t],e.width*e.height)});var e})).sort((function(t,e){return e.area-t.area})),u=l.filter((function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,h=t.split("-")[1];return c+(h?"-"+h:"")}function T(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return I(n,i?S(e):g(e,n),i)}function N(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),n=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),i=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function k(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function L(t,e,n){n=n.split("-")[0];var i=N(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return r[s]=e[s]+e[l]/2-i[l]/2,r[a]=n===a?e[a]-i[u]:e[k(a)],r}function F(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function R(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var i=F(t,(function(t){return t[e]===n}));return t.indexOf(i)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&a(n)&&(e.offsets.popper=C(e.offsets.popper),e.offsets.reference=C(e.offsets.reference),e=n(e,t))})),e}function D(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=T(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=M(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=L(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=R(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function P(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function U(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function Q(){return this.state.isDestroyed=!0,P(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[U("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function H(t){var e=t.ownerDocument;return e?e.defaultView:window}function j(t,e,n,i){n.updateBound=i,H(t).addEventListener("resize",n.updateBound,{passive:!0});var r=c(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,s=o?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0}),o||t(c(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function z(){this.state.eventsEnabled||(this.state=j(this.reference,this.options,this.state,this.scheduleUpdate))}function K(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,H(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function G(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function q(t,e){Object.keys(e).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&G(e[n])&&(i="px"),t.style[n]=e[n]+i}))}var W=n&&/Firefox/i.test(navigator.userAgent);function Y(t,e,n){var i=F(t,(function(t){return t.name===e})),r=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!r){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var X=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],V=X.slice(3);function J(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=V.indexOf(t),i=V.slice(n+1).concat(V.slice(0,n));return e?i.reverse():i}var Z={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function $(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map((function(t){return t.trim()})),a=s.indexOf(F(s,(function(t){return-1!==t.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(u=u.map((function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return C(a)[e]/100*o}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,r,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,i){G(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))}))})),r}var tt={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",u=a?"width":"height",c={start:E({},l,o[l]),end:E({},l,o[l]+o[u]-s[u])};t.offsets.popper=x({},s,c[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],l=void 0;return l=G(+n)?[+n,0]:$(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||d(t.instance.popper);t.instance.reference===n&&(n=d(n));var i=U("transform"),r=t.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=O(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=s,r[i]=a,e.boundaries=l;var u=e.priority,c=t.offsets.popper,h={primary:function(t){var n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),E({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),E({},n,i)}};return u.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=x({},c,h[e](t))})),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return n[a]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[u]),n[l]>o(i[a])&&(t.offsets.popper[l]=o(i[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!Y(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,u=-1!==["left","right"].indexOf(r),c=u?"height":"width",h=u?"Top":"Left",f=h.toLowerCase(),p=u?"left":"top",d=u?"bottom":"right",A=N(i)[c];a[d]-A<s[f]&&(t.offsets.popper[f]-=s[f]-(a[d]-A)),a[f]+A>s[d]&&(t.offsets.popper[f]+=a[f]+A-s[d]),t.offsets.popper=C(t.offsets.popper);var g=a[f]+a[c]/2-A/2,m=l(t.instance.popper),v=parseFloat(m["margin"+h],10),y=parseFloat(m["border"+h+"Width"],10),_=g-t.offsets.popper[f]-v-y;return _=Math.max(Math.min(s[c]-A,_),0),t.arrowElement=i,t.offsets.arrow=(E(n={},f,Math.round(_)),E(n,p,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(P(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=O(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=k(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case Z.FLIP:s=[i,r];break;case Z.CLOCKWISE:s=J(i);break;case Z.COUNTERCLOCKWISE:s=J(i,!0);break;default:s=e.behavior}return s.forEach((function(a,l){if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],r=k(i);var u=t.offsets.popper,c=t.offsets.reference,h=Math.floor,f="left"===i&&h(u.right)>h(c.left)||"right"===i&&h(u.left)<h(c.right)||"top"===i&&h(u.bottom)>h(c.top)||"bottom"===i&&h(u.top)<h(c.bottom),p=h(u.left)<h(n.left),d=h(u.right)>h(n.right),A=h(u.top)<h(n.top),g=h(u.bottom)>h(n.bottom),m="left"===i&&p||"right"===i&&d||"top"===i&&A||"bottom"===i&&g,v=-1!==["top","bottom"].indexOf(i),y=!!e.flipVariations&&(v&&"start"===o&&p||v&&"end"===o&&d||!v&&"start"===o&&A||!v&&"end"===o&&g),_=!!e.flipVariationsByContent&&(v&&"start"===o&&d||v&&"end"===o&&p||!v&&"start"===o&&g||!v&&"end"===o&&A),b=y||_;(f||m||b)&&(t.flipped=!0,(f||m)&&(i=s[l+1]),b&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=x({},t.offsets.popper,L(t.instance.popper,t.offsets.reference,t.placement)),t=R(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=k(e),t.offsets.popper=C(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!Y(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=F(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=F(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=d(t.instance.popper),l=B(a),u={position:r.position},c=function(t,e){var n=t.offsets,i=n.popper,r=n.reference,o=Math.round,s=Math.floor,a=function(t){return t},l=o(r.width),u=o(i.width),c=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),f=e?c||h||l%2==u%2?o:s:a,p=e?o:a;return{left:f(l%2==1&&u%2==1&&!h&&e?i.left-1:i.left),top:p(i.top),bottom:p(i.bottom),right:f(i.right)}}(t,window.devicePixelRatio<2||!W),h="bottom"===n?"top":"bottom",f="right"===i?"left":"right",p=U("transform"),A=void 0,g=void 0;if(g="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+c.bottom:-l.height+c.bottom:c.top,A="right"===f?"HTML"===a.nodeName?-a.clientWidth+c.right:-l.width+c.right:c.left,s&&p)u[p]="translate3d("+A+"px, "+g+"px, 0)",u[h]=0,u[f]=0,u.willChange="transform";else{var m="bottom"===h?-1:1,v="right"===f?-1:1;u[h]=g*m,u[f]=A*v,u.willChange=h+", "+f}var y={"x-placement":t.placement};return t.attributes=x({},y,t.attributes),t.styles=x({},u,t.styles),t.arrowStyles=x({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return q(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&q(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=T(r,e,t,n.positionFixed),s=M(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),q(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},et=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=s(this.update.bind(this)),this.options=x({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(x({},t.Defaults.modifiers,r.modifiers)).forEach((function(e){i.options.modifiers[e]=x({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return x({name:t},i.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&a(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return w(t,[{key:"update",value:function(){return D.call(this)}},{key:"destroy",value:function(){return Q.call(this)}},{key:"enableEventListeners",value:function(){return z.call(this)}},{key:"disableEventListeners",value:function(){return K.call(this)}}]),t}();et.Utils=("undefined"!=typeof window?window:t).PopperUtils,et.placements=X,et.Defaults=tt,e.default=et}.call(this,n(57))},function(t,e,n){},function(t,e,n){},function(t,e,n){"use strict";var i=n(4),r=n(70),o=n(85),s=n(18),a=n(116),l=function(t){s.a.call(this),this._listener=[],t&&!1===t.active?this.set("active",!1):this.set("active",!0)};Object(i.d)(l,s.a),l.prototype.setActive=function(t){this.set("active",!0===t)},l.prototype.getActive=function(){return this.get("active")},function(){function t(t){this.get("active")&&this.precompose(t)}function e(t){this.get("active")&&this.postcompose(t)}function n(){this.renderSync?this.renderSync():this.changed()}function i(i){this.filters_||(this.filters_=[]),this.filters_.push(i),i.precompose&&i._listener.push({listener:this.on("precompose",t.bind(i)),target:this}),i.postcompose&&i._listener.push({listener:this.on("postcompose",e.bind(i)),target:this}),i._listener.push({listener:i.on("propertychange",n.bind(this)),target:this}),n.call(this)}function s(t){var e;for(this.filters_||(this.filters_=[]),e=this.filters_.length-1;e>=0;e--)this.filters_[e]===t&&this.filters_.splice(e,1);for(e=t._listener.length-1;e>=0;e--)t._listener[e].target===this&&(Object(r.b)(t._listener[e].listener),t._listener.splice(e,1));n.call(this)}a.a.prototype.addFilter=function(t){i.call(this,t)},a.a.prototype.removeFilter=function(t){s.call(this,t)},a.a.prototype.getFilters=function(){return this.filters_},o.a.prototype.addFilter=function(t){i.call(this,t)},o.a.prototype.removeFilter=function(t){s.call(this,t)},o.a.prototype.getFilters=function(){return this.filters_}}();var u=l,c=n(31),h=function(t){if(t=t||{},u.call(this,t),t.feature)switch(t.feature.getGeometry().getType()){case"Polygon":case"MultiPolygon":this.feature_=t.feature}this.set("inner",t.inner),this.fillColor_=t.fill&&Object(c.b)(t.fill.getColor())||"rgba(0,0,0,0.2)"};Object(i.d)(h,u),h.prototype.drawFeaturePath_=function(t,e){var n=t.context,i=n.canvas,r=t.frameState.pixelRatio,o=t.frameState.coordinateToPixelTransform,s=function(t){return[(t[0]*o[0]+t[1]*o[1]+o[4])*r,(t[0]*o[2]+t[1]*o[3]+o[5])*r]};o||(o=t.frameState.coordinateToPixelMatrix,s=function(t){return[(t[0]*o[0]+t[1]*o[1]+o[12])*r,(t[0]*o[4]+t[1]*o[5]+o[13])*r]});var a=this.feature_.getGeometry().getCoordinates();"Polygon"==this.feature_.getGeometry().getType()&&(a=[a]),n.beginPath(),e&&(n.moveTo(0,0),n.lineTo(i.width,0),n.lineTo(i.width,i.height),n.lineTo(0,i.height),n.lineTo(0,0));for(var l=0;l<a.length;l++)for(var u=a[l],c=0;c<u.length;c++){var h=s(u[c][0]);n.moveTo(h[0],h[1]);for(var f=1;f<u[c].length;f++)h=s(u[c][f]),n.lineTo(h[0],h[1])}},h.prototype.postcompose=function(t){if(this.feature_){var e=t.context;e.save(),this.drawFeaturePath_(t,!this.get("inner")),e.fillStyle=this.fillColor_,e.fill("evenodd"),e.restore()}};var f=h,p=function(t){t=t||{},f.call(this,t)};Object(i.d)(p,f),p.prototype.precompose=function(t){if(this.feature_){var e=t.context;e.save(),this.drawFeaturePath_(t,this.get("inner")),e.clip("evenodd")}},p.prototype.postcompose=function(t){this.feature_&&t.context.restore()}},function(t,e,n){"use strict";var i=n(4),r=n(105),o={create:function(t,e){var n;if(e=e||{},"TEXT"===t)n=document.createTextNode(e.html||""),e.parent&&e.parent.appendChild(n);else for(var i in n=document.createElement(t),/button/i.test(t)&&n.setAttribute("type","button"),e)switch(i){case"className":e.className&&e.className.trim&&n.setAttribute("class",e.className.trim());break;case"html":e.html instanceof Element?n.appendChild(e.html):void 0!==e.html&&(n.innerHTML=e.html);break;case"parent":e.parent.appendChild(n);break;case"style":this.setStyle(n,e.style);break;case"click":o.addListener(n,i,e[i]);break;case"on":for(var r in e.on)o.addListener(n,r,e.on[r]);break;case"checked":n.checked=!!e.checked;break;default:n.setAttribute(i,e[i])}return n},setHTML:function(t,e){e instanceof Element?t.appendChild(e):void 0!==e&&(t.innerHTML=e)},addListener:function(t,e,n){"string"==typeof e&&(e=e.split(" ")),e.forEach((function(e){t.addEventListener(e,n)}))},removeListener:function(t,e,n){"string"==typeof e&&(e=e.split(" ")),e.forEach((function(e){t.removeEventListener(e,n)}))},show:function(t){t.style.display=""},hide:function(t){t.style.display="none"},hidden:function(t){return"none"===o.getStyle(t,"display")},toggle:function(t){t.style.display="none"===t.style.display?"":"none"},setStyle:function(t,e){for(var n in e)switch(n){case"top":case"left":case"bottom":case"right":case"minWidth":case"maxWidth":case"width":case"height":"number"==typeof e[n]?t.style[n]=e[n]+"px":t.style[n]=e[n];break;default:t.style[n]=e[n]}},getStyle:function(t,e){var n,i=(t.ownerDocument||document).defaultView;if(i&&i.getComputedStyle)e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),n=i.getComputedStyle(t,null).getPropertyValue(e);else if(t.currentStyle&&(e=e.replace(/-(\w)/g,(function(t,e){return e.toUpperCase()})),n=t.currentStyle[e],/^\d+(em|pt|%|ex)?$/i.test(n)))return function(e){var n=t.style.left,i=t.runtimeStyle.left;return t.runtimeStyle.left=t.currentStyle.left,t.style.left=e||0,e=t.style.pixelLeft+"px",t.style.left=n,t.runtimeStyle.left=i,e}(n);return/px$/.test(n)?parseInt(n):n},outerHeight:function(t){return t.offsetHeight+o.getStyle(t,"marginBottom")},outerWidth:function(t){return t.offsetWidth+o.getStyle(t,"marginLeft")},offsetRect:function(t){var e=t.getBoundingClientRect();return{top:e.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:e.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),height:e.height||e.bottom-e.top,width:e.widtth||e.right-e.left}},scrollDiv:function(t,e){var n,i=!1,r=0,s=0,a="function"==typeof e.onmove?e.onmove:function(){},l=e.vertical?"pageY":"pageX",u=e.vertical?"scrollTop":"scrollLeft";t.querySelectorAll("img").forEach((function(t){t.ondragstart=function(){return!1}})),o.addListener(t,["mousedown"],(function(e){i=e[l],s=new Date,t.classList.add("ol-move")})),o.addListener(window,["mousemove"],(function(e){if(!1!==i){var o=i-e[l];t[u]+=o,(n=new Date)-s&&(r=(r+o/(n-s))/2),i=e[l],s=n,o&&a(!0)}else a(!1)})),o.addListener(window,["mouseup"],(function(e){t.classList.remove("ol-move"),(s=new Date-s)>100?r=0:s>0&&(r=((r||0)+(i-e[l])/s)/2),t[u]+=100*r,i=!1,r=0,s=0})),e.mousewheel&&!t.classList.contains("ol-touch")&&o.addListener(t,["mousewheel","DOMMouseScroll","onmousewheel"],(function(e){var n=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));return t.classList.add("ol-move"),t[u]-=30*n,!1}))}},s=o,a=function(t){var e=this;"number"==typeof(t=t||{}).offsetBox?this.offsetBox=[t.offsetBox,t.offsetBox,t.offsetBox,t.offsetBox]:this.offsetBox=t.offsetBox;var n=document.createElement("div");t.element=n;var i=document.createElement("div");i.classList.add("anchor"),n.appendChild(i),this.content=s.create("div",{html:t.html||"",className:"content",parent:n}),this.closeBox=t.closeBox,this.onclose=t.onclose,this.onshow=t.onshow;var o=document.createElement("button");o.classList.add("closeBox"),t.closeBox&&o.classList.add("hasclosebox"),o.setAttribute("type","button"),n.insertBefore(o,i),o.addEventListener("click",(function(){e.hide()})),t.stopEvent&&(n.addEventListener("mousedown",(function(t){t.stopPropagation()})),n.addEventListener("touchstart",(function(t){t.stopPropagation()}))),r.a.call(this,t),this._elt=this.element,this.setPositioning(t.positioning||"auto"),this.setPopupClass(t.popupClass||t.className||"default"),t.position&&setTimeout(function(){this.show(t.position)}.bind(this))};Object(i.d)(a,r.a),a.prototype.getClassPositioning=function(){var t="",e=this.getPositioning();return/bottom/.test(e)&&(t+="ol-popup-bottom "),/top/.test(e)&&(t+="ol-popup-top "),/left/.test(e)&&(t+="ol-popup-left "),/right/.test(e)&&(t+="ol-popup-right "),/^center/.test(e)&&(t+="ol-popup-middle "),/center$/.test(e)&&(t+="ol-popup-center "),t},a.prototype.setClosebox=function(t){this.closeBox=t,t?this._elt.classList.add("hasclosebox"):this._elt.classList.remove("hasclosebox")},a.prototype.setPopupClass=function(t){this._elt.className="";var e=this.getClassPositioning().split(" ").filter((function(t){return t.length>0})),n=["ol-popup"];t?t.split(" ").filter((function(t){return t.length>0})).forEach((function(t){n.push(t)})):n.push("default"),e.forEach((function(t){n.push(t)})),this.closeBox&&n.push("hasclosebox"),this._elt.classList.add.apply(this._elt.classList,n)},a.prototype.addPopupClass=function(t){this._elt.classList.add(t)},a.prototype.removePopupClass=function(t){this._elt.classList.remove(t)},a.prototype.setPositioning=function(t){void 0!==t&&(/auto/.test(t)?(this.autoPositioning=t.split("-"),1==this.autoPositioning.length&&(this.autoPositioning[1]="auto")):this.autoPositioning=!1,"center"==(t=t.replace(/auto/g,"center"))&&(t="bottom-center"),this.setPositioning_(t))},a.prototype.setPositioning_=function(t){if(this._elt){r.a.prototype.setPositioning.call(this,t),this._elt.classList.remove("ol-popup-top","ol-popup-bottom","ol-popup-left","ol-popup-right","ol-popup-center","ol-popup-middle");var e=this.getClassPositioning().split(" ").filter((function(t){return t.length>0}));this._elt.classList.add.apply(this._elt.classList,e)}},a.prototype.getVisible=function(){return this._elt.classList.contains("visible")},a.prototype.show=function(t,e){e||"string"!=typeof t||(e=t,t=null),!0===t&&(t=this.getPosition());var n=this,i=this.getMap();if(i&&(e&&e!==this.prevHTML&&(this.prevHTML=e,this.content.innerHTML="",e instanceof Element?this.content.appendChild(e):this.content.insertAdjacentHTML("beforeend",e),Array.prototype.slice.call(this.content.querySelectorAll("img")).forEach((function(t){t.addEventListener("load",(function(){i.renderSync()}))}))),t)){if(this.autoPositioning){var r=i.getPixelFromCoordinate(t),o=i.getSize(),s=[];"auto"==this.autoPositioning[0]?s[0]=r[1]<o[1]/3?"top":"bottom":s[0]=this.autoPositioning[0],s[1]=r[0]<2*o[0]/3?"left":"right",this.setPositioning_(s[0]+"-"+s[1]),this.offsetBox&&this.setOffset([this.offsetBox["left"==s[1]?2:0],this.offsetBox["top"==s[0]?3:1]])}else this.offsetBox&&this.setOffset(this.offsetBox);this.setPosition(t),this._elt.parentElement.style.display="","function"==typeof this.onshow&&this.onshow(),this._tout=setTimeout((function(){n._elt.classList.add("visible")}),0)}},a.prototype.hide=function(){null!=this.getPosition()&&("function"==typeof this.onclose&&this.onclose(),this.setPosition(void 0),this._tout&&clearTimeout(this._tout),this._elt.classList.remove("visible"))}},function(t,e,n){"use strict";var i=n(32),r=n(125),o=function(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new i.a({color:"#333"}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:r.a.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding};o.prototype.clone=function(){return new o({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},o.prototype.getOverflow=function(){return this.overflow_},o.prototype.getFont=function(){return this.font_},o.prototype.getMaxAngle=function(){return this.maxAngle_},o.prototype.getPlacement=function(){return this.placement_},o.prototype.getOffsetX=function(){return this.offsetX_},o.prototype.getOffsetY=function(){return this.offsetY_},o.prototype.getFill=function(){return this.fill_},o.prototype.getRotateWithView=function(){return this.rotateWithView_},o.prototype.getRotation=function(){return this.rotation_},o.prototype.getScale=function(){return this.scale_},o.prototype.getStroke=function(){return this.stroke_},o.prototype.getText=function(){return this.text_},o.prototype.getTextAlign=function(){return this.textAlign_},o.prototype.getTextBaseline=function(){return this.textBaseline_},o.prototype.getBackgroundFill=function(){return this.backgroundFill_},o.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},o.prototype.getPadding=function(){return this.padding_},o.prototype.setOverflow=function(t){this.overflow_=t},o.prototype.setFont=function(t){this.font_=t},o.prototype.setMaxAngle=function(t){this.maxAngle_=t},o.prototype.setOffsetX=function(t){this.offsetX_=t},o.prototype.setOffsetY=function(t){this.offsetY_=t},o.prototype.setPlacement=function(t){this.placement_=t},o.prototype.setFill=function(t){this.fill_=t},o.prototype.setRotation=function(t){this.rotation_=t},o.prototype.setScale=function(t){this.scale_=t},o.prototype.setStroke=function(t){this.stroke_=t},o.prototype.setText=function(t){this.text_=t},o.prototype.setTextAlign=function(t){this.textAlign_=t},o.prototype.setTextBaseline=function(t){this.textBaseline_=t},o.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},o.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},o.prototype.setPadding=function(t){this.padding_=t},e.a=o},function(t,e,n){"use strict";var i=n(144),r='&#169; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.',o=function(t){function e(e){var n,i=e||{};n=void 0!==i.attributions?i.attributions:[r];var o=void 0!==i.crossOrigin?i.crossOrigin:"anonymous",s=void 0!==i.url?i.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";t.call(this,{attributions:n,cacheSize:i.cacheSize,crossOrigin:o,opaque:void 0===i.opaque||i.opaque,maxZoom:void 0!==i.maxZoom?i.maxZoom:19,reprojectionErrorThreshold:i.reprojectionErrorThreshold,tileLoadFunction:i.tileLoadFunction,url:s,wrapX:i.wrapX,attributionsCollapsible:!1})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.a);e.a=o},function(t,e,n){"use strict";var i,r=n(36),o=n(28),s=n(17),a=n(3),l=n(8),u=function(){if(!i){var t=document.body;t.webkitRequestFullscreen?i="webkitfullscreenchange":t.mozRequestFullScreen?i="mozfullscreenchange":t.msRequestFullscreen?i="MSFullscreenChange":t.requestFullscreen&&(i="fullscreenchange")}return i},c=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target}),this.cssClassName_=void 0!==n.className?n.className:"ol-full-screen";var i=void 0!==n.label?n.label:"⤢";this.labelNode_="string"==typeof i?document.createTextNode(i):i;var r=void 0!==n.labelActive?n.labelActive:"×";this.labelActiveNode_="string"==typeof r?document.createTextNode(r):r,this.button_=document.createElement("button");var s=n.tipLabel?n.tipLabel:"Toggle full-screen";this.setClassName_(this.button_,f()),this.button_.setAttribute("type","button"),this.button_.title=s,this.button_.appendChild(this.labelNode_),Object(a.a)(this.button_,l.a.CLICK,this.handleClick_,this);var u=this.cssClassName_+" "+o.e+" "+o.b+" "+(h()?"":o.f),c=this.element;c.className=u,c.appendChild(this.button_),this.keys_=void 0!==n.keys&&n.keys,this.source_=n.source}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(h()){var t,e=this.getMap();if(e)if(f())document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else t=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:e.getTargetElement(),this.keys_?function(t){t.mozRequestFullScreenWithKeys?t.mozRequestFullScreenWithKeys():t.webkitRequestFullscreen?t.webkitRequestFullscreen():p(t)}(t):p(t)}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();f()?(this.setClassName_(this.button_,!0),Object(s.f)(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),Object(s.f)(this.labelNode_,this.labelActiveNode_)),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var n=this.cssClassName_+"-true",i=this.cssClassName_+"-false",r=e?n:i;t.classList.remove(n),t.classList.remove(i),t.classList.add(r)},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&this.listenerKeys.push(Object(a.a)(document,u(),this.handleFullScreenChange_,this))},e}(r.a);function h(){var t=document.body;return!!(t.webkitRequestFullscreen||t.mozRequestFullScreen&&document.mozFullScreenEnabled||t.msRequestFullscreen&&document.msFullscreenEnabled||t.requestFullscreen&&document.fullscreenEnabled)}function f(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function p(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()}e.a=c}]);